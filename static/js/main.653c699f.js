/*! For license information please see main.653c699f.js.LICENSE.txt */
!function(){var e={53575:function(e,t,n){"use strict";n.r(t),n.d(t,{ResizeObserver:function(){return V},ResizeObserverEntry:function(){return _},ResizeObserverSize:function(){return u}});var r,i=[],a="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(r||(r={}));var o,s=function(e){return Object.freeze(e)},u=function(e,t){this.inlineSize=e,this.blockSize=t,s(this)},c=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,s(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),l=function(e){return e instanceof SVGElement&&"getBBox"in e},f=function(e){if(l(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,a=i.offsetWidth,o=i.offsetHeight;return!(a||o||e.getClientRects().length)},d=function(e){var t,n;if(e instanceof Element)return!0;var r=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},p="undefined"!==typeof window?window:{},h=new WeakMap,v=/auto|scroll/,m=/^tb|vertical/,g=/msie|trident/i.test(p.navigator&&p.navigator.userAgent),y=function(e){return parseFloat(e||"0")},b=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new u((n?t:e)||0,(n?e:t)||0)},x=s({devicePixelContentBoxSize:b(),borderBoxSize:b(),contentBoxSize:b(),contentRect:new c(0,0,0,0)}),k=function(e,t){if(void 0===t&&(t=!1),h.has(e)&&!t)return h.get(e);if(f(e))return h.set(e,x),x;var n=getComputedStyle(e),r=l(e)&&e.ownerSVGElement&&e.getBBox(),i=!g&&"border-box"===n.boxSizing,a=m.test(n.writingMode||""),o=!r&&v.test(n.overflowY||""),u=!r&&v.test(n.overflowX||""),d=r?0:y(n.paddingTop),p=r?0:y(n.paddingRight),k=r?0:y(n.paddingBottom),w=r?0:y(n.paddingLeft),_=r?0:y(n.borderTopWidth),S=r?0:y(n.borderRightWidth),T=r?0:y(n.borderBottomWidth),E=w+p,C=d+k,O=(r?0:y(n.borderLeftWidth))+S,A=_+T,I=u?e.offsetHeight-A-e.clientHeight:0,R=o?e.offsetWidth-O-e.clientWidth:0,N=i?E+O:0,P=i?C+A:0,M=r?r.width:y(n.width)-N-R,D=r?r.height:y(n.height)-P-I,L=M+E+R+O,j=D+C+I+A,F=s({devicePixelContentBoxSize:b(Math.round(M*devicePixelRatio),Math.round(D*devicePixelRatio),a),borderBoxSize:b(L,j,a),contentBoxSize:b(M,D,a),contentRect:new c(w,d,M,D)});return h.set(e,F),F},w=function(e,t,n){var i=k(e,n),a=i.borderBoxSize,o=i.contentBoxSize,s=i.devicePixelContentBoxSize;switch(t){case r.DEVICE_PIXEL_CONTENT_BOX:return s;case r.BORDER_BOX:return a;default:return o}},_=function(e){var t=k(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=s([t.borderBoxSize]),this.contentBoxSize=s([t.contentBoxSize]),this.devicePixelContentBoxSize=s([t.devicePixelContentBoxSize])},S=function(e){if(f(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},T=function(){var e=1/0,t=[];i.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new _(t.target),i=S(t.target);r.push(n),t.lastReportedSize=w(t.target,t.observedBox),i<e&&(e=i)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++){(0,r[n])()}return e},E=function(e){i.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(S(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},C=function(){var e=0;for(E(e);i.some((function(e){return e.activeTargets.length>0}));)e=T(),E(e);return i.some((function(e){return e.skippedTargets.length>0}))&&function(){var e;"function"===typeof ErrorEvent?e=new ErrorEvent("error",{message:a}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=a),window.dispatchEvent(e)}(),e>0},O=[],A=function(e){if(!o){var t=0,n=document.createTextNode("");new MutationObserver((function(){return O.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),o=function(){n.textContent=""+(t?t--:t++)}}O.push(e),o()},I=0,R={attributes:!0,characterData:!0,childList:!0,subtree:!0},N=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],P=function(e){return void 0===e&&(e=0),Date.now()+e},M=!1,D=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!M){M=!0;var n,r=P(e);n=function(){var n=!1;try{n=C()}finally{if(M=!1,e=r-P(),!I)return;n?t.run(1e3):e>0?t.run(e):t.start()}},A((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,R)};document.body?t():p.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),N.forEach((function(t){return p.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),N.forEach((function(t){return p.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),L=function(e){!I&&e>0&&D.start(),!(I+=e)&&D.stop()},j=function(){function e(e,t){this.target=e,this.observedBox=t||r.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=w(this.target,this.observedBox,!0);return e=this.target,l(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),F=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},Z=new WeakMap,B=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},U=function(){function e(){}return e.connect=function(e,t){var n=new F(e,t);Z.set(e,n)},e.observe=function(e,t,n){var r=Z.get(e),a=0===r.observationTargets.length;B(r.observationTargets,t)<0&&(a&&i.push(r),r.observationTargets.push(new j(t,n&&n.box)),L(1),D.schedule())},e.unobserve=function(e,t){var n=Z.get(e),r=B(n.observationTargets,t),a=1===n.observationTargets.length;r>=0&&(a&&i.splice(i.indexOf(n),1),n.observationTargets.splice(r,1),L(-1))},e.disconnect=function(e){var t=this,n=Z.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),V=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!==typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");U.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!d(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");U.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!d(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");U.unobserve(this,e)},e.prototype.disconnect=function(){U.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}()},16608:function(e,t,n){"use strict";var r=n(87462),i=n(45987),a=n(72791),o=n(28182),s=n(38317),u=n(91122),c=a.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,l=e.color,f=void 0===l?"inherit":l,d=e.component,p=void 0===d?"svg":d,h=e.fontSize,v=void 0===h?"medium":h,m=e.htmlColor,g=e.titleAccess,y=e.viewBox,b=void 0===y?"0 0 24 24":y,x=(0,i.Z)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return a.createElement(p,(0,r.Z)({className:(0,o.Z)(s.root,c,"inherit"!==f&&s["color".concat((0,u.Z)(f))],"default"!==v&&"medium"!==v&&s["fontSize".concat((0,u.Z)(v))]),focusable:"false",viewBox:b,color:m,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},x),n,g?a.createElement("title",null,g):null)}));c.muiName="SvgIcon",t.Z=(0,s.Z)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(c)},13108:function(e,t,n){"use strict";n.d(t,{$n:function(){return d},Fq:function(){return l},_4:function(){return c},_j:function(){return f},mi:function(){return s}});var r=n(37483);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,r.Z)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function o(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function s(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function u(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*u(0)),Math.round(255*u(8)),Math.round(255*u(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return u(e)>.5?f(e,t):d(e,t)}function l(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function d(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return o(e)}},47121:function(e,t,n){"use strict";n.d(t,{X:function(){return a},Z:function(){return o}});var r=n(87462),i=n(45987),a=["xs","sm","md","lg","xl"];function o(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,o=e.unit,s=void 0===o?"px":o,u=e.step,c=void 0===u?5:u,l=(0,i.Z)(e,["values","unit","step"]);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function d(e,t){var r=a.indexOf(t);return r===a.length-1?f(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[a[r+1]]?n[a[r+1]]:t)-c/100).concat(s,")")}return(0,r.Z)({keys:a,values:n,up:f,down:function(e){var t=a.indexOf(e)+1,r=n[a[t]];return t===a.length?f("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-c/100).concat(s,")")},between:d,only:function(e){return d(e,e)},width:function(e){return n[e]}},l)}},73691:function(e,t,n){"use strict";n.d(t,{Z:function(){return K}});var r=n(45987),i=n(81534),a=n(47121),o=n(4942),s=n(87462);function u(e,t,n){var r;return(0,s.Z)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,s.Z)({paddingLeft:t(2),paddingRight:t(2)},n,(0,o.Z)({},e.up("sm"),(0,s.Z)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},(0,o.Z)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,o.Z)(r,e.up("sm"),{minHeight:64}),r)},n)}var c=n(37483),l={black:"#000",white:"#fff"},f={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},d={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},p={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},h={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},g={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},y=n(13108),b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:l.white,default:f[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},x={text:{primary:l.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:f[800],default:"#303030"},action:{active:l.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function k(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,y.$n)(e.main,i):"dark"===t&&(e.dark=(0,y._j)(e.main,a)))}function w(e){var t=e.primary,n=void 0===t?{light:d[300],main:d[500],dark:d[700]}:t,a=e.secondary,o=void 0===a?{light:p.A200,main:p.A400,dark:p.A700}:a,u=e.error,w=void 0===u?{light:h[300],main:h[500],dark:h[700]}:u,_=e.warning,S=void 0===_?{light:v[300],main:v[500],dark:v[700]}:_,T=e.info,E=void 0===T?{light:m[300],main:m[500],dark:m[700]}:T,C=e.success,O=void 0===C?{light:g[300],main:g[500],dark:g[700]}:C,A=e.type,I=void 0===A?"light":A,R=e.contrastThreshold,N=void 0===R?3:R,P=e.tonalOffset,M=void 0===P?.2:P,D=(0,r.Z)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function L(e){return(0,y.mi)(e,x.text.primary)>=N?x.text.primary:b.text.primary}var j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,s.Z)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,c.Z)(4,t));if("string"!==typeof e.main)throw new Error((0,c.Z)(5,JSON.stringify(e.main)));return k(e,"light",n,M),k(e,"dark",r,M),e.contrastText||(e.contrastText=L(e.main)),e},F={dark:x,light:b};return(0,i.Z)((0,s.Z)({common:l,type:I,primary:j(n),secondary:j(o,"A400","A200","A700"),error:j(w),warning:j(S),info:j(E),success:j(O),grey:f,contrastThreshold:N,getContrastText:L,augmentColor:j,tonalOffset:M},F[I]),D)}function _(e){return Math.round(1e5*e)/1e5}function S(e){return _(e)}var T={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function C(e,t){var n="function"===typeof t?t(e):t,a=n.fontFamily,o=void 0===a?E:a,u=n.fontSize,c=void 0===u?14:u,l=n.fontWeightLight,f=void 0===l?300:l,d=n.fontWeightRegular,p=void 0===d?400:d,h=n.fontWeightMedium,v=void 0===h?500:h,m=n.fontWeightBold,g=void 0===m?700:m,y=n.htmlFontSize,b=void 0===y?16:y,x=n.allVariants,k=n.pxToRem,w=(0,r.Z)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var C=c/14,O=k||function(e){return"".concat(e/b*C,"rem")},A=function(e,t,n,r,i){return(0,s.Z)({fontFamily:o,fontWeight:e,fontSize:O(t),lineHeight:n},o===E?{letterSpacing:"".concat(_(r/t),"em")}:{},i,x)},I={h1:A(f,96,1.167,-1.5),h2:A(f,60,1.2,-.5),h3:A(p,48,1.167,0),h4:A(p,34,1.235,.25),h5:A(p,24,1.334,0),h6:A(v,20,1.6,.15),subtitle1:A(p,16,1.75,.15),subtitle2:A(v,14,1.57,.1),body1:A(p,16,1.5,.15),body2:A(p,14,1.43,.15),button:A(v,14,1.75,.4,T),caption:A(p,12,1.66,.4),overline:A(p,12,2.66,1,T)};return(0,i.Z)((0,s.Z)({htmlFontSize:b,pxToRem:O,round:S,fontFamily:o,fontSize:c,fontWeightLight:f,fontWeightRegular:p,fontWeightMedium:v,fontWeightBold:g},I),w,{clone:!1})}function O(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var A=["none",O(0,2,1,-1,0,1,1,0,0,1,3,0),O(0,3,1,-2,0,2,2,0,0,1,5,0),O(0,3,3,-2,0,3,4,0,0,1,8,0),O(0,2,4,-1,0,4,5,0,0,1,10,0),O(0,3,5,-1,0,5,8,0,0,1,14,0),O(0,3,5,-1,0,6,10,0,0,1,18,0),O(0,4,5,-2,0,7,10,1,0,2,16,1),O(0,5,5,-3,0,8,10,1,0,3,14,2),O(0,5,6,-3,0,9,12,1,0,3,16,2),O(0,6,6,-3,0,10,14,1,0,4,18,3),O(0,6,7,-4,0,11,15,1,0,4,20,3),O(0,7,8,-4,0,12,17,2,0,5,22,4),O(0,7,8,-4,0,13,19,2,0,5,24,4),O(0,7,9,-4,0,14,21,2,0,5,26,4),O(0,8,9,-5,0,15,22,2,0,6,28,5),O(0,8,10,-5,0,16,24,2,0,6,30,5),O(0,8,11,-5,0,17,26,2,0,6,32,5),O(0,9,11,-5,0,18,28,2,0,7,34,6),O(0,9,12,-6,0,19,29,2,0,7,36,6),O(0,10,13,-6,0,20,31,3,0,8,38,7),O(0,10,13,-6,0,21,33,3,0,8,40,7),O(0,10,14,-6,0,22,35,3,0,8,42,7),O(0,11,14,-7,0,23,36,3,0,9,44,8),O(0,11,15,-7,0,24,38,3,0,9,46,8)],I={borderRadius:4},R=n(29439),N=n(71002),P={xs:0,sm:600,md:960,lg:1280,xl:1920},M={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(P[e],"px)")}};var D=function(e,t){return t?(0,i.Z)(e,t,{clone:!1}):e};var L={m:"margin",p:"padding"},j={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},F={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Z=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!F[e])return[e];e=F[e]}var t=e.split(""),n=(0,R.Z)(t,2),r=n[0],i=n[1],a=L[r],o=j[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),B=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function U(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function V(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function z(e){var t=U(e.theme);return Object.keys(e).map((function(n){if(-1===B.indexOf(n))return null;var r=V(Z(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||M;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===(0,N.Z)(t)){var i=e.theme.breakpoints||M;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(D,{})}z.propTypes={},z.filterProps=B;function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=U({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var H=n(10812),G=n(19535);function q(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.mixins,s=void 0===o?{}:o,c=e.palette,l=void 0===c?{}:c,f=e.spacing,d=e.typography,p=void 0===d?{}:d,h=(0,r.Z)(e,["breakpoints","mixins","palette","spacing","typography"]),v=w(l),m=(0,a.Z)(n),g=W(f),y=(0,i.Z)({breakpoints:m,direction:"ltr",mixins:u(m,g,s),overrides:{},palette:v,props:{},shadows:A,typography:C(v,p),spacing:g,shape:I,transitions:H.ZP,zIndex:G.Z},h),b=arguments.length,x=new Array(b>1?b-1:0),k=1;k<b;k++)x[k-1]=arguments[k];return y=x.reduce((function(e,t){return(0,i.Z)(e,t)}),y)}var K=q},40663:function(e,t,n){"use strict";var r=(0,n(73691).Z)();t.Z=r},10812:function(e,t,n){"use strict";n.d(t,{x9:function(){return a}});var r=n(45987),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function o(e){return"".concat(Math.round(e),"ms")}t.ZP={easing:i,duration:a,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,s=void 0===n?a.standard:n,u=t.easing,c=void 0===u?i.easeInOut:u,l=t.delay,f=void 0===l?0:l;(0,r.Z)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:o(s)," ").concat(c," ").concat("string"===typeof f?f:o(f))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},38317:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(87462),i=n(45987),a=n(72791),o=n(62110),s=n.n(o),u=n(63401),c=n(70794),l=n(78444),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=t.defaultTheme,f=t.withTheme,d=void 0!==f&&f,p=t.name,h=(0,i.Z)(t,["defaultTheme","withTheme","name"]);var v=p,m=(0,u.Z)(e,(0,r.Z)({defaultTheme:o,Component:n,name:p||n.displayName,classNamePrefix:v},h)),g=a.forwardRef((function(e,t){e.classes;var s,u=e.innerRef,f=(0,i.Z)(e,["classes","innerRef"]),h=m((0,r.Z)({},n.defaultProps,e)),v=f;return("string"===typeof p||d)&&(s=(0,l.Z)()||o,p&&(v=(0,c.Z)({theme:s,name:p,props:f})),d&&!v.theme&&(v.theme=s)),a.createElement(n,(0,r.Z)({ref:u||t,classes:h},v))}));return s()(g,n),g}},d=n(40663);var p=function(e,t){return f(e,(0,r.Z)({defaultTheme:d.Z},t))}},19535:function(e,t){"use strict";t.Z={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},91122:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(37483);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},37545:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,{Z:function(){return r}})},94327:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(87462),i=n(72791),a=n(16608);function o(e,t){var n=function(t,n){return i.createElement(a.Z,(0,r.Z)({ref:n},t),e)};return n.muiName=a.Z.muiName,i.memo(i.forwardRef(n))}},50503:function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this,s=function(){e.apply(o,i)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{Z:function(){return r}})},87156:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return i.Z},createSvgIcon:function(){return a.Z},debounce:function(){return o.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return u.Z},ownerDocument:function(){return c.Z},ownerWindow:function(){return l.Z},requirePropFactory:function(){return f},setRef:function(){return d.Z},unstable_useId:function(){return g.Z},unsupportedProp:function(){return p},useControlled:function(){return h.Z},useEventCallback:function(){return v.Z},useForkRef:function(){return m.Z},useIsFocusVisible:function(){return y.Z}});var r=n(91122),i=n(37545),a=n(94327),o=n(50503);function s(e,t){return function(){return null}}var u=n(43375),c=n(54667),l=n(37636);function f(e){return function(){return null}}var d=n(21565);function p(e,t,n,r,i){return null}var h=n(92497),v=n(72216),m=n(69806),g=n(22939),y=n(81175)},43375:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(72791);function i(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},54667:function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return r}})},37636:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(54667);function i(e){return(0,r.Z)(e).defaultView||window}},21565:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},22939:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(72791);function i(e){var t=r.useState(e),n=t[0],i=t[1],a=e||n;return r.useEffect((function(){null==n&&i("mui-".concat(Math.round(1e5*Math.random())))}),[n]),a}},92497:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(72791);function i(e){var t=e.controlled,n=e.default,i=(e.name,e.state,r.useRef(void 0!==t).current),a=r.useState(n),o=a[0],s=a[1];return[i?t:o,r.useCallback((function(e){i||s(e)}),[])]}},72216:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function a(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},69806:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72791),i=n(21565);function a(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,i.Z)(e,n),(0,i.Z)(t,n)}}),[e,t])}},81175:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(72791),i=n(54164),a=!0,o=!1,s=null,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function l(){a=!1}function f(){"hidden"===this.visibilityState&&o&&(a=!0)}function d(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!u[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function p(){o=!0,window.clearTimeout(s),s=window.setTimeout((function(){o=!1}),100)}function h(){return{isFocusVisible:d,onBlurVisible:p,ref:r.useCallback((function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",l,!0),t.addEventListener("pointerdown",l,!0),t.addEventListener("touchstart",l,!0),t.addEventListener("visibilitychange",f,!0))}),[])}}},66556:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z"}),"AccountBox");t.Z=o},21759:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"}),"Apps");t.Z=o},56955:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.Z=o},31820:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");t.Z=o},44362:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");t.Z=o},2665:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3 .5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm15 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm-11 10c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-17c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 5.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm8 .5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm3 8.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM14 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-4-12c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0 8.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm4-4.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-4c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"}),"BlurOnOutlined");t.Z=o},30014:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=o},80996:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline");t.Z=o},97595:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=o},65952:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");t.Z=o},28719:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z"}),"NotInterestedOutlined");t.Z=o},3036:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");t.Z=o},13880:function(e,t,n){"use strict";var r=n(64836),i=n(75263);t.Z=void 0;var a=i(n(72791)),o=(0,r(n(44894)).default)(a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},44894:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(87156)},79316:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for;t.Z=n?Symbol.for("mui.nested"):"__THEME_NESTED__"},70794:function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}n.d(t,{Z:function(){return r}})},63401:function(e,t,n){"use strict";n.d(t,{Z:function(){return bn}});var r=n(45987),i=n(87462),a=n(72791),o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s="object"===("undefined"===typeof window?"undefined":o(window))&&"object"===("undefined"===typeof document?"undefined":o(document))&&9===document.nodeType,u=n(43144),c=n(94578),l=n(97326),f=n(63366),d={}.constructor;function p(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(p);if(e.constructor!==d)return e;var t={};for(var n in e)t[n]=p(e[n]);return t}function h(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=p(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var v=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},m=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=v(e[r]," ");else n=v(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function g(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function y(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function b(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var s=g(n),u=s.linebreak,c=s.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var d in f){var p=f[d];null!=p&&(r&&(r+=u),r+=y(d+":"+c+m(p)+";",a))}}else for(var h in o){var v=o[h];null!=v&&(r&&(r+=u),r+=y(h+":"+c+m(v)+";",a))}for(var b in t){var x=t[b];null!=x&&"fallbacks"!==b&&(r&&(r+=u),r+=y(b+":"+c+m(x)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+u+r+u),y(""+e+c+"{"+r,--a)+y("}",a)):r}var x=/([[\].#*$><+~=|^:(),"'`\s])/g,k="undefined"!==typeof CSS&&CSS.escape,w=function(e){return k?k(e):e.replace(x,"\\$1")},_=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var s=a&&o;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),S=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,s=r.sheet,u=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=u((0,l.Z)((0,l.Z)(i)),s),i.selectorText="."+w(i.id)),i}(0,c.Z)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=m(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,i.Z)({},e,{allowEmpty:!0}):e;return b(this.selectorText,this.style,n)},(0,u.Z)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(_),T={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new S(e,t,n)}},E={indent:1,children:!0},C=/@([\w-]+)/,O=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(C);for(var a in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new J((0,i.Z)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=E);var t=g(e).linebreak;if(null==e.indent&&(e.indent=E.indent),null==e.children&&(e.children=E.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),A=/@media|@supports\s+/,I={onCreateRule:function(e,t,n){return A.test(e)?new O(e,t,n):null}},R={indent:1,children:!0},N=/@keyframes\s+([\w-]+)/,P=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(N);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,o=n.sheet,s=n.generateId;for(var u in this.id=!1===a?this.name:w(s(this,o)),this.rules=new J((0,i.Z)({},n,{parent:this})),t)this.rules.add(u,t[u],(0,i.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=R);var t=g(e).linebreak;if(null==e.indent&&(e.indent=R.indent),null==e.children&&(e.children=R.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),M=/@keyframes\s+/,D=/\$([\w-]+)/g,L=function(e,t){return"string"===typeof e?e.replace(D,(function(e,n){return n in t?t[n]:e})):e},j=function(e,t,n){var r=e[t],i=L(r,n);i!==r&&(e[t]=i)},F={onCreateRule:function(e,t,n){return"string"===typeof e&&M.test(e)?new P(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&j(e,"animation-name",n.keyframes),"animation"in e&&j(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return L(e,r.keyframes);default:return e}}},Z=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.Z)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,i.Z)({},e,{allowEmpty:!0}):e;return b(this.key,this.style,n)},t}(_),B={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new Z(e,t,n):null}},U=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=g(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=b(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return b(this.at,this.style,e)},e}(),V=/@font-face/,z={onCreateRule:function(e,t,n){return V.test(e)?new U(e,t,n):null}},W=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return b(this.key,this.style,e)},e}(),H={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new W(e,t,n):null}},G=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),q={"@charset":!0,"@import":!0,"@namespace":!0},K={onCreateRule:function(e,t,n){return e in q?new G(e,t,n):null}},Y=[T,I,F,B,z,H,K],X={process:!0},Q={force:!0,process:!0},J=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,a=r.parent,o=r.sheet,s=r.jss,u=r.Renderer,c=r.generateId,l=r.scoped,f=(0,i.Z)({classes:this.classes,parent:a,sheet:o,jss:s,Renderer:u,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),d=e;e in this.raw&&(d=e+"-d"+this.counter++),this.raw[d]=t,d in this.classes&&(f.selector="."+w(this.classes[d]));var p=h(d,t,f);if(!p)return null;this.register(p);var v=void 0===f.index?this.index.length:f.index;return this.index.splice(v,0,p),p},t.replace=function(e,t,n){var r=this.get(e),a=this.index.indexOf(r);r&&this.remove(r);var o=n;return-1!==a&&(o=(0,i.Z)({},n,{index:a})),this.add(e,t,o)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof S?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof P&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof S?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof P&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=X);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(a.onUpdate(n,t,o,r),r.process&&s&&s!==t.style){for(var u in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[u];c!==s[u]&&t.prop(u,c,Q)}for(var l in s){var f=t.style[l],d=s[l];null==f&&f!==d&&t.prop(l,null,Q)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=g(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),$=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,i.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new J(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ee=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),te=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,f.Z)(t,["attached"]),i=g(r).linebreak,a="",o=0;o<this.registry.length;o++){var s=this.registry[o];null!=n&&s.attached!==n||(a&&(a+=i),a+=s.toString(r))}return a},(0,u.Z)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ne=new te,re="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ie="2f1acc6c3a606b082e5eef5e54414ffb";null==re[ie]&&(re[ie]=0);var ae=re[ie]++,oe=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+ae+i+t:a+n.key+"-"+ae+(i?"-"+i:"")+"-"+t}},se=function(e){var t;return function(){return t||(t=e()),t}},ue=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},ce=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=m(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},le=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},fe=function(e,t){return e.selectorText=t,e.selectorText===t},de=se((function(){return document.querySelector("head")}));function pe(e){var t=ne.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=de(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var he=se((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),ve=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},me=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ge=function(){function e(e){this.getPropertyValue=ue,this.setProperty=ce,this.removeProperty=le,this.setSelector=fe,this.hasInsertedRules=!1,this.cssRules=[],e&&ne.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=he();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=pe(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else de().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=me(n,t);if(!1===(i=ve(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var s=me(n,t),u=ve(n,o,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof $&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ye=0,be=function(){function e(e){this.id=ye++,this.version="10.9.0",this.plugins=new ee,this.options={id:{minify:!1},createGenerateId:oe,Renderer:s?ge:null,plugins:[]},this.generateId=oe({minify:!1});for(var t=0;t<Y.length;t++)this.plugins.use(Y[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,i.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ne.index?0:ne.index+1);var r=new $(e,(0,i.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ne.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=(0,i.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var a=h(e,t,r);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),xe=function(e){return new be(e)},ke="object"===typeof CSS&&null!=CSS&&"number"in CSS;function we(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=we(r);a&&(t||(t={}),t[n]=a)}}return t}xe();var _e=n(25352),Se={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Te=Se,Ee=n(78444),Ce=n(79316),Oe=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Ae=Date.now(),Ie="fnValues"+Ae,Re="fnStyle"+ ++Ae,Ne=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=h(e,{},n);return r[Re]=t,r},onProcessStyle:function(e,t){if(Ie in t||Re in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Ie]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Re];a&&(i.style=a(e)||{});var o=i[Ie];if(o)for(var s in o)i.prop(s,o[s](e),r)}}},Pe="@global",Me="@global ",De=function(){function e(e,t,n){for(var r in this.type="global",this.at=Pe,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new J((0,i.Z)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Le=function(){function e(e,t,n){this.type="global",this.at=Pe,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(Me.length);this.rule=n.jss.createRule(r,t,(0,i.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),je=/\s*,\s*/g;function Fe(e,t){for(var n=e.split(je),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Ze=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Pe)return new De(e,t,n);if("@"===e[0]&&e.substr(0,Me.length)===Me)return new Le(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,a=r?r[Pe]:null;if(a){for(var o in a)t.addRule(o,a[o],(0,i.Z)({},n,{selector:Fe(o,e.selector)}));delete r[Pe]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var a in r)if("@"===a[0]&&a.substr(0,Pe.length)===Pe){var o=Fe(a.substr(Pe.length),e.selector);t.addRule(o,r[a],(0,i.Z)({},n,{selector:o})),delete r[a]}}(e,t))}}},Be=/\s*,\s*/g,Ue=/&/g,Ve=/\$([\w-]+)/g;var ze=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Be),r=e.split(Be),i="",a=0;a<n.length;a++)for(var o=n[a],s=0;s<r.length;s++){var u=r[s];i&&(i+=", "),i+=-1!==u.indexOf("&")?u.replace(Ue,o):o+" "+u}return i}function n(e,t,n){if(n)return(0,i.Z)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var a=(0,i.Z)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete a.name,a}return{onProcessStyle:function(r,a,o){if("style"!==a.type)return r;var s,u,c=a,l=c.options.parent;for(var f in r){var d=-1!==f.indexOf("&"),p="@"===f[0];if(d||p){if(s=n(c,l,s),d){var h=t(f,c.selector);u||(u=e(l,o)),h=h.replace(Ve,u);var v=c.key+"-"+f;"replaceRule"in l?l.replaceRule(v,r[f],(0,i.Z)({},s,{selector:h})):l.addRule(v,r[f],(0,i.Z)({},s,{selector:h}))}else p&&l.addRule(f,{},s).addRule(c.key,r[f],{selector:c.selector});delete r[f]}}return r}}},We=/[A-Z]/g,He=/^ms-/,Ge={};function qe(e){return"-"+e.toLowerCase()}var Ke=function(e){if(Ge.hasOwnProperty(e))return Ge[e];var t=e.replace(We,qe);return Ge[e]=He.test(t)?"-"+t:t};function Ye(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Ke(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Ye):t.fallbacks=Ye(e.fallbacks)),t}var Xe=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Ye(e[t]);return e}return Ye(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Ke(t);return t===r?e:(n.prop(r,e),null)}}},Qe=ke&&CSS?CSS.px:"px",Je=ke&&CSS?CSS.ms:"ms",$e=ke&&CSS?CSS.percent:"%";function et(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var tt=et({"animation-delay":Je,"animation-duration":Je,"background-position":Qe,"background-position-x":Qe,"background-position-y":Qe,"background-size":Qe,border:Qe,"border-bottom":Qe,"border-bottom-left-radius":Qe,"border-bottom-right-radius":Qe,"border-bottom-width":Qe,"border-left":Qe,"border-left-width":Qe,"border-radius":Qe,"border-right":Qe,"border-right-width":Qe,"border-top":Qe,"border-top-left-radius":Qe,"border-top-right-radius":Qe,"border-top-width":Qe,"border-width":Qe,"border-block":Qe,"border-block-end":Qe,"border-block-end-width":Qe,"border-block-start":Qe,"border-block-start-width":Qe,"border-block-width":Qe,"border-inline":Qe,"border-inline-end":Qe,"border-inline-end-width":Qe,"border-inline-start":Qe,"border-inline-start-width":Qe,"border-inline-width":Qe,"border-start-start-radius":Qe,"border-start-end-radius":Qe,"border-end-start-radius":Qe,"border-end-end-radius":Qe,margin:Qe,"margin-bottom":Qe,"margin-left":Qe,"margin-right":Qe,"margin-top":Qe,"margin-block":Qe,"margin-block-end":Qe,"margin-block-start":Qe,"margin-inline":Qe,"margin-inline-end":Qe,"margin-inline-start":Qe,padding:Qe,"padding-bottom":Qe,"padding-left":Qe,"padding-right":Qe,"padding-top":Qe,"padding-block":Qe,"padding-block-end":Qe,"padding-block-start":Qe,"padding-inline":Qe,"padding-inline-end":Qe,"padding-inline-start":Qe,"mask-position-x":Qe,"mask-position-y":Qe,"mask-size":Qe,height:Qe,width:Qe,"min-height":Qe,"max-height":Qe,"min-width":Qe,"max-width":Qe,bottom:Qe,left:Qe,top:Qe,right:Qe,inset:Qe,"inset-block":Qe,"inset-block-end":Qe,"inset-block-start":Qe,"inset-inline":Qe,"inset-inline-end":Qe,"inset-inline-start":Qe,"box-shadow":Qe,"text-shadow":Qe,"column-gap":Qe,"column-rule":Qe,"column-rule-width":Qe,"column-width":Qe,"font-size":Qe,"font-size-delta":Qe,"letter-spacing":Qe,"text-decoration-thickness":Qe,"text-indent":Qe,"text-stroke":Qe,"text-stroke-width":Qe,"word-spacing":Qe,motion:Qe,"motion-offset":Qe,outline:Qe,"outline-offset":Qe,"outline-width":Qe,perspective:Qe,"perspective-origin-x":$e,"perspective-origin-y":$e,"transform-origin":$e,"transform-origin-x":$e,"transform-origin-y":$e,"transform-origin-z":$e,"transition-delay":Je,"transition-duration":Je,"vertical-align":Qe,"flex-basis":Qe,"shape-margin":Qe,size:Qe,gap:Qe,grid:Qe,"grid-gap":Qe,"row-gap":Qe,"grid-row-gap":Qe,"grid-column-gap":Qe,"grid-template-rows":Qe,"grid-template-columns":Qe,"grid-auto-rows":Qe,"grid-auto-columns":Qe,"box-shadow-x":Qe,"box-shadow-y":Qe,"box-shadow-blur":Qe,"box-shadow-spread":Qe,"font-line-height":Qe,"text-shadow-x":Qe,"text-shadow-y":Qe,"text-shadow-blur":Qe});function nt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=nt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=nt(i,t[i],n);else for(var a in t)t[a]=nt(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||tt[e];return!o||0===t&&o===Qe?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var rt=function(e){void 0===e&&(e={});var t=et(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=nt(r,e[r],t);return e},onChangeValue:function(e,n){return nt(n,e,t)}}},it=n(93433),at="",ot="",st="",ut="",ct=s&&"ontouchstart"in document.documentElement;if(s){var lt={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},ft=document.createElement("p").style;for(var dt in lt)if(dt+"Transform"in ft){at=dt,ot=lt[dt];break}"Webkit"===at&&"msHyphens"in ft&&(at="ms",ot=lt.ms,ut="edge"),"Webkit"===at&&"-apple-trailing-word"in ft&&(st="apple")}var pt=at,ht=ot,vt=st,mt=ut,gt=ct;var yt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===pt?"-webkit-"+e:ht+e)}},bt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===pt?ht+"print-"+e:e)}},xt=/[-\s]+(.)?/g;function kt(e,t){return t?t.toUpperCase():""}function wt(e){return e.replace(xt,kt)}function _t(e){return wt("-"+e)}var St,Tt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===pt){var n="mask-image";if(wt(n)in t)return e;if(pt+_t(n)in t)return ht+e}return e}},Et={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==vt||gt?e:ht+e)}},Ct={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:ht+e)}},Ot={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:ht+e)}},At={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===pt||"ms"===pt&&"edge"!==mt?ht+e:e)}},It={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===pt||"ms"===pt||"apple"===vt?ht+e:e)}},Rt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===pt?"WebkitColumn"+_t(e)in t&&ht+"column-"+e:"Moz"===pt&&("page"+_t(e)in t&&"page-"+e))}},Nt={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===pt)return e;var n=e.replace("-inline","");return pt+_t(n)in t&&ht+n}},Pt={supportedProperty:function(e,t){return wt(e)in t&&e}},Mt={supportedProperty:function(e,t){var n=_t(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:pt+n in t?ht+e:"Webkit"!==pt&&"Webkit"+n in t&&"-webkit-"+e}},Dt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===pt?""+ht+e:e)}},Lt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===pt?ht+"scroll-chaining":e)}},jt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Ft={supportedProperty:function(e,t){var n=jt[e];return!!n&&(pt+_t(n)in t&&ht+n)}},Zt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Bt=Object.keys(Zt),Ut=function(e){return ht+e},Vt={supportedProperty:function(e,t,n){var r=n.multiple;if(Bt.indexOf(e)>-1){var i=Zt[e];if(!Array.isArray(i))return pt+_t(i)in t&&ht+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(pt+_t(i[0])in t))return!1;return i.map(Ut)}return!1}},zt=[yt,bt,Tt,Et,Ct,Ot,At,It,Rt,Nt,Pt,Mt,Dt,Lt,Ft,Vt],Wt=zt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Ht=zt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,it.Z)(t.noPrefill)),e}),[]),Gt={};if(s){St=document.createElement("p");var qt=window.getComputedStyle(document.documentElement,"");for(var Kt in qt)isNaN(Kt)||(Gt[qt[Kt]]=qt[Kt]);Ht.forEach((function(e){return delete Gt[e]}))}function Yt(e,t){if(void 0===t&&(t={}),!St)return e;if(null!=Gt[e])return Gt[e];"transition"!==e&&"transform"!==e||(t[e]=e in St.style);for(var n=0;n<Wt.length&&(Gt[e]=Wt[n](e,St.style,t),!Gt[e]);n++);try{St.style[e]=""}catch(r){return!1}return Gt[e]}var Xt,Qt={},Jt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},$t=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function en(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Yt(t):", "+Yt(n);return r||(t||n)}function tn(e,t){var n=t;if(!Xt||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Qt[r])return Qt[r];try{Xt.style[e]=n}catch(i){return Qt[r]=!1,!1}if(Jt[e])n=n.replace($t,en);else if(""===Xt.style[e]&&("-ms-flex"===(n=ht+n)&&(Xt.style[e]="-ms-flexbox"),Xt.style[e]=n,""===Xt.style[e]))return Qt[r]=!1,!1;return Xt.style[e]="",Qt[r]=n,Qt[r]}s&&(Xt=document.createElement("p"));var nn=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=Yt(n);a&&a!==n&&(i=!0);var o=!1,s=tn(a,m(r));s&&s!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===pt?e:"@"+ht+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return tn(t,m(e))||e}}};var rn=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var an=xe({plugins:[Ne(),Ze(),ze(),Xe(),rt(),"undefined"===typeof window?null:nn(),rn()]}),on=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,s=""===o?"":"".concat(o,"-"),u=0,c=function(){return u+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Oe.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Ce.Z]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(s).concat(i).concat(c())}}(),sn={disableGeneration:!1,generateClassName:on,jss:an,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},un=a.createContext(sn);var cn=-1e9;function ln(){return cn+=1}var fn=n(81534);function dn(e){var t="function"===typeof e;return{create:function(n,r){var a;try{a=t?e(n):e}catch(u){throw u}if(!r||!n.overrides||!n.overrides[r])return a;var o=n.overrides[r],s=(0,i.Z)({},a);return Object.keys(o).forEach((function(e){s[e]=(0,fn.Z)(s[e],o[e])})),s},options:{}}}var pn={};function hn(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=(0,_e.Z)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function vn(e,t){var n=e.state,r=e.theme,a=e.stylesOptions,o=e.stylesCreator,s=e.name;if(!a.disableGeneration){var u=Te.get(a.sheetsManager,o,r);u||(u={refs:0,staticSheet:null,dynamicStyles:null},Te.set(a.sheetsManager,o,r,u));var c=(0,i.Z)({},o.options,a,{theme:r,flip:"boolean"===typeof a.flip?a.flip:"rtl"===r.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var l=a.sheetsRegistry;if(0===u.refs){var f;a.sheetsCache&&(f=Te.get(a.sheetsCache,o,r));var d=o.create(r,s);f||((f=a.jss.createStyleSheet(d,(0,i.Z)({link:!1},c))).attach(),a.sheetsCache&&Te.set(a.sheetsCache,o,r,f)),l&&l.add(f),u.staticSheet=f,u.dynamicStyles=we(d)}if(u.dynamicStyles){var p=a.jss.createStyleSheet(u.dynamicStyles,(0,i.Z)({link:!0},c));p.update(t),p.attach(),n.dynamicSheet=p,n.classes=(0,_e.Z)({baseClasses:u.staticSheet.classes,newClasses:p.classes}),l&&l.add(p)}else n.classes=u.staticSheet.classes;u.refs+=1}}function mn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function gn(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Te.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Te.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function yn(e,t){var n,r=a.useRef([]),i=a.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),a.useEffect((function(){return function(){n&&n()}}),[i])}function bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,o=t.classNamePrefix,s=t.Component,u=t.defaultTheme,c=void 0===u?pn:u,l=(0,r.Z)(t,["name","classNamePrefix","Component","defaultTheme"]),f=dn(e),d=n||o||"makeStyles";f.options={index:ln(),name:n,meta:d,classNamePrefix:d};var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,Ee.Z)()||c,r=(0,i.Z)({},a.useContext(un),l),o=a.useRef(),u=a.useRef();yn((function(){var i={name:n,state:{},stylesCreator:f,stylesOptions:r,theme:t};return vn(i,e),u.current=!1,o.current=i,function(){gn(i)}}),[t,f]),a.useEffect((function(){u.current&&mn(o.current,e),u.current=!0}));var d=hn(o.current,e.classes,s);return d};return p}},25352:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(87462);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=(0,r.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}},40423:function(e,t,n){"use strict";var r=n(72791).createContext(null);t.Z=r},78444:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72791),i=n(40423);function a(){return r.useContext(i.Z)}},81534:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(87462),i=n(71002);function a(e){return e&&"object"===(0,i.Z)(e)&&e.constructor===Object}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?(0,r.Z)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(a(t[r])&&r in e?i[r]=o(e[r],t[r],n):i[r]=t[r])})),i}},37483:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},46196:function(e,t,n){"use strict";n.d(t,{He:function(){return v},Ld:function(){return O},eC:function(){return y},f3:function(){return h},iG:function(){return g},rS:function(){return x},sb:function(){return _},ys:function(){return p}});var r=n(29439),i=n(11752),a=n(61120),o=n(60136),s=n(29388),u=n(15671),c=n(43144),l=n(91315),f=n(72791),d=Symbol.for("Animated:node"),p=function(e){return e&&e[d]},h=function(e,t){return(0,l.dE)(e,d,t)},v=function(e){return e&&e[d]&&e[d].getPayload()},m=function(){function e(){(0,u.Z)(this,e),this.payload=void 0,h(this,this)}return(0,c.Z)(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),g=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this)).done=!0,r.elapsedTime=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.v0=void 0,r.durationProgress=0,r._value=e,l.is.num(r._value)&&(r.lastPosition=r._value),r}return(0,c.Z)(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return l.is.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,l.is.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(m),y=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this,0))._string=null,r._toString=void 0,r._toString=(0,l.mD)({output:[e,e]}),r}return(0,c.Z)(n,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(l.is.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!(0,i.Z)((0,a.Z)(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}return!0}},{key:"reset",value:function(e){e&&(this._toString=(0,l.mD)({output:[this.getValue(),e]})),this._value=0,(0,i.Z)((0,a.Z)(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(g),b={dependencies:null},x=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,u.Z)(this,n),(r=t.call(this)).source=e,r.setValue(e),r}return(0,c.Z)(n,[{key:"getValue",value:function(e){var t={};return(0,l.rU)(this.source,(function(n,r){var i;(i=n)&&i[d]===i?t[r]=n.getValue(e):(0,l.j$)(n)?t[r]=(0,l.je)(n):e||(t[r]=n)})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&(0,l.S6)(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return(0,l.rU)(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;b.dependencies&&(0,l.j$)(e)&&b.dependencies.add(e);var n=v(e);n&&(0,l.S6)(n,(function(e){return t.add(e)}))}}]),n}(m),k=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){return(0,u.Z)(this,n),t.call(this,e)}return(0,c.Z)(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();return e.length==t.length?t.map((function(t,n){return t.setValue(e[n])})).some(Boolean):((0,i.Z)((0,a.Z)(n.prototype),"setValue",this).call(this,e.map(w)),!0)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(x);function w(e){return((0,l.Df)(e)?y:g).create(e)}function _(e){var t=p(e);return t?t.constructor:l.is.arr(e)?k:(0,l.Df)(e)?y:g}function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}var T=function(e,t){var n=!l.is.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,f.forwardRef)((function(i,a){var o=(0,f.useRef)(null),s=n&&(0,f.useCallback)((function(e){o.current=function(e,t){e&&(l.is.fun(e)?e(t):e.current=t);return t}(a,e)}),[a]),u=function(e,t){var n=new Set;b.dependencies=n,e.style&&(e=S({},e,{style:t.createAnimatedStyle(e.style)}));return e=new x(e),b.dependencies=null,[e,n]}(i,t),c=(0,r.Z)(u,2),d=c[0],p=c[1],h=(0,l.NW)(),v=function(){var e=o.current;n&&!e||!1===(!!e&&t.applyAnimatedValues(e,d.getValue(!0)))&&h()},m=new E(v,p),g=(0,f.useRef)();(0,l.LI)((function(){return g.current=m,(0,l.S6)(p,(function(e){return(0,l.UI)(e,m)})),function(){g.current&&((0,l.S6)(g.current.deps,(function(e){return(0,l.iL)(e,g.current)})),l.Wn.cancel(g.current.update))}})),(0,f.useEffect)(v,[]),(0,l.tf)((function(){return function(){var e=g.current;(0,l.S6)(e.deps,(function(t){return(0,l.iL)(t,e)}))}}));var y=t.getComponentProps(d.getValue());return f.createElement(e,S({},y,{ref:s}))}))},E=function(){function e(t,n){(0,u.Z)(this,e),this.update=t,this.deps=n}return(0,c.Z)(e,[{key:"eventObserved",value:function(e){"change"==e.type&&l.Wn.write(this.update)}}]),e}();var C=Symbol.for("AnimatedComponent"),O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,i=t.createAnimatedStyle,a=void 0===i?function(e){return new x(e)}:i,o=t.getComponentProps,s=void 0===o?function(e){return e}:o,u={applyAnimatedValues:r,createAnimatedStyle:a,getComponentProps:s},c=function e(t){var n=A(t)||"Anonymous";return(t=l.is.str(t)?e[t]||(e[t]=T(t,u)):t[C]||(t[C]=T(t,u))).displayName="Animated(".concat(n,")"),t};return(0,l.rU)(e,(function(t,n){l.is.arr(e)&&(n=A(t)),c[n]=c(t)})),{animated:c}},A=function(e){return l.is.str(e)?e:e&&l.is.str(e.displayName)?e.displayName:l.is.fun(e)&&e.name||null}},18867:function(e,t,n){"use strict";n.r(t),n.d(t,{BailSignal:function(){return ae},Controller:function(){return Ce},FrameValue:function(){return ce},Globals:function(){return m.OH},Interpolation:function(){return it},Spring:function(){return $e},SpringContext:function(){return Be},SpringRef:function(){return Ve},SpringValue:function(){return me},Trail:function(){return tt},Transition:function(){return rt},config:function(){return Z},createInterpolator:function(){return m.mD},easings:function(){return G},inferTo:function(){return N},interpolate:function(){return ct},to:function(){return ut},update:function(){return lt},useChain:function(){return F},useIsomorphicLayoutEffect:function(){return m.LI},useReducedMotion:function(){return m.JZ},useSpring:function(){return We},useSpringRef:function(){return qe},useSprings:function(){return ze},useTrail:function(){return Ke},useTransition:function(){return Ye}});var r=n(97326),i=n(93433),a=n(29439),o=n(11752),s=n(61120),u=n(60136),c=n(29388),l=n(98737),f=n(74165),d=n(15861),p=n(43144),h=n(15671),v=n(37762),m=n(91315),g=n(72791),y=n(46196),b=n(84538),x={};for(var k in b)["default","Globals","createInterpolator","useIsomorphicLayoutEffect","useReducedMotion","BailSignal","Controller","FrameValue","Interpolation","Spring","SpringContext","SpringRef","SpringValue","Trail","Transition","config","easings","inferTo","interpolate","to","update","useChain","useSpring","useSpringRef","useSprings","useTrail","useTransition"].indexOf(k)<0&&(x[k]=function(e){return b[e]}.bind(0,k));n.d(t,x);var w=n(29543);x={};for(var k in w)["default","Globals","createInterpolator","useIsomorphicLayoutEffect","useReducedMotion","BailSignal","Controller","FrameValue","Interpolation","Spring","SpringContext","SpringRef","SpringValue","Trail","Transition","config","easings","inferTo","interpolate","to","update","useChain","useSpring","useSpringRef","useSprings","useTrail","useTransition"].indexOf(k)<0&&(x[k]=function(e){return w[e]}.bind(0,k));function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return m.is.fun(e)?e.apply(void 0,n):e}n.d(t,x);var T=function(e,t){return!0===e||!!(t&&e&&(m.is.fun(e)?e(t):(0,m.qo)(e).includes(t)))},E=function(e,t){return m.is.obj(e)?t&&e[t]:e},C=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},O=function(e){return e},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O,n=I;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));var r,i={},a=(0,v.Z)(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=t(e[o],o);m.is.und(s)||(i[o]=s)}}catch(u){a.e(u)}finally{a.f()}return i},I=["config","onProps","onStart","onChange","onPause","onResume","onRest"],R={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function N(e){var t=function(e){var t={},n=0;if((0,m.rU)(e,(function(e,r){R[r]||(t[r]=e,n++)})),n)return t}(e);if(t){var n={to:t};return(0,m.rU)(e,(function(e,r){return r in t||(n[r]=e)})),n}return _({},e)}function P(e){return e=(0,m.je)(e),m.is.arr(e)?e.map(P):(0,m.Df)(e)?m.OH.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function M(e){for(var t in e)return!0;return!1}function D(e){return m.is.fun(e)||m.is.arr(e)&&m.is.obj(e[0])}function L(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function j(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;(0,m.LI)((function(){if(t){var r=0;(0,m.S6)(e,(function(e,i){var a=e.current;if(a.length){var o=n*t[i];isNaN(o)?o=r:r=o,(0,m.S6)(a,(function(e){(0,m.S6)(e.queue,(function(e){var t=e.delay;e.delay=function(e){return o+S(t||0,e)}}))})),e.start()}}))}else{var i=Promise.resolve();(0,m.S6)(e,(function(e){var t=e.current;if(t.length){var n=t.map((function(e){var t=e.queue;return e.queue=[],t}));i=i.then((function(){return(0,m.S6)(t,(function(e,t){return(0,m.S6)(n[t]||[],(function(t){return e.queue.push(t)}))})),Promise.all(e.start())}))}}))}}))}var Z={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},B=1.70158,U=1.525*B,V=B+1,z=2*Math.PI/3,W=2*Math.PI/4.5,H=function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},G={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-Math.pow(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-Math.pow(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-Math.pow(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2},easeInSine:function(e){return 1-Math.cos(e*Math.PI/2)},easeOutSine:function(e){return Math.sin(e*Math.PI/2)},easeInOutSine:function(e){return-(Math.cos(Math.PI*e)-1)/2},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},easeInCirc:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},easeInBack:function(e){return V*e*e*e-B*e*e},easeOutBack:function(e){return 1+V*Math.pow(e-1,3)+B*Math.pow(e-1,2)},easeInOutBack:function(e){return e<.5?Math.pow(2*e,2)*(7.189819*e-U)/2:(Math.pow(2*e-2,2)*((U+1)*(2*e-2)+U)+2)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*z)},easeOutElastic:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*z)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*W)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*W)/2+1},easeInBounce:function(e){return 1-H(1-e)},easeOutBounce:H,easeInOutBounce:function(e){return e<.5?(1-H(1-2*e))/2:(1+H(2*e-1))/2}},q=_({},Z.default,{mass:1,damping:1,easing:G.linear,clamp:!1}),K=(0,p.Z)((function e(){(0,h.Z)(this,e),this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,q)}));function Y(e,t){if(m.is.und(t.decay)){var n=!m.is.und(t.tension)||!m.is.und(t.friction);!n&&m.is.und(t.frequency)&&m.is.und(t.damping)&&m.is.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var X=[],Q=(0,p.Z)((function e(){(0,h.Z)(this,e),this.changed=!1,this.values=X,this.toValues=null,this.fromValues=X,this.to=void 0,this.from=void 0,this.config=new K,this.immediate=!1}));function J(e,t){var n=t.key,r=t.props,i=t.defaultProps,a=t.state,o=t.actions;return new Promise((function(t,s){var u,c,l,f=T(null!=(u=r.cancel)?u:null==i?void 0:i.cancel,n);if(f)v();else{m.is.und(r.pause)||(a.paused=T(r.pause,n));var d=null==i?void 0:i.pause;!0!==d&&(d=a.paused||T(d,n)),c=S(r.delay||0,n),d?(a.resumeQueue.add(h),o.pause()):(o.resume(),h())}function p(){a.resumeQueue.add(h),a.timeouts.delete(l),l.cancel(),c=l.time-m.Wn.now()}function h(){c>0&&!m.OH.skipAnimation?(a.delayed=!0,l=m.Wn.setTimeout(v,c),a.pauseQueue.add(p),a.timeouts.add(l)):v()}function v(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(p),a.timeouts.delete(l),e<=(a.cancelId||0)&&(f=!0);try{o.start(_({},r,{callId:e,cancel:f}),t)}catch(n){s(n)}}}))}var $=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?ne(e.get()):t.every((function(e){return e.noop}))?ee(e.get()):te(e.get(),t.every((function(e){return e.finished})))},ee=function(e){return{value:e,noop:!0,finished:!0,cancelled:!1}},te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{value:e,finished:t,cancelled:n}},ne=function(e){return{value:e,cancelled:!0,finished:!1}};function re(e,t,n,r){var i=t.callId,a=t.parentId,o=t.onRest,s=n.asyncTo,u=n.promise;return a||e!==s||t.reset?n.promise=(0,d.Z)((0,f.Z)().mark((function c(){var l,p,h,g,y,b,x,k;return(0,f.Z)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.asyncId=i,n.asyncTo=e,l=A(t,(function(e,t){return"onRest"===t?void 0:e})),g=new Promise((function(e,t){return p=e,h=t})),y=function(e){var t=i<=(n.cancelId||0)&&ne(r)||i!==n.asyncId&&te(r,!1);if(t)throw e.result=t,h(e),e},b=function(e,t){var a=new ae,o=new oe;return(0,d.Z)((0,f.Z)().mark((function s(){var u,c;return(0,f.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!m.OH.skipAnimation){s.next=5;break}throw ie(n),o.result=te(r,!1),h(o),o;case 5:return y(a),(u=m.is.obj(e)?_({},e):_({},t,{to:e})).parentId=i,(0,m.rU)(l,(function(e,t){m.is.und(u[t])&&(u[t]=e)})),s.next=11,r.start(u);case 11:if(c=s.sent,y(a),!n.paused){s.next=16;break}return s.next=16,new Promise((function(e){n.resumeQueue.add(e)}));case 16:return s.abrupt("return",c);case 17:case"end":return s.stop()}}),s)})))()},!m.OH.skipAnimation){c.next=9;break}return ie(n),c.abrupt("return",te(r,!1));case 9:return c.prev=9,k=m.is.arr(e)?function(){var e=(0,d.Z)((0,f.Z)().mark((function e(t){var n,r,i;return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,v.Z)(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,b(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(e):Promise.resolve(e(b,r.stop.bind(r))),c.next=13,Promise.all([k.then(p),g]);case 13:x=te(r.get(),!0,!1),c.next=27;break;case 16:if(c.prev=16,c.t0=c.catch(9),!(c.t0 instanceof ae)){c.next=22;break}x=c.t0.result,c.next=27;break;case 22:if(!(c.t0 instanceof oe)){c.next=26;break}x=c.t0.result,c.next=27;break;case 26:throw c.t0;case 27:return c.prev=27,i==n.asyncId&&(n.asyncId=a,n.asyncTo=a?s:void 0,n.promise=a?u:void 0),c.finish(27);case 30:return m.is.fun(o)&&m.Wn.batchedUpdates((function(){o(x,r,r.item)})),c.abrupt("return",x);case 32:case"end":return c.stop()}}),c,null,[[9,16,27,30]])})))():u}function ie(e,t){(0,m.yl)(e.timeouts,(function(e){return e.cancel()})),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var ae=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,h.Z)(this,n),(e=t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result=void 0,e}return(0,p.Z)(n)}((0,l.Z)(Error)),oe=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,h.Z)(this,n),(e=t.call(this,"SkipAnimationSignal")).result=void 0,e}return(0,p.Z)(n)}((0,l.Z)(Error)),se=function(e){return e instanceof ce},ue=1,ce=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,h.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).id=ue++,e.key=void 0,e._priority=0,e}return(0,p.Z)(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=(0,y.ys)(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m.OH.to(this,t)}},{key:"interpolate",value:function(){(0,m.LW)();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m.OH.to(this,t)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(e){1==e&&this._attach()}},{key:"observerRemoved",value:function(e){0==e&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,m.k0)(this,{type:"change",parent:this,value:e,idle:t})}},{key:"_onPriorityChange",value:function(e){this.idle||m.fT.sort(this),(0,m.k0)(this,{type:"priority",parent:this,priority:e})}}]),n}(m.B0),le=Symbol.for("SpringPhase"),fe=function(e){return(1&e[le])>0},de=function(e){return(2&e[le])>0},pe=function(e){return(4&e[le])>0},he=function(e,t){return t?e[le]|=3:e[le]&=-3},ve=function(e,t){return t?e[le]|=4:e[le]&=-5},me=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(e,r){var i;if((0,h.Z)(this,n),(i=t.call(this)).key=void 0,i.animation=new Q,i.queue=void 0,i.defaultProps={},i._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},i._pendingCalls=new Set,i._lastCallId=0,i._lastToId=0,i._memoizedDuration=0,!m.is.und(e)||!m.is.und(r)){var a=m.is.obj(e)?_({},e):_({},r,{from:e});m.is.und(a.default)&&(a.default=!0),i.start(a)}return i}return(0,p.Z)(n,[{key:"idle",get:function(){return!(de(this)||this._state.asyncTo)||pe(this)}},{key:"goal",get:function(){return(0,m.je)(this.animation.to)}},{key:"velocity",get:function(){var e=(0,y.ys)(this);return e instanceof y.iG?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return fe(this)}},{key:"isAnimating",get:function(){return de(this)}},{key:"isPaused",get:function(){return pe(this)}},{key:"isDelayed",get:function(){return this._state.delayed}},{key:"advance",value:function(e){var t=this,n=!0,r=!1,i=this.animation,a=i.config,o=i.toValues,s=(0,y.He)(i.to);!s&&(0,m.j$)(i.to)&&(o=(0,m.qo)((0,m.je)(i.to))),i.values.forEach((function(u,c){if(!u.done){var l=u.constructor==y.eC?1:s?s[c].lastPosition:o[c],f=i.immediate,d=l;if(!f){if(d=u.lastPosition,a.tension<=0)return void(u.done=!0);var p,h=u.elapsedTime+=e,v=i.fromValues[c],g=null!=u.v0?u.v0:u.v0=m.is.arr(a.velocity)?a.velocity[c]:a.velocity;if(m.is.und(a.duration))if(a.decay){var b=!0===a.decay?.998:a.decay,x=Math.exp(-(1-b)*h);d=v+g/(1-b)*(1-x),f=Math.abs(u.lastPosition-d)<.1,p=g*x}else{p=null==u.lastVelocity?g:u.lastVelocity;for(var k=a.precision||(v==l?.005:Math.min(1,.001*Math.abs(l-v))),w=a.restVelocity||k/10,_=a.clamp?0:a.bounce,S=!m.is.und(_),T=v==l?u.v0>0:v<l,E=Math.ceil(e/1),C=0;C<E&&(Math.abs(p)>w||!(f=Math.abs(l-d)<=k));++C){S&&(d==l||d>l==T)&&(p=-p*_,d=l),d+=1*(p+=1*((1e-6*-a.tension*(d-l)+.001*-a.friction*p)/a.mass))}}else{var O=1;a.duration>0&&(t._memoizedDuration!==a.duration&&(t._memoizedDuration=a.duration,u.durationProgress>0&&(u.elapsedTime=a.duration*u.durationProgress,h=u.elapsedTime+=e)),O=(O=(a.progress||0)+h/t._memoizedDuration)>1?1:O<0?0:O,u.durationProgress=O),p=((d=v+a.easing(O)*(l-v))-u.lastPosition)/e,f=1==O}u.lastVelocity=p,Number.isNaN(d)&&(console.warn("Got NaN while animating:",t),f=!0)}s&&!s[c].done&&(f=!1),f?u.done=!0:n=!1,u.setValue(d,a.round)&&(r=!0)}}));var u=(0,y.ys)(this),c=u.getValue();if(n){var l=(0,m.je)(i.to);c===l&&!r||a.decay?r&&a.decay&&this._onChange(c):(u.setValue(l),this._onChange(l)),this._stop()}else r&&this._onChange(c)}},{key:"set",value:function(e){var t=this;return m.Wn.batchedUpdates((function(){t._stop(),t._focus(e),t._set(e)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var e=this;if(de(this)){var t=this.animation,n=t.to,r=t.config;m.Wn.batchedUpdates((function(){e._onStart(),r.decay||e._set(n,!1),e._stop()}))}return this}},{key:"update",value:function(e){return(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(e,t){var n,r=this;return m.is.und(e)?(n=this.queue||[],this.queue=[]):n=[m.is.obj(e)?e:_({},t,{to:e})],Promise.all(n.map((function(e){return r._update(e)}))).then((function(e){return $(r,e)}))}},{key:"stop",value:function(e){var t=this,n=this.animation.to;return this._focus(this.get()),ie(this._state,e&&this._lastCallId),m.Wn.batchedUpdates((function(){return t._stop(n,e)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t=this.key||"",n=e.to,r=e.from;(null==(n=m.is.obj(n)?n[t]:n)||D(n))&&(n=void 0),null==(r=m.is.obj(r)?r[t]:r)&&(r=void 0);var i={to:n,from:r};if(!fe(this)){if(e.reverse){var a=[r,n];n=a[0],r=a[1]}r=(0,m.je)(r),m.is.und(r)?(0,y.ys)(this)||this._set(n):this._set(r)}return i}},{key:"_update",value:function(e,t){var n=this,r=_({},e),i=this.key,a=this.defaultProps;r.default&&Object.assign(a,A(r,(function(e,t){return/^on/.test(t)?E(e,i):e}))),_e(this,r,"onProps"),Se(this,"onProps",r,this);var o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var s=this._state;return J(++this._lastCallId,{key:i,props:r,defaultProps:a,state:s,actions:{pause:function(){pe(n)||(ve(n,!0),(0,m.bl)(s.pauseQueue),Se(n,"onPause",te(n,ge(n,n.animation.to)),n))},resume:function(){pe(n)&&(ve(n,!1),de(n)&&n._resume(),(0,m.bl)(s.resumeQueue),Se(n,"onResume",te(n,ge(n,n.animation.to)),n))},start:this._merge.bind(this,o)}}).then((function(e){if(r.loop&&e.finished&&(!t||!e.noop)){var i=ye(r);if(i)return n._update(i,!0)}return e}))}},{key:"_merge",value:function(e,t,n){var r=this;if(t.cancel)return this.stop(!0),n(ne(this));var i=!m.is.und(e.to),a=!m.is.und(e.from);if(i||a){if(!(t.callId>this._lastToId))return n(ne(this));this._lastToId=t.callId}var o=this.key,s=this.defaultProps,u=this.animation,c=u.to,l=u.from,f=e.to,d=void 0===f?c:f,p=e.from,h=void 0===p?l:p;if(!a||i||t.default&&!m.is.und(d)||(d=h),t.reverse){var v=[h,d];d=v[0],h=v[1]}var g=!(0,m.Xy)(h,l);g&&(u.from=h),h=(0,m.je)(h);var b=!(0,m.Xy)(d,c);b&&this._focus(d);var x=D(t.to),k=u.config,w=k.decay,E=k.velocity;(i||a)&&(k.velocity=0),t.config&&!x&&function(e,t,n){for(var r in n&&(Y(n=_({},n),t),t=_({},n,t)),Y(e,t),Object.assign(e,t),q)null==e[r]&&(e[r]=q[r]);var i=e.mass,a=e.frequency,o=e.damping;m.is.und(a)||(a<.01&&(a=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/a,2)*i,e.friction=4*Math.PI*o*i/a)}(k,S(t.config,o),t.config!==s.config?S(s.config,o):void 0);var C=(0,y.ys)(this);if(!C||m.is.und(d))return n(te(this,!0));var O=m.is.und(t.reset)?a&&!t.default:!m.is.und(h)&&T(t.reset,o),A=O?h:this.get(),I=P(d),R=m.is.num(I)||m.is.arr(I)||(0,m.Df)(I),N=!x&&(!R||T(s.immediate||t.immediate,o));if(b){var M=(0,y.sb)(d);if(M!==C.constructor){if(!N)throw Error("Cannot animate between ".concat(C.constructor.name," and ").concat(M.name,', as the "to" prop suggests'));C=this._set(I)}}var L=C.constructor,j=(0,m.j$)(d),F=!1;if(!j){var Z=O||!fe(this)&&g;(b||Z)&&(j=!(F=(0,m.Xy)(P(A),I))),((0,m.Xy)(u.immediate,N)||N)&&(0,m.Xy)(k.decay,w)&&(0,m.Xy)(k.velocity,E)||(j=!0)}if(F&&de(this)&&(u.changed&&!O?j=!0:j||this._stop(c)),!x&&((j||(0,m.j$)(c))&&(u.values=C.getPayload(),u.toValues=(0,m.j$)(d)?null:L==y.eC?[1]:(0,m.qo)(I)),u.immediate!=N&&(u.immediate=N,N||O||this._set(c)),j)){var B=u.onRest;(0,m.S6)(we,(function(e){return _e(r,t,e)}));var U=te(this,ge(this,c));(0,m.bl)(this._pendingCalls,U),this._pendingCalls.add(n),u.changed&&m.Wn.batchedUpdates((function(){u.changed=!O,null==B||B(U,r),O?S(s.onRest,U):null==u.onStart||u.onStart(U,r)}))}O&&this._set(A),x?n(re(t.to,t,this._state,this)):j?this._start():de(this)&&!b?this._pendingCalls.add(n):n(ee(A))}},{key:"_focus",value:function(e){var t=this.animation;e!==t.to&&((0,m.Ll)(this)&&this._detach(),t.to=e,(0,m.Ll)(this)&&this._attach())}},{key:"_attach",value:function(){var e=0,t=this.animation.to;(0,m.j$)(t)&&((0,m.UI)(t,this),se(t)&&(e=t.priority+1)),this.priority=e}},{key:"_detach",value:function(){var e=this.animation.to;(0,m.j$)(e)&&(0,m.iL)(e,this)}},{key:"_set",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=(0,m.je)(e);if(!m.is.und(r)){var i=(0,y.ys)(this);if(!i||!(0,m.Xy)(r,i.getValue())){var a=(0,y.sb)(r);i&&i.constructor==a?i.setValue(r):(0,y.f3)(this,a.create(r)),i&&m.Wn.batchedUpdates((function(){t._onChange(r,n)}))}}return(0,y.ys)(this)}},{key:"_onStart",value:function(){var e=this.animation;e.changed||(e.changed=!0,Se(this,"onStart",te(this,ge(this,e.to)),this))}},{key:"_onChange",value:function(e,t){t||(this._onStart(),S(this.animation.onChange,e,this)),S(this.defaultProps.onChange,e,this),(0,o.Z)((0,s.Z)(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_start",value:function(){var e=this.animation;(0,y.ys)(this).reset((0,m.je)(e.to)),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),de(this)||(he(this,!0),pe(this)||this._resume())}},{key:"_resume",value:function(){m.OH.skipAnimation?this.finish():m.fT.start(this)}},{key:"_stop",value:function(e,t){if(de(this)){he(this,!1);var n=this.animation;(0,m.S6)(n.values,(function(e){e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),(0,m.k0)(this,{type:"idle",parent:this});var r=t?ne(this.get()):te(this.get(),ge(this,null!=e?e:n.to));(0,m.bl)(this._pendingCalls,r),n.changed&&(n.changed=!1,Se(this,"onRest",r,this))}}}]),n}(ce);function ge(e,t){var n=P(t),r=P(e.get());return(0,m.Xy)(r,n)}function ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=S(t);if(r){var i=!0!==r&&N(r),a=(i||e).reverse,o=!i||i.reset;return be(_({},e,{loop:t,default:!1,pause:void 0,to:!a||D(n)?n:void 0,from:o?e.from:void 0,reset:o},i))}}function be(e){var t=e=N(e),n=t.to,r=t.from,i=new Set;return m.is.obj(n)&&ke(n,i),m.is.obj(r)&&ke(r,i),e.keys=i.size?Array.from(i):null,e}function xe(e){var t=be(e);return m.is.und(t.default)&&(t.default=A(t)),t}function ke(e,t){(0,m.rU)(e,(function(e,n){return null!=e&&t.add(n)}))}var we=["onStart","onRest","onChange","onPause","onResume"];function _e(e,t,n){e.animation[n]=t[n]!==C(t,n)?E(t[n],e.key):void 0}function Se(e,t){for(var n,r,i,a,o,s,u=arguments.length,c=new Array(u>2?u-2:0),l=2;l<u;l++)c[l-2]=arguments[l];null==(i=(a=e.animation)[t])||(n=i).call.apply(n,[a].concat(c)),null==(o=(s=e.defaultProps)[t])||(r=o).call.apply(r,[s].concat(c))}var Te=["onStart","onChange","onRest"],Ee=1,Ce=function(){function e(t,n){(0,h.Z)(this,e),this.id=Ee++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(_({default:!0},t))}return(0,p.Z)(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle&&!e.isDelayed&&!e.isPaused}))}},{key:"item",get:function(){return this._item},set:function(e){this._item=e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"set",value:function(e){for(var t in e){var n=e[t];m.is.und(n)||this.springs[t].set(n)}}},{key:"update",value:function(e){return e&&this.queue.push(be(e)),this}},{key:"start",value:function(e){var t=this.queue;return e?t=(0,m.qo)(e).map(be):this.queue=[],this._flush?this._flush(this,t):(De(this,t),Oe(this,t))}},{key:"stop",value:function(e,t){if(e!==!!e&&(t=e),t){var n=this.springs;(0,m.S6)((0,m.qo)(t),(function(t){return n[t].stop(!!e)}))}else ie(this._state,this._lastAsyncId),this.each((function(t){return t.stop(!!e)}));return this}},{key:"pause",value:function(e){if(m.is.und(e))this.start({pause:!0});else{var t=this.springs;(0,m.S6)((0,m.qo)(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(m.is.und(e))this.start({pause:!1});else{var t=this.springs;(0,m.S6)((0,m.qo)(e),(function(e){return t[e].resume()}))}return this}},{key:"each",value:function(e){(0,m.rU)(this.springs,e)}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,r=t.onChange,i=t.onRest,o=this._active.size>0,s=this._changed.size>0;(o&&!this._started||s&&!this._started)&&(this._started=!0,(0,m.yl)(n,(function(t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];i.value=e.get(),r(i,e,e._item)})));var u=!o&&this._started,c=s||u&&i.size?this.get():null;s&&r.size&&(0,m.yl)(r,(function(t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];i.value=c,r(i,e,e._item)})),u&&(this._started=!1,(0,m.yl)(i,(function(t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];i.value=c,r(i,e,e._item)})))}},{key:"eventObserved",value:function(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}m.Wn.onFrame(this._onFrame)}}]),e}();function Oe(e,t){return Promise.all(t.map((function(t){return Ae(e,t)}))).then((function(t){return $(e,t)}))}function Ae(e,t,n){return Ie.apply(this,arguments)}function Ie(){return Ie=(0,d.Z)((0,f.Z)().mark((function e(t,n,r){var i,a,o,s,u,c,l,d,p,h,v,g,y;return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.keys,a=n.to,o=n.from,s=n.loop,u=n.onRest,c=n.onResolve,l=m.is.obj(n.default)&&n.default,s&&(n.loop=!1),!1===a&&(n.to=null),!1===o&&(n.from=null),(d=m.is.arr(a)||m.is.fun(a)?a:void 0)?(n.to=void 0,n.onRest=void 0,l&&(l.onRest=void 0)):(0,m.S6)(Te,(function(e){var r=n[e];if(m.is.fun(r)){var i=t._events[e];n[e]=function(e){var t=e.finished,n=e.cancelled,a=i.get(r);a?(t||(a.finished=!1),n&&(a.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:n||!1})},l&&(l[e]=n[e])}})),p=t._state,n.pause===!p.paused?(p.paused=n.pause,(0,m.bl)(n.pause?p.pauseQueue:p.resumeQueue)):p.paused&&(n.pause=!0),h=(i||Object.keys(t.springs)).map((function(e){return t.springs[e].start(n)})),v=!0===n.cancel||!0===C(n,"cancel"),(d||v&&p.asyncId)&&h.push(J(++t._lastAsyncId,{props:n,state:p,actions:{pause:m.ZT,resume:m.ZT,start:function(e,n){v?(ie(p,t._lastAsyncId),n(ne(t))):(e.onRest=u,n(re(d,e,p,t)))}}})),!p.paused){e.next=15;break}return e.next=15,new Promise((function(e){p.resumeQueue.add(e)}));case 15:return e.t0=$,e.t1=t,e.next=19,Promise.all(h);case 19:if(e.t2=e.sent,g=(0,e.t0)(e.t1,e.t2),!s||!g.finished||r&&g.noop){e.next=26;break}if(!(y=ye(n,s,a))){e.next=26;break}return De(t,[y]),e.abrupt("return",Ae(t,y,!0));case 26:return c&&m.Wn.batchedUpdates((function(){return c(g,t,t.item)})),e.abrupt("return",g);case 28:case"end":return e.stop()}}),e)}))),Ie.apply(this,arguments)}function Re(e,t){var n=_({},e.springs);return t&&(0,m.S6)((0,m.qo)(t),(function(e){m.is.und(e.keys)&&(e=be(e)),m.is.obj(e.to)||(e=_({},e,{to:void 0})),Me(n,e,(function(e){return Pe(e)}))})),Ne(e,n),n}function Ne(e,t){(0,m.rU)(t,(function(t,n){e.springs[n]||(e.springs[n]=t,(0,m.UI)(t,e))}))}function Pe(e,t){var n=new me;return n.key=e,t&&(0,m.UI)(n,t),n}function Me(e,t,n){t.keys&&(0,m.S6)(t.keys,(function(r){(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function De(e,t){(0,m.S6)(t,(function(t){Me(e.springs,t,(function(t){return Pe(t,e)}))}))}function Le(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var je,Fe,Ze=["children"],Be=function(e){var t=e.children,n=Le(e,Ze),r=(0,g.useContext)(Ue),i=n.pause||!!r.pause,a=n.immediate||!!r.immediate;n=(0,m.Pr)((function(){return{pause:i,immediate:a}}),[i,a]);var o=Ue.Provider;return g.createElement(o,{value:n},t)},Ue=(je=Be,Fe={},Object.assign(je,g.createContext(Fe)),je.Provider._context=je,je.Consumer._context=je,je);Be.Provider=Ue.Provider,Be.Consumer=Ue.Consumer;var Ve=function(){var e=[],t=function(t){(0,m.ZR)();var r=[];return(0,m.S6)(e,(function(e,i){if(m.is.und(t))r.push(e.start());else{var a=n(t,e,i);a&&r.push(e.start(a))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){var n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){var t=arguments;return(0,m.S6)(e,(function(e){return e.pause.apply(e,(0,i.Z)(t))})),this},t.resume=function(){var t=arguments;return(0,m.S6)(e,(function(e){return e.resume.apply(e,(0,i.Z)(t))})),this},t.set=function(t){(0,m.S6)(e,(function(e){return e.set(t)}))},t.start=function(t){var n=this,r=[];return(0,m.S6)(e,(function(e,i){if(m.is.und(t))r.push(e.start());else{var a=n._getProps(t,e,i);a&&r.push(e.start(a))}})),r},t.stop=function(){var t=arguments;return(0,m.S6)(e,(function(e){return e.stop.apply(e,(0,i.Z)(t))})),this},t.update=function(t){var n=this;return(0,m.S6)(e,(function(e,r){return e.update(n._getProps(t,e,r))})),this};var n=function(e,t,n){return m.is.fun(e)?e(n,t):e};return t._getProps=n,t};function ze(e,t,n){var r=arguments,a=m.is.fun(t)&&t;a&&!n&&(n=[]);var o=(0,g.useMemo)((function(){return a||3==r.length?Ve():void 0}),[]),s=(0,g.useRef)(0),u=(0,m.NW)(),c=(0,g.useMemo)((function(){return{ctrls:[],queue:[],flush:function(e,t){var n=Re(e,t);return s.current>0&&!c.queue.length&&!Object.keys(n).some((function(t){return!e.springs[t]}))?Oe(e,t):new Promise((function(r){Ne(e,n),c.queue.push((function(){r(Oe(e,t))})),u()}))}}}),[]),l=(0,g.useRef)((0,i.Z)(c.ctrls)),f=[],d=(0,m.zH)(e)||0;function p(e,n){for(var r=e;r<n;r++){var i=l.current[r]||(l.current[r]=new Ce(null,c.flush)),o=a?a(r,i):t[r];o&&(f[r]=xe(o))}}(0,g.useMemo)((function(){(0,m.S6)(l.current.slice(e,d),(function(e){L(e,o),e.stop(!0)})),l.current.length=e,p(d,e)}),[e]),(0,g.useMemo)((function(){p(0,Math.min(d,e))}),n);var h=l.current.map((function(e,t){return Re(e,f[t])})),v=(0,g.useContext)(Be),y=(0,m.zH)(v),b=v!==y&&M(v);(0,m.LI)((function(){s.current++,c.ctrls=l.current;var e=c.queue;e.length&&(c.queue=[],(0,m.S6)(e,(function(e){return e()}))),(0,m.S6)(l.current,(function(e,t){null==o||o.add(e),b&&e.start({default:v});var n=f[t];n&&(j(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),(0,m.tf)((function(){return function(){(0,m.S6)(c.ctrls,(function(e){return e.stop(!0)}))}}));var x=h.map((function(e){return _({},e)}));return o?[x,o]:x}function We(e,t){var n=m.is.fun(e),r=ze(1,n?e:[e],n?t||[]:t),i=(0,a.Z)(r,2),o=(0,a.Z)(i[0],1),s=o[0],u=i[1];return n||2==arguments.length?[s,u]:s}var He,Ge=function(){return Ve()},qe=function(){return(0,g.useState)(Ge)[0]};function Ke(e,t,n){var r,i=m.is.fun(t)&&t;i&&!n&&(n=[]);var a=!0,o=void 0,s=ze(e,(function(e,n){var r=i?i(e,n):t;return o=r.ref,a=a&&r.reverse,r}),n||[{}]),u=null!=(r=o)?r:s[1];return(0,m.LI)((function(){(0,m.S6)(u.current,(function(e,t){var n=u.current[t+(a?1:-1)];n?e.start({to:n.springs}):e.start()}))}),n),i||3==arguments.length?(u._getProps=function(e,t,n){var r=m.is.fun(e)?e(n,t):e;if(r){var i=u.current[n+(r.reverse?1:-1)];return i&&(r.to=i.springs),r}},s):(u.start=function(e){var t=[];return(0,m.S6)(u.current,(function(n,r){var i=m.is.fun(e)?e(r,n):e,o=u.current[r+(a?1:-1)];o?t.push(n.start(_({},i,{to:o.springs}))):t.push(n.start(_({},i)))})),t},s[0])}function Ye(e,t,n){var r=arguments,i=m.is.fun(t)&&t,a=i?i():t,o=a.reset,s=a.sort,u=a.trail,c=void 0===u?0:u,l=a.expires,f=void 0===l||l,d=a.exitBeforeEnter,p=void 0!==d&&d,h=a.onDestroyed,v=a.ref,y=a.config,b=(0,g.useMemo)((function(){return i||3==r.length?Ve():void 0}),[]),x=(0,m.qo)(e),k=[],w=(0,g.useRef)(null),T=o?null:w.current;(0,m.LI)((function(){w.current=k})),(0,m.tf)((function(){return(0,m.S6)(k,(function(e){null==b||b.add(e.ctrl),e.ctrl.ref=b})),function(){(0,m.S6)(w.current,(function(e){e.expired&&clearTimeout(e.expirationId),L(e.ctrl,b),e.ctrl.stop(!0)}))}}));var E=Qe(x,i?i():t,T),C=o&&w.current||[];(0,m.LI)((function(){return(0,m.S6)(C,(function(e){var t=e.ctrl,n=e.item,r=e.key;L(t,b),S(h,n,r)}))}));var O=[];if(T&&(0,m.S6)(T,(function(e,t){e.expired?(clearTimeout(e.expirationId),C.push(e)):~(t=O[t]=E.indexOf(e.key))&&(k[t]=e)})),(0,m.S6)(x,(function(e,t){k[t]||(k[t]={key:E[t],item:e,phase:He.MOUNT,ctrl:new Ce},k[t].ctrl.item=e)})),O.length){var I=-1,R=i?i():t,P=R.leave;(0,m.S6)(O,(function(e,t){var n=T[t];~e?(I=k.indexOf(n),k[I]=_({},n,{item:x[e]})):P&&k.splice(++I,0,n)}))}m.is.fun(s)&&k.sort((function(e,t){return s(e.item,t.item)}));var D=-c,F=(0,m.NW)(),Z=A(t),B=new Map,U=(0,g.useRef)(new Map),V=(0,g.useRef)(!1);(0,m.S6)(k,(function(e,n){var r,a,o=e.key,s=e.phase,u=i?i():t,l=S(u.delay||0,o);if(s==He.MOUNT)r=u.enter,a=He.ENTER;else{var d=E.indexOf(o)<0;if(s!=He.LEAVE)if(d)r=u.leave,a=He.LEAVE;else{if(!(r=u.update))return;a=He.UPDATE}else{if(d)return;r=u.enter,a=He.ENTER}}if(r=S(r,e.item,n),!(r=m.is.obj(r)?N(r):{to:r}).config){var h=y||Z.config;r.config=S(h,e.item,n,a)}var g=_({},Z,{delay:l+(D+=c),ref:v,immediate:u.immediate,reset:!1},r);if(a==He.ENTER&&m.is.und(g.from)){var b=i?i():t,x=m.is.und(b.initial)||T?b.from:b.initial;g.from=S(x,e.item,n)}var k=g.onResolve;g.onResolve=function(e){S(k,e);var t=w.current,n=t.find((function(e){return e.key===o}));if(n&&(!e.cancelled||n.phase==He.UPDATE)&&n.ctrl.idle){var r=t.every((function(e){return e.ctrl.idle}));if(n.phase==He.LEAVE){var i=S(f,n.item);if(!1!==i){var a=!0===i?0:i;if(n.expired=!0,!r&&a>0)return void(a<=2147483647&&(n.expirationId=setTimeout(F,a)))}}r&&t.some((function(e){return e.expired}))&&(U.current.delete(n),p&&(V.current=!0),F())}};var C=Re(e.ctrl,g);a===He.LEAVE&&p?U.current.set(e,{phase:a,springs:C,payload:g}):B.set(e,{phase:a,springs:C,payload:g})}));var z=(0,g.useContext)(Be),W=(0,m.zH)(z),H=z!==W&&M(z);(0,m.LI)((function(){H&&(0,m.S6)(k,(function(e){e.ctrl.start({default:z})}))}),[z]),(0,m.S6)(B,(function(e,t){if(U.current.size){var n=k.findIndex((function(e){return e.key===t.key}));k.splice(n,1)}})),(0,m.LI)((function(){(0,m.S6)(U.current.size?U.current:B,(function(e,t){var n=e.phase,r=e.payload,i=t.ctrl;t.phase=n,null==b||b.add(i),H&&n==He.ENTER&&i.start({default:z}),r&&(j(i,r.ref),!i.ref&&!b||V.current?(i.start(r),V.current&&(V.current=!1)):i.update(r))}))}),o?void 0:n);var G=function(e){return g.createElement(g.Fragment,null,k.map((function(t,n){var r=(B.get(t)||t.ctrl).springs,i=e(_({},r),t.item,t,n);return i&&i.type?g.createElement(i.type,_({},i.props,{key:m.is.str(t.key)||m.is.num(t.key)?t.key:t.ctrl.id,ref:i.ref})):i})))};return b?[G,b]:G}!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(He||(He={}));var Xe=1;function Qe(e,t,n){var r=t.key,i=t.keys,a=void 0===i?r:i;if(null===a){var o=new Set;return e.map((function(e){var t=n&&n.find((function(t){return t.item===e&&t.phase!==He.LEAVE&&!o.has(t)}));return t?(o.add(t),t.key):Xe++}))}return m.is.und(a)?e:m.is.fun(a)?e.map(a):(0,m.qo)(a)}var Je=["children"];function $e(e){return(0,e.children)(We(Le(e,Je)))}var et=["items","children"];function tt(e){var t=e.items,n=e.children,r=Le(e,et),i=Ke(t.length,r);return t.map((function(e,t){var r=n(e,t);return m.is.fun(r)?r(i[t]):r}))}var nt=["items","children"];function rt(e){var t=e.items,n=e.children;return Ye(t,Le(e,nt))(n)}var it=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(e,a){var o;(0,h.Z)(this,n),(o=t.call(this)).key=void 0,o.idle=!0,o.calc=void 0,o._active=new Set,o.source=e,o.calc=m.mD.apply(void 0,(0,i.Z)(a));var s=o._get(),u=(0,y.sb)(s);return(0,y.f3)((0,r.Z)(o),u.create(s)),o}return(0,p.Z)(n,[{key:"advance",value:function(e){var t=this._get(),n=this.get();(0,m.Xy)(t,n)||((0,y.ys)(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&ot(this._active)&&st(this)}},{key:"_get",value:function(){var e=m.is.arr(this.source)?this.source.map(m.je):(0,m.qo)((0,m.je)(this.source));return this.calc.apply(this,(0,i.Z)(e))}},{key:"_start",value:function(){var e=this;this.idle&&!ot(this._active)&&(this.idle=!1,(0,m.S6)((0,y.He)(this),(function(e){e.done=!1})),m.OH.skipAnimation?(m.Wn.batchedUpdates((function(){return e.advance()})),st(this)):m.fT.start(this))}},{key:"_attach",value:function(){var e=this,t=1;(0,m.S6)((0,m.qo)(this.source),(function(n){(0,m.j$)(n)&&(0,m.UI)(n,e),se(n)&&(n.idle||e._active.add(n),t=Math.max(t,n.priority+1))})),this.priority=t,this._start()}},{key:"_detach",value:function(){var e=this;(0,m.S6)((0,m.qo)(this.source),(function(t){(0,m.j$)(t)&&(0,m.iL)(t,e)})),this._active.clear(),st(this)}},{key:"eventObserved",value:function(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=(0,m.qo)(this.source).reduce((function(e,t){return Math.max(e,(se(t)?t.priority:0)+1)}),0))}}]),n}(ce);function at(e){return!1!==e.idle}function ot(e){return!e.size||Array.from(e).every(at)}function st(e){e.idle||(e.idle=!0,(0,m.S6)((0,y.He)(e),(function(e){e.done=!0})),(0,m.k0)(e,{type:"idle",parent:e}))}var ut=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new it(e,n)},ct=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(0,m.LW)(),new it(e,n)};m.OH.assign({createStringInterpolator:m.qS,to:function(e,t){return new it(e,t)}});var lt=m.fT.advance},91315:function(e,t,n){"use strict";n.d(t,{B0:function(){return Te},OH:function(){return V},UI:function(){return Ce},k0:function(){return Se},O9:function(){return J},mD:function(){return ge},qS:function(){return Ze},dE:function(){return C},ZR:function(){return He},LW:function(){return ze},S6:function(){return I},rU:function(){return R},yl:function(){return P},bl:function(){return L},fT:function(){return q},Ll:function(){return _e},je:function(){return we},j$:function(){return ke},is:function(){return O},Df:function(){return Ge},Xy:function(){return A},ZT:function(){return E},Wn:function(){return u},iL:function(){return Oe},qo:function(){return N},NW:function(){return Ke},LI:function(){return qe},Pr:function(){return Ye},tf:function(){return Xe},zH:function(){return Je},JZ:function(){return $e}});var r=n(29439),i=n(43144),a=n(15671),o=n(93433),s=_(),u=function(e){return b(e,s)},c=_();u.write=function(e){return b(e,c)};var l=_();u.onStart=function(e){return b(e,l)};var f=_();u.onFrame=function(e){return b(e,f)};var d=_();u.onFinish=function(e){return b(e,d)};var p=[];u.setTimeout=function(e,t){var n=u.now()+t,r={time:n,handler:e,cancel:function e(){var t=p.findIndex((function(t){return t.cancel==e}));~t&&p.splice(t,1),g-=~t?1:0}};return p.splice(h(n),0,r),g+=1,x(),r};var h=function(e){return~(~p.findIndex((function(t){return t.time>e}))||~p.length)};u.cancel=function(e){l.delete(e),f.delete(e),d.delete(e),s.delete(e),c.delete(e)},u.sync=function(e){y=!0,u.batchedUpdates(e),y=!1},u.throttle=function(e){var t;function n(){try{e.apply(void 0,(0,o.Z)(t))}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,u.onStart(n)}return r.handler=e,r.cancel=function(){l.delete(n),t=null},r};var v="undefined"!=typeof window?window.requestAnimationFrame:function(){};u.use=function(e){return v=e},u.now="undefined"!=typeof performance?function(){return performance.now()}:Date.now,u.batchedUpdates=function(e){return e()},u.catch=console.error,u.frameLoop="always",u.advance=function(){"demand"!==u.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):w()};var m=-1,g=0,y=!1;function b(e,t){y?(t.delete(e),e(0)):(t.add(e),x())}function x(){m<0&&(m=0,"demand"!==u.frameLoop&&v(k))}function k(){~m&&(v(k),u.batchedUpdates(w))}function w(){var e=m;m=u.now();var t=h(m);t&&(S(p.splice(0,t),(function(e){return e.handler()})),g-=t),g?(l.flush(),s.flush(e?Math.min(64,m-e):16.667),f.flush(),c.flush(),d.flush()):m=-1}function _(){var e=new Set,t=e;return{add:function(n){g+=t!=e||e.has(n)?0:1,e.add(n)},delete:function(n){return g-=t==e&&e.has(n)?1:0,e.delete(n)},flush:function(n){t.size&&(e=new Set,g-=t.size,S(t,(function(t){return t(n)&&e.add(t)})),g+=e.size,t=e)}}}function S(e,t){e.forEach((function(e){try{t(e)}catch(n){u.catch(n)}}))}var T=n(72791);function E(){}var C=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},O={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e}};function A(e,t){if(O.arr(e)){if(!O.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var I=function(e,t){return e.forEach(t)};function R(e,t,n){if(O.arr(e))for(var r=0;r<e.length;r++)t.call(n,e[r],"".concat(r));else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i)}var N=function(e){return O.und(e)?[]:O.arr(e)?e:[e]};function P(e,t){if(e.size){var n=Array.from(e);e.clear(),I(n,t)}}var M,D,L=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return P(e,(function(e){return e.apply(void 0,n)}))},j=function(){return"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)},F=null,Z=!1,B=E,U=function(e){e.to&&(D=e.to),e.now&&(u.now=e.now),void 0!==e.colors&&(F=e.colors),null!=e.skipAnimation&&(Z=e.skipAnimation),e.createStringInterpolator&&(M=e.createStringInterpolator),e.requestAnimationFrame&&u.use(e.requestAnimationFrame),e.batchedUpdates&&(u.batchedUpdates=e.batchedUpdates),e.willAdvance&&(B=e.willAdvance),e.frameLoop&&(u.frameLoop=e.frameLoop)},V=Object.freeze({__proto__:null,get createStringInterpolator(){return M},get to(){return D},get colors(){return F},get skipAnimation(){return Z},get willAdvance(){return B},assign:U}),z=new Set,W=[],H=[],G=0,q={get idle(){return!z.size&&!W.length},start:function(e){G>e.priority?(z.add(e),u.onStart(K)):(Y(e),u(Q))},advance:Q,sort:function(e){if(G)u.onFrame((function(){return q.sort(e)}));else{var t=W.indexOf(e);~t&&(W.splice(t,1),X(e))}},clear:function(){W=[],z.clear()}};function K(){z.forEach(Y),z.clear(),u(Q)}function Y(e){W.includes(e)||X(e)}function X(e){W.splice(function(e,t){var n=e.findIndex(t);return n<0?e.length:n}(W,(function(t){return t.priority>e.priority})),0,e)}function Q(e){for(var t=H,n=0;n<W.length;n++){var r=W[n];G=r.priority,r.idle||(B(r),r.advance(e),r.idle||t.push(r))}return G=0,(H=W).length=0,(W=t).length>0}var J={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},$="[-+]?\\d*\\.?\\d+",ee=$+"%";function te(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var ne=new RegExp("rgb"+te($,$,$)),re=new RegExp("rgba"+te($,$,$,$)),ie=new RegExp("hsl"+te($,ee,ee)),ae=new RegExp("hsla"+te($,ee,ee,$)),oe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,se=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ue=/^#([0-9a-fA-F]{6})$/,ce=/^#([0-9a-fA-F]{8})$/;function le(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function fe(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,a=le(i,r,e+1/3),o=le(i,r,e),s=le(i,r,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8}function de(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function pe(e){return(parseFloat(e)%360+360)%360/360}function he(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function ve(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function me(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=ue.exec(e))?parseInt(t[1]+"ff",16)>>>0:F&&void 0!==F[e]?F[e]:(t=ne.exec(e))?(de(t[1])<<24|de(t[2])<<16|de(t[3])<<8|255)>>>0:(t=re.exec(e))?(de(t[1])<<24|de(t[2])<<16|de(t[3])<<8|he(t[4]))>>>0:(t=oe.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=ce.exec(e))?parseInt(t[1],16)>>>0:(t=se.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=ie.exec(e))?(255|fe(pe(t[1]),ve(t[2]),ve(t[3])))>>>0:(t=ae.exec(e))?(fe(pe(t[1]),ve(t[2]),ve(t[3]))|he(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,r=(65280&t)>>>8,i=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var ge=function e(t,n,r){if(O.fun(t))return t;if(O.arr(t))return e({range:t,output:n,extrapolate:r});if(O.str(t.output[0]))return M(t);var i=t,a=i.output,o=i.range||[0,1],s=i.extrapolateLeft||i.extrapolate||"extend",u=i.extrapolateRight||i.extrapolate||"extend",c=i.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,a,o,s,u){var c=u?u(e):e;if(c<t){if("identity"===o)return c;"clamp"===o&&(c=t)}if(c>n){if("identity"===s)return c;"clamp"===s&&(c=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=a(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r;return c}(e,o[t],o[t+1],a[t],a[t+1],c,s,u,i.map)}};function ye(){return ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}var be=Symbol.for("FluidValue.get"),xe=Symbol.for("FluidValue.observers"),ke=function(e){return Boolean(e&&e[be])},we=function(e){return e&&e[be]?e[be]():e},_e=function(e){return e[xe]||null};function Se(e,t){var n=e[xe];n&&n.forEach((function(e){!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var Te=(0,i.Z)((function e(t){if((0,a.Z)(this,e),this[be]=void 0,this[xe]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");Ee(this,t)})),Ee=function(e,t){return Ie(e,be,t)};function Ce(e,t){if(e[be]){var n=e[xe];n||Ie(e,xe,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Oe(e,t){var n=e[xe];if(n&&n.has(t)){var r=n.size-1;r?n.delete(t):e[xe]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Ae,Ie=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},Re=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Ne=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Pe=new RegExp("(".concat(Re.source,")(%|[a-z]+)"),"i"),Me=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,De=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Le=function e(t){var n=je(t),i=(0,r.Z)(n,2),a=i[0],o=i[1];if(!a||j())return t;var s=window.getComputedStyle(document.documentElement).getPropertyValue(a);if(s)return s.trim();if(o&&o.startsWith("--")){var u=window.getComputedStyle(document.documentElement).getPropertyValue(o);return u||t}return o&&De.test(o)?e(o):o||t},je=function(e){var t=De.exec(e);if(!t)return[,];var n=(0,r.Z)(t,3);return[n[1],n[2]]},Fe=function(e,t,n,r,i){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")")},Ze=function(e){Ae||(Ae=F?new RegExp("(".concat(Object.keys(F).join("|"),")(?!\\w)"),"g"):/^\b$/);var t=e.output.map((function(e){return we(e).replace(De,Le).replace(Ne,me).replace(Ae,me)})),n=t.map((function(e){return e.match(Re).map(Number)})),r=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})).map((function(t){return ge(ye({},e,{output:t}))}));return function(e){var n,i=!Pe.test(t[0])&&(null==(n=t.find((function(e){return Pe.test(e)})))?void 0:n.replace(Re,"")),a=0;return t[0].replace(Re,(function(){return"".concat(r[a++](e)).concat(i||"")})).replace(Me,Fe)}},Be="react-spring: ",Ue=function(e){var t=e,n=!1;if("function"!=typeof t)throw new TypeError("".concat(Be,"once requires a function parameter"));return function(){n||(t.apply(void 0,arguments),n=!0)}},Ve=Ue(console.warn);function ze(){Ve("".concat(Be,'The "interpolate" function is deprecated in v9 (use "to" instead)'))}var We=Ue(console.warn);function He(){We("".concat(Be,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'))}function Ge(e){return O.str(e)&&("#"==e[0]||/\d/.test(e)||!j()&&De.test(e)||e in(F||{}))}var qe=j()?T.useEffect:T.useLayoutEffect;function Ke(){var e=(0,T.useState)()[1],t=function(){var e=(0,T.useRef)(!1);return qe((function(){return e.current=!0,function(){e.current=!1}}),[]),e}();return function(){t.current&&e(Math.random())}}function Ye(e,t){var n=(0,T.useState)((function(){return{inputs:t,result:e()}})),i=(0,r.Z)(n,1)[0],a=(0,T.useRef)(),o=a.current,s=o;s?Boolean(t&&s.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,s.inputs))||(s={inputs:t,result:e()}):s=i;return(0,T.useEffect)((function(){a.current=s,o==i&&(i.inputs=i.result=void 0)}),[s]),s.result}var Xe=function(e){return(0,T.useEffect)(e,Qe)},Qe=[];function Je(e){var t=(0,T.useRef)();return(0,T.useEffect)((function(){t.current=e})),t.current}var $e=function(){var e=(0,T.useState)(null),t=(0,r.Z)(e,2),n=t[0],i=t[1];return qe((function(){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(e){i(e.matches),U({skipAnimation:e.matches})};return t(e),e.addEventListener("change",t),function(){e.removeEventListener("change",t)}}),[]),n}},84538:function(){},29543:function(){},54753:function(e,t,n){"use strict";n.r(t),n.d(t,{a:function(){return I},animated:function(){return I}});var r=n(29439),i=n(43144),a=n(15671),o=n(60136),s=n(29388),u=n(18867),c={};for(var l in u)["default","a","animated"].indexOf(l)<0&&(c[l]=function(e){return u[e]}.bind(0,l));n.d(t,c);var f=n(54164),d=n(91315),p=n(46196);function h(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var v=["style","children","scrollTop","scrollLeft"],m=/^--/;function g(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||m.test(e)||b.hasOwnProperty(e)&&b[e]?(""+t).trim():t+"px"}var y={};var b={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x=["Webkit","Ms","Moz","O"];b=Object.keys(b).reduce((function(e,t){return x.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),b);var k=["x","y","z"],w=/^(matrix|translate|scale|rotate|skew)/,_=/^(translate)/,S=/^(rotate|skew)/,T=function(e,t){return d.is.num(e)&&0!==e?e+t:e},E=function e(t,n){return d.is.arr(t)?t.every((function(t){return e(t,n)})):d.is.num(t)?t===n:parseFloat(t)===n},C=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){(0,a.Z)(this,n);var i=e.x,o=e.y,s=e.z,u=h(e,k),c=[],l=[];return(i||o||s)&&(c.push([i||0,o||0,s||0]),l.push((function(e){return["translate3d(".concat(e.map((function(e){return T(e,"px")})).join(","),")"),E(e,0)]}))),(0,d.rU)(u,(function(e,t){if("transform"===t)c.push([e||""]),l.push((function(e){return[e,""===e]}));else if(w.test(t)){if(delete u[t],d.is.und(e))return;var n=_.test(t)?"px":S.test(t)?"deg":"";c.push((0,d.qo)(e)),l.push("rotate3d"===t?function(e){var t=(0,r.Z)(e,4),i=t[0],a=t[1],o=t[2],s=t[3];return["rotate3d(".concat(i,",").concat(a,",").concat(o,",").concat(T(s,n),")"),E(s,0)]}:function(e){return["".concat(t,"(").concat(e.map((function(e){return T(e,n)})).join(","),")"),E(e,t.startsWith("scale")?1:0)]})}})),c.length&&(u.transform=new O(c,l)),t.call(this,u)}return(0,i.Z)(n)}(p.rS),O=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e,r){var i;return(0,a.Z)(this,n),(i=t.call(this))._value=null,i.inputs=e,i.transforms=r,i}return(0,i.Z)(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var e=this,t="",n=!0;return(0,d.S6)(this.inputs,(function(i,a){var o=(0,d.je)(i[0]),s=e.transforms[a](d.is.arr(o)?o:i.map(d.je)),u=(0,r.Z)(s,2),c=u[0],l=u[1];t+=" "+c,n=n&&l})),n?"none":t}},{key:"observerAdded",value:function(e){var t=this;1==e&&(0,d.S6)(this.inputs,(function(e){return(0,d.S6)(e,(function(e){return(0,d.j$)(e)&&(0,d.UI)(e,t)}))}))}},{key:"observerRemoved",value:function(e){var t=this;0==e&&(0,d.S6)(this.inputs,(function(e){return(0,d.S6)(e,(function(e){return(0,d.j$)(e)&&(0,d.iL)(e,t)}))}))}},{key:"eventObserved",value:function(e){"change"==e.type&&(this._value=null),(0,d.k0)(this,e)}}]),n}(d.B0),A=["scrollTop","scrollLeft"];u.Globals.assign({batchedUpdates:f.unstable_batchedUpdates,createStringInterpolator:d.qS,colors:d.O9});var I=(0,p.Ld)(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;var n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,r=t,i=r.style,a=r.children,o=r.scrollTop,s=r.scrollLeft,u=h(r,v),c=Object.values(u),l=Object.keys(u).map((function(t){return n||e.hasAttribute(t)?t:y[t]||(y[t]=t.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})))}));for(var f in void 0!==a&&(e.textContent=a),i)if(i.hasOwnProperty(f)){var d=g(f,i[f]);m.test(f)?e.style.setProperty(f,d):e.style[f]=d}l.forEach((function(t,n){e.setAttribute(t,c[n])})),void 0!==o&&(e.scrollTop=o),void 0!==s&&(e.scrollLeft=s)},createAnimatedStyle:function(e){return new C(e)},getComponentProps:function(e){return h(e,A)}}).animated},71059:function(e,t,n){"use strict";n.r(t),n.d(t,{BodyPix:function(){return qi},PART_CHANNELS:function(){return ma},blurBodyPart:function(){return va},drawBokehEffect:function(){return ha},drawMask:function(){return da},drawPixelatedMask:function(){return pa},flipPoseHorizontal:function(){return Mi},load:function(){return Xi},resizeAndPadTo:function(){return Ii},scaleAndCropToInputTensorShape:function(){return Ri},toColoredPartMask:function(){return sa},toMask:function(){return aa},version:function(){return ga}});var r={};n.r(r),n.d(r,{json:function(){return U}});var i={};n.r(i),n.d(i,{json:function(){return V}});var a={};n.r(a),n.d(a,{json:function(){return z}});var o={};n.r(o),n.d(o,{json:function(){return W}});var s={};n.r(s),n.d(s,{json:function(){return H}});var u={};n.r(u),n.d(u,{json:function(){return G}});var c={};n.r(c),n.d(c,{json:function(){return q}});var l={};n.r(l),n.d(l,{json:function(){return K}});var f={};n.r(f),n.d(f,{json:function(){return Y}});var d={};n.r(d),n.d(d,{json:function(){return X}});var p={};n.r(p),n.d(p,{json:function(){return Q}});var h={};n.r(h),n.d(h,{json:function(){return J}});var v={};n.r(v),n.d(v,{json:function(){return $}});var m={};n.r(m),n.d(m,{json:function(){return ee}});var g={};n.r(g),n.d(g,{json:function(){return te}});var y={};n.r(y),n.d(y,{json:function(){return ne}});var b={};n.r(b),n.d(b,{json:function(){return re}});var x={};n.r(x),n.d(x,{json:function(){return ie}});var k={};n.r(k),n.d(k,{json:function(){return ae}});var w={};n.r(w),n.d(w,{OP_SCOPE_SUFFIX:function(){return rn.zvA},abs:function(){return rn.WnP},acos:function(){return rn.Khb},acosh:function(){return rn.__u},add:function(){return rn.IHx},addN:function(){return rn.QBD},all:function(){return rn.$6P},any:function(){return rn.YjB},argMax:function(){return rn.NqF},argMin:function(){return rn.vHJ},asin:function(){return rn.ZRM},asinh:function(){return rn.VfV},atan:function(){return rn.z4N},atan2:function(){return rn.fvJ},atanh:function(){return rn.C80},avgPool:function(){return rn.wS1},avgPool3d:function(){return rn.uR5},basicLSTMCell:function(){return rn.zEQ},batchNorm:function(){return rn.tgs},batchNorm2d:function(){return rn.Dxk},batchNorm3d:function(){return rn.JY5},batchNorm4d:function(){return rn.p3b},batchToSpaceND:function(){return rn.E4h},bincount:function(){return rn.yE8},booleanMaskAsync:function(){return rn.anm},broadcastArgs:function(){return rn.XsQ},broadcastTo:function(){return rn.UFq},buffer:function(){return rn.f3b},cast:function(){return rn.pju},ceil:function(){return rn.mDi},clipByValue:function(){return rn.iUl},clone:function(){return rn.d9v},complex:function(){return rn.PYB},concat:function(){return rn.zoF},concat1d:function(){return rn.gME},concat2d:function(){return rn.Izb},concat3d:function(){return rn.MNy},concat4d:function(){return rn.ZaL},conv1d:function(){return rn.PAt},conv2d:function(){return rn.Tek},conv2dTranspose:function(){return rn.bc},conv3d:function(){return rn.pdZ},conv3dTranspose:function(){return rn.$QV},cos:function(){return rn.mCk},cosh:function(){return rn.f9Y},cosineWindow:function(){return rn.mew},cumprod:function(){return rn.$Gn},cumsum:function(){return rn.zbp},denseBincount:function(){return rn.ppE},depthToSpace:function(){return rn.nTT},depthwiseConv2d:function(){return rn.B10},diag:function(){return rn.Ka3},dilation2d:function(){return rn.WmZ},div:function(){return rn.hiC},divNoNan:function(){return rn.NTj},dot:function(){return rn.AKD},dropout:function(){return rn.rvX},einsum:function(){return rn.WYO},elu:function(){return rn.pyx},enclosingPowerOfTwo:function(){return rn.GRh},equal:function(){return rn.DgJ},erf:function(){return rn.qNN},euclideanNorm:function(){return rn.d2q},exp:function(){return rn.Qqt},expandDims:function(){return rn.dt4},expm1:function(){return rn.t$B},eye:function(){return rn.iyy},fft:function(){return rn.kp_},fill:function(){return rn.hlL},floor:function(){return rn.GWj},floorDiv:function(){return rn.qPi},fused:function(){return rn.imm},gather:function(){return rn.Iqj},gatherND:function(){return rn.dbB},greater:function(){return rn.pjt},greaterEqual:function(){return rn.brS},ifft:function(){return rn.Sxn},imag:function(){return rn.asL},image:function(){return rn.BHj},inTopKAsync:function(){return rn.V3u},irfft:function(){return rn.wx0},isFinite:function(){return rn.xVT},isInf:function(){return rn.UWc},isNaN:function(){return rn.i2d},leakyRelu:function(){return rn.hi7},less:function(){return rn.d9m},lessEqual:function(){return rn.zN1},linalg:function(){return rn.$r2},linspace:function(){return rn.SX3},localResponseNormalization:function(){return rn.G9k},log:function(){return rn.cM7},log1p:function(){return rn.Krr},logSigmoid:function(){return rn.e_t},logSoftmax:function(){return rn.CmS},logSumExp:function(){return rn.l_t},logicalAnd:function(){return rn.HvI},logicalNot:function(){return rn.hJK},logicalOr:function(){return rn.K5V},logicalXor:function(){return rn.egP},losses:function(){return rn.MB5},lowerBound:function(){return rn.eab},matMul:function(){return rn.OI3},max:function(){return rn.Fp7},maxPool:function(){return rn._sB},maxPool3d:function(){return rn.YQQ},maxPoolWithArgmax:function(){return rn.Ip$},maximum:function(){return rn.gWQ},mean:function(){return rn.J69},meshgrid:function(){return rn.ry_},min:function(){return rn.VV$},minimum:function(){return rn.LTh},mirrorPad:function(){return rn.VdP},mod:function(){return rn.wQq},moments:function(){return rn.Gi7},movingAverage:function(){return rn.p_},mul:function(){return rn.dC7},multiRNNCell:function(){return rn.rq4},multinomial:function(){return rn.SJ_},neg:function(){return rn.W76},norm:function(){return rn.KOy},notEqual:function(){return rn.Quu},oneHot:function(){return rn.lfX},ones:function(){return rn.iUs},onesLike:function(){return rn.JpU},op:function(){return rn.op},outerProduct:function(){return rn.N2O},pad:function(){return rn.vku},pad1d:function(){return rn.pNR},pad2d:function(){return rn.koy},pad3d:function(){return rn.t1L},pad4d:function(){return rn.lGY},pool:function(){return rn.d_R},pow:function(){return rn.sQ3},prelu:function(){return rn.AL3},print:function(){return rn.S0v},prod:function(){return rn.WVs},rand:function(){return rn.TN_},randomGamma:function(){return rn.wzB},randomNormal:function(){return rn.nGf},randomUniform:function(){return rn.LGj},range:function(){return rn.w6H},real:function(){return rn.kwC},reciprocal:function(){return rn.M25},relu:function(){return rn.UYe},relu6:function(){return rn.btT},reshape:function(){return rn.XLQ},reverse:function(){return rn.GYS},reverse1d:function(){return rn.SDf},reverse2d:function(){return rn.diP},reverse3d:function(){return rn.sx7},reverse4d:function(){return rn.mG2},rfft:function(){return rn.QEs},round:function(){return rn.NMM},rsqrt:function(){return rn.bp0},scalar:function(){return rn.iD$},scatterND:function(){return rn.snQ},searchSorted:function(){return rn.zcT},selu:function(){return rn.U8D},separableConv2d:function(){return rn.U_I},setdiff1dAsync:function(){return rn.ODp},sigmoid:function(){return rn.XD2},sign:function(){return rn.Xxe},signal:function(){return rn.tdS},sin:function(){return rn.O$l},sinh:function(){return rn.R_K},slice:function(){return rn.tPi},slice1d:function(){return rn.jZU},slice2d:function(){return rn.SmN},slice3d:function(){return rn.CnO},slice4d:function(){return rn.p0P},softmax:function(){return rn.XAC},softplus:function(){return rn.Wvh},spaceToBatchND:function(){return rn.fBT},sparse:function(){return rn.rVs},sparseToDense:function(){return rn.ers},spectral:function(){return rn.uN7},split:function(){return rn.Vl2},sqrt:function(){return rn._b3},square:function(){return rn.h62},squaredDifference:function(){return rn.$i},squeeze:function(){return rn.L9e},stack:function(){return rn.knu},step:function(){return rn.Nbs},stridedSlice:function(){return rn.NXj},string:function(){return rn.Z_8},sub:function(){return rn.luU},sum:function(){return rn.Smz},tan:function(){return rn.ORZ},tanh:function(){return rn.AEp},tensor:function(){return rn.XeE},tensor1d:function(){return rn.RRF},tensor2d:function(){return rn.odF},tensor3d:function(){return rn.wOQ},tensor4d:function(){return rn.yXz},tensor5d:function(){return rn.Bfx},tensor6d:function(){return rn.xZs},tile:function(){return rn.Gg6},topk:function(){return rn.hg7},transpose:function(){return rn.p4s},truncatedNormal:function(){return rn.Xu6},unique:function(){return rn.Two},unsortedSegmentSum:function(){return rn.pUJ},unstack:function(){return rn.HHK},upperBound:function(){return rn.GaM},variable:function(){return rn.VD$},where:function(){return rn.arb},whereAsync:function(){return rn.itS},zeros:function(){return rn.lls},zerosLike:function(){return rn.P84}});var _=n(87105);(0,_.env)().registerFlag("KEEP_INTERMEDIATE_TENSORS",(function(){return!1}),(function(e){e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")}));var S,T,E=n(74165),C=n(15861),O=n(15671),A=n(43144),I=n(29439),R=n(93433);!function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(S||(S={})),function(e){!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(T||(T={}));var N={};function P(e){return N[e]}function M(e,t,n,r,i){var a=t.inputParams[e];if(a&&void 0!==a.inputIndexStart){var o=a.inputIndexStart,s=0===a.inputIndexEnd?void 0:void 0===a.inputIndexEnd?o+1:a.inputIndexEnd;if("tensor"===a.type)return D(t.inputNames[a.inputIndexStart],n,r,i);if("tensors"===a.type)return t.inputNames.slice(o,s).map((function(e){return D(e,n,r,i)}));var u=D(t.inputNames.slice(o)[0],n,r,i),c=u.dataSync();return"number"===a.type?c[0]:_.util.toNestedArray(u.shape,c)}var l=t.attrParams[e];return l&&l.value}function D(e,t,n,r){var i=F(e),a=(0,I.Z)(i,2),o=a[0],s=a[1];if(null!=r){var u=r.getHashTableHandleByName(o);if(null!=u)return u}var c=n.currentContextIds.find((function(e){return!!t[j(o,e)]}));return void 0!==c?t[j(o,c)][s]:void 0}function L(e,t){var n=F(e),r=(0,I.Z)(n,3),i=r[0],a=r[1],o=r[2];return[j(i,t&&t.currentContextId),a,o]}function j(e,t){return t?"".concat(e,"-").concat(t):e}function F(e){var t=e.split(":");if(1===t.length)return[e,0,void 0];var n=t[0],r=3===t.length?t[1]:void 0;return[n,Number(t[t.length-1]),r]}function Z(e,t,n){var r=M("pad",e,t,n);if("explicit"===r){r=M("explicitPaddings",e,t,n);for(var i=[[0,0],[0,0],[0,0],[0,0]],a=0;a<4;a++)i[a][0]=r[2*a],i[a][1]=r[2*a+1];return i}return r}function B(e){return e.kept?e:(0,_.clone)(e)}var U=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],V=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],z=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],W=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number"}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],H=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],G=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],q=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],K=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],Y=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],X=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],Q=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],J=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],$=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],ee=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],te=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],ne=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],re=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],ie=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],ae=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],oe=function(){function e(){var t;(0,O.Z)(this,e);var n=[r,i,a,o,s,u,c,l,f,d,p,h,v,m,g,y,b,x,k],w=(t=[]).concat.apply(t,(0,R.Z)(n.map((function(e){return e.json}))));this.opMappers=w.reduce((function(e,t){return e[t.tfOpName]=t,e}),{})}return(0,A.Z)(e,[{key:"transformGraph",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.node,i=[],a=[],o=[],s=r.reduce((function(e,n){return e[n.name]=t.mapNode(n),n.op.startsWith("Placeholder")?i.push(e[n.name]):"Const"===n.op?a.push(e[n.name]):null!=n.input&&0!==n.input.length||o.push(e[n.name]),e}),{}),u=[],c=[],l={},f={};null!=n&&(l=this.mapSignatureEntries(n.inputs),f=this.mapSignatureEntries(n.outputs));var d=Object.keys(s);d.forEach((function(e){var t=s[e];t.inputNames.forEach((function(e,n){var r=L(e),i=(0,I.Z)(r,3),a=i[0],o=i[2],u=s[a];if(null!=u.outputs){var c=u.outputs.indexOf(o);if(-1!==c){var l="".concat(a,":").concat(c);t.inputNames[n]=l}}t.inputs.push(u),u.children.push(t)}))})),0===Object.keys(f).length?d.forEach((function(e){var t=s[e];0===t.children.length&&c.push(t)})):Object.keys(f).forEach((function(e){var t=L(e),n=(0,I.Z)(t,1)[0],r=s[n];null!=r&&(r.signatureKey=f[e],c.push(r))})),Object.keys(l).length>0?Object.keys(l).forEach((function(e){var t=L(e),n=(0,I.Z)(t,1)[0],r=s[n];r&&(r.signatureKey=l[e],u.push(r))})):u=i;var p={};null!=e.library&&null!=e.library.function&&(p=e.library.function.reduce((function(e,n){return e[n.signature.name]=t.mapFunction(n),e}),{}));var h={nodes:s,inputs:u,outputs:c,weights:a,placeholders:i,signature:n,functions:p};return o.length>0&&(h.initNodes=o),h}},{key:"mapSignatureEntries",value:function(e){return Object.keys(e||{}).reduce((function(t,n){return t[e[n].name]=n,t}),{})}},{key:"mapNode",value:function(e){var t=P(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((function(e){return e.startsWith("^")?e.slice(1):e})),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce((function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e}),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce((function(t,n){var r=n.type,i=void 0;switch(n.type){case"string":void 0===(i=ue(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=ue(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(i=ye(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=ye(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(i=le(e.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(i=le(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(i=ge(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=ge(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(i=ce(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=ce(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(i=xe(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=xe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(i=me(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=me(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(i=be(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=be(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(i=pe(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=pe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(i=he(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=he(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":void 0===(i=de(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=de(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(e.op))}return t[n.name]={value:i,type:r},t}),{})),n}},{key:"mapFunction",value:function(e){var t=this,n=e.nodeDef,r=[],i={};null!=n&&(i=n.reduce((function(e,n){return e[n.name]=t.mapNode(n),"Const"===n.op&&r.push(e[n.name]),e}),{}));var a=[],o=[];e.signature.inputArg.forEach((function(e){var t=L(e.name),n=(0,I.Z)(t,1)[0],r={name:n,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:fe(e.type),type:"dtype"}},children:[]};r.signatureKey=e.name,a.push(r),i[n]=r})),Object.keys(i).forEach((function(e){var t=i[e];t.inputNames.forEach((function(e,n){var r=L(e),a=(0,I.Z)(r,3),o=a[0],s=a[2],u=i[o];if(null!=u.outputs){var c=u.outputs.indexOf(s);if(-1!==c){var l="".concat(o,":").concat(c);t.inputNames[n]=l}}t.inputs.push(u),u.children.push(t)}))}));var s=e.ret;e.signature.outputArg.forEach((function(e){var t=L(s[e.name]),n=(0,I.Z)(t,2),r=n[0],a=n[1],u=i[r];null!=u&&(u.defaultOutput=a,o.push(u))}));var u=this.mapArgsToSignature(e);return{nodes:i,inputs:a,outputs:o,weights:r,placeholders:[],signature:u}}},{key:"mapArgsToSignature",value:function(e){var t=this;return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((function(e,n){return e[n.name]=t.mapArgToTensorInfo(n),e}),{}),outputs:e.signature.outputArg.reduce((function(n,r){return n[r.name]=t.mapArgToTensorInfo(r,e.ret),n}),{})}}},{key:"mapArgToTensorInfo",value:function(e,t){var n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new this)}}]),e}();function se(e,t){var n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){var t=(0,_.env)().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function ue(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e[t];return null!=i?se(i.s,r):n}function ce(e,t,n){var r=e[t];return r?r.b:n}function le(e,t,n){var r=e[t]||{},i=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof i?i:parseInt(i,10)}function fe(e){switch("string"===typeof e&&(e=S[e]),e){case S.DT_FLOAT:case S.DT_HALF:return"float32";case S.DT_INT32:case S.DT_INT64:case S.DT_INT8:case S.DT_UINT8:return"int32";case S.DT_BOOL:return"bool";case S.DT_DOUBLE:return"float32";case S.DT_STRING:return"string";default:return null}}function de(e,t,n){var r=e[t];return r&&r.func?r.func.name:n}function pe(e,t,n){var r=e[t];return r&&r.type?fe(r.type):n}function he(e,t,n){var r=e[t];return r&&r.list&&r.list.type?r.list.type.map((function(e){return fe(e)})):n}function ve(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((function(e){return"number"===typeof e.size?e.size:parseInt(e.size,10)})):[]}function me(e,t,n){var r=e[t];return r&&r.shape?ve(r.shape):n}function ge(e,t,n){var r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((function(e){return"number"===typeof e?e:parseInt(e,10)})):n}function ye(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e[t];return i&&i.list&&i.list.s?i.list.s.map((function(e){return se(e,r)})):n}function be(e,t,n){var r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((function(e){return ve(e)})):n}function xe(e,t,n){var r=e[t];return r&&r.list&&r.list.b?r.list.b:n}var ke=function(){function e(t,n,r){var i=this;(0,O.Z)(this,e),this.node=t,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=t.inputNames.map((function(e){return i.getInput(e)})),null!=t.rawAttrs&&(this.attrs=Object.keys(t.rawAttrs).reduce((function(e,t){return e[t]=i.getAttr(t),e}),{}))}return(0,A.Z)(e,[{key:"getInput",value:function(e){return D(e,this.tensorMap,this.context)}},{key:"getAttr",value:function(e,t){var n=this.node.rawAttrs[e];if(null!=n.tensor)return D(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return le(this.node.rawAttrs,e,t);if(null!=n.s)return ue(this.node.rawAttrs,e,t);if(null!=n.b)return ce(this.node.rawAttrs,e,t);if(null!=n.shape)return me(this.node.rawAttrs,e,t);if(null!=n.type)return pe(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return ge(this.node.rawAttrs,e,t);if(null!=n.list.s)return ye(this.node.rawAttrs,e,t);if(null!=n.list.shape)return be(this.node.rawAttrs,e,t);if(null!=n.list.b)return xe(this.node.rawAttrs,e,t);if(null!=n.list.type)return he(this.node.rawAttrs,e,t)}return t}}]),e}(),we=n(43312),_e=n(15506),Se=n(84645),Te=n(30651),Ee=n(15750),Ce=n(75923),Oe=n(67145),Ae=n(84774),Ie=n(82273),Re=n(70705),Ne=n(44334),Pe=n(7993),Me=n(7613),De=n(1719),Le=n(24502),je=n(33053),Fe=n(30054),Ze=n(64778),Be=n(32227),Ue=n(47897),Ve=n(31396),ze=n(59253),We=n(21227),He=n(46679),Ge=n(52353),qe=n(93891),Ke=n(411),Ye=n(15682),Xe=n(22628),Qe=n(40378),Je=n(95341),$e=n(76996),et=n(4362),tt=n(12209),nt=n(26972),rt=n(17539),it=n(60766),at=n(20413),ot=n(77643),st=n(87254),ut=n(2070),ct=n(57657),lt=n(54626),ft=n(46902),dt=n(7391),pt=n(11744),ht=n(66999),vt=n(89836),mt=n(65900),gt=n(65115),yt=n(67722),bt=n(74419),xt=n(96859),kt=n(37005);function wt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){_.util.assert(e.length===t.length,(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}));for(var r=0;r<e.length;r++){var i=e[r],a=t[r];_.util.assert(i<0||a<0||i===a,(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}}}function _t(e){return"number"!==typeof e&&!e.some((function(e){return e<0}))}function St(e,t,n){var r=Tt(e,n),i=!_t(r);if(i&&0===t.length)throw new Error("Tried to calculate elements of an empty list"+" with non-fully-defined elementShape: ".concat(r));if(i&&t.forEach((function(e){r=Tt(e.shape,r)})),!_t(r))throw new Error("Non-fully-defined elementShape: ".concat(r));return r}function Tt(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error("Incompatible ranks during merge: ".concat(e," vs. ").concat(t));for(var n=[],r=0;r<e.length;++r){var i=e[r],a=t[r];if(i>=0&&a>=0&&i!==a)throw new Error("Incompatible shape during merge: ".concat(e," vs. ").concat(t));n[r]=i>=0?i:a}return n}var Et=function(){function e(t,n,r,i,a,o,s){(0,O.Z)(this,e),this.name=t,this.dtype=n,this.maxSize=r,this.elementShape=i,this.identicalElementShapes=a,this.dynamicSize=o,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.idTensor=(0,_.scalar)(0),(0,_.keep)(this.idTensor)}return(0,A.Z)(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"closed",get:function(){return this.closed_}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"read",value:function(e){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw new Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));var t=this.tensors[e];if(t.cleared)throw new Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}},{key:"readMany",value:function(e){var t=this;return e.map((function(e){return t.read(e)}))}},{key:"write",value:function(e,t){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));var n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n          because the value dtype is ").concat(t.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),wt(this.elementShape,t.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),n.read)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(n.written)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));n.tensor=t,(0,_.keep)(t),n.written=!0,this.tensors[e]=n}},{key:"writeMany",value:function(e,t){var n=this;if(e.length!==t.length)throw new Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(e.length," is not the same as tensors size: ").concat(t.length,"."));e.forEach((function(e,r){return n.write(e,t[r])}))}},{key:"gather",value:function(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(t));if(e)e=e.slice(0,this.size());else{e=[];for(var n=0;n<this.size();n++)e.push(n)}if(0===e.length)return(0,_.tensor)([],[0].concat(this.elementShape));var r=this.readMany(e);return wt(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),(0,_.stack)(r,0)}},{key:"concat",value:function(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(0===this.size())return(0,_.tensor)([],[0].concat(this.elementShape));for(var t=[],n=0;n<this.size();n++)t.push(n);var r=this.readMany(t);return wt(this.elementShape,r[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(r[0].shape,")")),(0,_.concat)(r,0)}},{key:"scatter",value:function(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));var n=Math.max.apply(Math,(0,R.Z)(e));if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size (".concat(n,"  vs. ").concat(this.maxSize,")"));this.writeMany(e,(0,_.unstack)(t,0))}},{key:"split",value:function(e,t){var n=this;if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));var r=0,i=e.map((function(e){return r+=e}));if(r!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(t.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");var a=0===r?0:t.size/r,o=[];(0,_.tidy)((function(){t=(0,_.reshape)(t,[1,r,a]);for(var s=0;s<e.length;++s){var u=[0,0===s?0:i[s-1],0],c=[1,e[s],a];o[s]=(0,_.reshape)((0,_.slice)(t,u,c),n.elementShape)}return o}));for(var s=[],u=0;u<e.length;u++)s[u]=u;this.writeMany(s,o)}}]),e}(),Ct=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;(0,O.Z)(this,e),this.tensors=t,this.elementShape=n,this.elementDtype=r,null!=t&&t.forEach((function(e){if(r!==e.dtype)throw new Error("Invalid data types; op elements ".concat(r,", but list elements ").concat(e.dtype));wt(n,e.shape,"TensorList shape mismatch: "),(0,_.keep)(e)})),this.idTensor=(0,_.scalar)(0),this.maxNumElements=i,(0,_.keep)(this.idTensor)}return(0,A.Z)(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"copy",value:function(){return new e((0,R.Z)(this.tensors),this.elementShape,this.elementDtype)}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"stack",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(-1!==r&&this.tensors.length!==r)throw new Error("Operation expected a list with ".concat(r," elements but got a list with ").concat(this.tensors.length," elements."));wt(e,this.elementShape,"TensorList shape mismatch: ");var i=St(this.elementShape,this.tensors,e);return(0,_.tidy)((function(){var e=n.tensors.map((function(e){return(0,_.reshape)(e,i)}));return(0,_.stack)(e,0)}))}},{key:"popBack",value:function(e,t){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(0===this.size())throw new Error("Trying to pop from an empty list.");var n=St(this.elementShape,this.tensors,e),r=this.tensors.pop();return wt(r.shape,e,"TensorList shape mismatch: "),(0,_.reshape)(r,n)}},{key:"pushBack",value:function(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if(wt(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");(0,_.keep)(e),this.tensors.push(e)}},{key:"resize",value:function(t){if(t<0)throw new Error("TensorListResize expects size to be non-negative. Got: ".concat(t));if(-1!==this.maxNumElements&&t>this.maxNumElements)throw new Error("TensorListResize input size ".concat(t," is greater maxNumElement ").concat(this.maxNumElements,"."));var n=new e([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=t;for(var r=0;r<Math.min(this.tensors.length,t);++r)n.tensors[r]=this.tensors[r];return n}},{key:"getItem",value:function(e,t,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw new Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(null==this.tensors[e])throw new Error("element at index ".concat(e," is null."));wt(this.tensors[e].shape,t,"TensorList shape mismatch: ");var r=St(this.elementShape,this.tensors,t);return(0,_.reshape)(this.tensors[e],r)}},{key:"setItem",value:function(e,t){if(t.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(this.elementDtype));if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));wt(this.elementShape,t.shape,"TensorList shape mismatch: "),(0,_.keep)(t),this.tensors[e]=t}},{key:"gather",value:function(e,t,n){var r=this;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));wt(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());var i=St(this.elementShape,this.tensors,n);return 0===e.length?(0,_.tensor)([],[0].concat(i)):(0,_.tidy)((function(){var t=e.map((function(e){return(0,_.reshape)(r.tensors[e],i)}));return(0,_.stack)(t,0)}))}},{key:"concat",value:function(e,t){var n=this;if(e&&e!==this.elementDtype)throw new Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));wt(this.elementShape,t,"TensorList shape mismatch: ");var r=St(this.elementShape,this.tensors,t);return 0===this.size()?(0,_.tensor)([],[0].concat(r)):(0,_.tidy)((function(){var e=n.tensors.map((function(e){return(0,_.reshape)(e,r)}));return(0,_.concat)(e,0)}))}}]),e}();function Ot(e,t,n){var r=e.dtype;if(e.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: ".concat(e.shape));if(e.dtype!==n)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(n));wt(e.shape.slice(1),t,"TensorList shape mismatch: ");var i=(0,_.unstack)(e);return new Ct(i,t,r)}function At(e,t,n){return new Ct([],e,t,n)}function It(e,t,n,r){if(t.length!==e.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(t.length," vs. ").concat(e.shape[0]));var i=Math.max.apply(Math,(0,R.Z)(t));if(null!=r&&-1!==r&&i>=r)throw new Error("Max index must be < array size (".concat(i,"  vs. ").concat(r,")"));var a=new Ct([],n,e.dtype,r),o=(0,_.unstack)(e,0);return t.forEach((function(e,t){a.setItem(e,o[t])})),a}function Rt(e,t,n){var r=0,i=t.map((function(e){return r+=e}));if(r!==e.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(e.shape));for(var a=Tt(e.shape.slice(1),n),o=0===r?0:e.size/r,s=(0,_.tidy)((function(){var n=[];e=(0,_.reshape)(e,[1,r,o]);for(var s=0;s<t.length;++s){var u=[0,0===s?0:i[s-1],0],c=[1,t[s],o];n[s]=(0,_.reshape)((0,_.slice)(e,u,c),a)}return e.dispose(),n})),u=new Ct([],n,e.dtype,t.length),c=0;c<s.length;c++)u.setItem(c,s[c]);return u}var Nt=function(){var e=(0,C.Z)((0,E.Z)().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d,p,h,v,m,g,y,b,x,k,w,S,T,C,O,A,I,R,N,P,L,j,F,Z,U,V,z,W,H,G,q,K,Y,X,Q,J,$,ee,te,ne,re,ie,ae,oe,se,ue,ce,le,fe,de,pe,he,ve,me,ge,ye,be,xe,ke,we,_e,Se,Te,Ee,Ce,Oe,Ae,Ie,Re,Ne,Pe,Me,De,Le,je,Fe,Ze,Be,Ue,Ve,ze,We,He,Ge,qe,Ke,Ye,Xe,Qe,Je,$e,et,tt,nt;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="If"===e.t0||"StatelessIf"===e.t0?3:"While"===e.t0||"StatelessWhile"===e.t0?15:"LoopCond"===e.t0?19:"Switch"===e.t0?21:"Merge"===e.t0?32:"Enter"===e.t0?37:"Exit"===e.t0?41:"NextIteration"===e.t0?44:"TensorArrayV3"===e.t0?47:"TensorArrayWriteV3"===e.t0?57:"TensorArrayReadV3"===e.t0?63:"TensorArrayGatherV3"===e.t0?67:"TensorArrayScatterV3"===e.t0?72:"TensorArrayConcatV3"===e.t0?78:"TensorArraySplitV3"===e.t0?82:"TensorArraySizeV3"===e.t0?88:"TensorArrayCloseV3"===e.t0?91:"TensorListSetItem"===e.t0?95:"TensorListGetItem"===e.t0?101:"TensorListScatterV2"===e.t0||"TensorListScatter"===e.t0?107:"TensorListReserve"===e.t0||"EmptyTensorList"===e.t0?114:"TensorListGather"===e.t0?121:"TensorListStack"===e.t0?127:"TensorListFromTensor"===e.t0?133:"TensorListConcat"===e.t0||"TensorListConcatV2"===e.t0?139:"TensorListPushBack"===e.t0?144:"TensorListPopBack"===e.t0?149:"TensorListSplit"===e.t0?154:"TensorListLength"===e.t0?160:"TensorListResize"===e.t0?163:169;break;case 3:return i=M("thenBranch",t,n,r),a=M("elseBranch",t,n,r),o=M("cond",t,n,r),s=M("args",t,n,r),e.next=9,o.data();case 9:if(!e.sent[0]){e.next=14;break}return e.abrupt("return",r.functionMap[i].executeFunctionAsync(s,r.tensorArrayMap,r.tensorListMap));case 14:return e.abrupt("return",r.functionMap[a].executeFunctionAsync(s,r.tensorArrayMap,r.tensorListMap));case 15:return e.delegateYield((0,E.Z)().mark((function e(){var i,a,o,s,u,c,l,f;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=M("body",t,n,r),a=M("cond",t,n,r),o=M("args",t,n,r),e.next=5,r.functionMap[a].executeFunctionAsync(o,r.tensorArrayMap,r.tensorListMap);case 5:return s=e.sent,u=o.map((function(e){return e.id})),e.next=9,s[0].data();case 9:c=e.sent,s.forEach((function(e){e.kept||-1!==u.indexOf(e.id)||e.dispose()})),l=o,f=(0,E.Z)().mark((function e(){var t,n,o;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l,e.next=3,r.functionMap[i].executeFunctionAsync(l,r.tensorArrayMap,r.tensorListMap);case 3:return l=e.sent,n=l.map((function(e){return e.id})),t.forEach((function(e){e.kept||-1!==u.indexOf(e.id)||-1!==n.indexOf(e.id)||e.dispose()})),e.next=8,r.functionMap[a].executeFunctionAsync(l,r.tensorArrayMap,r.tensorListMap);case 8:return o=e.sent,e.next=11,o[0].data();case 11:c=e.sent,o.forEach((function(e){e.kept||-1!==u.indexOf(e.id)||-1!==n.indexOf(e.id)||e.dispose()}));case 13:case"end":return e.stop()}}),e)}));case 13:if(!c[0]){e.next=17;break}return e.delegateYield(f(),"t0",15);case 15:e.next=13;break;case 17:return e.abrupt("return",{v:l});case 18:case"end":return e.stop()}}),e)}))(),"t1",16);case 16:if("object"!==typeof(u=e.t1)){e.next=19;break}return e.abrupt("return",u.v);case 19:return c=M("pred",t,n,r),e.abrupt("return",[B(c)]);case 21:return l=M("pred",t,n,r),(f=M("data",t,n,r)).kept||(f=B(f)),e.next=26,l.data();case 26:if(!e.sent[0]){e.next=30;break}e.t2=[void 0,f],e.next=31;break;case 30:e.t2=[f,void 0];case 31:return e.abrupt("return",e.t2);case 32:if(d=t.inputNames.find((function(e){return void 0!==D(e,n,r)})),!d){e.next=36;break}return p=D(d,n,r),e.abrupt("return",[B(p)]);case 36:return e.abrupt("return",void 0);case 37:return h=M("frameName",t,n,r),v=M("tensor",t,n,r),r.enterFrame(h),e.abrupt("return",[B(v)]);case 41:return m=M("tensor",t,n,r),r.exitFrame(),e.abrupt("return",[B(m)]);case 44:return g=M("tensor",t,n,r),r.nextIteration(),e.abrupt("return",[B(g)]);case 47:return y=M("size",t,n,r),b=M("dtype",t,n,r),x=M("elementShape",t,n,r),k=M("dynamicSize",t,n,r),w=M("clearAfterRead",t,n,r),S=M("identicalElementShapes",t,n,r),T=M("name",t,n,r),C=new Et(T,b,y,x,S,k,w),r.addTensorArray(C),e.abrupt("return",[C.idTensor,(0,_.scalar)(1)]);case 57:return O=M("tensorArrayId",t,n,r),A=M("index",t,n,r),I=M("tensor",t,n,r),(R=r.getTensorArray(O.id)).write(A,I),e.abrupt("return",[R.idTensor]);case 63:return N=M("tensorArrayId",t,n,r),P=M("index",t,n,r),L=r.getTensorArray(N.id),e.abrupt("return",[L.read(P)]);case 67:return j=M("tensorArrayId",t,n,r),F=M("indices",t,n,r),Z=M("dtype",t,n,r),U=r.getTensorArray(j.id),e.abrupt("return",[U.gather(F,Z)]);case 72:return V=M("tensorArrayId",t,n,r),z=M("indices",t,n,r),W=M("tensor",t,n,r),(H=r.getTensorArray(V.id)).scatter(z,W),e.abrupt("return",[H.idTensor]);case 78:return G=M("tensorArrayId",t,n,r),q=r.getTensorArray(G.id),K=M("dtype",t,n,r),e.abrupt("return",[q.concat(K)]);case 82:return Y=M("tensorArrayId",t,n,r),X=M("tensor",t,n,r),Q=M("lengths",t,n,r),(J=r.getTensorArray(Y.id)).split(Q,X),e.abrupt("return",[J.idTensor]);case 88:return $=M("tensorArrayId",t,n,r),ee=r.getTensorArray($.id),e.abrupt("return",[(0,_.scalar)(ee.size(),"int32")]);case 91:return te=M("tensorArrayId",t,n,r),(ne=r.getTensorArray(te.id)).clearAndClose(),e.abrupt("return",[ne.idTensor]);case 95:return re=M("tensorListId",t,n,r),ie=M("index",t,n,r),ae=M("tensor",t,n,r),(oe=r.getTensorList(re.id)).setItem(ie,ae),e.abrupt("return",[oe.idTensor]);case 101:return se=M("tensorListId",t,n,r),ue=M("index",t,n,r),ce=M("elementShape",t,n,r),le=M("elementDType",t,n,r),fe=r.getTensorList(se.id),e.abrupt("return",[fe.getItem(ue,ce,le)]);case 107:return de=M("indices",t,n,r),pe=M("tensor",t,n,r),he=M("elementShape",t,n,r),ve=M("numElements",t,n,r),me=It(pe,de,he,ve),r.addTensorList(me),e.abrupt("return",[me.idTensor]);case 114:return ge=M("elementShape",t,n,r),ye=M("elementDType",t,n,r),be="TensorListReserve"===t.op?"numElements":"maxNumElements",xe=M(be,t,n,r),ke=At(ge,ye,xe),r.addTensorList(ke),e.abrupt("return",[ke.idTensor]);case 121:return we=M("tensorListId",t,n,r),_e=M("indices",t,n,r),Se=M("elementShape",t,n,r),Te=M("elementDType",t,n,r),Ee=r.getTensorList(we.id),e.abrupt("return",[Ee.gather(_e,Te,Se)]);case 127:return Ce=M("tensorListId",t,n,r),Oe=M("elementShape",t,n,r),Ae=M("elementDType",t,n,r),Ie=M("numElements",t,n,r),Re=r.getTensorList(Ce.id),e.abrupt("return",[Re.stack(Oe,Ae,Ie)]);case 133:return Ne=M("tensor",t,n,r),Pe=M("elementShape",t,n,r),Me=M("elementDType",t,n,r),De=Ot(Ne,Pe,Me),r.addTensorList(De),e.abrupt("return",[De.idTensor]);case 139:return Le=M("tensorListId",t,n,r),je=r.getTensorList(Le.id),Fe=M("dtype",t,n,r),Ze=M("elementShape",t,n,r),e.abrupt("return",[je.concat(Fe,Ze)]);case 144:return Be=M("tensorListId",t,n,r),Ue=M("tensor",t,n,r),(Ve=r.getTensorList(Be.id)).pushBack(Ue),e.abrupt("return",[Ve.idTensor]);case 149:return ze=M("tensorListId",t,n,r),We=M("elementShape",t,n,r),He=M("elementDType",t,n,r),Ge=r.getTensorList(ze.id),e.abrupt("return",[Ge.popBack(We,He)]);case 154:return qe=M("tensor",t,n,r),Ke=M("elementShape",t,n,r),Ye=M("lengths",t,n,r),Xe=Rt(qe,Ye,Ke),r.addTensorList(Xe),e.abrupt("return",[Xe.idTensor]);case 160:return Qe=M("tensorListId",t,n,r),Je=r.getTensorList(Qe.id),e.abrupt("return",[(0,_.scalar)(Je.size(),"int32")]);case 163:return $e=M("tensorListId",t,n,r),et=M("size",t,n,r),tt=r.getTensorList($e.id),nt=tt.resize(et),r.addTensorList(nt),e.abrupt("return",[nt.idTensor]);case 169:throw TypeError("Node type ".concat(t.op," is not implemented"));case 170:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Pt=n(44918),Mt=n(93457),Dt=n(97500),Lt=n(71732),jt=n(61147),Ft=n(48113),Zt=n(49204),Bt=n(85777),Ut=n(78811),Vt=n(65840),zt=n(39185),Wt=n(57580);function Ht(e,t,n){var r=M("fusedOps",e,t,n),i=(0,I.Z)(r,2),a=i[0],o=i[1],s="biasadd"===a,u=!s,c="prelu"===o,l="fusedbatchnorm"===a,f=M("numArgs",e,t,n);if(s){if(c&&2!==f)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!c&&s&&1!==f)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");var d=M("strides",e,t,n),p=Z(e,t,n),h=M("dataFormat",e,t,n).toUpperCase(),v=M("dilations",e,t,n),m=M("args",e,t,n),g=(0,I.Z)(m,2),y=g[0],b=g[1];return u&&(b=y,y=void 0),{stride:d,pad:p,dataFormat:h,dilations:v,biasArg:y,preluArg:b,activationFunc:o,leakyreluAlpha:M("leakyreluAlpha",e,t,n)}}var Gt=n(8582),qt=n(62453),Kt=n(4660),Yt=n(34326),Xt=n(86100),Qt=n(20773),Jt=n(16407),$t=n(422),en=n(52453),tn=n(87742),nn=n(87293),rn=n(13398),an=n(99118),on=n(41867),sn=n(24438);function un(e,t,n){return{boxes:M("boxes",e,t,n),scores:M("scores",e,t,n),maxOutputSize:M("maxOutputSize",e,t,n),iouThreshold:M("iouThreshold",e,t,n),scoreThreshold:M("scoreThreshold",e,t,n),softNmsSigma:M("softNmsSigma",e,t,n)}}var cn=function(){var e=(0,C.Z)((0,E.Z)().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d,p,h,v,m,g,y,b,x,k,w,_,S,T,C,O;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="NonMaxSuppressionV5"===e.t0?3:"NonMaxSuppressionV4"===e.t0?8:"NonMaxSuppressionV3"===e.t0||"NonMaxSuppressionV2"===e.t0?14:"Where"===e.t0?19:"ListDiff"===e.t0?26:27;break;case 3:return i=un(t,n,r),a=i.boxes,o=i.scores,s=i.maxOutputSize,u=i.iouThreshold,c=i.scoreThreshold,l=i.softNmsSigma,e.next=6,rn.BHj.nonMaxSuppressionWithScoreAsync(a,o,s,u,c,l);case 6:return f=e.sent,e.abrupt("return",[f.selectedIndices,f.selectedScores]);case 8:return d=un(t,n,r),p=d.boxes,h=d.scores,v=d.maxOutputSize,m=d.iouThreshold,g=d.scoreThreshold,y=M("padToMaxOutputSize",t,n,r),e.next=12,rn.BHj.nonMaxSuppressionPaddedAsync(p,h,v,m,g,y);case 12:return b=e.sent,e.abrupt("return",[b.selectedIndices,b.validOutputs]);case 14:return x=un(t,n,r),k=x.boxes,w=x.scores,_=x.maxOutputSize,S=x.iouThreshold,T=x.scoreThreshold,e.next=17,rn.BHj.nonMaxSuppressionAsync(k,w,_,S,T);case 17:return e.t1=e.sent,e.abrupt("return",[e.t1]);case 19:return C=an.p(M("condition",t,n,r),"bool"),e.next=22,on.i(C);case 22:return e.t2=e.sent,O=[e.t2],C.dispose(),e.abrupt("return",O);case 26:return e.abrupt("return",sn.O(M("x",t,n,r),M("y",t,n,r)));case 27:throw TypeError("Node type ".concat(t.op," is not implemented"));case 28:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ln=n(94255),fn=n(29085),dn=n(16035),pn=n(74860),hn=n(92894),vn=n(27067),mn=function(){function e(t,n){(0,O.Z)(this,e),this.keyDType=t,this.valueDType=n,this.handle=(0,_.scalar)(0),this.tensorMap=new Map,(0,_.keep)(this.handle)}return(0,A.Z)(e,[{key:"id",get:function(){return this.handle.id}},{key:"clearAndClose",value:function(){this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),this.handle.dispose()}},{key:"size",value:function(){return this.tensorMap.size}},{key:"tensorSize",value:function(){return vn.i(this.size(),"int32")}},{key:"import",value:function(){var e=(0,C.Z)((0,E.Z)().mark((function e(t,n){var r,i=this;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkKeyAndValueTensor(t,n),e.next=3,t.data();case 3:return r=e.sent,this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),e.abrupt("return",(0,_.tidy)((function(){var e=(0,_.unstack)(n),t=r.length,a=e.length;_.util.assert(t===a,(function(){return"The number of elements doesn't match, keys has "+"".concat(t," elements, the values has ").concat(a," ")+"elements."}));for(var o=0;o<t;o++){var s=r[o],u=e[o];(0,_.keep)(u),i.tensorMap.set(s,u)}return i.handle})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"find",value:function(){var e=(0,C.Z)((0,E.Z)().mark((function e(t,n){var r,i=this;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkKeyAndValueTensor(t,n),e.next=3,t.data();case 3:return r=e.sent,e.abrupt("return",(0,_.tidy)((function(){for(var e=[],t=0;t<r.length;t++){var a=r[t],o=i.findWithDefault(a,n);e.push(o)}return(0,_.stack)(e)})));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findWithDefault",value:function(e,t){var n=this.tensorMap.get(e);return null!=n?n:t}},{key:"checkKeyAndValueTensor",value:function(e,t){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype ".concat(this.keyDType,", but got ")+"".concat(e.dtype));if(t.dtype!==this.valueDType)throw new Error("Expect value dtype ".concat(this.valueDType,", but got ")+"".concat(t.dtype))}}]),e}(),gn=function(){var e=(0,C.Z)((0,E.Z)().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,d,p,h,v,m,g;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="HashTable"===e.t0||"HashTableV2"===e.t0?3:"LookupTableImport"===e.t0||"LookupTableImportV2"===e.t0?8:"LookupTableFind"===e.t0||"LookupTableFindV2"===e.t0?16:"LookupTableSize"===e.t0||"LookupTableSizeV2"===e.t0?24:27;break;case 3:return a=M("keyDType",t,n,r),o=M("valueDType",t,n,r),s=new mn(a,o),i.addHashTable(t.name,s),e.abrupt("return",[s.handle]);case 8:return u=M("tableHandle",t,n,r,i),c=M("keys",t,n,r),l=M("values",t,n,r),f=i.getHashTableById(u.id),e.next=14,f.import(c,l);case 14:return e.t1=e.sent,e.abrupt("return",[e.t1]);case 16:return d=M("tableHandle",t,n,r,i),p=M("keys",t,n,r),h=M("defaultValue",t,n,r),v=i.getHashTableById(d.id),e.next=22,v.find(p,h);case 22:return e.t2=e.sent,e.abrupt("return",[e.t2]);case 24:return m=M("tableHandle",t,n,r,i),g=i.getHashTableById(m.id),e.abrupt("return",[g.tensorSize()]);case 27:throw TypeError("Node type ".concat(t.op," is not implemented"));case 28:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),yn=n(63254),bn=n(15549),xn=n(35014),kn=n(18327),wn=n(44920),_n=n(12642),Sn=n(2177),Tn=n(30875),En=n(15117),Cn=n(10329),On=n(57221),An=n(58060),In=n(61240),Rn=n(13313),Nn=n(63700),Pn=n(40936),Mn=n(74910),Dn=n(54561),Ln=n(49991),jn=n(56176),Fn=n(6568),Zn=n(77891),Bn=n(40227),Un=n(14108),Vn=n(58543),zn=n(29995),Wn=n(95157),Hn=n(69457),Gn=n(58862),qn=n(77531),Kn=n(57419),Yn=n(34836),Xn=n(49498),Qn=n(34933),Jn=n(59238),$n=n(39017),er=n(83931),tr=n(75561),nr=n(18306),rr=n(54566),ir=n(42343),ar=n(82588),or=n(23522),sr=n(53357),ur=n(37635),cr=n(50530),lr=n(64617),fr=n(774),dr=n(72975),pr=n(27613),hr=n(71970),vr=n(65696),mr=n(36994),gr=n(91878),yr=n(49742),br=n(80238);function xr(e,t,n,r){var i=function(e,t,n){switch(e.category){case"arithmetic":return _.tidy((function(){return function(e,t,n){switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[we.I(M("a",e,t,n),M("b",e,t,n))];case"AddN":return[_e.Q(M("tensors",e,t,n))];case"FloorMod":case"Mod":return[Se.w(M("a",e,t,n),M("b",e,t,n))];case"Mul":return[Te.d(M("a",e,t,n),M("b",e,t,n))];case"RealDiv":case"Div":return[Ee.h(M("a",e,t,n),M("b",e,t,n))];case"DivNoNan":return[Ce.N(M("a",e,t,n),M("b",e,t,n))];case"FloorDiv":return[Oe.q(M("a",e,t,n),M("b",e,t,n))];case"Sub":return[Ae.l(M("a",e,t,n),M("b",e,t,n))];case"Minimum":return[Ie.L(M("a",e,t,n),M("b",e,t,n))];case"Maximum":return[Re.g(M("a",e,t,n),M("b",e,t,n))];case"Pow":return[Ne.s(M("a",e,t,n),M("b",e,t,n))];case"SquaredDifference":return[Pe.$(M("a",e,t,n),M("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"basic_math":return _.tidy((function(){return function(e,t,n){switch(e.op){case"Abs":case"ComplexAbs":return[Me.W(M("x",e,t,n))];case"Acos":return[De.K(M("x",e,t,n))];case"Acosh":return[Le._(M("x",e,t,n))];case"Asin":return[je.Z(M("x",e,t,n))];case"Asinh":return[Fe.V(M("x",e,t,n))];case"Atan":return[Ze.z(M("x",e,t,n))];case"Atan2":return[Be.f(M("x",e,t,n),M("y",e,t,n))];case"Atanh":return[Ue.C(M("x",e,t,n))];case"Ceil":return[Ve.m(M("x",e,t,n))];case"Complex":return[ze.P(M("real",e,t,n),M("imag",e,t,n))];case"Cos":return[We.m(M("x",e,t,n))];case"Cosh":return[He.f(M("x",e,t,n))];case"Elu":return[Ge.p(M("x",e,t,n))];case"Erf":return[qe.q(M("x",e,t,n))];case"Exp":return[Ke.Q(M("x",e,t,n))];case"Expm1":return[Ye.t(M("x",e,t,n))];case"Floor":return[Xe.G(M("x",e,t,n))];case"Log":return[Qe.c(M("x",e,t,n))];case"Log1p":return[Je.K(M("x",e,t,n))];case"Imag":return[$e.a(M("x",e,t,n))];case"Neg":return[et.W(M("x",e,t,n))];case"Reciprocal":return[tt.M(M("x",e,t,n))];case"Real":return[nt.k(M("x",e,t,n))];case"Relu":return[rt.U(M("x",e,t,n))];case"Round":return[it.N(M("x",e,t,n))];case"Selu":return[at.U(M("x",e,t,n))];case"Sigmoid":return[ot.X(M("x",e,t,n))];case"Sin":return[st.O(M("x",e,t,n))];case"Sign":return[ut.X(M("x",e,t,n))];case"Sinh":return[ct.R(M("x",e,t,n))];case"Softplus":return[lt.W(M("x",e,t,n))];case"Sqrt":return[ft._(M("x",e,t,n))];case"Square":return[dt.h(M("x",e,t,n))];case"Tanh":return[pt.A(M("x",e,t,n))];case"Tan":return[ht.O(M("x",e,t,n))];case"ClipByValue":return[vt.i(M("x",e,t,n),M("clipValueMin",e,t,n),M("clipValueMax",e,t,n))];case"Relu6":return[mt.b(M("x",e,t,n))];case"Rsqrt":return[gt.b(D(e.inputNames[0],t,n))];case"Prod":return[yt.W(M("x",e,t,n),M("axes",e,t,n))];case"LeakyRelu":return[bt.h(M("x",e,t,n),M("alpha",e,t,n))];case"Prelu":return[xt.A(M("x",e,t,n),M("alpha",e,t,n))];case"IsNan":return[kt.i(D(e.inputNames[0],t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"control":return Nt(e,t,n);case"convolution":return _.tidy((function(){return function(e,t,n){switch(e.op){case"Conv1D":var r=M("stride",e,t,n),i=M("pad",e,t,n),a=M("dataFormat",e,t,n).toUpperCase(),o=M("dilation",e,t,n);return[Pt.P(M("x",e,t,n),M("filter",e,t,n),r,i,a,o)];case"Conv2D":var s=M("strides",e,t,n),u=Z(e,t,n),c=M("dataFormat",e,t,n).toUpperCase(),l=M("dilations",e,t,n);return[Mt.T(M("x",e,t,n),M("filter",e,t,n),[s[1],s[2]],u,c,[l[1],l[2]])];case"_FusedConv2D":var f=Ht(e,t,n),d=f.stride,p=f.pad,h=f.dataFormat,v=f.dilations,m=f.biasArg,g=f.preluArg,y=f.activationFunc,b=f.leakyreluAlpha;return[Dt.conv2d({x:M("x",e,t,n),filter:M("filter",e,t,n),strides:[d[1],d[2]],pad:p,dataFormat:h,dilations:[v[1],v[2]],bias:m,activation:y,preluActivationWeights:g,leakyreluAlpha:b})];case"FusedDepthwiseConv2dNative":var x=Ht(e,t,n),k=x.stride,w=x.pad,_=x.dataFormat,S=x.dilations,T=x.biasArg,E=x.preluArg,C=x.activationFunc,O=x.leakyreluAlpha;return[Dt.depthwiseConv2d({x:M("x",e,t,n),filter:M("filter",e,t,n),strides:[k[1],k[2]],pad:w,dataFormat:_,dilations:[S[1],S[2]],bias:T,activation:C,preluActivationWeights:E,leakyreluAlpha:O})];case"Conv2DBackpropInput":case"Conv2dTranspose":var A=M("outputShape",e,t,n),I=M("strides",e,t,n),R=Z(e,t,n);return[Lt.b(M("x",e,t,n),M("filter",e,t,n),A,[I[1],I[2]],R)];case"DepthwiseConv2dNative":case"DepthwiseConv2d":var N=M("strides",e,t,n),P=Z(e,t,n),D=M("dilations",e,t,n),L=M("dataFormat",e,t,n).toUpperCase();return[jt.B(M("input",e,t,n),M("filter",e,t,n),[N[1],N[2]],P,L,[D[1],D[2]])];case"Conv3D":var j=M("strides",e,t,n),F=M("pad",e,t,n),B=M("dataFormat",e,t,n).toUpperCase(),U=M("dilations",e,t,n);return[Ft.p(M("x",e,t,n),M("filter",e,t,n),[j[1],j[2],j[3]],F,B,[U[1],U[2],U[3]])];case"AvgPool":var V=M("strides",e,t,n),z=M("pad",e,t,n),W=M("kernelSize",e,t,n);return[Zt.w(M("x",e,t,n),[W[1],W[2]],[V[1],V[2]],z)];case"MaxPool":var H=M("strides",e,t,n),G=M("pad",e,t,n),q=M("kernelSize",e,t,n);return[Bt._(M("x",e,t,n),[q[1],q[2]],[H[1],H[2]],G)];case"MaxPoolWithArgmax":var K=M("strides",e,t,n),Y=M("pad",e,t,n),X=M("kernelSize",e,t,n),Q=M("includeBatchInIndex",e,t,n),J=Ut.I(M("x",e,t,n),[X[1],X[2]],[K[1],K[2]],Y,Q);return[J.result,J.indexes];case"AvgPool3D":var $=M("strides",e,t,n),ee=M("pad",e,t,n),te=M("kernelSize",e,t,n);return[Vt.u(M("x",e,t,n),[te[1],te[2],te[3]],[$[1],$[2],$[3]],ee)];case"MaxPool3D":var ne=M("strides",e,t,n),re=M("pad",e,t,n),ie=M("kernelSize",e,t,n);return[zt.Y(M("x",e,t,n),[ie[1],ie[2],ie[3]],[ne[1],ne[2],ne[3]],re)];case"Dilation2D":var ae=M("strides",e,t,n),oe=M("pad",e,t,n),se=M("dilations",e,t,n),ue=ae[1],ce=ae[2],le=se[1],fe=se[2];return[Wt.W(M("x",e,t,n),M("filter",e,t,n),[ue,ce],oe,[le,fe],"NHWC")];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"creation":return _.tidy((function(){return function(e,t,n){switch(e.op){case"Fill":var r=M("shape",e,t,n),i=M("dtype",e,t,n),a=M("value",e,t,n);return[Gt.h(r,a,i)];case"LinSpace":var o=M("start",e,t,n),s=M("stop",e,t,n),u=M("num",e,t,n);return[qt.S(o,s,u)];case"Multinomial":var c=M("logits",e,t,n),l=M("numSamples",e,t,n),f=M("seed",e,t,n);return[Kt.S(c,l,f)];case"OneHot":var d=M("indices",e,t,n),p=M("depth",e,t,n),h=M("onValue",e,t,n),v=M("offValue",e,t,n);return[Yt.l(d,p,h,v)];case"Ones":return[Xt.i(M("shape",e,t,n),M("dtype",e,t,n))];case"OnesLike":return[Qt.J(M("x",e,t,n))];case"RandomUniform":return[Jt.L(M("shape",e,t,n),M("minval",e,t,n),M("maxval",e,t,n),M("dtype",e,t,n))];case"Range":var m=M("start",e,t,n),g=M("stop",e,t,n),y=M("step",e,t,n);return[$t.w(m,g,y,M("dtype",e,t,n))];case"TruncatedNormal":var b=M("shape",e,t,n),x=M("mean",e,t,n),k=M("stdDev",e,t,n),w=M("seed",e,t,n);return[en.X(b,x,k,M("dtype",e,t,n),w)];case"Zeros":return[tn.l(M("shape",e,t,n),M("dtype",e,t,n))];case"ZerosLike":return[nn.P(M("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"dynamic":return cn(e,t,n);case"evaluation":return _.tidy((function(){return function(e,t,n){switch(e.op){case"LowerBound":var r=M("sortedSequence",e,t,n),i=M("values",e,t,n);return[ln.e(r,i)];case"TopKV2":var a=M("x",e,t,n),o=M("k",e,t,n),s=M("sorted",e,t,n),u=fn.h(a,o,s);return[u.values,u.indices];case"UpperBound":var c=M("sortedSequence",e,t,n),l=M("values",e,t,n);return[dn.G(c,l)];case"Unique":var f=M("x",e,t,n),d=pn.T(f);return[d.values,d.indices];case"UniqueV2":var p=M("x",e,t,n),h=M("axis",e,t,n),v=pn.T(p,h);return[v.values,v.indices];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"image":return _.tidy((function(){return function(e,t,n){switch(e.op){case"ResizeBilinear":var r=M("images",e,t,n),i=M("size",e,t,n),a=M("alignCorners",e,t,n),o=M("halfPixelCenters",e,t,n);return[rn.BHj.resizeBilinear(r,[i[0],i[1]],a,o)];case"ResizeNearestNeighbor":var s=M("images",e,t,n),u=M("size",e,t,n),c=M("alignCorners",e,t,n),l=M("halfPixelCenters",e,t,n);return[rn.BHj.resizeNearestNeighbor(s,[u[0],u[1]],c,l)];case"CropAndResize":var f=M("image",e,t,n),d=M("boxes",e,t,n),p=M("boxInd",e,t,n),h=M("cropSize",e,t,n),v=M("method",e,t,n),m=M("extrapolationValue",e,t,n);return[rn.BHj.cropAndResize(f,d,p,h,v,m)];case"ImageProjectiveTransformV3":var g=M("images",e,t,n),y=M("transforms",e,t,n),b=M("outputShape",e,t,n),x=M("fillValue",e,t,n),k=M("interpolation",e,t,n),w=M("fillMode",e,t,n);return[rn.BHj.transform(g,y,k.toLowerCase(),w.toLowerCase(),x,b)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"graph":return _.tidy((function(){return function(e,t,n){switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":var r=M("default",e,t,n);return[D(e.name,t,n)||r];case"Placeholder":return[D(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[B(M("x",e,t,n))];case"IdentityN":return M("x",e,t,n).map((function(e){return B(e)}));case"Shape":return[hn.R(M("x",e,t,n).shape,"int32")];case"ShapeN":return M("x",e,t,n).map((function(e){return hn.R(e.shape)}));case"Size":return[vn.i(M("x",e,t,n).size,"int32")];case"Rank":return[vn.i(M("x",e,t,n).rank,"int32")];case"NoOp":return[vn.i(1)];case"Print":var i=M("x",e,t,n),a=M("data",e,t,n),o=M("message",e,t,n),s=M("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(o);for(var u=0;u<a.length;u++)console.log(Array.prototype.slice.call(a[u].dataSync()).slice(0,s));return[i];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"logical":return _.tidy((function(){return function(e,t,n){switch(e.op){case"Equal":return[yn.D(M("a",e,t,n),M("b",e,t,n))];case"NotEqual":return[bn.Q(M("a",e,t,n),M("b",e,t,n))];case"Greater":return[xn.p(M("a",e,t,n),M("b",e,t,n))];case"GreaterEqual":return[kn.b(M("a",e,t,n),M("b",e,t,n))];case"Less":return[wn.d(M("a",e,t,n),M("b",e,t,n))];case"LessEqual":return[_n.z(M("a",e,t,n),M("b",e,t,n))];case"LogicalAnd":return[Sn.H(M("a",e,t,n),M("b",e,t,n))];case"LogicalNot":return[Tn.h(M("a",e,t,n))];case"LogicalOr":return[En.K(M("a",e,t,n),M("b",e,t,n))];case"Select":case"SelectV2":return[Cn.a(M("condition",e,t,n),M("a",e,t,n),M("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"matrices":return _.tidy((function(){return function(e,t,n){switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[On.O(M("a",e,t,n),M("b",e,t,n),M("transposeA",e,t,n),M("transposeB",e,t,n))];case"Einsum":return[An.W.apply(w,[M("equation",e,t,n)].concat((0,R.Z)(M("tensors",e,t,n))))];case"Transpose":return[In.p(M("x",e,t,n),M("perm",e,t,n))];case"_FusedMatMul":var r=M("fusedOps",e,t,n),i=(0,I.Z)(r,2),a=i[0],o=i[1],s="biasadd"===a,u="prelu"===o,c=M("numArgs",e,t,n),l=M("leakyreluAlpha",e,t,n);if(s){if(u&&2!==c)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!u&&1!==c)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}var f=M("args",e,t,n),d=(0,I.Z)(f,2),p=d[0],h=d[1];return[Dt.matMul({a:M("a",e,t,n),b:M("b",e,t,n),transposeA:M("transposeA",e,t,n),transposeB:M("transposeB",e,t,n),bias:p,activation:o,preluActivationWeights:h,leakyreluAlpha:l})];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"normalization":return _.tidy((function(){return function(e,t,n){switch(e.op){case"EuclideanNorm":return[Rn.d(M("x",e,t,n),M("axis",e,t,n),M("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[Nn.t(M("x",e,t,n),M("mean",e,t,n),M("variance",e,t,n),M("offset",e,t,n),M("scale",e,t,n),M("epsilon",e,t,n))];case"LRN":return[Pn.G(M("x",e,t,n),M("radius",e,t,n),M("bias",e,t,n),M("alpha",e,t,n),M("beta",e,t,n))];case"Softmax":return[Mn.X(M("x",e,t,n))];case"LogSoftmax":return[Dn.C(M("x",e,t,n))];case"SparseToDense":return[Ln.e(M("sparseIndices",e,t,n),M("outputShape",e,t,n),M("sparseValues",e,t,n),M("defaultValue",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"reduction":return _.tidy((function(){return function(e,t,n){switch(e.op){case"Max":var r=M("axis",e,t,n),i=M("keepDims",e,t,n);return[jn.F(M("x",e,t,n),r,i)];case"Mean":var a=M("axis",e,t,n),o=M("keepDims",e,t,n);return[Fn.J(M("x",e,t,n),a,o)];case"Min":var s=M("axis",e,t,n),u=M("keepDims",e,t,n);return[Zn.V(M("x",e,t,n),s,u)];case"Sum":var c=M("axis",e,t,n),l=M("keepDims",e,t,n);return[Bn.S(M("x",e,t,n),c,l)];case"All":var f=M("axis",e,t,n),d=M("keepDims",e,t,n);return[Un.$(M("x",e,t,n),f,d)];case"Any":var p=M("axis",e,t,n),h=M("keepDims",e,t,n);return[Vn.Y(M("x",e,t,n),p,h)];case"ArgMax":var v=M("axis",e,t,n);return[zn.N(M("x",e,t,n),v)];case"ArgMin":var m=M("axis",e,t,n);return[Wn.v(M("x",e,t,n),m)];case"Prod":var g=M("axis",e,t,n),y=M("keepDims",e,t,n);return[yt.W(M("x",e,t,n),g,y)];case"Cumprod":var b=M("axis",e,t,n),x=M("exclusive",e,t,n),k=M("reverse",e,t,n);return[Hn.$(M("x",e,t,n),b,x,k)];case"Cumsum":var w=M("axis",e,t,n),_=M("exclusive",e,t,n),S=M("reverse",e,t,n);return[Gn.z(M("x",e,t,n),w,_,S)];case"Bincount":var T=M("x",e,t,n),E=M("weights",e,t,n),C=M("size",e,t,n);return[qn.y(T,E,C)];case"DenseBincount":var O=M("x",e,t,n),A=M("weights",e,t,n),I=M("size",e,t,n),R=M("binaryOutput",e,t,n);return[Kn.p(O,A,I,R)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"slice_join":return _.tidy((function(){return function(e,t,n){switch(e.op){case"ConcatV2":case"Concat":var r=M("n",e,t,n),i=M("axis",e,t,n),a=M("tensors",e,t,n);return a=a.slice(0,r),[Yn.z(a,i)];case"Gather":var o=M("x",e,t,n),s=M("indices",e,t,n);return[Xn.I(o,an.p(s,"int32"),0)];case"GatherV2":var u=M("axis",e,t,n),c=M("batchDims",e,t,n),l=M("x",e,t,n),f=M("indices",e,t,n);return[Xn.I(l,an.p(f,"int32"),u,c)];case"Reverse":for(var d=M("dims",e,t,n),p=[],h=0;h<d.length;h++)d[h]&&p.push(h);var v=M("x",e,t,n);return[Qn.G(v,p)];case"ReverseV2":var m=M("axis",e,t,n),g=M("x",e,t,n);return[Qn.G(g,m)];case"Slice":var y=M("begin",e,t,n),b=M("size",e,t,n);return[Jn.t(M("x",e,t,n),y,b)];case"StridedSlice":var x=M("begin",e,t,n),k=M("end",e,t,n),w=M("strides",e,t,n),S=M("beginMask",e,t,n),T=M("endMask",e,t,n),E=M("ellipsisMask",e,t,n),C=M("newAxisMask",e,t,n),O=M("shrinkAxisMask",e,t,n),A=M("x",e,t,n);return[$n.N(A,x,k,w,S,T,E,C,O)];case"Pack":return(0,_.tidy)((function(){var r=M("axis",e,t,n),i=M("tensors",e,t,n),a=i[0].shape,o=er.L(i[0]).shape,s=i.map((function(e){var t=_.util.arraysEqual(e.shape,a);if(!t&&!_.util.arraysEqual(er.L(e).shape,o))throw new Error("the input tensors shape does not match");return t?e:tr.X(e,a)}));return[nr.k(s,r)]}));case"Unpack":var I=M("axis",e,t,n),R=M("tensor",e,t,n);return rr.H(R,I);case"Tile":var N=M("reps",e,t,n);return[ir.G(M("x",e,t,n),N)];case"Split":case"SplitV":var P=M("axis",e,t,n),D=M("numOrSizeSplits",e,t,n),L=M("x",e,t,n);return ar.V(L,D,P);case"ScatterNd":var j=M("indices",e,t,n),F=M("values",e,t,n),Z=M("shape",e,t,n);return[or.s(j,F,Z)];case"GatherNd":var B=M("x",e,t,n),U=M("indices",e,t,n);return[sr.d(B,U)];case"SparseToDense":var V=M("sparseIndices",e,t,n),z=M("outputShape",e,t,n),W=M("sparseValues",e,t,n),H=M("defaultValue",e,t,n);return[Ln.e(V,W,z,W.dtype===H.dtype?H:an.p(H,W.dtype))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"sparse":return _.tidy((function(){return function(e,t,n){switch(e.op){case"SparseFillEmptyRows":var r=rn.rVs.sparseFillEmptyRows(M("indices",e,t,n),M("values",e,t,n),M("denseShape",e,t,n),M("defaultValue",e,t,n));return[r.outputIndices,r.outputValues,r.emptyRowIndicator,r.reverseIndexMap];case"SparseReshape":var i=rn.rVs.sparseReshape(M("inputIndices",e,t,n),M("inputShape",e,t,n),M("newShape",e,t,n));return[i.outputIndices,i.outputShape];case"SparseSegmentMean":return[rn.rVs.sparseSegmentMean(M("data",e,t,n),M("indices",e,t,n),M("segmentIds",e,t,n))];case"SparseSegmentSum":return[rn.rVs.sparseSegmentSum(M("data",e,t,n),M("indices",e,t,n),M("segmentIds",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"spectral":return _.tidy((function(){return function(e,t,n){switch(e.op){case"FFT":return[ur.k(M("x",e,t,n))];case"IFFT":return[cr.S(M("x",e,t,n))];case"RFFT":return[lr.Q(M("x",e,t,n))];case"IRFFT":return[fr.w(M("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"string":return _.tidy((function(){return function(e,t,n){switch(e.op){case"StringNGrams":var r=rn.Z_8.stringNGrams(M("data",e,t,n),M("dataSplits",e,t,n),M("separator",e,t,n),M("nGramWidths",e,t,n),M("leftPad",e,t,n),M("rightPad",e,t,n),M("padWidth",e,t,n),M("preserveShortSequences",e,t,n));return[r.nGrams,r.nGramsSplits];case"StringSplit":var i=rn.Z_8.stringSplit(M("input",e,t,n),M("delimiter",e,t,n),M("skipEmpty",e,t,n));return[i.indices,i.values,i.shape];case"StringToHashBucketFast":return[rn.Z_8.stringToHashBucketFast(M("input",e,t,n),M("numBuckets",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"transformation":return _.tidy((function(){return function(e,t,n){switch(e.op){case"Cast":return[an.p(M("x",e,t,n),M("dtype",e,t,n))];case"ExpandDims":var r=M("axis",e,t,n);return[dr.d(M("x",e,t,n),r)];case"Squeeze":var i=M("axis",e,t,n);return[er.L(M("x",e,t,n),i)];case"Reshape":return[tr.X(M("x",e,t,n),M("shape",e,t,n))];case"MirrorPad":return[pr.V(M("x",e,t,n),M("padding",e,t,n),M("mode",e,t,n))];case"PadV2":case"Pad":return[hr.v(M("x",e,t,n),M("padding",e,t,n),M("constantValue",e,t,n))];case"SpaceToBatchND":var a=M("blockShape",e,t,n),o=M("paddings",e,t,n);return[vr.f(M("x",e,t,n),a,o)];case"BatchToSpaceND":var s=M("blockShape",e,t,n),u=M("crops",e,t,n);return[mr.E(M("x",e,t,n),s,u)];case"DepthToSpace":var c=M("blockSize",e,t,n),l=M("dataFormat",e,t,n).toUpperCase();return[gr.n(M("x",e,t,n),c,l)];case"BroadcastTo":return[yr.U(M("x",e,t,n),M("shape",e,t,n))];case"BroadcastArgs":return[br.X(M("s0",e,t,n),M("s1",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"hash_table":return gn(e,t,n,r);case"custom":var i=P(e.op);if(i&&i.customExecutor)return i.customExecutor(new ke(e,t,n));throw TypeError("Custom op ".concat(e.op," is not registered."));default:throw TypeError("Unknown op '".concat(e.op,"'. File an issue at ")+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}}(e,t,n);return _.util.isPromise(i)?i.then((function(e){return[].concat(e)})):[].concat(i)}var kr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,O.Z)(this,e),this.weightMap=t,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=i,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return(0,A.Z)(e,[{key:"newFrame",value:function(e,t){return{id:e,frameName:t,iterationId:0}}},{key:"currentContext",get:function(){return this.contexts},set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}},{key:"currentContextId",get:function(){return this._currentContextIds[0]}},{key:"currentContextIds",get:function(){return this._currentContextIds}},{key:"generateCurrentContextIds",value:function(){for(var e=[],t=0;t<this.contexts.length-1;t++){var n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}},{key:"contextIdforContexts",value:function(e){return e?e.map((function(e){return 0===e.id&&0===e.iterationId?"":"".concat(e.frameName,"-").concat(e.iterationId)})).join("/"):""}},{key:"enterFrame",value:function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}},{key:"exitFrame",value:function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}},{key:"nextIteration",value:function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}},{key:"getWeight",value:function(e){return this.weightMap[e]}},{key:"addTensorArray",value:function(e){this.tensorArrayMap[e.id]=e}},{key:"getTensorArray",value:function(e){return this.tensorArrayMap[e]}},{key:"addTensorList",value:function(e){this.tensorListMap[e.id]=e}},{key:"getTensorList",value:function(e){return this.tensorListMap[e]}},{key:"dispose",value:function(e){for(var t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(var n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}]),e}();function wr(e,t,n,r){var i=new Set,a=[],o=null,s=null,u=new Set,c=Object.keys(e).map((function(e){return F(e)[0]})),l=[];null!=r&&(l=r.map((function(e){return F(e.name)[0]})));for(var f=(0,R.Z)(t);f.length>0;){var d=f.pop();(Er(d)||Cr(d)||Or(d))&&null==o&&(s=(o=d).children.map((function(e){return e.name})).filter((function(e){return i.has(e)}))),i.add(d.name),null==n[d.name]&&(-1===c.indexOf(d.name)&&-1===l.indexOf(d.name)&&(0!==d.inputs.length?d.inputs.forEach((function(e){u.has(e.name)||(u.add(e.name),f.push(e))})):a.push(d.name)))}return{inputs:e,outputs:t,usedNodes:i,missingInputs:a,dynamicNode:o,syncInputs:s}}var _r=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],Sr=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],Tr=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function Er(e){return _r.indexOf(e.op)>=0}function Cr(e){return Sr.indexOf(e.op)>=0}function Or(e){return Tr.indexOf(e.op)>=0}var Ar=function(){function e(t,n){var r=this;(0,O.Z)(this,e),this.graph=t,this.parent=n,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=t.outputs,this._inputs=t.inputs,this._initNodes=t.initNodes,this._signature=t.signature,this._functions=t.functions,null!=t.functions&&Object.keys(t.functions).forEach((function(n){r._functionExecutorMap[n]=new e(t.functions[n],r)}))}return(0,A.Z)(e,[{key:"weightIds",get:function(){return this.parent?this.parent.weightIds:this._weightIds}},{key:"functionExecutorMap",get:function(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}},{key:"weightMap",get:function(){return this.parent?this.parent.weightMap:this._weightMap},set:function(e){var t,n=Object.keys(e).map((function(t){return e[t].map((function(e){return e.id}))}));this._weightIds=(t=[]).concat.apply(t,(0,R.Z)(n)),this._weightMap=e}},{key:"resourceManager",set:function(e){this._resourceManager=e}},{key:"inputs",get:function(){return this._inputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"outputs",get:function(){return this._outputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"inputNodes",get:function(){return this._inputs.map((function(e){return e.signatureKey||e.name}))}},{key:"outputNodes",get:function(){return this._outputs.map((function(e){var t=e.signatureKey||e.name;return e.defaultOutput?"".concat(t,":").concat(e.defaultOutput):t}))}},{key:"functions",get:function(){var e=this;return Object.keys(this._functions).reduce((function(t,n){return t[n]=e._functions[n].signature,t}),{})}},{key:"getCompilationKey",value:function(e,t){var n=e.map((function(e){return e.name})).sort(),r=t.map((function(e){return e.name})).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)}},{key:"compile",value:function(e,t){var n=wr(e,t,this.weightMap,this._initNodes),r=n.missingInputs,i=n.dynamicNode,a=n.syncInputs;if(null!=i)throw new Error("This execution contains the node '".concat(i.name,"', which has ")+"the dynamic op '".concat(i.op,"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+"dynamic ops, specify the inputs [".concat(a,"]"));if(r.length>0){var o=t.map((function(e){return e.name})),s=Object.keys(e);throw new Error("Cannot compute the outputs [".concat(o,"] from the provided inputs ")+"[".concat(s,"]. Missing the following inputs: [").concat(r,"]"))}return function(e,t,n){var r=n.usedNodes,i=n.inputs,a=[],o=Object.keys(i).map((function(e){return F(e)[0]})).map((function(t){return e.nodes[t]})),s=e.initNodes;o.forEach((function(e){r.has(e.name)&&a.push(e)})),e.weights.forEach((function(e){r.has(e.name)&&a.push(e)})),null!=s&&s.forEach((function(e){r.has(e.name)&&a.push(e)}));for(var u=new Set,c=[];a.length>0;){var l=a.pop();u.add(l.name),t[l.name]||c.push(l),l.children.forEach((function(e){!u.has(e.name)&&r.has(e.name)&&e.inputs.every((function(e){return u.has(e.name)}))&&a.push(e)}))}return c}(this.graph,this.weightMap,n)}},{key:"execute",value:function(e,t){var n=this;e=this.mapInputs(e);var r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);var i=r.map((function(e){return n.graph.nodes[F(e)[0]]})),a=t.map((function(e){return F(e)[0]})),o=a.map((function(e){return n.graph.nodes[e]}));this.resetIntermediateTensors(),0===o.length&&(o=this._outputs);var s=this.getCompilationKey(i,o),u=this.compiledMap.get(s);null==u&&(u=this.compile(e,o),this.compiledMap.set(s,u));var c={},l={};return(0,_.tidy)((function(){var r=new kr(n.weightMap,c,l,n.functionExecutorMap),i=Object.assign({},n.weightMap);Object.keys(e).forEach((function(t){var n=F(t),r=(0,I.Z)(n,2),a=r[0],o=[];o[r[1]]=e[t],i[a]=o}));for(var o=n.getFrozenTensorIds(i),s={},f=0;f<u.length;f++){var d=u[f];if(!i[d.name]){var p=xr(d,i,r,n._resourceManager);if(_.util.isPromise(p))throw new Error("The execution of the op '".concat(d.op,"' returned a promise. ")+"Please use model.executeAsync() instead.");i[d.name]=p,n.checkTensorForDisposal(d.name,d,i,r,o,a,s)}}return null==n.parent&&r.dispose(o),t.map((function(e){return D(e,i,r)}))}))}},{key:"getFrozenTensorIds",value:function(e){var t=[].concat.apply([],Object.keys(e).map((function(t){return e[t]})).map((function(e){return e.map((function(e){return e.id}))})));return new Set(t)}},{key:"checkTensorForDisposal",value:function(e,t,n,r,i,a,o){var s=this;"control"!==t.category&&-1===a.indexOf(e)&&(n[e].forEach((function(e){null!=e&&(o[e.id]=(o[e.id]||0)+t.children.length)})),t.inputs.forEach((function(e){if("control"!==e.category){var a=function(e,t,n){return t[j(e,n.currentContextId)]}(e.name,n,r);null!=a&&a.forEach((function(e){if(e&&!e.kept&&!i.has(e.id)){var n=o[e.id];if(1===n){if(s.keepTensorForDebug){var a=L(t.name,r),u=(0,I.Z)(a,2),c=u[0],l=u[1];s.intermediateTensors[c]||(s.intermediateTensors[c]=[]),s.intermediateTensors[c][l]=e}else e.dispose();delete o[e.id]}else null!=n&&o[e.id]--}}))}})))}},{key:"executeAsync",value:function(){var e=(0,C.Z)((0,E.Z)().mark((function e(t,n){return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._executeAsync(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"disposeIntermediateTensors",value:function(){var e=this;this.intermediateTensors&&(Object.keys(this.intermediateTensors).forEach((function(t){return e.intermediateTensors[t].forEach((function(e){return e.dispose()}))})),this.disposeTensorsMap())}},{key:"disposeTensorsMap",value:function(){var e=this;this.tensorsMap&&Object.keys(this.tensorsMap).forEach((function(t){e.tensorsMap[t].forEach((function(t){!t||t.kept||t.isDisposed||e.keepIds.has(t.id)||t.dispose()}))}))}},{key:"getIntermediateTensors",value:function(){return this.tensorsMap}},{key:"resetIntermediateTensors",value:function(){for(var e in this.intermediateTensors)this.intermediateTensors[e].forEach((function(e){return e.dispose()})),delete this.intermediateTensors[e]}},{key:"_executeAsync",value:function(){var e=(0,C.Z)((0,E.Z)().mark((function e(t,n){var r,i,a,o,s,u,c,l=this,f=arguments;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=f.length>2&&void 0!==f[2]&&f[2],i=f.length>3&&void 0!==f[3]?f[3]:{},a=f.length>4&&void 0!==f[4]?f[4]:{},r||(t=this.mapInputs(t),this.checkInputs(t),this.checkInputShapeAndType(t),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepTensorForDebug=(0,_.env)().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(d){console.warn(d.message)}return this.resetIntermediateTensors(),o=new kr(this.weightMap,i,a,this.functionExecutorMap),e.next=9,this.executeWithControlFlow(t,o,n,r);case 9:return this.tensorsMap=e.sent,s=n.map((function(e){return D(e,l.tensorsMap,o)})),u=s.map((function(e){return e.id})),c=Object.keys(t).map((function(e){return t[e].id})),this.keepIds=new Set([].concat((0,R.Z)(u),(0,R.Z)(c),(0,R.Z)(this.weightIds))),this.keepTensorForDebug||this.disposeTensorsMap(),null==this.parent&&o.dispose(this.keepIds),e.abrupt("return",s);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"executeFunctionAsync",value:function(){var e=(0,C.Z)((0,E.Z)().mark((function e(t,n,r){var i,a=this;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.reduce((function(e,t,n){return e[a.inputs[n].name]=t,e}),{}),e.abrupt("return",this._executeAsync(i,this.outputNodes,!0,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"executeWithControlFlow",value:function(){var e=(0,C.Z)((0,E.Z)().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,d,p,h,v,m,g,y,b,x,k,w=this;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object.keys(t),o=a.map((function(e){return w.graph.nodes[F(e)[0]]})),s=r.map((function(e){return F(e)[0]})),0===(u=s.map((function(e){return w.graph.nodes[e]}))).length&&(u=this._outputs),c=wr(t,u,this.weightMap,this._initNodes),l=c.usedNodes,f=c.missingInputs,d=c.dynamicNode,p=c.syncInputs,h=[].concat((0,R.Z)(o),(0,R.Z)(this.graph.weights),(0,R.Z)(this._initNodes||[])).map((function(e){return{node:e,contexts:n.currentContext}})),v=Object.assign({},this.weightMap),Object.keys(t).forEach((function(e){var n=F(e),r=(0,I.Z)(n,2),i=r[0],a=[];a[r[1]]=t[e],v[i]=a})),m={},g=this.getFrozenTensorIds(v),y={};case 12:if(!(h.length>0)){e.next=18;break}return b=this.processStack(o,h,n,v,y,g,s,m,l),e.next=16,Promise.all(b);case 16:e.next=12;break;case 18:if(null!=d||i||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead."),!((x=u.filter((function(e){return!Er(e)&&!D(e.name,v,n)})).map((function(e){return e.name}))).length>0)){e.next=24;break}throw k="",null!=d&&(k="Alternatively, to avoid the dynamic ops, use model.execute() "+"and specify the inputs [".concat(p,"]")),new Error("Cannot compute the outputs [".concat(x,"] from the provided ")+"inputs [".concat(a,"]. Consider providing the following inputs: ")+"[".concat(f,"]. ").concat(k));case 24:return e.abrupt("return",v);case 25:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"processStack",value:function(e,t,n,r,i,a,o,s,u){for(var c=this,l=[],f=function(){var e=t.pop();n.currentContext=e.contexts;var f="";if("Enter"===e.node.op&&M("isConstant",e.node,r,n)){var d=L(e.node.name,n),p=(0,I.Z)(d,1);f=p[0]}if(null==r[e.node.name]){var h=xr(e.node,r,n,c._resourceManager);if(!f){var v=L(e.node.name,n),m=(0,I.Z)(v,1);f=m[0]}var g=n.currentContext;_.util.isPromise(h)?l.push(h.then((function(l){return r[f]=l,n.currentContext=g,c.checkTensorForDisposal(f,e.node,r,n,a,o,s),c.processChildNodes(e.node,t,n,r,i,u),l}))):(r[f]=h,c.checkTensorForDisposal(f,e.node,r,n,a,o,s),c.processChildNodes(e.node,t,n,r,i,u))}else c.processChildNodes(e.node,t,n,r,i,u)};t.length>0;)f();return l}},{key:"processChildNodes",value:function(e,t,n,r,i,a){e.children.forEach((function(e){var o=L(e.name,n),s=(0,I.Z)(o,1)[0];!i[s]&&a.has(e.name)&&("Merge"===e.op?e.inputNames.some((function(e){return!!D(e,r,n)}))&&(i[s]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((function(e){return!!D(e,r,n)}))&&(i[s]=!0,t.push({contexts:n.currentContext,node:e})))}))}},{key:"dispose",value:function(){var e=this;Object.keys(this.weightMap).forEach((function(t){return e.weightMap[t].forEach((function(e){return e.dispose()}))}))}},{key:"checkInputShapeAndType",value:function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],i=F(n),a=(0,I.Z)(i,1)[0],o=t.graph.nodes[a];if(o.attrParams.shape&&o.attrParams.shape.value){var s=o.attrParams.shape.value,u=s.length===r.shape.length&&r.shape.every((function(e,t){return-1===s[t]||s[t]===e}));_.util.assert(u,(function(){return"The shape of dict['".concat(o.name,"'] provided in ")+"model.execute(dict) must be [".concat(s,"], but was ")+"[".concat(r.shape,"]")}))}o.attrParams.dtype&&o.attrParams.dtype.value&&_.util.assert(r.dtype===o.attrParams.dtype.value,(function(){return"The dtype of dict['".concat(o.name,"'] provided in ")+"model.execute(dict) must be "+"".concat(o.attrParams.dtype.value,", but was ").concat(r.dtype)}))}))}},{key:"mapInputs",value:function(e){var t={};for(var n in e){if(null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n])t[this._signature.inputs[n].name]=e[n];else t[n]=e[n]}return t}},{key:"checkInputs",value:function(e){var t=this,n=Object.keys(e).filter((function(e){var n=F(e),r=(0,I.Z)(n,1)[0];return null==t.graph.nodes[r]}));if(n.length>0)throw new Error("The dict provided in model.execute(dict) has "+"keys: [".concat(n,"] that are not part of graph"))}},{key:"mapOutputs",value:function(e){var t=this;return e.map((function(e){return null!=t._signature&&null!=t._signature.outputs&&null!=t._signature.outputs[e]?t._signature.outputs[e].name:e}),{})}},{key:"checkOutputs",value:function(e){var t=this;e.forEach((function(e){var n=F(e),r=(0,I.Z)(n,1)[0];if(!t.graph.nodes[r])throw new Error("The output '".concat(e,"' is not found in the graph"))}))}}]),e}(),Ir=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,O.Z)(this,e),this.hashTableNameToHandle=t,this.hashTableMap=n}return(0,A.Z)(e,[{key:"addHashTable",value:function(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}},{key:"getHashTableHandleByName",value:function(e){return this.hashTableNameToHandle[e]}},{key:"getHashTableById",value:function(e){return this.hashTableMap[e]}},{key:"dispose",value:function(){for(var e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(var t in this.hashTableNameToHandle)this.hashTableNameToHandle[t].dispose(),delete this.hashTableNameToHandle[t]}}]),e}(),Rr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,O.Z)(this,e),this.modelUrl=t,this.loadOptions=n,this.version="n/a",null==n&&(this.loadOptions={}),this.resourceManager=new Ir}return(0,A.Z)(e,[{key:"modelVersion",get:function(){return this.version}},{key:"inputNodes",get:function(){return this.executor.inputNodes}},{key:"outputNodes",get:function(){return this.executor.outputNodes}},{key:"inputs",get:function(){return this.executor.inputs}},{key:"outputs",get:function(){return this.executor.outputs}},{key:"weights",get:function(){return this.executor.weightMap}},{key:"metadata",get:function(){return this.artifacts.userDefinedMetadata}},{key:"modelSignature",get:function(){return this.signature}},{key:"findIOHandler",value:function(){var e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=_.io.browserHTTPRequest(e,this.loadOptions);else{var t=_.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(_.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error("Found more than one (".concat(t.length,") load handlers for ")+"URL '".concat([e],"'"));this.handler=t[0]}}},{key:"load",value:function(){var e=this;if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");var t=this.handler.load();return _.util.isPromise(t)?t.then((function(t){return e.loadSync(t)})):this.loadSync(t)}},{key:"loadSync",value:function(e){this.artifacts=e;var t,n=this.artifacts.modelTopology;t=null!=this.artifacts.userDefinedMetadata&&null!=this.artifacts.userDefinedMetadata.signature?this.artifacts.userDefinedMetadata.signature:this.artifacts.signature,this.signature=t,this.version="".concat(n.versions.producer,".").concat(n.versions.minConsumer);var r=_.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new Ar(oe.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){var i=oe.Instance.transformGraph(e.modelInitializer);this.initializer=new Ar(i),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}},{key:"save",value:function(){var e=(0,C.Z)((0,E.Z)().mark((function e(t,n){var r;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=9;break}if(0!==(r=_.io.getSaveHandlers(t)).length){e.next=6;break}throw new Error("Cannot find any save handlers for URL '".concat(t,"'"));case 6:if(!(r.length>1)){e.next=8;break}throw new Error("Found more than one (".concat(r.length,") save handlers for ")+"URL '".concat(t,"'"));case 8:t=r[0];case 9:if(null!=t.save){e.next=11;break}throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");case 11:return e.abrupt("return",t.save(this.artifacts));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"predict",value:function(e,t){return this.execute(e,this.outputNodes)}},{key:"normalizeInputs",value:function(e){if(!(e instanceof _.Tensor)&&!Array.isArray(e))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,"+"the graph model has ".concat(this.inputNodes.length," placeholders, ")+"while there are ".concat(e.length," input tensors."));return this.inputNodes.reduce((function(t,n,r){return t[n]=e[r],t}),{})}},{key:"normalizeOutputs",value:function(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}},{key:"execute",value:function(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);var n=this.executor.execute(e,t);return n.length>1?n:n[0]}},{key:"executeAsync",value:function(){var e=(0,C.Z)((0,E.Z)().mark((function e(t,n){var r;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.normalizeInputs(t),n=this.normalizeOutputs(n),e.next=4,this.executor.executeAsync(t,n);case 4:return r=e.sent,e.abrupt("return",r.length>1?r:r[0]);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getIntermediateTensors",value:function(){return this.executor.getIntermediateTensors()}},{key:"disposeIntermediateTensors",value:function(){this.executor.disposeIntermediateTensors()}},{key:"convertTensorMapToTensorsMap",value:function(e){return Object.keys(e).reduce((function(t,n){return t[n]=[e[n]],t}),{})}},{key:"dispose",value:function(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}]),e}();function Nr(e){return Pr.apply(this,arguments)}function Pr(){return Pr=(0,C.Z)((0,E.Z)().mark((function e(t){var n,r,i=arguments;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:{},null!=t){e.next=3;break}throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");case 3:return null==n&&(n={}),n.fromTFHub&&"string"===typeof t&&(t=Mr(t)),r=new Rr(t,n),e.next=8,r.load();case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),Pr.apply(this,arguments)}function Mr(e){return e.endsWith("/")||(e+="/"),"".concat(e).concat("model.json").concat("?tfjs-format=file")}var Dr=function(e,t){return(Dr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Lr(e,t){function n(){this.constructor=e}Dr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var jr=function(){return(jr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Fr(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function Zr(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function Br(e){var t=e.shape[2],n=(0,_.argMax)(e,2),r=(0,_.reshape)(n,[-1]);return(0,_.oneHot)(r,t)}function Ur(e,t){return(0,_.tidy)((function(){return(0,_.cast)((0,_.greater)(e,(0,_.scalar)(t)),"int32")}))}function Vr(e,t){var n=t.shape,r=n[0],i=n[1],a=n[2];return(0,_.tidy)((function(){var n=Br(t),o=(0,_.expandDims)((0,_.range)(0,a,1,"int32"),1),s=(0,_.cast)((0,_.matMul)(n,o),"int32"),u=(0,_.reshape)(s,[r,i]),c=(0,_.add)(u,(0,_.scalar)(1,"int32"));return(0,_.sub)(function(e,t){return(0,_.mul)(e,t)}(c,e),(0,_.scalar)(1,"int32"))}))}function zr(e){var t=e.shape,n=t[0],r=t[1],i=t[2];return(0,_.tidy)((function(){var t=Br(e),a=(0,_.expandDims)((0,_.range)(0,i,1,"int32"),1),o=(0,_.cast)((0,_.matMul)(t,a),"int32");return(0,_.reshape)(o,[n,r])}))}var Wr=function(){function e(e,t){this.model=e,this.outputStride=t;var n=this.model.inputs[0].shape;_.util.assert(-1===n[1]&&-1===n[2],(function(){return"Input shape ["+n[1]+", "+n[2]+"] must both be equal to or -1"}))}return e.prototype.predict=function(e){var t=this;return(0,_.tidy)((function(){var n=t.preprocessInput((0,_.cast)(e,"float32")),r=(0,_.expandDims)(n,0),i=t.model.predict(r).map((function(e){return(0,_.squeeze)(e,[0])})),a=t.nameOutputResults(i);return{heatmapScores:(0,_.sigmoid)(a.heatmap),offsets:a.offsets,displacementFwd:a.displacementFwd,displacementBwd:a.displacementBwd,segmentation:a.segmentation,partHeatmaps:a.partHeatmaps,longOffsets:a.longOffsets,partOffsets:a.partOffsets}}))},e.prototype.dispose=function(){this.model.dispose()},e}(),Hr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lr(t,e),t.prototype.preprocessInput=function(e){return(0,_.tidy)((function(){return(0,_.sub)((0,_.div)(e,127.5),1)}))},t.prototype.nameOutputResults=function(e){return{offsets:e[0],segmentation:e[1],partHeatmaps:e[2],longOffsets:e[3],heatmap:e[4],displacementFwd:e[5],displacementBwd:e[6],partOffsets:e[7]}},t}(Wr),Gr=["nose","leftEye","rightEye","leftEar","rightEar","leftShoulder","rightShoulder","leftElbow","rightElbow","leftWrist","rightWrist","leftHip","rightHip","leftKnee","rightKnee","leftAnkle","rightAnkle"],qr=Gr.length,Kr=Gr.reduce((function(e,t,n){return e[t]=n,e}),{});[["leftHip","leftShoulder"],["leftElbow","leftShoulder"],["leftElbow","leftWrist"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["rightHip","rightShoulder"],["rightElbow","rightShoulder"],["rightElbow","rightWrist"],["rightHip","rightKnee"],["rightKnee","rightAnkle"],["leftShoulder","rightShoulder"],["leftHip","rightHip"]].map((function(e){var t=e[0],n=e[1];return[Kr[t],Kr[n]]}));function Yr(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1],s=n.top,u=n.bottom;return[o/(n.left+n.right+i),a/(s+u+r)]}function Xr(e,t,n,r){return{y:r.get(e,t,n),x:r.get(e,t,n+qr)}}function Qr(e,t,n){var r=Xr(e.heatmapY,e.heatmapX,e.id,n),i=r.y,a=r.x;return{x:e.heatmapX*t+a,y:e.heatmapY*t+i}}function Jr(e,t,n){return e<t?t:e>n?n:e}function $r(e,t){return{x:e.x+t.x,y:e.y+t.y}}function ei(e,t,n){void 0===n&&(n=.3);for(var r=0,i=0,a=0;a<e.length;a++)t.keypoints[a].score>n&&(i+=1,r+=Math.pow(e[a].x-t.keypoints[a].position.x,2)+Math.pow(e[a].y-t.keypoints[a].position.y,2));return 0===i?r=1/0:r/=i,r}function ti(e,t,n,r,i,a,o){for(var s=o[0],u=o[1],c=n(e),l=c.y*r+c.x,f=i[qr*(2*l)+t],d=i[qr*(2*l+1)+t],p=e.y+f,h=e.x+d,v=0;v<a;v++){p=Math.min(p,s-1);var m=n({x:h=Math.min(h,u-1),y:p}),g=m.y*r+m.x;p+=f=i[qr*(2*g)+t],h+=d=i[qr*(2*g+1)+t]}return{x:h,y:p}}function ni(e,t,n,r,i,a,o,s,u,c){for(var l=i[0],f=i[1],d=a[0],p=a[1],h=s[0],v=s[1],m=[],g=function(e){return function(e,t,n,r){var i=t[0],a=t[1],o=n[0],s=n[1],u=Math.round(((i+e.y+1)*s-1)/r);return{x:Math.round(((a+e.x+1)*o-1)/r),y:u}}(e,[l,f],[d,p],u)},y=0;y<r;y++){var b=ti(e,y,g,o,t,c,[h,v]);m.push(b)}for(var x=-1,k=1/0,w=0;w<n.length;w++){var _=ei(m,n[w]);_<k&&(x=w,k=_)}return x}function ri(e,t){var n=e[0],r=e[1];return[Math.round((r-1)/t+1),Math.round((n-1)/t+1)]}function ii(e,t,n,r,i,a,o,s,u,c,l){for(var f=o[0],d=o[1],p=e.shape,h=p[0],v=p[1],m=t.shape.slice(0,2),g=m[0],y=m[1],b=(0,_.reshape)(t,[g,y,2,qr]),x=new Float32Array(l*qr*3).fill(0),k=0;k<n.length;k++)for(var w=k*qr*3,S=n[k],T=0;T<qr;T++){var E=S.keypoints[T],C=w+3*T;x[C]=E.score,x[C+1]=E.position.y,x[C+2]=E.position.x}var O=Yr([r,i],[f,d],s),A=O[0],I=O[1],R=(0,_.tensor)(x,[l,qr,3]),N=s.top,P=s.left,M={variableNames:["segmentation","longOffsets","poses"],outputShape:[h,v],userCode:"\n    int convertToPositionInOutput(int pos, int pad, float scale, int stride) {\n      return round(((float(pos + pad) + 1.0) * scale - 1.0) / float(stride));\n    }\n\n    float convertToPositionInOutputFloat(\n        int pos, int pad, float scale, int stride) {\n      return ((float(pos + pad) + 1.0) * scale - 1.0) / float(stride);\n    }\n\n    float dist(float x1, float y1, float x2, float y2) {\n      return pow(x1 - x2, 2.0) + pow(y1 - y2, 2.0);\n    }\n\n    float sampleLongOffsets(float h, float w, int d, int k) {\n      float fh = fract(h);\n      float fw = fract(w);\n      int clH = int(ceil(h));\n      int clW = int(ceil(w));\n      int flH = int(floor(h));\n      int flW = int(floor(w));\n      float o11 = getLongOffsets(flH, flW, d, k);\n      float o12 = getLongOffsets(flH, clW, d, k);\n      float o21 = getLongOffsets(clH, flW, d, k);\n      float o22 = getLongOffsets(clH, clW, d, k);\n      float o1 = mix(o11, o12, fw);\n      float o2 = mix(o21, o22, fw);\n      return mix(o1, o2, fh);\n    }\n\n    int findNearestPose(int h, int w) {\n      float prob = getSegmentation(h, w);\n      if (prob < 1.0) {\n        return -1;\n      }\n\n      // Done(Tyler): convert from output space h/w to strided space.\n      float stridedH = convertToPositionInOutputFloat(\n        h, "+N+", "+I+", "+a+");\n      float stridedW = convertToPositionInOutputFloat(\n        w, "+P+", "+A+", "+a+");\n\n      float minDist = 1000000.0;\n      int iMin = -1;\n      for (int i = 0; i < "+l+"; i++) {\n        float curDistSum = 0.0;\n        int numKpt = 0;\n        for (int k = 0; k < "+qr+"; k++) {\n          float dy = sampleLongOffsets(stridedH, stridedW, 0, k);\n          float dx = sampleLongOffsets(stridedH, stridedW, 1, k);\n\n          float y = float(h) + dy;\n          float x = float(w) + dx;\n\n          for (int s = 0; s < "+u+"; s++) {\n            int yRounded = round(min(y, float("+(r-1)+")));\n            int xRounded = round(min(x, float("+(i-1)+")));\n\n            float yStrided = convertToPositionInOutputFloat(\n              yRounded, "+N+", "+I+", "+a+");\n            float xStrided = convertToPositionInOutputFloat(\n              xRounded, "+P+", "+A+", "+a+");\n\n            float dy = sampleLongOffsets(yStrided, xStrided, 0, k);\n            float dx = sampleLongOffsets(yStrided, xStrided, 1, k);\n\n            y = y + dy;\n            x = x + dx;\n          }\n\n          float poseScore = getPoses(i, k, 0);\n          float poseY = getPoses(i, k, 1);\n          float poseX = getPoses(i, k, 2);\n          if (poseScore > "+c+") {\n            numKpt = numKpt + 1;\n            curDistSum = curDistSum + dist(x, y, poseX, poseY);\n          }\n        }\n        if (numKpt > 0 && curDistSum / float(numKpt) < minDist) {\n          minDist = curDistSum / float(numKpt);\n          iMin = i;\n        }\n      }\n      return iMin;\n    }\n\n    void main() {\n        ivec2 coords = getOutputCoords();\n        int nearestPose = findNearestPose(coords[0], coords[1]);\n        setOutput(float(nearestPose));\n      }\n  "};return(0,_.backend)().compileAndRun(M,[e,b,R])}function ai(){return"webgl"===(0,_.getBackend)()}function oi(e,t,n,r,i,a,o,s,u,c,l,f){var d=o[0],p=o[1];return void 0===u&&(u=.2),void 0===c&&(c=8),void 0===l&&(l=.3),void 0===f&&(f=10),Fr(this,void 0,void 0,(function(){var o,h,v,m,g;return Zr(this,(function(y){switch(y.label){case 0:return o=n.filter((function(e){return e.score>=u})),ai()?(v=(0,_.tidy)((function(){var n=ii(e,t,o,r,i,a,[d,p],s,c,l,f),u=(0,_.engine)().makeTensorFromDataId(n.dataId,n.shape,n.dtype);return o.map((function(e,t){return function(e,t){return(0,_.tidy)((function(){return(0,_.cast)((0,_.equal)(e,(0,_.scalar)(t)),"int32")}))}(u,t)}))})),[4,Promise.all(v.map((function(e){return e.data()})))]):[3,2];case 1:return h=y.sent(),v.forEach((function(e){return e.dispose()})),[3,5];case 2:return[4,e.data()];case 3:return m=y.sent(),[4,t.data()];case 4:g=y.sent(),h=function(e,t,n,r,i,a,o,s,u,c){var l=o[0],f=o[1];void 0===c&&(c=5);for(var d=n.map((function(e){return new Uint8Array(r*i).fill(0)})),p=s.top,h=s.left,v=Yr([r,i],[l,f],s),m=v[0],g=v[1],y=ri([l,f],a)[0],b=0;b<r;b+=1)for(var x=0;x<i;x+=1){var k=b*i+x;if(1===e[k]){var w=ni({x:x,y:b},t,n,c,[p,h],[m,g],y,[r,i],a,u);w>=0&&(d[w][k]=1)}}return d}(m,g,o,r,i,a,[d,p],s,c),y.label=5;case 5:return[2,h.map((function(e,t){return{data:e,pose:o[t],width:i,height:r}}))]}}))}))}function si(e,t,n,r,i,a,o,s,u,c,l,f,d){var p=s[0],h=s[1];return void 0===c&&(c=.2),void 0===l&&(l=8),void 0===f&&(f=.3),void 0===d&&(d=10),Fr(this,void 0,void 0,(function(){var s,v,m,g,y,b;return Zr(this,(function(x){switch(x.label){case 0:return s=r.filter((function(e){return e.score>=c})),ai()?(m=(0,_.tidy)((function(){var r=ii(e,t,s,i,a,o,[p,h],u,l,f,d),c=(0,_.engine)().makeTensorFromDataId(r.dataId,r.shape,r.dtype);return s.map((function(e,t){return function(e,t,n){return(0,_.tidy)((function(){return(0,_.sub)((0,_.mul)((0,_.cast)((0,_.equal)(e,(0,_.scalar)(n)),"int32"),(0,_.add)(t,1)),1)}))}(c,n,t)}))})),[4,Promise.all(m.map((function(e){return e.data()})))]):[3,2];case 1:return v=x.sent(),m.forEach((function(e){return e.dispose()})),[3,6];case 2:return[4,e.data()];case 3:return g=x.sent(),[4,t.data()];case 4:return y=x.sent(),[4,n.data()];case 5:b=x.sent(),v=function(e,t,n,r,i,a,o,s,u,c,l){var f=s[0],d=s[1];void 0===l&&(l=5);for(var p=r.map((function(e){return new Int32Array(i*a).fill(-1)})),h=u.top,v=u.left,m=Yr([i,a],[f,d],u),g=m[0],y=m[1],b=ri([f,d],o)[0],x=0;x<i;x+=1)for(var k=0;k<a;k+=1){var w=x*a+k;if(1===e[w]){var _=ni({x:k,y:x},t,r,l,[h,v],[g,y],b,[i,a],o,c);_>=0&&(p[_][w]=n[w])}}return p}(g,y,b,s,i,a,o,[p,h],u,l),x.label=6;case 6:return[2,v.map((function(e,t){return{pose:s[t],data:e,height:i,width:a}}))]}}))}))}function ui(e){return Math.floor(e/2)}var ci=function(){function e(e,t){this.priorityQueue=new Array(e),this.numberOfElements=-1,this.getElementValue=t}return e.prototype.enqueue=function(e){this.priorityQueue[++this.numberOfElements]=e,this.swim(this.numberOfElements)},e.prototype.dequeue=function(){var e=this.priorityQueue[0];return this.exchange(0,this.numberOfElements--),this.sink(0),this.priorityQueue[this.numberOfElements+1]=null,e},e.prototype.empty=function(){return-1===this.numberOfElements},e.prototype.size=function(){return this.numberOfElements+1},e.prototype.all=function(){return this.priorityQueue.slice(0,this.numberOfElements+1)},e.prototype.max=function(){return this.priorityQueue[0]},e.prototype.swim=function(e){for(;e>0&&this.less(ui(e),e);)this.exchange(e,ui(e)),e=ui(e)},e.prototype.sink=function(e){for(;2*e<=this.numberOfElements;){var t=2*e;if(t<this.numberOfElements&&this.less(t,t+1)&&t++,!this.less(e,t))break;this.exchange(e,t),e=t}},e.prototype.getValueAt=function(e){return this.getElementValue(this.priorityQueue[e])},e.prototype.less=function(e,t){return this.getValueAt(e)<this.getValueAt(t)},e.prototype.exchange=function(e,t){var n=this.priorityQueue[e];this.priorityQueue[e]=this.priorityQueue[t],this.priorityQueue[t]=n},e}();function li(e,t,n,r,i,a){for(var o=a.shape,s=o[0],u=o[1],c=!0,l=Math.max(n-i,0),f=Math.min(n+i+1,s),d=l;d<f;++d){for(var p=Math.max(r-i,0),h=Math.min(r+i+1,u),v=p;v<h;++v)if(a.get(d,v,e)>t){c=!1;break}if(!c)break}return c}var fi=[["nose","leftEye"],["leftEye","leftEar"],["nose","rightEye"],["rightEye","rightEar"],["nose","leftShoulder"],["leftShoulder","leftElbow"],["leftElbow","leftWrist"],["leftShoulder","leftHip"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["nose","rightShoulder"],["rightShoulder","rightElbow"],["rightElbow","rightWrist"],["rightShoulder","rightHip"],["rightHip","rightKnee"],["rightKnee","rightAnkle"]].map((function(e){var t=e[0],n=e[1];return[Kr[t],Kr[n]]})),di=fi.map((function(e){return e[1]})),pi=fi.map((function(e){return e[0]}));function hi(e,t,n,r){return{y:Jr(Math.round(e.y/t),0,n-1),x:Jr(Math.round(e.x/t),0,r-1)}}function vi(e,t,n,r,i,a,o,s){void 0===s&&(s=2);for(var u=r.shape,c=u[0],l=u[1],f=function(e,t,n){var r=n.shape[2]/2;return{y:n.get(t.y,t.x,e),x:n.get(t.y,t.x,r+e)}}(e,hi(t.position,a,c,l),o),d=$r(t.position,f),p=0;p<s;p++){var h=hi(d,a,c,l),v=Xr(h.y,h.x,n,i);d=$r({x:h.x*a,y:h.y*a},{x:v.x,y:v.y})}var m=hi(d,a,c,l),g=r.get(m.y,m.x,n);return{position:d,part:Gr[n],score:g}}function mi(e,t,n,r,i,a){var o=t.shape[2],s=di.length,u=new Array(o),c=e.part,l=e.score,f=Qr(c,r,n);u[c.id]={score:l,part:Gr[c.id],position:f};for(var d=s-1;d>=0;--d){var p=di[d],h=pi[d];u[p]&&!u[h]&&(u[h]=vi(d,u[p],h,t,n,r,a))}for(d=0;d<s;++d)p=pi[d],h=di[d],u[p]&&!u[h]&&(u[h]=vi(d,u[p],h,t,n,r,i));return u}function gi(e,t,n,r){var i=n.x,a=n.y;return e.some((function(e){var n=e.keypoints[r].position;return function(e,t,n,r){var i=n-e,a=r-t;return i*i+a*a}(a,i,n.y,n.x)<=t}))}function yi(e,t,n){return n.reduce((function(n,r,i){var a=r.position,o=r.score;return gi(e,t,a,i)||(n+=o),n}),0)/n.length}function bi(e,t,n,r,i,a,o,s){void 0===o&&(o=.5),void 0===s&&(s=20);for(var u=[],c=function(e,t,n){for(var r=n.shape,i=r[0],a=r[1],o=r[2],s=new ci(i*a*o,(function(e){return e.score})),u=0;u<i;++u)for(var c=0;c<a;++c)for(var l=0;l<o;++l){var f=n.get(u,c,l);f<e||li(l,f,u,c,t,n)&&s.enqueue({score:f,part:{heatmapY:u,heatmapX:c,id:l}})}return s}(o,1,e),l=s*s;u.length<a&&!c.empty();){var f=c.dequeue();if(!gi(u,l,Qr(f.part,i,t),f.part.id)){var d=mi(f,e,t,i,n,r),p=yi(u,l,d);u.push({keypoints:d,score:p})}}return u}var xi,ki=[-123.15,-115.9,-103.06],wi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lr(t,e),t.prototype.preprocessInput=function(e){return(0,_.add)(e,ki)},t.prototype.nameOutputResults=function(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5];return{offsets:a,segmentation:e[6],partHeatmaps:o,longOffsets:i,heatmap:r,displacementFwd:n,displacementBwd:t,partOffsets:e[7]}},t}(Wr),_i="https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/resnet50/",Si="https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/mobilenet/";function Ti(e){if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)return function(e){if("offsetHeight"in e&&0!==e.offsetHeight&&"offsetWidth"in e&&0!==e.offsetWidth)return[e.offsetHeight,e.offsetWidth];if(null!=e.height&&null!=e.width)return[e.height,e.width];throw new Error("HTMLImageElement must have height and width attributes set.")}(e);if("undefined"!=typeof ImageData&&e instanceof ImageData)return[e.height,e.width];if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)return function(e){return e.hasAttribute("height")&&e.hasAttribute("width")?[e.height,e.width]:[e.videoHeight,e.videoWidth]}(e);if(e instanceof _.Tensor)return[e.shape[0],e.shape[1]];throw new Error("error: Unknown input type: "+e+".")}function Ei(e,t){return function(e,t){return(e-1)%t==0}(e,t)?e:Math.floor(e/t)*t+1}var Ci={low:"low",medium:"medium",high:"high",full:"full"},Oi=((xi={})[Ci.low]=.25,xi[Ci.medium]=.5,xi[Ci.high]=.75,xi[Ci.full]=1,xi);function Ai(e,t,n){var r=n[0],i=n[1],a=function(e){if("string"==typeof e){var t=Oi[e];return _.util.assert("number"==typeof t,(function(){return"string value of inputResolution must be one of "+Object.values(Ci).join(",")+" but was "+e+"."})),t}return _.util.assert("number"==typeof e&&e<=2&&e>=.1,(function(){return"inputResolution must be a string or number between 0.1 and 2, but was "+e})),e}(e);return[Ei(r*a,t),Ei(i*a,t)]}function Ii(e,t,n){var r=t[0],i=t[1];void 0===n&&(n=!1);var a,o,s,u,c,l,f=e.shape,d=f[0],p=f[1]/d;if(p>i/r){a=i;var h=r-(o=Math.ceil(a/p));s=0,u=0,c=Math.floor(h/2),l=r-(o+c)}else{o=r;var v=i-(a=Math.ceil(r*p));s=Math.floor(v/2),u=i-(a+s),c=0,l=0}return{resizedAndPadded:(0,_.tidy)((function(){var t;return t=n?_.image.resizeBilinear((0,_.reverse)(e,1),[o,a]):_.image.resizeBilinear(e,[o,a]),(0,_.pad3d)(t,[[c,l],[s,u],[0,0]])})),paddedBy:[[c,l],[s,u]]}}function Ri(e,t,n,r,i){var a=t[0],o=t[1],s=n[0],u=n[1],c=r[0],l=c[0],f=c[1],d=r[1],p=d[0],h=d[1];return void 0===i&&(i=!1),(0,_.tidy)((function(){var t=_.image.resizeBilinear(e,[s,u],!0);return i&&(t=(0,_.sigmoid)(t)),function(e,t,n){var r=t[0],i=t[1],a=n[0],o=a[0],s=a[1],u=n[1],c=u[0],l=u[1];return(0,_.tidy)((function(){var t=(0,_.expandDims)(e);return(0,_.squeeze)(_.image.cropAndResize(t,[[o/(r+o+s-1),c/(i+c+l-1),(o+r-1)/(r+o+s-1),(c+i-1)/(i+c+l-1)]],[0],[r,i]),[0])}))}(t,[a,o],[[l,f],[p,h]])}))}function Ni(e,t){var n=t[0],r=t[1],i=Ti(e),a=i[0],o=i[1],s=r/n,u=[0,0,0,0],c=u[0],l=u[1],f=u[2],d=u[3];return o/a<s?(c=0,l=0,f=Math.round(.5*(s*a-o)),d=Math.round(.5*(s*a-o))):(c=Math.round(.5*(1/s*o-a)),l=Math.round(.5*(1/s*o-a)),f=0,d=0),{resized:(0,_.tidy)((function(){var t=function(e){return e instanceof _.Tensor?e:_.browser.fromPixels(e)}(e);return t=(0,_.pad3d)(t,[[c,l],[f,d],[0,0]]),_.image.resizeBilinear(t,[n,r])})),padding:{top:c,left:f,right:d,bottom:l}}}function Pi(e){return Fr(this,void 0,void 0,(function(){return Zr(this,(function(t){return[2,Promise.all(e.map((function(e){return e.buffer()})))]}))}))}function Mi(e,t){return{score:e.score,keypoints:e.keypoints.map((function(e){var n=e.score,r=e.part,i=e.position;return{score:n,part:r,position:{x:t-1-i.x,y:i.y}}}))}}function Di(e,t,n,r,i){var a=t[0],o=t[1],s=n[0],u=n[1],c=function(e,t,n,r,i){return void 0===r&&(r=0),void 0===i&&(i=0),1===n&&1===t&&0===r&&0===i?e:e.map((function(e){return function(e,t,n,r,i){return void 0===r&&(r=0),void 0===i&&(i=0),{score:e.score,keypoints:e.keypoints.map((function(e){var a=e.score,o=e.part,s=e.position;return{score:a,part:o,position:{x:s.x*n+i,y:s.y*t+r}}}))}}(e,t,n,r,i)}))}(e,(a+r.top+r.bottom)/s,(o+r.left+r.right)/u,-r.top,-r.left);return i?function(e,t){return t<=0?e:e.map((function(e){return Mi(e,t)}))}(c,o):c}var Li=!0,ji=!1,Fi={architecture:"MobileNetV1",outputStride:16,quantBytes:4,multiplier:.75},Zi=["MobileNetV1","ResNet50"],Bi={MobileNetV1:[8,16,32],ResNet50:[32,16]},Ui={MobileNetV1:[.5,.75,1],ResNet50:[1]},Vi=[1,2,4];var zi={flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20},Wi={flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20,minKeypointScore:.3,refineSteps:10};function Hi(e){var t=e.segmentationThreshold,n=e.maxDetections,r=e.scoreThreshold,i=e.nmsRadius;if(t<0||t>1)throw new Error("segmentationThreshold "+t+". Should be in range [0.0, 1.0]");if(n<=0)throw new Error("Invalid maxDetections "+n+". Should be > 0");if(r<0||r>1)throw new Error("Invalid scoreThreshold "+r+". Should be in range [0.0, 1.0]");if(i<=0)throw new Error("Invalid nmsRadius "+i+".")}function Gi(e){var t=e.segmentationThreshold,n=e.maxDetections,r=e.scoreThreshold,i=e.nmsRadius,a=e.minKeypointScore,o=e.refineSteps;if(t<0||t>1)throw new Error("segmentationThreshold "+t+". Should be in range [0.0, 1.0]");if(n<=0)throw new Error("Invalid maxDetections "+n+". Should be > 0");if(r<0||r>1)throw new Error("Invalid scoreThreshold "+r+". Should be in range [0.0, 1.0]");if(i<=0)throw new Error("Invalid nmsRadius "+i+".");if(a<0||a>1)throw new Error("Invalid minKeypointScore "+a+".Should be in range [0.0, 1.0]");if(o<=0||o>20)throw new Error("Invalid refineSteps "+o+".Should be in range [1, 20]")}var qi=function(){function e(e){this.baseModel=e}return e.prototype.predictForPersonSegmentation=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd}},e.prototype.predictForPersonSegmentationAndPart=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,partHeatmapLogits:t.partHeatmaps,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd}},e.prototype.predictForMultiPersonInstanceSegmentationAndPart=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,longOffsets:t.longOffsets,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd,partHeatmaps:t.partHeatmaps}},e.prototype.segmentPersonActivation=function(e,t,n){var r=this;void 0===n&&(n=.5);var i=Ti(e),a=i[0],o=i[1],s=Ai(t,this.baseModel.outputStride,[a,o]),u=Ni(e,s),c=u.resized,l=u.padding,f=(0,_.tidy)((function(){var e=r.predictForPersonSegmentation(c),t=e.segmentLogits,i=e.heatmapScores,s=e.offsets,u=e.displacementFwd,f=e.displacementBwd,d=c.shape,p=d[0],h=d[1],v=Ri(t,[a,o],[p,h],[[l.top,l.bottom],[l.left,l.right]],Li);return{segmentation:Ur((0,_.squeeze)(v),n),heatmapScores:i,offsets:s,displacementFwd:u,displacementBwd:f}})),d=f.segmentation,p=f.heatmapScores,h=f.offsets,v=f.displacementFwd,m=f.displacementBwd;return c.dispose(),{segmentation:d,heatmapScores:p,offsets:h,displacementFwd:v,displacementBwd:m,padding:l,internalResolutionHeightAndWidth:s}},e.prototype.segmentPerson=function(e,t){return void 0===t&&(t=zi),Fr(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,c,l,f,d,p,h,v,m,g,y,b;return Zr(this,(function(x){switch(x.label){case 0:return Hi(t=jr(jr({},zi),t)),n=this.segmentPersonActivation(e,t.internalResolution,t.segmentationThreshold),r=n.segmentation,i=n.heatmapScores,a=n.offsets,o=n.displacementFwd,s=n.displacementBwd,u=n.padding,c=n.internalResolutionHeightAndWidth,l=r.shape,f=l[0],d=l[1],[4,r.data()];case 1:return p=x.sent(),r.dispose(),[4,Pi([i,a,o,s])];case 2:return h=x.sent(),v=h[0],m=h[1],g=h[2],y=h[3],b=Di(b=bi(v,m,g,y,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[f,d],c,u,ji),i.dispose(),a.dispose(),o.dispose(),s.dispose(),[2,{height:f,width:d,data:p,allPoses:b}]}}))}))},e.prototype.segmentMultiPerson=function(e,t){return void 0===t&&(t=Wi),Fr(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,c,l,f,d,p,h,v,m,g,y,b,x,k,w,S=this;return Zr(this,(function(T){switch(T.label){case 0:return Gi(t=jr(jr({},Wi),t)),n=Ti(e),r=n[0],i=n[1],a=Ai(t.internalResolution,this.baseModel.outputStride,[r,i]),o=Ni(e,a),s=o.resized,u=o.padding,c=(0,_.tidy)((function(){var e,n=S.predictForMultiPersonInstanceSegmentationAndPart(s),o=n.segmentLogits,c=n.longOffsets,l=n.heatmapScores,f=n.offsets,d=n.displacementFwd,p=n.displacementBwd,h=Ri(o,[r,i],a,[[u.top,u.bottom],[u.left,u.right]],Li);return e=c,{segmentation:Ur((0,_.squeeze)(h),t.segmentationThreshold),longOffsets:e,heatmapScoresRaw:l,offsetsRaw:f,displacementFwdRaw:d,displacementBwdRaw:p}})),l=c.segmentation,f=c.longOffsets,d=c.heatmapScoresRaw,p=c.offsetsRaw,h=c.displacementFwdRaw,v=c.displacementBwdRaw,[4,Pi([d,p,h,v])];case 1:return m=T.sent(),g=m[0],y=m[1],b=m[2],x=m[3],k=Di(k=bi(g,y,b,x,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[r,i],a,u,ji),[4,oi(l,f,k,r,i,this.baseModel.outputStride,a,u,t.scoreThreshold,t.refineSteps,t.minKeypointScore,t.maxDetections)];case 2:return w=T.sent(),s.dispose(),l.dispose(),f.dispose(),d.dispose(),p.dispose(),h.dispose(),v.dispose(),[2,w]}}))}))},e.prototype.segmentPersonPartsActivation=function(e,t,n){var r=this;void 0===n&&(n=.5);var i=Ti(e),a=i[0],o=i[1],s=Ai(t,this.baseModel.outputStride,[a,o]),u=Ni(e,s),c=u.resized,l=u.padding,f=(0,_.tidy)((function(){var e=r.predictForPersonSegmentationAndPart(c),t=e.segmentLogits,i=e.partHeatmapLogits,s=e.heatmapScores,u=e.offsets,f=e.displacementFwd,d=e.displacementBwd,p=c.shape,h=p[0],v=p[1],m=Ri(t,[a,o],[h,v],[[l.top,l.bottom],[l.left,l.right]],Li),g=Ri(i,[a,o],[h,v],[[l.top,l.bottom],[l.left,l.right]],Li);return{partSegmentation:Vr(Ur((0,_.squeeze)(m),n),g),heatmapScores:s,offsets:u,displacementFwd:f,displacementBwd:d}})),d=f.partSegmentation,p=f.heatmapScores,h=f.offsets,v=f.displacementFwd,m=f.displacementBwd;return c.dispose(),{partSegmentation:d,heatmapScores:p,offsets:h,displacementFwd:v,displacementBwd:m,padding:l,internalResolutionHeightAndWidth:s}},e.prototype.segmentPersonParts=function(e,t){return void 0===t&&(t=zi),Fr(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,c,l,f,d,p,h,v,m,g,y,b;return Zr(this,(function(x){switch(x.label){case 0:return Hi(t=jr(jr({},zi),t)),n=this.segmentPersonPartsActivation(e,t.internalResolution,t.segmentationThreshold),r=n.partSegmentation,i=n.heatmapScores,a=n.offsets,o=n.displacementFwd,s=n.displacementBwd,u=n.padding,c=n.internalResolutionHeightAndWidth,l=r.shape,f=l[0],d=l[1],[4,r.data()];case 1:return p=x.sent(),r.dispose(),[4,Pi([i,a,o,s])];case 2:return h=x.sent(),v=h[0],m=h[1],g=h[2],y=h[3],b=Di(b=bi(v,m,g,y,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[f,d],c,u,ji),i.dispose(),a.dispose(),o.dispose(),s.dispose(),[2,{height:f,width:d,data:p,allPoses:b}]}}))}))},e.prototype.segmentMultiPersonParts=function(e,t){return void 0===t&&(t=Wi),Fr(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,c,l,f,d,p,h,v,m,g,y,b,x,k,w,S,T=this;return Zr(this,(function(E){switch(E.label){case 0:return Gi(t=jr(jr({},Wi),t)),n=Ti(e),r=n[0],i=n[1],a=Ai(t.internalResolution,this.baseModel.outputStride,[r,i]),o=Ni(e,a),s=o.resized,u=o.padding,c=(0,_.tidy)((function(){var e=T.predictForMultiPersonInstanceSegmentationAndPart(s),n=e.segmentLogits,o=e.longOffsets,c=e.heatmapScores,l=e.offsets,f=e.displacementFwd,d=e.displacementBwd,p=e.partHeatmaps,h=Ri(n,[r,i],a,[[u.top,u.bottom],[u.left,u.right]],Li),v=Ri(p,[r,i],a,[[u.top,u.bottom],[u.left,u.right]],Li),m=o;return{segmentation:Ur((0,_.squeeze)(h),t.segmentationThreshold),longOffsets:m,heatmapScoresRaw:c,offsetsRaw:l,displacementFwdRaw:f,displacementBwdRaw:d,partSegmentation:zr(v)}})),l=c.segmentation,f=c.longOffsets,d=c.heatmapScoresRaw,p=c.offsetsRaw,h=c.displacementFwdRaw,v=c.displacementBwdRaw,m=c.partSegmentation,[4,Pi([d,p,h,v])];case 1:return g=E.sent(),y=g[0],b=g[1],x=g[2],k=g[3],w=Di(w=bi(y,b,x,k,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[r,i],a,u,ji),[4,si(l,f,m,w,r,i,this.baseModel.outputStride,a,u,t.scoreThreshold,t.refineSteps,t.minKeypointScore,t.maxDetections)];case 2:return S=E.sent(),s.dispose(),l.dispose(),f.dispose(),d.dispose(),p.dispose(),h.dispose(),v.dispose(),m.dispose(),[2,S]}}))}))},e.prototype.dispose=function(){this.baseModel.dispose()},e}();function Ki(e){return Fr(this,void 0,void 0,(function(){var t,n,r,i,a,o;return Zr(this,(function(s){switch(s.label){case 0:if(t=e.outputStride,n=e.quantBytes,r=e.multiplier,null==_)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this\n        model.");return i=function(e,t,n){var r={1:"100",.75:"075",.5:"050"},i="model-stride"+e+".json";return 4===n?Si+"float/"+r[t]+"/"+i:Si+"quant"+n+"/"+r[t]+"/"+i}(t,r,n),[4,Nr(e.modelUrl||i)];case 1:return a=s.sent(),o=new Hr(a,t),[2,new qi(o)]}}))}))}function Yi(e){return Fr(this,void 0,void 0,(function(){var t,n,r,i,a;return Zr(this,(function(o){switch(o.label){case 0:if(t=e.outputStride,n=e.quantBytes,null==_)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this\n        model.");return r=function(e,t){var n="model-stride"+e+".json";return 4===t?_i+"float/"+n:_i+"quant"+t+"/"+n}(t,n),[4,Nr(e.modelUrl||r)];case 1:return i=o.sent(),a=new wi(i,t),[2,new qi(a)]}}))}))}function Xi(e){return void 0===e&&(e=Fi),Fr(this,void 0,void 0,(function(){return Zr(this,(function(t){return"ResNet50"===(e=function(e){if(null==(e=e||Fi).architecture&&(e.architecture="MobileNetV1"),Zi.indexOf(e.architecture)<0)throw new Error("Invalid architecture "+e.architecture+". Should be one of "+Zi);if(null==e.outputStride&&(e.outputStride=16),Bi[e.architecture].indexOf(e.outputStride)<0)throw new Error("Invalid outputStride "+e.outputStride+". Should be one of "+Bi[e.architecture]+" for architecture "+e.architecture+".");if(null==e.multiplier&&(e.multiplier=1),Ui[e.architecture].indexOf(e.multiplier)<0)throw new Error("Invalid multiplier "+e.multiplier+". Should be one of "+Ui[e.architecture]+" for architecture "+e.architecture+".");if(null==e.quantBytes&&(e.quantBytes=4),Vi.indexOf(e.quantBytes)<0)throw new Error("Invalid quantBytes "+e.quantBytes+". Should be one of "+Vi+" for architecture "+e.architecture+".");return e}(e)).architecture?[2,Yi(e)]:"MobileNetV1"===e.architecture?[2,Ki(e)]:[2,null]}))}))}var Qi={};function Ji(e,t,n,r){var i=e.width,a=e.height,o=t.width,s=t.height;if(i!==o||a!==s)throw new Error("error: dimensions must match. "+n+" has dimensions "+i+"x"+a+", "+r+" has dimensions "+o+"x"+s)}function $i(e){var t=e.getContext("2d");t.scale(-1,1),t.translate(-e.width,0)}function ea(e,t,n){e.globalCompositeOperation=n,e.drawImage(t,0,0)}function ta(e){return Qi[e]||(Qi[e]=function(){if("undefined"!=typeof document)return document.createElement("canvas");if("undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(0,0);throw new Error("Cannot create a canvas in this context")}()),Qi[e]}function na(e,t,n){var r=e.height,i=e.width,a=n.getContext("2d");n.width=i,n.height=r,a.clearRect(0,0,i,r),a.save(),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?function(e,t,n){for(var r=e.getContext("2d"),i=0,a=1/(2*Math.PI*5*5),o=n<3?1:2,s=-n;s<=n;s+=o)for(var u=-n;u<=n;u+=o)i+=a*Math.exp(-(u*u+s*s)/50);for(s=-n;s<=n;s+=o)for(u=-n;u<=n;u+=o)r.globalAlpha=a*Math.exp(-(u*u+s*s)/50)/i*n,r.drawImage(t,u,s);r.globalAlpha=1}(n,e,t):(a.filter="blur("+t+"px)",a.drawImage(e,0,0,i,r)),a.restore()}function ra(e,t,n){var r=ta(n);return 0===t?function(e,t){var n=e.width,r=e.height;t.width=n,t.height=r,t.getContext("2d").drawImage(e,0,0,n,r)}(e,r):na(e,t,r),r}function ia(e,t){var n=ta(t);return function(e,t){t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0)}(e,n),n}function aa(e,t,n,r,i){if(void 0===t&&(t={r:0,g:0,b:0,a:0}),void 0===n&&(n={r:0,g:0,b:0,a:255}),void 0===r&&(r=!1),void 0===i&&(i=[1]),Array.isArray(e)&&0===e.length)return null;var a,o=(a=Array.isArray(e)?e:[e])[0],s=o.width,u=o.height,c=new Uint8ClampedArray(s*u*4);function l(e,t,n,r,i,a){void 0===a&&(a={r:0,g:255,b:255,a:255});for(var o=-i;o<=i;o++)for(var s=-i;s<=i;s++)if(0!==o&&0!==s){var u=(t+o)*r+(n+s);e[4*u+0]=a.r,e[4*u+1]=a.g,e[4*u+2]=a.b,e[4*u+3]=a.a}}function f(e,t,n,r,i,a){void 0===i&&(i=[1]),void 0===a&&(a=1);for(var o=0,s=-a;s<=a;s++)for(var u=function(a){if(0!==s&&0!==a){var u=(t+s)*r+(n+a);i.some((function(t){return t===e[u]}))||(o+=1)}},c=-a;c<=a;c++)u(c);return o>0}for(var d=0;d<u;d+=1)for(var p=function(e){var o=d*s+e;c[4*o+0]=n.r,c[4*o+1]=n.g,c[4*o+2]=n.b,c[4*o+3]=n.a;for(var p=function(n){if(i.some((function(e){return e===a[n].data[o]}))){c[4*o]=t.r,c[4*o+1]=t.g,c[4*o+2]=t.b,c[4*o+3]=t.a;var p=f(a[n].data,d,e,s,i);r&&d-1>=0&&d+1<u&&e-1>=0&&e+1<s&&p&&l(c,d,e,s,1)}},h=0;h<a.length;h++)p(h)},h=0;h<s;h+=1)p(h);return new ImageData(c,s,u)}var oa=[[110,64,170],[143,61,178],[178,60,178],[210,62,167],[238,67,149],[255,78,125],[255,94,99],[255,115,75],[255,140,56],[239,167,47],[217,194,49],[194,219,64],[175,240,91],[135,245,87],[96,247,96],[64,243,115],[40,234,141],[28,219,169],[26,199,194],[33,176,213],[47,150,224],[65,125,224],[84,101,214],[99,81,195]];function sa(e,t){if(void 0===t&&(t=oa),Array.isArray(e)&&0===e.length)return null;for(var n,r=(n=Array.isArray(e)?e:[e])[0],i=r.width,a=r.height,o=new Uint8ClampedArray(i*a*4),s=0;s<a*i;++s){var u=4*s;o[u+0]=255,o[u+1]=255,o[u+2]=255,o[u+3]=255;for(var c=0;c<n.length;c++){var l=n[c].data[s];if(-1!==l){var f=t[l];if(!f)throw new Error("No color could be found for part id "+l);o[u+0]=f[0],o[u+1]=f[1],o[u+2]=f[2],o[u+3]=255}}}return new ImageData(o,i,a)}var ua="blurred",ca="blurred-mask",la="mask",fa="lowres-part-mask";function da(e,t,n,r,i,a){void 0===r&&(r=.7),void 0===i&&(i=0),void 0===a&&(a=!1);var o=Ti(t),s=o[0],u=o[1];e.width=u,e.height=s;var c=e.getContext("2d");if(c.save(),a&&$i(e),c.drawImage(t,0,0),c.globalAlpha=r,n){Ji({width:u,height:s},n,"image","mask");var l=ra(ia(n,la),i,ca);c.drawImage(l,0,0,u,s)}c.restore()}function pa(e,t,n,r,i,a,o){void 0===r&&(r=.7),void 0===i&&(i=0),void 0===a&&(a=!1),void 0===o&&(o=10);var s=Ti(t),u=s[0];Ji({width:s[1],height:u},n,"image","mask");var c=ra(ia(n,la),i,ca);e.width=c.width,e.height=c.height;var l=e.getContext("2d");l.save(),a&&$i(e);var f=ta(fa),d=f.getContext("2d");f.width=c.width*(1/o),f.height=c.height*(1/o),d.drawImage(c,0,0,c.width,c.height,0,0,f.width,f.height),l.imageSmoothingEnabled=!1,l.drawImage(f,0,0,f.width,f.height,0,0,e.width,e.height);for(var p=0;p<f.width;p++)l.beginPath(),l.strokeStyle="#ffffff",l.moveTo(o*p,0),l.lineTo(o*p,e.height),l.stroke();for(p=0;p<f.height;p++)l.beginPath(),l.strokeStyle="#ffffff",l.moveTo(0,o*p),l.lineTo(e.width,o*p),l.stroke();l.globalAlpha=1-r,l.drawImage(t,0,0,c.width,c.height),l.restore()}function ha(e,t,n,r,i,a){void 0===r&&(r=3),void 0===i&&(i=3),void 0===a&&(a=!1);var o=ra(t,r,ua);e.width=o.width,e.height=o.height;var s=e.getContext("2d");if(Array.isArray(n)&&0===n.length)s.drawImage(o,0,0);else{var u=function(e,t){var n=ia(aa(e,{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:0}),la);return 0===t?n:ra(n,t,ca)}(n,i);s.save(),a&&$i(e);var c=Ti(t),l=c[0],f=c[1];s.drawImage(t,0,0,f,l),ea(s,u,"destination-in"),ea(s,o,"destination-over"),s.restore()}}function va(e,t,n,r,i,a,o){void 0===r&&(r=[0,1]),void 0===i&&(i=3),void 0===a&&(a=3),void 0===o&&(o=!1);var s=ra(t,i,ua);e.width=s.width,e.height=s.height;var u=e.getContext("2d");if(Array.isArray(n)&&0===n.length)u.drawImage(s,0,0);else{var c=function(e,t,n){var r=ia(aa(e,{r:0,g:0,b:0,a:0},{r:0,g:0,b:0,a:255},!0,t),la);return 0===n?r:ra(r,n,ca)}(n,r,a);u.save(),o&&$i(e);var l=Ti(t),f=l[0],d=l[1];u.drawImage(t,0,0,d,f),ea(u,c,"destination-in"),ea(u,s,"destination-over"),u.restore()}}var ma=["left_face","right_face","left_upper_arm_front","left_upper_arm_back","right_upper_arm_front","right_upper_arm_back","left_lower_arm_front","left_lower_arm_back","right_lower_arm_front","right_lower_arm_back","left_hand","right_hand","torso_front","torso_back","left_upper_leg_front","left_upper_leg_back","right_upper_leg_front","right_upper_leg_back","left_lower_leg_front","left_lower_leg_back","right_lower_leg_front","right_lower_leg_back","left_feet","right_feet"],ga="2.2.0"},23193:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});var r=n(87105);function i(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&r.util.assert("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors in the CPU backend.")}))}))}},58808:function(e,t,n){"use strict";n.r(t),n.d(t,{MathBackendCPU:function(){return m},shared:function(){return r},version_cpu:function(){return le}});var r={};n.r(r),n.d(r,{addImpl:function(){return y.EH},bincountImpl:function(){return b.W},bincountReduceImpl:function(){return b.i},ceilImpl:function(){return x.__},concatImpl:function(){return k.j},equalImpl:function(){return w.tW},expImpl:function(){return _.Ro},expm1Impl:function(){return S.OF},floorImpl:function(){return T.r6},gatherNdImpl:function(){return E.m},gatherV2Impl:function(){return C.i},greaterEqualImpl:function(){return A.HL},greaterImpl:function(){return O.o},lessEqualImpl:function(){return R.lx},lessImpl:function(){return I.rO},linSpaceImpl:function(){return N.b},logImpl:function(){return P.vX},maxImpl:function(){return M.B},maximumImpl:function(){return D.wS},minimumImpl:function(){return L.vP},multiplyImpl:function(){return j.$3},negImpl:function(){return F.uC},notEqualImpl:function(){return Z.Gj},prodImpl:function(){return B.Qg},rangeImpl:function(){return U.b},rsqrtImpl:function(){return V.zd},scatterImpl:function(){return z.N},sigmoidImpl:function(){return W.VY},simpleAbsImpl:function(){return g.bk},sliceImpl:function(){return H.rT},sparseFillEmptyRowsImpl:function(){return G.c},sparseReshapeImpl:function(){return q.U},sparseSegmentReductionImpl:function(){return K.V},sqrtImpl:function(){return Y.zT},squaredDifferenceImpl:function(){return J},stridedSliceImpl:function(){return te.t},stringNGramsImpl:function(){return ne.A},stringSplitImpl:function(){return re.Q},stringToHashBucketFastImpl:function(){return ie.h},subImpl:function(){return ae.VY},tileImpl:function(){return oe.R},topKImpl:function(){return se.W},transposeImpl:function(){return ue.H},uniqueImpl:function(){return ce.S}});var i=n(87105),a=n(74165),o=n(15861),s=n(15671),u=n(43144),c=n(97326),l=n(11752),f=n(61120),d=n(60136),p=n(29388),h=n(23193),v=i.kernel_impls.whereImpl,m=function(e){(0,d.Z)(n,e);var t=(0,p.Z)(n);function n(){var e;return(0,s.Z)(this,n),(e=t.call(this)).blockSize=48,e.firstUse=!0,e.data=new i.DataStorage((0,c.Z)(e),(0,i.engine)()),e}return(0,u.Z)(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"write",value:function(e,t,n){this.firstUse&&(this.firstUse=!1,(0,i.env)().get("IS_NODE")&&i.backend_util.warn("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));var r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&i.util.isString(n[0])){var a=n.map((function(e){return i.util.encodeString(e)}));r=this.write(a,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}},{key:"refCount",value:function(e){return this.data.has(e)?this.data.get(e).refCount:0}},{key:"incRef",value:function(e){this.data.get(e).refCount++}},{key:"decRef",value:function(e){this.data.has(e)&&this.data.get(e).refCount--}},{key:"move",value:function(e,t,n,r,i){this.data.set(e,{values:t,dtype:r,refCount:i})}},{key:"numDataIds",value:function(){return this.data.numDataIds()}},{key:"read",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readSync(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readSync",value:function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensorInfos;if("complex64"===n){var a=this.readSync(r.real.dataId),o=this.readSync(r.imag.dataId);return i.backend_util.mergeRealAndImagArrays(a,o)}return this.data.get(e).values}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var n=t.map((function(e){return i.util.decodeString(e)}));return(0,i.buffer)(e.shape,e.dtype,n)}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return(0,i.buffer)(e.shape,e.dtype,t)}},{key:"makeOutput",value:function(e,t,n){return(0,i.engine)().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;var n=this.data.get(e),r=n.complexTensorInfos;null!=r&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"time",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.util.now(),t(),r=i.util.now()-n,e.abrupt("return",{kernelMs:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"memory",value:function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}},{key:"where",value:function(e){(0,h.H)([e],"where");var t=this.readSync(e.dataId);return v(e.shape,t)}},{key:"dispose",value:function(){}},{key:"floatPrecision",value:function(){return 32}},{key:"epsilon",value:function(){return(0,l.Z)((0,f.Z)(n.prototype),"epsilon",this).call(this)}}]),n}(i.KernelBackend);m.nextDataId=0;var g=n(96220),y=n(25589),b=n(73737),x=n(94351),k=n(46563),w=n(68116),_=n(66880),S=n(21354),T=n(97224),E=n(34351),C=n(82666),O=n(69075),A=n(26985),I=n(39813),R=n(18734),N=n(21491),P=n(68298),M=n(4771),D=n(89518),L=n(38094),j=n(18244),F=n(54569),Z=n(21566),B=n(89120),U=n(66284),V=n(78105),z=n(28567),W=n(294),H=n(22126),G=n(78337),q=n(63634),K=n(35440),Y=n(4165),X=n(69341),Q=n(69501),J=(0,X.b)((function(e,t){var n=e-t;return n*n})),$=(0,Q.j)(i.SquaredDifference,J),ee={kernelName:i.SquaredDifference,backendName:"cpu",kernelFunc:$},te=n(47497),ne=n(18294),re=n(60998),ie=n(71489),ae=n(51802),oe=n(57129),se=n(79516),ue=n(31103),ce=n(24242),le="3.18.0";(0,i.registerBackend)("cpu",(function(){return new m}),1);var fe=n(91844),de=(0,fe.A)(i.Elu,(function(e){return e>=0?e:Math.exp(e)-1})),pe={kernelName:i.Elu,backendName:"cpu",kernelFunc:de},he=n(59090);function ve(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.alpha;(0,h.H)([a],"leakyRelu");for(var s=i.util.sizeFromShape(a.shape),u=n.data.get(a.dataId).values,c=i.util.getTypedArrayFromDType("float32",s),l=0;l<u.length;l++)c[l]=u[l]<0?o*u[l]:u[l];return n.makeTensorInfo(a.shape,"float32",c)}var me={kernelName:i.LeakyRelu,backendName:"cpu",kernelFunc:ve},ge=n(29439),ye=(0,X.b)((function(e,t){return e<0?t*e:e}));function be(e){var t=e.inputs,n=e.backend,r=t.x,i=t.alpha;(0,h.H)([r,i],"prelu");var a=n.data.get(r.dataId).values,o=n.data.get(i.dataId).values,s=ye(r.shape,i.shape,a,o,"float32"),u=(0,ge.Z)(s,2),c=u[0],l=u[1];return n.makeTensorInfo(l,"float32",c)}var xe={kernelName:i.Prelu,backendName:"cpu",kernelFunc:be},ke=(0,fe.A)(i.Relu,(function(e){return Math.max(0,e)})),we={kernelName:i.Relu,backendName:"cpu",kernelFunc:ke},_e=(0,fe.A)(i.Relu6,(function(e){return Math.min(Math.max(0,e),6)})),Se={kernelName:i.Relu6,backendName:"cpu",kernelFunc:_e};function Te(e,t,n,r,i){if("linear"===n)return(0,he.y)({inputs:{x:t},backend:e});if("relu"===n)return ke({inputs:{x:t},backend:e});if("elu"===n)return de({inputs:{x:t},backend:e});if("relu6"===n)return _e({inputs:{x:t},backend:e});if("prelu"===n)return be({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return ve({inputs:{x:t},backend:e,attrs:{alpha:i}});if("sigmoid"===n)return(0,W.XD)({inputs:{x:t},backend:e});throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}function Ee(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.shape,s=i.util.sizeFromShape(a.shape),u=i.util.inferFromImplicitShape(o,s),c=i.util.sizeFromShape(u);i.util.assert(s===c,(function(){return"The new shape (".concat(u,") has ").concat(c," elements and the old ")+"shape (".concat(a.shape,") has ").concat(s," elements. The new shape and old ")+"shape must have the same number of elements."})),n.incRef(a.dataId);var l=n.data.get(a.dataId);if(null!=l.complexTensorInfos){var f=l.complexTensorInfos.real,d=l.complexTensorInfos.imag;f.shape=u,d.shape=u}return{dataId:a.dataId,shape:u,dtype:a.dtype}}var Ce={kernelName:i.Reshape,backendName:"cpu",kernelFunc:Ee};function Oe(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,o=t.b,s=r.transposeA,u=r.transposeB;(0,h.H)([a,o],"matMul");var c=a.shape.length,l=o.shape.length,f=s?a.shape[c-2]:a.shape[c-1],d=u?o.shape[l-1]:o.shape[l-2],p=s?a.shape[c-1]:a.shape[c-2],v=u?o.shape[l-2]:o.shape[l-1],m=a.shape.slice(0,-2),g=o.shape.slice(0,-2),y=i.util.sizeFromShape(m),b=i.util.sizeFromShape(g),x=i.broadcast_util.assertAndGetBroadcastShape(a.shape.slice(0,-2),o.shape.slice(0,-2)).concat([p,v]);i.util.assert(f===d,(function(){return"Error in matMul: inner shapes (".concat(f,") and (")+"".concat(d,") of Tensors with shapes ").concat(a.shape," and ")+"".concat(o.shape," and transposeA=").concat(s)+" and transposeB=".concat(u," must match.")}));for(var k=u?[b,v,d]:[b,d,v],w=Ee({inputs:{x:a},backend:n,attrs:{shape:s?[y,f,p]:[y,p,f]}}),_=Ee({inputs:{x:o},backend:n,attrs:{shape:k}}),S=s?w.shape[1]:w.shape[2],T=s?w.shape[2]:w.shape[1],E=u?_.shape[1]:_.shape[2],C=Math.max(y,b),O=n.data.get(w.dataId).values,A=n.data.get(_.dataId).values,I=i.util.computeStrides(w.shape),R=i.util.computeStrides(_.shape),N=s?[I[0],1,I[1]]:[I[0],I[1],1],P=(0,ge.Z)(N,3),M=P[0],D=P[1],L=P[2],j=u?[1,R[1],R[0]]:[R[1],1,R[0]],F=(0,ge.Z)(j,3),Z=F[0],B=F[1],U=F[2],V=T*E,z=(0,i.buffer)([C,T,E],w.dtype),W=z.values,H=n.blockSize,G=0;G<C;G++)for(var q=0;q<T;q+=H)for(var K=0;K<E;K+=H)for(var Y=0;Y<S;Y+=H)for(var X=Math.min(q+H,T),Q=Math.min(K+H,E),J=Math.min(Y+H,S),$=q;$<X;$++)for(var ee=K;ee<Q;ee++){for(var te=0,ne=Y;ne<J;ne++){var re=Math.min(G,y-1)*M,ie=Math.min(G,b-1)*U;te+=O[re+$*D+ne*L]*A[ne*Z+ee*B+ie]}W[G*V+($*E+ee)]+=te}return n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(_),n.makeTensorInfo(x,z.dtype,z.values)}var Ae={kernelName:i.BatchMatMul,backendName:"cpu",kernelFunc:Oe};var Ie={kernelName:i._FusedMatMul,backendName:"cpu",kernelFunc:function(e){var t,n,r,i=e.inputs,a=e.backend,o=e.attrs,s=i.a,u=i.b,c=i.bias,l=i.preluActivationWeights,f=o.transposeA,d=o.transposeB,p=o.activation,h=o.leakyreluAlpha,v=[];t=Oe({inputs:{a:s,b:u},attrs:{transposeA:f,transposeB:d},backend:a}),c&&(n=(0,y.IH)({inputs:{a:t,b:c},backend:a}),v.push(t),t=n),p&&(r=Te(a,t,p,l,h),v.push(t),t=r);for(var m=0,g=v;m<g.length;m++){var b=g[m];a.disposeIntermediateTensorInfo(b)}return t}},Re=(0,fe.A)(i.Acos,(function(e){return Math.acos(e)})),Ne={kernelName:i.Acos,backendName:"cpu",kernelFunc:Re},Pe=(0,fe.A)(i.Acosh,(function(e){return Math.acosh(e)})),Me={kernelName:i.Acosh,backendName:"cpu",kernelFunc:Pe};var De={kernelName:i.AddN,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t;(0,h.H)(t,"addN");for(var a=r.map((function(e){return n.data.get(e.dataId).values})),o=(0,i.buffer)(r[0].shape,r[0].dtype),s=o.values,u=0;u<r.length;u++)for(var c=a[u],l=0;l<s.length;l++)s[l]+=c[l];return n.makeTensorInfo(o.shape,o.dtype,o.values)}},Le=n(65257);var je={kernelName:i.All,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=r.keepDims;(0,h.H)(a,"all");var u=i.util.parseAxisParam(o,a.shape),c=u,l=i.backend_util.getAxesPermutation(c,a.shape.length),f=a;null!=l&&(f=(0,Le.p)({inputs:{x:a},backend:n,attrs:{perm:l}}),c=i.backend_util.getInnerMostAxes(c.length,a.shape.length)),i.backend_util.assertAxesAreInnerMostDims("all",c,f.shape.length);for(var d=i.backend_util.computeOutAndReduceShapes(f.shape,c),p=(0,ge.Z)(d,2),v=p[0],m=p[1],g=i.util.sizeFromShape(m),y=i.util.makeZerosTypedArray(i.util.sizeFromShape(v),f.dtype),b=n.data.get(f.dataId).values,x=0;x<y.length;++x){for(var k=x*g,w=b[k],_=0;_<g;++_){var S=b[k+_];w=w&&S}y[x]=w}null!=l&&n.disposeIntermediateTensorInfo(f);var T=n.makeTensorInfo(v,f.dtype,y);if(s){var E=Ee({inputs:{x:T},backend:n,attrs:{shape:i.backend_util.expandShapeToKeepDim(v,u)}});return n.disposeIntermediateTensorInfo(T),E}return T}};var Fe={kernelName:i.Any,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=r.keepDims;(0,h.H)(a,"any");var u=i.util.parseAxisParam(o,a.shape),c=u,l=i.backend_util.getAxesPermutation(c,a.shape.length),f=a;null!=l&&(f=(0,Le.p)({inputs:{x:a},backend:n,attrs:{perm:l}}),c=i.backend_util.getInnerMostAxes(c.length,a.shape.length)),i.backend_util.assertAxesAreInnerMostDims("any",c,f.shape.length);for(var d=i.backend_util.computeOutAndReduceShapes(f.shape,c),p=(0,ge.Z)(d,2),v=p[0],m=p[1],g=i.util.sizeFromShape(m),y=i.util.makeZerosTypedArray(i.util.sizeFromShape(v),f.dtype),b=n.data.get(f.dataId).values,x=0;x<y.length;++x){for(var k=x*g,w=b[k],_=0;_<g;++_){var S=b[k+_];w=w||S}y[x]=w}null!=l&&n.disposeIntermediateTensorInfo(f);var T=n.makeTensorInfo(v,f.dtype,y);if(s){var E=Ee({inputs:{x:T},backend:n,attrs:{shape:i.backend_util.expandShapeToKeepDim(v,u)}});return n.disposeIntermediateTensorInfo(T),E}return T}};var Ze={kernelName:i.ArgMax,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis;(0,h.H)(a,"argMax");var s=i.util.parseAxisParam(o,a.shape),u=i.backend_util.getAxesPermutation(s,a.shape.length),c=a,l=[];null!=u&&(c=(0,Le.p)({inputs:{x:a},backend:n,attrs:{perm:u}}),l.push(c),s=i.backend_util.getInnerMostAxes(s.length,c.shape.length)),s=[s[0]],i.backend_util.assertAxesAreInnerMostDims("argMax",s,c.shape.length);for(var f=i.backend_util.computeOutAndReduceShapes(c.shape,s),d=(0,ge.Z)(f,2),p=d[0],v=d[1],m=i.util.sizeFromShape(p),g=i.util.makeZerosTypedArray(m,"int32"),y=i.util.sizeFromShape(v),b=n.data.get(c.dataId).values,x=0;x<g.length;++x){for(var k=x*y,w=b[k],_=0,S=0;S<y;++S){var T=b[k+S];T>w&&(w=T,_=S)}g[x]=_}return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(p,"int32",g)}};var Be={kernelName:i.ArgMin,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis;(0,h.H)(a,"argMin");var s=i.util.parseAxisParam(o,a.shape),u=i.backend_util.getAxesPermutation(s,a.shape.length),c=a,l=[];null!=u&&(c=(0,Le.p)({inputs:{x:a},backend:n,attrs:{perm:u}}),l.push(c),s=i.backend_util.getInnerMostAxes(s.length,c.shape.length)),s=[s[0]],i.backend_util.assertAxesAreInnerMostDims("argMin",s,c.shape.length);for(var f=i.backend_util.computeOutAndReduceShapes(c.shape,s),d=(0,ge.Z)(f,2),p=d[0],v=d[1],m=i.util.sizeFromShape(p),g=i.util.makeZerosTypedArray(m,"int32"),y=i.util.sizeFromShape(v),b=n.data.get(c.dataId).values,x=0;x<g.length;++x){for(var k=x*y,w=b[k],_=0,S=0;S<y;++S){var T=b[k+S];T<w&&(w=T,_=S)}g[x]=_}return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(p,"int32",g)}},Ue=(0,fe.A)(i.Asin,(function(e){return Math.asin(e)})),Ve={kernelName:i.Asin,backendName:"cpu",kernelFunc:Ue},ze=(0,fe.A)(i.Asinh,(function(e){return Math.asinh(e)})),We={kernelName:i.Asinh,backendName:"cpu",kernelFunc:ze},He=(0,fe.A)(i.Atan,(function(e){return Math.atan(e)})),Ge={kernelName:i.Atan,backendName:"cpu",kernelFunc:He},qe=(0,X.b)((function(e,t){return Math.atan2(e,t)})),Ke=(0,Q.j)(i.Atan2,qe),Ye={kernelName:i.Atan2,backendName:"cpu",kernelFunc:Ke},Xe=(0,fe.A)(i.Atanh,(function(e){return Math.atanh(e)})),Qe={kernelName:i.Atanh,backendName:"cpu",kernelFunc:Xe};function Je(e,t,n,r,a,o){for(var s=a.strideHeight,u=a.strideWidth,c=a.dilationHeight,l=a.dilationWidth,f=a.effectiveFilterHeight,d=a.effectiveFilterWidth,p=a.padInfo.top,h=a.padInfo.left,v="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=(0,i.buffer)(a.outShape,n),g=m.values,y=a.outShape[1]*a.outShape[2]*a.outShape[3],b=a.outShape[2]*a.outShape[3],x=a.outShape[3],k=0;k<a.batchSize;++k)for(var w=k*y,_=k*r[0],S=0;S<a.inChannels;++S)for(var T=0;T<a.outHeight;++T)for(var E=T*s-p,C=Math.max(0,E),O=Math.min(a.inHeight,f+E),A=w+T*b,I=0;I<a.outWidth;++I){for(var R=I*u-h,N=Math.max(0,R),P=Math.min(a.inWidth,d+R),M=v,D=0,L=0,j=C;j<O;j+=c){for(var F=_+j*r[1],Z=N;Z<P;Z+=l){var B=e[F+Z*r[2]+S];"max"===o&&B>M?M=B:"avg"===o&&(D+=B,L++)}if(isNaN(M))break}g[A+I*x+S]="avg"===o?D/L:M}return m}function $e(e,t,n,r){for(var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=(0,i.buffer)(r.outShape,"int32"),u=r.strideHeight,c=r.strideWidth,l=r.dilationHeight,f=r.dilationWidth,d=r.effectiveFilterHeight,p=r.effectiveFilterWidth,h=r.padInfo.top,v=r.padInfo.left,m=(0,i.buffer)(t,n,e),g=0;g<r.batchSize;++g)for(var y=0;y<r.inChannels;++y)for(var b=0;b<r.outHeight;++b){for(var x=b*u-h,k=x;k<0;)k+=l;for(var w=Math.min(r.inHeight,d+x),_=0;_<r.outWidth;++_){for(var S=_*c-v,T=S;T<0;)T+=f;for(var E=Math.min(r.inWidth,p+S),C=Number.NEGATIVE_INFINITY,O=-1,A=k;A<w;A+=l)for(var I=A-x,R=T;R<E;R+=f){var N=R-S,P=m.get(g,A,R,y);P>C&&(C=P,O=a?o?((g*r.inHeight+A)*r.inWidth+R)*r.inChannels+y:(A*r.inWidth+R)*r.inChannels+y:I*p+N)}s.set(O,g,b,_,y)}}return s}function et(e,t,n,r,a,o){for(var s=a.strideDepth,u=a.strideHeight,c=a.strideWidth,l=a.dilationDepth,f=a.dilationHeight,d=a.dilationWidth,p=a.effectiveFilterDepth,h=a.effectiveFilterHeight,v=a.effectiveFilterWidth,m=a.padInfo.front,g=a.padInfo.top,y=a.padInfo.left,b="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,x=(0,i.buffer)(a.outShape,n),k=x.values,w=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],_=a.outShape[2]*a.outShape[3]*a.outShape[4],S=a.outShape[3]*a.outShape[4],T=a.outShape[4],E=0;E<a.batchSize;++E)for(var C=E*w,O=E*r[0],A=0;A<a.inChannels;++A)for(var I=0;I<a.outDepth;++I){for(var R=I*s-m,N=R;N<0;)N+=l;for(var P=Math.min(a.inDepth,p+R),M=C+I*_,D=0;D<a.outHeight;++D){for(var L=D*u-g,j=L;j<0;)j+=f;for(var F=Math.min(a.inHeight,h+L),Z=M+D*S,B=0;B<a.outWidth;++B){for(var U=B*c-y,V=U;V<0;)V+=d;for(var z=Math.min(a.inWidth,v+U),W=Z+B*T,H=b,G=0,q=0,K=N;K<P;K+=l){for(var Y=O+K*r[1],X=j;X<F;X+=f){for(var Q=Y+X*r[2],J=V;J<z;J+=d){var $=e[Q+J*r[3]+A];if("max"===o&&$>H?H=$:"avg"===o&&(G+=$,q++),isNaN(H))break}if(isNaN(H))break}if(isNaN(H))break}k[W+A]="avg"===o?G/q:H}}}return x}var tt={kernelName:i.AvgPool,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;(0,h.H)(a,"avgPool");var o=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode;i.util.assert(i.backend_util.eitherStridesOrDilationsAreOne(s,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(1,"'")}));var l,f=i.backend_util.computePool2DInfo(a.shape,o,s,1,u,c);if(1===f.filterWidth&&1===f.filterHeight&&i.util.arraysEqual(f.inShape,f.outShape))l=(0,he.y)({inputs:{x:a},backend:n});else{var d=n.data.get(a.dataId).values,p=i.util.computeStrides(a.shape),v=Je(d,a.shape,a.dtype,p,f,"avg");l=n.makeTensorInfo(f.outShape,a.dtype,v.values)}return l}};var nt={kernelName:i.AvgPool3D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode,l=r.dataFormat;(0,h.H)(a,"avgPool3d");var f=i.backend_util.computePool3DInfo(a.shape,o,s,1,u,c,l),d=et(n.data.get(a.dataId).values,a.shape,a.dtype,i.util.computeStrides(a.shape),f,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}};var rt={kernelName:i.AvgPool3DGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,s=r.filterSize,u=r.strides,c=r.pad,l=r.dimRoundingMode;(0,h.H)([a,o],"avgPool3DGrad");for(var f=i.backend_util.computePool3DInfo(o.shape,s,u,1,c,l),d=f.strideDepth,p=f.strideHeight,v=f.strideWidth,m=f.filterDepth,g=f.filterHeight,y=f.filterWidth,b=f.dilationDepth,x=f.dilationHeight,k=f.dilationWidth,w=f.effectiveFilterDepth,_=f.effectiveFilterHeight,S=f.effectiveFilterWidth,T=w-1-f.padInfo.front,E=S-1-f.padInfo.left,C=_-1-f.padInfo.top,O=(0,i.buffer)(o.shape,"float32"),A=1/(m*g*y),I=n.bufferSync(a),R=0;R<f.batchSize;++R)for(var N=0;N<f.inChannels;++N)for(var P=0;P<f.inDepth;++P)for(var M=0;M<f.inHeight;++M)for(var D=0;D<f.inWidth;++D){for(var L=P-T,j=M-C,F=D-E,Z=0,B=0;B<w;B+=b){var U=(L+B)/d;if(!(U<0||U>=f.outDepth||Math.floor(U)!==U))for(var V=0;V<_;V+=x){var z=(j+V)/p;if(!(z<0||z>=f.outHeight||Math.floor(z)!==z))for(var W=0;W<S;W+=k){var H=(F+W)/v;if(!(H<0||H>=f.outWidth||Math.floor(H)!==H))Z+=I.get(R,U,z,H,N)}}}O.set(Z*A,R,P,M,D,N)}return n.makeTensorInfo(O.shape,O.dtype,O.values)}};var it={kernelName:i.AvgPoolGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,s=o;(0,h.H)([a,o],"avgPoolGrad");for(var u=r.filterSize,c=r.strides,l=r.pad,f=i.backend_util.computePool2DInfo(s.shape,u,c,1,l),d=f.strideHeight,p=f.strideWidth,v=f.filterHeight,m=f.filterWidth,g=f.dilationHeight,y=f.dilationWidth,b=f.effectiveFilterHeight,x=f.effectiveFilterWidth,k=x-1-f.padInfo.left,w=b-1-f.padInfo.top,_=(0,i.buffer)(s.shape,"float32"),S=1/(v*m),T=n.data.get(a.dataId).values,E=(0,i.buffer)(a.shape,"float32",T),C=0;C<f.batchSize;++C)for(var O=0;O<f.inChannels;++O)for(var A=0;A<f.inHeight;++A)for(var I=0;I<f.inWidth;++I){for(var R=A-w,N=I-k,P=0,M=0;M<b;M+=g){var D=(R+M)/d;if(!(D<0||D>=f.outHeight||Math.floor(D)!==D))for(var L=0;L<x;L+=y){var j=(N+L)/p;if(!(j<0||j>=f.outWidth||Math.floor(j)!==j))P+=E.get(C,D,j,O)}}_.set(P*S,C,A,I,O)}return n.makeTensorInfo(_.shape,_.dtype,_.values)}};var at={kernelName:i.FusedBatchNorm,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.scale,s=t.offset,u=t.mean,c=t.variance;i.util.assert(u.shape.length===c.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),i.util.assert(null==s||u.shape.length===s.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),i.util.assert(null==o||u.shape.length===o.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),(0,h.H)([a,u,c,o,s],"batchNorm");var l=r.varianceEpsilon;null==l&&(l=.001);for(var f=n.data.get(a.dataId).values,d=n.data.get(u.dataId).values,p=n.data.get(c.dataId).values,v=o?n.data.get(o.dataId).values:new Float32Array([1]),m=s?n.data.get(s.dataId).values:new Float32Array([0]),g=new Float32Array(f.length),y=m.length,b=v.length,x=p.length,k=d.length,w=0,_=0,S=0,T=0,E=0;E<f.length;++E)g[E]=m[w++]+(f[E]-d[_++])*v[S++]/Math.sqrt(p[T++]+l),w>=y&&(w=0),_>=k&&(_=0),S>=b&&(S=0),T>=x&&(T=0);return n.makeTensorInfo(a.shape,a.dtype,g)}};var ot={kernelName:i.BatchToSpaceND,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockShape,s=r.crops;(0,h.H)([a],"batchToSpaceND");var u=o.reduce((function(e,t){return e*t})),c=i.backend_util.getReshaped(a.shape,o,u),l=i.backend_util.getPermuted(c.length,o.length),f=i.backend_util.getReshapedPermuted(a.shape,o,u),d=i.backend_util.getSliceBeginCoords(s,o.length),p=i.backend_util.getSliceSize(f,s,o.length),v=Ee({inputs:{x:a},backend:n,attrs:{shape:c}}),m=(0,Le.p)({inputs:{x:v},backend:n,attrs:{perm:l}}),g=Ee({inputs:{x:m},backend:n,attrs:{shape:f}}),y=(0,H.tP)({inputs:{x:g},backend:n,attrs:{begin:d,size:p}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),y}};var st={kernelName:i.Bincount,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.weights,o=r.size,s=n.data.get(i.dataId).values,u=n.data.get(a.dataId).values,c=(0,b.W)(s,u,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,c)}};var ut={kernelName:i.BroadcastArgs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,a=t.s1,o=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,u=i.backend_util.assertAndGetBroadcastShape(Array.from(o),Array.from(s));return n.makeTensorInfo([u.length],"int32",Int32Array.from(u))}},ct=n(60570),lt=(0,fe.A)(i.ClipByValue,(function(e,t){var n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),ft={kernelName:i.ClipByValue,backendName:"cpu",kernelFunc:lt},dt=n(36545),pt={kernelName:i.ComplexAbs,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs.x,n=e.backend,r=new Float32Array(i.util.sizeFromShape(t.shape)),a=n.data.get(t.dataId),o=a.complexTensorInfos.real,s=a.complexTensorInfos.imag,u=n.data.get(o.dataId).values,c=n.data.get(s.dataId).values,l=0;l<u.length;l++){var f=u[l],d=c[l];r[l]=Math.hypot(f,d)}return n.makeOutput(r,t.shape,"float32")}};function ht(e){var t=e.inputs,n=e.backend,r=t.input,i=n.data.get(r.dataId).complexTensorInfos.imag,a=n.data.get(i.dataId).values;return n.makeTensorInfo(i.shape,i.dtype,a)}var vt={kernelName:i.Imag,backendName:"cpu",kernelFunc:ht},mt=n(36241);function gt(e){var t=e.inputs,n=e.backend,r=e.attrs.axis,a=i.util.parseAxisParam(r,t[0].shape)[0],o=i.backend_util.computeOutShape(t.map((function(e){return e.shape})),a);if(0===i.util.sizeFromShape(o))return n.makeTensorInfo(o,t[0].dtype,[]);var s=t.filter((function(e){return i.util.sizeFromShape(e.shape)>0}));if(1===s.length)return(0,he.y)({inputs:{x:s[0]},backend:n});var u=s.map((function(e){return e.shape}));if(i.backend_util.assertParamsConsistent(u,a),"complex64"===s[0].dtype){var c=s.map((function(e){return(0,mt.k)({inputs:{input:e},backend:n})})),l=s.map((function(e){return ht({inputs:{input:e},backend:n})})),f=gt({inputs:c,backend:n,attrs:{axis:a}}),d=gt({inputs:l,backend:n,attrs:{axis:a}}),p=(0,dt.P)({inputs:{real:f,imag:d},backend:n});return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),p}var h=s.map((function(e){var t=i.util.sizeFromShape(e.shape.slice(a));return Ee({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),v=h.map((function(e){return{vals:n.data.get(e.dataId).values,shape:e.shape}}));o=i.backend_util.computeOutShape(h.map((function(e){return e.shape})),1);var m=1===h[0].shape[0],g=(0,k.j)(v,o,t[0].dtype,m),y=i.backend_util.computeOutShape(s.map((function(e){return e.shape})),a),b=n.makeTensorInfo(y,t[0].dtype,g);return h.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),b}var yt={kernelName:i.Concat,backendName:"cpu",kernelFunc:gt};function bt(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=r.strides,u=r.pad,c=r.dataFormat,l=r.dilations,f=r.dimRoundingMode;(0,h.H)([a,o],"conv2d");for(var d=i.backend_util.convertConv2DDataFormat(c),p=i.backend_util.computeConv2DInfo(a.shape,o.shape,s,l,u,f,!1,d),v=p.filterHeight,m=p.filterWidth,g=p.dilationHeight,y=p.dilationWidth,b=p.padInfo.left,x=p.padInfo.top,k="channelsLast"===p.dataFormat,w=new i.TensorBuffer(p.outShape,a.dtype),_=i.util.computeStrides(a.shape),S=i.util.computeStrides(o.shape),T=_[0],E=k?_[1]:_[2],C=k?_[2]:1,O=k?1:_[1],A=w.strides[0],I=k?w.strides[1]:w.strides[2],R=k?w.strides[2]:1,N=k?1:w.strides[1],P=n.data.get(a.dataId).values,M=n.data.get(o.dataId).values,D=w.values,L=0;L<p.batchSize;++L)for(var j=L*T,F=L*A,Z=0;Z<p.outHeight;++Z)for(var B=F+Z*I,U=Z*p.strideHeight-x,V=0;V<v;++V){var z=U+V*g;if(!(z<0||z>=p.inHeight))for(var W=V*S[0],H=j+z*E,G=0;G<p.outWidth;++G)for(var q=B+G*R,K=G*p.strideWidth-b,Y=0;Y<m;++Y){var X=K+Y*y;if(!(X<0||X>=p.inWidth))for(var Q=H+X*C,J=W+Y*S[1],$=0;$<p.inChannels;++$){for(var ee=P[Q+$*O],te=0;te<p.outChannels;++te)D[q+te*N]+=ee*M[J+te];J+=p.outChannels}}}return n.makeTensorInfo(w.shape,w.dtype,D)}var xt={kernelName:i.Conv2D,backendName:"cpu",kernelFunc:bt};var kt={kernelName:i.Conv2DBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,s=r.strides,u=r.pad,c=r.dataFormat,l=r.dimRoundingMode,f=r.filterShape;(0,h.H)([a,o],"conv2dBackpropFilter");for(var d=i.backend_util.convertConv2DDataFormat(c),p=i.backend_util.computeConv2DInfo(a.shape,f,s,1,u,l,!1,d),v=p.strideHeight,m=p.strideWidth,g=p.filterHeight,y=p.filterWidth,b="channelsLast"===p.dataFormat,x=new i.TensorBuffer(p.filterShape,"float32"),k=p.padInfo.left,w=p.padInfo.top,_=n.data.get(a.dataId).values,S=n.data.get(o.dataId).values,T=new i.TensorBuffer(a.shape,a.dtype,_),E=new i.TensorBuffer(o.shape,o.dtype,S),C=0;C<g;++C)for(var O=Math.max(0,Math.ceil((w-C)/v)),A=Math.min(p.outHeight,(p.inHeight+w-C)/v),I=0;I<y;++I)for(var R=Math.max(0,Math.ceil((k-I)/m)),N=Math.min(p.outWidth,(p.inWidth+k-I)/m),P=0;P<p.inChannels;++P)for(var M=0;M<p.outChannels;++M){for(var D=0,L=0;L<p.batchSize;++L)for(var j=O;j<A;++j)for(var F=C+j*v-w,Z=R;Z<N;++Z){var B=I+Z*m-k;D+=b?T.get(L,F,B,P)*E.get(L,j,Z,M):T.get(L,P,F,B)*E.get(L,M,j,Z)}x.set(D,C,I,P,M)}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};var wt={kernelName:i.Conv2DBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,s=r.inputShape,u=r.strides,c=r.pad,l=r.dataFormat,f=r.dimRoundingMode;(0,h.H)([a,o],"conv2dBackpropInput");var d=i.util.computeStrides(o.shape),p=i.util.computeStrides(a.shape),v=i.backend_util.convertConv2DDataFormat(l),m=i.backend_util.computeConv2DInfo(s,o.shape,u,1,c,f,!1,v),g=new i.TensorBuffer(m.inShape,"float32"),y=g.values,b=n.data.get(a.dataId).values,x=n.data.get(o.dataId).values,k=(0,ge.Z)(d,3),w=k[0],_=k[1],S=k[2],T=m.batchSize,E=m.filterHeight,C=m.filterWidth,O=m.inChannels,A=m.inHeight,I=m.inWidth,R=m.outChannels,N=m.outHeight,P=m.outWidth,M=m.strideHeight,D=m.strideWidth;v=m.dataFormat;for(var L=E-1-m.padInfo.top,j=C-1-m.padInfo.left,F="channelsLast"===v,Z=g.strides[0],B=F?g.strides[1]:g.strides[2],U=F?g.strides[2]:1,V=F?1:g.strides[1],z=p[0],W=F?p[1]:p[2],H=F?p[2]:1,G=F?1:p[1],q=0;q<T;++q)for(var K=0;K<O;++K)for(var Y=0;Y<A;++Y)for(var X=Y-L,Q=Math.max(0,Math.ceil(X/M)),J=Math.min(N,(E+X)/M),$=0;$<I;++$){for(var ee=$-j,te=Math.max(0,Math.ceil(ee/D)),ne=Math.min(P,(C+ee)/D),re=0,ie=Q;ie<J;++ie)for(var ae=ie*M-X,oe=te;oe<ne;++oe)for(var se=z*q+W*ie+H*oe,ue=w*(E-1-ae)+_*(C-1-(oe*D-ee))+S*K,ce=0;ce<R;++ce){re+=b[se+G*ce]*x[ue+ce]}y[Z*q+B*Y+U*$+V*K]=re}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};var _t={kernelName:i.Conv3D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=r.strides,u=r.pad,c=r.dilations;(0,h.H)([a,o],"conv3d");for(var l=i.backend_util.computeConv3DInfo(a.shape,o.shape,s,c,u),f=l.filterDepth,d=l.filterHeight,p=l.filterWidth,v=l.dilationDepth,m=l.dilationHeight,g=l.dilationWidth,y=l.padInfo,b=y.front,x=y.left,k=y.top,w=new i.TensorBuffer(l.outShape,a.dtype),_=n.data.get(a.dataId).values,S=n.data.get(o.dataId).values,T=w.values,E=i.util.computeStrides(a.shape),C=i.util.computeStrides(o.shape),O=0;O<l.batchSize;++O)for(var A=O*E[0],I=O*w.strides[0],R=0;R<l.outDepth;++R)for(var N=I+R*w.strides[1],P=R*l.strideDepth-b,M=0;M<f;++M){var D=P+M*v;if(!(D<0||D>=l.inDepth))for(var L=M*C[0],j=A+D*E[1],F=0;F<l.outHeight;++F)for(var Z=N+F*w.strides[2],B=F*l.strideHeight-k,U=0;U<d;++U){var V=B+U*m;if(!(V<0||V>=l.inHeight))for(var z=L+U*C[1],W=j+V*E[2],H=0;H<l.outWidth;++H)for(var G=Z+H*l.outChannels,q=H*l.strideWidth-x,K=0;K<p;++K){var Y=q+K*g;if(!(Y<0||Y>=l.inWidth))for(var X=z+K*C[2],Q=W+Y*l.inChannels,J=X,$=0;$<l.inChannels;++$){for(var ee=_[Q+$],te=0;te<l.outChannels;++te)T[G+te]+=ee*S[J+te];J+=l.outChannels}}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};var St={kernelName:i.Conv3DBackpropFilterV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,s=r.strides,u=r.pad,c=r.filterShape;(0,h.H)([a,o],"conv3dBackpropFilterV2");for(var l=i.util.computeStrides(a.shape),f=i.util.computeStrides(o.shape),d=i.backend_util.computeConv3DInfo(a.shape,c,s,1,u),p=d.strideDepth,v=d.strideHeight,m=d.strideWidth,g=d.filterDepth,y=d.filterHeight,b=d.filterWidth,x=new i.TensorBuffer(d.filterShape,"float32"),k=x.values,w=(0,ge.Z)(x.strides,4),_=w[0],S=w[1],T=w[2],E=w[3],C=n.data.get(o.dataId).values,O=(0,ge.Z)(f,4),A=O[0],I=O[1],R=O[2],N=O[3],P=n.data.get(a.dataId).values,M=(0,ge.Z)(l,4),D=M[0],L=M[1],j=M[2],F=M[3],Z=d.padInfo.front,B=d.padInfo.left,U=d.padInfo.top,V=0;V<g;++V)for(var z=Math.max(0,Math.ceil((Z-V)/p)),W=Math.min(d.outDepth,(d.inDepth+Z-V)/p),H=V*_,G=0;G<y;++G)for(var q=Math.max(0,Math.ceil((U-G)/v)),K=Math.min(d.outHeight,(d.inHeight+U-G)/v),Y=G*S+H,X=0;X<b;++X)for(var Q=Math.max(0,Math.ceil((B-X)/m)),J=Math.min(d.outWidth,(d.inWidth+B-X)/m),$=X*T+Y,ee=0;ee<d.inChannels;++ee)for(var te=ee*E+$,ne=0;ne<d.outChannels;++ne){for(var re=0,ie=0;ie<d.batchSize;++ie)for(var ae=ie*D,oe=ie*A,se=z;se<W;++se)for(var ue=(V+se*p-Z)*L+ae,ce=se*I+oe,le=q;le<K;++le)for(var fe=(G+le*v-U)*j+ue,de=le*R+ce,pe=Q;pe<J;++pe){var he=pe*N+de;re+=P[(X+pe*m-B)*F+fe+ee]*C[he+ne]}k[te+ne]=re}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};var Tt={kernelName:i.Conv3DBackpropInputV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,s=r.pad,u=r.strides,c=r.inputShape;(0,h.H)([a],"conv3dBackpropInputV2");for(var l=i.util.computeStrides(a.shape),f=i.util.computeStrides(o.shape),d=i.backend_util.computeConv3DInfo(c,o.shape,u,1,s),p=new i.TensorBuffer(d.inShape,"float32"),v=p.values,m=(0,ge.Z)(p.strides,4),g=m[0],y=m[1],b=m[2],x=m[3],k=n.data.get(a.dataId).values,w=(0,ge.Z)(l,4),_=w[0],S=w[1],T=w[2],E=w[3],C=n.data.get(o.dataId).values,O=(0,ge.Z)(f,4),A=O[0],I=O[1],R=O[2],N=O[3],P=d.batchSize,M=d.filterDepth,D=d.filterHeight,L=d.filterWidth,j=d.inChannels,F=d.inDepth,Z=d.inHeight,B=d.inWidth,U=d.outChannels,V=d.outDepth,z=d.outHeight,W=d.outWidth,H=d.strideDepth,G=d.strideHeight,q=d.strideWidth,K=M-1-d.padInfo.front,Y=D-1-d.padInfo.top,X=L-1-d.padInfo.left,Q=0;Q<P;++Q)for(var J=0;J<j;++J)for(var $=0;$<F;++$)for(var ee=$-K,te=Math.max(0,Math.ceil(ee/H)),ne=Math.min(V,(M+ee)/H),re=0;re<Z;++re)for(var ie=re-Y,ae=Math.max(0,Math.ceil(ie/G)),oe=Math.min(z,(D+ie)/G),se=0;se<B;++se){for(var ue=se-X,ce=Math.max(0,Math.ceil(ue/q)),le=Math.min(W,(L+ue)/q),fe=0,de=te;de<ne;++de)for(var pe=de*H-ee,he=ae;he<oe;++he)for(var ve=he*G-ie,me=ce;me<le;++me)for(var ye=_*Q+S*de+T*he+E*me,be=A*(M-1-pe)+I*(D-1-ve)+R*(L-1-(me*q-ue))+N*J,xe=0;xe<U;++xe){fe+=k[ye+xe]*C[be+xe]}v[g*Q+y*$+b*re+x*se+J]=fe}return n.makeTensorInfo(p.shape,p.dtype,p.values)}},Et=(0,fe.A)(i.Cos,(function(e){return Math.cos(e)})),Ct={kernelName:i.Cos,backendName:"cpu",kernelFunc:Et},Ot=(0,fe.A)(i.Cosh,(function(e){return Math.cosh(e)})),At={kernelName:i.Cosh,backendName:"cpu",kernelFunc:Ot};var It={kernelName:i.CropAndResize,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,o=t.boxes,s=t.boxInd,u=r.cropSize,c=r.method,l=r.extrapolationValue,f=(0,ge.Z)(a.shape,4),d=f[0],p=f[1],h=f[2],v=f[3],m=o.shape[0],g=(0,ge.Z)(u,2),y=g[0],b=g[1],x=(0,i.buffer)([m,y,b,v],"float32"),k=n.data.get(o.dataId).values,w=n.data.get(s.dataId).values,_=n.data.get(a.dataId).values,S=i.util.computeStrides(a.shape),T=i.util.computeStrides(x.shape),E=0;E<m;E++){var C=4*E,O=k[C],A=k[C+1],I=k[C+2],R=k[C+3],N=w[E];if(!(N>=d))for(var P=y>1?(I-O)*(p-1)/(y-1):0,M=b>1?(R-A)*(h-1)/(b-1):0,D=0;D<y;D++){var L=y>1?O*(p-1)+D*P:.5*(O+I)*(p-1);if(L<0||L>p-1)for(var j=0;j<b;j++)for(var F=0;F<v;F++){var Z=F+j*T[2]+D*T[1]+E*T[0];x.values[Z]=l}else if("bilinear"===c)for(var B=Math.floor(L),U=Math.ceil(L),V=L-B,z=0;z<b;z++){var W=b>1?A*(h-1)+z*M:.5*(A+R)*(h-1);if(W<0||W>h-1)for(var H=0;H<v;H++){var G=H+z*T[2]+D*T[1]+E*T[0];x.values[G]=l}else for(var q=Math.floor(W),K=Math.ceil(W),Y=W-q,X=0;X<v;X++){var Q=X+q*S[2]+B*S[1]+N*S[0],J=_[Q],$=_[Q=X+K*S[2]+B*S[1]+N*S[0]],ee=_[Q=X+q*S[2]+U*S[1]+N*S[0]],te=J+($-J)*Y,ne=ee+(_[Q=X+K*S[2]+U*S[1]+N*S[0]]-ee)*Y;Q=X+z*T[2]+D*T[1]+E*T[0],x.values[Q]=te+(ne-te)*V}}else for(var re=0;re<b;++re){var ie=b>1?A*(h-1)+re*M:.5*(A+R)*(h-1);if(ie<0||ie>h-1)for(var ae=0;ae<v;ae++){var oe=ae+re*T[2]+D*T[1]+E*T[0];x.values[oe]=l}else for(var se=Math.round(ie),ue=Math.round(L),ce=0;ce<v;ce++){var le=ce+se*S[2]+ue*S[1]+N*S[0],fe=ce+re*T[2]+D*T[1]+E*T[0];x.values[fe]=_[le]}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};var Rt={kernelName:i.Cumprod,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=r.exclusive,u=r.reverse;(0,h.H)(a,"cumprod");var c=i.backend_util.getAxesPermutation([o],a.shape.length),l=a;null!=c&&(l=(0,Le.p)({inputs:{x:a},backend:n,attrs:{perm:c}}));var f=i.backend_util.getInnerMostAxes(1,a.shape.length)[0];if(f!==l.shape.length-1)throw new Error("backend.cumprod in CPU expects an inner-most "+"axis=".concat(l.shape.length-1," but got axis=").concat(f));for(var d=(0,i.upcastType)(l.dtype,"int32"),p=i.util.makeOnesTypedArray(i.util.sizeFromShape(l.shape),d),v=n.data.get(l.dataId).values,m=l.shape[l.shape.length-1],g=u?function(e,t){return e+m-t-1}:function(e,t){return e+t},y=0;y<v.length;y+=m)for(var b=0;b<m;b++){var x=g(y,b);if(0===b)p[x]=s?1:v[x];else{var k=g(y,b-1);p[x]=s?v[k]*p[k]:v[x]*p[k]}}var w=n.makeTensorInfo(l.shape,d,p);if(null!=c){var _=i.backend_util.getUndoAxesPermutation(c),S=(0,Le.p)({inputs:{x:w},backend:n,attrs:{perm:_}});return n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(l),S}return w}};var Nt={kernelName:i.Cumsum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=r.exclusive,u=r.reverse;(0,h.H)(a,"cumsum");var c=i.backend_util.getAxesPermutation([o],a.shape.length),l=a;null!=c&&(l=(0,Le.p)({inputs:{x:a},backend:n,attrs:{perm:c}}));var f=i.backend_util.getInnerMostAxes(1,a.shape.length)[0];if(f!==l.shape.length-1)throw new Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(l.shape.length-1," but got axis=").concat(f));for(var d=(0,i.upcastType)(l.dtype,"int32"),p=i.util.makeZerosTypedArray(i.util.sizeFromShape(l.shape),d),v=n.data.get(l.dataId).values,m=l.shape[l.shape.length-1],g=u?function(e,t){return e+m-t-1}:function(e,t){return e+t},y=0;y<v.length;y+=m)for(var b=0;b<m;b++){var x=g(y,b);if(0===b)p[x]=s?0:v[x];else{var k=g(y,b-1);p[x]=s?v[k]+p[k]:v[x]+p[k]}}var w=n.makeTensorInfo(l.shape,d,p);if(null!=c){var _=i.backend_util.getUndoAxesPermutation(c),S=(0,Le.p)({inputs:{x:w},backend:n,attrs:{perm:_}});return n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(l),S}return w}};var Pt={kernelName:i.DenseBincount,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.weights,o=r.size,s=r.binaryOutput;if(1===i.shape.length){var u=n.data.get(i.dataId).values,c=n.data.get(a.dataId).values,l=(0,b.W)(u,c,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,l)}if(2===i.shape.length){var f=n.bufferSync(i),d=n.bufferSync(a),p=(0,b.i)(f,d,o,s);return n.makeTensorInfo(p.shape,a.dtype,p.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(i.shape.length,"."))}};var Mt={kernelName:i.DepthToSpace,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockSize,s=r.dataFormat;i.util.assert("NHWC"===s,(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(s)}));for(var u=a.shape[0],c=a.shape[1],l=a.shape[2],f=a.shape[3],d=c*o,p=l*o,h=f/(o*o),v=n.data.get(a.dataId).values,m=new Float32Array(u*d*p*h),g=0,y=0;y<u;++y)for(var b=0;b<d;++b)for(var x=Math.floor(b/o),k=b%o,w=0;w<p;++w)for(var _=Math.floor(w/o),S=(k*o+w%o)*h,T=0;T<h;++T){var E=T+S+f*(_+l*(x+c*y));m[g++]=v[E]}return n.makeTensorInfo([u,d,p,h],a.dtype,m)}};function Dt(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=r.strides,u=r.pad,c=r.dilations,l=r.dimRoundingMode;(0,h.H)([a,o],"depthwiseConv2DNative");var f=i.util.computeStrides(a.shape),d=i.util.computeStrides(o.shape),p=c;null==p&&(p=[1,1]),i.util.assert(i.backend_util.eitherStridesOrDilationsAreOne(s,p),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(s," and dilations '").concat(p,"'")}));for(var v=i.backend_util.computeConv2DInfo(a.shape,o.shape,s,p,u,l,!0),m=v.filterHeight,g=v.filterWidth,y=v.dilationHeight,b=v.dilationWidth,x=v.padInfo,k=x.left,w=x.top,_=v.outChannels/v.inChannels,S=new i.TensorBuffer(v.outShape,a.dtype),T=n.data.get(a.dataId).values,E=n.data.get(o.dataId).values,C=S.values,O=0;O<v.batchSize;++O)for(var A=O*f[0],I=O*S.strides[0],R=0;R<v.outHeight;++R)for(var N=I+R*S.strides[1],P=R*v.strideHeight-w,M=0;M<m;++M){var D=P+M*y;if(!(D<0||D>=v.inHeight))for(var L=M*d[0],j=A+D*f[1],F=0;F<v.outWidth;++F)for(var Z=N+F*S.strides[2],B=F*v.strideWidth-k,U=0;U<g;++U){var V=B+U*b;if(!(V<0||V>=v.inWidth))for(var z=L+U*d[1],W=j+V*v.inChannels,H=Z,G=z,q=0;q<v.inChannels;++q){for(var K=T[W+q],Y=0;Y<_;++Y)C[H+Y]+=K*E[G+Y];H+=_,G+=_}}}return n.makeTensorInfo(S.shape,S.dtype,S.values)}var Lt={kernelName:i.DepthwiseConv2dNative,backendName:"cpu",kernelFunc:Dt};var jt={kernelName:i.DepthwiseConv2dNativeBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,s=r.strides,u=r.dilations,c=r.pad,l=r.dimRoundingMode,f=r.filterShape;(0,h.H)([a,o],"depthwiseConv2dNativeBackpropFilter");for(var d=i.backend_util.computeConv2DInfo(a.shape,f,s,u,c,l,!0),p=d.strideHeight,v=d.strideWidth,m=d.filterHeight,g=d.filterWidth,y=new i.TensorBuffer(d.filterShape,"float32"),b=d.padInfo.left,x=d.padInfo.top,k=d.outChannels/d.inChannels,w=n.data.get(a.dataId).values,_=new i.TensorBuffer(a.shape,a.dtype,w),S=n.data.get(o.dataId).values,T=new i.TensorBuffer(o.shape,o.dtype,S),E=0;E<m;++E)for(var C=Math.max(0,Math.ceil((x-E)/p)),O=Math.min(d.outHeight,(d.inHeight+x-E)/p),A=0;A<g;++A)for(var I=Math.max(0,Math.ceil((b-A)/v)),R=Math.min(d.outWidth,(d.inWidth+b-A)/v),N=0;N<d.outChannels;++N){for(var P=Math.trunc(N/k),M=N%k,D=0,L=0;L<d.batchSize;++L)for(var j=C;j<O;++j)for(var F=E+j*p-x,Z=I;Z<R;++Z){var B=A+Z*v-b;D+=_.get(L,F,B,P)*T.get(L,j,Z,N)}y.set(D,E,A,P,M)}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};var Ft={kernelName:i.DepthwiseConv2dNativeBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,s=r.strides,u=r.dilations,c=r.pad,l=r.dimRoundingMode,f=r.inputShape;(0,h.H)([a,o],"depthwiseConv2DNativeBackpropInput");for(var d=i.util.computeStrides(a.shape),p=i.util.computeStrides(o.shape),v=i.backend_util.computeConv2DInfo(f,o.shape,s,u,c,l,!0),m=new i.TensorBuffer(v.inShape,"float32"),g=m.values,y=(0,ge.Z)(m.strides,3),b=y[0],x=y[1],k=y[2],w=n.data.get(a.dataId).values,_=(0,ge.Z)(d,3),S=_[0],T=_[1],E=_[2],C=n.data.get(o.dataId).values,O=(0,ge.Z)(p,3),A=O[0],I=O[1],R=O[2],N=v.batchSize,P=v.filterHeight,M=v.filterWidth,D=v.inChannels,L=v.inHeight,j=v.inWidth,F=v.outChannels,Z=v.outHeight,B=v.outWidth,U=v.strideHeight,V=v.strideWidth,z=P-1-v.padInfo.top,W=M-1-v.padInfo.left,H=F/D,G=0;G<N;++G)for(var q=0;q<D;++q)for(var K=0;K<L;++K)for(var Y=K-z,X=Math.max(0,Math.ceil(Y/U)),Q=Math.min(Z,(P+Y)/U),J=0;J<j;++J){for(var $=J-W,ee=Math.max(0,Math.ceil($/V)),te=Math.min(B,(M+$)/V),ne=0,re=X;re<Q;++re)for(var ie=re*U-Y,ae=ee;ae<te;++ae)for(var oe=S*G+T*re+E*ae,se=A*(P-1-ie)+I*(M-1-(ae*V-$))+R*q,ue=0;ue<H;++ue){ne+=w[oe+(q*H+ue)]*C[se+ue]}g[b*G+x*K+k*J+q]=ne}return n.makeTensorInfo(m.shape,m.dtype,m.values)}},Zt=n(93433);var Bt={kernelName:i.Diag,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=t.x,a=i.util.sizeFromShape(r.shape),o=n.data.get(r.dataId).values,s=(0,i.buffer)([a,a],r.dtype),u=s.values,c=0;c<o.length;c++)u[c*a+c]=o[c];var l=[].concat((0,Zt.Z)(r.shape),(0,Zt.Z)(r.shape));return n.makeTensorInfo(l,s.dtype,s.values)}},Ut={kernelName:i.Dilation2D,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=r.strides,u=r.pad,c=r.dilations,l=n,f=l.data.get(a.dataId).values,d=a.shape.length,p=l.data.get(o.dataId).values,h=o.shape.length,v=i.backend_util.computeDilation2DInfo(a.shape,o.shape,s,u,"NHWC",c),m=v.batchSize,g=v.inHeight,y=v.inWidth,b=v.inChannels,x=v.outHeight,k=v.outWidth,w=v.padInfo,_=v.strideHeight,S=v.strideWidth,T=v.filterHeight,E=v.filterWidth,C=v.dilationHeight,O=v.dilationWidth,A=v.outShape,I=i.util.sizeFromShape(A),R=A.length,N=i.util.getArrayFromDType(a.dtype,I),P=0;P<m;++P)for(var M=0;M<x;++M)for(var D=M*_-w.top,L=0;L<k;++L)for(var j=L*S-w.left,F=0;F<b;++F){for(var Z=Number.MIN_SAFE_INTEGER,B=0;B<T;++B){var U=D+B*C;if(U>=0&&U<g)for(var V=0;V<E;++V){var z=j+V*O;if(z>=0&&z<y){var W=i.util.locToIndex([P,U,z,F],d,i.util.computeStrides(a.shape)),H=i.util.locToIndex([B,V,F],h,i.util.computeStrides(o.shape)),G=f[W]+p[H];G>Z&&(Z=G)}}}N[i.util.locToIndex([P,M,L,F],R,i.util.computeStrides(A))]=Z}return{dataId:l.write(i.util.toTypedArray(N,a.dtype),A,a.dtype),shape:A,dtype:a.dtype}}},Vt={kernelName:i.Dilation2DBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=t.dy,u=r.strides,c=r.pad,l=r.dilations,f=n,d=i.util.toNestedArray(a.shape,f.data.get(a.dataId).values),p=i.util.toNestedArray(o.shape,f.data.get(o.dataId).values),h=i.backend_util.computeDilation2DInfo(a.shape,o.shape,u,c,"NHWC",l),v=h.batchSize,m=h.inHeight,g=h.inWidth,y=h.inChannels,b=h.outHeight,x=h.outWidth,k=h.padInfo,w=h.strideHeight,_=h.strideWidth,S=h.filterHeight,T=h.filterWidth,E=h.dilationHeight,C=h.dilationWidth,O=h.outShape;i.util.assert(s.rank===O.length,(function(){return"Error in ".concat(i.Dilation2DBackpropFilter,", dy ")+"must have the same rank as output ".concat(O.length,", but got ")+"".concat(s.rank)}));for(var A=i.util.toNestedArray(O,f.data.get(s.dataId).values),I=i.util.makeZerosNestedTypedArray(o.shape,o.dtype),R=0;R<v;++R)for(var N=0;N<b;++N)for(var P=N*w-k.top,M=0;M<x;++M)for(var D=M*_-k.left,L=0;L<y;++L){for(var j=Number.MIN_SAFE_INTEGER,F=0,Z=0,B=0;B<S;++B){var U=P+B*E;if(U>=0&&U<m)for(var V=0;V<T;++V){var z=D+V*C;if(z>=0&&z<g){var W=d[R][U][z][L]+p[B][V][L];W>j&&(j=W,F=B,Z=V)}}}I[F][Z][L]+=A[R][N][M][L]}return{dataId:f.write(i.util.toTypedArray(I,a.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}},zt={kernelName:i.Dilation2DBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,s=t.dy,u=r.strides,c=r.pad,l=r.dilations,f=n,d=i.util.toNestedArray(a.shape,f.data.get(a.dataId).values),p=i.util.toNestedArray(o.shape,f.data.get(o.dataId).values),h=i.backend_util.computeDilation2DInfo(a.shape,o.shape,u,c,"NHWC",l),v=h.batchSize,m=h.inHeight,g=h.inWidth,y=h.inChannels,b=h.outHeight,x=h.outWidth,k=h.padInfo,w=h.strideHeight,_=h.strideWidth,S=h.filterHeight,T=h.filterWidth,E=h.dilationHeight,C=h.dilationWidth,O=h.outShape;i.util.assert(s.rank===O.length,(function(){return"Error in ".concat(i.Dilation2DBackpropInput,", dy ")+"must have the same rank as output ".concat(O.length,", but got ")+"".concat(s.rank)}));for(var A=i.util.toNestedArray(O,f.data.get(s.dataId).values),I=i.util.makeZerosNestedTypedArray(a.shape,a.dtype),R=0;R<v;++R)for(var N=0;N<b;++N)for(var P=N*w-k.top,M=0;M<x;++M)for(var D=M*_-k.left,L=0;L<y;++L){for(var j=Number.MIN_SAFE_INTEGER,F=P<0?0:P,Z=D<0?0:D,B=0;B<S;++B){var U=P+B*E;if(U>=0&&U<m)for(var V=0;V<T;++V){var z=D+V*C;if(z>=0&&z<g){var W=d[R][U][z][L]+p[B][V][L];W>j&&(j=W,F=U,Z=z)}}}I[R][F][Z][L]+=A[R][N][M][L]}return{dataId:f.write(i.util.toTypedArray(I,a.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},Wt=n(37762),Ht=n(94842);function Gt(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,s=a.axis,u=a.keepDims;(0,h.H)(o,"sum");var c=(t="bool"===o.dtype?(0,ct.p)({inputs:{x:o},backend:r,attrs:{dtype:"int32"}}):(0,he.y)({inputs:{x:o},backend:r})).shape.length,l=i.util.parseAxisParam(s,t.shape),f=i.backend_util.getAxesPermutation(l,c),d=l,p=t;null!=f&&(p=(0,Le.p)({inputs:{x:t},backend:r,attrs:{perm:f}}),d=i.backend_util.getInnerMostAxes(d.length,c)),i.backend_util.assertAxesAreInnerMostDims("sum",d,p.shape.length);for(var v=i.backend_util.computeOutAndReduceShapes(p.shape,d),m=(0,ge.Z)(v,2),g=m[0],y=m[1],b=i.backend_util.upcastType(p.dtype,"int32"),x=(0,Ht.l)(r,g,b),k=i.util.sizeFromShape(y),w=r.data.get(x.dataId).values,_=r.data.get(p.dataId).values,S=0;S<w.length;++S){for(var T=S*k,E=0,C=0;C<k;++C)E+=_[T+C];w[S]=E}if(u){var O=x;x=Ee({inputs:{x:x},backend:r,attrs:{shape:i.backend_util.expandShapeToKeepDim(x.shape,l)}}),r.disposeIntermediateTensorInfo(O)}return r.disposeIntermediateTensorInfo(t),null!=f&&r.disposeIntermediateTensorInfo(p),x}var qt={kernelName:i.Sum,backendName:"cpu",kernelFunc:Gt};var Kt={kernelName:i.Einsum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.equation,a=t,o=i.backend_util.decodeEinsumEquation(r,a.length),s=o.allDims,u=o.summedDims,c=o.idDims;i.backend_util.checkEinsumDimSizes(s.length,c,a);for(var l=i.backend_util.getEinsumComputePath(u,c),f=l.path,d=l.steps,p=d.length,h=null,v=s.length,m=[],g=0;g<p;++g){var y,b=(0,Wt.Z)(d[g]);try{for(b.s();!(y=b.n()).done;){var x=y.value,k=i.backend_util.getEinsumPermutation(v,c[x]),w=k.permutationIndices,_=k.expandDims,S=void 0;i.backend_util.isIdentityPermutation(w)?S=a[x]:(S=(0,Le.p)({inputs:{x:a[x]},backend:n,attrs:{perm:w}}),m.push(S));for(var T=S.shape.slice(),E=0;E<_.length;++E)T.splice(_[E],0,1);i.util.arraysEqual(S.shape,T)||(S=Ee({inputs:{x:S},backend:n,attrs:{shape:T}}),m.push(S)),null===h?h=S:(h=(0,j.Jp)({inputs:{a:S,b:h},backend:n}),m.push(h))}}catch(I){b.e(I)}finally{b.f()}g<p-1&&(f[g]>=0&&(h=Gt({inputs:{x:h},backend:n,attrs:{axis:f[g]-(s.length-v),keepDims:!1}}),m.push(h)),v--)}for(var C=0,O=m;C<O.length;C++){var A=O[C];A!==h&&n.disposeIntermediateTensorInfo(A)}return h}};var Yt={kernelName:i.EluGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,a=t.y;(0,h.H)([r,a],"eluGrad");for(var o=new Float32Array(i.util.sizeFromShape(a.shape)),s=n.data.get(a.dataId).values,u=n.data.get(r.dataId).values,c=0;c<s.length;++c){var l=s[c];o[c]=l>=1?u[c]:u[c]*(l+1)}return n.makeTensorInfo(a.shape,"float32",o)}},Xt=i.backend_util.ERF_P,Qt=i.backend_util.ERF_A1,Jt=i.backend_util.ERF_A2,$t=i.backend_util.ERF_A3,en=i.backend_util.ERF_A4,tn=i.backend_util.ERF_A5,nn=(0,fe.A)(i.Erf,(function(e){var t=Math.sign(e),n=Math.abs(e),r=1/(1+Xt*n);return t*(1-((((tn*r+en)*r+$t)*r+Jt)*r+Qt)*r*Math.exp(-n*n))})),rn={kernelName:i.Erf,backendName:"cpu",kernelFunc:nn};function an(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.input,o=r.dim,s=a.shape.length,u=a.shape.slice(),c=o;return o<0&&(i.util.assert(-(s+1)<=o,(function(){return"Axis must be in the interval [".concat(-(s+1),", ").concat(s,"]")})),c=s+o+1),u.splice(c,0,1),Ee({inputs:{x:a},backend:n,attrs:{shape:u}})}var on={kernelName:i.ExpandDims,backendName:"cpu",kernelFunc:an},sn=(0,X.b)((function(e,t){return e/t})),un=(0,Q.j)(i.RealDiv,sn),cn={kernelName:i.RealDiv,backendName:"cpu",kernelFunc:un};function ln(e,t,n){for(var r=e.shape,a=r[0],o=r[1],s=n.data.get(e.dataId),u=s.complexTensorInfos.real,c=s.complexTensorInfos.imag,l=[a,o],f=i.util.sizeFromShape(l),d=i.util.getTypedArrayFromDType("float32",f),p=i.util.getTypedArrayFromDType("float32",f),h=0;h<a;h++){for(var v=(0,H.tP)({inputs:{x:u},backend:n,attrs:{begin:[h,0],size:[1,o]}}),m=(0,H.tP)({inputs:{x:c},backend:n,attrs:{begin:[h,0],size:[1,o]}}),g=(0,dt.P)({inputs:{real:v,imag:m},backend:n}),y=fn(g,t,n),b=y.real,x=y.imag,k=i.backend_util.mergeRealAndImagArrays(b,x),w=0;w<o;w++){var _=i.backend_util.getComplexWithIndex(k,w);d[h*o+w]=_.real,p[h*o+w]=_.imag}n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g)}var S=n.makeTensorInfo(l,"float32",d),T=n.makeTensorInfo(l,"float32",p),E=(0,dt.P)({inputs:{real:S,imag:T},backend:n});return n.disposeIntermediateTensorInfo(S),n.disposeIntermediateTensorInfo(T),E}function fn(e,t,n){var r=i.util.sizeFromShape(e.shape),a=n.data.get(e.dataId),o=n.data.get(a.complexTensorInfos.real.dataId).values,s=n.data.get(a.complexTensorInfos.imag.dataId).values;if(0===((y=r)&y-1)){var u=dn(o,s,r,t,n),c=[e.shape[0],e.shape[1]];if(t){var l=n.makeTensorInfo(c,"float32",u.real),f=n.makeTensorInfo(c,"float32",u.imag),d=n.makeTensorInfo([],"float32",i.util.createScalarValue(r,"float32")),p=(0,he.y)({inputs:{x:d},backend:n}),h=cn.kernelFunc({inputs:{a:l,b:d},backend:n}),v=cn.kernelFunc({inputs:{a:f,b:p},backend:n}),m=n.data.get(h.dataId).values,g=n.data.get(v.dataId).values;return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(v),{real:m,imag:g}}return u}var y,b=function(e,t,n){for(var r=new Float32Array(2*t),a=0;a<t;a++){for(var o=0,s=0,u=0;u<t;u++){var c=i.backend_util.exponent(a*u,t,n),l=i.backend_util.getComplexWithIndex(e,u);o+=l.real*c.real-l.imag*c.imag,s+=l.real*c.imag+l.imag*c.real}n&&(o/=t,s/=t),i.backend_util.assignToTypedArray(r,o,s,a)}return r}(i.backend_util.mergeRealAndImagArrays(o,s),r,t);return i.backend_util.splitRealAndImagArrays(b)}function dn(e,t,n,r,a){if(1===n)return{real:e,imag:t};var o=i.backend_util.mergeRealAndImagArrays(e,t),s=n/2,u=i.backend_util.complexWithEvenIndex(o),c=u.real,l=u.imag,f=[c.length],d=a.makeTensorInfo(f,"float32",c),p=a.makeTensorInfo(f,"float32",l),h=(0,dt.P)({inputs:{real:d,imag:p},backend:a}),v=i.backend_util.complexWithOddIndex(o),m=v.real,g=v.imag,b=[m.length],x=a.makeTensorInfo(b,"float32",m),k=a.makeTensorInfo(b,"float32",g),w=(0,dt.P)({inputs:{real:x,imag:k},backend:a}),_=dn(c,l,s,r,a),S=_.real,T=_.imag,E=[S.length],C=a.makeTensorInfo(E,"float32",S),O=a.makeTensorInfo(E,"float32",T),A=(0,dt.P)({inputs:{real:C,imag:O},backend:a}),I=dn(m,g,s,r,a),R=I.real,N=I.imag,P=[R.length],M=a.makeTensorInfo(P,"float32",R),D=a.makeTensorInfo(P,"float32",N),L=(0,dt.P)({inputs:{real:M,imag:D},backend:a}),F=i.backend_util.exponents(n,r),Z=[F.real.length],B=a.makeTensorInfo(Z,"float32",F.real),U=a.makeTensorInfo(Z,"float32",F.imag),V=(0,dt.P)({inputs:{real:B,imag:U},backend:a}),z=(0,j.Jp)({inputs:{a:V,b:L},backend:a}),W=(0,y.IH)({inputs:{a:A,b:z},backend:a}),H=(0,ae.lu)({inputs:{a:A,b:z},backend:a}),G=(0,mt.k)({inputs:{input:W},backend:a}),q=(0,mt.k)({inputs:{input:H},backend:a}),K=ht({inputs:{input:W},backend:a}),Y=ht({inputs:{input:H},backend:a}),X=gt({inputs:[G,q],backend:a,attrs:{axis:0}}),Q=gt({inputs:[K,Y],backend:a,attrs:{axis:0}}),J=a.data.get(X.dataId).values,$=a.data.get(Q.dataId).values;return a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(k),a.disposeIntermediateTensorInfo(w),a.disposeIntermediateTensorInfo(C),a.disposeIntermediateTensorInfo(O),a.disposeIntermediateTensorInfo(A),a.disposeIntermediateTensorInfo(M),a.disposeIntermediateTensorInfo(D),a.disposeIntermediateTensorInfo(L),a.disposeIntermediateTensorInfo(B),a.disposeIntermediateTensorInfo(U),a.disposeIntermediateTensorInfo(V),a.disposeIntermediateTensorInfo(z),a.disposeIntermediateTensorInfo(W),a.disposeIntermediateTensorInfo(H),a.disposeIntermediateTensorInfo(G),a.disposeIntermediateTensorInfo(K),a.disposeIntermediateTensorInfo(q),a.disposeIntermediateTensorInfo(Y),a.disposeIntermediateTensorInfo(X),a.disposeIntermediateTensorInfo(Q),{real:J,imag:$}}var pn={kernelName:i.FFT,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,a=i.util.sizeFromShape(r.shape),o=r.shape[r.shape.length-1],s=Ee({inputs:{x:r},backend:n,attrs:{shape:[a/o,o]}}),u=ln(s,!1,n),c=Ee({inputs:{x:u},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(u),c}};function hn(e){var t=e.backend,n=e.attrs,r=n.shape,a=n.value,o=n.dtype||i.util.inferDtype(a),s=i.util.getArrayFromDType(o,i.util.sizeFromShape(r));return function(e,t,n){e.fill(t)}(s,a),t.makeTensorInfo(r,o,s)}var vn={kernelName:i.Fill,backendName:"cpu",kernelFunc:hn};var mn={kernelName:i.FlipLeftRight,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=(e.attrs,e.backend),r=t.image,a=n,o=i.util.getTypedArrayFromDType(r.dtype,i.util.sizeFromShape(r.shape)),s=(0,ge.Z)(r.shape,4),u=s[0],c=s[1],l=s[2],f=s[3],d=a.data.get(r.dataId).values,p=0;p<u;p++)for(var h=p*l*c*f,v=0;v<c;v++)for(var m=v*(l*f),g=0;g<l;g++)for(var y=g*f,b=0;b<f;b++){var x=Math.round(l-g-1),k=h+m+y+b,w=d[k];if(x>=0&&x<l)w=d[h+m+x*f+b];o[k]=w}return{dataId:a.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},gn=(0,X.b)((function(e,t){return Math.floor(e/t)})),yn=(0,Q.j)(i.FloorDiv,gn,null,"int32"),bn={kernelName:i.FloorDiv,backendName:"cpu",kernelFunc:yn};var xn={kernelName:i.FusedConv2D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=t.bias,s=t.preluActivationWeights,u=r.strides,c=r.pad,l=r.dataFormat,f=r.dilations,d=r.dimRoundingMode,p=r.activation,h=r.leakyreluAlpha,v=bt({inputs:{x:i,filter:a},backend:n,attrs:{strides:u,pad:c,dataFormat:l,dilations:f,dimRoundingMode:d}});if(o){var m=v;if("NCHW"===l&&1===o.shape.length&&1!==o.shape[0]){var g=Ee({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});v=(0,y.IH)({inputs:{a:v,b:g},backend:n}),n.disposeIntermediateTensorInfo(g)}else v=(0,y.IH)({inputs:{a:v,b:o},backend:n});n.disposeIntermediateTensorInfo(m)}if(p){var b=v;if("NCHW"===l&&"prelu"===p&&1===s.shape.length&&1!==s.shape[0]){var x=Ee({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});v=Te(n,v,p,x,h),n.disposeIntermediateTensorInfo(x)}else v=Te(n,v,p,s,h);n.disposeIntermediateTensorInfo(b)}return v}};var kn={kernelName:i.FusedDepthwiseConv2D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=t.bias,s=t.preluActivationWeights,u=r.strides,c=r.pad,l=r.dataFormat,f=r.dilations,d=r.dimRoundingMode,p=r.activation,h=r.leakyreluAlpha,v=Dt({inputs:{x:i,filter:a},backend:n,attrs:{strides:u,pad:c,dataFormat:l,dilations:f,dimRoundingMode:d}});if(o){var m=v;v=(0,y.IH)({inputs:{a:v,b:o},backend:n}),n.disposeIntermediateTensorInfo(m)}if(p){var g=v;v=Te(n,v,p,s,h),n.disposeIntermediateTensorInfo(g)}return v}};var wn={kernelName:i.GatherNd,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,a=t.indices,o=i.util.sizeFromShape(r.shape),s=a.shape,u=s[s.length-1],c=i.backend_util.prepareAndValidate(r,a),l=(0,ge.Z)(c,4),f=l[0],d=l[1],p=l[2],h=l[3];if(0===d)return n.makeTensorInfo(f,r.dtype,[]);var v=n.data.get(a.dataId).values,m=n.bufferSync(r),g=(0,E.m)(v,m,r.dtype,d,u,p,h,r.shape,o);return n.makeTensorInfo(f,r.dtype,g.values)}};var _n={kernelName:i.GatherV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.indices,s=r.axis,u=r.batchDims;(0,h.H)([a,o],"gatherV2");for(var c=i.util.parseAxisParam(s,a.shape)[0],l=n.data.get(o.dataId).values,f=a.shape[c],d=function(e){var t=l[e];i.util.assert(t<=f-1&&t>=0,(function(){return"GatherV2: the index value ".concat(t," is not in [0, ").concat(f-1,"]")}))},p=0;p<l.length;++p)d(p);var v=u;null==u&&(v=0);var m=i.util.sizeFromShape(o.shape),g=i.backend_util.segment_util.collectGatherOpShapeInfo(a,o,c,v),y=Ee({inputs:{x:a},backend:n,attrs:{shape:[g.batchSize,g.outerSize,g.dimSize,g.sliceSize]}}),b=Ee({inputs:{x:o},backend:n,attrs:{shape:[g.batchSize,m/g.batchSize]}}),x=[g.batchSize,g.outerSize,m/g.batchSize,g.sliceSize],k=n.bufferSync(b),w=n.bufferSync(y),_=(0,C.i)(w,k,x);return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(b),n.makeTensorInfo(g.outputShape,_.dtype,_.values)}};var Sn={kernelName:i.IFFT,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,a=i.util.sizeFromShape(r.shape),o=r.shape[r.shape.length-1],s=Ee({inputs:{x:r},backend:n,attrs:{shape:[a/o,o]}}),u=ln(s,!0,n),c=Ee({inputs:{x:u},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(u),c}},Tn=(0,fe.A)(i.IsFinite,(function(e){return Number.isFinite(e)?1:0}),"bool"),En={kernelName:i.IsFinite,backendName:"cpu",kernelFunc:Tn},Cn=(0,fe.A)(i.IsInf,(function(e){return Math.abs(e)===1/0?1:0}),"bool"),On={kernelName:i.IsInf,backendName:"cpu",kernelFunc:Cn},An=(0,fe.A)(i.IsNan,(function(e){return Number.isNaN(e)?1:0}),"bool"),In={kernelName:i.IsNan,backendName:"cpu",kernelFunc:An};var Rn={kernelName:i.LinSpace,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,i=n.stop,a=n.num,o=(0,N.b)(r,i,a);return t.makeTensorInfo([o.length],"float32",o)}},Nn=(0,fe.A)(i.Log1p,(function(e){return Math.log1p(e)})),Pn={kernelName:i.Log1p,backendName:"cpu",kernelFunc:Nn},Mn=(0,X.b)((function(e,t){return e&&t})),Dn=(0,Q.j)(i.LogicalAnd,Mn,null,"bool"),Ln={kernelName:i.LogicalAnd,backendName:"cpu",kernelFunc:Dn},jn=(0,fe.A)(i.LogicalNot,(function(e){return e?0:1}),"bool"),Fn={kernelName:i.LogicalNot,backendName:"cpu",kernelFunc:jn},Zn=(0,X.b)((function(e,t){return e||t})),Bn=(0,Q.j)(i.LogicalOr,Zn,null,"bool"),Un={kernelName:i.LogicalOr,backendName:"cpu",kernelFunc:Bn};var Vn={kernelName:i.LRN,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.depthRadius,s=r.bias,u=r.alpha,c=r.beta;(0,h.H)(a,"LRN");var l=a.shape[3],f=l-1,d=n.data.get(a.dataId).values,p=i.util.sizeFromShape(a.shape),v=new Float32Array(p);function m(e){for(var t=e%l,n=e-t+Math.max(0,t-o),r=e-t+Math.min(t+o,f),i=0;n<=r;n++){var a=d[n];i+=a*a}return i}for(var g=0;g<p;g++){var y=m(g),b=d[g]*Math.pow(s+u*y,-c);v[g]=b}return n.makeTensorInfo(a.shape,a.dtype,v)}};var zn={kernelName:i.LRNGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.y,s=t.dy,u=r.depthRadius,c=r.bias,l=r.alpha,f=r.beta;(0,h.H)(s,"LRNGrad");for(var d=i.util.sizeFromShape(s.shape),p=s.shape[3],v=n.data.get(s.dataId).values,m=n.data.get(a.dataId).values,g=n.data.get(o.dataId).values,y=new Float32Array(d),b=d,x=0;x<b;x++){for(var k=x%p,w=x-k+Math.max(0,k-u),_=x-k+Math.min(p,k+u+1),S=0,T=w;T<_;T++)S+=Math.pow(m[T],2);S=l*S+c;for(var E=w;E<_;E++){var C=-2*l*f*m[E]*g[x]/S;x===E&&(C+=Math.pow(S,-f)),C*=v[x],y[E]+=C}}return n.makeTensorInfo(s.shape,a.dtype,y)}};function Wn(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.reductionIndices,s=r.keepDims,u=n,c=a.shape,l=c.length,f=i.util.parseAxisParam(o,c),d=f,p=i.backend_util.getAxesPermutation(d,l),v=u.data.get(a.dataId).values;if(null!=p){for(var m=new Array(l),g=0;g<m.length;g++)m[g]=c[p[g]];v=(0,ue.H)(v,c,a.dtype,p,m),d=i.backend_util.getInnerMostAxes(d.length,l),c=m}(0,h.H)(a,"max"),i.backend_util.assertAxesAreInnerMostDims("max",d,l);var y=i.backend_util.computeOutAndReduceShapes(c,d),b=(0,ge.Z)(y,2),x=b[0],k=b[1],w=i.util.sizeFromShape(k),_=(0,M.B)(v,w,x,a.dtype),S=u.write(_,x,a.dtype),T=x;s&&(T=m=i.backend_util.expandShapeToKeepDim(x,f));return{dataId:S,shape:T,dtype:a.dtype}}var Hn={kernelName:i.Max,backendName:"cpu",kernelFunc:Wn};var Gn={kernelName:i.MaxPool,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;(0,h.H)(a,"maxPool");var o=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode;i.util.assert(i.backend_util.eitherStridesOrDilationsAreOne(s,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(1,"'")}));var l,f=i.backend_util.computePool2DInfo(a.shape,o,s,1,u,c);if(1===f.filterWidth&&1===f.filterHeight&&i.util.arraysEqual(f.inShape,f.outShape))l=(0,he.y)({inputs:{x:a},backend:n});else{var d=n.data.get(a.dataId).values,p=i.util.computeStrides(a.shape),v=Je(d,a.shape,a.dtype,p,f,"max");l=n.makeTensorInfo(f.outShape,a.dtype,v.values)}return l}};var qn={kernelName:i.MaxPool3D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode,l=r.dataFormat;(0,h.H)(a,"maxPool3d");var f=i.backend_util.computePool3DInfo(a.shape,o,s,1,u,c,l),d=et(n.data.get(a.dataId).values,a.shape,a.dtype,i.util.computeStrides(a.shape),f,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}};var Kn={kernelName:i.MaxPool3DGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,s=r.filterSize,u=r.strides,c=r.pad,l=r.dimRoundingMode;(0,h.H)([a,o],"maxPool3DGrad");for(var f=i.backend_util.computePool3DInfo(o.shape,s,u,1,c,l),d=function(e,t){for(var n=(0,i.buffer)(t.outShape,"int32"),r=t.strideDepth,a=t.strideHeight,o=t.strideWidth,s=t.dilationDepth,u=t.dilationHeight,c=t.dilationWidth,l=t.effectiveFilterDepth,f=t.effectiveFilterHeight,d=t.effectiveFilterWidth,p=t.padInfo.front,h=t.padInfo.top,v=t.padInfo.left,m=0;m<t.batchSize;++m)for(var g=0;g<t.inChannels;++g)for(var y=0;y<t.outDepth;++y){for(var b=y*r-p,x=b;x<0;)x+=s;for(var k=Math.min(t.inDepth,l+b),w=0;w<t.outHeight;++w){for(var _=w*a-h,S=_;S<0;)S+=u;for(var T=Math.min(t.inHeight,f+_),E=0;E<t.outWidth;++E){for(var C=E*o-v,O=C;O<0;)O+=c;for(var A=Math.min(t.inWidth,d+C),I=Number.NEGATIVE_INFINITY,R=-1,N=x;N<k;N+=s)for(var P=N-b,M=S;M<T;M+=u)for(var D=M-_,L=O;L<A;L+=c){var j=L-C,F=e.get(m,N,M,L,g);F>=I&&(I=F,R=P*f*d+D*f+j)}n.set(R,m,y,w,E,g)}}}return n}(n.bufferSync(o),f),p=f.strideDepth,v=f.strideHeight,m=f.strideWidth,g=f.dilationDepth,y=f.dilationHeight,b=f.dilationWidth,x=f.effectiveFilterDepth,k=f.effectiveFilterHeight,w=f.effectiveFilterWidth,_=x-1-f.padInfo.front,S=w-1-f.padInfo.left,T=k-1-f.padInfo.top,E=(0,i.buffer)(o.shape,"float32"),C=n.bufferSync(a),O=0;O<f.batchSize;++O)for(var A=0;A<f.inChannels;++A)for(var I=0;I<f.inDepth;++I)for(var R=0;R<f.inHeight;++R)for(var N=0;N<f.inWidth;++N){for(var P=I-_,M=R-T,D=N-S,L=0,j=0;j<x;j+=g){var F=(P+j)/p;if(!(F<0||F>=f.outDepth||Math.floor(F)!==F))for(var Z=0;Z<k;Z+=y){var B=(M+Z)/v;if(!(B<0||B>=f.outHeight||Math.floor(B)!==B))for(var U=0;U<w;U+=b){var V=(D+U)/m;if(!(V<0||V>=f.outWidth||Math.floor(V)!==V)){var z=x*k*w-1-d.get(O,F,B,V,A)===j*k*w+Z*w+U?1:0;if(0!==z)L+=C.get(O,F,B,V,A)*z}}}}E.set(L,O,I,R,N,A)}return n.makeTensorInfo(E.shape,E.dtype,E.values)}};var Yn={kernelName:i.MaxPoolGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,s=t.output,u=o;(0,h.H)([o,s],"maxPoolGrad");for(var c=r.filterSize,l=r.strides,f=r.pad,d=r.dimRoundingMode,p=i.backend_util.computePool2DInfo(u.shape,c,l,1,f,d),v=n.data.get(u.dataId).values,m=(0,i.buffer)(p.outShape,u.dtype,$e(v,u.shape,u.dtype,p).values),g=p.strideHeight,y=p.strideWidth,b=p.dilationHeight,x=p.dilationWidth,k=p.effectiveFilterHeight,w=p.effectiveFilterWidth,_=w-1-p.padInfo.left,S=k-1-p.padInfo.top,T=(0,i.buffer)(u.shape,"float32"),E=n.data.get(a.dataId).values,C=(0,i.buffer)(a.shape,"float32",E),O=0;O<p.batchSize;++O)for(var A=0;A<p.inChannels;++A)for(var I=0;I<p.inHeight;++I)for(var R=0;R<p.inWidth;++R){for(var N=I-S,P=R-_,M=0,D=0;D<k;D+=b){var L=(N+D)/g;if(!(L<0||L>=p.outHeight||Math.floor(L)!==L))for(var j=0;j<w;j+=x){var F=(P+j)/y;if(!(F<0||F>=p.outWidth||Math.floor(F)!==F)){var Z=k*w-1-m.get(O,L,F,A)===D*w+j?1:0;if(0!==Z)M+=C.get(O,L,F,A)*Z}}}T.set(M,O,I,R,A)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}};var Xn={kernelName:i.MaxPoolWithArgmax,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,o=n.filterSize,s=n.strides,u=n.pad,c=n.includeBatchInIndex,l=r;(0,h.H)(a,"MaxPoolWithArgmax");var f=l.data.get(a.dataId).values,d=i.backend_util.computePool2DInfo(a.shape,o,s,[1,1],u),p=function(e,t,n,r,a){var o=Je(e,0,n,i.util.computeStrides(t),a,"max"),s=$e(e,t,n,a,!0,r);return[o.values,s.values]}(f,a.shape,a.dtype,c,d),v=(0,ge.Z)(p,2),m=v[0],g=v[1],y=l.write(m,d.outShape,a.dtype),b=l.write(g,d.outShape,a.dtype);return[{dataId:y,shape:d.outShape,dtype:a.dtype},{dataId:b,shape:d.outShape,dtype:"int32"}]}};var Qn={kernelName:i.Mean,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=r.keepDims,u=i.util.parseAxisParam(o,a.shape),c=i.backend_util.computeOutAndReduceShapes(a.shape,u)[1],l=i.util.sizeFromShape(c),f=[],d=n.makeTensorInfo([],"float32",new Float32Array([l]));f.push(d);var p=(0,ct.p)({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});f.push(p);var h=un({inputs:{a:p,b:d},backend:n});f.push(h);var v=Gt({inputs:{x:h},backend:n,attrs:{axis:o,keepDims:s}});return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),v}};var Jn={kernelName:i.Min,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,s=r.keepDims;(0,h.H)(a,"min");var u=i.util.parseAxisParam(o,a.shape),c=u,l=i.backend_util.getAxesPermutation(c,a.shape.length),f=a;null!=l&&(f=(0,Le.p)({inputs:{x:a},backend:n,attrs:{perm:l}}),c=i.backend_util.getInnerMostAxes(c.length,a.shape.length)),i.backend_util.assertAxesAreInnerMostDims("min",c,f.shape.length);for(var d=i.backend_util.computeOutAndReduceShapes(f.shape,c),p=(0,ge.Z)(d,2),v=p[0],m=p[1],g=i.util.sizeFromShape(m),y=i.util.makeZerosTypedArray(i.util.sizeFromShape(v),f.dtype),b=n.data.get(f.dataId).values,x=0;x<y.length;++x){for(var k=x*g,w=b[k],_=0;_<g;++_){var S=b[k+_];(Number.isNaN(S)||S<w)&&(w=S)}y[x]=w}null!=l&&n.disposeIntermediateTensorInfo(f);var T=n.makeTensorInfo(v,f.dtype,y);if(s){var E=Ee({inputs:{x:T},backend:n,attrs:{shape:i.backend_util.expandShapeToKeepDim(v,u)}});return n.disposeIntermediateTensorInfo(T),E}return T}};var $n={kernelName:i.MirrorPad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.paddings,s=r.mode;(0,h.H)(a,"mirrorPad");for(var u=o.map((function(e,t){return e[0]+a.shape[t]+e[1]})),c=o.map((function(e){return e[0]})),l=o.map((function(e,t){return e[0]+a.shape[t]})),f="reflect"===s?0:1,d=n.data.get(a.dataId).values,p=a.shape.length,v=i.util.computeStrides(a.shape),m=i.util.sizeFromShape(u),g=u.length,y=i.util.computeStrides(u),b=i.util.getTypedArrayFromDType(a.dtype,m),x=0;x<m;x++){for(var k=i.util.indexToLoc(x,g,y),w=0;w<g;w++)k[w]<c[w]?k[w]=2*c[w]-k[w]-f:k[w]>=l[w]&&(k[w]=2*(l[w]-1)-k[w]+f);k=k.map((function(e,t){return e-c[t]}));var _=i.util.locToIndex(k,p,v);b[x]=d[_]}return{dataId:n.write(b,u,a.dtype),shape:u,dtype:a.dtype}}},er=(0,X.b)((function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),tr=(0,Q.j)(i.Mod,er),nr={kernelName:i.Mod,backendName:"cpu",kernelFunc:tr},rr=n(96699);function ir(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,o=r.dim,s=a.shape.length,u=o;if(-1===u&&(u=s-1),u!==s-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(s," and dim was ").concat(u));var c=i.util.parseAxisParam([u],a.shape),l=Wn({inputs:{x:a},backend:n,attrs:{reductionIndices:c,keepDims:!1}}),f=i.backend_util.expandShapeToKeepDim(l.shape,c),d=Ee({inputs:{x:l},backend:n,attrs:{shape:f}}),p=(0,ae.lu)({inputs:{a:a,b:d},backend:n}),h=(0,_.Qq)({inputs:{x:p},backend:n}),v=Gt({inputs:{x:h},backend:n,attrs:{axis:c,keepDims:!1}}),m=Ee({inputs:{x:v},backend:n,attrs:{shape:f}}),g=un({inputs:{a:h,b:m},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),g}var ar={kernelName:i.Softmax,backendName:"cpu",kernelFunc:ir};var or={kernelName:i.Multinomial,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,o=r.numSamples,s=r.seed,u=r.normalized;(0,h.H)(a,"multinomial");for(var c=u?a:ir({inputs:{logits:a},backend:n,attrs:{dim:-1}}),l=c.shape[0],f=c.shape[1],d=n.data.get(c.dataId).values,p=[l,o],v=i.util.makeZerosTypedArray(i.util.sizeFromShape(p),"int32"),m=0;m<l;++m){var g=m*f,y=new Float32Array(f-1);y[0]=d[g];for(var b=1;b<y.length;++b)y[b]=y[b-1]+d[g+b];for(var x=rr.alea(s.toString()),k=m*o,w=0;w<o;++w){var _=x();v[k+w]=y.length;for(var S=0;S<y.length;S++)if(_<y[S]){v[k+w]=S;break}}}return u||n.disposeIntermediateTensorInfo(c),n.makeTensorInfo(p,"int32",v)}},sr=i.kernel_impls.nonMaxSuppressionV3Impl;var ur={kernelName:i.NonMaxSuppressionV3,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold;(0,h.H)(i,"NonMaxSuppression");var c=n.data.get(i.dataId).values,l=n.data.get(a.dataId).values,f=sr(c,l,o,s,u).selectedIndices;return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}},cr=i.kernel_impls.nonMaxSuppressionV4Impl;var lr={kernelName:i.NonMaxSuppressionV4,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,c=r.padToMaxOutputSize;(0,h.H)(i,"NonMaxSuppressionPadded");var l=n.data.get(i.dataId).values,f=n.data.get(a.dataId).values,d=cr(l,f,o,s,u,c),p=d.selectedIndices,v=d.validOutputs;return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([v]))]}},fr=i.kernel_impls.nonMaxSuppressionV5Impl;var dr={kernelName:i.NonMaxSuppressionV5,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,c=r.softNmsSigma;(0,h.H)(i,"NonMaxSuppressionWithScore");var l=n.data.get(i.dataId).values,f=n.data.get(a.dataId).values,d=fr(l,f,o,s,u,c),p=d.selectedIndices,v=d.selectedScores;return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}};var pr={kernelName:i.OneHot,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,o=r.depth,s=r.onValue,u=r.offValue;(0,h.H)(a,"oneHot");var c=i.util.sizeFromShape(a.shape),l=new Float32Array(c*o);l.fill(u);for(var f=n.data.get(a.dataId).values,d=0;d<c;++d)f[d]>=0&&f[d]<o&&(l[d*o+f[d]]=s);return n.makeTensorInfo([].concat((0,Zt.Z)(a.shape),[o]),"int32",l)}};function hr(e){var t=e.inputs,n=e.backend,r=t.x;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){var i=(0,mt.k)({inputs:{input:r},backend:n}),a=hr({inputs:{x:i},backend:n}),o=ht({inputs:{input:r},backend:n}),s=hr({inputs:{x:o},backend:n}),u=(0,dt.P)({inputs:{real:a,imag:s},backend:n});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),u}return hn({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}var vr={kernelName:i.ZerosLike,backendName:"cpu",kernelFunc:hr};var mr={kernelName:i.OnesLike,backendName:"cpu",kernelFunc:function e(t){var n=t.inputs,r=t.backend,i=n.x;if("string"===i.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===i.dtype){var a=(0,mt.k)({inputs:{input:i},backend:r}),o=e({inputs:{x:a},backend:r}),s=ht({inputs:{input:i},backend:r}),u=hr({inputs:{x:s},backend:r}),c=(0,dt.P)({inputs:{real:o,imag:u},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(u),c}return hn({backend:r,attrs:{shape:i.shape,value:1,dtype:i.dtype}})}};function gr(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return an({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var a=t[0].shape,o=t[0].dtype;t.forEach((function(e){i.util.assertShapesMatch(a,e.shape,"All tensors passed to stack must have matching shapes"),i.util.assert(o===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var s=[],u=gt({inputs:t.map((function(e){var t=an({inputs:{input:e},backend:n,attrs:{dim:r}});return s.push(t),t})),backend:n,attrs:{axis:r}});return s.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),u}var yr={kernelName:i.Pack,backendName:"cpu",kernelFunc:gr};var br={kernelName:i.PadV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.paddings,s=r.constantValue;(0,h.H)(a,"pad");var u=o.map((function(e,t){return e[0]+a.shape[t]+e[1]})),c=o.map((function(e){return e[0]})),l=n.data.get(a.dataId).values,f=i.util.sizeFromShape(a.shape),d=a.shape.length,p=i.util.computeStrides(a.shape),v=i.util.sizeFromShape(u),m=u.length,g=i.util.computeStrides(u),y=i.util.getTypedArrayFromDType(a.dtype,v);0!==s&&y.fill(s);for(var b=0;b<f;b++){var x=i.util.indexToLoc(b,d,p).map((function(e,t){return e+c[t]}));y[i.util.locToIndex(x,m,g)]=l[b]}return{dataId:n.write(y,u,a.dtype),shape:u,dtype:a.dtype}}},xr=(0,X.b)((function(e,t){return Math.pow(e,t)})),kr=(0,Q.j)(i.Pow,xr),wr={kernelName:i.Pow,backendName:"cpu",kernelFunc:kr};var _r={kernelName:i.Range,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,i=n.stop,a=n.dtype,o=n.step,s=(0,U.b)(r,i,o,a);return t.makeTensorInfo([s.length],a,s)}},Sr=(0,fe.A)(i.Reciprocal,(function(e){return 1/e})),Tr={kernelName:i.Reciprocal,backendName:"cpu",kernelFunc:Sr};var Er={kernelName:i.ResizeBilinear,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=r.alignCorners,s=r.halfPixelCenters,u=r.size;(0,h.H)(a,"resizeBilinear");for(var c=i.util.computeStrides(a.shape),l=(0,ge.Z)(u,2),f=l[0],d=l[1],p=(0,ge.Z)(a.shape,4),v=p[0],m=p[1],g=p[2],y=p[3],b=n.data.get(a.dataId).values,x=new Float32Array(i.util.sizeFromShape([v,f,d,y])),k=[o&&f>1?m-1:m,o&&d>1?g-1:g],w=[o&&f>1?f-1:f,o&&d>1?d-1:d],_=0,S=k[0]/w[0],T=k[1]/w[1],E=0;E<v;E++)for(var C=0;C<f;C++){var O=void 0;O=s?S*(C+.5)-.5:S*C;for(var A=Math.max(0,Math.floor(O)),I=O-A,R=Math.min(m-1,Math.ceil(O)),N=E*c[0]+A*c[1],P=E*c[0]+R*c[1],M=0;M<d;M++){var D=void 0;D=s?T*(M+.5)-.5:T*M;for(var L=Math.max(0,Math.floor(D)),j=D-L,F=Math.min(g-1,Math.ceil(D)),Z=N+L*c[2],B=P+L*c[2],U=N+F*c[2],V=P+F*c[2],z=0;z<y;z++){var W=b[Z+z],H=b[B+z],G=W+(b[U+z]-W)*j,q=G+(H+(b[V+z]-H)*j-G)*I;x[_++]=q}}}return n.makeTensorInfo([v,f,d,y],"float32",x)}};var Cr={kernelName:i.ResizeBilinearGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=t.dy,s=r.alignCorners;(0,h.H)([o,a],"resizeBilinearGrad");for(var u=i.util.computeStrides(a.shape),c=(0,ge.Z)(a.shape,4),l=c[0],f=c[1],d=c[2],p=c[3],v=(0,ge.Z)(o.shape,3),m=v[1],g=v[2],y=new Float32Array(l*f*d*p),b=[s&&m>1?f-1:f,s&&g>1?d-1:d],x=[s&&m>1?m-1:m,s&&g>1?g-1:g],k=b[0]/x[0],w=b[1]/x[1],_=n.data.get(o.dataId).values,S=0,T=0;T<l;T++)for(var E=T*u[0],C=0;C<m;C++)for(var O=C*k,A=Math.floor(O),I=Math.min(Math.ceil(O),f-1),R=E+A*u[1],N=E+I*u[1],P=O-A,M=1-P,D=0;D<g;D++)for(var L=D*w,j=Math.floor(L),F=Math.min(Math.ceil(L),d-1),Z=L-j,B=1-Z,U=R+j*u[2],V=R+F*u[2],z=N+j*u[2],W=N+F*u[2],H=M*B,G=M*Z,q=P*B,K=P*Z,Y=0;Y<p;Y++){var X=_[S++];y[U+Y]+=X*H,y[V+Y]+=X*G,y[z+Y]+=X*q,y[W+Y]+=X*K}return n.makeTensorInfo([l,d,f,p],"float32",y)}};var Or={kernelName:i.ResizeNearestNeighbor,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=r.alignCorners,s=r.halfPixelCenters,u=r.size;(0,h.H)(a,"resizeNearestNeighbor");for(var c=i.util.computeStrides(a.shape),l=(0,ge.Z)(u,2),f=l[0],d=l[1],p=(0,ge.Z)(a.shape,4),v=p[0],m=p[1],g=p[2],y=p[3],b=n.data.get(a.dataId).values,x=new Float32Array(v*f*d*y),k=[o&&f>1?m-1:m,o&&d>1?g-1:g],w=[o&&f>1?f-1:f,o&&d>1?d-1:d],_=k[0]/w[0],S=k[1]/w[1],T=0,E=0;E<v;E++)for(var C=E*c[0],O=0;O<f;O++){var A=s?_*(O+.5):_*O,I=Math.min(m-1,o?Math.round(A):Math.floor(A));s&&(I=Math.max(0,I));for(var R=C+I*c[1],N=0;N<d;N++){var P=s?S*(N+.5):S*N,M=Math.min(g-1,o?Math.round(P):Math.floor(P));s&&(M=Math.max(0,M));for(var D=R+M*c[2],L=0;L<y;L++){var j=b[D+L];x[T++]=j}}}return n.makeTensorInfo([v,f,d,y],a.dtype,x)}};var Ar={kernelName:i.ResizeNearestNeighborGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=t.dy,s=r.alignCorners;(0,h.H)([o,a],"resizeNearestNeighborGrad");for(var u=i.util.computeStrides(a.shape),c=i.util.computeStrides(o.shape),l=(0,ge.Z)(a.shape,4),f=l[0],d=l[1],p=l[2],v=l[3],m=(0,ge.Z)(o.shape,3),g=m[1],y=m[2],b=new Float32Array(f*d*p*v),x=n.data.get(o.dataId).values,k=[s&&g>1?d-1:d,s&&y>1?p-1:p],w=[s&&g>1?g-1:g,s&&y>1?y-1:y],_=k[0]/w[0],S=k[1]/w[1],T=1/_,E=1/S,C=2*Math.ceil(T)+2,O=2*Math.ceil(E)+2,A=0;A<f;A++)for(var I=A*u[0],R=0;R<d;R++)for(var N=I+R*u[1],P=Math.floor(R*T),M=Math.floor(P-C/2),D=0;D<p;D++)for(var L=N+D*u[2],j=Math.floor(D*E),F=Math.floor(j-O/2),Z=0;Z<v;Z++){for(var B=0,U=0;U<C;U++){var V=U+M;if(!(V<0||V>=g)){var z=I+V*c[1],W=V*_;if(R===Math.min(d-1,s?Math.round(W):Math.floor(W)))for(var H=0;H<O;H++){var G=H+F;if(!(G<0||G>=y)){var q=z+G*c[2],K=G*S;D===Math.min(p-1,s?Math.round(K):Math.floor(K))&&(B+=x[q+Z])}}}}b[L+Z]=B}return n.makeTensorInfo(a.shape,a.dtype,b)}};var Ir={kernelName:i.Reverse,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.dims;(0,h.H)(a,"reverse");var s=a.shape.length,u=i.util.parseAxisParam(o,a.shape);if(0===s)return(0,he.y)({inputs:{x:a},backend:n});for(var c=new i.TensorBuffer(a.shape,a.dtype),l=n.bufferSync(a),f=function(e){var t=c.indexToLoc(e),n=t.slice();u.forEach((function(e){return n[e]=a.shape[e]-1-n[e]})),c.set.apply(c,[l.get.apply(l,(0,Zt.Z)(n))].concat((0,Zt.Z)(t)))},d=0;d<c.size;d++)f(d);return n.makeTensorInfo(c.shape,c.dtype,c.values)}},Rr={kernelName:i.RotateWithOffset,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,o=n.radians,s=n.fillValue,u=n.center,c=r,l=i.util.getTypedArrayFromDType(a.dtype,i.util.sizeFromShape(a.shape)),f=(0,ge.Z)(a.shape,4),d=f[0],p=f[1],h=f[2],v=f[3],m=i.backend_util.getImageCenter(u,p,h),g=(0,ge.Z)(m,2),y=g[0],b=g[1],x=Math.sin(o),k=Math.cos(o),w=c.data.get(a.dataId).values,_=0;_<d;_++)for(var S=_*h*p*v,T=0;T<p;T++)for(var E=T*(h*v),C=0;C<h;C++)for(var O=C*v,A=0;A<v;A++){var I=[d,T,C,A],R=I[2],N=I[1],P=(R-y)*k-(N-b)*x,M=(R-y)*x+(N-b)*k;P=Math.round(P+y),M=Math.round(M+b);var D=s;if("number"!==typeof s&&(D=3===A?255:s[A]),P>=0&&P<h&&M>=0&&M<p)D=w[S+M*(h*v)+P*v+A];l[S+E+O+A]=D}return{dataId:c.write(l,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},Nr=(0,fe.A)(i.Round,(function(e){var t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1})),Pr={kernelName:i.Round,backendName:"cpu",kernelFunc:Nr};var Mr={kernelName:i.ScatterNd,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,o=t.updates,s=r.shape,u=i.backend_util.calculateShapes(o,a,s),c=u.sliceRank,l=u.numUpdates,f=u.sliceSize,d=u.strides,p=u.outputSize,h=n.bufferSync(a),v=n.bufferSync(o),m=(0,z.N)(h,v,s,p,f,l,c,d,0,!0);return n.makeTensorInfo(s,m.dtype,m.values)}};function Dr(e,t){for(var n=0,r=e.length,i=0;n<r;)e[i=Math.floor((n+r)/2)]<t?n=i+1:r=i;return r}function Lr(e,t){for(var n=0,r=e.length,i=0;n<r;)e[i=Math.floor((n+r)/2)]<=t?n=i+1:r=i;return r}var jr={kernelName:i.SearchSorted,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sortedSequence,o=t.values,s=r.side,u=function(e,t,n,r,a,o){for(var s=i.util.getArrayFromDType("int32",n*a),u=0;u<n;++u)for(var c=e.slice(u*r,(u+1)*r),l=u*a,f=0;f<a;++f)s[l+f]="left"===o?Dr(c,t[f+l]):Lr(c,t[f+l]);return s}(n.data.get(a.dataId).values,n.data.get(o.dataId).values,a.shape[0],a.shape[1],o.shape[1],s);return n.makeTensorInfo(o.shape,"int32",u)}};var Fr={kernelName:i.Select,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,a=t.t,o=t.e;(0,h.H)([r,a,o],"select");for(var s=r.shape.length,u=n.data.get(r.dataId).values,c=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values,f=(0,i.upcastType)(a.dtype,o.dtype),d=i.util.makeZerosTypedArray(i.util.sizeFromShape(a.shape),f),p=0,v=0===s||s>1||1===a.shape.length?1:i.util.sizeFromShape(a.shape.slice(1)),m=0;m<u.length;m++)for(var g=0;g<v;g++)1===u[m]?d[p++]=c[m]:d[p++]=l[m];return n.makeTensorInfo(a.shape,f,d)}},Zr=i.backend_util.SELU_SCALEALPHA,Br=i.backend_util.SELU_SCALE,Ur=(0,fe.A)(i.Selu,(function(e){return e>=0?Br*e:Zr*(Math.exp(e)-1)})),Vr={kernelName:i.Selu,backendName:"cpu",kernelFunc:Ur},zr=(0,fe.A)(i.Sign,(function(e){return e<0?-1:e>0?1:0})),Wr={kernelName:i.Sign,backendName:"cpu",kernelFunc:zr},Hr=(0,fe.A)(i.Sin,(function(e){return Math.sin(e)})),Gr={kernelName:i.Sin,backendName:"cpu",kernelFunc:Hr},qr=(0,fe.A)(i.Sinh,(function(e){return Math.sinh(e)})),Kr={kernelName:i.Sinh,backendName:"cpu",kernelFunc:qr},Yr=Math.log(1.1920928955078125e-7)+2,Xr=(0,fe.A)(i.Softplus,(function(e){var t=e>-Yr,n=e<Yr,r=Math.exp(e);return n?r:t?e:Math.log(1+r)})),Qr={kernelName:i.Softplus,backendName:"cpu",kernelFunc:Xr};var Jr={kernelName:i.SpaceToBatchND,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockShape,s=r.paddings;(0,h.H)([a],"spaceToBatchND");var u=i.util.sizeFromShape(o),c=[[0,0]];c.push.apply(c,(0,Zt.Z)(s));for(var l=1+o.length;l<a.shape.length;++l)c.push([0,0]);var f=br.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:c,constantValue:0}}),d=i.backend_util.getReshaped(f.shape,o,u,!1),p=i.backend_util.getPermuted(d.length,o.length,!1),v=i.backend_util.getReshapedPermuted(f.shape,o,u,!1),m=Ee({inputs:{x:f},backend:n,attrs:{shape:d}}),g={x:m},y={perm:p},b=(0,Le.p)({inputs:g,backend:n,attrs:y}),x=Ee({inputs:{x:b},backend:n,attrs:{shape:v}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(b),x}};var $r={kernelName:i.SparseFillEmptyRows,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,i=t.values,a=t.denseShape,o=t.defaultValue;if(1!==a.shape.length)throw new Error("Dense shape must be a vector, saw:\n        ".concat(a.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n        ".concat(r.shape));if(1!==i.shape.length)throw new Error("Values must be a vector, saw:\n        ".concat(i.shape));if(0!==o.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(o.shape));var s=n.data.get(r.dataId).values,u=n.data.get(i.dataId).values,c=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values[0],f=(0,G.c)(s,r.shape,r.dtype,u,i.dtype,c,l),d=(0,ge.Z)(f,5),p=d[0],h=d[1],v=d[2],m=d[3],g=d[4];return[n.makeTensorInfo(h,r.dtype,p),n.makeTensorInfo([h[0]],i.dtype,v),n.makeTensorInfo([m.length],"bool",new Uint8Array(m.map((function(e){return Number(e)})))),n.makeTensorInfo([g.length],r.dtype,new Int32Array(g))]}};var ei={kernelName:i.SparseReshape,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,i=t.inputShape,a=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(r.shape));if(1!==i.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(i.shape));if(1!==a.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(a.shape));var o=Array.from(n.data.get(i.dataId).values),s=n.data.get(r.dataId).values,u=Array.from(n.data.get(a.dataId).values),c=(0,q.U)(s,r.shape,r.dtype,o,u),l=(0,ge.Z)(c,3),f=l[0],d=l[1],p=l[2];return[n.makeTensorInfo(d,r.dtype,f),n.makeTensorInfo([p.length],a.dtype,new Int32Array(p))]}};var ti={kernelName:i.SparseSegmentMean,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,i=t.indices,a=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n          ".concat(i.shape));if(1!==a.shape.length)throw new Error("Segment ids should be a vector but received shape\n          ".concat(a.shape));if(i.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");var o=n.data.get(r.dataId).values,s=n.data.get(i.dataId).values,u=n.data.get(a.dataId).values,c=(0,K.V)(o,r.shape,r.dtype,s,u,!0),l=(0,ge.Z)(c,2),f=l[0],d=l[1];return n.makeTensorInfo(d,r.dtype,f)}};var ni={kernelName:i.SparseSegmentSum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,i=t.indices,a=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n         ".concat(i.shape));if(1!==a.shape.length)throw new Error("Segment ids should be a vector but received shape\n         ".concat(a.shape));if(i.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");var o=n.data.get(r.dataId).values,s=n.data.get(i.dataId).values,u=n.data.get(a.dataId).values,c=(0,K.V)(o,r.shape,r.dtype,s,u),l=(0,ge.Z)(c,2),f=l[0],d=l[1];return n.makeTensorInfo(d,r.dtype,f)}};var ri={kernelName:i.SparseToDense,backendName:"cpu",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.sparseIndices,s=n.sparseValues,u=n.defaultValue,c=a.outputShape,l=i.backend_util.calculateShapes(s,o,c),f=l.sliceRank,d=l.numUpdates,p=l.sliceSize,h=l.strides,v=l.outputSize,m=!1,g=r.bufferSync(o);switch(s.dtype){case"bool":var y=r.bufferSync(s),b=Boolean(r.data.get(u.dataId).values[0]);t=(0,z.N)(g,y,c,v,p,d,f,h,b,m);break;case"float32":var x=r.bufferSync(s),k=r.data.get(u.dataId).values[0];t=(0,z.N)(g,x,c,v,p,d,f,h,k,m);break;case"int32":var w=r.bufferSync(s),_=r.data.get(u.dataId).values[0];t=(0,z.N)(g,w,c,v,p,d,f,h,_,m);break;case"string":var S=r.bufferSync(s),T=i.util.decodeString(r.data.get(u.dataId).values[0]);t=(0,z.N)(g,S,c,v,p,d,f,h,T,m);break;default:throw new Error("Unsupported type ".concat(s.dtype))}return r.makeTensorInfo(c,t.dtype,t.values)}};var ii={kernelName:i.SplitV,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.numOrSizeSplits,s=r.axis,u=i.util.parseAxisParam(s,a.shape)[0],c=i.backend_util.prepareSplitSize(a,o,u),l=new Array(a.shape.length).fill(0),f=a.shape.slice();return c.map((function(e){var t=(0,Zt.Z)(f);t[u]=e;var r=(0,H.tP)({inputs:{x:a},backend:n,attrs:{begin:l,size:t}});return l[u]+=e,r}))}},ai={kernelName:i.Square,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=n;(0,h.H)(r,"square");for(var a=i.data.get(r.dataId).values,o=new Float32Array(a.length),s=0;s<a.length;++s){var u=a[s];o[s]=u*u}return{dataId:i.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},oi=(0,fe.A)(i.Step,(function(e,t){var n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),si={kernelName:i.Step,backendName:"cpu",kernelFunc:oi};var ui={kernelName:i.StridedSlice,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.begin,s=r.end,u=r.strides,c=r.beginMask,l=r.endMask,f=r.ellipsisMask,d=r.newAxisMask,p=r.shrinkAxisMask;(0,h.H)(a,"stridedSlice");var v,m=i.slice_util.sliceInfo(a.shape,o,s,u,c,l,f,d,p),g=m.finalShapeSparse,y=m.finalShape,b=m.isIdentity,x=m.sliceDim0,k=m.isSimpleSlice,w=m.begin,_=m.end,S=m.strides;if(b)v=Ee({inputs:{x:a},backend:n,attrs:{shape:y}});else if(x||k){i.util.assert(a.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(a.shape.length)}));var T=i.slice_util.computeOutShape(w,_,S),E=(0,H.tP)({inputs:{x:a},backend:n,attrs:{begin:w,size:T}});v=Ee({inputs:{x:E},backend:n,attrs:{shape:y}}),n.disposeIntermediateTensorInfo(E)}else{var C=n.bufferSync(a),O=(0,te.t)(g,C,S,w);v=n.makeTensorInfo(y,O.dtype,O.values)}return v}};var ci={kernelName:i.StringNGrams,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=r.separator,a=r.nGramWidths,o=r.leftPad,s=r.rightPad,u=r.padWidth,c=r.preserveShortSequences,l=t.data,f=t.dataSplits,d=n.data.get(l.dataId).values,p=n.data.get(f.dataId).values,h=(0,ne.A)(d,p,i,a,o,s,u,c),v=(0,ge.Z)(h,2),m=v[0],g=v[1];return[n.makeTensorInfo([m.length],"string",m),n.makeTensorInfo(f.shape,"int32",g)]}};var li={kernelName:i.StringSplit,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,i=t.input,a=t.delimiter;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(1!==i.shape.length)throw new Error("Input must be a vector, got shape: ".concat(i.shape));if(0!==a.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(a.shape));var o=n.data.get(i.dataId).values,s=n.data.get(a.dataId).values[0],u=(0,re.Q)(o,s,r),c=(0,ge.Z)(u,3),l=c[0],f=c[1],d=c[2],p=f.length;return[n.makeTensorInfo([p,2],"int32",l),n.makeTensorInfo([p],"string",f),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};var fi={kernelName:i.StringToHashBucketFast,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,i=t.input;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var a=n.data.get(i.dataId).values,o=(0,ie.h)(a,r);return n.makeTensorInfo(i.shape,"int32",o)}},di=(0,fe.A)(i.Tan,(function(e){return Math.tan(e)})),pi={kernelName:i.Tan,backendName:"cpu",kernelFunc:di},hi=(0,fe.A)(i.Tanh,(function(e){return Math.tanh(e)})),vi={kernelName:i.Tanh,backendName:"cpu",kernelFunc:hi};var mi={kernelName:i.Tile,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.reps;(0,h.H)(i,"tile");var o=(0,oe.R)(n.bufferSync(i),a);return n.makeTensorInfo(o.shape,o.dtype,o.values)}};var gi={kernelName:i.TopK,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.k,o=r.sorted;(0,h.H)(i,"topk");var s=n.data.get(i.dataId).values,u=(0,se.W)(s,i.shape,i.dtype,a,o),c=(0,ge.Z)(u,2),l=c[0],f=c[1];return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(f.shape,f.dtype,f.values)]}};var yi={kernelName:i.Transform,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,o=t.transforms,s=n.interpolation,u=n.fillMode,c=n.fillValue,l=n.outputShape,f=(0,ge.Z)(a.shape,4),d=f[0],p=f[1],h=f[2],v=f[3],m=null!=l?l:[p,h],g=(0,ge.Z)(m,2),y=g[0],b=g[1],x=[d,y,b,v],k=i.util.computeStrides(a.shape),w=k[0],_=k[1],S=k[2],T=i.util.getTypedArrayFromDType(a.dtype,i.util.sizeFromShape(x));T.fill(c);for(var E=r.data.get(a.dataId).values,C=r.data.get(o.dataId).values,O=0;O<d;++O){for(var A=1===o.shape[0]?C:C.subarray(8*O,8*O+8),I=0;I<y;++I)for(var R=0;R<b;++R)for(var N=0;N<v;++N){var P=void 0,M=A[6]*R+A[7]*I+1;if(0!==M){var D=(A[0]*R+A[1]*I+A[2])/M,L=(A[3]*R+A[4]*I+A[5])/M,j=bi(D,h,u),F=bi(L,p,u);switch(s){case"nearest":P=ki(E,p,h,w,_,S,O,F,j,N,c);break;case"bilinear":P=wi(E,p,h,w,_,S,O,F,j,N,c);break;default:throw new Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(s))}T[O*w+I*_+R*S+N]=P}}return r.makeTensorInfo(x,a.dtype,T)}return{dataId:r.write(T,x,a.dtype),shape:a.shape,dtype:a.dtype}}};function bi(e,t,n){switch(n){case"reflect":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=2*t;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-t?n+r:-n-1}else if(n>t-1)if(t<=1)n=0;else{var a=2*t;(n-=a*Math.trunc(n/a))>=t&&(n=a-n-1)}return i.util.clamp(0,n,t-1)}(e,t);case"wrap":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=t-1;n+=t*(Math.trunc(-n/r)+1)}else if(n>t-1)if(t<=1)n=0;else{var a=t-1;n-=t*Math.trunc(n/a)}return i.util.clamp(0,n,t-1)}(e,t);case"nearest":return function(e,t){return i.util.clamp(0,e,t-1)}(e,t);default:return function(e,t){return e}(e)}}function xi(e,t,n,r,i,a,o,s,u,c,l){return 0<=s&&s<t&&0<=u&&u<n?e[o*r+s*i+u*a+c]:l}function ki(e,t,n,r,i,a,o,s,u,c,l){return xi(e,t,n,r,i,a,o,Math.round(s),Math.round(u),c,l)}function wi(e,t,n,r,i,a,o,s,u,c,l){var f=Math.floor(s),d=Math.floor(u),p=f+1,h=d+1;return(p-s)*((h-u)*xi(e,t,n,r,i,a,o,f,d,c,l)+(u-d)*xi(e,t,n,r,i,a,o,f,h,c,l))+(s-f)*((h-u)*xi(e,t,n,r,i,a,o,p,d,c,l)+(u-d)*xi(e,t,n,r,i,a,o,p,h,c,l))}var _i={kernelName:i.Unique,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=n.axis,a=t.x;(0,h.H)(a,"unique");var o=r.data.get(a.dataId).values,s=(0,ce.S)(o,i,a.shape,a.dtype),u=s.outputValues,c=s.outputShape,l=s.indices;return[r.makeTensorInfo(c,a.dtype,u),r.makeTensorInfo([l.length],"int32",l)]}};var Si={kernelName:i.Unpack,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.value,a=r.axis;a<0&&(a+=i.shape.length);for(var o=i.shape.length,s=i.shape[a],u=new Array(o-1),c=0,l=0;l<o;l++)l!==a&&(u[c++]=i.shape[l]);var f=new Array(o).fill(0),d=i.shape.slice();d[a]=1;for(var p=new Array(s),h=0;h<p.length;h++){f[a]=h;var v=(0,H.tP)({inputs:{x:i},backend:n,attrs:{begin:f,size:d}});p[h]=Ee({inputs:{x:v},backend:n,attrs:{shape:u}}),n.disposeIntermediateTensorInfo(v)}return p}};for(var Ti={kernelName:i.UnsortedSegmentSum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.segmentIds,s=r.numSegments;(0,h.H)(a,"unsortedSegmentSum");for(var u=[],c=[],l=a.shape.length-o.shape.length,f=o,d=0;d<l;++d){var p=an({inputs:{input:f},backend:n,attrs:{dim:d+1}});f=p,c.push(p)}for(var v=0;v<s;++v){var m=i.util.createScalarValue(v,"int32"),g=n.makeTensorInfo([],"int32",m),y=(0,w.Dg)({inputs:{a:g,b:f},backend:n}),b=(0,ct.p)({inputs:{x:y},backend:n,attrs:{dtype:"float32"}}),x=(0,j.Jp)({inputs:{a:b,b:a},backend:n}),k=Gt({inputs:{x:x},backend:n,attrs:{axis:0,keepDims:!1}});u.push(k),c.push(g),c.push(y),c.push(b),c.push(x),c.push(k)}var _=gr({inputs:u,backend:n,attrs:{axis:0}});return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),_}},Ei=0,Ci=[Ie,g.fC,Ne,Me,y.j4,De,je,Fe,Ze,Be,Ve,We,Ge,Ye,Qe,tt,nt,rt,it,Ae,at,ot,st,ut,ct.M,x.y2,ft,dt.z,pt,yt,xt,kt,wt,_t,St,Tt,Ct,At,It,Rt,Nt,Pt,Mt,Lt,jt,Ft,Bt,Ut,Vt,zt,Kt,pe,Yt,w.Kx,rn,_.SX,on,S.Vu,pn,vn,mn,T.Ao,bn,xn,kn,wn,_n,O.Ce,A.V,he.I,Sn,vt,En,On,In,me,I.zh,R.m3,Rn,P.xM,Pn,Ln,Fn,Un,Vn,zn,Hn,D.eJ,Gn,qn,Kn,Yn,Xn,Qn,Jn,L.u0,$n,nr,or,j.f$,F.AF,ur,lr,dr,Z.nP,pr,mr,yr,br,wr,xe,B.Iz,_r,mt.O,cn,Tr,we,Se,Ce,Er,Cr,Or,Ar,Ir,Rr,Pr,V.FY,Mr,jr,Fr,Vr,W.BP,Wr,Gr,Kr,H.C6,ar,Qr,Jr,$r,ei,ti,ni,ri,ii,Y.cz,ai,ee,si,ui,ci,li,fi,ae.GR,qt,pi,vi,mi,gi,yi,Le.b,_i,Si,Ti,vr];Ei<Ci.length;Ei++){var Oi=Ci[Ei];(0,i.registerKernel)(Oi)}},96220:function(e,t,n){"use strict";n.d(t,{bk:function(){return a},fC:function(){return o}});var r=n(87105),i=n(23193);function a(e){for(var t=new Float32Array(e.length),n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}var o={kernelName:r.Abs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs.x,n=e.backend;(0,i.H)(t,"abs");var o=new Float32Array(r.util.sizeFromShape(t.shape));return o=a(n.data.get(t.dataId).values),n.makeOutput(o,t.shape,t.dtype)}}},25589:function(e,t,n){"use strict";n.d(t,{EH:function(){return o},IH:function(){return u},j4:function(){return c}});var r=n(87105),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e+t})),s=(0,a.H)((function(e,t,n,r){return{real:e+n,imag:t+r}})),u=(0,a.j)(r.Add,o,s),c={kernelName:r.Add,backendName:"cpu",kernelFunc:u}},73737:function(e,t,n){"use strict";n.d(t,{W:function(){return i},i:function(){return a}});var r=n(87105);function i(e,t,n,i,a){for(var o=r.util.sizeFromShape(i),s=r.util.makeZerosTypedArray(a,n),u=0;u<e.length;u++){var c=e[u];if(c<0)throw new Error("Input x must be non-negative!");c>=a||(s[c]+=o>0?t[u]:1)}return s}function a(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.shape[0],o=e.shape[1],s=(0,r.buffer)([a,n],t.dtype),u=0;u<a;u++)for(var c=0;c<o;c++){var l=e.get(u,c);if(l<0)throw new Error("Input x must be non-negative!");l>=n||(i?s.set(1,u,l):t.size>0?s.set(s.get(u,l)+t.get(u,c),u,l):s.set(s.get(u,l)+1,u,l))}return s}},60570:function(e,t,n){"use strict";n.d(t,{M:function(){return f},p:function(){return l}});var r=n(29439),i=n(87105),a=n(69341),o=n(94842),s=n(36545),u=n(59090),c=n(36241);function l(e){var t=e.inputs,n=e.backend,f=e.attrs,d=t.x,p=f.dtype;if("complex64"===p){if("complex64"===d.dtype)return(0,u.y)({inputs:{x:d},backend:n});var h=(0,o.l)(n,d.shape,d.dtype),v=l({inputs:{x:d},backend:n,attrs:{dtype:"float32"}}),m=(0,s.P)({inputs:{real:v,imag:h},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(v),m}if("complex64"===d.dtype){var g=(0,c.k)({inputs:{input:d},backend:n}),y=l({inputs:{x:g},backend:n,attrs:{dtype:p}});return n.disposeIntermediateTensorInfo(g),y}if(!i.util.hasEncodingLoss(d.dtype,p)){var b=(0,u.y)({inputs:{x:d},backend:n});return{dataId:b.dataId,shape:b.shape,dtype:p}}if("int32"===p){var x=n.data.get(d.dataId).values,k=Int32Array.from(x);return n.makeTensorInfo(d.shape,"int32",k)}if("bool"===p){var w=n.data.get(d.dataId).values,_=i.util.toTypedArray([0],d.dtype),S=(0,a.b)((function(e,t){return e!==t?1:0}))(d.shape,[],w,_,"bool"),T=(0,r.Z)(S,2),E=T[0],C=T[1];return n.makeTensorInfo(C,"bool",E)}throw new Error("Error in Cast: failed to cast ".concat(d.dtype," to ").concat(p))}var f={kernelName:i.Cast,backendName:"cpu",kernelFunc:l}},94351:function(e,t,n){"use strict";n.d(t,{__:function(){return o},y2:function(){return u}});var r=n(87105),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.ceil(e)})),s=(0,a.O)(r.Ceil,o),u={kernelName:r.Ceil,backendName:"cpu",kernelFunc:s}},36545:function(e,t,n){"use strict";function r(e){var t=e.inputs,n=e.backend,r=t.real,i=t.imag,a=n.data.get(r.dataId).values,o=n.data.get(i.dataId).values,s=n.makeTensorInfo(r.shape,"complex64");return n.data.get(s.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",a),imag:n.makeTensorInfo(i.shape,"float32",o)},s}n.d(t,{P:function(){return r},z:function(){return i}});var i={kernelName:n(87105).Complex,backendName:"cpu",kernelFunc:r}},46563:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});var r=n(87105);function i(e,t,n,i){var a=r.util.getArrayFromDType(n,r.util.sizeFromShape(t));if(i&&"string"!==n){var o=0;e.forEach((function(e){var t=r.util.sizeFromShape(e.shape);a.set(e.vals,o),o+=t}))}else{var s=0;e.forEach((function(e){for(var i="string"===n?r.backend_util.fromUint8ToStringArray(e.vals):e.vals,o=0,u=0;u<e.shape[0];++u)for(var c=u*t[1]+s,l=0;l<e.shape[1];++l)a[c+l]=i[o++];s+=e.shape[1]}))}return a}},68116:function(e,t,n){"use strict";n.d(t,{Dg:function(){return s},Kx:function(){return u},tW:function(){return o}});var r=n(87105),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e===t?1:0})),s=(0,a.j)(r.Equal,o,null,"bool"),u={kernelName:r.Equal,backendName:"cpu",kernelFunc:s}},66880:function(e,t,n){"use strict";n.d(t,{Qq:function(){return s},Ro:function(){return o},SX:function(){return u}});var r=n(87105),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.exp(e)})),s=(0,a.O)(r.Exp,o,"float32"),u={kernelName:r.Exp,backendName:"cpu",kernelFunc:s}},21354:function(e,t,n){"use strict";n.d(t,{OF:function(){return o},Vu:function(){return u}});var r=n(87105),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.expm1(e)})),s=(0,a.O)(r.Expm1,o),u={kernelName:r.Expm1,backendName:"cpu",kernelFunc:s}},97224:function(e,t,n){"use strict";n.d(t,{Ao:function(){return u},r6:function(){return o}});var r=n(87105),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.floor(e)})),s=(0,a.O)(r.Floor,o),u={kernelName:r.Floor,backendName:"cpu",kernelFunc:s}},34351:function(e,t,n){"use strict";n.d(t,{m:function(){return a}});var r=n(93433),i=n(87105);function a(e,t,n,a,o,s,u,c,l){for(var f=(0,i.buffer)([a,s],n),d=0;d<a;d++){for(var p=[],h=0,v=0;v<o;v++){var m=e[d*o+v];h+=m*u[v],p.push(m)}if(h<0||h>=l/s)throw new Error("Invalid indices: ".concat(p," does not index into ").concat(c));for(var g=0;g<s;g++)f.values[d*s+g]=t.get.apply(t,(0,r.Z)(t.indexToLoc(h*s+g)))}return f}},82666:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});var r=n(87105);function i(e,t,n){for(var i=(0,r.buffer)(n,e.dtype),a=0;a<i.size;++a){var o=i.indexToLoc(a).slice(),s=o[0],u=o[2],c=t.locToIndex([s,u]);o[2]=t.values[c];var l=e.locToIndex(o);0<=l&&l<e.values.length&&(i.values[a]=e.values[l])}return i}},69075:function(e,t,n){"use strict";n.d(t,{Ce:function(){return u},o:function(){return o}});var r=n(87105),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e>t?1:0})),s=(0,a.j)(r.Greater,o,null,"bool"),u={kernelName:r.Greater,backendName:"cpu",kernelFunc:s}},26985:function(e,t,n){"use strict";n.d(t,{HL:function(){return o},V:function(){return u}});var r=n(87105),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e>=t?1:0})),s=(0,a.j)(r.GreaterEqual,o,null,"bool"),u={kernelName:r.GreaterEqual,backendName:"cpu",kernelFunc:s}},59090:function(e,t,n){"use strict";function r(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}n.d(t,{I:function(){return i},y:function(){return r}});var i={kernelName:n(87105).Identity,backendName:"cpu",kernelFunc:r}},39813:function(e,t,n){"use strict";n.d(t,{rO:function(){return o},zh:function(){return u}});var r=n(87105),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e<t?1:0})),s=(0,a.j)(r.Less,o,null,"bool"),u={kernelName:r.Less,backendName:"cpu",kernelFunc:s}},18734:function(e,t,n){"use strict";n.d(t,{lx:function(){return o},m3:function(){return u}});var r=n(87105),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e<=t?1:0})),s=(0,a.j)(r.LessEqual,o,null,"bool"),u={kernelName:r.LessEqual,backendName:"cpu",kernelFunc:s}},21491:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var r=n(87105);function i(e,t,n){var i=(t-e)/(n-1),a=r.util.makeZerosTypedArray(n,"float32");a[0]=e;for(var o=1;o<a.length;o++)a[o]=a[o-1]+i;return a}},68298:function(e,t,n){"use strict";n.d(t,{vX:function(){return o},xM:function(){return u}});var r=n(87105),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.log(e)})),s=(0,a.O)(r.Log,o),u={kernelName:r.Log,backendName:"cpu",kernelFunc:s}},4771:function(e,t,n){"use strict";n.d(t,{B:function(){return i}});var r=n(87105);function i(e,t,n,i){for(var a=r.util.getTypedArrayFromDType(i,r.util.sizeFromShape(n)),o=0;o<a.length;++o){for(var s=o*t,u=e[s],c=0;c<t;++c){var l=e[s+c];(Number.isNaN(l)||l>u)&&(u=l)}a[o]=u}return a}},89518:function(e,t,n){"use strict";n.d(t,{eJ:function(){return u},wS:function(){return o}});var r=n(87105),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return Math.max(e,t)})),s=(0,a.j)(r.Maximum,o),u={kernelName:r.Maximum,backendName:"cpu",kernelFunc:s}},38094:function(e,t,n){"use strict";n.d(t,{u0:function(){return u},vP:function(){return o}});var r=n(87105),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return Math.min(e,t)})),s=(0,a.j)(r.Minimum,o),u={kernelName:r.Minimum,backendName:"cpu",kernelFunc:s}},18244:function(e,t,n){"use strict";n.d(t,{$3:function(){return o},Jp:function(){return u},f$:function(){return c}});var r=n(87105),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e*t})),s=(0,a.H)((function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}})),u=(0,a.j)(r.Multiply,o,s),c={kernelName:r.Multiply,backendName:"cpu",kernelFunc:u}},54569:function(e,t,n){"use strict";n.d(t,{AF:function(){return u},uC:function(){return s}});var r=n(29439),i=n(87105),a=n(23193),o=n(18244);function s(e,t,n){var r=i.util.createScalarValue(-1,n);return(0,o.$3)([],t,r,e,n)}var u={kernelName:i.Neg,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,i=t.x;(0,a.H)(i,"neg");var o=s(n.data.get(i.dataId).values,i.shape,i.dtype),u=(0,r.Z)(o,2),c=u[0],l=u[1];return n.makeTensorInfo(l,i.dtype,c)}}},21566:function(e,t,n){"use strict";n.d(t,{Gj:function(){return o},nP:function(){return u}});var r=n(87105),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e!==t?1:0})),s=(0,a.j)(r.NotEqual,o,null,"bool"),u={kernelName:r.NotEqual,backendName:"cpu",kernelFunc:s}},89120:function(e,t,n){"use strict";n.d(t,{Iz:function(){return u},Qg:function(){return s}});var r=n(29439),i=n(87105),a=n(23193),o=n(65257);function s(e,t,n,a){for(var o=i.backend_util.computeOutAndReduceShapes(e,a),s=(0,r.Z)(o,2),u=s[0],c=s[1],l=(0,i.upcastType)(t,"int32"),f=i.util.makeZerosTypedArray(i.util.sizeFromShape(u),l),d=i.util.sizeFromShape(c),p=0;p<f.length;++p){for(var h=p*d,v=1,m=0;m<d;++m)v*=n[h+m];f[p]=v}return{outVals:f,outShape:u,outDtype:l}}var u={kernelName:i.Prod,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,u=t.x,c=r.axis,l=r.keepDims;(0,a.H)(u,"prod");var f=u.shape.length,d=i.util.parseAxisParam(c,u.shape),p=i.backend_util.getAxesPermutation(d,f),h=d,v=u,m=[];null!=p&&(v=(0,o.p)({inputs:{x:u},backend:n,attrs:{perm:p}}),m.push(v),h=i.backend_util.getInnerMostAxes(h.length,f));var g=n.data.get(v.dataId).values,y=s(v.shape,v.dtype,g,h),b=y.outVals,x=y.outShape,k=y.outDtype,w=x;return l&&(w=i.backend_util.expandShapeToKeepDim(x,d)),m.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(w,k,b)}}},66284:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var r=n(87105);function i(e,t,n,i){if(e===t||e<t&&n<0||t<e&&n>1)return r.util.makeZerosTypedArray(0,i);var a=Math.abs(Math.ceil((t-e)/n)),o=r.util.makeZerosTypedArray(a,i);t<e&&1===n&&(n=-1),o[0]=e;for(var s=1;s<o.length;s++)o[s]=o[s-1]+n;return o}},36241:function(e,t,n){"use strict";function r(e){var t=e.inputs,n=e.backend,r=t.input,i=n.data.get(r.dataId).complexTensorInfos.real,a=n.data.get(i.dataId).values;return n.makeTensorInfo(i.shape,i.dtype,a)}n.d(t,{O:function(){return i},k:function(){return r}});var i={kernelName:n(87105).Real,backendName:"cpu",kernelFunc:r}},78105:function(e,t,n){"use strict";n.d(t,{FY:function(){return u},zd:function(){return o}});var r=n(87105),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return 1/Math.sqrt(e)})),s=(0,a.O)(r.Rsqrt,o),u={kernelName:r.Rsqrt,backendName:"cpu",kernelFunc:s}},28567:function(e,t,n){"use strict";n.d(t,{N:function(){return i}});var r=n(87105);function i(e,t,n,i,a,o,s,u,c,l){var f=[i/a,a],d=e.values,p=t.values;if(0===i)return(0,r.buffer)(n,t.dtype);var h=(0,r.buffer)(f,t.dtype);"string"===typeof c||"number"===typeof c?h.values.fill(c):"boolean"===typeof c&&h.values.fill(+c);for(var v=0;v<o;v++){for(var m=[],g=0,y=0;y<s;y++){var b=d[v*s+y];m.push(b),g+=b*u[y]}if(g<0||g>=i/a)throw new Error("Invalid indices: ".concat(m," does not index into ").concat(n));for(var x=0;x<a;x++)l?h.values[g*a+x]+=p[v*a+x]:h.values[g*a+x]=0===t.rank?p[0]:p[v*a+x]}return h}},294:function(e,t,n){"use strict";n.d(t,{BP:function(){return u},VY:function(){return o},XD:function(){return s}});var r=n(87105),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return 1/(1+Math.exp(-e))})),s=(0,a.A)(r.Sigmoid,(function(e){return 1/(1+Math.exp(-e))})),u={kernelName:r.Sigmoid,backendName:"cpu",kernelFunc:s}},22126:function(e,t,n){"use strict";n.d(t,{C6:function(){return c},rT:function(){return s},tP:function(){return u}});var r=n(29439),i=n(93433),a=n(87105),o=n(23193);function s(e,t,n,r,o){var s=a.slice_util.isSliceContinous(r,t,n),u=a.util.sizeFromShape(n),c=a.util.computeStrides(r);if(s){var l=a.slice_util.computeFlatOffset(t,c);return"string"===o?e.slice(l,l+u):e.subarray(l,l+u)}for(var f="string"===o?a.backend_util.fromUint8ToStringArray(e):e,d=(0,a.buffer)(r,o,f),p=(0,a.buffer)(n,o),h=0;h<p.size;++h){var v=p.indexToLoc(h),m=v.map((function(e,n){return e+t[n]}));p.set.apply(p,[d.get.apply(d,(0,i.Z)(m))].concat((0,i.Z)(v)))}return"string"===o?a.backend_util.fromStringArrayToUint8(p.values):p.values}function u(e){var t=e.inputs,n=e.backend,i=e.attrs,u=t.x,c=i.begin,l=i.size;(0,o.H)(u,"slice");var f=a.slice_util.parseSliceParams(u,c,l),d=(0,r.Z)(f,2),p=d[0],h=d[1];a.slice_util.assertParamsValid(u,p,h);var v=s(n.data.get(u.dataId).values,p,h,u.shape,u.dtype);return n.makeTensorInfo(h,u.dtype,v)}var c={kernelName:a.Slice,backendName:"cpu",kernelFunc:u}},78337:function(e,t,n){"use strict";n.d(t,{c:function(){return i}});var r=n(87105);function i(e,t,n,i,a,o,s){var u=t[0],c=o[0],l=new Array(c),f=new Array(u),d=t[1];if(0===c){if(0!==u)throw new Error(r.backend_util.getSparseFillEmptyRowsIndicesDenseShapeMismatch(u));return[r.util.getArrayFromDType(n,0),[0,d],r.util.getArrayFromDType(a,0),l,f]}for(var p=!0,h=0,v=new Array(c).fill(0),m=0;m<u;++m){var g=e[m*d];if(g<0)throw new Error(r.backend_util.getSparseFillEmptyRowsNegativeIndexErrorMessage(m,g));if(g>=c)throw new Error(r.backend_util.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(m,g,c));++v[g],p=p&&g>=h,h=g}for(var y=!0,b=0;b<c;++b){var x=0===v[b];l[b]=x,y=y&&!x,v[b]=Math.max(v[b],1),b>0&&(v[b]+=v[b-1])}if(y&&p){for(var k=e,w=i,_=0;_<u;++_)f[_]=_;return[k,[u,d],w,l,f]}for(var S=v[c-1],T=r.util.getArrayFromDType(n,S*d),E=r.util.getArrayFromDType(a,S),C=new Array(c).fill(0),O=0;O<u;++O){var A=e[O*d],I=C[A],R=(0===A?0:v[A-1])+I;C[A]++;for(var N=0;N<d;++N)T[R*d+N]=e[O*d+N];E[R]=i[O],f[O]=R}for(var P=0;P<c;++P){if(0===C[P]){var M=0===P?0:v[P-1];T[M*d+0]=P;for(var D=1;D<d;++D)T[M*d+D]=0;E[M]=s}}return[T,[S,d],E,l,f]}},63634:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(87105);function i(e,t,n,i,a){for(var o=r.util.sizeFromShape(i),s=t[0],u=a.length,c=[],l=1,f=-1,d=0;d<u;++d){var p=a[d];if(-1===p){if(-1!==f)throw new Error(r.backend_util.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(f,d));f=d,c.push(1)}else{if(p<0)throw new Error(r.backend_util.getSparseReshapeNegativeOutputDimErrorMessage(d,p));l*=p,c.push(p)}}if(-1!==f){if(l<=0)throw new Error(r.backend_util.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage());var h=Math.trunc(o/l);if(l*h!==o)throw new Error(r.backend_util.getSparseReshapeInputOutputMultipleErrorMessage(i,c));c[f]=h}if(r.util.sizeFromShape(c)!==o)throw new Error(r.backend_util.getSparseReshapeInputOutputMismatchErrorMessage(i,c));var v=i.length,m=[];if(v>0){m[v-1]=1;for(var g=v-2;g>=0;--g)m[g]=m[g+1]*i[g+1]}var y=[];if(u>0){y[u-1]=1;for(var b=u-2;b>=0;--b)y[b]=y[b+1]*c[b+1]}for(var x=r.util.getArrayFromDType(n,s*u),k=0;k<s;++k){for(var w=0,_=0;_<v;++_)w+=e[k*v+_]*m[_];for(var S=0;S<u;++S)x[k*u+S]=Math.trunc(w/y[S]),w%=y[S]}return[x,[s,u],c]}},35440:function(e,t,n){"use strict";n.d(t,{V:function(){return i}});var r=n(87105);function i(e,t,n,i,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=i.length,c=[t[0],e.length/t[0]],l=c[1],f=u>0?a[u-1]+1:0,d=f;if(d<0)throw new Error(r.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());var p=t.slice();p[0]=d;var h=p.reduce((function(e,t){return e*t}),1),v=r.util.getArrayFromDType(n,h);if(0===u)return d>0&&v.fill(s),[v,p];if(d<=0)throw new Error(r.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());for(var m=0,g=1,y=0,b=a[m];;){var x=0;if(g<u){if(b===(x=a[g])){++g;continue}if(b>=x)throw new Error(r.backend_util.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage())}if(b<0||b>=d)throw new Error(r.backend_util.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(b,d));b>y&&v.fill(s,y*l,b*l);for(var k=m;k<g;++k){var w=i[k];if(w<0||w>=c[0])throw new Error(r.backend_util.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(k,i[k],c[0]));for(var _=0;_<l;_++)v[b*l+_]+=e[w*l+_]}if(o)for(var S=0;S<l;S++)v[b*l+S]/=g-m;if(m=g,y=b+1,b=x,++g>u)break}return y<d&&v.fill(s,y*l,d*l),[v,p]}},4165:function(e,t,n){"use strict";n.d(t,{cz:function(){return u},zT:function(){return o}});var r=n(87105),i=n(50422),a=n(91844),o=(0,i.a)((function(e){return Math.sqrt(e)})),s=(0,a.A)(r.Sqrt,(function(e){return Math.sqrt(e)})),u={kernelName:r.Sqrt,backendName:"cpu",kernelFunc:s}},47497:function(e,t,n){"use strict";n.d(t,{t:function(){return a}});var r=n(93433),i=n(87105);function a(e,t,n,a){for(var o=(0,i.buffer)(e,t.dtype),s=0;s<o.size;s++){for(var u=o.indexToLoc(s),c=new Array(u.length),l=0;l<c.length;l++)c[l]=u[l]*n[l]+a[l];o.set.apply(o,[t.get.apply(t,c)].concat((0,r.Z)(u)))}return o}},18294:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var r=n(15671),i=n(43144),a=n(87105),o=function(){function e(t,n,i,o,s,u){(0,r.Z)(this,e),this.separator=a.util.encodeString(t),this.nGramWidths=n,this.leftPad=a.util.encodeString(i),this.rightPad=a.util.encodeString(o),this.padWidth=s,this.preserveShort=u}return(0,i.Z)(e,[{key:"getPadWidth",value:function(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}},{key:"getNumNGrams",value:function(e,t){var n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}},{key:"createNGrams",value:function(e,t,n,r,i,a){for(var o=this,s=function(s){var u=o.getPadWidth(a),c=Math.max(0,u-s),l=Math.max(0,u-(i-(s+1))),f=a-(c+l),d=t+(c>0?0:s-u),p=0;p+=c*o.leftPad.length;for(var h=0;h<f;++h)p+=e[d+h].length;p+=l*o.rightPad.length,p+=(c+l+f-1)*o.separator.length,n[r+s]=new Uint8Array(p);for(var v=n[r+s],m=0,g=function(e){return e.forEach((function(e){return v[m++]=e}))},y=0;y<c;++y)g(o.leftPad),g(o.separator);for(var b=0;b<f-1;++b)g(e[d+b]),g(o.separator);if(f>0){g(e[d+f-1]);for(var x=0;x<l;++x)g(o.separator),g(o.rightPad)}else{for(var k=0;k<l-1;++k)g(o.rightPad),g(o.separator);g(o.rightPad)}},u=0;u<i;++u)s(u)}},{key:"compute",value:function(e,t){var n=this,r=e.length,i=t.length;if(i>0){var o=t[0];if(0!==o)throw new Error("First split value must be 0, got ".concat(o));for(var s=1;s<i;++s){var u=t[s]>=o;if(!(u=u&&t[s]<=r))throw new Error("Invalid split value ".concat(t[s],", must be in [").concat(o,", ").concat(r,"]"));o=t[s]}if(o!==r)throw new Error("Last split value must be data size. Expected ".concat(r,", got ").concat(o))}var c=i-1,l=a.util.getArrayFromDType("int32",i);if(0===r||0===i){for(var f=new Array(r),d=0;d<=c;++d)l[d]=0;return[f,l]}l[0]=0;for(var p=function(e){var r=t[e]-t[e-1],i=0;n.nGramWidths.forEach((function(e){i+=n.getNumNGrams(r,e)})),n.preserveShort&&r>0&&0===i&&(i=1),l[e]=l[e-1]+i},h=1;h<=c;++h)p(h);for(var v=new Array(l[c]),m=function(r){var i=t[r],a=l[r];if(n.nGramWidths.forEach((function(o){var s=t[r+1]-t[r],u=n.getNumNGrams(s,o);n.createNGrams(e,i,v,a,u,o),a+=u})),n.preserveShort&&a===l[r]){var o=t[r+1]-t[r];if(0===o)return"continue";var s=o+2*n.padWidth;n.createNGrams(e,i,v,a,1,s)}},g=0;g<c;++g)m(g);return[v,l]}}]),e}();function s(e,t,n,r,i,a,s,u){return new o(n,r,i,a,s,u).compute(e,t)}},60998:function(e,t,n){"use strict";n.d(t,{Q:function(){return a}});var r=n(87105);function i(e,t,n,r){if(e.length)if(0!==t.length)if(1!==t.length){for(var i=0,a=0;a<e.length+1;a++)if(a===e.length||-1!==t.indexOf(e[a])){var o=e.subarray(i,a);n&&0===o.length||r.push(o),i=a+1}}else{for(var s=t[0],u=e.indexOf(s);-1!==u;){var c=e.subarray(0,u);n&&0===c.length||r.push(c),u=(e=e.subarray(u+1)).indexOf(s)}n&&0===e.length||r.push(e)}else for(var l=0;l<e.length;++l)r.push(e.subarray(l,l+1))}function a(e,t,n){for(var a=e.length,o=[],s=0,u=0,c=new Array(a),l=0;l<a;++l){var f=o.length;i(e[l],t,n,o);var d=o.length-f;c[l]=d,s+=d,u=Math.max(u,d)}for(var p=r.util.getArrayFromDType("int32",2*s),h=new Array(s),v=[a,u],m=0,g=0;g<a;++g)for(var y=0;y<c[g];++y)p[2*m]=g,p[2*m+1]=y,h[m]=o[m],++m;return[p,h,v]}},71489:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});var r=n(87105);function i(e,t){for(var n=r.util.getArrayFromDType("int32",e.length),i=0;i<e.length;++i)n[i]=r.util.fingerPrint64(e[i]).modulo(t).getLowBitsUnsigned();return n}},51802:function(e,t,n){"use strict";n.d(t,{GR:function(){return c},VY:function(){return o},lu:function(){return u}});var r=n(87105),i=n(69341),a=n(69501),o=(0,i.b)((function(e,t){return e-t})),s=(0,a.H)((function(e,t,n,r){return{real:e-n,imag:t-r}})),u=(0,a.j)(r.Sub,o,s),c={kernelName:r.Sub,backendName:"cpu",kernelFunc:u}},57129:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(87105);function i(e,t){for(var n=new Array(e.rank),i=0;i<n.length;i++)n[i]=e.shape[i]*t[i];for(var a=(0,r.buffer)(n,e.dtype),o=0;o<a.values.length;++o){for(var s=a.indexToLoc(o),u=new Array(e.rank),c=0;c<u.length;c++)u[c]=s[c]%e.shape[c];var l=e.locToIndex(u);a.values[o]=e.values[l]}return a}},79516:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(87105),i=function(e,t){var n=t.value-e.value;return 0===n?e.index-t.index:n};function a(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;o>n;){if(o-n>600){var s=o-n+1,u=t-n+1,c=Math.log(s),l=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*l*(s-l)/s)*Math.sign(u-s/2),d=Math.max(n,Math.floor(t-u*l/s+f)),p=Math.min(o,Math.floor(t+(s-u)*l/s+f));a(e,t,d,p)}var h=e[t],v=n,m=o;for(r.util.swap(e,n,t),i(e[o],h)>0&&r.util.swap(e,n,o);v<m;){for(r.util.swap(e,v,m),v++,m--;i(e[v],h)<0;)v+=1;for(;i(e[m],h)>0;)m-=1}0===i(e[n],h)?r.util.swap(e,n,m):(m+=1,r.util.swap(e,m,o)),m<=t&&(n=m+1),t<=m&&(o=m-1)}}function o(e,t,n,o,s){for(var u=t[t.length-1],c=e.length/u,l=u,f=r.util.getTypedArrayFromDType(n,c*o),d=r.util.getTypedArrayFromDType("int32",c*o),p=function(t){var n=t*l,r=e.subarray(n,n+l),u=new Array(r.length);r.forEach((function(e,t){return u[t]={value:e,index:t}})),o<u.length&&(a(u,o),u=u.slice(0,o)),s&&u.sort(i);for(var c=t*o,p=f.subarray(c,c+o),h=d.subarray(c,c+o),v=0;v<o;v++)p[v]=u[v].value,h[v]=u[v].index},h=0;h<c;h++)p(h);var v=t.slice();return v[v.length-1]=o,[(0,r.buffer)(v,n,f),(0,r.buffer)(v,"int32",d)]}},65257:function(e,t,n){"use strict";n.d(t,{b:function(){return s},p:function(){return o}});var r=n(87105),i=n(23193),a=n(31103);function o(e){var t=e.inputs,n=e.attrs,r=e.backend,o=t.x,s=n.perm;(0,i.H)(o,"transpose");for(var u=o.shape.length,c=new Array(u),l=0;l<c.length;l++)c[l]=o.shape[s[l]];var f=r.data.get(o.dataId).values,d=(0,a.H)(f,o.shape,o.dtype,s,c);return{dataId:r.write(d,c,o.dtype),shape:c,dtype:o.dtype}}var s={kernelName:r.Transpose,backendName:"cpu",kernelFunc:o}},31103:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});var r=n(87105);function i(e,t,n,i,a){for(var o=t.length,s=r.util.sizeFromShape(t),u=r.util.computeStrides(t),c=r.util.computeStrides(a),l=r.util.getTypedArrayFromDType(n,r.util.sizeFromShape(a)),f=0;f<s;++f){for(var d=r.util.indexToLoc(f,o,u),p=new Array(d.length),h=0;h<p.length;h++)p[h]=d[i[h]];l[r.util.locToIndex(p,o,c)]=e[f]}return l}},24242:function(e,t,n){"use strict";n.d(t,{S:function(){return i}});var r=n(87105);function i(e,t,n,i){for(var a=r.util.parseAxisParam(t,n)[0],o=[1,n[0],1],s=0;s<a;s++)o[0]*=n[s];o[1]=n[a];for(var u=a+1;u<n.length;u++)o[2]*=n[u];for(var c={},l=new Int32Array(n[a]),f=new r.TensorBuffer(o,i,e),d=[],p=1===o[0]&&1===o[2],h=0;h<n[a];h++){var v=void 0;if(p)v=e[h].toString();else{for(var m=[],g=0;g<o[0];g++)for(var y=0;y<o[2];y++)m.push(f.get(g,h,y));v=m.join(",")}if(void 0!==c[v])l[h]=c[v];else{var b=Object.keys(c).length;c[v]=b,l[h]=b,d.push(h)}}var x=o.slice();x[1]=Object.keys(c).length;var k=new r.TensorBuffer(x,i);d.forEach((function(e,t){for(var n=0;n<o[0];n++)for(var r=0;r<o[2];r++)k.set(f.get(n,e,r),n,t,r)}));var w=n.slice();return w[a]=x[1],{outputValues:k.values,outputShape:w,indices:l}}},69341:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var r=n(87105);function i(e){return function(t,n,i,a,o){var s=r.backend_util.assertAndGetBroadcastShape(t,n),u=s.length,c=r.util.computeStrides(s),l=r.util.sizeFromShape(s),f=r.util.getTypedArrayFromDType(o,l),d=t.length,p=n.length,h=r.util.computeStrides(t),v=r.util.computeStrides(n),m=r.backend_util.getBroadcastDims(t,s),g=r.backend_util.getBroadcastDims(n,s);if(m.length+g.length===0)for(var y=0;y<f.length;++y)f[y]=e(i[y%i.length],a[y%a.length]);else for(var b=function(t){var n=r.util.indexToLoc(t,u,c),o=n.slice(-d);m.forEach((function(e){return o[e]=0}));var s=r.util.locToIndex(o,d,h),l=n.slice(-p);g.forEach((function(e){return l[e]=0}));var y=r.util.locToIndex(l,p,v);f[t]=e(i[s],a[y])},x=0;x<f.length;++x)b(x);return[f,s]}}},69501:function(e,t,n){"use strict";n.d(t,{H:function(){return c},j:function(){return u}});var r=n(29439),i=n(87105),a=n(23193),o=n(60570),s=n(36545);function u(e,t,n,u){return null==n?function(n){var o=n.inputs,s=n.backend,c=o.a,l=o.b,f=s;(0,a.H)([c,l],e);var d=f.data.get(c.dataId).values,p=f.data.get(l.dataId).values,h="string"===c.dtype?i.backend_util.fromUint8ToStringArray(d):d,v="string"===c.dtype?i.backend_util.fromUint8ToStringArray(p):p,m=u||c.dtype,g=t(c.shape,l.shape,h,v,m),y=(0,r.Z)(g,2),b=y[0],x=y[1];return f.makeTensorInfo(x,m,b)}:function(e){var i=e.inputs,a=e.backend,c=i.a,l=i.b,f=a;if("complex64"===c.dtype||"complex64"===l.dtype){var d=(0,o.p)({inputs:{x:c},backend:f,attrs:{dtype:"complex64"}}),p=f.data.get(d.dataId),h=p.complexTensorInfos.real,v=p.complexTensorInfos.imag,m=f.data.get(h.dataId).values,g=f.data.get(v.dataId).values,y=(0,o.p)({inputs:{x:l},backend:f,attrs:{dtype:"complex64"}}),b=f.data.get(y.dataId),x=b.complexTensorInfos.real,k=b.complexTensorInfos.imag,w=f.data.get(x.dataId).values,_=f.data.get(k.dataId).values,S=n(c.shape,l.shape,m,g,w,_),T=(0,r.Z)(S,3),E=T[0],C=T[1],O=T[2],A=f.makeTensorInfo(O,"float32",E),I=f.makeTensorInfo(O,"float32",C),R=(0,s.P)({inputs:{real:A,imag:I},backend:f});return f.disposeIntermediateTensorInfo(d),f.disposeIntermediateTensorInfo(y),f.disposeIntermediateTensorInfo(A),f.disposeIntermediateTensorInfo(I),R}var N=f.data.get(c.dataId).values,P=f.data.get(l.dataId).values,M=u||c.dtype,D=t(c.shape,l.shape,N,P,M),L=(0,r.Z)(D,2),j=L[0],F=L[1];return f.makeTensorInfo(F,M,j)}}function c(e){return function(t,n,r,a,o,s){var u=i.backend_util.assertAndGetBroadcastShape(t,n),c=i.util.sizeFromShape(u),l=u.length,f=i.util.computeStrides(u),d=i.util.getTypedArrayFromDType("float32",c),p=i.util.getTypedArrayFromDType("float32",c),h=i.backend_util.getBroadcastDims(t,u),v=i.backend_util.getBroadcastDims(n,u),m=i.backend_util.mergeRealAndImagArrays(r,a),g=i.backend_util.mergeRealAndImagArrays(o,s),y=t.length,b=i.util.computeStrides(t),x=n.length,k=i.util.computeStrides(n);if(h.length+v.length===0)for(var w=0;w<d.length;w++){var _=w%m.length,S=w%g.length,T=e(m[2*_],m[2*_+1],g[2*S],g[2*S+1]);d[w]=T.real,p[w]=T.imag}else for(var E=function(t){var n=i.util.indexToLoc(t,l,f),r=n.slice(-y);h.forEach((function(e){return r[e]=0}));var a=i.util.locToIndex(r,y,b),o=n.slice(-x);v.forEach((function(e){return o[e]=0}));var s=i.util.locToIndex(o,x,k),u=e(m[2*a],m[2*a+1],g[2*s],g[2*s+1]);d[t]=u.real,p[t]=u.imag},C=0;C<d.length;C++)E(C);return[d,p,u]}}},50422:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var r=n(87105);function i(e){return function(t,n,i){for(var a=r.util.getTypedArrayFromDType(n,t.length),o=0;o<t.length;++o)a[o]=e(t[o],i);return a}}},91844:function(e,t,n){"use strict";n.d(t,{A:function(){return a},O:function(){return o}});var r=n(87105),i=n(23193);function a(e,t,n){return function(a){var o=a.inputs,s=a.attrs,u=a.backend,c=o.x;if((0,i.H)(c,e),"string"===c.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");for(var l=u,f=l.data.get(c.dataId).values,d=r.util.sizeFromShape(c.shape),p=n||c.dtype,h=r.util.getArrayFromDType(p,d),v=0;v<d;++v)h[v]=t(f[v],s);return l.makeTensorInfo(c.shape,p,h)}}function o(e,t,n){return function(r){var a=r.inputs,o=r.attrs,s=r.backend,u=a.x;if((0,i.H)(u,e),"string"===u.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");var c=s,l=c.data.get(u.dataId).values,f=n||u.dtype,d=t(l,f,o);return c.makeTensorInfo(u.shape,f,d)}}},94842:function(e,t,n){"use strict";n.d(t,{l:function(){return a}});var r=n(87105),i=n(36545);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){var o=a(e,t,"float32"),s=a(e,t,"float32");return(0,i.P)({inputs:{real:o,imag:s},backend:e})}var u=r.util.makeZerosTypedArray(r.util.sizeFromShape(t),n);return e.makeTensorInfo(t,n,u)}},78832:function(e,t,n){"use strict";n.r(t),n.d(t,{GPGPUContext:function(){return Nt},MathBackendWebGL:function(){return Fr},forceHalfFloat:function(){return Br},gpgpu_util:function(){return i},setWebGLContext:function(){return x},version_webgl:function(){return Zr},webgl:function(){return Ur},webgl_util:function(){return r}});var r={};n.r(r),n.d(r,{assertNotComplex:function(){return ke},bindCanvasToFramebuffer:function(){return Q},bindColorTextureToFramebuffer:function(){return J},bindTextureToProgramUniformSampler:function(){return X},bindTextureUnit:function(){return G},bindVertexBufferToProgramAttribute:function(){return H},callAndCheck:function(){return E},canBeRepresented:function(){return C},createFragmentShader:function(){return R},createFramebuffer:function(){return W},createProgram:function(){return L},createStaticIndexBuffer:function(){return B},createStaticVertexBuffer:function(){return Z},createTexture:function(){return V},createVertexShader:function(){return I},getBatchDim:function(){return ie},getExtensionOrThrow:function(){return A},getFramebufferErrorMessage:function(){return te},getMaxTexturesInShader:function(){return pe},getNumChannels:function(){return U},getProgramUniformLocation:function(){return Y},getProgramUniformLocationOrThrow:function(){return K},getRowsCols:function(){return ae},getShapeAs3D:function(){return oe},getTextureShapeFromLogicalShape:function(){return se},getWebGLDisjointQueryTimerVersion:function(){return he},getWebGLErrorMessage:function(){return O},getWebGLMaxTextureSize:function(){return le},hasExtension:function(){return ve},isCapableOfRenderingToFloatTexture:function(){return ge},isDownloadFloatTextureEnabled:function(){return ye},isReshapeFree:function(){return ce},isWebGLFenceEnabled:function(){return xe},isWebGLVersionEnabled:function(){return me},linkProgram:function(){return j},logShaderSourceAndInfoLog:function(){return D},resetMaxTextureSize:function(){return fe},resetMaxTexturesInShader:function(){return de},unbindColorTextureFromFramebuffer:function(){return $},unbindTextureUnit:function(){return q},validateFramebuffer:function(){return ee},validateProgram:function(){return F},validateTextureSize:function(){return z}});var i={};n.r(i),n.d(i,{bindVertexProgramAttributeStreams:function(){return St},createBufferFromOutputTexture:function(){return Ct},createFloat16MatrixTexture:function(){return gt},createFloat16PackedMatrixTexture:function(){return _t},createFloat32MatrixTexture:function(){return vt},createIndexBuffer:function(){return dt},createPackedMatrixTexture:function(){return kt},createUnsignedBytesMatrixTexture:function(){return bt},createVertexBuffer:function(){return ft},createVertexShader:function(){return lt},downloadByteEncodedFloatMatrixFromOutputTexture:function(){return At},downloadFloat32MatrixFromBuffer:function(){return Ot},downloadMatrixFromPackedOutputTexture:function(){return Rt},downloadPackedMatrixFromBuffer:function(){return It},getInternalFormatForFloat16MatrixTexture:function(){return mt},getInternalFormatForFloat16PackedMatrixTexture:function(){return wt},getInternalFormatForFloat32MatrixTexture:function(){return ht},getInternalFormatForPackedMatrixTexture:function(){return xt},getInternalFormatForUnsignedBytesMatrixTexture:function(){return yt},uploadDenseMatrixToTexture:function(){return Tt},uploadPixelDataToTexture:function(){return Et}});var a,o,s,u=n(87105),c=n(29439),l=n(74165),f=n(93433),d=n(15861),p=n(15671),h=n(43144),v=n(97326),m=n(60136),g=n(29388),y={},b={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function x(e,t){y[e]=t}function k(e,t){if(!(e in y)||null!=t){var n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var n=null==t?function(e){if("undefined"!==typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e):t;if(n.addEventListener("webglcontextlost",(function(t){t.preventDefault(),delete y[e]}),!1),1===e)return n.getContext("webgl",b)||n.getContext("experimental-webgl",b);return n.getContext("webgl2",b)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;y[e]=n}var r=y[e];return null==r||r.isContextLost()?(delete y[e],k(e)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),y[e])}function w(e,t){return[t,e]}function _(e){var t=u.util.sizeFromShape(e),n=Math.ceil(t/4);return u.util.sizeToSquarishShape(n)}function S(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function T(e,t){var n,r,i,a,o,s,c,l,f,d,p=e;return 2===(0,u.env)().getNumber("WEBGL_VERSION")?(n=p.R32F,r=p.R16F,i=p.RGBA16F,a=p.RGBA32F,o=p.RED,c=4,l=1,f=p.HALF_FLOAT,d=p.FLOAT,s=p.RGBA8):(n=e.RGBA,r=e.RGBA,i=e.RGBA,a=p.RGBA,o=e.RGBA,c=4,l=4,f=null!=t?t.HALF_FLOAT_OES:null,d=e.FLOAT,s=e.RGBA),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:a,textureFormatFloat:o,downloadTextureFormat:s,downloadUnpackNumChannels:c,defaultNumChannels:l,textureTypeHalfFloat:f,textureTypeFloat:d}}function E(e,t){var n=t();return(0,u.env)().getBool("DEBUG")&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+O(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(a||(a={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(o||(o={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(s||(s={}));function C(e){return!!((0,u.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function O(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(t)}}function A(e,t){return ne(e,(function(){return e.getExtension(t)}),'Extension "'+t+'" not supported on this browser.')}function I(e,t){var n=ne(e,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(E(e,(function(){return e.shaderSource(n,t)})),E(e,(function(){return e.compileShader(n)})),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function R(e,t){var n=ne(e,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(E(e,(function(){return e.shaderSource(n,t)})),E(e,(function(){return e.compileShader(n)})),(0,u.env)().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw D(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}var N,P,M=/ERROR: [0-9]+:([0-9]+):/g;function D(e,t){var n=M.exec(t);if(null==n)return console.log("Couldn't parse line number in error: ".concat(t)),void console.log(e);for(var r=+n[1],i=e.split("\n"),a=i.length.toString().length+2,o=i.map((function(e,t){return u.util.rightPad((t+1).toString(),a)+e})),s=0,c=0;c<o.length;c++)s=Math.max(o[c].length,s);var l=o.slice(0,r-1),f=o.slice(r-1,r),d=o.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log("%c ".concat(u.util.rightPad(f[0],s)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(d.join("\n"))}function L(e){return ne(e,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}function j(e,t){if(E(e,(function(){return e.linkProgram(t)})),!(0,u.env)().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function F(e,t){if(E(e,(function(){return e.validateProgram(t)})),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function Z(e,t){var n=ne(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return E(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),E(e,(function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}function B(e,t){var n=ne(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return E(e,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)})),E(e,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}function U(){return 2===(0,u.env)().getNumber("WEBGL_VERSION")?1:4}function V(e){return ne(e,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}function z(e,t){var n=(0,u.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="[".concat(e,"x").concat(t,"]");throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n){var i="[".concat(e,"x").concat(t,"]"),a="[".concat(n,"x").concat(n,"]");throw new Error("Requested texture size "+i+" greater than WebGL maximum on this browser / GPU "+a+".")}}function W(e){return ne(e,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}function H(e,t,n,r,i,a,o){var s=e.getAttribLocation(t,n);return-1!==s&&(E(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),E(e,(function(){return e.vertexAttribPointer(s,i,e.FLOAT,!1,a,o)})),E(e,(function(){return e.enableVertexAttribArray(s)})),!0)}function G(e,t,n){re(e,n),E(e,(function(){return e.activeTexture(e.TEXTURE0+n)})),E(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)}))}function q(e,t){re(e,t),E(e,(function(){return e.activeTexture(e.TEXTURE0+t)})),E(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function K(e,t,n){return ne(e,(function(){return e.getUniformLocation(t,n)}),'uniform "'+n+'" not present in program.')}function Y(e,t,n){return e.getUniformLocation(t,n)}function X(e,t,n,r){E(e,(function(){return G(e,t,r)})),E(e,(function(){return e.uniform1i(n,r)}))}function Q(e){E(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)})),E(e,(function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)})),E(e,(function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)}))}function J(e,t,n){E(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),E(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}))}function $(e,t){E(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,t)})),E(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function ee(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+te(e,t))}function te(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(t)}}function ne(e,t,n){var r=E(e,(function(){return t()}));if(null==r)throw new Error(n);return r}function re(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){var i="[gl.TEXTURE0, gl.TEXTURE".concat(n,"]");throw new Error("textureUnit must be in ".concat(i,"."))}}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return u.util.sizeFromShape(e.slice(0,e.length-t))}function ae(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function oe(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[ie(e)].concat((0,f.Z)(ae(e)))),t}function se(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,u.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(n*=2,1===(e=e.map((function(t,n){return n>=e.length-2?u.util.nearestLargerEven(e[n]):e[n]}))).length&&(e=[2,e[0]])),2!==e.length){var r=u.util.squeezeShape(e);e=r.newShape}var i=u.util.sizeFromShape(e);if(e.length<=1&&i<=n)return[1,i];if(2===e.length&&e[0]<=n&&e[1]<=n)return e;if(3===e.length&&e[0]*e[1]<=n&&e[2]<=n)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=n&&e[1]*e[2]<=n)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n)return[e[0],e[1]*e[2]*e[3]];if(t){var a=ie(e),o=2,s=2;if(e.length){var l=ae(e),f=(0,c.Z)(l,2);o=f[0],s=f[1]}return i=a*(o/2)*(s/2),u.util.sizeToSquarishShape(i).map((function(e){return 2*e}))}return u.util.sizeToSquarishShape(i)}function ue(e){return e%2===0}function ce(e,t){if(e=e.slice(-2),t=t.slice(-2),u.util.arraysEqual(e,t))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(ue(n)&&ue(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&ue(e[0])&&ue(t[0])}function le(e){if(null==N){var t=k(e);N=t.getParameter(t.MAX_TEXTURE_SIZE)}return N}function fe(){N=null}function de(){P=null}function pe(e){if(null==P){var t=k(e);P=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,P)}function he(e){if(0===e)return 0;var t=k(e);return ve(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:ve(t,"EXT_disjoint_timer_query")?1:0}function ve(e,t){return null!=e.getExtension(t)}function me(e){try{if(null!=k(e))return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function ge(e){if(0===e)return!1;var t=k(e);if(1===e){if(!ve(t,"OES_texture_float"))return!1}else if(!ve(t,"EXT_color_buffer_float"))return!1;return be(t)}function ye(e){if(0===e)return!1;var t=k(e);if(1!==e){if(ve(t,"EXT_color_buffer_float"))return be(t);var n="EXT_color_buffer_half_float";if(ve(t,n)){var r=t.getExtension(n);return function(e,t){var n=T(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);var i=1,a=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,i,a,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(o),s}(t,r)}return!1}return!!ve(t,"OES_texture_float")&&(!!ve(t,"WEBGL_color_buffer_float")&&be(t))}function be(e){var t=T(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),i}function xe(e){return 2===e&&null!=k(e).fenceSync}function ke(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&u.util.assert("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors ")+"in the WebGL backend."}))}))}var we=(0,u.env)();function _e(){var e,t,n,r,i,a,o,s,c,l;return 2===(0,u.env)().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",i="texture",a="outputColor",o="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",c="",l="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",i="texture2D",a="gl_FragColor",o="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",c="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",l="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:i,output:a,defineOutput:o,defineSpecialNaN:s,defineSpecialInf:c,defineRound:l}}function Se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=u.util.computeStrides(t);return r.map((function(t,i){var a="int ".concat(e[i]," = ").concat(n," / ").concat(t),o=i===r.length-1?"int ".concat(e[i+1]," = ").concat(n," - ").concat(e[i]," * ").concat(t):"index -= ".concat(e[i]," * ").concat(t);return"".concat(a,"; ").concat(o,";")})).join("")}function Te(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=u.util.computeStrides(t);return r.map((function(t,i){var a="int ".concat(e[i]," = ").concat(n," / outShapeStrides[").concat(i,"]"),o=i===r.length-1?"int ".concat(e[i+1]," = ").concat(n," - ").concat(e[i]," * outShapeStrides[").concat(i,"]"):"index -= ".concat(e[i]," * outShapeStrides[").concat(i,"]");return"".concat(a,"; ").concat(o,";")})).join("")}function Ee(e,t){var n=e.length,r=e.map((function(e){return"".concat(t,"[").concat(e,"]")})),i=new Array(n-1);i[n-2]=r[n-1];for(var a=n-3;a>=0;--a)i[a]="(".concat(i[a+1]," * ").concat(r[a+1],")");return i}function Ce(e){var t=u.util.computeStrides(e).map((function(e){return e.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ".concat(t[0]," + coords.y * ").concat(t[1]," + coords.z;\n  }\n")}we.registerFlag("HAS_WEBGL",(function(){return we.getNumber("WEBGL_VERSION")>0})),we.registerFlag("WEBGL_VERSION",(function(){return me(2)?2:me(1)?1:0})),we.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(function(){return!1})),we.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===we.get("WEBGL_VERSION")})),we.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),we.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),we.registerFlag("WEBGL_PACK",(function(){return we.getBool("HAS_WEBGL")})),we.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return we.getBool("WEBGL_PACK")})),we.registerFlag("WEBGL_PACK_CLIP",(function(){return we.getBool("WEBGL_PACK")})),we.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return we.getBool("WEBGL_PACK")})),we.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return we.getBool("WEBGL_PACK")})),we.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return we.getBool("WEBGL_PACK")})),we.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return we.getBool("WEBGL_PACK")})),we.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return we.getBool("WEBGL_PACK")})),we.registerFlag("WEBGL_PACK_REDUCE",(function(){return we.getBool("WEBGL_PACK")})),we.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return we.getBool("WEBGL_PACK")})),we.registerFlag("WEBGL_CONV_IM2COL",(function(){return we.getBool("WEBGL_PACK")})),we.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return le(we.getNumber("WEBGL_VERSION"))})),we.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return pe(we.getNumber("WEBGL_VERSION"))})),we.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=we.getNumber("WEBGL_VERSION");return 0===e?0:he(e)})),we.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return we.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!u.device_util.isMobile()})),we.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return ge(we.getNumber("WEBGL_VERSION"))})),we.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!we.getBool("WEBGL_FORCE_F16_TEXTURES")&&we.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),we.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return ye(we.getNumber("WEBGL_VERSION"))})),we.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return xe(we.getNumber("WEBGL_VERSION"))})),we.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return we.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),we.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(function(){return-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never "+"delete) or at least 0, but got ".concat(e,"."))})),we.registerFlag("WEBGL_FLUSH_THRESHOLD",(function(){return u.device_util.isMobile()?1:-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never "+"manual flush) or at least 0, but got ".concat(e,"."))})),we.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 128})),we.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(function(){return!1})),we.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 1e5})),we.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(function(){return 128}));var Oe="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",Ae=u.backend_util.getBroadcastDims;function Ie(e,t,n){var r=[];if(e.forEach((function(e){var t=u.util.sizeFromShape(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push("uniform float ".concat(e.name).concat(t>1?"[".concat(t,"]"):"",";")):(r.push("uniform sampler2D ".concat(e.name,";")),r.push("uniform int offset".concat(e.name,";"))),n.enableShapeUniforms){switch(Ye(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape).uniformShape.length){case 1:r.push("uniform int ".concat(e.name,"Shape;"));break;case 2:r.push("uniform ivec2 ".concat(e.name,"Shape;"));break;case 3:r.push("uniform ivec3 ".concat(e.name,"Shape;"));break;case 4:r.push("uniform ivec4 ".concat(e.name,"Shape;"))}r.push("uniform ivec2 ".concat(e.name,"TexShape;"))}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((function(e){r.push("uniform ".concat(e.type," ").concat(e.name).concat(e.arrayIndex?"[".concat(e.arrayIndex,"]"):"",";"))}));var i,a,o=r.join("\n"),s=e.map((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i="";i+=n?Ne(e,r):Re(e,r);var a=e.shapeInfo.logicalShape,o=t.logicalShape;a.length<=o.length&&(i+=n?Ge(e,t):qe(e,t));return i}(e,t,n.packedInputs,n.enableShapeUniforms)})).join("\n"),c=t.texShape,l=_e(),f=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ".concat(e.texture2D,"(textureSampler, uv).r;\n    }\n  ")}(l),d=function(e){return"".concat(e.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(e.varyingFs," vec2 resultUV;\n    ").concat(e.defineOutput,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ").concat(e.defineSpecialNaN,"\n    ").concat(e.defineSpecialInf,"\n    ").concat(e.defineRound,"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ").concat(Pe,"\n    ").concat(Me,"\n    ").concat(De,"\n  ")}(l);return t.isPacked?(i=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ".concat(r[1],".0);\n      }\n    ");if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ".concat(r[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      return 2 * (resTexRC.x * ").concat(r[1]," + resTexRC.y);\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(u.util.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(".concat(r[0],", ").concat(r[1],"));\n      }\n    ");var i=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n      int r = 2 * (index / ").concat(i,");\n      int c = imod(index, ").concat(i,") * 2;\n\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],i=Math.ceil(e[2]/2),a=i*Math.ceil(e[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      int b = index / ").concat(a,";\n      index -= b * ").concat(a,";\n\n      int r = 2 * (index / ").concat(i,");\n      int c = imod(index, ").concat(i,") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ")}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";for(var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],i=Math.ceil(e[e.length-1]/2),a=i*Math.ceil(e[e.length-2]/2),o=a,s="",u="b, r, c",c=2;c<e.length-1;c++)o*=e[e.length-c-1],s="\n      int b".concat(c," = index / ").concat(o,";\n      index -= b").concat(c," * ").concat(o,";\n    ")+s,u="b".concat(c,", ")+u;return"\n    ivec".concat(e.length," getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(").concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      ").concat(s,"\n\n      int b = index / ").concat(a,";\n      index -= b * ").concat(a,";\n\n      int r = 2 * (index / ").concat(i,");\n      int c = imod(index, ").concat(i,") * 2;\n\n      return ivec").concat(e.length,"(").concat(u,");\n    }\n  ")}(e,t,n)}}(t.logicalShape,c,n.enableShapeUniforms),a=function(e){return"\n    void setOutput(vec4 val) {\n      ".concat(e.output," = val;\n    }\n  ")}(l)):(i=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.x * ".concat(t[1],".0);\n      }\n    ");if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.y * ".concat(t[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      return resTexRC.x * ").concat(t[1]," + resTexRC.y;\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){if(u.util.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(".concat(t[0],", ").concat(t[1],"));\n      }\n    ");if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ");if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ");if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      int r = index / ").concat(e[1],";\n      int c = index - r * ").concat(e[1],";\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n){var r=Te(["r","c","d"],e);return"\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ".concat(r,"\n    return ivec3(r, c, d);\n  }\n")}var i=Se(["r","c","d"],e);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(i,"\n      return ivec3(r, c, d);\n    }\n  ")}(e,t,n);case 4:return function(e,t,n){if(n){var r=Te(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ".concat(r,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}var i=Se(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(i,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}(e,t,n);case 5:return function(e,t){var n=Se(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(t[0],",\n                             ").concat(t[1],"));\n\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ")}(e,t);case 6:return function(e,t){var n=Se(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ")}(e,t);default:throw new Error("".concat(e.length,"-D output sampling is not yet supported"))}}(t.logicalShape,c,n.enableShapeUniforms),a=function(e){return"\n    void setOutput(float val) {\n      ".concat(e.output," = vec4(val, 0, 0, 0);\n    }\n  ")}(l)),n.packedInputs&&(d+=Le),[d,f,a,o,i,s,n.userCode].join("\n")}function Re(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.shapeInfo.logicalShape;switch(n.length){case 0:return Fe(e,t);case 1:return Ze(e,t);case 2:return Be(e,t);case 3:return Ue(e,t);case 4:return Ve(e,t);case 5:return ze(e);case 6:return We(e);default:throw new Error("".concat(n.length,"-D input sampling")+" is not yet supported")}}function Ne(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=_e();return"\n    vec4 ".concat(n,"() {\n      return ").concat(r.texture2D,"(").concat(t,", halfCR);\n    }\n  ")}(e);case 1:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape,a=_e();if(t)return"\n    vec4 ".concat(r,"(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ");var o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];return"\n    vec4 ".concat(r,"(int index) {\n      vec2 uv = packedUVfrom1D(\n        ").concat(o[0],", ").concat(o[1],", index);\n      return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,o=a[0],s=a[1],c=_e();if(null!=a&&u.util.arraysEqual(n,a))return t?"\n      vec4 ".concat(i,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n\n        return ").concat(c.texture2D,"(").concat(r,", uv);\n      }\n    "):"\n      vec4 ".concat(i,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(o,".0);\n\n        return ").concat(c.texture2D,"(").concat(r,", uv);\n      }\n    ");if(t)return"\n    vec4 ".concat(i,"(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ");var l=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],f=Math.ceil(n[1]/2);return"\n    vec4 ".concat(i,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(f,", ").concat(l[0],", ").concat(l[1],", row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);case 3:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];if(1===n[0]){var s=[1,2],u=Xe(e,n.slice(1)),c=["b","row","col"];return"\n        ".concat(Ne(u,t),"\n        vec4 ").concat(i,"(int b, int row, int col) {\n          return ").concat(i,"(").concat(Qe(c,s),");\n        }\n      ")}var l=_e();if(t)return"\n    vec4 ".concat(i,"(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ").concat(l.texture2D,"(").concat(r,", uv);\n    }\n  ");var f=o[0],d=o[1],p=Math.ceil(n[2]/2),h=p*Math.ceil(n[1]/2);return"\n    vec4 ".concat(i,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(f,", ").concat(d,", ").concat(h,", ").concat(p,", b, row, col);\n      return ").concat(l.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);default:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=_e();if(t)return"\n    vec4 ".concat(r,"(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(").concat(n,"Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(n,"Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ").concat(n,"Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ").concat(i.texture2D,"(").concat(n,", uv);\n    }\n  ");for(var a=e.shapeInfo.logicalShape,o=a.length,s=e.shapeInfo.texShape,u=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],c=u[0],l=u[1],f=Math.ceil(a[o-1]/2),d=f*Math.ceil(a[o-2]/2),p="int b, int row, int col",h="b * ".concat(d," + (row / 2) * ").concat(f," + (col / 2)"),v=2;v<o-1;v++)p="int b".concat(v,", ")+p,d*=a[o-v-1],h="b".concat(v," * ").concat(d," + ")+h;return"\n    vec4 ".concat(r,"(").concat(p,") {\n      int index = ").concat(h,";\n      int texR = index / ").concat(l,";\n      int texC = index - texR * ").concat(l,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(l,", ").concat(c,");\n      return ").concat(i.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t)}}var Pe="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Me="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",De="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Le="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function je(e){return"offset".concat(e)}function Fe(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"float ".concat(r,"() {return ").concat(n,";}");var i=(0,c.Z)(e.shapeInfo.texShape,2),a=i[0],o=i[1];if(1===a&&1===o)return"\n      float ".concat(r,"() {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var s=je(n);if(t)return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");var u=(0,c.Z)(e.shapeInfo.texShape,2),l=u[0],f=u[1];return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(l,", ").concat(f,", ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function Ze(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int index) {\n        ").concat(He(e),"\n      }\n    ");var i=e.shapeInfo.texShape,a=i[0],o=i[1];if(1===o&&1===a)return"\n      float ".concat(r,"(int index) {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var s=je(n);return 1===o?t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[0]));\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / ").concat(a,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):1===a?t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / ").concat(o,".0, 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):t?"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  "):"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(a,", ").concat(o,", index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function Be(e,t){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape;if(null!=a&&u.util.arraysEqual(n,a)){if(t)return"\n      float ".concat(i,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");var o=a[0],s=a[1];return"\n    float ".concat(i,"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(o,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}var c=u.util.squeezeShape(n),l=c.newShape,f=c.keptDims,d=l;if(d.length<n.length){var p=Xe(e,d);return"\n      ".concat(Re(p,t),"\n      float ").concat(i,"(int row, int col) {\n        return ").concat(i,"(").concat(Qe(["row","col"],f),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(").concat(n[1],", 1)));\n        ").concat(He(e),"\n      }\n    ");var h=a[0],v=a[1],m=je(r);return 1===v?t?"\n      float ".concat(i,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(m,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(").concat(r,"TexShape[0]));\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(i,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(m,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ").concat(h,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):1===h?t?"\n      float ".concat(i,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(m,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(").concat(r,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(i,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(m,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2((index + 0.5) / ").concat(v,".0, 0.5);\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):t?"\n      float ".concat(i,"(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(r,"Shape[1] + col + ").concat(m,";\n        vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n  float ".concat(i,"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ").concat(n[1]," + col + ").concat(m,";\n    vec2 uv = uvFromFlat(").concat(h,", ").concat(v,", index);\n    return sampleTexture(").concat(r,", uv);\n  }\n")}function Ue(e,t){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=n[1]*n[2],o=n[2],s=u.util.squeezeShape(n),c=s.newShape,l=s.keptDims,f=c;if(f.length<n.length){var d=Xe(e,f);return"\n        ".concat(Re(d,t),"\n        float ").concat(i,"(int row, int col, int depth) {\n          return ").concat(i,"(").concat(Qe(["row","col","depth"],l),");\n        }\n      ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(").concat(a,", ").concat(o,", 1)));\n        ").concat(He(e),"\n      }\n    ");var p=e.shapeInfo.texShape,h=p[0],v=p[1],m=e.shapeInfo.flatOffset;if(v===a&&null==m)return t?"\n      float ".concat(i,"(int row, int col, int depth) {\n        int stride1 = ").concat(r,"Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n        float ".concat(i,"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(").concat(o,", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(").concat(v,".0, ").concat(h,".0);\n          return sampleTexture(").concat(r,", uv);\n        }\n      ");if(v===o&&null==m)return t?"\n      float ".concat(i,"(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(").concat(r,"Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(i,"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(").concat(n[1],", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(v,".0, ").concat(h,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");var g=je(r);return t?"\n    float ".concat(i,"(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ").concat(r,"Shape[1] * ").concat(r,"Shape[2];\n      int stride1 = ").concat(r,"Shape[2];\n      int index = row * ").concat(a," + col * ").concat(o," + depth + ").concat(g,";\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n      return sampleTexture(").concat(r,", uv);\n    }\n    "):"\n      float ".concat(i,"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(a," + col * ").concat(o," + depth + ").concat(g,";\n        vec2 uv = uvFromFlat(").concat(h,", ").concat(v,", index);\n        return sampleTexture(").concat(r,", uv);\n      }\n  ")}function Ve(e,t){var n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=n[3],o=n[2]*a,s=n[1]*o,c=u.util.squeezeShape(n),l=c.newShape,f=c.keptDims;if(l.length<n.length){var d=Xe(e,l);return"\n      ".concat(Re(d,t),"\n      float ").concat(i,"(int row, int col, int depth, int depth2) {\n        return ").concat(i,"(").concat(Qe(["row","col","depth","depth2"],f),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(").concat(s,", ").concat(o,", ").concat(a,", 1)));\n        ").concat(He(e),"\n      }\n    ");var p=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,v=h[0],m=h[1],g="int stride2 = ".concat(r,"Shape[3];"),y="int stride1 = ".concat(r,"Shape[2] * stride2;"),b="int stride0 = ".concat(r,"Shape[1] * stride1;");if(m===s&&null==p)return t?"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        ").concat(g,"\n        ").concat(y,"\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(").concat(o,", ").concat(a,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(m,".0, ").concat(v,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");if(m===a&&null==p)return t?"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(r,"Shape[1] * ").concat(r,"Shape[2], ").concat(r,"Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(i,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(n[1]*n[2],", ").concat(n[2],", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(m,".0, ").concat(v,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");var x=je(r);return t?"\n    float ".concat(i,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ").concat(g,"\n      ").concat(y,"\n      ").concat(b,"\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index + ").concat(x,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):"\n    float ".concat(i,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(o," +\n          depth * ").concat(a," + depth2;\n      vec2 uv = uvFromFlat(").concat(v,", ").concat(m,", index + ").concat(x,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}function ze(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[4],a=t[3]*i,o=t[2]*a,s=t[1]*o,c=u.util.squeezeShape(t),l=c.newShape,f=c.keptDims;if(l.length<t.length){var d=Xe(e,l);return"\n      ".concat(Re(d),"\n      float ").concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        return ").concat(r,"(").concat(Qe(["row","col","depth","depth2","depth3"],f),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(s,", ").concat(o,", ").concat(a,", ").concat(i,")) +\n          depth3;\n        ").concat(He(e),"\n      }\n    ");var p=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,v=h[0],m=h[1];if(m===s&&null==p)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(").concat(o,", ").concat(a,", ").concat(i,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(m,".0, ").concat(v,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(m===i&&null==p)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3],",\n               ").concat(t[2]*t[3],", ").concat(t[3],", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(m,".0, ").concat(v,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var g=je(n);return"\n    float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(o," + depth * ").concat(a," +\n          depth2 * ").concat(i," + depth3 + ").concat(g,";\n      vec2 uv = uvFromFlat(").concat(v,", ").concat(m,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function We(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=u.util.squeezeShape(t),a=i.newShape,o=i.keptDims;if(a.length<t.length){var s=Xe(e,a);return"\n      ".concat(Re(s),"\n      float ").concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ").concat(r,"(").concat(Qe(["row","col","depth","depth2","depth3","depth4"],o),");\n      }\n    ")}var c=t[5],l=t[4]*c,f=t[3]*l,d=t[2]*f,p=t[1]*d;if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(p,", ").concat(d,", ").concat(f,", ").concat(l,")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(").concat(c,", 1)));\n        ").concat(He(e),"\n      }\n    ");var h=e.shapeInfo.flatOffset,v=e.shapeInfo.texShape,m=v[0],g=v[1];if(g===p&&null==h)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(").concat(d,", ").concat(f,", ").concat(l,", ").concat(c,")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(g,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(g===c&&null==h)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3]*t[4],",\n               ").concat(t[2]*t[3]*t[4],",\n               ").concat(t[3]*t[4],",\n               ").concat(t[4],")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(g,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var y=je(n);return"\n    float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(p," + col * ").concat(d," + depth * ").concat(f," +\n          depth2 * ").concat(l," + depth3 * ").concat(c," + depth4 + ").concat(y,";\n      vec2 uv = uvFromFlat(").concat(m,", ").concat(g,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function He(e){var t=e.name,n=u.util.sizeFromShape(e.shapeInfo.logicalShape);return n<2?"return ".concat(t,";"):"\n    for (int i = 0; i < ".concat(n,"; i++) {\n      if (i == index) {\n        return ").concat(t,"[i];\n      }\n    }\n  ")}function Ge(e,t){var n,r=e.name,i=r.charAt(0).toUpperCase()+r.slice(1),a="get"+i+"AtOutCoords",o=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,c=Ae(e.shapeInfo.logicalShape,t.logicalShape),l=Ke(s),f=s-o,d=["x","y","z","w","u","v"];n=0===o?"":s<2&&c.length>=1?"coords = 0;":c.map((function(e){return"coords.".concat(d[e+f]," = 0;")})).join("\n");var p="";p=s<2&&o>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(d[t+f])})).join(", ");var h="return outputValue;",v=1===u.util.sizeFromShape(e.shapeInfo.logicalShape),m=1===u.util.sizeFromShape(t.logicalShape);if(1!==o||v||m){if(v&&!m)h=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(c.length){var g=o-2,y=o-1;c.indexOf(g)>-1&&c.indexOf(y)>-1?h="return vec4(outputValue.x);":c.indexOf(g)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":c.indexOf(y)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}}else h="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 ".concat(a,"() {\n      ").concat(l," coords = getOutputCoords();\n      ").concat(n,"\n      vec4 outputValue = get").concat(i,"(").concat(p,");\n      ").concat(h,"\n    }\n  ")}function qe(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),i="get"+r+"AtOutCoords",a=t.texShape,o=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,c=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===c&&null==e.shapeInfo.flatOffset&&u.util.arraysEqual(o,a))return"\n      float ".concat(i,"() {\n        return sampleTexture(").concat(n,", resultUV);\n      }\n    ");var l,f=Ke(c),d=Ae(e.shapeInfo.logicalShape,t.logicalShape),p=c-s,h=["x","y","z","w","u","v"];l=0===s?"":c<2&&d.length>=1?"coords = 0;":d.map((function(e){return"coords.".concat(h[e+p]," = 0;")})).join("\n");var v="";return v=c<2&&s>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(h[t+p])})).join(", "),"\n    float ".concat(i,"() {\n      ").concat(f," coords = getOutputCoords();\n      ").concat(l,"\n      return get").concat(r,"(").concat(v,");\n    }\n  ")}function Ke(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank ".concat(e," is not yet supported"))}function Ye(e,t,n){var r=u.util.squeezeShape(t),i=r.newShape,a=r.keptDims,o=t.length,s=e&&3===o&&1===t[0],c=s?t.slice(1):i,l=!e&&o>1&&!u.util.arraysEqual(t,n)&&i.length<o||s;return{useSqueezeShape:l,uniformShape:l?c:t,keptDims:a}}function Xe(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function Qe(e,t){return t.map((function(t){return e[t]})).join(", ")}function Je(e,t,n,r){var i=n.map((function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),a=i.map((function(e){return e.shapeInfo})),o={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},s=Ie(i,o,t),c=R(e.gl,s),l=e.createProgram(c);return(0,u.env)().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:c,source:s,webGLProgram:l,inShapeInfos:a,outShapeInfo:o,uniformLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,inShapesLocations:null,inTexShapesLocations:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:Object.assign({program:t,fragmentShader:c,source:s,webGLProgram:l,inShapeInfos:a,outShapeInfo:o},$e(e,t,l))}function $e(e,t,n){var r,i,a,o,s={},c={},l={},f=[],d=null;o=e.getUniformLocation(n,"NAN",!1),1===(0,u.env)().getNumber("WEBGL_VERSION")&&(d=e.getUniformLocation(n,"INFINITY",!1));for(var p=!1,h=0;h<t.variableNames.length;h++){var v=t.variableNames[h];s[v]=e.getUniformLocation(n,v,p),s["offset".concat(v)]=e.getUniformLocation(n,"offset".concat(v),p),t.enableShapeUniforms&&(c["".concat(v,"Shape")]=e.getUniformLocation(n,"".concat(v,"Shape"),p),l["".concat(v,"TexShape")]=e.getUniformLocation(n,"".concat(v,"TexShape"),p))}return t.enableShapeUniforms&&(r=e.getUniformLocation(n,"outShape",p),a=e.getUniformLocation(n,"outShapeStrides",p),i=e.getUniformLocation(n,"outTexShape",p)),t.customUniforms&&t.customUniforms.forEach((function(t,r){f[r]=e.getUniformLocation(n,t.name,p)})),{uniformLocations:s,customUniformLocations:f,infLoc:d,nanLoc:o,inShapesLocations:c,inTexShapesLocations:l,outShapeLocation:r,outShapeStridesLocation:a,outTexShapeLocation:i}}function et(e,t){if(e.length!==t.length)throw Error("Binary was compiled with ".concat(e.length," inputs, but ")+"was executed with ".concat(t.length," inputs"));e.forEach((function(e,n){var r=e.logicalShape,i=t[n],a=i.shape;if(!u.util.arraysEqual(r,a))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(r," and ").concat(a," must match"));if(!e.isUniform||!i.isUniform){var o=e.texShape,s=i.isUniform?null:i.texData.texShape;if(!u.util.arraysEqual(o,s))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(o," and ").concat(s," must match"))}}))}function tt(e,t,n,r,i){t.program.enableShapeUniforms||(et(t.inShapeInfos,n),et([t.outShapeInfo],[r]));var a=r.texData.texture,o=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(a.texture,o[0],o[1]):e.setOutputMatrixTexture(a.texture,o[0],o[1]),e.setProgram(t.webGLProgram),1===(0,u.env)().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((function(n,r){var i=t.program.variableNames[r],a=t.uniformLocations[i],o=t.uniformLocations["offset".concat(i)],s=t.inShapesLocations["".concat(i,"Shape")],c=t.inTexShapesLocations["".concat(i,"TexShape")];if(s){var l=Ye(t.program.packedInputs,n.shape,n.texData.texShape).uniformShape;switch(l.length){case 1:e.gl.uniform1iv(s,new Int32Array(l));break;case 2:e.gl.uniform2iv(s,new Int32Array(l));break;case 3:e.gl.uniform3iv(s,new Int32Array(l));break;case 4:e.gl.uniform4iv(s,new Int32Array(l))}}if(c&&e.gl.uniform2i(c,n.texData.texShape[0],n.texData.texShape[1]),null!=a)if(n.isUniform)if(u.util.sizeFromShape(n.shape)<2)e.gl.uniform1f(a,n.uniformValues[0]);else{var f=n.uniformValues;f instanceof Float32Array||(f=new Float32Array(f)),e.gl.uniform1fv(a,f)}else null!=n.texData.slice&&null!=o&&e.gl.uniform1i(o,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture.texture,a,r)}));var s=t.outShapeLocation;if(s)switch(r.shape.length){case 1:e.gl.uniform1iv(s,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(s,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(s,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(s,new Int32Array(r.shape))}if(t.outShapeStridesLocation){var c=u.util.computeStrides(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(c));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(c));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(c))}}t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&i&&t.program.customUniforms.forEach((function(n,r){var a=t.customUniformLocations[r],o=i[r];if("float"===n.type)e.gl.uniform1fv(a,o);else if("vec2"===n.type)e.gl.uniform2fv(a,o);else if("vec3"===n.type)e.gl.uniform3fv(a,o);else if("vec4"===n.type)e.gl.uniform4fv(a,o);else if("int"===n.type)e.gl.uniform1iv(a,o);else if("ivec2"===n.type)e.gl.uniform2iv(a,o);else if("ivec3"===n.type)e.gl.uniform3iv(a,o);else{if("ivec4"!==n.type)throw Error("uniform type ".concat(n.type," is not supported yet."));e.gl.uniform4iv(a,o)}})),e.executeProgram()}function nt(e,t,n){var r="";t.concat(n).forEach((function(t){var i=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){var a=t.texData.texShape,o=Ye(e.packedInputs,t.shape,a),s=o.useSqueezeShape,c=o.uniformShape,l=o.keptDims,f="",d="",p="";if(1===c.length&&e.packedInputs){var h=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];f="".concat(h[0]>1,"_").concat(h[1]>1)}else if(2!==c.length||e.packedInputs){if(c.length>2&&!e.packedInputs){var v=u.util.computeStrides(c);p="".concat(v[0]===a[1],"_").concat(v[v.length-1]===a[1])}}else d="".concat(c[0]>1,"_").concat(c[1]>1);var m=t.shape.length,g=2===c.length&&u.util.arraysEqual(t.shape,a),y=1===u.util.sizeFromShape(t.shape),b=u.backend_util.getBroadcastDims(t.shape,n.shape),x=!e.packedInputs&&m===n.shape.length&&u.util.arraysEqual(a,n.texData.texShape),k=e.packedInputs||c.length>2?"":"".concat(a[0]>1,"_").concat(a[1]>1);r+="".concat(m,"_").concat(x,"_").concat(s?l:"","_").concat(c.length,"_").concat(y,"_").concat(b,"_").concat(g,"_").concat(f,"_").concat(d,"_").concat(p,"_").concat(k,"_").concat(i)}else{var w=t.isUniform?"uniform":t.texData.texShape;r+="".concat(t.shape,"_").concat(w,"_").concat(i)}}));var i=e.userCode,a=e.constructor.name;return a+="_"+r+"_"+i+"".concat((0,u.env)().getNumber("WEBGL_VERSION"))}function rt(e){return(0,u.env)().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}var it=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=a.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=_e();this.outputShape=t,this.enableShapeUniforms=rt(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?Te(["r","c","d"],t):Se(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),at=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=a.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=_e();this.outputShape=t,this.enableShapeUniforms=rt(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?Te(["r","c","d"],t):Se(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),ot=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.outTexUsage=o.DOWNLOAD;var n=_e();this.outputShape=t,this.userCode="\n      ".concat(Oe,"\n\n      void main() {\n        float x = getAAtOutCoords();\n        ").concat(n.output," = encode_float(x);\n      }\n    ")})),st=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=o.DOWNLOAD;var n=_e();this.outputShape=t,this.userCode="\n      ".concat(Oe,"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ").concat(n.output," = encode_float(x);\n      }\n    ")})),ut=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,p.Z)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=_e();this.outputShape=t,this.enableShapeUniforms=rt(this.outputShape.length);var i="result";n&&(i="floor(result * 255. + 0.5)"),this.userCode="\n      ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Ce(t),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / texShape[1];\n        int c = imod(flatIndex, texShape[1]);\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n        vec4 values = ").concat(r.texture2D,"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ").concat(r.output," = vec4(").concat(i,", 0., 0., 0.);\n      }\n    ")})),ct=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=_e();this.outputShape=t,this.enableShapeUniforms=rt(this.outputShape.length);var i="",a="result";n&&(a="floor(result * 255. + 0.5)");for(var o=0;o<=1;o++)for(var s=0;s<=1;s++){var u=2*o+s;i+="\n          localCoords = coords;\n          if(localCoords[2] + ".concat(s," < ").concat(this.enableShapeUniforms?"outShape[2]":"".concat(t[2]),") {\n          localCoords[2] += ").concat(s,";\n          if (localCoords[1] + ").concat(o," < ").concat(this.enableShapeUniforms?"outShape[1]":"".concat(t[1]),") {\n            localCoords[1] += ").concat(o,";\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ").concat(r.texture2D,"(A, uv);\n\n            if (offset == 0) {\n              result[").concat(u,"] = values[0];\n            } else if (offset == 1) {\n              result[").concat(u,"] = values[1];\n            } else if (offset == 2) {\n              result[").concat(u,"] = values[2];\n            } else {\n              result[").concat(u,"] = values[3];\n            }\n          }\n        }\n        ")}this.userCode="\n        ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Ce(t),"\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ").concat(i,"\n\n          ").concat(r.output," = ").concat(a,";\n        }\n    ")}));function lt(e){var t=_e();return I(e,"".concat(t.version,"\n    precision highp float;\n    ").concat(t.attribute," vec3 clipSpacePos;\n    ").concat(t.attribute," vec2 uv;\n    ").concat(t.varyingVs," vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }"))}function ft(e){return Z(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function dt(e){return B(e,new Uint16Array([0,1,2,2,1,3]))}function pt(e,t,n,r,i,a){z(t,n);var o=V(e),s=e.TEXTURE_2D;return E(e,(function(){return e.bindTexture(s,o)})),E(e,(function(){return e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),E(e,(function(){return e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),E(e,(function(){return e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST)})),E(e,(function(){return e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST)})),1===(0,u.env)().getNumber("WEBGL_VERSION")?E(e,(function(){return e.texImage2D(s,0,r,t,n,0,i,a,null)})):E(e,(function(){return e.texStorage2D(s,1,r,t,n)})),E(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),{texture:o,texShape:[n,t]}}function ht(e){return e.internalFormatFloat}function vt(e,t,n,r){var i=w(t,n),a=(0,c.Z)(i,2);return pt(e,a[0],a[1],ht(r),r.textureFormatFloat,e.FLOAT)}function mt(e){return e.internalFormatHalfFloat}function gt(e,t,n,r){var i=w(t,n),a=(0,c.Z)(i,2);return pt(e,a[0],a[1],mt(r),r.textureFormatFloat,r.textureTypeHalfFloat)}function yt(e){return e.downloadTextureFormat}function bt(e,t,n,r){var i=w(t,n),a=(0,c.Z)(i,2);return pt(e,a[0],a[1],yt(r),e.RGBA,e.UNSIGNED_BYTE)}function xt(e){return e.internalFormatPackedFloat}function kt(e,t,n,r){var i=S(t,n),a=(0,c.Z)(i,2);return pt(e,a[0],a[1],xt(r),e.RGBA,e.FLOAT)}function wt(e){return e.internalFormatPackedHalfFloat}function _t(e,t,n,r){var i=S(t,n),a=(0,c.Z)(i,2);return pt(e,a[0],a[1],wt(r),e.RGBA,r.textureTypeHalfFloat)}function St(e,t,n){return E(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),H(e,t,"clipSpacePos",n,3,20,0)&&H(e,t,"uv",n,2,20,12)}function Tt(e,t,n,r,i,a){var o,s,c;E(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),i instanceof Uint8Array?(o=new Uint8Array(n*r*4),s=e.UNSIGNED_BYTE,c=e.RGBA):(o=new Float32Array(n*r*4),s=e.FLOAT,c=a.internalFormatPackedFloat),o.set(i),2===(0,u.env)().getNumber("WEBGL_VERSION")?E(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,s,o)})):E(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,c,n,r,0,e.RGBA,s,o)})),E(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function Et(e,t,n){E(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),n.data instanceof Uint8Array?2===(0,u.env)().getNumber("WEBGL_VERSION")?E(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data)})):E(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)})):2===(0,u.env)().getNumber("WEBGL_VERSION")?E(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n)})):E(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)})),E(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function Ct(e,t,n,r){var i=e.createBuffer();E(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,i)}));var a=16*t*n;return E(e,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,a,e.STREAM_READ)})),E(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0)})),E(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),i}function Ot(e,t,n){var r=e,i=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,i),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),i}function At(e,t,n,r){var i=w(t,n),a=(0,c.Z)(i,2),o=a[0],s=a[1],u=new Uint8Array(t*n*4);return E(e,(function(){return e.readPixels(0,0,o,s,r.downloadTextureFormat,e.UNSIGNED_BYTE,u)})),new Float32Array(u.buffer)}function It(e,t,n,r,i,a,o,s){var u=e,l=new Float32Array(function(e,t){var n=S(e,t),r=(0,c.Z)(n,2);return r[0]*r[1]*4}(a,o));return u.bindBuffer(u.PIXEL_PACK_BUFFER,t),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,l),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),l}function Rt(e,t,n){var r=new Float32Array(t*n*4);return E(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r)})),r}var Nt=function(){function e(t){(0,p.Z)(this,e),this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var n=(0,u.env)().getNumber("WEBGL_VERSION");null!=t?(this.gl=t,x(n,t)):this.gl=k(n);var r="WEBGL_color_buffer_float",i="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===(0,u.env)().getNumber("WEBGL_VERSION")){var a="OES_texture_half_float";if(this.textureFloatExtension=A(this.gl,"OES_texture_float"),ve(this.gl,a))this.textureHalfFloatExtension=A(this.gl,a);else if((0,u.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),ve(this.gl,i))this.colorBufferHalfFloatExtension=A(this.gl,i);else if((0,u.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",ve(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!ve(this.gl,i))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(i)}this.vertexBuffer=ft(this.gl),this.indexBuffer=dt(this.gl),this.framebuffer=W(this.gl),this.textureConfig=T(this.gl,this.textureHalfFloatExtension)}return(0,h.Z)(e,[{key:"debug",get:function(){return(0,u.env)().getBool("DEBUG")}},{key:"dispose",value:function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;E(t,(function(){return t.finish()})),E(t,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),E(t,(function(){return t.deleteFramebuffer(e.framebuffer)})),E(t,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),E(t,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),E(t,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}}},{key:"createFloat32MatrixTexture",value:function(e,t){return this.throwIfDisposed(),vt(this.gl,e,t,this.textureConfig)}},{key:"createFloat16MatrixTexture",value:function(e,t){return this.throwIfDisposed(),gt(this.gl,e,t,this.textureConfig)}},{key:"createUnsignedBytesMatrixTexture",value:function(e,t){return this.throwIfDisposed(),bt(this.gl,e,t,this.textureConfig)}},{key:"uploadPixelDataToTexture",value:function(e,t){this.throwIfDisposed(),Et(this.gl,e,t)}},{key:"uploadDenseMatrixToTexture",value:function(e,t,n,r){this.throwIfDisposed(),Tt(this.gl,e,t,n,r,this.textureConfig)}},{key:"createFloat16PackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),_t(this.gl,e,t,this.textureConfig)}},{key:"createPackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),kt(this.gl,e,t,this.textureConfig)}},{key:"deleteMatrixTexture",value:function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&($(this.gl,this.framebuffer),this.outputTexture=null),E(this.gl,(function(){return t.gl.deleteTexture(e)}))}},{key:"downloadByteEncodedFloatMatrixFromOutputTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return At(r.gl,t,n,r.textureConfig)}))}},{key:"downloadPackedMatrixFromBuffer",value:function(e,t,n,r,i,a){return It(this.gl,e,0,0,0,i,a,this.textureConfig)}},{key:"downloadFloat32MatrixFromBuffer",value:function(e,t){return Ot(this.gl,e,t)}},{key:"createBufferFromTexture",value:function(e,t,n){this.bindTextureToFrameBuffer(e);var r=Ct(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}},{key:"createAndWaitForFence",value:function(){var e=this.createFence(this.gl);return this.pollFence(e)}},{key:"createFence",value:function(e){var t,n,r=this;if((0,u.env)().getBool("WEBGL_FENCE_API_ENABLED")){var i=e,a=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=i.clientWaitSync(a,0,0);return e===i.ALREADY_SIGNALED||e===i.CONDITION_SATISFIED},t=a}else(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}}},{key:"downloadMatrixFromPackedTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return Rt(r.gl,t,n)}))}},{key:"createProgram",value:function(e){var t=this;this.throwIfDisposed();var n=this.gl;null==this.vertexShader&&(this.vertexShader=lt(n));var r=L(n);return E(n,(function(){return n.attachShader(r,t.vertexShader)})),E(n,(function(){return n.attachShader(r,e)})),j(n,r),this.debug&&F(n,r),this.vertexAttrsAreBound||(this.setProgram(r),this.vertexAttrsAreBound=St(n,this.program,this.vertexBuffer)),r}},{key:"deleteProgram",value:function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&E(this.gl,(function(){return t.gl.deleteProgram(e)}))}},{key:"setProgram",value:function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&F(this.gl,this.program),E(this.gl,(function(){return t.gl.useProgram(e)}))}},{key:"getUniformLocation",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?K(this.gl,e,t):Y(this.gl,e,t)}},{key:"getAttributeLocation",value:function(e,t){var n=this;return this.throwIfDisposed(),E(this.gl,(function(){return n.gl.getAttribLocation(e,t)}))}},{key:"getUniformLocationNoThrow",value:function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}},{key:"setInputMatrixTexture",value:function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),X(this.gl,e,t,n)}},{key:"setOutputMatrixTexture",value:function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}},{key:"setOutputPackedMatrixTexture",value:function(e,t,n){this.throwIfDisposed();var r=S(t,n),i=(0,c.Z)(r,2),a=i[0],o=i[1];this.setOutputMatrixTextureDriver(e,a,o)}},{key:"setOutputMatrixWriteRegion",value:function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}},{key:"setOutputPackedMatrixWriteRegion",value:function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}},{key:"debugValidate",value:function(){null!=this.program&&F(this.gl,this.program),ee(this.gl)}},{key:"executeProgram",value:function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),E(e,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))}},{key:"blockUntilAllProgramsCompleted",value:function(){var e=this;this.throwIfDisposed(),E(this.gl,(function(){return e.gl.finish()}))}},{key:"getQueryTimerExtension",value:function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=A(this.gl,2===(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}},{key:"getQueryTimerExtensionWebGL2",value:function(){return this.getQueryTimerExtension()}},{key:"getQueryTimerExtensionWebGL1",value:function(){return this.getQueryTimerExtension()}},{key:"beginQuery",value:function(){if(2===(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),i=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,i),i}},{key:"endQuery",value:function(){if(2!==(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}}},{key:"waitForQueryAndGetTime",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n=this;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.util.repeatedTry((function(){return n.disposed||n.isQueryAvailable(t,(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}));case 2:return e.abrupt("return",this.getQueryTime(t,(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getQueryTime",value:function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}},{key:"isQueryAvailable",value:function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),i=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint}var a=this.getQueryTimerExtensionWebGL1(),o=a.getQueryObjectEXT(e,a.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),o&&!this.disjoint}},{key:"pollFence",value:function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))}},{key:"pollItems",value:function(){for(var e=function(e){for(var t=0;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t){(0,this.itemsToPoll[t].resolveFn)()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}},{key:"addItemToPoll",value:function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||u.util.repeatedTry((function(){return n.pollItems(),0===n.itemsToPoll.length}))}},{key:"bindTextureToFrameBuffer",value:function(e){this.throwIfDisposed(),J(this.gl,e,this.framebuffer),this.debug&&ee(this.gl)}},{key:"unbindTextureToFrameBuffer",value:function(){null!=this.outputTexture?(J(this.gl,this.outputTexture,this.framebuffer),this.debug&&ee(this.gl)):$(this.gl,this.framebuffer)}},{key:"downloadMatrixDriver",value:function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n}},{key:"setOutputMatrixTextureDriver",value:function(e,t,n){this.throwIfDisposed();var r=this.gl;J(r,e,this.framebuffer),this.debug&&ee(r),this.outputTexture=e,E(r,(function(){return r.viewport(0,0,t,n)})),E(r,(function(){return r.scissor(0,0,t,n)}))}},{key:"setOutputMatrixWriteRegionDriver",value:function(e,t,n,r){var i=this;this.throwIfDisposed(),E(this.gl,(function(){return i.gl.scissor(e,t,n,r)}))}},{key:"throwIfDisposed",value:function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}},{key:"throwIfNoProgram",value:function(){if(null==this.program)throw new Error("No GPU program is currently set.")}}]),e}();var Pt=n(25589),Mt=n(73737),Dt=n(94351),Lt=n(46563),jt=n(68116),Ft=n(66880),Zt=n(21354),Bt=n(97224),Ut=n(34351),Vt=n(82666),zt=n(69075),Wt=n(26985),Ht=n(39813),Gt=n(18734),qt=n(21491),Kt=n(68298),Yt=n(4771),Xt=n(89518),Qt=n(38094),Jt=n(18244),$t=n(54569),en=n(21566),tn=n(89120),nn=n(66284),rn=n(78105),an=n(28567),on=n(294),sn=n(96220),un=n(22126),cn=n(78337),ln=n(63634),fn=n(35440),dn=n(4165),pn=n(47497),hn=n(18294),vn=n(60998),mn=n(71489),gn=n(51802),yn=n(57129),bn=n(79516),xn=n(31103),kn=n(24242),wn=Pt.EH,_n=Mt.W,Sn=Mt.i,Tn=Dt.__,En=Lt.j,Cn=jt.tW,On=Ft.Ro,An=Zt.OF,In=Bt.r6,Rn=Ut.m,Nn=Vt.i,Pn=zt.o,Mn=Wt.HL,Dn=Ht.rO,Ln=Gt.lx,jn=qt.b,Fn=Kt.vX,Zn=Yt.B,Bn=Xt.wS,Un=Qt.vP,Vn=Jt.$3,zn=$t.uC,Wn=en.Gj,Hn=tn.Qg,Gn=nn.b,qn=rn.zd,Kn=an.N,Yn=on.VY,Xn=sn.bk,Qn=un.rT,Jn=cn.c,$n=ln.U,er=fn.V,tr=dn.zT,nr=pn.t,rr=hn.A,ir=vn.Q,ar=mn.h,or=gn.VY,sr=yn.R,ur=bn.W,cr=xn.H,lr=kn.S;function fr(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(t){return"".concat(e,".").concat(t)}))}function dr(e,t){return 1===t?[e]:fr(e,t)}var pr=function(){function e(t){if((0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.enableShapeUniforms=rt(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=dr("rc",this.rank),r=Ke(this.rank),i=this.getOutOfBoundsCondition(n),a=this.getSetup(n),o=this.getOutput(n);this.userCode="\n        void main() {\n          ".concat(r," rc = getOutputCoords();\n\n          if(").concat(i,") {\n            setOutput(vec4(0));\n          } else {\n            ").concat(a,"\n\n            setOutput(vec4(").concat(o,"));\n          }\n        }\n      ")}}return(0,h.Z)(e,[{key:"getSourceCoordsArr",value:function(e){for(var t=[],n=0;n<=1;n++)for(var r=0;r<=1;r++){for(var i="".concat(0===n?"r":"rp1",", ").concat(0===r?"c":"cp1"),a=2;a<this.rank;a++)i="".concat(e[e.length-1-a],",")+i;t.push(i)}return t}},{key:"getOutOfBoundsCondition",value:function(e){if(1===this.rank)return"rc > ".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]);for(var t="",n=this.rank-2;n<this.rank;n++)t+="".concat(e[n]," >= ").concat(this.enableShapeUniforms?"outShape[".concat(n,"]"):this.outputShape[n]),n<this.rank-1&&(t+="||");return t}},{key:"getSetup",value:function(e){if(1===this.rank)return"";var t=e.slice(-2),n=this.enableShapeUniforms?"outShape[".concat(this.rank," - 1]"):this.outputShape[this.rank-1],r=this.enableShapeUniforms?"outShape[".concat(this.rank," - 2]"):this.outputShape[this.rank-2];return"\n      int r = ".concat(t[0],";\n      int c = ").concat(t[1],";\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ").concat(n,";\n      bool rEdge = rp1 >= ").concat(r,";\n    ")}},{key:"getOutput",value:function(e){var t=this.getSourceCoordsArr(e);if(1===this.rank){var n=this.enableShapeUniforms?"outShape":this.outputShape[0];return"getA(rc), (rc + 1 >= ".concat(n," ? 0. : getA(rc + 1)), 0, 0")}return"getA(".concat(t[0],"),\n            cEdge ? 0. : getA(").concat(t[1],"),\n            rEdge ? 0. : getA(").concat(t[2],"),\n            rEdge || cEdge ? 0. : getA(").concat(t[3],")")}}]),e}(),hr=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=rt(this.outputShape.length);for(var r="",i=0;i<4;i++){var a="thisRC = rc;";i%2===1&&(a+="thisRC.z += 1;"),i>1&&(a+="thisRC.y += 1;"),r+="\n        ".concat(a,"\n        ").concat(i>0?"if(thisRC.y < rows && thisRC.z < cols){":"","\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(i,"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ").concat(i>0?"}":"","\n      ")}this.userCode="\n      ".concat(function(e,t){var n=t?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=e.map((function(e,t){return t})),i=Ee(r,t);return i.map((function(t,r){var a="int ".concat(e[r]," = ").concat(n," / ").concat(i[r]),o=r===i.length-1?"int ".concat(e[r+1]," = ").concat(n," - ").concat(e[r]," * ").concat(i[r]):"index -= ".concat(e[r]," * ").concat(i[r]);return"".concat(a,"; ").concat(o,";")})).join("")}(["r","c","d"],"inputShape"):Se(["r","c","d"],e);return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(n,"\n      return ivec3(r, c, d);\n    }\n  ")}(n,this.enableShapeUniforms),"\n      ").concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Ce(t),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ").concat(this.enableShapeUniforms?"outShape[1]":t[1],";\n        int cols = ").concat(this.enableShapeUniforms?"outShape[2]":t[2],";\n\n        ").concat(r,"\n\n        setOutput(result);\n      }\n    ")}));var vr=function(){function e(t){(0,p.Z)(this,e),this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return(0,h.Z)(e,[{key:"acquireTexture",value:function(e,t,n){var r=gr(t,n),i=yr(e,r,n);i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]);var a,o=mr(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();var u=this.freeTextures[i].shift();return this.usedTextures[i].push(u),u}return r===s.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===s.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===s.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===s.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===s.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(a),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),a}},{key:"releaseTexture",value:function(e,t,n,r){if(null!=this.freeTextures){var i=gr(n,r),a=yr(t,i,r);a in this.freeTextures||(this.freeTextures[a]=[]);var o=mr(t,i,this.gpgpu.gl,this.gpgpu.textureConfig,r),s=(0,u.env)().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==s&&this._numBytesAllocated>s?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=o):(this.freeTextures[a].push(e),this.numFreeTextures++,this._numBytesFree+=o),this.numUsedTextures--;var c=this.usedTextures[a],l=c.indexOf(e);if(l<0)throw new Error("Cannot release a texture that was never provided by this texture manager");c.splice(l,1),this.log()}}},{key:"log",value:function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));var t=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*t),"%)"))}}},{key:"numBytesAllocated",get:function(){return this._numBytesAllocated}},{key:"numBytesFree",get:function(){return this._numBytesFree}},{key:"getNumUsedTextures",value:function(){return this.numUsedTextures}},{key:"getNumFreeTextures",value:function(){return this.numFreeTextures}},{key:"dispose",value:function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t.texture)}));for(var n in this.usedTextures)this.usedTextures[n].forEach((function(t){e.gpgpu.deleteMatrixTexture(t.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}]),e}();function mr(e,t,n,r,i){var a,o=function(e,t){switch(e){case s.PACKED_2X2_FLOAT32:return xt(t);case s.PACKED_2X2_FLOAT16:return wt(t);case s.UNPACKED_FLOAT32:return ht(t);case s.UNPACKED_FLOAT16:return mt(t);case s.PACKED_4X1_UNSIGNED_BYTE:return yt(t);default:throw new Error("Unknown physical texture type ".concat(e))}}(t,r);if(i){var u=S(e[0],e[1]),l=(0,c.Z)(u,2);a=l[0]*l[1]}else{var f=w(e[0],e[1]),d=(0,c.Z)(f,2);a=d[0]*d[1]}var p=function(e,t){var n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error("Unknown internal format ".concat(t))}(n,o);return a*p}function gr(e,t){if(e===o.UPLOAD)return s.PACKED_2X2_FLOAT32;if(e===o.RENDER||null==e)return function(e){return(0,u.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?s.PACKED_2X2_FLOAT32:s.UNPACKED_FLOAT32:e?s.PACKED_2X2_FLOAT16:s.UNPACKED_FLOAT16}(t);if(e===o.DOWNLOAD||e===o.PIXELS)return s.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type ".concat(e))}function yr(e,t,n){return"".concat(e[0],"_").concat(e[1],"_").concat(t,"_").concat(n)}var br=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=rt(this.outputShape.length),this.userCode="\n      float unaryOperation(float x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")})),xr="if (isnan(x)) return x;",kr="return x;",wr="return abs(x);";var _r="return (x >= 0.0) ? x : (exp(x) - 1.0);",Sr=xr+"\n  return (x < 0.0) ? 0.0 : x;\n",Tr=xr+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",Er="return x;",Cr="return 1.0 / (1.0 + exp(-1.0 * x));",Or="return x;",Ar="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",Ir="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Rr="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Nr="return 1.0 / (1.0 + exp(-1.0 * x));",Pr=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=rt(this.outputShape.length),this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")})),Mr=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t,this.enableShapeUniforms=rt(this.outputShape.length);var n=t.length,r=dr("rc",n),i=Ke(n),a=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(n,r),o=r.slice(-2),s=n<=1?"rc":"vec2(".concat(o.join(","),")");this.userCode="\n      void main() {\n        ".concat(i," rc = getOutputCoords();\n        vec4 packedInput = getA(").concat(a,");\n\n        setOutput(getChannel(packedInput, ").concat(s,"));\n      }\n    ")})),Dr=u.kernel_impls.whereImpl,Lr={};var jr=(0,u.env)().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");var Fr=function(e){(0,m.Z)(n,e);var t=(0,g.Z)(n);function n(e){var r,i,a;if((0,p.Z)(this,n),(r=t.call(this)).pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.lastGlFlushTime=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!(0,u.env)().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null!=e){if(e instanceof Nt)i=e;else{var o=k((0,u.env)().getNumber("WEBGL_VERSION"),e);i=new Nt(o)}r.binaryCache={},r.gpgpuCreatedLocally=!1}else{var s=k((0,u.env)().getNumber("WEBGL_VERSION"));i=new Nt(s),r.binaryCache=((a=(0,u.env)().getNumber("WEBGL_VERSION"))in Lr||(Lr[a]={}),Lr[a]),r.gpgpuCreatedLocally=!0}return r.gpgpu=i,r.canvas=r.gpgpu.gl.canvas,r.textureManager=new vr(r.gpgpu),r.numMBBeforeWarning=null==(0,u.env)().global.screen?1024:(0,u.env)().global.screen.height*(0,u.env)().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new u.DataStorage((0,v.Z)(r),(0,u.engine)()),r}return(0,h.Z)(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"numDataIds",value:function(){return this.texData.numDataIds()-this.pendingDeletes}},{key:"write",value:function(e,t,n){if(((0,u.env)().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||(0,u.env)().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:o.UPLOAD,refCount:1}),r}},{key:"refCount",value:function(e){return this.texData.has(e)?this.texData.get(e).refCount:0}},{key:"incRef",value:function(e){this.texData.get(e).refCount++}},{key:"decRef",value:function(e){this.texData.has(e)&&this.texData.get(e).refCount--}},{key:"move",value:function(e,t,n,r,i){if((0,u.env)().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:o.UPLOAD,refCount:i})}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"readSync",value:function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,i=t.complexTensorInfos,a=t.slice,o=t.shape,s=t.isPacked;if(null!=a){var c;c=s?new Pr(o,Er):new br(o,Er);var l=this.runWebGLProgram(c,[{dataId:e,shape:o,dtype:r}],r),f=this.readSync(l.dataId);return this.disposeIntermediateTensorInfo(l),f}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var d,p,h=null!=this.activeTimers;if(h&&(d=u.util.now()),"complex64"===r){var v=this.readSync(i.real.dataId),m=this.readSync(i.imag.dataId);p=u.backend_util.mergeRealAndImagArrays(v,m)}else p=this.getValuesFromTexture(e);return h&&(this.downloadWaitMs+=u.util.now()-d),this.convertAndCacheOnCPU(e,p)}},{key:"read",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n,r,i,a,o,s,c,d,p,h,v,m,g,y,b,x,k,w,S,T,C,O,A;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pendingRead.has(t)){e.next=3;break}return n=this.pendingRead.get(t),e.abrupt("return",new Promise((function(e){return n.push(e)})));case 3:if(r=this.texData.get(t),i=r.values,a=r.shape,o=r.slice,s=r.dtype,c=r.complexTensorInfos,d=r.isPacked,null==o){e.next=11;break}return p=d?new Pr(a,Er):new br(a,Er),h=this.runWebGLProgram(p,[{dataId:t,shape:a,dtype:s}],s),v=this.read(h.dataId),this.disposeIntermediateTensorInfo(h),e.abrupt("return",v);case 11:if(null==i){e.next=13;break}return e.abrupt("return",this.convertAndCacheOnCPU(t));case 13:if(!(0,u.env)().getBool("DEBUG")){e.next=16;break}if((0,u.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")||2!==(0,u.env)().getNumber("WEBGL_VERSION")){e.next=16;break}throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");case 16:if(m=null,"complex64"!==s&&(0,u.env)().get("WEBGL_BUFFER_SUPPORTED")&&(g=this.decode(t),b=this.texData.get(g.dataId),m=(y=this.gpgpu).createBufferFromTexture.apply(y,[b.texture.texture].concat((0,f.Z)(_(a))))),this.pendingRead.set(t,[]),"complex64"===s){e.next=22;break}return e.next=22,this.gpgpu.createAndWaitForFence();case 22:if("complex64"!==s){e.next=31;break}return e.next=25,Promise.all([this.read(c.real.dataId),this.read(c.imag.dataId)]);case 25:k=e.sent,w=k[0],S=k[1],x=u.backend_util.mergeRealAndImagArrays(w,S),e.next=32;break;case 31:null==m?x=this.getValuesFromTexture(t):(T=u.util.sizeFromShape(a),x=this.gpgpu.downloadFloat32MatrixFromBuffer(m,T));case 32:return null!=g&&this.disposeIntermediateTensorInfo(g),null!=m&&E(C=this.gpgpu.gl,(function(){return C.deleteBuffer(m)})),O=this.convertAndCacheOnCPU(t,x),A=this.pendingRead.get(t),this.pendingRead.delete(t),A.forEach((function(e){return e(O)})),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)&&(0,u.engine)().removeDataId(t,this),this.pendingDeletes--),e.abrupt("return",O);case 40:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readToGPU",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.texData.get(e),r=n.values,i=n.shape,a=n.slice,o=n.dtype,s=n.isPacked,c=n.texture;if("complex64"===o)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=a){var l;l=s?new Pr(i,Er):new br(i,Er);var f=this.runWebGLProgram(l,[{dataId:e,shape:i,dtype:o}],o),d=this.readToGPU(f,t);return this.disposeIntermediateTensorInfo(f),d}if(null==c)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");var p=this.decode(e,t.customTexShape),h=(0,u.engine)().makeTensorFromTensorInfo(p),v=this.texData.get(p.dataId);return Object.assign({tensorRef:h},v.texture)}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var n=t.map((function(e){return u.util.decodeString(e)}));return(0,u.buffer)(e.shape,e.dtype,n)}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return(0,u.buffer)(e.shape,e.dtype,t)}},{key:"checkNumericalProblems",value:function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!C(n)){if((0,u.env)().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value ".concat(n," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value ".concat(n," cannot be represented on this device."))}}}},{key:"getValuesFromTexture",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,i=t.isPacked,a=u.util.sizeFromShape(n);if((0,u.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var o,s=this.decode(e),c=this.texData.get(s.dataId),l=(o=this.gpgpu).downloadMatrixFromPackedTexture.apply(o,[c.texture.texture].concat((0,f.Z)(_(n)))).subarray(0,a);return this.disposeIntermediateTensorInfo(s),l}var d=(0,u.env)().getBool("WEBGL_PACK")&&!0===i,p=d?oe(n):n,h=d?new st(p):new ot(p),v=this.runWebGLProgram(h,[{shape:p,dtype:r,dataId:e}],"float32"),m=this.texData.get(v.dataId),g=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(m.texture.texture,m.texShape[0],m.texShape[1]).subarray(0,a);return this.disposeIntermediateTensorInfo(v),g}},{key:"timerAvailable",value:function(){return(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}},{key:"time",value:function(e){var t=this,n=this.activeTimers,r=[],i=!1;null==this.programTimersStack?(this.programTimersStack=r,i=!0):this.activeTimers.push(r),this.activeTimers=r,e();var a=u.util.flatten(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),o=u.util.flatten(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e}));this.activeTimers=n,i&&(this.programTimersStack=null);var s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(0,d.Z)((0,l.Z)().mark((function e(){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=8;break}return e.next=3,Promise.all(a);case 3:n=e.sent,s.kernelMs=u.util.sum(n),s.getExtraProfileInfo=function(){return n.map((function(e,t){return{name:o[t],ms:e}})).map((function(e){return"".concat(e.name,": ").concat(e.ms)})).join(", ")},e.next=9;break;case 8:s.kernelMs={error:"WebGL query timers are not supported in this environment."};case 9:return t.uploadWaitMs=0,t.downloadWaitMs=0,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))()}},{key:"memory",value:function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}},{key:"startTimer",value:function(){return(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:u.util.now(),endMs:null}}},{key:"endTimer",value:function(e){return(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=u.util.now(),e)}},{key:"getQueryTime",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=2;break}return e.abrupt("return",this.gpgpu.waitForQueryAndGetTime(t));case 2:return n=t,e.abrupt("return",n.endMs-n.startMs);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);var n=this.texData.get(e),r=n.complexTensorInfos;return null!=r&&(this.disposeData(r.real.dataId,t),this.disposeData(r.imag.dataId,t)),this.texData.delete(e),!0}},{key:"releaseGPUData",value:function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,i=t.texShape,a=t.usage,o=t.isPacked,s=t.slice,u=s&&s.origDataId||e,c=this.dataRefCount.get(u);c>1?this.dataRefCount.set(u,c-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(i,r),this.textureManager.releaseTexture(n,i,a,o)));var l=this.texData.get(e);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null}},{key:"getTexture",value:function(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}},{key:"getDataInfo",value:function(e){return this.texData.get(e)}},{key:"shouldExecuteOnCPU",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jr;return(0,u.env)().getBool("WEBGL_CPU_FORWARD")&&e.every((function(e){return null==t.texData.get(e.dataId).texture&&u.util.sizeFromShape(e.shape)<n}))}},{key:"getGPGPUContext",value:function(){return this.gpgpu}},{key:"where",value:function(e){u.backend_util.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return Dr(e.shape,t)}},{key:"packedUnaryOp",value:function(e,t,n){var r=new Pr(e.shape,t),i=this.compileAndRun(r,[e],n);return(0,u.engine)().makeTensorFromTensorInfo(i)}},{key:"abs",value:function(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){var t=Xn(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if((0,u.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,wr,e.dtype);var n=new br(e.shape,wr),r=this.compileAndRun(n,[e]);return(0,u.engine)().makeTensorFromTensorInfo(r)}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&u.util.isString(n[0])){var i=n.map((function(e){return u.util.encodeString(e)}));r=this.write(i,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}},{key:"makeOutput",value:function(e,t,n){return(0,u.engine)().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}},{key:"unpackTensor",value:function(e){var t=new Mr(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}},{key:"packTensor",value:function(e){var t=new pr(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}},{key:"packedReshape",value:function(e,t){var n=[ie(e.shape)].concat((0,f.Z)(ae(e.shape))),r={dtype:e.dtype,shape:n,dataId:e.dataId},i=[ie(t)].concat((0,f.Z)(ae(t))),a=new hr(i,n),o=[n],s=this.runWebGLProgram(a,[r],e.dtype,o,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}},{key:"decode",value:function(e,t){var n=this.texData.get(e),r=n.isPacked,i=n.shape,a=n.dtype;if(null!=t){var o=u.util.sizeFromShape(i),s=t[0]*t[1]*4;u.util.assert(o<=s,(function(){return"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."}))}var c,l=oe(i);c=r?new at(l):new it(l);var f=[null!=t?t:_(l)];return{dtype:a,shape:i,dataId:this.runWebGLProgram(c,[{shape:l,dtype:a,dataId:e}],a,f,!0,t).dataId}}},{key:"runWebGLProgram",value:function(e,t,n,r){var i=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5?arguments[5]:void 0,c=this.makeTensorInfo(e.outputShape,n),l=this.texData.get(c.dataId);if(e.packedOutput&&(l.isPacked=!0),e.outPackingScheme===a.DENSE){var f=null!=s?s:_(e.outputShape);l.texShape=f.map((function(e){return 2*e}))}if(null!=e.outTexUsage&&(l.usage=e.outTexUsage),0===u.util.sizeFromShape(c.shape))return l.values=u.util.getTypedArrayFromDType(c.dtype,0),c;var d=[],p=t.map((function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=i.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&u.util.sizeFromShape(t.shape)<=(0,u.env)().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(i.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?i.unpackTensor(t):i.packTensor(t),d.push(t),n=i.texData.get(t.dataId);else if(n.isPacked&&!ce(n.shape,t.shape)){var r=t,a=t.shape;t.shape=n.shape,t=i.packedReshape(t,a),d.push(t),n=i.texData.get(t.dataId),r.shape=a}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(c.dataId);var h,v={shape:c.shape,texData:l,isUniform:!1},m=nt(e,p,v),g=this.getAndSaveBinary(m,(function(){return Je(i.gpgpu,e,p,v)})),y=null!=this.activeTimers;y&&(h=this.startTimer()),(0,u.env)().get("ENGINE_COMPILE_ONLY")||tt(this.gpgpu,g,p,v,r),d.forEach((function(e){return i.disposeIntermediateTensorInfo(e)})),y&&(h=this.endTimer(h),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(h)}));var b=(0,u.env)().get("WEBGL_FLUSH_THRESHOLD");if(b>0){var x=u.util.now();x-this.lastGlFlushTime>b&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=x)}if(!(0,u.env)().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&!1===o){var k=this.unpackTensor(c);return this.disposeIntermediateTensorInfo(c),k}return c}},{key:"compileAndRun",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n=n||t[0].dtype;var a=this.runWebGLProgram(e,t,n,r,i);return a}},{key:"getAndSaveBinary",value:function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}},{key:"getTextureManager",value:function(){return this.textureManager}},{key:"dispose",value:function(){var e=this;if(!this.disposed){if(!(0,u.env)().getBool("IS_TEST"))Object.keys(this.binaryCache).forEach((function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]}));this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}},{key:"floatPrecision",value:function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=(0,u.tidy)((function(){if(!(0,u.env)().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=(0,u.env)().getBool("DEBUG");(0,u.env)().set("DEBUG",!1);var n=e.abs((0,u.scalar)(1e-8)).dataSync()[0];if((0,u.env)().set("DEBUG",t),n>0)return 32}return 16}))),this.floatPrecisionValue}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"uploadToGPU",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,i=t.values,a=t.texture,s=t.usage,l=t.isPacked;if(null==a){var f,d=null!=this.activeTimers;d&&(f=u.util.now());var p=t.texShape;if(null==p&&(p=se(n,l),t.texShape=p),null!=i){var h,v=oe(n),m=p[1],g=p[0],y=i instanceof Uint8Array||i instanceof Uint8ClampedArray;if(l||!y){var b=S(p[0],p[1]),x=(0,c.Z)(b,2);m=x[0],g=x[1]}h=l?new ct(v,y):new ut(v,y);var k=y?[g,m]:p,w=this.makeTensorInfo(k,r),_=this.texData.get(w.dataId);_.usage=y?o.PIXELS:o.UPLOAD,_.texShape=k,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(w.dataId),m,g,i);var T=[[g,m]],E=this.runWebGLProgram(h,[w],r,T,!0),C=this.texData.get(E.dataId);t.texShape=C.texShape,t.isPacked=C.isPacked,t.usage=C.usage,(0,u.env)().get("ENGINE_COMPILE_ONLY")?this.disposeData(E.dataId):(t.texture=C.texture,t.values=null,this.texData.delete(E.dataId)),this.disposeIntermediateTensorInfo(w),d&&(this.uploadWaitMs+=u.util.now()-f)}else{var O=this.acquireTexture(p,s,r,l);t.texture=O}}}},{key:"convertAndCacheOnCPU",value:function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype ".concat(t))}(t,r)),n.values}},{key:"acquireTexture",value:function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(i," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)}},{key:"computeBytes",value:function(e,t){return e[0]*e[1]*u.util.bytesPerElement(t)}},{key:"checkCompileCompletion",value:function(){for(var e=0,t=Object.entries(this.binaryCache);e<t.length;e++){var n=(0,c.Z)(t[e],2)[1];this.checkCompletion_(n)}}},{key:"checkCompileCompletionAsync",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){var t,n,r,i,a,o,s,u,f=this;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!this.gpgpu.parallelCompilationExtension){e.next=6;break}for(n=0,r=Object.entries(this.binaryCache);n<r.length;n++)i=(0,c.Z)(r[n],2),a=i[1],t.push(this.checkCompletionAsync_(a));return e.abrupt("return",Promise.all(t));case 6:for(o=function(){var e=(0,c.Z)(u[s],2)[1],n=new Promise((function(t){try{f.checkCompletion_(e),t(!0)}catch(n){throw n}}));t.push(n)},s=0,u=Object.entries(this.binaryCache);s<u.length;s++)o();return e.abrupt("return",Promise.all(t));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkCompletionAsync_",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.gpgpu.gl.getProgramParameter(t.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)){e.next=4;break}return e.abrupt("return",this.checkCompletion_(t));case 4:return e.next=6,(0,u.nextFrame)();case 6:return e.abrupt("return",this.checkCompletionAsync_(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkCompletion_",value:function(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw D(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}},{key:"getUniformLocations",value:function(){for(var e=0,t=Object.entries(this.binaryCache);e<t.length;e++){var n=(0,c.Z)(t[e],2)[1],r=$e(this.gpgpu,n.program,n.webGLProgram),i=r.uniformLocations,a=r.customUniformLocations,o=r.infLoc,s=r.nanLoc,u=r.inShapesLocations,l=r.inTexShapesLocations,f=r.outShapeLocation,d=r.outShapeStridesLocation,p=r.outTexShapeLocation;n.uniformLocations=i,n.customUniformLocations=a,n.infLoc=o,n.nanLoc=s,n.inShapesLocations=u,n.inTexShapesLocations=l,n.outShapeLocation=f,n.outShapeStridesLocation=d,n.outTexShapeLocation=p}}}]),n}(u.KernelBackend);Fr.nextDataId=0;var Zr="3.18.0";function Br(){(0,u.env)().set("WEBGL_FORCE_F16_TEXTURES",!0)}u.device_util.isBrowser()&&(0,u.registerBackend)("webgl",(function(){return new Fr}),2);var Ur={forceHalfFloat:Br},Vr=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["A","B"],this.outputShape=u.backend_util.assertAndGetBroadcastShape(n,r),this.enableShapeUniforms=rt(this.outputShape.length),this.userCode="\n      float binaryOperation(float a, float b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ")})),zr=(0,h.Z)((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,p.Z)(this,e),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=u.backend_util.assertAndGetBroadcastShape(n,r);var a=this.outputShape.length;this.enableShapeUniforms=rt(a);var o="";if(i)if(0===a||1===u.util.sizeFromShape(this.outputShape))o="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{var s=Ke(a);if(o="\n          ".concat(s," coords = getOutputCoords();\n        "),1===a)this.enableShapeUniforms?o+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":o+="\n            result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ");else{var c=dr("coords",a);this.enableShapeUniforms?o+="\n            bool nextRowOutOfBounds =\n              (".concat(c[a-2]," + 1) >= outShape[").concat(a," - 2];\n            bool nextColOutOfBounds =\n              (").concat(c[a-1]," + 1) >= outShape[").concat(a," - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "):o+="\n            bool nextRowOutOfBounds =\n              (".concat(c[a-2]," + 1) >= ").concat(this.outputShape[a-2],";\n            bool nextColOutOfBounds =\n              (").concat(c[a-1]," + 1) >= ").concat(this.outputShape[a-1],";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ")}}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ").concat(o,"\n\n        setOutput(result);\n      }\n    ")}));function Wr(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var Hr={kernelName:u.Identity,backendName:"webgl",kernelFunc:Wr};function Gr(e){var t=e.inputs,n=e.backend,r=t.real,i=t.imag,a=n.makeTensorInfo(r.shape,"complex64"),o=n.texData.get(a.dataId),s=Wr({inputs:{x:r},backend:n}),u=Wr({inputs:{x:i},backend:n});return o.complexTensorInfos={real:s,imag:u},a}var qr={kernelName:u.Complex,backendName:"webgl",kernelFunc:Gr},Kr="return (a < 0.) ? b * a : a;",Yr="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var Xr={kernelName:u.LeakyRelu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.alpha,o=n.makeTensorInfo([],"float32",u.util.createScalarValue(a,"float32")),s=(0,u.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new zr(Yr,i.shape,o.shape):new Vr(Kr,i.shape,o.shape),c=n.runWebGLProgram(s,[i,o],"float32");return n.disposeIntermediateTensorInfo(o),c}},Qr="return (a < 0.) ? b * a : a;",Jr="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var $r={kernelName:u.Prelu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=t.alpha,a=(0,u.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new zr(Jr,r.shape,i.shape):new Vr(Qr,r.shape,i.shape);return n.runWebGLProgram(a,[r,i],"float32")}};function ei(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.cpuKernelImpl,i=e.dtype;return function(e){var a,o=e.inputs,s=e.backend,c=o.x,l=s,f=i||c.dtype;if(l.shouldExecuteOnCPU([c])&&null!=r){var d=l.texData.get(c.dataId),p=r(d.values,f);return l.makeTensorInfo(c.shape,f,p)}return a=(0,u.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new Pr(c.shape,n):new br(c.shape,t),l.runWebGLProgram(a,[c],f)}}function ti(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.checkOutOfBounds,i=void 0!==r&&r,a=e.supportsComplex,o=void 0!==a&&a,s=e.cpuKernelImpl,l=e.dtype;return function(e){var r=e.inputs,a=e.backend,f=r.a,d=r.b,p=a;if(o&&"complex64"===f.dtype){var h=p.texData.get(f.dataId),v=p.texData.get(d.dataId),m=[[h.complexTensorInfos.real,v.complexTensorInfos.real],[h.complexTensorInfos.imag,v.complexTensorInfos.imag]].map((function(e){var n=(0,c.Z)(e,2),r=n[0],i=n[1],a={dataId:r.dataId,dtype:r.dtype,shape:f.shape},o={dataId:i.dataId,dtype:i.dtype,shape:d.shape},s=new Vr(t,f.shape,d.shape);return p.runWebGLProgram(s,[a,o],(0,u.upcastType)(r.dtype,i.dtype))})),g=(0,c.Z)(m,2),y=g[0],b=g[1],x=Gr({inputs:{real:y,imag:b},backend:p});return p.disposeIntermediateTensorInfo(y),p.disposeIntermediateTensorInfo(b),x}var k,w=l||(0,u.upcastType)(f.dtype,d.dtype);if(("string"===f.dtype||"string"===d.dtype||p.shouldExecuteOnCPU([f,d]))&&null!=s){var _=p.texData.get(f.dataId).values,S=p.texData.get(d.dataId).values,T="string"===f.dtype?u.backend_util.fromUint8ToStringArray(_):_,E="string"===f.dtype?u.backend_util.fromUint8ToStringArray(S):S,C=s(f.shape,d.shape,T,E,w),O=(0,c.Z)(C,2),A=O[0],I=O[1],R=p.makeTensorInfo(I,w);return p.texData.get(R.dataId).values=A,R}return k=(0,u.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new zr(n,f.shape,d.shape,i):new Vr(t,f.shape,d.shape),p.runWebGLProgram(k,[f,d],w)}}function ni(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return t?Or:kr;if("relu"===e)return t?Ir:Sr;if("elu"===e)return t?Ar:_r;if("relu6"===e)return t?Rr:Tr;if("prelu"===e)return t?Jr:Qr;if("leakyrelu"===e)return t?Yr:Kr;if("sigmoid"===e)return t?Nr:Cr;throw new Error("Activation ".concat(e," has not been implemented for the WebGL backend."))}var ri=(0,h.Z)((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];(0,p.Z)(this,e),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=rt(this.outputShape.length);var l=i?t[1]:t[2],f=Math.ceil(l/2),d=i?"i * 2, rc.y":"rc.y, i * 2",h=a?"rc.z, i * 2":"i * 2, rc.z",v=i?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=a?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],g="",y="";s&&(g=u?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(s,"\n        }"):c?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(s,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(s,"\n        }"),y="result = activation(result);");var b=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),u&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha");var x="rc.x",k="rc.x";t[0]<n[0]?x="int(min(float(rc.x), ".concat(t[0]-1,".))"):n[0]<t[0]&&(k="int(min(float(rc.x), ".concat(n[0]-1,".))")),this.userCode="\n      ".concat(g,"\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ").concat(f,".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ").concat(f,"; i++) {\n          int batchA = ").concat(x,";\n          int batchB = ").concat(k,";\n          vec4 a = getMatrixA(batchA, ").concat(d,");\n          vec4 b = getMatrixB(batchB, ").concat(h,");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (").concat(v[0]," * ").concat(m[0],");\n          result += (").concat(v[1]," * ").concat(m[1],");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ").concat(b,"\n\n        ").concat(y,"\n\n        setOutput(result);\n      }\n    ")})),ii="return areal * breal - aimag * bimag;",ai="return areal * bimag + aimag * breal;",oi=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=u.backend_util.assertAndGetBroadcastShape(n,r),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ")})),si="return a * b;";function ui(e){var t,n=e.inputs,r=e.backend,i=n.a,a=n.b,o=u.backend_util.upcastType(i.dtype,a.dtype);if("complex64"===i.dtype){var s=r.texData.get(i.dataId),l=r.texData.get(a.dataId),f=new oi(ii,i.shape,a.shape),d=new oi(ai,i.shape,a.shape),p=[{dataId:s.complexTensorInfos.real.dataId,dtype:s.complexTensorInfos.real.dtype,shape:i.shape},{dataId:s.complexTensorInfos.imag.dataId,dtype:s.complexTensorInfos.imag.dtype,shape:i.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:a.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:a.shape}],h=r.runWebGLProgram(f,p,"float32"),v=r.runWebGLProgram(d,p,"float32"),m=Gr({inputs:{real:h,imag:v},backend:r});return r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(v),m}if(r.shouldExecuteOnCPU([i,a])){var g=r.texData.get(i.dataId),y=r.texData.get(a.dataId),b=Vn(i.shape,a.shape,g.values,y.values,o),x=(0,c.Z)(b,2),k=x[0],w=x[1],_=r.makeTensorInfo(w,o);return r.texData.get(_.dataId).values=k,_}return t=(0,u.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new zr(si,i.shape,a.shape):new Vr(si,i.shape,a.shape),r.runWebGLProgram(t,[i,a],o)}var ci={kernelName:u.Multiply,backendName:"webgl",kernelFunc:ui};function li(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.shape,o=n,s=u.util.sizeFromShape(i.shape),c=u.util.inferFromImplicitShape(a,s),l=u.util.sizeFromShape(c);u.util.assert(s===l,(function(){return"The new shape (".concat(c,") has ").concat(l," elements and the old ")+"shape (".concat(i.shape,") has ").concat(s," elements. The new shape and old ")+"shape must have the same number of elements."}));var d=o.texData.get(i.dataId);return!d.isPacked||ce(i.shape,c)||null!==d.texture&&ce(d.shape,c)?(o.incRef(i.dataId),{dataId:i.dataId,shape:c,dtype:i.dtype}):function(e,t,n){var r=[ie(e.shape)].concat((0,f.Z)(ae(e.shape))),i={dtype:e.dtype,shape:r,dataId:e.dataId},a=[ie(t)].concat((0,f.Z)(ae(t))),o=new hr(a,r),s=[r],u=n.runWebGLProgram(o,[i],e.dtype,s,!0);return{dataId:u.dataId,shape:t,dtype:u.dtype}}(i,c,o)}var fi={kernelName:u.Reshape,backendName:"webgl",kernelFunc:li},di=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["x"];var r=t.windowSize,i=t.batchSize,a=t.inSize,o=t.outSize;this.outputShape=[i,o];var s=4*Math.floor(r/4),c=r%4,l="sumValue += dot(values, ones);";if(null!=n){var f=1/n;l="sumValue += dot(values * ".concat(u.util.isInt(f)?f.toPrecision(2):f,", ones);")}var d="";a%r>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(a,") {\n          return 0.0;\n        }\n      ")),this.userCode="\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ".concat(d,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(s,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(s,";\n        if (").concat(1===c,") {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(2===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(3===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ").concat(l,"\n        }\n        setOutput(sumValue);\n      }\n    ")})),pi=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["x"];var r=t.windowSize,i=t.batchSize,a=t.inSize,o=t.outSize;this.outputShape=[i,o];var s="0.0",u="";"prod"===n?s="1.0":"min"===n?(s="1.0 / 1e-20",u="min"):"max"===n&&(s="-1.0 / 1e-20",u="max");var c="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===n?c="sumValue":"prod"===n?c="prodValue":"all"===n?c="allValue":"any"===n&&(c="anyValue");var l=4*Math.floor(r/4),f=r%4,d="\n      if (".concat("sum"===n,") {\n        sumValue += dot(values, ones);\n      } else if (").concat("prod"===n,") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ").concat(u,"(values, minMaxValue);\n        if (").concat("min"===n," || ").concat("max"===n,") {\n          minMaxValue = ").concat(u,"(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    "),h="vec4";"all"===n?(s="1.0",d="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",h="bvec4"):"any"===n&&(s="0.0",d="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",h="bvec4");var v="";a%r>0&&(v="\n        if (inIdx < 0 || inIdx >= ".concat(a,") {\n          return initializationValue;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(s,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ").concat(v,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        vec4 minMaxValue = vec4(").concat(s,");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ").concat(l,"; i += 4) {\n          int inIdx = inOffset + i;\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(d,"\n        }\n\n        int inIdx = inOffset + ").concat(l,";\n        if (").concat(1===f,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(d,"\n        } else if (").concat(2===f,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(d,"\n        } else if (").concat(3===f,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ").concat(d,"\n        }\n        setOutput(").concat(c,");\n      }\n    ")}));function hi(e,t,n,r){for(var i=function(e){for(var t=[];0===t.length||1!==t[t.length-1].outSize;){var n=t.length?t[t.length-1].outSize:e[1],r=u.backend_util.computeOptimalWindowSize(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape),a=e,o=0;o<i.length;o++){var s,c=i[o],l=c.inSize,f=c.windowSize,d=c.outSize,p=void 0;p="mean"===n?0===o?new di({windowSize:f,inSize:l,batchSize:e.shape[0],outSize:d},l):new di({windowSize:f,inSize:l,batchSize:e.shape[0],outSize:d}):new pi({windowSize:f,inSize:l,batchSize:e.shape[0],outSize:d},n),s=a,a=r.runWebGLProgram(p,[a],t),s.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(s)}return a}var vi=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),i=0;i<r.length;i++)r[i]=t[n[i]];this.outputShape=r,this.rank=r.length;var a=Ke(this.rank),o=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank ".concat(t," is not yet supported"));for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),i=0;i<e.length;i++)r[e[i]]=n[i];return r.join()}(n);this.userCode="\n    void main() {\n      ".concat(a," resRC = getOutputCoords();\n      setOutput(getA(").concat(o,"));\n    }\n    ")}));var mi=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var r=new Array(t.length),i=0;i<r.length;i++)r[i]=t[n[i]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));for(var a=Ke(this.rank),o=fr("rc",this.rank),s=new Array(this.rank),u=0;u<n.length;u++)s[n[u]]=o[u];var c="vec2(".concat(s.slice(-2).join(),")"),l="++".concat(o[this.rank-1]," < ").concat(r[this.rank-1]),f="getChannel(getA(".concat(s.join(),"), ").concat(c,")");this.userCode="\n    void main() {\n      ".concat(a," rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ").concat(f,";\n      if(").concat(l,") {\n        result[1] = ").concat(f,";\n      }\n      --").concat(o[this.rank-1],";\n      if(++").concat(o[this.rank-2]," < ").concat(r[this.rank-2],") {\n        result[2] = ").concat(f,";\n        if(").concat(l,") {\n          result[3] = ").concat(f,";\n        }\n      }\n      setOutput(result);\n    }\n    ")}));function gi(e,t,n){var r=(0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new mi(e.shape,t):new vi(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function yi(e){var t=e.inputs,n=e.backend,r=e.attrs;return function(e,t,n,r){var i=t,a=e.shape.length,o=u.util.parseAxisParam(i,e.shape),s=o,l=u.backend_util.getAxesPermutation(s,a),f=null!=l,d=e;f&&(d=gi(e,l,r),s=u.backend_util.getInnerMostAxes(s.length,a)),u.backend_util.assertAxesAreInnerMostDims("sum",s,a);var p=u.backend_util.computeOutAndReduceShapes(d.shape,s),h=(0,c.Z)(p,2),v=h[0],m=h[1],g=v;n&&(g=u.backend_util.expandShapeToKeepDim(v,o));var y=u.util.sizeFromShape(m),b=li({inputs:{x:d},attrs:{shape:[u.util.sizeFromShape(e.shape)/y,y]},backend:r}),x=hi(b,(0,u.sumOutType)(e.dtype),"sum",r),k=li({inputs:{x:x},attrs:{shape:g},backend:r});return r.disposeIntermediateTensorInfo(b),r.disposeIntermediateTensorInfo(x),f&&r.disposeIntermediateTensorInfo(d),k}(t.x,r.axis,r.keepDims,n)}var bi={kernelName:u.Sum,backendName:"webgl",kernelFunc:yi};function xi(e){for(var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=i.perm,s=r,u=a.shape.length,c=new Array(u),l=0;l<c.length;l++)c[l]=a.shape[o[l]];if(s.shouldExecuteOnCPU([a])){var f=s.texData.get(a.dataId).values,d=cr(f,a.shape,a.dtype,o,c);t=s.makeTensorInfo(c,a.dtype),s.texData.get(t.dataId).values=d}else t=gi(a,o,s);return t}var ki={kernelName:u.Transpose,backendName:"webgl",kernelFunc:xi};function wi(e){var t=e.a,n=e.b,r=e.transposeA,i=e.transposeB,a=e.backend,o=e.bias,s=void 0===o?null:o,c=e.preluActivationWeights,l=void 0===c?null:c,f=e.leakyreluAlpha,d=void 0===f?0:f,p=e.activation,h=void 0===p?null:p,v=t.shape.length,m=n.shape.length,g=r?t.shape[v-2]:t.shape[v-1],y=i?n.shape[m-1]:n.shape[m-2],b=r?t.shape[v-1]:t.shape[v-2],x=i?n.shape[m-2]:n.shape[m-1],k=t.shape.slice(0,-2),w=n.shape.slice(0,-2),_=u.util.sizeFromShape(k),S=u.util.sizeFromShape(w),T=u.broadcast_util.assertAndGetBroadcastShape(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([b,x]);u.util.assert(g===y,(function(){return"Error in matMul: inner shapes (".concat(g,") and (")+"".concat(y,") of Tensors with shapes ").concat(t.shape," and ")+"".concat(n.shape," and transposeA=").concat(r)+" and transposeB=".concat(i," must match.")}));var E,C=r?[_,g,b]:[_,b,g],O=i?[S,x,y]:[S,y,x],A=li({inputs:{x:t},backend:a,attrs:{shape:C}}),I=li({inputs:{x:n},backend:a,attrs:{shape:O}}),R=[A,I],N=Math.max(_,S),P=r?A.shape[1]:A.shape[2],M=null!=s,D=null!=l,L="leakyrelu"===h,j=null!=h?ni(h,!0):null;if((1===b||1===x)&&P>1e3&&!1===(M||D||L||null!=j)){var F=A,Z=I;r&&(F=xi({inputs:{x:A},backend:a,attrs:{perm:[0,2,1]}}),R.push(F)),i&&(Z=xi({inputs:{x:I},backend:a,attrs:{perm:[0,2,1]}}),R.push(Z));var B=1===x,U=F;1!==x&&(U=li({inputs:{x:F},backend:a,attrs:{shape:[N,P,1]}}),R.push(U));var V=1===x?2:1,z=Z;B&&(z=li({inputs:{x:Z},backend:a,attrs:{shape:[N,1,P]}}),R.push(z));var W=ui({inputs:{a:U,b:z},backend:a});E=yi({inputs:{x:W},backend:a,attrs:{axis:V,keepDims:!0}}),R.push(W)}else{var H=(0,u.upcastType)(t.dtype,n.dtype),G=new ri(C,O,[N,b,x],r,i,M,j,D,L),q=[A,I];if(null!=s&&q.push(s),D&&q.push(l),L){var K=a.makeTensorInfo([],"float32",u.util.createScalarValue(d,"float32"));q.push(K),R.push(K)}E=a.runWebGLProgram(G,q,H)}var Y=li({inputs:{x:E},backend:a,attrs:{shape:T}});R.push(E);for(var X=0,Q=R;X<Q.length;X++){var J=Q[X];a.disposeIntermediateTensorInfo(J)}return Y}var _i={kernelName:u._FusedMatMul,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.a,a=t.b,o=t.bias,s=t.preluActivationWeights,u=r.transposeA,c=r.transposeB,l=r.activation;return wi({a:i,b:a,transposeA:u,transposeB:c,backend:n,bias:o,preluActivationWeights:s,leakyreluAlpha:r.leakyreluAlpha,activation:l})}},Si="return abs(x);";var Ti={kernelName:u.Abs,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=n.x;if(r.shouldExecuteOnCPU([i])&&"complex64"!==i.dtype){var a=r.texData.get(i.dataId),o=Xn(a.values);return r.makeTensorInfo(i.shape,i.dtype,o)}return t=(0,u.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Pr(i.shape,Si):new br(i.shape,Si),r.runWebGLProgram(t,[i],i.dtype)}},Ei=ei({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),Ci={kernelName:u.Acos,backendName:"webgl",kernelFunc:Ei},Oi=ei({opSnippet:"if (isnan(x)) return x;\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),Ai={kernelName:u.Acosh,backendName:"webgl",kernelFunc:Oi},Ii="return a + b;",Ri=ti({opSnippet:Ii,packedOpSnippet:Ii,supportsComplex:!0,cpuKernelImpl:wn}),Ni={kernelName:u.Add,backendName:"webgl",kernelFunc:Ri},Pi=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.outputShape=[],this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("float v".concat(e," = get").concat(e,"AtOutCoords();"))}));var i=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        float result = ").concat(i,";\n        setOutput(result);\n      }\n    ")})),Mi=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("vec4 v".concat(e," = get").concat(e,"AtOutCoords();"))}));var i=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        vec4 result = ").concat(i,";\n        setOutput(result);\n      }\n    ")}));var Di={kernelName:u.AddN,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,i=n;if(1===i.length)return Wr({inputs:{x:i[0]},backend:r});if(i.length>(0,u.env)().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var a=Math.floor(i.length/2),o=e({inputs:i.slice(0,a),backend:r}),s=e({inputs:i.slice(a),backend:r});return e({inputs:[o,s],backend:r})}var c=i.map((function(e){return e.dtype})).reduce((function(e,t){return(0,u.upcastType)(e,t)})),l=i.map((function(e){return e.shape})),f=(0,u.env)().getBool("WEBGL_PACK")?new Mi(i[0].shape,l):new Pi(i[0].shape,l);return r.runWebGLProgram(f,i,c)}};var Li={kernelName:u.All,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.keepDims,s=i.shape.length,l=u.util.parseAxisParam(a,i.shape),f=l,d=u.backend_util.getAxesPermutation(f,s),p=i;null!=d&&(p=xi({inputs:{x:i},backend:n,attrs:{perm:d}}),f=u.backend_util.getInnerMostAxes(f.length,s)),u.backend_util.assertAxesAreInnerMostDims("all",f,s);var h,v=u.backend_util.computeOutAndReduceShapes(p.shape,f),m=(0,c.Z)(v,2),g=m[0],y=m[1],b=li({inputs:{x:p},backend:n,attrs:{shape:[-1,u.util.sizeFromShape(y)]}}),x=hi(b,b.dtype,"all",n);return h=li(o?{inputs:{x:x},backend:n,attrs:{shape:u.backend_util.expandShapeToKeepDim(g,l)}}:{inputs:{x:x},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(x),null!=d&&n.disposeIntermediateTensorInfo(p),h}};var ji={kernelName:u.Any,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.keepDims,s=i.shape.length,l=u.util.parseAxisParam(a,i.shape),f=l,d=u.backend_util.getAxesPermutation(f,s),p=i;null!=d&&(p=xi({inputs:{x:i},backend:n,attrs:{perm:d}}),f=u.backend_util.getInnerMostAxes(f.length,s)),u.backend_util.assertAxesAreInnerMostDims("any",f,s);var h,v=u.backend_util.computeOutAndReduceShapes(p.shape,f),m=(0,c.Z)(v,2),g=m[0],y=m[1],b=li({inputs:{x:p},backend:n,attrs:{shape:[-1,u.util.sizeFromShape(y)]}}),x=hi(b,b.dtype,"any",n);return h=li(o?{inputs:{x:x},backend:n,attrs:{shape:u.backend_util.expandShapeToKeepDim(g,l)}}:{inputs:{x:x},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(x),null!=d&&n.disposeIntermediateTensorInfo(p),h}},Fi=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["A"];var i=t.windowSize,a=t.batchSize,o=t.outSize;r||this.variableNames.push("bestIndicesA"),this.outputShape=[a,o];var s="max"===n?">":"<",u=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ".concat(i,";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ").concat(i,"; i++) {\n          int inIdx = ").concat(u,";\n          float candidate = getA(batch, inIdx);\n          if (candidate ").concat(s," bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ")})),Zi=(0,h.Z)((function e(t,n,r,i){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,u.util.assert(t.length>2,(function(){return"Packed arg".concat(r.charAt(0).toUpperCase()+r.slice(1)," supports only inputs with rank above 2.")}));var a=t[t.length-1],o=Math.ceil(a/n);this.outputShape=t.slice(0,-1),o>1&&this.outputShape.push(o),i||this.variableNames.push("bestIndicesA");var s,c,l=this.outputShape,f=l.length,d=Ke(f),h=dr("coords",f);if(1===o){var v=Ke(c=f+1);s="\n        ".concat(v," sourceLocR = ").concat(v,"(").concat(h.join(),", 0);\n        ++").concat(h[f-1],";\n        ").concat(v," sourceLocG = ").concat(v,"(").concat(h.join(),", 0);\n        ++").concat(h[f-2],";\n        ").concat(v," sourceLocA = ").concat(v,"(").concat(h.join(),", 0);\n        --").concat(h[f-1],";\n        ").concat(v," sourceLocB = ").concat(v,"(").concat(h.join(),", 0);\n        --").concat(h[f-2],";")}else c=f,s="\n        ".concat(d," sourceLocR = coords;\n        ++").concat(h[f-1],";\n        ").concat(d," sourceLocG = coords;\n        ++").concat(h[f-2],";\n        ").concat(d," sourceLocA = coords;\n        --").concat(h[f-1],";\n        ").concat(d," sourceLocB = coords;\n        --").concat(h[f-2],";");var m=["x","y","z","w","u","v"].slice(0,c),g="."+m[c-1],y=m.map((function(e){return"int "+e})),b=dr("sourceLocR",c-1).concat("inIdx.r"),x=dr("sourceLocG",c-1).concat("inIdx.g"),k=dr("sourceLocB",c-1).concat("inIdx.b"),w=dr("sourceLocA",c-1).concat("inIdx.a"),_="max"===r?"greaterThan":"lessThan",S=i?"":"\n          inIdx = round(vec4(getBestIndicesAChannel(".concat(b.join(),"),\n                             getBestIndicesAChannel(").concat(x.join(),"),\n                             getBestIndicesAChannel(").concat(k.join(),"),\n                             getBestIndicesAChannel(").concat(w.join(),")));"),T="vec4(\n            getAChannel(".concat(b.join(),"),\n            hasNextCol ? getAChannel(").concat(x.join(),") : 0.,\n            hasNextRow ? getAChannel(").concat(k.join(),") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(").concat(w.join(),") : 0.)"),E=i?"":"\n      float getBestIndicesAChannel(".concat(y.join(),") {\n        return getChannel(getBestIndicesA(").concat(m.join(),"),\n                                          vec2(").concat(m.slice(-2).join(),"));\n      }");this.userCode="\n      float getAChannel(".concat(y.join(),") {\n        return getChannel(getA(").concat(m.join(),"),\n                               vec2(").concat(m.slice(-2).join(),"));\n      }\n      ").concat(E,"\n      void main() {\n        ").concat(d," coords = getOutputCoords();\n        bool hasNextCol = ").concat(h[f-1]," < ").concat(l[f-1]-1,";\n        bool hasNextRow = ").concat(h[f-2]," < ").concat(l[f-2]-1,";\n        ").concat(s,"\n        ivec4 srcIdx = ivec4(sourceLocR").concat(g,", sourceLocG").concat(g,",\n          sourceLocB").concat(g,", sourceLocA").concat(g,") * ").concat(n,";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ").concat(T,";\n\n        for (int i = 0; i < ").concat(n,"; i++) {\n          inIdx = srcIdx;\n          ").concat(S,"\n          vec4 candidate = ").concat(T,";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(").concat(_,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ")}));function Bi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=t.shape[0],a=t.shape[1];null!=r&&(i=r.shape[0],a=r.shape[1]);var o=u.backend_util.computeOptimalWindowSize(a),s={windowSize:o,inSize:a,batchSize:i,outSize:Math.ceil(a/o)},c=new Fi(s,n,null==r),l=[t];null!=r&&l.push(r);var f=e.runWebGLProgram(c,l,"int32");if(1===f.shape[1])return f;var d=Bi(e,t,n,f);return e.disposeIntermediateTensorInfo(f),d}function Ui(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=null!=r?r.shape:t.shape,a=i[i.length-1],o=u.backend_util.computeOptimalWindowSize(a),s=new Zi(i,o,n,null==r),c=null==r?[t]:[t,r],l=e.runWebGLProgram(s,c,"int32");if(l.shape.length===t.shape.length){var f=Ui(e,t,n,l);return e.disposeIntermediateTensorInfo(l),f}return l}function Vi(e,t,n,r){var i=[n];if(u.backend_util.assertAxesAreInnerMostDims("arg"+r.charAt(0).toUpperCase()+r.slice(1),i,t.shape.length),!(0,u.env)().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){var a=[],o=e.texData.get(t.dataId),s=t;null!==o&&o.isPacked&&(s=e.unpackTensor(t),a.push(s));var l=u.backend_util.computeOutAndReduceShapes(s.shape,i),f=(0,c.Z)(l,2),d=f[0],p=f[1],h=u.util.sizeFromShape(p),v=li({inputs:{x:s},backend:e,attrs:{shape:[-1,h]}});a.push(v);var m=Bi(e,v,r);a.push(m);var g=li({inputs:{x:m},backend:e,attrs:{shape:d}});return a.forEach((function(t){return e.disposeIntermediateTensorInfo(t)})),g}return Ui(e,t,r)}var zi={kernelName:u.ArgMax,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=u.util.parseAxisParam(a,i.shape),s=u.backend_util.getAxesPermutation(o,i.shape.length),c=i,l=[];null!=s&&(c=xi({inputs:{x:i},backend:n,attrs:{perm:s}}),l.push(c),o=u.backend_util.getInnerMostAxes(o.length,c.shape.length)),u.backend_util.assertAxesAreInnerMostDims("argMax",[o[0]],c.shape.length);var f=Vi(n,c,o[0],"max");return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),f}};var Wi={kernelName:u.ArgMin,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=u.util.parseAxisParam(a,i.shape),s=u.backend_util.getAxesPermutation(o,i.shape.length),c=i,l=[];null!=s&&(c=xi({inputs:{x:i},backend:n,attrs:{perm:s}}),l.push(c),o=u.backend_util.getInnerMostAxes(o.length,c.shape.length)),u.backend_util.assertAxesAreInnerMostDims("argMin",[o[0]],c.shape.length);var f=Vi(n,c,o[0],"min");return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),f}},Hi=ei({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),Gi={kernelName:u.Asin,backendName:"webgl",kernelFunc:Hi},qi=ei({opSnippet:"if (isnan(x)) return x;return log(x + sqrt(x * x + 1.0));"}),Ki={kernelName:u.Asinh,backendName:"webgl",kernelFunc:qi},Yi=ei({opSnippet:"if (isnan(x)) return x;\n  return atan(x);\n"}),Xi={kernelName:u.Atan,backendName:"webgl",kernelFunc:Yi},Qi=ti({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),Ji={kernelName:u.Atan2,backendName:"webgl",kernelFunc:Qi},$i=ei({opSnippet:"if (isnan(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),ea={kernelName:u.Atanh,backendName:"webgl",kernelFunc:$i},ta=(0,h.Z)((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,p.Z)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=t.filterWidth,s=t.strideHeight,u=t.strideWidth,c=t.dilationHeight,l=t.dilationWidth,f=t.effectiveFilterHeight,d=t.effectiveFilterWidth,h=t.padInfo.top,v=t.padInfo.left;this.outputShape=t.outShape;var m="avg"===n,g="((batch  * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),y="(xR * ".concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),b="0.0";if(m||(b="-1.0 / 1e-20"),r){var x=">=";this.userCode="\n        const ivec2 strides = ivec2(".concat(s,", ").concat(u,");\n        const ivec2 pads = ivec2(").concat(h,", ").concat(v,");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ").concat(f,";\n              wR += ").concat(c,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(d,";\n                wC += ").concat(l,") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ").concat(x," currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ").concat(i?a?g:y:"wR * ".concat(d," + wC"),";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var k="max",w="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(w="avgValue / count");var _=4*Math.floor(o/4),S=o%4,T="\n      if (".concat(m,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(k,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec2 strides = ivec2(".concat(s,", ").concat(u,");\n      const ivec2 pads = ivec2(").concat(h,", ").concat(v,");\n      const float initializationValue = ").concat(b,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(b,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ").concat(f,";\n            wR += ").concat(c,") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(_,"; wC += 4) {\n            int xC = xCCorner + wC * ").concat(l,";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              getValue(batch, xR, xC + 2 * ").concat(l,", d),\n              getValue(batch, xR, xC + 3 * ").concat(l,", d)\n            );\n\n            ").concat(T,"\n          }\n\n          int xC = xCCorner + ").concat(_,";\n          if (").concat(1===S,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(T,"\n          } else if (").concat(2===S,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(T,"\n          } else if (").concat(3===S,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              getValue(batch, xR, xC + 2 * ").concat(l,", d),\n              initializationValue\n            );\n\n            ").concat(T,"\n          }\n        }\n        setOutput(").concat(w,");\n      }\n    ")}})),na=(0,h.Z)((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,p.Z)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=t.filterWidth,s=t.strideDepth,u=t.strideHeight,c=t.strideWidth,l=t.dilationDepth,f=t.dilationHeight,d=t.dilationWidth,h=t.effectiveFilterDepth,v=t.effectiveFilterHeight,m=t.effectiveFilterWidth,g=t.padInfo.front,y=t.padInfo.top,b=t.padInfo.left;this.outputShape=t.outShape;var x="avg"===n,k="0.0";if(x||(k="-1.0 / 1e-20"),r){var w=">=";this.userCode="\n        const ivec3 strides =\n            ivec3(".concat(s,", ").concat(u,", ").concat(c,");\n        const ivec3 pads = ivec3(").concat(g,", ").concat(y,", ").concat(b,");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ").concat(h,";\n              wD += ").concat(l,") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int wR = 0; wR < ").concat(v,";\n                wR += ").concat(f,") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int wC = 0; wC < ").concat(m,";\n                  wC += ").concat(d,") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ").concat(w," currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ").concat(i?a?"(((batch * ".concat(t.inDepth," + xD) * ").concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"((xD * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"wD * ".concat(v," * ").concat(m," +\n                      wR * ").concat(m," + wC"),";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var _="max",S="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(S="avgValue / count");var T=4*Math.floor(o/4),E=o%4,C="\n      if (".concat(x,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(_,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec3 strides =\n        ivec3(".concat(s,", ").concat(u,", ").concat(c,");\n      const ivec3 pads = ivec3(").concat(g,", ").concat(y,", ").concat(b,");\n      const float initializationValue = ").concat(k,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(k,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ").concat(h,";\n            wD += ").concat(l,") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(v,";\n            wR += ").concat(f,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(T,"; wC += 4) {\n              int xC = xCCorner + wC * ").concat(d,";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 3 * ").concat(d,", ch)\n              );\n\n              ").concat(C,"\n            }\n\n            int xC = xCCorner + ").concat(T,";\n            if (").concat(1===E,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(C,"\n            } else if (").concat(2===E,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(C,"\n            } else if (").concat(3===E,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(d,", ch),\n                initializationValue\n              );\n\n              ").concat(C,"\n            }\n          }\n          setOutput(").concat(S,");\n        }\n      }\n    ")}}));var ra={kernelName:u.AvgPool,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x;ke(i,"avgPool");var a=r.filterSize,o=r.strides,s=r.pad,c=r.dimRoundingMode;u.util.assert(u.backend_util.eitherStridesOrDilationsAreOne(o,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(1,"'")}));var l=u.backend_util.computePool2DInfo(i.shape,a,o,1,s,c);if(1===l.filterWidth&&1===l.filterHeight&&u.util.arraysEqual(l.inShape,l.outShape))return Wr({inputs:{x:i},backend:n});var f=new ta(l,"avg",!1);return n.runWebGLProgram(f,[i],"float32")}};var ia={kernelName:u.AvgPool3D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.filterSize,o=r.strides,s=r.pad,c=r.dimRoundingMode,l=r.dataFormat,f=u.backend_util.computePool3DInfo(i.shape,a,o,[1,1,1],s,c,l),d=new na(f,"avg",!1);return n.runWebGLProgram(d,[i],"float32")}},aa=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,i=t.strideHeight,a=t.strideWidth,o=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterHeight,c=t.effectiveFilterWidth,l=u-1-t.padInfo.top,f=c-1-t.padInfo.left,d=1/(n*r);this.userCode="\n      const ivec2 pads = ivec2(".concat(l,", ").concat(f,");\n      const float avgMultiplier = float(").concat(d,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(u,";\n            wR += ").concat(o,") {\n          float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(c,";\n            wC+= ").concat(s,") {\n            float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),oa=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,i=t.filterWidth,a=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,c=t.dilationHeight,l=t.dilationWidth,f=t.effectiveFilterDepth,d=t.effectiveFilterHeight,h=t.effectiveFilterWidth,v=f-1-t.padInfo.front,m=d-1-t.padInfo.top,g=h-1-t.padInfo.left,y=1/(n*r*i);this.userCode="\n      const ivec3 pads = ivec3(".concat(v,", ").concat(m,", ").concat(g,");\n      const float avgMultiplier = float(").concat(y,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(f,";\n            wD += ").concat(u,") {\n          float dyD = float(dyDCorner + wD) / ").concat(a,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(d,";\n              wR += ").concat(c,") {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(h,";\n                wC += ").concat(l,") {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var sa={kernelName:u.AvgPool3DGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.input,o=r.filterSize,s=r.strides,c=r.pad,l=r.dimRoundingMode,f=u.backend_util.computePool3DInfo(a.shape,o,s,[1,1,1],c,l),d=new oa(f);return n.runWebGLProgram(d,[i],a.dtype)}};var ua={kernelName:u.AvgPoolGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.input,o=a;ke([i,a],"avgPoolGrad");var s=r.filterSize,c=r.strides,l=r.pad,f=u.backend_util.computePool2DInfo(o.shape,s,c,1,l),d=new aa(f);return n.runWebGLProgram(d,[i],o.dtype)}};var ca={kernelName:u.BatchMatMul,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;return wi({a:t.a,b:t.b,transposeA:r.transposeA,transposeB:r.transposeB,backend:n})}},la=(0,h.Z)((function e(t,n,r,i,a,o){(0,p.Z)(this,e),this.outputShape=[],this.variableNames=["x","mean","variance"],u.backend_util.assertAndGetBroadcastShape(t,n),u.backend_util.assertAndGetBroadcastShape(t,r);var s="0.0";null!=i&&(u.backend_util.assertAndGetBroadcastShape(t,i),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var c="1.0";null!=a&&(u.backend_util.assertAndGetBroadcastShape(t,a),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ".concat(s,";\n        float scale = ").concat(c,";\n        float inv = scale * inversesqrt(variance + float(").concat(o,"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ")})),fa=(0,h.Z)((function e(t,n,r,i,a,o){(0,p.Z)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],u.backend_util.assertAndGetBroadcastShape(t,n),u.backend_util.assertAndGetBroadcastShape(t,r);var s="vec4(0.0)";null!=i&&(u.backend_util.assertAndGetBroadcastShape(t,i),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var c="vec4(1.0)";null!=a&&(u.backend_util.assertAndGetBroadcastShape(t,a),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        vec4 offset = ".concat(s,";\n        vec4 scale = ").concat(c,";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(").concat(o,"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ")})),da={kernelName:u.FusedBatchNorm,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.mean,o=t.variance,s=t.offset,c=t.scale;u.util.assert(a.shape.length===o.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),u.util.assert(null==s||a.shape.length===s.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),u.util.assert(null==c||a.shape.length===c.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var l=r.varianceEpsilon;null==l&&(l=.001);var f=[i,a,o],d=null;null!=s&&(d=s.shape,f.push(s));var p=null;null!=c&&(p=c.shape,f.push(c));var h=(0,u.env)().getBool("WEBGL_PACK_NORMALIZATION")?new fa(i.shape,a.shape,o.shape,d,p,l):new la(i.shape,a.shape,o.shape,d,p,l);return n.runWebGLProgram(h,f,f[0].dtype)}},pa=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var n=Ke(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var r,i=function(e){if(1===e)return"sourceLoc";if(e<=6)return ha.slice(0,e).map((function(e){return"sourceLoc."+e})).join(",");throw Error("Slicing for rank ".concat(e," is not yet supported"))}(this.rank),a=t.map((function(e,t){return"sourceLoc.".concat(ha[t]," = start[").concat(t,"] + coords.").concat(ha[t],";")}));r="\n        ".concat(n," sourceLoc;\n        ").concat(n," coords = getOutputCoords();\n        ").concat(a.join("\n"),"\n      "),this.userCode="\n      void main() {\n        ".concat(r,"\n        setOutput(getSource(").concat(i,"));\n      }\n    ")})),ha=["x","y","z","w","u","v"];var va=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var n=Ke(this.rank),r=dr("coords",this.rank),i=dr("sourceLoc",this.rank),a=1===this.rank?"sourceLoc":"vec2(".concat(i.slice(-2).join(),")"),o="getChannel(getSource(".concat(i.join(),"), ").concat(a,")"),s="\n      result.x = ".concat(o,";\n      if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n        ++").concat(i[this.rank-1],";\n        result.y = ").concat(o,";\n        --").concat(i[this.rank-1],";\n      }\n    "),u=1===this.rank?"":"\n      --".concat(r[this.rank-1],";\n      if (++").concat(r[this.rank-2]," < ").concat(t[this.rank-2],") {\n        ++").concat(i[this.rank-2],";\n        result.z = ").concat(o,";\n        if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n          ++").concat(i[this.rank-1],";\n          result.w = ").concat(o,";\n        }\n      }\n    "),c=this.rank<=4?"sourceLoc = coords +\n            ".concat(n,"(").concat(t.map((function(e,t){return"start[".concat(t,"]")})).join(),");"):t.map((function(e,t){return"".concat(i[t]," = ").concat(r[t]," + start[").concat(t,"];")})).join("\n");this.userCode="\n      void main() {\n        ".concat(n," coords = getOutputCoords();\n        ").concat(n," sourceLoc;\n        ").concat(c,"\n        vec4 result = vec4(0.);\n        ").concat(s,"\n        ").concat(u,"\n        setOutput(result);\n      }\n    ")}));function ma(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.begin,o=r.size,s=u.slice_util.parseSliceParams(i,a,o),l=(0,c.Z)(s,2),f=l[0],d=l[1];if(u.slice_util.assertParamsValid(i,f,d),0===u.util.sizeFromShape(d))return n.makeTensorInfo(d,i.dtype,[]);if(n.shouldExecuteOnCPU([i])||"string"===i.dtype){var p=n.texData.get(i.dataId),h=Qn(p.values,f,d,i.shape,i.dtype);return n.makeTensorInfo(d,i.dtype,h)}var v=n.texData.get(i.dataId).isPacked,m=u.slice_util.isSliceContinous(i.shape,f,d);if(v||!m){var g=(0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new va(d):new pa(d),y=[f];return n.runWebGLProgram(g,[i],i.dtype,y)}return n.uploadToGPU(i.dataId),function(e,t,n,r){var i=r.texData.get(e.dataId),a=r.makeTensorInfo(n,e.dtype),o=r.texData.get(a.dataId);Object.assign(o,i),o.refCount=1,o.shape=n,o.dtype=e.dtype;var s=u.slice_util.computeFlatOffset(t,u.util.computeStrides(e.shape));i.slice&&(s+=i.slice.flatOffset),o.slice={flatOffset:s,origDataId:i.slice&&i.slice.origDataId||e.dataId};var c=r.dataRefCount.get(o.slice.origDataId)||1;return r.dataRefCount.set(o.slice.origDataId,c+1),a}(i,f,d,n)}var ga={kernelName:u.Slice,backendName:"webgl",kernelFunc:ma},ya={kernelName:u.BatchToSpaceND,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.blockShape,o=r.crops;u.util.assert(i.shape.length<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var s=a.reduce((function(e,t){return e*t})),c=u.backend_util.getReshaped(i.shape,a,s),l=u.backend_util.getPermuted(c.length,a.length),f=u.backend_util.getReshapedPermuted(i.shape,a,s),d=u.backend_util.getSliceBeginCoords(o,a.length),p=u.backend_util.getSliceSize(f,o,a.length),h=[],v=li({inputs:{x:i},backend:n,attrs:{shape:c}}),m=xi({inputs:{x:v},backend:n,attrs:{perm:l}}),g=li({inputs:{x:m},backend:n,attrs:{shape:f}}),y=ma({inputs:{x:g},backend:n,attrs:{begin:d,size:p}});return h.push(v),h.push(m),h.push(g),h.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),y}};var ba={kernelName:u.Bincount,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.weights,o=r.size,s=n.readSync(i.dataId),u=n.readSync(a.dataId),c=_n(s,u,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,c)}};var xa={kernelName:u.BroadcastArgs,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,i=t.s1,a=n.readSync(r.dataId),o=n.readSync(i.dataId),s=u.backend_util.assertAndGetBroadcastShape(Array.from(a),Array.from(o));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},ka=ti({opSnippet:"return float(a != b);",cpuKernelImpl:Wn,dtype:"bool"}),wa={kernelName:u.NotEqual,backendName:"webgl",kernelFunc:ka};function _a(e){var t=e.inputs,n=e.backend,r=t.input;return Wr({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}var Sa={kernelName:u.Real,backendName:"webgl",kernelFunc:_a};var Ta={kernelName:u.Cast,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,i=t.attrs,a=n.x,o=i.dtype;if("complex64"===o){if("complex64"===a.dtype)return Wr({inputs:{x:a},backend:r});var s=u.zeros(a.shape),c=e({inputs:{x:a},backend:r,attrs:{dtype:"float32"}}),l=Gr({inputs:{real:c,imag:s},backend:r});return s.dispose(),r.disposeIntermediateTensorInfo(c),l}if("complex64"===a.dtype){var f=_a({inputs:{input:a},backend:r}),d=e({inputs:{x:f},backend:r,attrs:{dtype:o}});return r.disposeIntermediateTensorInfo(f),d}if(!u.util.hasEncodingLoss(a.dtype,o)){var p=Wr({inputs:{x:a},backend:r});return{dataId:p.dataId,shape:p.shape,dtype:o}}if("int32"===o)return function(e,t){var n=new br(e.shape,"return float(int(x));"),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(a,r);if("bool"===o){var h=r.makeTensorInfo([],"bool",u.util.getTypedArrayFromDType("bool",1)),v=ka({inputs:{a:a,b:h},backend:r});return r.disposeIntermediateTensorInfo(h),v}throw new Error("Error in Cast: failed to cast ".concat(a.dtype," to ").concat(o))}},Ea="return ceil(x);",Ca=ei({opSnippet:Ea,packedOpSnippet:Ea,cpuKernelImpl:Tn}),Oa={kernelName:u.Ceil,backendName:"webgl",kernelFunc:Ca},Aa=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "})),Ia=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}));var Ra={kernelName:u.ClipByValue,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=i.clipValueMin,s=i.clipValueMax;t=(0,u.env)().getBool("WEBGL_PACK_CLIP")?new Ia(a.shape):new Aa(a.shape);var c=[[o],[s]];return r.runWebGLProgram(t,[a],a.dtype,c)}},Na=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}));function Pa(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}var Ma={kernelName:u.ComplexAbs,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=n.texData.get(r.dataId),a=new Na(r.shape),o=[Pa(r,i.complexTensorInfos.real),Pa(r,i.complexTensorInfos.imag)];return n.runWebGLProgram(a,o,o[0].dtype)}},Da=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.outputShape=[],this.outputShape=u.backend_util.computeOutShape(t,1),this.variableNames=t.map((function(e,t){return"T".concat(t)}));var n=new Array(t.length-1);n[0]=t[0][1];for(var r=1;r<n.length;r++)n[r]=n[r-1]+t[r][1];for(var i=["if (yC < ".concat(n[0],") setOutput(getT0(yR, yC));")],a=1;a<n.length;a++){var o=n[a-1];i.push("else if (yC < ".concat(n[a],") ")+"setOutput(getT".concat(a,"(yR, yC-").concat(o,"));"))}var s=n.length,c=n[n.length-1];i.push("else setOutput(getT".concat(s,"(yR, yC-").concat(c,"));")),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ".concat(i.join("\n        "),"\n      }\n    ")})),La=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=u.backend_util.computeOutShape(t,n);var r=this.outputShape,i=r.length,a=Ke(i),o=dr("coords",i),s=["x","y","z","w","u","v"].slice(0,i);this.variableNames=t.map((function(e,t){return"T".concat(t)}));var c=new Array(t.length-1);c[0]=t[0][n];for(var l=1;l<c.length;l++)c[l]=c[l-1]+t[l][n];for(var f=s[n],d=s.slice(-2),h=s.join(),v="if (".concat(f," < ").concat(c[0],") {\n        return getChannel(\n            getT0(").concat(h,"), vec2(").concat(d.join(),"));\n        }"),m=1;m<c.length;m++){var g=c[m-1];v+="\n        if (".concat(f," < ").concat(c[m],"  && ").concat(f," >= ").concat(c[m-1],") {\n          return getChannel(\n            getT").concat(m,"(").concat(ja(s,f,g),"),\n            vec2(").concat(ja(d,f,g),"));\n        }")}var y=c.length,b=c[c.length-1];v+="\n        return getChannel(\n          getT".concat(y,"(").concat(ja(s,f,b),"),\n          vec2(").concat(ja(d,f,b),"));"),this.userCode="\n      float getValue(".concat(s.map((function(e){return"int "+e})),") {\n        ").concat(v,"\n      }\n\n      void main() {\n        ").concat(a," coords = getOutputCoords();\n        vec4 result = vec4(getValue(").concat(o,"), 0., 0., 0.);\n\n        ").concat(o[i-1]," = ").concat(o[i-1]," + 1;\n        if (").concat(o[i-1]," < ").concat(r[i-1],") {\n          result.g = getValue(").concat(o,");\n        }\n\n        ").concat(o[i-2]," = ").concat(o[i-2]," + 1;\n        if (").concat(o[i-2]," < ").concat(r[i-2],") {\n          result.a = getValue(").concat(o,");\n        }\n\n        ").concat(o[i-1]," = ").concat(o[i-1]," - 1;\n        if (").concat(o[i-2]," < ").concat(r[i-2]," &&\n            ").concat(o[i-1]," < ").concat(r[i-1],") {\n          result.b = getValue(").concat(o,");\n        }\n        setOutput(result);\n      }\n    ")}));function ja(e,t,n){var r=e.indexOf(t);return e.map((function(e,t){return t===r?"".concat(e," - ").concat(n):e})).join()}function Fa(e){var t=e.inputs,n=e.backend,r=t.input;return Wr({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}var Za={kernelName:u.Imag,backendName:"webgl",kernelFunc:Fa};function Ba(e,t,n){var r=e[0].dtype;if("complex64"===r){var i=e.map((function(e){return _a({inputs:{input:e},backend:n})})),a=e.map((function(e){return Fa({inputs:{input:e},backend:n})})),o=Ba(i,t,n),s=Ba(a,t,n),c=Gr({inputs:{real:o,imag:s},backend:n});return i.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),a.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),c}var l=n.shouldExecuteOnCPU(e);if("string"===r&&(l=!0),l){var f=e.map((function(e){var r=u.util.sizeFromShape(e.shape.slice(t));return li({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),d=f.map((function(e){return{vals:n.readSync(e.dataId),shape:e.shape}})),p=u.backend_util.computeOutShape(f.map((function(e){return e.shape})),1),h=1===f[0].shape[0],v=En(d,p,r,h),m=u.backend_util.computeOutShape(e.map((function(e){return e.shape})),t),g=n.makeTensorInfo(m,r,v);return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}if(e.length>(0,u.env)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var y=Math.floor(e.length/2),b=Ba(e.slice(0,y),t,n),x=Ba(e.slice(y),t,n),k=Ba([b,x],t,n);return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(x),k}if((0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].shape.length>1){var w=new La(e.map((function(e){return e.shape})),t);return n.runWebGLProgram(w,e,r)}var _=function(e,t,n){var r=u.backend_util.computeOutShape(e.map((function(e){return e.shape})),t);return{tensors2D:e.map((function(e){return li({inputs:{x:e},attrs:{shape:[-1,u.util.sizeFromShape(e.shape.slice(t))]},backend:n})})),outShape:r}}(e,t,n),S=_.tensors2D,T=_.outShape,E=new Da(S.map((function(e){return e.shape}))),C=n.runWebGLProgram(E,S,r);S.forEach((function(e){return n.disposeIntermediateTensorInfo(e)}));var O=li({inputs:{x:C},attrs:{shape:T},backend:n});return n.disposeIntermediateTensorInfo(C),O}function Ua(e){var t=e.inputs,n=e.backend,r=e.attrs.axis,i=u.util.parseAxisParam(r,t[0].shape)[0],a=u.backend_util.computeOutShape(t.map((function(e){return e.shape})),i);if(0===u.util.sizeFromShape(a))return n.makeTensorInfo(a,t[0].dtype,[]);var o=t.filter((function(e){return u.util.sizeFromShape(e.shape)>0}));if(1===o.length)return Wr({inputs:{x:o[0]},backend:n});var s=o.map((function(e){return e.shape}));return u.backend_util.assertParamsConsistent(s,i),Ba(o,i,n)}var Va={kernelName:u.Concat,backendName:"webgl",kernelFunc:Ua},za=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,p.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var o=t.padInfo.top,s=t.padInfo.left,u=t.strideHeight,c=t.strideWidth,l=t.dilationHeight,f=t.dilationWidth,d=t.filterHeight,h=t.filterWidth,v=4*Math.floor(t.inChannels/4),m=t.inChannels%4,g="channelsLast"===t.dataFormat,y=g?1:2,b=g?2:3,x=g?3:1,k="",w="";r&&(k=i?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):a?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),w="result = activation(result);");var _=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(k,"\n\n      const ivec2 strides = ivec2(").concat(u,", ").concat(c,");\n      const ivec2 pads = ivec2(").concat(o,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[").concat(x,"];\n\n        ivec2 xRCCorner =\n            ivec2(coords[").concat(y,"], coords[").concat(b,"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(d,"; wR++) {\n          int xR = xRCorner + wR * ").concat(l,";\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(h,"; wC++) {\n            int xC = xCCorner + wC * ").concat(f,";\n\n            if (xC < 0 || xC >= ").concat(t.inWidth,") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ").concat(v,"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (").concat(g,") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (").concat(1===m,") {\n\n              if (").concat(g,") {\n                dotProd +=\n                    getX(batch, xR, xC, ").concat(v,") *\n                    getW(wR, wC, ").concat(v,", d2);\n              } else {\n                dotProd +=\n                    getX(batch, ").concat(v,", xR, xC) *\n                    getW(wR, wC, ").concat(v,", d2);\n              }\n\n            } else if (").concat(2===m,") {\n              vec2 wValues = vec2(\n                getW(wR, wC, ").concat(v,", d2),\n                getW(wR, wC, ").concat(v," + 1, d2)\n              );\n\n              if (").concat(g,") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ").concat(v,"),\n                  getX(batch, xR, xC, ").concat(v," + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ").concat(v,", xR, xC),\n                  getX(batch, ").concat(v," + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (").concat(3===m,") {\n              vec3 wValues = vec3(\n                getW(wR, wC, ").concat(v,", d2),\n                getW(wR, wC, ").concat(v," + 1, d2),\n                getW(wR, wC, ").concat(v," + 2, d2)\n              );\n\n              if (").concat(g,") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ").concat(v,"),\n                  getX(batch, xR, xC, ").concat(v," + 1),\n                  getX(batch, xR, xC, ").concat(v," + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ").concat(v,", xR, xC),\n                  getX(batch, ").concat(v," + 1, xR, xC),\n                  getX(batch, ").concat(v," + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ").concat(_,"\n        ").concat(w,"\n        setOutput(result);\n      }\n    ")})),Wa=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.padInfo.front,r=t.padInfo.top,i=t.padInfo.left,a=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,c=t.dilationHeight,l=t.dilationWidth,f=t.filterDepth,d=t.filterHeight,h=t.filterWidth,v=4*Math.floor(t.inChannels/4),m=t.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3(".concat(a,", ").concat(o,", ").concat(s,");\n      const ivec3 pads = ivec3(").concat(n,", ").concat(r,", ").concat(i,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(f,"; wF++) {\n          int xF = xFCorner + wF * ").concat(u,";\n\n          if (xF < 0 || xF >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(d,"; wR++) {\n            int xR = xRCorner + wR * ").concat(c,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(h,"; wC++) {\n              int xC = xCCorner + wC * ").concat(l,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ").concat(v,"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (").concat(1===m,") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ").concat(v,") *\n                  getW(wF, wR, wC, ").concat(v,", d2);\n              } else if (").concat(2===m,") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ").concat(v,"),\n                  getX(batch, xF, xR, xC, ").concat(v," + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ").concat(v,", d2),\n                  getW(wF, wR, wC, ").concat(v," + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (").concat(3===m,") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ").concat(v,"),\n                  getX(batch, xF, xR, xC, ").concat(v," + 1),\n                  getX(batch, xF, xR, xC, ").concat(v," + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ").concat(v,", d2),\n                  getW(wF, wR, wC, ").concat(v," + 1, d2),\n                  getW(wF, wR, wC, ").concat(v," + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),Ha=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=rt(this.outputShape.length);for(var r=n.dataFormat,i=_e(),a="channelsLast"===r,o=a?0:1,s=a?1:2,u=this.enableShapeUniforms?"if(blockIndex < outShape[1] && pos < outShape[0]) {":"if(blockIndex < ".concat(t[1]," && pos < ").concat(t[0],") {"),c="",l=0;l<=1;l++)for(var f=0;f<=1;f++)c+="\n          blockIndex = rc.y + ".concat(f,";\n          pos = rc.x + ").concat(l,";\n\n          ").concat(u,"\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[").concat(o,"] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[").concat(s,"] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (").concat(a,") {\n                  innerDims = vec2(d1, ch);\n                  result[").concat(2*l+f,"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[").concat(2*l+f,"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ");this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ".concat(c,"\n\n        ").concat(i.output," = result;\n      }\n    ")}));function Ga(e){var t,n=e.x,r=e.filter,i=e.convInfo,a=e.backend,o=e.bias,s=void 0===o?null:o,c=e.preluActivationWeights,l=void 0===c?null:c,f=e.leakyreluAlpha,d=void 0===f?0:f,p=e.activation,h=void 0===p?null:p,v=n.shape,m=a.texData.get(n.dataId),g=i.inChannels,y=v[0]*v[1]*v[2],b=i.outChannels,x="channelsLast"===i.dataFormat,k=[];if(null!=l&&!x&&3===l.shape.length){var w=xi({inputs:{x:l},backend:a,attrs:{perm:[1,2,0]}});k.push(w),l=w}if(!((1===y||1===b)&&g>1e3)&&m.isPacked&&x&&null!=m.texture&&v[2]%2!==0&&u.util.arraysEqual(m.shape.slice(-3),v.slice(-3))){var _=v[0]*v[1]*(v[2]+1),S={dataId:n.dataId,shape:[1,_,i.inChannels],dtype:n.dtype},T=m.shape;m.shape=m.shape.slice(),m.shape[m.shape.length-2]++,u.util.assert(ce(m.shape,S.shape),(function(){return"packed reshape ".concat(m.shape," to ").concat(S.shape," isn't free")}));var E=li({inputs:{x:r},backend:a,attrs:{shape:[1,i.inChannels,i.outChannels]}});k.push(E);var C=wi({a:S,b:E,backend:a,transposeA:false,transposeB:false,bias:s,activation:h,preluActivationWeights:l,leakyreluAlpha:d}),O=a.texData.get(C.dataId);u.util.assert(O.isPacked,(function(){return"batchMatMul result is expected to be packed"})),m.shape=T,O.shape=i.outShape,(t=Wr({inputs:{x:C},backend:a})).shape=i.outShape,k.push(C)}else{var A=x?n:xi({inputs:{x:n},backend:a,attrs:{perm:[0,2,3,1]}}),I=A.shape,R=li({inputs:{x:A},backend:a,attrs:{shape:[1,I[0]*I[1]*I[2],i.inChannels]}}),N=li({inputs:{x:r},backend:a,attrs:{shape:[1,i.inChannels,i.outChannels]}}),P=wi({a:R,b:N,transposeA:false,transposeB:false,backend:a,bias:s,activation:h,preluActivationWeights:l,leakyreluAlpha:d}),M=li({inputs:{x:P},backend:a,attrs:{shape:[i.batchSize,i.outHeight,i.outWidth,i.outChannels]}});t=x?M:xi({inputs:{x:M},backend:a,attrs:{perm:[0,3,1,2]}}),x||(k.push(A),k.push(M)),k.push(R),k.push(N),k.push(P)}for(var D=0,L=k;D<L.length;D++){var j=L[D];a.disposeIntermediateTensorInfo(j)}return t}function qa(e){var t=e.x,n=e.filter,r=e.convInfo,i=e.backend,a=e.bias,o=void 0===a?null:a,s=e.preluActivationWeights,c=void 0===s?null:s,l=e.leakyreluAlpha,f=void 0===l?0:l,d=e.activation,p=void 0===d?null:d,h=r.filterWidth,v=r.filterHeight,m=r.inChannels,g=r.outWidth,y=r.outHeight,b="channelsLast"===r.dataFormat,x=h*v*m,k=y*g,w=[x,k],_=[];if(null!=c&&!b&&3===c.shape.length){var S=xi({inputs:{x:c},backend:i,attrs:{perm:[1,2,0]}});_.push(S),c=S}var T=li({inputs:{x:t},backend:i,attrs:{shape:t.shape.slice(1)}}),E=li({inputs:{x:n},backend:i,attrs:{shape:[1,x,u.util.sizeFromShape(n.shape)/x]}});_.push(T),_.push(E);var C=new Ha(w,r),O=[T.shape,[r.padInfo.top,r.padInfo.left],[r.strideHeight,r.strideWidth],[r.dilationHeight,r.dilationWidth],[r.inChannels],[r.filterWidth*r.inChannels],[r.outWidth]],A=i.runWebGLProgram(C,[T],"float32",O),I=li({inputs:{x:A},backend:i,attrs:{shape:[1,w[0],w[1]]}});_.push(A),_.push(I);var R=null!=o,N=null!=c,P="leakyrelu"===p,M=p?ni(p,!0):null,D=new ri(I.shape,E.shape,[1,k,r.outChannels],!0,!1,R,M,N,P),L=[I,E];if(o&&L.push(o),N&&L.push(c),P){var j=i.makeTensorInfo([],"float32",u.util.createScalarValue(f,"float32"));L.push(j),_.push(j)}var F=i.runWebGLProgram(D,L,"float32"),Z=li({inputs:{x:F},backend:i,attrs:{shape:[1,y,g,r.outChannels]}}),B=b?Z:xi({inputs:{x:Z},backend:i,attrs:{perm:[0,3,1,2]}});b||_.push(Z),_.push(F);for(var U=0,V=_;U<V.length;U++){var z=V[U];i.disposeIntermediateTensorInfo(z)}return B}var Ka={kernelName:u.Conv2D,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=n.filter,s=i.strides,c=i.pad,l=i.dataFormat,f=i.dilations,d=i.dimRoundingMode,p=u.backend_util.convertConv2DDataFormat(l),h=u.backend_util.computeConv2DInfo(a.shape,o.shape,s,f,c,d,!1,p);if(1!==h.filterHeight||1!==h.filterWidth||1!==h.dilationHeight||1!==h.dilationWidth||1!==h.strideHeight||1!==h.strideWidth||"SAME"!==h.padInfo.type&&"VALID"!==h.padInfo.type)if((0,u.env)().getBool("WEBGL_CONV_IM2COL")&&1===a.shape[0])t=qa({x:a,filter:o,convInfo:h,backend:r});else{var v=new za(h);t=r.runWebGLProgram(v,[a,o],"float32")}else t=Ga({x:a,filter:o,convInfo:h,backend:r});var m=li({inputs:{x:t},backend:r,attrs:{shape:h.outShape}});return r.disposeIntermediateTensorInfo(t),m}},Ya=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,i=t.padInfo.top,a=t.padInfo.left,o="channelsLast"===t.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(i,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(a,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              if (").concat(o,") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),Xa=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,i=t.strideHeight,a=t.strideWidth,o="channelsLast"===t.dataFormat,s=n-1-t.padInfo.top,u=r-1-t.padInfo.left,c=o?1:2,l=o?2:3,f=o?3:1;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[").concat(f,"];\n\n        ivec2 dyCorner = ivec2(coords[").concat(c,"], coords[").concat(l,"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n\n              if (").concat(o,") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),Qa=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideDepth,r=t.strideHeight,i=t.strideWidth,a=t.padInfo.front,o=t.padInfo.top,s=t.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yF = 0; yF < ").concat(t.outDepth,"; yF++) {\n            int xF = wF + yF * ").concat(n," - ").concat(a,";\n\n            if (xF < 0 || xF >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n              int xR = wR + yR * ").concat(r," - ").concat(o,";\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n                int xC = wC + yC * ").concat(i," - ").concat(s,";\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),Ja=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,i=t.filterWidth,a=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=n-1-t.padInfo.front,c=r-1-t.padInfo.top,l=i-1-t.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3(".concat(u,", ").concat(c,", ").concat(l,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(n,"; wF++) {\n          float dyF = float(dyFCorner + wF) / ").concat(a,".0;\n\n          if (dyF < 0.0 || dyF >= ").concat(t.outDepth,".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ").concat(n," - 1 - wF;\n\n          for (int wR = 0; wR < ").concat(r,"; wR++) {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ").concat(r," - 1 - wR;\n\n            for (int wC = 0; wC < ").concat(i,"; wC++) {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ").concat(i," - 1 - wC;\n\n              for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var $a={kernelName:u.Conv2DBackpropFilter,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.dy,o=r.strides,s=r.pad,c=r.dataFormat,l=r.dimRoundingMode,f=r.filterShape,d=u.backend_util.convertConv2DDataFormat(c),p=u.backend_util.computeConv2DInfo(i.shape,f,o,1,s,l,!1,d),h=new Ya(p);return n.runWebGLProgram(h,[i,a],"float32")}};var eo={kernelName:u.Conv2DBackpropInput,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.filter,o=r.inputShape,s=r.strides,c=r.pad,l=r.dataFormat,f=r.dimRoundingMode,d=u.backend_util.convertConv2DDataFormat(l),p=u.backend_util.computeConv2DInfo(o,a.shape,s,1,c,f,!1,d),h=new Xa(p);return n.runWebGLProgram(h,[i,a],"float32")}};var to={kernelName:u.Conv3D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=r.strides,s=r.pad,c=r.dilations,l=u.backend_util.computeConv3DInfo(i.shape,a.shape,o,c,s),f=new Wa(l);return n.runWebGLProgram(f,[i,a],"float32")}};var no={kernelName:u.Conv3DBackpropFilterV2,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.dy,o=r.strides,s=r.pad,c=r.filterShape,l=u.backend_util.computeConv3DInfo(i.shape,c,o,1,s),f=new Qa(l);return n.runWebGLProgram(f,[i,a],"float32")}};var ro,io={kernelName:u.Conv3DBackpropInputV2,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.filter,o=r.pad,s=r.strides,c=r.inputShape,l=u.backend_util.computeConv3DInfo(c,a.shape,s,1,o),f=new Ja(l);return n.runWebGLProgram(f,[i,a],"float32")}},ao=ei({opSnippet:"if (isnan(x)) return x;\n  return cos(x);\n"}),oo={kernelName:u.Cos,backendName:"webgl",kernelFunc:ao},so=ei({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),uo={kernelName:u.Cosh,backendName:"webgl",kernelFunc:so},co=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var o=(0,c.Z)(t,4),s=o[0],u=o[1],l=o[2],f=o[3],d=(0,c.Z)(n,1)[0],h=(0,c.Z)(r,2),v=h[0],m=h[1];this.outputShape=[d,v,m,f];var g="bilinear"===i?1:0,y="".concat(u-1,".0"),b="".concat(l-1,".0"),x=v>1?["".concat((u-1)/(v-1)),"(y2-y1) * height_ratio","y1*".concat(y," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(y)],k=(0,c.Z)(x,3),w=k[0],_=k[1],S=k[2],T=m>1?["".concat((l-1)/(m-1)),"(x2-x1) * width_ratio","x1*".concat(b," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(b)],E=(0,c.Z)(T,3),C=E[0],O=E[1],A=E[2];this.userCode="\n      const float height_ratio = float(".concat(w,");\n      const float width_ratio = float(").concat(C,");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ").concat(s,") {\n          return;\n        }\n\n        float height_scale = ").concat(_,";\n        float width_scale = ").concat(O,";\n\n        float in_y = ").concat(S,";\n        if( in_y < 0.0 || in_y > ").concat(y," ) {\n          setOutput(float(").concat(a,"));\n          return;\n        }\n        float in_x = ").concat(A,";\n        if( in_x < 0.0 || in_x > ").concat(b," ) {\n          setOutput(float(").concat(a,"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(").concat(g," == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ")})),lo={kernelName:u.CropAndResize,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.image,a=t.boxes,o=t.boxInd,s=r.cropSize,u=r.method,c=r.extrapolationValue,l=new co(i.shape,a.shape,s,u,c);return n.runWebGLProgram(l,[i,a,o],"float32")}};!function(e){e.Prod="*",e.Sum="+"}(ro||(ro={}));var fo=(0,h.Z)((function e(t,n,r,i){(0,p.Z)(this,e),this.op=t,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];var a=this.outputShape.length,o=this.op===ro.Prod?"1.0":"0.0",s=r?o:"getX(".concat(po(a,"coords",this.op),")"),u=this.outputShape[this.outputShape.length-1],c="",l="";r?(c=i?"end != ".concat(u-1):"end != 0",l=i?"end + 1":"end - 1"):(c=i?"end + pow2 < ".concat(u):"end >= pow2",l=i?"end + pow2":"end - pow2"),this.userCode="\n      void main() {\n        ".concat(Ke(a)," coords = getOutputCoords();\n        int end = ").concat(ho(a,"coords",this.op),";\n        float val = ").concat(s,";\n        int pow2 = int(pow(2.0, index));\n        if (").concat(c,") {\n          int idx = ").concat(l,";\n          ").concat(ho(a,"coords",this.op)," = idx;\n          val ").concat(this.op,"= getX(").concat(po(a,"coords",this.op),");\n        }\n        setOutput(val);\n      }\n    ")}));function po(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".x, ").concat(t,".y");if(3===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z");if(4===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z, ").concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function ho(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".y");if(3===e)return"".concat(t,".z");if(4===e)return"".concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function vo(e,t,n,r,i,a){var o=t.shape.length,s=u.backend_util.getAxesPermutation([r],o),c=t;null!=s&&(c=xi({inputs:{x:t},backend:n,attrs:{perm:s}}));var l=u.backend_util.getInnerMostAxes(1,o)[0];if(l!==o-1)throw new Error("WebGL cumprod shader expects an inner-most axis=".concat(t.shape.length-1," ")+"but got axis=".concat(r));for(var f=c.shape[l],d=Wr({inputs:{x:c},backend:n}),p=0;p<=Math.ceil(Math.log2(f))-1;p++){var h=new fo(e,c.shape,!1,a),v=[[p]],m=d;d=n.runWebGLProgram(h,[d],d.dtype,v),n.disposeIntermediateTensorInfo(m)}if(i){var g=new fo(e,c.shape,i,a),y=d;d=n.runWebGLProgram(g,[d],d.dtype),n.disposeIntermediateTensorInfo(y)}if(null!=s){var b=xi({inputs:{x:d},backend:n,attrs:{perm:u.backend_util.getUndoAxesPermutation(s)}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(c),b}return d}var mo={kernelName:u.Cumprod,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.exclusive,s=r.reverse;return vo(ro.Prod,i,n,a,o,s)}};var go={kernelName:u.Cumsum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.exclusive,s=r.reverse;return vo(ro.Sum,i,n,a,o,s)}};var yo={kernelName:u.DenseBincount,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.weights,o=r.size,s=r.binaryOutput;if(1===i.shape.length){var u=n.readSync(i.dataId),c=n.readSync(a.dataId),l=_n(u,c,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,l)}if(2===i.shape.length){var f=n.bufferSync(i),d=n.bufferSync(a),p=Sn(f,d,o,s);return n.makeTensorInfo(p.shape,a.dtype,p.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(i.shape.length,"."))}},bo=function(){function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ".concat(this.getHeightCoordString(),";\n      int w = ").concat(this.getWidthCoordString(),";\n      int d = ").concat(this.getDepthCoordString(),";\n\n      int in_h = h / ").concat(n,";\n      int offset_h = imod(h, ").concat(n,");\n      int in_w = w / ").concat(n,";\n      int offset_w = imod(w, ").concat(n,");\n      int offset_d = (offset_h * ").concat(n," + offset_w) *\n        ").concat(this.getOutputDepthSize(),";\n      int in_d = d + offset_d;\n\n      float result = ").concat(this.getInputSamplingString(),";\n      setOutput(result);\n    }\n  ")}return(0,h.Z)(e,[{key:"getHeightCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}},{key:"getWidthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}},{key:"getDepthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}},{key:"getOutputDepthSize",value:function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}},{key:"getInputSamplingString",value:function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}]),e}();var xo={kernelName:u.DepthToSpace,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.blockSize,o=r.dataFormat,s=i.shape[0],u=("NHWC"===o?i.shape[1]:i.shape[2])*a,c=("NHWC"===o?i.shape[2]:i.shape[3])*a,l=("NHWC"===o?i.shape[3]:i.shape[1])/(a*a),f=new bo("NHWC"===o?[s,u,c,l]:[s,l,u,c],a,o);return n.runWebGLProgram(f,[i],i.dtype)}},ko=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,p.Z)(this,e),this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=rt(this.outputShape.length);var o=t.filterHeight,s=t.filterWidth,u=t.outChannels/t.inChannels,c="",l="";r&&(c=i?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):a?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),l="result = activation(result);");var f=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(c,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(u,";\n        int q = d2 - d1 * ").concat(u,";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ").concat(o,"; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(s,"; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ").concat(f,"\n        ").concat(l,"\n        setOutput(result);\n      }\n    ")})),wo=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,p.Z)(this,e),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=rt(this.outputShape.length);for(var o=t.outChannels/t.inChannels,s=t.padInfo.left,c=t.strideWidth,l=t.dilationWidth,f=t.filterHeight,d=t.filterWidth,h=d,v="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;",m=0;m<d;m++)v+="\n          vec4 xTexelC".concat(2*m,";\n          int xTexelC").concat(2*m,"Ready;\n          vec4 xTexelC").concat(2*m+1,";\n          int xTexelC").concat(2*m+1,"Ready;\n          vec4 xC").concat(m,";");v+="\n    for (int r = 0; r < ".concat(f,"; r++) {\n      ");for(var g=0;g<d;g++)v+="\n          xTexelC".concat(2*g," = vec4(0.0);\n          xTexelC").concat(2*g,"Ready = 0;\n          xTexelC").concat(2*g+1," = vec4(0.0);\n          xTexelC").concat(2*g+1,"Ready = 0;\n          xC").concat(g," = vec4(0.0);");v+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(var y=0;y<(h+1)/2;y++){var b=2*y;if(v+="\n          xC = xCCorner + ".concat(b*l,";\n          "),1===c){if(b<d&&(s%2===1?(v+="\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                  xTexelC").concat(b," = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(b,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(b,"Ready = 1;\n                }\n              "),v+=1===l&&b>0?"\n                xC".concat(b," = vec4(xTexelC").concat(b-2,".zw, xTexelC").concat(b,".xy);\n                "):"\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC".concat(b," = vec4(previous.zw, xTexelC").concat(b,".xy);\n                  } else {\n                    xC").concat(b," = vec4(0.0, 0.0, xTexelC").concat(b,".xy);\n                  }\n                  ")):v+="\n                if (xC >= 0 && xC < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                  xTexelC").concat(b," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(b,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(b,"Ready = 1;\n                }\n\n                xC").concat(b," = xTexelC").concat(b,";\n                "),b+1<d)){var x=s%2===0?u.util.nearestLargerEven(l):l;l%2===0&&s%2===1||l%2!==0&&s%2!==1?(v+="\n                  xCOffset = xC + imod(pads[1], 2) + ".concat(x,";\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(b+1,"Ready == 0) {\n                    xTexelC").concat(b+1," = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC").concat(b+1,".zw = vec2(0.0);\n                    }\n                    xTexelC").concat(b+1,"Ready = 1;\n                  }\n                  "),l>1&&(v+="\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                      xTexelC").concat(b," = getX(batch, xR, xCOffset, d1);\n                      xTexelC").concat(b,"Ready = 1;\n                    }\n                    ")),v+="\n                  xC".concat(b+1," = vec4(xTexelC").concat(b,".zw, xTexelC").concat(b+1,".xy);\n                  ")):v+=1===x?"\n                    xC".concat(b+1," = xTexelC").concat(b,";\n                    "):"\n                    xCOffset = xC + ".concat(x,";\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(b+1,"Ready == 0) {\n                      xTexelC").concat(b+1," = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC").concat(b+1,".zw = vec2(0.0);\n                      }\n                      xTexelC").concat(b+1,"Ready = 1;\n                    }\n\n                    xC").concat(b+1," = xTexelC").concat(b+1,";\n                    ")}}else b<d&&(s%2===1?(v+="\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                  xTexelC").concat(b," = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(b,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(b,"Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(b+1,"Ready == 0) {\n                  xTexelC").concat(b+1," = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC").concat(b+1,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(b+1,"Ready = 1;\n                }\n\n                xC").concat(b," = vec4(xTexelC").concat(b,".zw, xTexelC").concat(b+1,".zw);\n              "),b+1<d&&(v+="\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC".concat(b+1," = vec4(xTexelC").concat(b+1,".xy, final.xy);\n                "))):(v+="\n                if(xC >= 0 && xC < inDims[1] && xTexelC".concat(b,"Ready == 0) {\n                  xTexelC").concat(b," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(b,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(b,"Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(b+1,"Ready == 0) {\n                  xTexelC").concat(b+1," = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(b+1,".zw = vec2(0.);\n                  }\n                  xTexelC").concat(b+1,"Ready = 1;\n                }\n\n                xC").concat(b," = vec4(\n                  xTexelC").concat(b,".xy, xTexelC").concat(b+1,".xy);\n              "),b+1<d&&(v+="\n                  xC".concat(b+1," = vec4(xTexelC").concat(b,".zw, xTexelC").concat(b+1,".zw);\n                "))));b<d&&(v+="\n            wTexel = getW(r, ".concat(b,", d1, q);\n            dotProd += xC").concat(b," * vec4(wTexel.xz, wTexel.xz);\n          "),b+1<d&&(v+="\n              wTexel = getW(r, ".concat(b+1,", d1, q);\n              dotProd += xC").concat(b+1," * vec4(wTexel.xz, wTexel.xz);\n            ")))}v+="\n    }\n  ",v+="\n      }\n    ";var k="",w="";r&&(k=i?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):a?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(r,"\n        }"),w="result = activation(result);");var _=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(k,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(o,";\n        int q = d2 - d1 * ").concat(o,";\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ").concat(v,"\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ").concat(_,"\n        ").concat(w,"\n        setOutput(result);\n      }\n    ")}));var _o={kernelName:u.DepthwiseConv2dNative,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=r.strides,s=r.pad,c=r.dilations,l=r.dimRoundingMode,f=c;null==f&&(f=[1,1]),u.util.assert(u.backend_util.eitherStridesOrDilationsAreOne(o,f),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(o," and dilations '").concat(f,"'")}));var d,p=u.backend_util.computeConv2DInfo(i.shape,a.shape,o,f,s,l,!0);d=(0,u.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&p.strideWidth<=2&&p.outChannels/p.inChannels===1?new wo(p):new ko(p);var h=[[p.padInfo.top,p.padInfo.left],[p.strideHeight,p.strideWidth],[p.dilationHeight,p.dilationWidth],[p.inHeight,p.inWidth]];return n.runWebGLProgram(d,[i,a],"float32",h)}},So=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,i=t.padInfo.top,a=t.padInfo.left,o=t.outChannels/t.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ".concat(o," + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ").concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(i,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(a,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),To=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,i=t.strideHeight,a=t.strideWidth,o=n-1-t.padInfo.top,s=r-1-t.padInfo.left,u=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 pads = ivec2(".concat(o,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ").concat(u,"; dm++) {\n              int d2 = d1 * ").concat(u," + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var Eo={kernelName:u.DepthwiseConv2dNativeBackpropFilter,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.dy,o=r.strides,s=r.dilations,c=r.pad,l=r.dimRoundingMode,f=r.filterShape,d=u.backend_util.computeConv2DInfo(i.shape,f,o,s,c,l,!0),p=new So(d);return n.runWebGLProgram(p,[i,a],"float32")}};var Co={kernelName:u.DepthwiseConv2dNativeBackpropInput,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.filter,o=r.strides,s=r.dilations,c=r.pad,l=r.dimRoundingMode,f=r.inputShape,d=u.backend_util.computeConv2DInfo(f,a.shape,o,s,c,l,!0),p=new To(d);return n.runWebGLProgram(p,[i,a],"float32")}},Oo=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["X"],this.outputShape=[t,t],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}));var Ao={kernelName:u.Diag,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=[].concat((0,f.Z)(r.shape),(0,f.Z)(r.shape)),a=u.util.sizeFromShape(r.shape),o=li({inputs:{x:r},backend:n,attrs:{shape:[a]}}),s=new Oo(a),c=n.runWebGLProgram(s,[o],o.dtype),l=li({inputs:{x:c},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(c),l}},Io=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.inHeight,r=t.inWidth,i=t.padInfo,a=t.strideHeight,o=t.strideWidth,s=t.filterHeight,u=t.filterWidth,c=t.dilationHeight,l=t.dilationWidth,f=i.top,d=i.left;this.userCode="\n      const ivec2 strides = ivec2(".concat(a,", ").concat(o,");\n      const ivec2 pads = ivec2(").concat(f,", ").concat(d,");\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ").concat(s,"; h++) {\n          int hIn = hBeg + h * ").concat(c,";\n\n          if (hIn >= 0 && hIn < ").concat(n,") {\n            for (int w = 0; w < ").concat(u,"; w++) {\n              int wIn = wBeg + w * ").concat(l,";\n\n              if (wIn >= 0 && wIn < ").concat(r,") {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    ")}));var Ro={kernelName:u.Dilation2D,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=n.filter,s=i.strides,c=i.pad,l=i.dilations,f=u.backend_util.computeDilation2DInfo(a.shape,o.shape,s,c,"NHWC",l),d=new Io(f),p=li({inputs:{x:t=r.runWebGLProgram(d,[a,o],"float32")},backend:r,attrs:{shape:f.outShape}});return r.disposeIntermediateTensorInfo(t),p}},No=n(37762);var Po={kernelName:u.Einsum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.equation,i=t,a=u.backend_util.decodeEinsumEquation(r,i.length),o=a.allDims,s=a.summedDims,c=a.idDims;u.backend_util.checkEinsumDimSizes(o.length,c,i);for(var l=u.backend_util.getEinsumComputePath(s,c),f=l.path,d=l.steps,p=d.length,h=null,v=o.length,m=[],g=0;g<p;++g){var y,b=(0,No.Z)(d[g]);try{for(b.s();!(y=b.n()).done;){var x=y.value,k=u.backend_util.getEinsumPermutation(v,c[x]),w=k.permutationIndices,_=k.expandDims,S=void 0;u.backend_util.isIdentityPermutation(w)?S=i[x]:(S=xi({inputs:{x:i[x]},backend:n,attrs:{perm:w}}),m.push(S));for(var T=S.shape.slice(),E=0;E<_.length;++E)T.splice(_[E],0,1);u.util.arraysEqual(S.shape,T)||(S=li({inputs:{x:S},backend:n,attrs:{shape:T}}),m.push(S)),null===h?h=S:(h=ui({inputs:{a:S,b:h},backend:n}),m.push(h))}}catch(I){b.e(I)}finally{b.f()}g<p-1&&(f[g]>=0&&(h=yi({inputs:{x:h},backend:n,attrs:{axis:f[g]-(o.length-v),keepDims:!1}}),m.push(h)),v--)}for(var C=0,O=m;C<O.length;C++){var A=O[C];A!==h&&n.disposeIntermediateTensorInfo(A)}return h}},Mo=ei({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),Do={kernelName:u.Elu,backendName:"webgl",kernelFunc:Mo},Lo={kernelName:u.EluGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,i=t.y,a=(0,u.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new zr("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,i.shape):new Vr("return (b >= 1.0) ? a : a * (b + 1.0);",r.shape,i.shape);return n.runWebGLProgram(a,[r,i],r.dtype)}},jo=ti({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:Cn}),Fo={kernelName:u.Equal,backendName:"webgl",kernelFunc:jo},Zo=ei({opSnippet:'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '.concat(u.backend_util.ERF_P,";\n  float a1 = ").concat(u.backend_util.ERF_A1,";\n  float a2 = ").concat(u.backend_util.ERF_A2,";\n  float a3 = ").concat(u.backend_util.ERF_A3,";\n  float a4 = ").concat(u.backend_util.ERF_A4,";\n  float a5 = ").concat(u.backend_util.ERF_A5,";\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n")}),Bo={kernelName:u.Erf,backendName:"webgl",kernelFunc:Zo},Uo=ei({opSnippet:"if (isnan(x)) return x;\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:On,dtype:"float32"}),Vo={kernelName:u.Exp,backendName:"webgl",kernelFunc:Uo};function zo(e){var t=e.inputs,n=e.attrs,r=e.backend,i=n.dim,a=t.input,o=a.shape.length,s=a.shape.slice(),c=i;return i<0&&(u.util.assert(-(o+1)<=i,(function(){return"Axis must be in the interval [".concat(-(o+1),", ").concat(o,"]")})),c=o+i+1),s.splice(c,0,1),li({inputs:{x:a},backend:r,attrs:{shape:s}})}var Wo={kernelName:u.ExpandDims,backendName:"webgl",kernelFunc:zo},Ho="return exp(x) - 1.0;",Go=ei({opSnippet:Ho,packedOpSnippet:Ho,cpuKernelImpl:An}),qo={kernelName:u.Expm1,backendName:"webgl",kernelFunc:Go},Ko=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["real","imag"];var i=n[1];this.outputShape=n;var a,o=r?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),s=r?"".concat(i,".0"):"1.0";if("real"===t)a="return real * expR - imag * expI;";else{if("imag"!==t)throw new Error('FFT component must be either "real" or "imag", got '.concat(t,"."));a="return real * expI + imag * expR;"}this.userCode="\n      const float exponentMultiplier = ".concat(o,";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ").concat(a,"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(").concat(i,");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ").concat(i,"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ").concat(s,";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ")}));function Yo(e,t,n){var r=n.texData.get(e.dataId),i=u.util.sizeFromShape(e.shape),a=e.shape[e.shape.length-1],o=li({inputs:{x:e},backend:n,attrs:{shape:[i/a,a]}}),s=o.shape,c=new Ko("real",s,t),l=new Ko("imag",s,t),f=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:s},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:s}],d=n.runWebGLProgram(c,f,"float32"),p=n.runWebGLProgram(l,f,"float32"),h=Gr({inputs:{real:d,imag:p},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p);var v=li({inputs:{x:h},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(h),v}var Xo={kernelName:u.FFT,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return Yo(t.input,!1,n)}},Qo=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}));function Jo(e){var t=e.backend,n=e.attrs,r=n.shape,i=n.value,a=n.dtype;if("string"===(a=a||u.util.inferDtype(i))){var o=u.util.getArrayFromDType(a,u.util.sizeFromShape(r));return o.fill(i),t.makeTensorInfo(r,a,o)}var s=new Qo(r,i),c=[[i]];return t.runWebGLProgram(s,[],a,c)}var $o,es={kernelName:u.Fill,backendName:"webgl",kernelFunc:Jo},ts=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["Image"],this.outputShape=[];var n=t[2];this.outputShape=t,this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ".concat(n," - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ").concat(n,") {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")})),ns={kernelName:u.FlipLeftRight,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.image,i=n,a=new ts(r.shape);return i.runWebGLProgram(a,[r],r.dtype)}},rs="return floor(x);",is=ei({opSnippet:rs,packedOpSnippet:rs,cpuKernelImpl:In}),as={kernelName:u.Floor,backendName:"webgl",kernelFunc:is},os=ti({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),ss={kernelName:u.FloorDiv,backendName:"webgl",kernelFunc:os},us=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"];var n=_e(),r=(0,c.Z)(t,2),i=r[0],a=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(a,".0, ").concat(i,".0);\n\n        vec4 values = ").concat(n.texture2D,"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ")})),cs=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=_e(),r=(0,c.Z)(t,2),i=r[0],a=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(".concat(a,".0, ").concat(i,".0);\n            vec4 values = ").concat(n.texture2D,"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),ls={kernelName:u.FromPixels,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.pixels,a=r.numChannels,s="undefined"!==typeof HTMLVideoElement&&i instanceof HTMLVideoElement,l="undefined"!==typeof HTMLImageElement&&i instanceof HTMLImageElement,f=s?[i.videoWidth,i.videoHeight]:[i.width,i.height],d=(0,c.Z)(f,2),p=d[0],h=d[1],v=[h,p],m=[h,p,a];(l||s)&&(null==$o&&($o=document.createElement("canvas").getContext("2d")),$o.canvas.width=p,$o.canvas.height=h,$o.drawImage(i,0,0,p,h),i=$o.canvas);var g=n.makeTensorInfo(v,"int32");n.texData.get(g.dataId).usage=o.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(g.dataId),i);var y=(0,u.env)().getBool("WEBGL_PACK")?new cs(m):new us(m),b=n.runWebGLProgram(y,[g],"int32");return n.disposeData(g.dataId),b}};var fs={kernelName:u.FusedConv2D,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=n.filter,s=n.bias,c=n.preluActivationWeights,l=i.strides,f=i.pad,d=i.dataFormat,p=i.dilations,h=i.dimRoundingMode,v=i.activation,m=i.leakyreluAlpha,g=u.backend_util.convertConv2DDataFormat(d),y=u.backend_util.computeConv2DInfo(a.shape,o.shape,l,p,f,h,!1,g),b=[];if(1!==y.filterHeight||1!==y.filterWidth||1!==y.dilationHeight||1!==y.dilationWidth||1!==y.strideHeight||1!==y.strideWidth||"SAME"!==y.padInfo.type&&"VALID"!==y.padInfo.type)if((0,u.env)().getBool("WEBGL_CONV_IM2COL")&&1===a.shape[0])t=qa({x:a,filter:o,convInfo:y,backend:r,bias:s,activation:v,preluActivationWeights:c,leakyreluAlpha:m});else{var x=null!=s,k=null!=c,w="leakyrelu"===v,_=v?ni(v,!1):null,S=new za(y,x,_,k,w),T=[a,o],E=function(e,t){if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){var n=li({inputs:{x:e},backend:r,attrs:{shape:[e.shape[0],1,1]}});return b.push(n),n}return e};if(x&&T.push(E(s,d)),k&&T.push(E(c,d)),w){var C=r.makeTensorInfo([],"float32",u.util.createScalarValue(m,"float32"));T.push(C),b.push(C)}t=r.runWebGLProgram(S,T,"float32")}else t=Ga({x:a,filter:o,convInfo:y,backend:r,bias:s,activation:v,preluActivationWeights:c,leakyreluAlpha:m});var O=li({inputs:{x:t},backend:r,attrs:{shape:y.outShape}});return b.push(t),b.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),O}};var ds={kernelName:u.FusedDepthwiseConv2D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.filter,o=t.bias,s=t.preluActivationWeights,c=r.strides,l=r.pad,f=r.dilations,d=r.dimRoundingMode,p=r.activation,h=r.leakyreluAlpha,v=[],m=f;null==m&&(m=[1,1]),u.util.assert(u.backend_util.eitherStridesOrDilationsAreOne(c,m),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(c," and dilations '").concat(m,"'")}));var g,y=u.backend_util.computeConv2DInfo(i.shape,a.shape,c,m,l,d,!0),b=(0,u.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&y.strideWidth<=2&&y.outChannels/y.inChannels===1,x=p?ni(p,b):null,k=[i,a],w=null!=o,_=null!=s,S="leakyrelu"===p;if(w&&k.push(o),_&&k.push(s),S){var T=n.makeTensorInfo([],"float32",u.util.createScalarValue(h,"float32"));k.push(T),v.push(T)}g=b?new wo(y,w,x,_,S):new ko(y,w,x,_,S);var E=[[y.padInfo.top,y.padInfo.left],[y.strideHeight,y.strideWidth],[y.dilationHeight,y.dilationWidth],[y.inHeight,y.inWidth]],C=n.runWebGLProgram(g,k,"float32",E);return v.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),C}},ps=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.sliceDim=t,this.strides=n,this.variableNames=["x","indices"],this.outputShape=r;var i=Ke(n.length),a=Ke(r.length),o=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        ".concat(i," strides = ").concat(i,"(").concat(this.strides,");\n         void main() {\n          ").concat(a," coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < ").concat(this.sliceDim,"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * ").concat(o,";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      ")}));var hs={kernelName:u.GatherNd,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,i=t.indices,a=i.shape,o=a[a.length-1],s=u.util.sizeFromShape(r.shape),l=u.backend_util.prepareAndValidate(r,i),f=(0,c.Z)(l,4),d=f[0],p=f[1],h=f[2],v=f[3],m=li({inputs:{x:i},backend:n,attrs:{shape:[p,o]}}),g=li({inputs:{x:r},backend:n,attrs:{shape:[u.util.sizeFromShape(r.shape)/h,h]}});if(n.shouldExecuteOnCPU([r,i])||"string"===r.dtype){var y=n.readSync(i.dataId),b=n.bufferSync(r),x=Rn(y,b,r.dtype,p,o,h,v,r.shape,s);return n.makeTensorInfo(d,r.dtype,x.values)}var k=new ps(o,v,[p,h]),w=n.runWebGLProgram(k,[g,m],g.dtype),_=li({inputs:{x:w},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(w),_}},vs=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;var r=Ke(this.rank),i=function(e,t){for(var n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[],i=0;i<e.length;i++)2===i?r.push("index"):r.push("".concat(n[i]));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(r," resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ").concat(t[2],") ? 1.0 : 0.0;\n        setOutput(inBounds * getA(").concat(i,"));\n      }\n    ")}));function ms(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.indices,o=r.axis,s=r.batchDims,c=u.util.parseAxisParam(o,i.shape)[0];(0,u.env)().get("DEBUG")&&function(){for(var e=n.readSync(a.dataId),t=i.shape[c],r=function(n){var r=e[n];u.util.assert(r<=t-1&&r>=0,(function(){return"GatherV2: the index value ".concat(r," is not in [0, ").concat(t-1,"]")}))},o=0;o<e.length;++o)r(o)}();var l=u.backend_util.segment_util.collectGatherOpShapeInfo(i,a,c,s),f=u.util.sizeFromShape(a.shape),d=[],p=li({inputs:{x:i},backend:n,attrs:{shape:[l.batchSize,l.outerSize,l.dimSize,l.sliceSize]}}),h=li({inputs:{x:a},backend:n,attrs:{shape:[l.batchSize,f/l.batchSize]}});d.push(p),d.push(h);var v=[l.batchSize,l.outerSize,f/l.batchSize,l.sliceSize];if(n.shouldExecuteOnCPU([i,a])||"string"===i.dtype){var m=n.bufferSync(h),g=n.bufferSync(p),y=Nn(g,m,v);return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(l.outputShape,y.dtype,y.values)}var b=new vs(p.shape,v),x=n.runWebGLProgram(b,[p,h],p.dtype);d.push(x);var k=li({inputs:{x:x},backend:n,attrs:{shape:l.outputShape}});return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),k}var gs={kernelName:u.GatherV2,backendName:"webgl",kernelFunc:ms},ys=ti({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:Pn,dtype:"bool"}),bs={kernelName:u.Greater,backendName:"webgl",kernelFunc:ys},xs=ti({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:Mn}),ks={kernelName:u.GreaterEqual,backendName:"webgl",kernelFunc:xs};var ws={kernelName:u.IFFT,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return Yo(t.input,!0,n)}},_s=ei({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),Ss={kernelName:u.IsFinite,backendName:"webgl",kernelFunc:_s},Ts=ei({opSnippet:"return float(isinf(x));",dtype:"bool"}),Es={kernelName:u.IsInf,backendName:"webgl",kernelFunc:Ts},Cs=ei({opSnippet:"return float(isnan(x));",dtype:"bool"}),Os={kernelName:u.IsNan,backendName:"webgl",kernelFunc:Cs},As=ti({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:Dn,dtype:"bool"}),Is={kernelName:u.Less,backendName:"webgl",kernelFunc:As},Rs=ti({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:Ln,dtype:"bool"}),Ns={kernelName:u.LessEqual,backendName:"webgl",kernelFunc:Rs};var Ps={kernelName:u.LinSpace,backendName:"webgl",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,i=n.stop,a=n.num,o=jn(r,i,a);return t.makeTensorInfo([o.length],"float32",o)}},Ms=ei({opSnippet:"if (isnan(x)) return x;\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:Fn}),Ds={kernelName:u.Log,backendName:"webgl",kernelFunc:Ms},Ls=ei({opSnippet:"if (isnan(x)) return x;\n  return log(1.0 + x);\n"}),js={kernelName:u.Log1p,backendName:"webgl",kernelFunc:Ls},Fs=ti({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),Zs={kernelName:u.LogicalAnd,backendName:"webgl",kernelFunc:Fs},Bs=ei({opSnippet:"return float(!(x >= 1.0));"}),Us={kernelName:u.LogicalNot,backendName:"webgl",kernelFunc:Bs},Vs=ti({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),zs={kernelName:u.LogicalOr,backendName:"webgl",kernelFunc:Vs},Ws=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["x"],this.outputShape=[];var o,s=n,u=t[3]-1;this.outputShape=t;var c="float(".concat(r,") + float(").concat(i,") * sum");o=.5===a?"inversesqrt(".concat(c,")"):1===a?"1.0/(".concat(c,")"):"exp(log(".concat(c,") * float(-").concat(a,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -".concat(s,"; j <= ").concat(s,"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ").concat(u,") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ").concat(o,";\n        setOutput(val);\n      }\n    ")})),Hs=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var o,s=n,u=t[3]-1;this.outputShape=t;var c="float(".concat(r,") + float(").concat(i,") * sum");o=.5===a?"inversesqrt(".concat(c,")"):1===a?"1.0/(".concat(c,")"):"exp(log(".concat(c,") * float(-").concat(a,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ".concat(this.outputShape[3],";\n        bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ").concat(s,";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ").concat(s,"; j <= ").concat(s,"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(u,"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ").concat(o,";\n        setOutput(result);\n      }\n    ")})),Gs={kernelName:u.LRN,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.depthRadius,o=r.bias,s=r.alpha,c=r.beta,l=(0,u.env)().getBool("WEBGL_PACK_NORMALIZATION")?new Hs(i.shape,a,o,s,c):new Ws(i.shape,a,o,s,c);return n.runWebGLProgram(l,[i],i.dtype)}},qs=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=n,this.bias=r,this.alpha=i,this.beta=a,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ".concat(this.depth,"; ++d) {\n          int depthBegin = int(max(0.0, float(d - ").concat(n,")));\n          int depthEnd = int(min(float(").concat(this.depth,"),\n              float(d + ").concat(n," + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ").concat(this.depth,";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(").concat(i,") * norm + float(").concat(r,");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(").concat(i,")\n                * float(").concat(a,")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ").concat(a,");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ")})),Ks={kernelName:u.LRNGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.y,o=t.dy,s=r.depthRadius,u=r.bias,c=r.alpha,l=r.beta,f=new qs(i.shape,s,u,c,l);return n.runWebGLProgram(f,[i,a,o],i.dtype)}};function Ys(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.reductionIndices,o=r.keepDims,s=i.shape.length,l=u.util.parseAxisParam(a,i.shape),f=l,d=u.backend_util.getAxesPermutation(f,s),p=null!=d,h=n.shouldExecuteOnCPU([i]),v=i;if(p){if(h){for(var m=n.texData.get(v.dataId).values,g=new Array(s),y=0;y<g.length;y++)g[y]=i.shape[d[y]];var b=cr(m,i.shape,i.dtype,d,g);v=n.makeTensorInfo(g,i.dtype),n.texData.get(v.dataId).values=b}else v=gi(i,d,n);f=u.backend_util.getInnerMostAxes(f.length,s)}u.backend_util.assertAxesAreInnerMostDims("max",f,s);var x,k=u.backend_util.computeOutAndReduceShapes(v.shape,f),w=(0,c.Z)(k,2),_=w[0],S=w[1],T=_;if(o&&(T=u.backend_util.expandShapeToKeepDim(_,l)),h){m=n.texData.get(v.dataId).values;var E=Zn(m,u.util.sizeFromShape(S),T,i.dtype);x=n.makeTensorInfo(T,i.dtype),n.texData.get(x.dataId).values=E}else x=function(e,t,n,r){var i=u.util.sizeFromShape(t),a=li({inputs:{x:e},attrs:{shape:[u.util.sizeFromShape(e.shape)/i,i]},backend:r}),o=hi(a,e.dtype,"max",r),s=li({inputs:{x:o},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),s}(v,S,T,n);return p&&n.disposeIntermediateTensorInfo(v),x}var Xs={kernelName:u.Max,backendName:"webgl",kernelFunc:Ys},Qs=ti({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:Bn}),Js={kernelName:u.Maximum,backendName:"webgl",kernelFunc:Qs};var $s={kernelName:u.MaxPool,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x;ke(i,"maxPool");var a=r.filterSize,o=r.strides,s=r.pad,c=r.dimRoundingMode;u.util.assert(u.backend_util.eitherStridesOrDilationsAreOne(o,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(1,"'")}));var l=u.backend_util.computePool2DInfo(i.shape,a,o,1,s,c);if(1===l.filterWidth&&1===l.filterHeight&&u.util.arraysEqual(l.inShape,l.outShape))return Wr({inputs:{x:i},backend:n});var f=new ta(l,"max",!1);return n.runWebGLProgram(f,[i],i.dtype)}};var eu={kernelName:u.MaxPool3D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.filterSize,o=r.strides,s=r.pad,c=r.dataFormat,l=r.dimRoundingMode,f=u.backend_util.computePool3DInfo(i.shape,a,o,[1,1,1],s,l,c),d=new na(f,"max",!1);return n.runWebGLProgram(d,[i],i.dtype)}},tu=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideHeight,r=t.strideWidth,i=t.dilationHeight,a=t.effectiveFilterHeight,o=t.effectiveFilterWidth,s=a-1-t.padInfo.top,u=o-1-t.padInfo.left,c=a*o-1;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(a,";\n          wR += ").concat(i,") {\n          float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(o,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ").concat(c," - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ").concat(o," + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),nu=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideDepth,r=t.strideHeight,i=t.strideWidth,a=t.dilationDepth,o=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,l=t.effectiveFilterWidth,f=u-1-t.padInfo.front,d=c-1-t.padInfo.top,h=l-1-t.padInfo.left,v=u*c*l-1;this.userCode="\n      const ivec3 pads = ivec3(".concat(f,", ").concat(d,", ").concat(h,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(u,";\n           wD += ").concat(a,") {\n          float dyD = float(dyDCorner + wD) / ").concat(n,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(c,";\n              wR += ").concat(o,") {\n            float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(l,";\n                wC += ").concat(s,") {\n              float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ").concat(v," -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ").concat(c," * ").concat(l," +\n                  wR * ").concat(l," + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var ru={kernelName:u.MaxPool3DGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.input,o=r.filterSize,s=r.strides,c=r.pad,l=r.dimRoundingMode,f=u.backend_util.computePool3DInfo(a.shape,o,s,[1,1,1],c,l),d=new na(f,"max",!0),p=n.runWebGLProgram(d,[a],a.dtype),h=new nu(f),v=n.runWebGLProgram(h,[i,p],a.dtype);return n.disposeIntermediateTensorInfo(p),v}};var iu={kernelName:u.MaxPoolGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,a=t.input,o=a;ke([a,t.output],"maxPoolGrad");var s=r.filterSize,c=r.strides,l=r.pad,f=r.dimRoundingMode,d=u.backend_util.computePool2DInfo(o.shape,s,c,1,l,f),p=new ta(d,"max",!0),h=n.runWebGLProgram(p,[o],o.dtype),v=new tu(d),m=n.runWebGLProgram(v,[i,h],o.dtype);return n.disposeIntermediateTensorInfo(h),m}};var au={kernelName:u.MaxPoolWithArgmax,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.x,a=n.filterSize,o=n.strides,s=n.pad,l=n.includeBatchInIndex,f=r;u.util.assert(4===i.shape.length,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(i.shape.length,".")}));var d=[1,1];u.util.assert(u.backend_util.eitherStridesOrDilationsAreOne(o,d),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(d,"'")}));var p=u.backend_util.computePool2DInfo(i.shape,a,o,d,s),h=function(e,t,n,r){var i=new ta(n,"max",!1),a=r.runWebGLProgram(i,[e],"float32");return i=new ta(n,"max",!0,!0,t),[a,r.runWebGLProgram(i,[e],"float32")]}(i,l,p,f),v=(0,c.Z)(h,2);return[v[0],v[1]]}};var ou={kernelName:u.Mean,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.x,a=n.keepDims,o=n.axis,s=r,l=i.shape.length,f=u.util.parseAxisParam(o,i.shape),d=f,p=u.backend_util.getAxesPermutation(d,l),h=null!=p,v=s.shouldExecuteOnCPU([i]),m=[],g=i;if(h){if(v){for(var y=s.texData.get(g.dataId).values,b=new Array(l),x=0;x<b.length;x++)b[x]=i.shape[p[x]];var k=cr(y,i.shape,i.dtype,p,b);g=s.makeTensorInfo(b,i.dtype),s.texData.get(g.dataId).values=k}else g=gi(i,p,s);m.push(g),d=u.backend_util.getInnerMostAxes(d.length,l)}u.backend_util.assertAxesAreInnerMostDims("sum",d,l);var w=u.backend_util.computeOutAndReduceShapes(g.shape,d),_=(0,c.Z)(w,2),S=_[0],T=_[1],E=S;a&&(E=u.backend_util.expandShapeToKeepDim(S,f));for(var C=function(e,t,n,r){var i=u.util.sizeFromShape(t),a=li({inputs:{x:e},attrs:{shape:[u.util.sizeFromShape(e.shape)/i,i]},backend:r}),o=hi(a,"float32","mean",r),s=li({inputs:{x:o},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),s}(g,T,E,s),O=0,A=m;O<A.length;O++){x=A[O];s.disposeIntermediateTensorInfo(x)}return C}};var su={kernelName:u.Min,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.axis,o=r.keepDims,s=i.shape.length,l=u.util.parseAxisParam(a,i.shape),f=l,d=u.backend_util.getAxesPermutation(f,s),p=i;null!=d&&(p=xi({inputs:{x:i},backend:n,attrs:{perm:d}}),f=u.backend_util.getInnerMostAxes(f.length,i.shape.length)),u.backend_util.assertAxesAreInnerMostDims("min",f,s);var h,v=u.backend_util.computeOutAndReduceShapes(p.shape,f),m=(0,c.Z)(v,2),g=m[0],y=m[1],b=li({inputs:{x:p},backend:n,attrs:{shape:[-1,u.util.sizeFromShape(y)]}}),x=hi(b,b.dtype,"min",n);return h=li(o?{inputs:{x:x},backend:n,attrs:{shape:u.backend_util.expandShapeToKeepDim(g,l)}}:{inputs:{x:x},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(x),null!=d&&n.disposeIntermediateTensorInfo(p),h}},uu=ti({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:Un}),cu={kernelName:u.Minimum,backendName:"webgl",kernelFunc:uu},lu=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["x"],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var i=t.length,a=Ke(i),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,i),c="reflect"===r?0:1;this.userCode=1!==i?"\n      ".concat(a," start = ").concat(a,"(").concat(o,");\n      ").concat(a," end = ").concat(a,"(").concat(s,");\n\n      void main() {\n        ").concat(a," outC = getOutputCoords();\n        for (int i = 0; i < ").concat(i,"; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ").concat(c,";\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(c,";\n          }\n        }\n        ").concat(a," coords = outC - start;\n        setOutput(getX(").concat(u,"));\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(s,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ").concat(c,";\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ").concat(c,";\n          }\n          setOutput(getX(outC - start));\n        }\n      ")})),fu=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var i=t.length,a=Ke(i),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=dr("rc",i),c=dr("source",i),l="".concat(u[i-1]," < ").concat(this.outputShape[i-1]),f=1===i?"source":"vec2(".concat(c.slice(-2).join(),")"),d="reflect"===r?0:1,h="";if(1===i){var v="\n        ".concat(a," source = rc;\n        if (source < start) {\n          source = start * 2 - source - ").concat(d,";\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ").concat(d,";\n        }\n        source -= start;\n      ");h="\n        ".concat(a," rc = outputLoc;\n        ").concat(v,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        ").concat(u[i-1]," += 1;\n        if(").concat(l,") {\n          ").concat(v,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        }\n      ")}else{var m="\n        ".concat(a," source = rc;\n        ").concat(a," lt = ").concat(a,"(lessThan(source, start));\n        ").concat(a," gte = ").concat(a,"(greaterThanEqual(source, end));\n        ").concat(a," orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ").concat(d,") +\n                gte * ((end - 1) * 2 - source + ").concat(d,");\n        source -= start;\n      ");h="\n        ".concat(a," rc = outputLoc;\n        ").concat(m,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        ").concat(u[i-1]," += 1;\n        if(").concat(l,") {\n          ").concat(m,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        }\n        rc = outputLoc;\n        ").concat(u[i-2]," += 1;\n        if(").concat(u[i-2]," < ").concat(this.outputShape[i-2],") {\n          ").concat(m,"\n          result[2] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n          ").concat(u[i-1]," += 1;\n          if(").concat(l,") {\n            ").concat(m,"\n            result[3] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n          }\n        }\n      ")}this.userCode="\n      const ".concat(a," start = ").concat(a,"(").concat(o,");\n      const ").concat(a," end = ").concat(a,"(").concat(s,");\n\n      void main() {\n        ").concat(a," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(h,"\n        setOutput(result);\n      }\n    ")})),du={kernelName:u.MirrorPad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.paddings,o=r.mode,s=(0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new fu(i.shape,a,o):new lu(i.shape,a,o);return n.runWebGLProgram(s,[i],i.dtype)}},pu=ti({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),hu={kernelName:u.Mod,backendName:"webgl",kernelFunc:pu},vu=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,r],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ".concat(n-1,"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(").concat(n-1,"));\n      }\n    ")})),mu=ti({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),gu={kernelName:u.RealDiv,backendName:"webgl",kernelFunc:mu},yu="return a - b;",bu=ti({opSnippet:yu,packedOpSnippet:yu,supportsComplex:!0,cpuKernelImpl:or}),xu={kernelName:u.Sub,backendName:"webgl",kernelFunc:bu};function ku(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.logits,a=r.dim,o=u.util.parseAxisParam([a],i.shape),s=Ys({inputs:{x:i},backend:n,attrs:{reductionIndices:o,keepDims:!1}}),c=u.backend_util.expandShapeToKeepDim(s.shape,o),l=li({inputs:{x:s},backend:n,attrs:{shape:c}}),f=bu({inputs:{a:i,b:l},backend:n}),d=Uo({inputs:{x:f},backend:n}),p=yi({inputs:{x:d},backend:n,attrs:{axis:o,keepDims:!1}}),h=li({inputs:{x:p},backend:n,attrs:{shape:c}}),v=mu({inputs:{a:d,b:h},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),v}var wu={kernelName:u.Softmax,backendName:"webgl",kernelFunc:ku};var _u={kernelName:u.Multinomial,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.logits,a=r.numSamples,o=r.seed,s=r.normalized,u=s?i:ku({inputs:{logits:i},backend:n,attrs:{dim:i.shape.length-1}}),c=u.shape[0],l=u.shape[1],f=new vu(c,l,a),d=[[o]],p=n.runWebGLProgram(f,[u],"int32",d);return s||n.disposeIntermediateTensorInfo(u),p}};var Su={kernelName:u.Neg,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=n.x;if(r.shouldExecuteOnCPU([i])){var a=r.texData.get(i.dataId),o=zn(a.values,i.shape,i.dtype),s=(0,c.Z)(o,2),l=s[0],f=s[1];return r.makeTensorInfo(f,i.dtype,l)}return t=(0,u.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Pr(i.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new br(i.shape,"if (isnan(x)) return x;\n  return -x;\n"),r.runWebGLProgram(t,[i],i.dtype)}},Tu=u.kernel_impls.nonMaxSuppressionV3Impl;var Eu={kernelName:u.NonMaxSuppressionV3,backendName:"webgl",kernelFunc:function(e){u.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,c=r.scoreThreshold,l=n.readSync(i.dataId),f=n.readSync(a.dataId),d=Tu(l,f,o,s,c).selectedIndices;return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},Cu=u.kernel_impls.nonMaxSuppressionV4Impl;var Ou={kernelName:u.NonMaxSuppressionV4,backendName:"webgl",kernelFunc:function(e){u.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,c=r.scoreThreshold,l=r.padToMaxOutputSize,f=n.readSync(i.dataId),d=n.readSync(a.dataId),p=Cu(f,d,o,s,c,l),h=p.selectedIndices,v=p.validOutputs;return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([v]))]}},Au=u.kernel_impls.nonMaxSuppressionV5Impl;var Iu={kernelName:u.NonMaxSuppressionV5,backendName:"webgl",kernelFunc:function(e){u.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,i=t.boxes,a=t.scores,o=r.maxOutputSize,s=r.iouThreshold,c=r.scoreThreshold,l=r.softNmsSigma,f=n.readSync(i.dataId),d=n.readSync(a.dataId),p=Au(f,d,o,s,c,l),h=p.selectedIndices,v=p.selectedScores;return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}},Ru=(0,h.Z)((function e(t,n,r,i){(0,p.Z)(this,e),this.variableNames=["indices"],this.outputShape=[t,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(".concat(i,"), float(").concat(r,"),\n                      float(index == coords.y)));\n      }\n    ")})),Nu={kernelName:u.OneHot,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.indices,a=r.depth,o=r.onValue,s=r.offValue,c=u.util.sizeFromShape(i.shape),l=new Ru(c,a,o,s),d=li({inputs:{x:i},backend:n,attrs:{shape:[c]}}),p=n.runWebGLProgram(l,[d],i.dtype);n.disposeIntermediateTensorInfo(d);var h=li({inputs:{x:p},backend:n,attrs:{shape:[].concat((0,f.Z)(i.shape),[a])}});return n.disposeIntermediateTensorInfo(p),h}};function Pu(e){var t=e.inputs,n=e.backend,r=t.x;if("complex64"===r.dtype){var i=_a({inputs:{input:r},backend:n}),a=Pu({inputs:{x:i},backend:n}),o=Fa({inputs:{input:r},backend:n}),s=Pu({inputs:{x:o},backend:n}),u=Gr({inputs:{real:a,imag:s},backend:n});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),u}return Jo({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}var Mu={kernelName:u.ZerosLike,backendName:"webgl",kernelFunc:Pu};var Du={kernelName:u.OnesLike,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,i=n.x;if("string"===i.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===i.dtype){var a=_a({inputs:{input:i},backend:r}),o=e({inputs:{x:a},backend:r}),s=Fa({inputs:{input:i},backend:r}),u=Pu({inputs:{x:s},backend:r}),c=Gr({inputs:{real:o,imag:u},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(u),c}return Jo({attrs:{shape:i.shape,dtype:i.dtype,value:1},backend:r})}};var Lu={kernelName:u.Pack,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return zo({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var i=t[0].shape,a=t[0].dtype;t.forEach((function(e){u.util.assertShapesMatch(i,e.shape,"All tensors passed to stack must have matching shapes"),u.util.assert(a===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var o=[],s=Ua({inputs:t.map((function(e){var t=zo({inputs:{input:e},backend:n,attrs:{dim:r}});return o.push(t),t})),backend:n,attrs:{axis:r}});return o.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),s}},ju=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var i=t.length,a=Ke(i),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,i);this.userCode=1!==i?"\n      ".concat(a," start = ").concat(a,"(").concat(o,");\n      ").concat(a," end = ").concat(a,"(").concat(s,");\n\n      void main() {\n        ").concat(a," outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ").concat(a," coords = outC - start;\n          setOutput(getX(").concat(u,"));\n        }\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(s,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ")})),Fu=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));for(var i=t.length,a=Ke(i),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=dr("rc",i),c=dr("source",i),l="".concat(u[i-1]," < ").concat(this.outputShape[i-1]),f=1===i?"source":"vec2(".concat(c.slice(-2).join(),")"),d=["".concat(a," rc = outputLoc;"),"".concat(u[i-1]," += 1;\n       if(").concat(l,") {\n      "),1===i?"":"}\n       rc = outputLoc;\n       ".concat(u[i-2]," += 1;\n       if(").concat(u[i-2]," < ").concat(this.outputShape[i-2],") {"),1===i?"":"  ".concat(u[i-1]," += 1;\n         if(").concat(l,") {")],h=1===i?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",v="",m=0,g=1===i?2:4;m<g;m++)v+="\n        ".concat(d[m],"\n        if (").concat(h,") {\n          result[").concat(m,"] = float(value);\n        } else {\n          ").concat(a," source = rc - start;\n          result[").concat(m,"] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        }\n      ");v+=1===i?"} ":"}}",this.userCode="\n      const ".concat(a," start = ").concat(a,"(").concat(o,");\n      const ").concat(a," end = ").concat(a,"(").concat(s,");\n\n      void main() {\n        ").concat(a," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(v,"\n        setOutput(result);\n      }\n    ")})),Zu=function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.paddings,o=r.constantValue;if(0===u.util.sizeFromShape(i.shape))return Jo({backend:n,attrs:{shape:a.map((function(e,t){return e[0]+i.shape[t]+e[1]})),value:o,dtype:i.dtype}});var s=(0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Fu(i.shape,a,o):new ju(i.shape,a,o),c=[[o]];return n.runWebGLProgram(s,[i],i.dtype,c)},Bu={kernelName:u.PadV2,backendName:"webgl",kernelFunc:Zu},Uu=ti({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),Vu={kernelName:u.Pow,backendName:"webgl",kernelFunc:Uu};var zu={kernelName:u.Prod,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=i.axis,s=i.keepDims,l=a.shape.length,f=[],d=u.util.parseAxisParam(o,a.shape),p=d,h=u.backend_util.getAxesPermutation(p,l),v=a;if(null!=h&&(v=xi({inputs:{x:a},backend:r,attrs:{perm:h}}),p=u.backend_util.getInnerMostAxes(p.length,l),f.push(v)),u.backend_util.assertAxesAreInnerMostDims("prod",p,l),r.shouldExecuteOnCPU([v])){var m=r.texData.get(v.dataId).values,g=Hn(v.shape,v.dtype,m,p),y=g.outVals,b=g.outShape,x=g.outDtype;t=r.makeTensorInfo(b,x,y)}else{var k=u.backend_util.computeOutAndReduceShapes(v.shape,p),w=(0,c.Z)(k,2),_=w[0],S=w[1],T=u.util.sizeFromShape(S),E=li({inputs:{x:v},backend:r,attrs:{shape:[-1,T]}}),C=hi(E,(0,u.sumOutType)(a.dtype),"prod",r);t=li({inputs:{x:C},backend:r,attrs:{shape:_}}),f.push(E),f.push(C)}if(s){f.push(t);var O=u.backend_util.expandShapeToKeepDim(t.shape,d);t=li({inputs:{x:t},backend:r,attrs:{shape:O}})}return f.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),t}},Wu=function(e){var t=e.backend,n=e.attrs,r=n.start,i=n.stop,a=n.step,o=n.dtype,s=Gn(r,i,a,o);return t.makeTensorInfo([s.length],o,s)},Hu={kernelName:u.Range,backendName:"webgl",kernelFunc:Wu},Gu=ei({opSnippet:"return 1.0 / x;"}),qu={kernelName:u.Reciprocal,backendName:"webgl",kernelFunc:Gu},Ku=ei({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),Yu={kernelName:u.Relu,backendName:"webgl",kernelFunc:Ku},Xu=ei({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),Qu={kernelName:u.Relu6,backendName:"webgl",kernelFunc:Xu},Ju=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["A"],this.outputShape=[];var o=(0,c.Z)(t,4),s=o[0],u=o[1],l=o[2],f=o[3];this.outputShape=[s,n,r,f];var d,h=[i&&n>1?u-1:u,i&&r>1?l-1:l],v=[i&&n>1?n-1:n,i&&r>1?r-1:r];d=a?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(h[0]/v[0],",\n          ").concat(h[1]/v[1],");\n      const vec2 inputShapeRC = vec2(").concat(u,".0, ").concat(l,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ")})),$u=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=(0,c.Z)(t,4),s=o[0],u=o[1],l=o[2],f=o[3];this.outputShape=[s,n,r,f];var d,h=[i&&n>1?u-1:u,i&&r>1?l-1:l],v=[i&&n>1?n-1:n,i&&r>1?r-1:r];d=a?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(h[0]/v[0],",\n          ").concat(h[1]/v[1],",\n          ").concat(h[1]/v[1],");\n      const vec3 inputShapeRC = vec3(").concat(u,".0, ").concat(l,".0,\n                                     ").concat(l,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(f-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ")}));var ec={kernelName:u.ResizeBilinear,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,a=r.alignCorners,o=r.halfPixelCenters,s=r.size,l=(0,c.Z)(s,2),f=l[0],d=l[1],p=(0,u.env)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new $u(i.shape,f,d,a,o):new Ju(i.shape,f,d,a,o);return n.runWebGLProgram(p,[i],"float32")}},tc=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var i=(0,c.Z)(n,3),a=i[1],o=i[2],s=(0,c.Z)(t,3),u=s[1],l=s[2],f=[r&&u>1?a-1:a,r&&l>1?o-1:o],d=[r&&u>1?u-1:u,r&&l>1?l-1:l],h=f[0]/d[0],v=f[1]/d[1],m=1/h,g=1/v,y=2*Math.ceil(m)+2,b=2*Math.ceil(g)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(h,");\n        const float widthScale = float(").concat(v,");\n\n        const float invHeightScale = float(").concat(m,");\n        const float invWidthScale = float(").concat(g,");\n\n        const int winHeight = int(").concat(y,");\n        const int winWidth = int(").concat(b,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(u,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(l,") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ").concat(a-1,".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ").concat(o-1,".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}));var nc={kernelName:u.ResizeBilinearGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,a=t.dy,o=r.alignCorners,s=new tc(a.shape,i.shape,o);return n.runWebGLProgram(s,[a],a.dtype)}},rc=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["A"],this.outputShape=[];var o=(0,c.Z)(t,4),s=o[0],u=o[1],l=o[2],f=o[3];this.outputShape=[s,n,r,f];var d,h=[i&&n>1?u-1:u,i&&r>1?l-1:l],v=[i&&n>1?n-1:n,i&&r>1?r-1:r],m=i?"0.5":"0.0";d=a?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(h[0]/v[0],",\n          ").concat(h[1]/v[1],");\n      const vec2 inputShapeRC = vec2(").concat(u,".0, ").concat(l,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(m,")));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ")})),ic=(0,h.Z)((function e(t,n,r,i,a){(0,p.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=(0,c.Z)(t,4),s=o[0],u=o[1],l=o[2],f=o[3];this.outputShape=[s,n,r,f];var d,h=[i&&n>1?u-1:u,i&&r>1?l-1:l],v=[i&&n>1?n-1:n,i&&r>1?r-1:r],m=i?"0.5":"0.0";d=a?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(h[0]/v[0],",\n          ").concat(h[1]/v[1],",\n          ").concat(h[1]/v[1],");\n      const vec3 inputShapeRC = vec3(").concat(u,".0, ").concat(l,".0,\n                                     ").concat(l,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(m,")));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(f-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    ")}));var ac={kernelName:u.ResizeNearestNeighbor,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,a=r.alignCorners,o=r.halfPixelCenters,s=r.size,l=(0,c.Z)(s,2),f=l[0],d=l[1],p=(0,u.env)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new ic(i.shape,f,d,a,o):new rc(i.shape,f,d,a,o);return n.runWebGLProgram(p,[i],i.dtype)}},oc=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var i=(0,c.Z)(n,3),a=i[1],o=i[2],s=(0,c.Z)(t,3),u=s[1],l=s[2],f=[r&&u>1?a-1:a,r&&l>1?o-1:o],d=[r&&u>1?u-1:u,r&&l>1?l-1:l],h=f[0]/d[0],v=f[1]/d[1],m=1/h,g=1/v,y=2*Math.ceil(m)+2,b=2*Math.ceil(g)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(h,");\n        const float widthScale = float(").concat(v,");\n\n        const float invHeightScale = float(").concat(m,");\n        const float invWidthScale = float(").concat(g,");\n\n        const int winHeight = int(").concat(y,");\n        const int winWidth = int(").concat(b,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(u,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(l,") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(").concat(f[0],") *\n                (float(dyR) / float(").concat(d[0],"));\n\n            float sourceFracCol =\n                float(").concat(f[1],") *\n                  (float(dyC) / float(").concat(d[1],"));\n\n            int sourceNearestRow = int(min(\n                float(int(").concat(a,") - 1),\n                ").concat(r," ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(").concat(o,") - 1),\n                ").concat(r," ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}));var sc={kernelName:u.ResizeNearestNeighborGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,a=t.dy,o=r.alignCorners,s=new oc(a.shape,i.shape,o);return n.runWebGLProgram(s,[a],a.dtype)}},uc=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["x"];var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));if(this.outputShape=t,1!==r){var i=t.map((function(e,r){return function(e){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - coords[").concat(e,"] - 1"):"coords[".concat(e,"]")}(r)})).join(","),a=Ke(r);this.userCode="\n      void main() {\n        ".concat(a," coords = getOutputCoords();\n        setOutput(getX(").concat(i,"));\n      }\n    ")}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(".concat(t[0]," - coord - 1));\n        }\n      ")})),cc=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));this.outputShape=t;var i=dr("rc",r),a="".concat(i[r-1]," + 1 < ").concat(this.outputShape[r-1]),o="".concat(i[r-2]," + 1 < ").concat(this.outputShape[r-2]),s=Ke(r);function u(e){var r=t.map((function(r,i){return function(e,r){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - ").concat(r[e]," - 1"):"".concat(r[e])}(i,e)})),i=r.join(","),a=r.slice(-2).join(",");return"getChannel(getX(".concat(i,"), vec2(").concat(a,"))")}this.userCode=1===r?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(".concat(t[0]," - rc - 1),\n            ").concat(t[0]," - rc - 1);\n          if(").concat(a,"){\n              result.g = getChannel(getX(").concat(t[0]," - (rc  + 1) - 1),\n                ").concat(t[0]," - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "):"\n        void main() {\n          ".concat(s," rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ").concat(function(e){return u(e)}(i.slice()),";\n          if(").concat(a,"){\n            result.g = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",u(e)}(i.slice()),";\n          }\n          if(").concat(o,") {\n            result.b = ").concat(function(e){return e[r-2]="("+e[r-2]+" + 1)",u(e)}(i.slice()),";\n            if(").concat(a,") {\n              result.a = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",e[r-2]="("+e[r-2]+" + 1)",u(e)}(i.slice()),";\n            }\n          }\n          setOutput(result);\n        }\n    ")}));var lc={kernelName:u.Reverse,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.dims,o=i.shape.length,s=u.util.parseAxisParam(a,i.shape);if(0===o)return Wr({inputs:{x:i},backend:n});var c=(0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new cc(i.shape,s):new uc(i.shape,s);return n.runWebGLProgram(c,[i],i.dtype)}},fc=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];var r=t[1],i=t[2];this.outputShape=t;var a="";a="number"===typeof n?"float outputValue = ".concat(n.toFixed(2),";"):"\n        vec3 fill = vec3(".concat(n.join(","),");\n        float outputValue = fill[coords[3]];"),this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ".concat(a,"\n          if(coordX >= 0 && coordX < ").concat(i," && coordY >= 0 && coordY < ").concat(r,") {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")})),dc={kernelName:u.RotateWithOffset,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.image,a=n.radians,o=n.fillValue,s=n.center,l=r,f=new fc(i.shape,o),d=u.backend_util.getImageCenter(s,i.shape[1],i.shape[2]),p=(0,c.Z)(d,2),h=[[p[0],p[1],Math.sin(a),Math.cos(a)]];return l.runWebGLProgram(f,[i],i.dtype,h)}},pc=ei({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),hc={kernelName:u.Round,backendName:"webgl",kernelFunc:pc},vc=ei({opSnippet:"return inversesqrt(x);",cpuKernelImpl:qn}),mc={kernelName:u.Rsqrt,backendName:"webgl",kernelFunc:vc},gc=(0,h.Z)((function e(t,n,r,i,a,o){(0,p.Z)(this,e),this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;var s=Ke(a.length),u=Ke(o.length),c="";1===r?c="i":2===r&&(c="i, j");var l="getIndices(".concat(c,")"),f="";1===i?f="i":2===i&&(f="i, coords[1]");var d="getUpdates(".concat(f,")"),h=n>1?"strides[j]":"strides";this.userCode="\n        ".concat(s," strides = ").concat(s,"(").concat(a,");\n\n        void main() {\n          ").concat(u," coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ").concat(t,"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ").concat(n,"; j++) {\n              int index = round(").concat(l,");\n              flattenedIndex += index * ").concat(h,";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ").concat(d,";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      ")}));var yc={kernelName:u.ScatterNd,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.indices,a=t.updates,o=r.shape,s=u.backend_util.calculateShapes(a,i,o),c=s.sliceRank,l=s.numUpdates,f=s.sliceSize,d=s.strides,p=s.outputSize,h=[p/f,f];if(0===p)return n.makeTensorInfo(o,i.dtype);var v=li({inputs:{x:i},backend:n,attrs:{shape:[l,c]}}),m=li({inputs:{x:a},backend:n,attrs:{shape:[l,f]}}),g=n.makeTensorInfo([],"float32",new Float32Array([0])),y=new gc(l,c,v.shape.length,m.shape.length,d,h),b=n.runWebGLProgram(y,[m,v,g],m.dtype),x=li({inputs:{x:b},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(g),x}},bc=(0,h.Z)((function e(t,n,r,i){(0,p.Z)(this,e),this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[t,r];var a="for (int i = 0; i < ".concat(Math.ceil(Math.log2(n+1)),"; ++i) { if (left >= right) break;"),o=2===(0,u.env)().getNumber("WEBGL_VERSION")?"while (left < right) {":a,s="left"===i?"<":"<=";this.userCode="\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ".concat(o,"\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ").concat(s," value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     ")}));var xc={kernelName:u.SearchSorted,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.sortedSequence,a=t.values,o=r.side,s=new bc(i.shape[0],i.shape[1],a.shape[1],o),u=[[i.shape[1]]];return n.runWebGLProgram(s,[i,a],"int32",u)}},kc=(0,h.Z)((function e(t,n,r){var i,a;if((0,p.Z)(this,e),this.variableNames=["c","a","b"],this.outputShape=n,r>4)throw Error("Where for rank ".concat(r," is not yet supported"));if(1===r)a="resRC",i="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[],u=[],c=0;c<n.length;c++)u.push("".concat(o[c])),c<t&&s.push("".concat(o[c]));i=s.join(),a=u.join()}var l=Ke(r);this.userCode="\n      void main() {\n        ".concat(l," resRC = getOutputCoords();\n        float cVal = getC(").concat(i,");\n        if (cVal >= 1.0) {\n          setOutput(getA(").concat(a,"));\n        } else {\n          setOutput(getB(").concat(a,"));\n        }\n      }\n    ")}));var wc={kernelName:u.Select,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,i=t.t,a=t.e,o=new kc(r.shape.length,i.shape,i.shape.length);return n.runWebGLProgram(o,[r,i,a],(0,u.upcastType)(i.dtype,a.dtype))}},_c=ei({opSnippet:"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ".concat(u.backend_util.SELU_SCALEALPHA,";\n  float scale = ").concat(u.backend_util.SELU_SCALE,";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n")}),Sc={kernelName:u.Selu,backendName:"webgl",kernelFunc:_c},Tc=ei({opSnippet:"if (isnan(x)) return x;\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:Yn}),Ec={kernelName:u.Sigmoid,backendName:"webgl",kernelFunc:Tc},Cc=ei({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),Oc={kernelName:u.Sign,backendName:"webgl",kernelFunc:Cc},Ac=ei({opSnippet:"if (isnan(x)) return x;\n  return sin(x);\n"}),Ic={kernelName:u.Sin,backendName:"webgl",kernelFunc:Ac},Rc=ei({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),Nc={kernelName:u.Sinh,backendName:"webgl",kernelFunc:Rc},Pc=ei({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),Mc={kernelName:u.Softplus,backendName:"webgl",kernelFunc:Pc},Dc={kernelName:u.SpaceToBatchND,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.blockShape,o=r.paddings;u.util.assert(i.shape.length<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var s=a.reduce((function(e,t){return e*t})),c=[[0,0]];c.push.apply(c,(0,f.Z)(o));for(var l=1+a.length;l<i.shape.length;++l)c.push([0,0]);var d=[],p=Zu({inputs:{x:i},backend:n,attrs:{paddings:c,constantValue:0}}),h=u.backend_util.getReshaped(p.shape,a,s,!1),v=u.backend_util.getPermuted(h.length,a.length,!1),m=u.backend_util.getReshapedPermuted(p.shape,a,s,!1),g=li({inputs:{x:p},backend:n,attrs:{shape:h}}),y=xi({inputs:{x:g},backend:n,attrs:{perm:v}}),b=li({inputs:{x:y},backend:n,attrs:{shape:m}});return d.push(p),d.push(g),d.push(y),d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),b}};var Lc={kernelName:u.SparseFillEmptyRows,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,i=t.values,a=t.denseShape,o=t.defaultValue;if(1!==a.shape.length)throw new Error("Dense shape must be a vector, saw:\n         ".concat(a.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n         ".concat(r.shape));if(1!==i.shape.length)throw new Error("Values must be a vector, saw:\n         ".concat(i.shape));if(0!==o.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(o.shape));var s=n.readSync(r.dataId),u=n.readSync(i.dataId),l=n.readSync(a.dataId),f=n.readSync(o.dataId)[0],d=Jn(s,r.shape,r.dtype,u,i.dtype,l,f),p=(0,c.Z)(d,5),h=p[0],v=p[1],m=p[2],g=p[3],y=p[4];return[n.makeTensorInfo(v,r.dtype,h),n.makeTensorInfo([v[0]],i.dtype,m),n.makeTensorInfo([g.length],"bool",new Uint8Array(g.map((function(e){return Number(e)})))),n.makeTensorInfo([y.length],r.dtype,new Int32Array(y))]}};var jc={kernelName:u.SparseReshape,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,i=t.inputShape,a=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape ".concat(r.shape));if(1!==i.shape.length)throw new Error("Input shape should be a vector but received shape ".concat(i.shape));if(1!==a.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(a.shape));var o=Array.from(n.readSync(i.dataId)),s=n.readSync(r.dataId),u=Array.from(n.readSync(a.dataId)),l=$n(s,r.shape,r.dtype,o,u),f=(0,c.Z)(l,3),d=f[0],p=f[1],h=f[2];return[n.makeTensorInfo(p,r.dtype,d),n.makeTensorInfo([h.length],a.dtype,new Int32Array(h))]}};var Fc={kernelName:u.SparseSegmentMean,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,i=t.indices,a=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n              ".concat(i.shape));if(1!==a.shape.length)throw new Error("Segment ids should be a vector but received shape\n              ".concat(a.shape));var o=n.readSync(r.dataId),s=n.readSync(i.dataId),u=n.readSync(a.dataId),l=er(o,r.shape,r.dtype,s,u,!0),f=(0,c.Z)(l,2),d=f[0],p=f[1];return n.makeTensorInfo(p,r.dtype,d)}};var Zc={kernelName:u.SparseSegmentSum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,i=t.indices,a=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error("Indices should be a vector but received shape\n             ".concat(i.shape));if(1!==a.shape.length)throw new Error("Segment ids should be a vector but received shape\n             ".concat(a.shape));var o=n.readSync(r.dataId),s=n.readSync(i.dataId),u=n.readSync(a.dataId),l=er(o,r.shape,r.dtype,s,u),f=(0,c.Z)(l,2),d=f[0],p=f[1];return n.makeTensorInfo(p,r.dtype,d)}};var Bc={kernelName:u.SparseToDense,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.sparseIndices,a=t.sparseValues,o=t.defaultValue,s=r.outputShape,c=u.backend_util.calculateShapes(a,i,s),l=c.sliceRank,f=c.numUpdates,d=c.sliceSize,p=c.strides,h=c.outputSize;if("string"===a.dtype){var v=n.bufferSync(i),m=n.bufferSync(a),g=u.util.decodeString(n.readSync(o.dataId)[0]),y=Kn(v,m,s,h,d,f,l,p,g,false);return n.makeTensorInfo(s,y.dtype,y.values)}var b=new gc(f,l,i.shape.length,a.shape.length,p,[h,1],false),x=n.runWebGLProgram(b,[a,i,o],a.dtype),k=li({inputs:{x:x},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(x),k}};var Uc={kernelName:u.SplitV,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.numOrSizeSplits,o=r.axis,s=u.util.parseAxisParam(o,i.shape)[0],c=u.backend_util.prepareSplitSize(i,a,s),l=i.shape.length,d=new Array(l).fill(0),p=i.shape.slice();return c.map((function(e){var t=(0,f.Z)(p);t[s]=e;var r=ma({inputs:{x:i},backend:n,attrs:{begin:d,size:t}});return d[s]+=e,r}))}},Vc="return sqrt(x);",zc=ei({opSnippet:Vc,packedOpSnippet:Vc,cpuKernelImpl:tr}),Wc={kernelName:u.Sqrt,backendName:"webgl",kernelFunc:zc},Hc=ei({opSnippet:"return x * x;"}),Gc={kernelName:u.Square,backendName:"webgl",kernelFunc:Hc},qc="return (a - b) * (a - b);",Kc=ti({opSnippet:qc,packedOpSnippet:qc}),Yc={kernelName:u.SquaredDifference,backendName:"webgl",kernelFunc:Kc};var Xc={kernelName:u.Step,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.x,a=xr+"\n    return x > 0.0 ? 1.0 : float(".concat(n.alpha,");\n  "),o=new br(i.shape,a);return r.runWebGLProgram(o,[i],i.dtype)}},Qc=(0,h.Z)((function e(t,n,r){(0,p.Z)(this,e),this.variableNames=["x"],this.outputShape=r;var i=r.length,a=Ke(r.length),o=Ke(r.length),s="";if(1===i)s="coords * strides + begin";else{var u=0;s=r.map((function(e,t){return u++,1===r.length?"coords * strides[".concat(t,"] + begin[").concat(t,"]"):"coords[".concat(u-1,"] * strides[").concat(t,"] + begin[").concat(t,"]")})).join(",")}this.userCode="\n      ".concat(a," begin = ").concat(a,"(").concat(t,");\n      ").concat(a," strides = ").concat(a,"(").concat(n,");\n\n      void main() {\n        ").concat(o," coords = getOutputCoords();\n        setOutput(getX(").concat(s,"));\n      }\n    ")}));var Jc={kernelName:u.StridedSlice,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,a=n.x,o=i.begin,s=i.end,c=i.strides,l=i.beginMask,f=i.endMask,d=i.ellipsisMask,p=i.newAxisMask,h=i.shrinkAxisMask,v=u.slice_util.sliceInfo(a.shape,o,s,c,l,f,d,p,h),m=v.finalShapeSparse,g=v.finalShape,y=v.isIdentity,b=v.sliceDim0,x=v.isSimpleSlice,k=v.begin,w=v.end,_=v.strides;if(y)t=li({inputs:{x:a},backend:r,attrs:{shape:g}});else if(b||x){u.util.assert(a.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(a.shape.length)}));var S=u.slice_util.computeOutShape(k,w,_),T=ma({inputs:{x:a},backend:r,attrs:{begin:k,size:S}});t=li({inputs:{x:T},backend:r,attrs:{shape:g}}),r.disposeIntermediateTensorInfo(T)}else{if(r.shouldExecuteOnCPU([a])){var E=r.readSync(a.dataId),C=(0,u.buffer)(a.shape,a.dtype,E),O=nr(m,C,_,k);t=r.makeTensorInfo(g,a.dtype,O.values)}else{var A=new Qc(k,_,m);t=r.runWebGLProgram(A,[a],a.dtype)}}var I=li({inputs:{x:t},backend:r,attrs:{shape:g}});return r.disposeIntermediateTensorInfo(t),I}};var $c={kernelName:u.StringNGrams,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=r.separator,a=r.nGramWidths,o=r.leftPad,s=r.rightPad,u=r.padWidth,l=r.preserveShortSequences,f=t.data,d=t.dataSplits,p=n.readSync(f.dataId),h=n.readSync(d.dataId),v=rr(p,h,i,a,o,s,u,l),m=(0,c.Z)(v,2),g=m[0],y=m[1];return[n.makeTensorInfo([g.length],"string",g),n.makeTensorInfo(d.shape,"int32",y)]}};var el={kernelName:u.StringSplit,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,i=t.input,a=t.delimiter;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(1!==i.shape.length)throw new Error("Input must be a vector, got shape: ".concat(i.shape));if(0!==a.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(a.shape));var o=n.readSync(i.dataId),s=n.readSync(a.dataId)[0],u=ir(o,s,r),l=(0,c.Z)(u,3),f=l[0],d=l[1],p=l[2],h=d.length;return[n.makeTensorInfo([h,2],"int32",f),n.makeTensorInfo([h],"string",d),n.makeTensorInfo([2],"int32",new Int32Array(p))]}};var tl={kernelName:u.StringToHashBucketFast,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,i=t.input;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var a=n.readSync(i.dataId),o=ar(a,r);return n.makeTensorInfo(i.shape,"int32",o)}},nl=ei({opSnippet:"return tan(x);"}),rl={kernelName:u.Tan,backendName:"webgl",kernelFunc:nl},il=ei({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),al={kernelName:u.Tanh,backendName:"webgl",kernelFunc:il},ol=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),i=0;i<r.length;i++)r[i]=t[i]*n[i];this.outputShape=r,this.rank=r.length;var a=Ke(this.rank),o=function(e){var t=e.length;if(t>5)throw Error("Tile for rank ".concat(t," is not yet supported"));if(1===t)return"imod(resRC, ".concat(e[0],")");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],i=0;i<e.length;i++)r.push("imod(".concat(n[i],", ").concat(e[i],")"));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(a," resRC = getOutputCoords();\n        setOutput(getA(").concat(o,"));\n      }\n    ")}));function sl(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.reps;if("string"===i.dtype||i.shape.length>5){var o=n.readSync(i.dataId),s="string"===i.dtype?o.map((function(e){return u.util.decodeString(e)})):o,c=(0,u.buffer)(i.shape,i.dtype,s),l=sr(c,a);return n.makeTensorInfo(l.shape,l.dtype,l.values)}var f=new ol(i.shape,a);return n.runWebGLProgram(f,[i],i.dtype)}var ul={kernelName:u.Tile,backendName:"webgl",kernelFunc:sl},cl=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "})),ll=(0,h.Z)((function e(t){(0,p.Z)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}));function fl(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function dl(e){for(var t=1;t<e;)t*=2;return t}var pl={kernelName:u.TopK,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=r.k,o=r.sorted,s=(0,u.env)().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=(0,u.env)().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),f=i.shape,d=f[f.length-1];if(n.shouldExecuteOnCPU([i])||d<s||a>l){var p=n.readSync(i.dataId),h=ur(p,f,i.dtype,a,o),v=(0,c.Z)(h,2),m=v[0],g=v[1];return[n.makeTensorInfo(m.shape,m.dtype,m.values),n.makeTensorInfo(g.shape,g.dtype,g.values)]}if(0===a)return f[f.length-1]=0,[n.makeTensorInfo(f,i.dtype,[]),n.makeTensorInfo(f,"int32",[])];if(1===d)return[i,Jo({attrs:{shape:f,dtype:"int32",value:0},backend:n})];var y=n.texData.get(i.dataId),b=null!==y&&y.isPacked,x=b?n.unpackTensor(i):i,k=u.util.sizeFromShape(f)/d,w=li({inputs:{x:x},attrs:{shape:[k,d]},backend:n});b&&fl(n,x);for(var _=dl(a),S=dl(d),T=null,E=function(){return null===T?[w,w]:[w,T]},C=function(e,t,r){var i=E(),a=new cl(r),o=[[d],[null===T?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],s=T;T=n.runWebGLProgram(a,i,"int32",o),fl(n,s)},O=1;O<_;O*=2)for(var A=2*O,I=O;I>=1;I/=2)C(A,I,[k,S]);for(var R=S;R>_;R/=2){var N=E(),P=new ll([k,R/2]),M=[[d],[null===T?1:0],[_]],D=T;T=n.runWebGLProgram(P,N,"int32",M),fl(n,D);for(var L=_/2,j=2*L,F=L;F>=1;F/=2)C(j,F,T.shape)}var Z=T;T=ma({inputs:{x:T},backend:n,attrs:{begin:0,size:[k,a]}}),fl(n,Z);var B=ms({inputs:{x:w,indices:T},backend:n,attrs:{axis:1,batchDims:1}});fl(n,w);var U=f.slice(0,-1);U.push(a),Z=T,T=li({inputs:{x:T},attrs:{shape:U},backend:n}),fl(n,Z);var V=B;return B=li({inputs:{x:B},attrs:{shape:U},backend:n}),fl(n,V),[B,T]}},hl=(0,h.Z)((function e(t,n,r,i,a,o){(0,p.Z)(this,e),this.variableNames=["Image","Transforms"],this.outputShape=o;var s,u="nearest"===r?1:2;switch(i){case"constant":default:s=1;break;case"reflect":s=2;break;case"wrap":s=3;break;case"nearest":s=4}this.userCode="\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(".concat(s," == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ").concat(t," && 0 <= coordX && coordX < ").concat(n,") {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(").concat(a,");\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(").concat(a,");\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(").concat(n,"));\n                float mapY = mapCoord(inY, float(").concat(t,"));\n\n                if (").concat(u," == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        ")}));var vl={kernelName:u.Transform,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.image,a=t.transforms,o=r.interpolation,s=r.fillMode,u=r.fillValue,l=r.outputShape,f=(0,c.Z)(i.shape,4),d=f[0],p=f[1],h=f[2],v=f[3],m=null!=l?l:[p,h],g=(0,c.Z)(m,2),y=g[0],b=g[1],x=new hl(p,h,o,s,u,[d,y,b,v]);return n.runWebGLProgram(x,[i,a],"float32")}};var ml={kernelName:u.Unique,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=n.axis,a=t.x;ke(a,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");var o=r.readSync(a.dataId),s=lr(o,i,a.shape,a.dtype),u=s.outputValues,c=s.outputShape,l=s.indices;return[r.makeTensorInfo(c,a.dtype,u),r.makeTensorInfo([l.length],"int32",l)]}};var gl={kernelName:u.Unpack,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.value,a=r.axis;a<0&&(a+=i.shape.length);for(var o=i,s=o.shape.length,u=i.shape[a],c=new Array(s-1),l=0,f=0;f<s;f++)f!==a&&(c[l++]=o.shape[f]);var d=[],p=new Array(s).fill(0),h=o.shape.slice();h[a]=1;for(var v=new Array(u),m=0;m<v.length;m++){p[a]=m;var g=ma({inputs:{x:o},backend:n,attrs:{begin:p,size:h}}),y=li({inputs:{x:g},backend:n,attrs:{shape:c}});v[m]=y,d.push(g)}return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),v}},yl=(0,h.Z)((function e(t,n){(0,p.Z)(this,e),this.variableNames=["x","segmentIds"];var r=t.windowSize,i=t.batchSize,a=t.inSize,o=t.numSegments,s=o*Math.ceil(a/r);this.outputShape=[i,s];var u=4*Math.floor(r/4),c=r%4,l="\n        sumValue += dot(values, segFilter);\n    ",f="";a%r>0&&(f="\n        if (inIdx < 0 || inIdx >= ".concat(a,") {\n          return initializationValue;\n        }\n      "));var d="";a%r>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(a,") {\n          return -1.0;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat("0.0",";\n\n      float getValue(int batch, int inIdx) {\n        ").concat(f,"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ").concat(d,"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ").concat(o,")) * float(").concat(r,"));\n        int currentSeg = int(mod(float(outIdx), float(").concat(o,")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(u,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(u,";\n        if (").concat(1===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ").concat(l,"\n        } else if (").concat(2===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ").concat(l,"\n        } else if (").concat(3===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ").concat(l,"\n        }\n        setOutput(").concat("sumValue",");\n      }\n    ")}));for(var bl=0,xl=[_i,Ti,Ci,Ai,Ni,Di,Li,ji,zi,Wi,Gi,Ki,Xi,Ji,ea,ra,ia,sa,ua,ca,da,ya,ba,xa,Ta,Oa,Ra,qr,Ma,Va,Ka,$a,eo,to,no,io,oo,uo,lo,mo,go,yo,xo,_o,Eo,Co,Ao,Ro,Po,Do,Lo,Fo,Bo,Vo,Wo,qo,Xo,es,ns,as,ss,ls,fs,ds,hs,gs,bs,ks,Hr,ws,Za,Ss,Es,Os,Xr,Is,Ns,Ps,Ds,js,Zs,Us,zs,Gs,Ks,Xs,Js,$s,eu,ru,iu,au,ou,su,cu,du,hu,_u,ci,Su,Eu,Ou,Iu,wa,Nu,Du,Lu,Bu,Vu,$r,zu,Hu,Sa,gu,qu,Yu,Qu,fi,ec,nc,ac,sc,lc,dc,hc,mc,yc,xc,wc,Sc,Ec,Oc,Ic,Nc,ga,wu,Mc,Dc,Lc,jc,Fc,Zc,Bc,Uc,Wc,Gc,Yc,Xc,Jc,$c,el,tl,xu,bi,rl,al,ul,pl,vl,ki,ml,gl,{kernelName:u.UnsortedSegmentSum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,a=t.segmentIds,o=r.numSegments,s=i.shape.length,c=[],l=0,f=u.backend_util.getAxesPermutation([l],s),d=i;null!=f&&(d=xi({inputs:{x:i},backend:n,attrs:{perm:f}}),c.push(d),l=u.backend_util.getInnerMostAxes(1,s)[0]);var p=u.backend_util.segment_util.computeOutShape(d.shape,l,o),h=u.util.sizeFromShape([d.shape[l]]),v=li({inputs:{x:d},backend:n,attrs:{shape:[-1,h]}});c.push(v);var m=function e(t,r,i,a,o){var s=t.shape[0],l=t.shape[1],f=u.backend_util.segment_util.segOpComputeOptimalWindowSize(l,o),d=new yl({windowSize:f,inSize:l,batchSize:s,numSegments:o},r),p=n.compileAndRun(d,[t,i],a);if(c.push(p),p.shape[1]===o)return p;var h=Wu({backend:n,attrs:{start:0,stop:o,step:1,dtype:"float32"}}),v=sl({inputs:{x:h},backend:n,attrs:{reps:[l/f]}});return c.push(h),c.push(v),e(p,r,v,a,o)}(v,"unsortedSegmentSum",a,(0,u.sumOutType)(i.dtype),o),g=li({inputs:{x:m},backend:n,attrs:{shape:p}}),y=g;if(null!=f){c.push(g);var b=u.backend_util.getUndoAxesPermutation(f);y=xi({inputs:{x:y},backend:n,attrs:{perm:b}})}return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),y}},Mu];bl<xl.length;bl++){var kl=xl[bl];(0,u.registerKernel)(kl)}},54679:function(e,t,n){"use strict";n.d(t,{JL:function(){return a},Zu:function(){return o}});var r=n(15671),i=n(43144),a=function(){function e(t,n){(0,r.Z)(this,e),this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return(0,i.Z)(e,[{key:"get",value:function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}},{key:"set",value:function(e,t){this.dataIdsCount++,this.data.set(e,t)}},{key:"has",value:function(e){return this.data.has(e)}},{key:"delete",value:function(e){return this.dataIdsCount--,this.data.delete(e)}},{key:"numDataIds",value:function(){return this.dataIdsCount}}]),e}(),o=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"refCount",value:function(e){return s("refCount")}},{key:"incRef",value:function(e){return s("incRef")}},{key:"timerAvailable",value:function(){return!0}},{key:"time",value:function(e){return s("time")}},{key:"read",value:function(e){return s("read")}},{key:"readSync",value:function(e){return s("readSync")}},{key:"readToGPU",value:function(e,t){return s("readToGPU")}},{key:"numDataIds",value:function(){return s("numDataIds")}},{key:"disposeData",value:function(e,t){return s("disposeData")}},{key:"write",value:function(e,t,n){return s("write")}},{key:"move",value:function(e,t,n,r,i){return s("move")}},{key:"memory",value:function(){return s("memory")}},{key:"floatPrecision",value:function(){return s("floatPrecision")}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"dispose",value:function(){return s("dispose")}}]),e}();function s(e){throw new Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}},60745:function(e,t,n){"use strict";n.d(t,{GP:function(){return o},qP:function(){return s},pA:function(){return u}});var r=n(93433);function i(e,t,n){var r=function(e,t,n){return function(e,t,n){var r=0,i=e.length,a=0,o=!1;for(;r<i;){var s=n(t,e[a=r+(i-r>>>1)]);s>0?r=a+1:(i=a,o=!s)}return o?r:-r-1}(e,t,n||a)}(e,t,n),i=r<0?-(r+1):r;e.splice(i,0,t)}function a(e,t){return e>t?1:e<t?-1:0}function o(e,t,n,r,i){return c(e,t,n,r,i,0)}function s(e,t,n,r,i,a){return c(e,t,n,r,i,0,!1,a,!0)}function u(e,t,n,r,i,a){return c(e,t,n,r,i,a,!0)}function c(e,t,n,a,o,s){for(var u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7],p=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=[],v=0;v<t.length;v++)t[v]>o&&h.push({score:t[v],boxIndex:v,suppressBeginIndex:0});h.sort(d);for(var m=s>0?-.5/s:0,g=[],y=[];g.length<n&&h.length>0;){var b=h.pop(),x=b.score,k=b.boxIndex,w=b.suppressBeginIndex;if(x<o)break;for(var _=!1,S=g.length-1;S>=w;--S){var T=l(e,k,g[S]);if(T>=a){_=!0;break}if(b.score=b.score*f(a,m,T),b.score<=o)break}b.suppressBeginIndex=g.length,_||(b.score===x?(g.push(k),y.push(b.score)):b.score>o&&i(h,b,d))}var E=g.length,C=n-E;c&&C>0&&(g.push.apply(g,(0,r.Z)(new Array(C).fill(0))),y.push.apply(y,(0,r.Z)(new Array(C).fill(0))));var O={selectedIndices:g};return u&&(O.selectedScores=y),p&&(O.validOutputs=E),O}function l(e,t,n){var r=e.subarray(4*t,4*t+4),i=e.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),c=Math.min(i[0],i[2]),l=Math.min(i[1],i[3]),f=Math.max(i[0],i[2]),d=Math.max(i[1],i[3]),p=(s-a)*(u-o),h=(f-c)*(d-l);if(p<=0||h<=0)return 0;var v=Math.max(a,c),m=Math.max(o,l),g=Math.min(s,f),y=Math.min(u,d),b=Math.max(g-v,0)*Math.max(y-m,0);return b/(p+h-b)}function f(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function d(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}},24189:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(77039);function i(e,t){for(var n=[],i=0;i<t.length;i++)t[i]&&n.push(i);for(var a=(0,r.f)(e,"int32"),o=(0,r.f)([n.length,e.length],"int32"),s=0;s<n.length;s++){var u=a.indexToLoc(n[s]),c=s*e.length;o.values.set(u,c)}return o.toTensor()}},70318:function(e,t,n){"use strict";n.d(t,{BV:function(){return O},wv:function(){return C}});var r=n(37762),i=n(93433),a=n(74165),o=n(15861),s=n(15671),u=n(43144),c=n(54679),l=n(35050),f=n(96581),d=n(32145),p=n(78864),h=n(17269),v=n(70115),m=n(36147),g=function(){function e(t,n){(0,s.Z)(this,e),this.backendTimer=t,this.logger=n,null==n&&(this.logger=new y)}return(0,u.Z)(e,[{key:"profileKernel",value:function(e,t,n){var i,a,o=function(){i=n()},s=v.now();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(o);else{o();var u,c=(0,r.Z)(i);try{for(c.s();!(u=c.n()).done;){u.value.dataSync()}}catch(p){c.e(p)}finally{c.f()}a=Promise.resolve({kernelMs:v.now()-s})}if((0,l.OB)().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(var f=function(t){var n=i[t];n.data().then((function(t){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var i=e[r];if(isNaN(i)||!isFinite(i))return console.warn("Found ".concat(i," in the result of '").concat(n,"'")),!0}}(t,n.dtype,e)}))},d=0;d<i.length;d++)f(d);return{kernelName:e,outputs:i,inputs:t,timeMs:a.then((function(e){return e.kernelMs})),extraInfo:a.then((function(e){return null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""}))}}},{key:"logKernelProfile",value:function(e){var t=this,n=e.kernelName,r=e.outputs,i=e.timeMs,a=e.inputs,o=e.extraInfo;r.forEach((function(e){Promise.all([e.data(),i,o]).then((function(r){t.logger.logKernelProfile(n,e,r[0],r[1],a,r[2])}))}))}}]),e}();var y=function(){function e(){(0,s.Z)(this,e)}return(0,u.Z)(e,[{key:"logKernelProfile",value:function(e,t,n,r,i,a){var o="number"===typeof r?m.oj("".concat(r,"ms"),9):r.error,s=m.oj(e,25),u=t.rank,c=t.size,l=m.oj(t.shape.toString(),14),f="";for(var d in i){var p=i[d];if(null!=p){var h=p.shape||t.shape,v=h.length;f+="".concat(d,": ").concat(v,"D ").concat(v>0?h:""," ")}}console.log("%c".concat(s,"\t%c").concat(o,"\t%c").concat(u,"D ").concat(l,"\t%c").concat(c,"\t%c").concat(f,"\t%c").concat(a),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}]),e}();function b(e,t,n){for(var r={},i={},a=0;a<t.length;a++)r[t[a].id]=!0;for(var o=0;o<e.length;o++){var s=e[o],u=s.inputs;for(var c in u){for(var l=u[c],f=!1,d=0;d<t.length;d++)if(r[l.id]){s.outputs.forEach((function(e){return r[e.id]=!0})),f=!0,i[s.id]=!0;break}if(f)break}}var p={};p[n.id]=!0;for(var h={},v=e.length-1;v>=0;v--)for(var m=e[v],g=m.inputs,y=0;y<m.outputs.length;y++)if(p[m.outputs[y].id]){for(var b in g)p[g[b].id]=!0,h[m.id]=!0;break}for(var x=[],k=0;k<e.length;k++){var w=e[k];if(i[w.id]&&h[w.id]){var _={};for(var S in w.inputs){var T=w.inputs[S];r[T.id]&&(_[S]=T)}var E=Object.assign({},w);E.inputs=_,E.outputs=w.outputs,x.push(E)}}return x}function x(e,t,n,r){for(var i=function(i){var a=t[i],o=[];if(a.outputs.forEach((function(t){var n=e[t.id];null!=n?o.push(n):o.push(null)})),null==a.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(a.kernelName,"."));var s=a.gradient(o),u=function(t){if(!(t in s))throw new Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(s),"."));var i=n((function(){return s[t]()}));if("float32"!==i.dtype)throw new Error("Error in gradient for op ".concat(a.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(i.dtype,"'"));var o=a.inputs[t];if(!m.cO(i.shape,o.shape))throw new Error("Error in gradient for op ".concat(a.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(i.shape,"', which does not match ")+"the shape of the input '".concat(o.shape,"'"));if(null==e[o.id])e[o.id]=i;else{var u=e[o.id];e[o.id]=r(u,i),u.dispose()}};for(var c in a.inputs)u(c)},a=t.length-1;a>=0;a--)i(a)}var k=n(4376),w=n(99064);function _(e){return null!=e.kernelName}var S=function(){function e(){(0,s.Z)(this,e),this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((function(e){return e.name}))))}}}return(0,u.Z)(e,[{key:"dispose",value:function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()}}]),e}(),T=function(){function e(t){(0,s.Z)(this,e),this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new S}return(0,u.Z)(e,[{key:"ready",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t,n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.pendingBackendInit){e.next=2;break}return e.abrupt("return",this.pendingBackendInit.then((function(){})));case 2:if(null==this.backendInstance){e.next=4;break}return e.abrupt("return");case 4:t=this.getSortedBackends(),n=0;case 6:if(!(n<t.length)){e.next=18;break}return r=t[n],e.next=10,this.initializeBackend(r).success;case 10:if(!e.sent){e.next=15;break}return e.next=14,this.setBackend(r);case 14:return e.abrupt("return");case 15:n++,e.next=6;break;case 18:throw new Error("Could not initialize any backends, all backend initializations failed.");case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"backend",get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '".concat(t,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance}},{key:"backendNames",value:function(){return Object.keys(this.registryFactory)}},{key:"findBackend",value:function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]}},{key:"findBackendFactory",value:function(e){return e in this.registryFactory?this.registryFactory[e].factory:null}},{key:"registerBackend",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(h.Z("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}},{key:"setBackend",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.registryFactory[t]){e.next=2;break}throw new Error("Backend name '".concat(t,"' not found in registry"));case 2:if(this.backendName=t,null!=this.registry[t]){e.next=16;break}if(this.backendInstance=null,n=this.initializeBackend(t),r=n.success,!n.asyncInit){e.next=12;break}return e.next=9,r;case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=r;case 13:if(e.t0){e.next=16;break}return e.abrupt("return",!1);case 16:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new g(this.backendInstance),e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupRegisteredKernels",value:function(){var e=this;(0,p.tr)(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))}},{key:"disposeRegisteredKernels",value:function(e){var t=this;(0,p.tr)(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))}},{key:"initializeBackend",value:function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{var r=n.factory();if(!r||r instanceof c.Zu||"function"!==typeof r.then)return this.registry[e]=r,{success:!0,asyncInit:!1};var i=++this.pendingBackendInitId,a=r.then((function(n){return!(i<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)})).catch((function(n){return i<t.pendingBackendInitId||(t.pendingBackendInit=null,h.Z("Initialization of backend ".concat(e," failed")),h.Z(n.stack||n.message)),!1}));return this.pendingBackendInit=a,{success:a,asyncInit:!0}}catch(o){return h.Z("Initialization of backend ".concat(e," failed")),h.Z(o.stack||o.message),{success:!1,asyncInit:!1}}}},{key:"removeBackend",value:function(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}},{key:"getSortedBackends",value:function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))}},{key:"initializeBackendsAndReturnBest",value:function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),i=r.success,a=r.asyncInit;if(a||i)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")}},{key:"moveData",value:function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,i=this.readSync(t),a=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,i,n.shape,n.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}},{key:"tidy",value:function(e,t){var n,r=this,i=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=e}return this.scopedRun((function(){return r.startScope(i)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))}},{key:"scopedRun",value:function(e,t,n){e();try{var r=n();return t(),r}catch(i){throw t(),i}}},{key:"nextTensorId",value:function(){return e.nextTensorId++}},{key:"nextVariableId",value:function(){return e.nextVariableId++}},{key:"clone",value:function(e){var t=O.runKernel(d.iJ,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){var t={x:e},n={dtype:"float32"};return O.runKernel(d.RF,t,n)}}}),[],{}),t}},{key:"runKernel",value:function(e,t,n){if(null==this.backendName&&this.backend,!(null!=(0,p.pI)(e,this.backendName)))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}},{key:"shouldCheckForMemLeaks",value:function(){return this.ENV.getBool("IS_TEST")}},{key:"checkKernelForMemLeak",value:function(e,t,n){var r=this.backend.numDataIds(),i=0;n.forEach((function(e){i+="complex64"===e.dtype?3:1}));var a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-i-a;if(o>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(o," data ids) after running '").concat(e,"'"))}},{key:"runKernelFunc",value:function(e){var t,n,r,i=this,a=[],o=this.isTapeOn(),s=this.state.numBytes,u=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;var c=_(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(_(e)){var l=e.kernelName,f=e.inputs,d=e.attrs;null==this.backendName&&this.backend;var h=(0,p.pI)(l,this.backendName);m.hu(null!=h,(function(){return"Cannot find registered kernel '".concat(l,"' for backend '").concat(i.backendName,"'")})),n=function(){var e=i.backend.numDataIds();r=h.kernelFunc({inputs:f,attrs:d,backend:i.backend});var t=Array.isArray(r)?r:[r];i.shouldCheckForMemLeaks()&&i.checkKernelForMemLeak(l,e,t);var n=t.map((function(e){return null!=e.rank?e:i.makeTensorFromTensorInfo(e)}));if(o){var s=i.getTensorsForGradient(l,f,n);a=i.saveTensorsForBackwardMode(s)}return n}}else{var v=e.forwardFunc,g=function(e){o&&(a=e.map((function(e){return i.keep(i.clone(e))})))};n=function(){var e=i.backend.numDataIds();r=i.tidy((function(){return v(i.backend,g)}));var t=Array.isArray(r)?r:[r];return i.shouldCheckForMemLeaks()&&i.checkKernelForMemLeak(c,e,t),t}}var y,b=e.inputs,x=e.attrs,k=_(e)?null:e.backwardsFunc;return this.scopedRun((function(){return i.state.kernelDepth++}),(function(){return i.state.kernelDepth--}),(function(){i.ENV.getBool("DEBUG")||i.state.profiling?(y=i.profiler.profileKernel(c,b,(function(){return n()})),i.ENV.getBool("DEBUG")&&i.profiler.logKernelProfile(y),t=y.outputs):t=n()})),o&&this.addTapeNode(c,b,t,k,a,x),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-u,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(b).map((function(e){return null!=b[e]?b[e].shape:null})),outputShapes:t.map((function(e){return e.shape})),kernelTimeMs:y.timeMs,extraInfo:y.extraInfo}),Array.isArray(r)?t:t[0]}},{key:"saveTensorsForBackwardMode",value:function(e){var t=this,n=e.map((function(e){return t.keep(t.clone(e))}));return n}},{key:"getTensorsForGradient",value:function(e,t,n){var r=(0,p.uk)(e);if(null!=r){var i,a=r.inputsToSave||[],o=r.outputsToSave||[];r.saveAllInputs?(m.hu(Array.isArray(t),(function(){return"saveAllInputs is true, expected inputs to be an array."})),i=Object.keys(t).map((function(e){return t[e]}))):i=a.map((function(e){return t[e]}));var s=n.filter((function(e,t){return o[t]}));return i.concat(s)}return[]}},{key:"makeTensor",value:function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var i=e;"string"===n&&m.HD(e[0])&&(i=e.map((function(e){return v.encodeString(e)})));var a=r.write(i,t,n),o=new k.es(t,n,a,this.nextTensorId());if(this.trackTensor(o,r),"string"===n){var s=this.state.tensorInfo.get(a),u=(0,m.Ub)(i);this.state.numBytes+=u-s.bytes,s.bytes=u}return o}},{key:"makeTensorFromDataId",value:function(e,t,n,r){var i={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(i,r)}},{key:"makeTensorFromTensorInfo",value:function(e,t){var n=e.dataId,r=e.shape,i=e.dtype,a=new k.es(r,i,n,this.nextTensorId());return this.trackTensor(a,t),a}},{key:"makeVariable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));var i=new k._w(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[i.name])throw new Error("Variable with name ".concat(i.name," was already registered"));return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}},{key:"trackTensor",value:function(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;var n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*m.bT(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof k._w||this.track(e)}},{key:"incRef",value:function(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}},{key:"removeDataId",value:function(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}},{key:"disposeTensor",value:function(e){if(this.state.tensorInfo.has(e.dataId)){var t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){var n=e.size*m.bT(e.dtype);this.state.numBytes-=n}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}}},{key:"disposeVariables",value:function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}}},{key:"disposeVariable",value:function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}},{key:"memory",value:function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}},{key:"profile",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,o,s,u,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.profiling=!0,n=this.state.numBytes,o=this.state.numTensors,this.state.activeProfile.kernels=[],e.next=6,t();case 6:this.state.activeProfile.result=e.sent,this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,(0,i.Z)(this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot})))),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-o,s=(0,r.Z)(this.state.activeProfile.kernels),e.prev=12,s.s();case 14:if((u=s.n()).done){e.next=24;break}return c=u.value,e.next=18,c.kernelTimeMs;case 18:return c.kernelTimeMs=e.sent,e.next=21,c.extraInfo;case 21:c.extraInfo=e.sent;case 22:e.next=14;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(12),s.e(e.t0);case 29:return e.prev=29,s.f(),e.finish(29);case 32:return e.abrupt("return",this.state.activeProfile);case 33:case"end":return e.stop()}}),e,this,[[12,26,29,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isTapeOn",value:function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}},{key:"addTapeNode",value:function(e,t,n,r,i,a){var o=this,s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:i},u=(0,p.uk)(e);null!=u&&(r=u.gradFunc),null!=r&&(s.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],i=m.wT(r.size,r.dtype);return o.makeTensor(i,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],i,a)}),this.state.activeTape.push(s)}},{key:"keep",value:function(e){return e.kept=!0,e}},{key:"startTape",value:function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}},{key:"endTape",value:function(){this.state.gradientDepth--}},{key:"startScope",value:function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}},{key:"endScope",value:function(e){for(var t=this,n=(0,w.getTensorsInContainer)(e),r=new Set(n.map((function(e){return e.id}))),i=0;i<this.state.activeScope.track.length;i++){var a=this.state.activeScope.track[i];a.kept||r.has(a.id)||a.dispose()}var o=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){e.kept||e.scopeId!==o.id||t.track(e)}))}},{key:"gradients",value:function(e,t,n){var i=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(m.hu(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));var o=this.scopedRun((function(){return i.startTape()}),(function(){return i.endTape()}),(function(){return i.tidy("forward",e)}));m.hu(o instanceof k.es,(function(){return"The result y returned by f() must be a tensor."}));var s=b(this.state.activeTape,t,o);if(!a&&0===s.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e={};e[o.id]=null==n?E(o.shape):n,x(e,s,(function(e){return i.tidy(e)}),A);var a=t.map((function(t){return e[t.id]}));return 0===i.state.gradientDepth&&(i.state.activeTape.forEach((function(e){var t,n=(0,r.Z)(e.saved);try{for(n.s();!(t=n.n()).done;){t.value.dispose()}}catch(i){n.e(i)}finally{n.f()}})),i.state.activeTape=null),{value:o,grads:a}}))}},{key:"customGrad",value:function(e){var t=this;return m.hu(m.mf(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a;m.hu(r.every((function(e){return e instanceof k.es})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var o={};r.forEach((function(e,t){o[t]=e}));var s=function(t,n){return a=e.apply(void 0,[].concat(r,[n])),m.hu(a.value instanceof k.es,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),m.hu(m.mf(a.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),a.value},u=function(e,t){var n=a.gradFunc(e,t),i=Array.isArray(n)?n:[n];m.hu(i.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),m.hu(i.every((function(e){return e instanceof k.es})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var o={};return i.forEach((function(e,t){o[t]=function(){return e}})),o};return t.runKernelFunc({forwardFunc:s,backwardsFunc:u,inputs:o})}}},{key:"readSync",value:function(e){return this.state.tensorInfo.get(e).backend.readSync(e)}},{key:"read",value:function(e){return this.state.tensorInfo.get(e).backend.read(e)}},{key:"readToGPU",value:function(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}},{key:"time",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,v.now)(),e.next=3,this.backend.time(t);case 3:return(r=e.sent).wallMs=(0,v.now)()-n,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"track",value:function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}},{key:"registeredVariables",get:function(){return this.state.registeredVariables}},{key:"reset",value:function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new S,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}]),e}();function E(e){var t=(0,m.p8)((0,m.NA)(e),"float32");return O.makeTensor(t,e,"float32")}function C(){var e=(0,f.D)();if(null==e._tfengine){var t=new l.qA(e);e._tfengine=new T(t)}return(0,l.iG)(e._tfengine.ENV),(0,k.Vi)((function(){return e._tfengine})),e._tfengine}T.nextTensorId=0,T.nextVariableId=0;var O=C();function A(e,t){var n={a:e,b:t};return O.runKernel(d.mm,n)}},35050:function(e,t,n){"use strict";n.d(t,{OB:function(){return p},Vi:function(){return h},iG:function(){return v},qA:function(){return l}});var r=n(29439),i=n(74165),a=n(15861),o=n(15671),s=n(43144),u=n(36147),c="tfjsflags",l=function(){function e(t){(0,o.Z)(this,e),this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=f,this.populateURLFlags()}return(0,s.Z)(e,[{key:"setPlatform",value:function(e,t){null!=this.platform&&(p().getBool("IS_TEST")||p().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(e,"."))),this.platformName=e,this.platform=t}},{key:"registerFlag",value:function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];p().getBool("IS_TEST")||p().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(r,".")),this.set(e,r)}}},{key:"getAsync",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in this.flags)){e.next=2;break}return e.abrupt("return",this.flags[t]);case 2:return e.next=4,this.evaluateFlag(t);case 4:return this.flags[t]=e.sent,e.abrupt("return",this.flags[t]);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(e){if(e in this.flags)return this.flags[e];var t=this.evaluateFlag(e);if((0,u.tI)(t))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}},{key:"getNumber",value:function(e){return this.get(e)}},{key:"getBool",value:function(e){return this.get(e)}},{key:"getFlags",value:function(){return this.flags}},{key:"features",get:function(){return this.flags}},{key:"set",value:function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}},{key:"evaluateFlag",value:function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}},{key:"setFlags",value:function(e){this.flags=Object.assign({},e)}},{key:"reset",value:function(){this.flags={},this.urlFlags={},this.populateURLFlags()}},{key:"populateURLFlags",value:function(){var e=this;if("undefined"!==typeof this.global&&"undefined"!==typeof this.global.location&&"undefined"!==typeof this.global.location.search){var t=this.getQueryParams(this.global.location.search);if(c in t)t.tfjsflags.split(",").forEach((function(t){var n=t.split(":"),i=(0,r.Z)(n,2),a=i[0],o=i[1];e.urlFlags[a]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if("".concat(+t)===t)return+t;throw new Error("Could not parse value flag value ".concat(t," for flag ").concat(e,"."))}(a,o)}))}}}]),e}();function f(e){var t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return d(t,r[0],r[1]),r.join("=")})),t}function d(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function p(){return h}var h=null;function v(e){h=e}},96581:function(e,t,n){"use strict";var r;function i(){if(null==r){var e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}r=e}return r}function a(e,t){var n=function(){var e=i();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);var r=t();return n.set(e,r),n.get(e)}n.d(t,{D:function(){return i},R:function(){return a}})},35875:function(e,t,n){"use strict";n.d(t,{B9:function(){return m},CQ:function(){return b},Cd:function(){return x},Cn:function(){return g},G4:function(){return s},MX:function(){return l},N5:function(){return h},N8:function(){return f},N_:function(){return k},R:function(){return u},SR:function(){return d},VY:function(){return C},XV:function(){return y},cF:function(){return c},cj:function(){return w},jq:function(){return T},lu:function(){return v},sq:function(){return p},x3:function(){return _},y3:function(){return E},ze:function(){return S}});var r=n(70318),i=n(35050),a=n(4376),o=n(99064);function s(){(0,i.OB)().set("PROD",!0)}function u(){(0,i.OB)().set("DEBUG",!0)}function c(){(0,i.OB)().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function l(e){(0,i.OB)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function f(){r.BV.disposeVariables()}function d(){return r.BV}function p(){return r.BV.memory()}function h(e){return r.BV.profile(e)}function v(e,t){return r.BV.tidy(e,t)}function m(e){(0,o.getTensorsInContainer)(e).forEach((function(e){return e.dispose()}))}function g(e){return r.BV.keep(e)}function y(e){return r.BV.time(e)}function b(e){return r.BV.setBackend(e)}function x(){return r.BV.ready()}function k(){return r.BV.backendName}function w(e){r.BV.removeBackend(e)}function _(e){return r.BV.findBackend(e)}function S(e){return r.BV.findBackendFactory(e)}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return r.BV.registerBackend(e,t,n)}function E(){return r.BV.backend}function C(e,t){(0,i.OB)().setPlatform(e,t)}(0,a.FZ)(l)},66450:function(e,t,n){"use strict";n.d(t,{UQ:function(){return u},cb:function(){return p},fN:function(){return f},h7:function(){return l},pn:function(){return d},ti:function(){return c}});var r=n(93433),i=n(70318),a=n(4376),o=n(48354),s=n(36147);function u(e){return s.hu(s.mf(e),(function(){return"The f passed in grad(f) must be a function"})),function(t,n){var r=(0,o._1)(t,"x","tf.grad","string_or_numeric"),a=null!=n?(0,o._1)(n,"dy","tf.grad"):null;return i.BV.tidy((function(){var t=i.BV.gradients((function(){return e(r)}),[r],a),n=t.value,o=t.grads;return null!=a&&s.k5(n.shape,a.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),h(o),o[0]}))}}function c(e){return s.hu(s.mf(e),(function(){return"The f passed in grads(f) must be a function"})),function(t,n){s.hu(Array.isArray(t),(function(){return"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"}));var a=(0,o.sI)(t,"args","tf.grads","string_or_numeric"),u=null!=n?(0,o._1)(n,"dy","tf.grads"):null;return i.BV.tidy((function(){var t=i.BV.gradients((function(){return e.apply(void 0,(0,r.Z)(a))}),a,u),n=t.value,o=t.grads;return null!=u&&s.k5(n.shape,u.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),h(o),o}))}}function l(e){return s.hu(s.mf(e),(function(){return"The f passed in valueAndGrad(f) must be a function"})),function(t,n){s.hu(t instanceof a.es,(function(){return"The x passed in valueAndGrad(f)(x) must be a tensor"})),s.hu(null==n||n instanceof a.es,(function(){return"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"}));var r=i.BV.gradients((function(){return e(t)}),[t],n),o=r.grads,u=r.value;return h(o),{grad:o[0],value:u}}}function f(e){return s.hu(s.mf(e),(function(){return"The f passed in valueAndGrads(f) must be a function"})),function(t,n){s.hu(Array.isArray(t)&&t.every((function(e){return e instanceof a.es})),(function(){return"The args passed in valueAndGrads(f)(args) must be array of tensors"})),s.hu(null==n||n instanceof a.es,(function(){return"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"}));var o=i.BV.gradients((function(){return e.apply(void 0,(0,r.Z)(t))}),t,n);return null!=n&&s.k5(o.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),h(o.grads),o}}function d(e,t){s.hu(s.mf(e),(function(){return"The f passed in variableGrads(f) must be a function"})),s.hu(null==t||Array.isArray(t)&&t.every((function(e){return e instanceof a._w})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=t;if(!n)for(var r in t=[],i.BV.registeredVariables)t.push(i.BV.registeredVariables[r]);var o=n?t.filter((function(e){return!e.trainable})):null,u=t.length;t=t.filter((function(e){return e.trainable})),s.hu(t.length>0,(function(){return"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(u," variables is ")+"trainable."}));var c=i.BV.gradients(e,t,null,!0),l=c.value,f=c.grads;s.hu(f.some((function(e){return null!=e})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),s.hu(0===l.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(l.rank," tensor")}));var d={};return t.forEach((function(e,t){null!=f[t]&&(d[e.name]=f[t])})),null!=o&&o.forEach((function(e){return d[e.name]=null})),{value:l,grads:d}}function p(e){return i.BV.customGrad(e)}function h(e){if(e.filter((function(e){return null==e})).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}},87105:function(e,t,n){"use strict";n.r(t),n.d(t,{Abs:function(){return bt.SY},Acos:function(){return bt.VG},Acosh:function(){return bt.Sp},AdadeltaOptimizer:function(){return Sn},AdagradOptimizer:function(){return En},AdamOptimizer:function(){return An},AdamaxOptimizer:function(){return Nn},Add:function(){return bt.mm},AddN:function(){return bt.Xz},All:function(){return bt.oT},Any:function(){return bt.IK},ArgMax:function(){return bt.sJ},ArgMin:function(){return bt.aJ},Asin:function(){return bt.M2},Asinh:function(){return bt.qw},Atan:function(){return bt.jM},Atan2:function(){return bt.QC},Atanh:function(){return bt.Oy},AvgPool:function(){return bt.Jh},AvgPool3D:function(){return bt._k},AvgPool3DGrad:function(){return bt.IM},AvgPoolGrad:function(){return bt.RO},BatchMatMul:function(){return bt.XL},BatchToSpaceND:function(){return bt.zw},Bincount:function(){return bt.zv},BroadcastArgs:function(){return bt.eE},BroadcastTo:function(){return bt.Ly},Cast:function(){return bt.RF},Ceil:function(){return bt.gJ},ClipByValue:function(){return bt.xn},Complex:function(){return bt.Zz},ComplexAbs:function(){return bt.yj},Concat:function(){return bt.Eh},Conv2D:function(){return bt.mh},Conv2DBackpropFilter:function(){return bt.wU},Conv2DBackpropInput:function(){return bt.wm},Conv3D:function(){return bt.x1},Conv3DBackpropFilterV2:function(){return bt.o2},Conv3DBackpropInputV2:function(){return bt.ik},Cos:function(){return bt.mc},Cosh:function(){return bt.TR},CropAndResize:function(){return bt.Vc},Cumprod:function(){return bt.By},Cumsum:function(){return bt.iH},DataStorage:function(){return qr.JL},DenseBincount:function(){return bt.QR},DepthToSpace:function(){return bt.T0},DepthwiseConv2dNative:function(){return bt.ci},DepthwiseConv2dNativeBackpropFilter:function(){return bt.sL},DepthwiseConv2dNativeBackpropInput:function(){return bt.y7},Diag:function(){return bt.$w},Dilation2D:function(){return bt.p4},Dilation2DBackpropFilter:function(){return bt.Vn},Dilation2DBackpropInput:function(){return bt.ek},ENV:function(){return b.Vi},Einsum:function(){return bt.$g},Elu:function(){return bt.SX},EluGrad:function(){return bt.HE},Environment:function(){return b.qA},Equal:function(){return bt.hd},Erf:function(){return bt.Om},Exp:function(){return bt.NE},ExpandDims:function(){return bt.YF},Expm1:function(){return bt.Y0},FFT:function(){return bt.vw},Fill:function(){return bt.de},FlipLeftRight:function(){return bt.Uy},Floor:function(){return bt.OR},FloorDiv:function(){return bt.je},FromPixels:function(){return bt.eB},FusedBatchNorm:function(){return bt.sH},FusedConv2D:function(){return bt._V},FusedDepthwiseConv2D:function(){return bt.lu},GatherNd:function(){return bt.q1},GatherV2:function(){return bt.qi},Greater:function(){return bt.iZ},GreaterEqual:function(){return bt.Ac},IFFT:function(){return bt.Qg},Identity:function(){return bt.iJ},Imag:function(){return bt.J_},IsFinite:function(){return bt.av},IsInf:function(){return bt.iW},IsNan:function(){return bt.r7},KernelBackend:function(){return qr.Zu},LRN:function(){return bt.eZ},LRNGrad:function(){return bt.Hh},LeakyRelu:function(){return bt.J$},Less:function(){return bt.vt},LessEqual:function(){return bt.CA},LinSpace:function(){return bt.e7},Log:function(){return bt.Zb},Log1p:function(){return bt.kU},LogSoftmax:function(){return bt.qC},LogicalAnd:function(){return bt.PY},LogicalNot:function(){return bt.Vf},LogicalOr:function(){return bt.MZ},LowerBound:function(){return bt.qI},Max:function(){return bt.Yo},MaxPool:function(){return bt.mT},MaxPool3D:function(){return bt.OA},MaxPool3DGrad:function(){return bt.OU},MaxPoolGrad:function(){return bt.OV},MaxPoolWithArgmax:function(){return bt.vF},Maximum:function(){return bt.BM},Mean:function(){return bt.q2},Min:function(){return bt.c1},Minimum:function(){return bt.q8},MirrorPad:function(){return bt.jQ},Mod:function(){return bt.Vb},MomentumOptimizer:function(){return Mn},Multinomial:function(){return bt.NZ},Multiply:function(){return bt.wY},Neg:function(){return bt.ku},NonMaxSuppressionV3:function(){return bt.uv},NonMaxSuppressionV4:function(){return bt.cy},NonMaxSuppressionV5:function(){return bt.W0},NotEqual:function(){return bt.yQ},OP_SCOPE_SUFFIX:function(){return Fn.zvA},OneHot:function(){return bt.we},OnesLike:function(){return bt.qW},Optimizer:function(){return _n},OptimizerConstructors:function(){return Ln},Pack:function(){return bt.Qi},PadV2:function(){return bt.ly},Pool:function(){return bt.Kg},Pow:function(){return bt.pe},Prelu:function(){return bt.o0},Prod:function(){return bt.Dl},RMSPropOptimizer:function(){return Dn},Range:function(){return bt.e6},Rank:function(){return jn.yw},Real:function(){return bt.xJ},RealDiv:function(){return bt.oH},Reciprocal:function(){return bt.$H},Reduction:function(){return Zn.I},Relu:function(){return bt.qk},Relu6:function(){return bt.Sb},Reshape:function(){return bt.HZ},ResizeBilinear:function(){return bt._Y},ResizeBilinearGrad:function(){return bt.zb},ResizeNearestNeighbor:function(){return bt.dp},ResizeNearestNeighborGrad:function(){return bt.Hm},Reverse:function(){return bt.mK},RotateWithOffset:function(){return bt.b9},Round:function(){return bt.e0},Rsqrt:function(){return bt.bV},SGDOptimizer:function(){return Pn},ScatterNd:function(){return bt.xQ},SearchSorted:function(){return bt.nr},Select:function(){return bt.Ph},Selu:function(){return bt.oF},Sigmoid:function(){return bt.a5},Sign:function(){return bt.i5},Sin:function(){return bt.RQ},Sinh:function(){return bt.w3},Slice:function(){return bt.p2},Softmax:function(){return bt.Gc},Softplus:function(){return bt.MR},SpaceToBatchND:function(){return bt.TQ},SparseFillEmptyRows:function(){return bt.O3},SparseReshape:function(){return bt.nh},SparseSegmentMean:function(){return bt.YW},SparseSegmentSum:function(){return bt.Zj},SparseToDense:function(){return bt.D2},SplitV:function(){return bt.L8},Sqrt:function(){return bt.FK},Square:function(){return bt.bK},SquaredDifference:function(){return bt._t},Step:function(){return bt.h8},StridedSlice:function(){return bt.m2},StringNGrams:function(){return bt._J},StringSplit:function(){return bt.s1},StringToHashBucketFast:function(){return bt.Xk},Sub:function(){return bt.Tr},Sum:function(){return bt.GB},Tan:function(){return bt.sE},Tanh:function(){return bt.MI},Tensor:function(){return Ze.es},TensorBuffer:function(){return Ze.YD},Tile:function(){return bt.n9},TopK:function(){return bt.cW},Transform:function(){return bt.wx},Transpose:function(){return bt.G3},Unique:function(){return bt.kp},Unpack:function(){return bt.To},UnsortedSegmentSum:function(){return bt.Qv},UpperBound:function(){return bt.XD},Variable:function(){return Ze._w},ZerosLike:function(){return bt.Ru},_FusedMatMul:function(){return bt.us},abs:function(){return Fn.WnP},acos:function(){return Fn.Khb},acosh:function(){return Fn.__u},add:function(){return Fn.IHx},addN:function(){return Fn.QBD},all:function(){return Fn.$6P},any:function(){return Fn.YjB},argMax:function(){return Fn.NqF},argMin:function(){return Fn.vHJ},asin:function(){return Fn.ZRM},asinh:function(){return Fn.VfV},atan:function(){return Fn.z4N},atan2:function(){return Fn.fvJ},atanh:function(){return Fn.C80},avgPool:function(){return Fn.wS1},avgPool3d:function(){return Fn.uR5},backend:function(){return hn.y3},backend_util:function(){return d},basicLSTMCell:function(){return Fn.zEQ},batchNorm:function(){return Fn.tgs},batchNorm2d:function(){return Fn.Dxk},batchNorm3d:function(){return Fn.JY5},batchNorm4d:function(){return Fn.p3b},batchToSpaceND:function(){return Fn.E4h},bincount:function(){return Fn.yE8},booleanMaskAsync:function(){return Fn.anm},broadcastArgs:function(){return Fn.XsQ},broadcastTo:function(){return Fn.UFq},broadcast_util:function(){return yt},browser:function(){return o},buffer:function(){return Fn.f3b},cast:function(){return Fn.pju},ceil:function(){return Fn.mDi},clipByValue:function(){return Fn.iUl},clone:function(){return Fn.d9v},complex:function(){return Fn.PYB},concat:function(){return Fn.zoF},concat1d:function(){return Fn.gME},concat2d:function(){return Fn.Izb},concat3d:function(){return Fn.MNy},concat4d:function(){return Fn.ZaL},conv1d:function(){return Fn.PAt},conv2d:function(){return Fn.Tek},conv2dTranspose:function(){return Fn.bc},conv3d:function(){return Fn.pdZ},conv3dTranspose:function(){return Fn.$QV},copyRegisteredKernels:function(){return xt.T3},cos:function(){return Fn.mCk},cosh:function(){return Fn.f9Y},cosineWindow:function(){return Fn.mew},cumprod:function(){return Fn.$Gn},cumsum:function(){return Fn.zbp},customGrad:function(){return kn.cb},denseBincount:function(){return Fn.ppE},deprecationWarn:function(){return hn.MX},depthToSpace:function(){return Fn.nTT},depthwiseConv2d:function(){return Fn.B10},device_util:function(){return r},diag:function(){return Fn.Ka3},dilation2d:function(){return Fn.WmZ},disableDeprecationWarnings:function(){return hn.cF},dispose:function(){return hn.B9},disposeVariables:function(){return hn.N8},div:function(){return Fn.hiC},divNoNan:function(){return Fn.NTj},dot:function(){return Fn.AKD},dropout:function(){return Fn.rvX},einsum:function(){return Fn.WYO},elu:function(){return Fn.pyx},enableDebugMode:function(){return hn.R},enableProdMode:function(){return hn.G4},enclosingPowerOfTwo:function(){return Fn.GRh},engine:function(){return hn.SR},env:function(){return b.OB},equal:function(){return Fn.DgJ},erf:function(){return Fn.qNN},euclideanNorm:function(){return Fn.d2q},exp:function(){return Fn.Qqt},expandDims:function(){return Fn.dt4},expm1:function(){return Fn.t$B},eye:function(){return Fn.iyy},fft:function(){return Fn.kp_},fill:function(){return Fn.hlL},findBackend:function(){return hn.x3},findBackendFactory:function(){return hn.ze},floor:function(){return Fn.GWj},floorDiv:function(){return Fn.qPi},fused:function(){return Fn.imm},gather:function(){return Fn.Iqj},gatherND:function(){return Fn.dbB},gather_util:function(){return s},getBackend:function(){return hn.N_},getGradient:function(){return xt.uk},getKernel:function(){return xt.pI},getKernelsForBackend:function(){return xt.tr},grad:function(){return kn.UQ},grads:function(){return kn.ti},greater:function(){return Fn.pjt},greaterEqual:function(){return Fn.brS},ifft:function(){return Fn.Sxn},imag:function(){return Fn.asL},image:function(){return Fn.BHj},inTopKAsync:function(){return Fn.V3u},io:function(){return i},irfft:function(){return Fn.wx0},isFinite:function(){return Fn.xVT},isInf:function(){return Fn.UWc},isNaN:function(){return Fn.i2d},keep:function(){return hn.Cn},kernel_impls:function(){return p},leakyRelu:function(){return Fn.hi7},less:function(){return Fn.d9m},lessEqual:function(){return Fn.zN1},linalg:function(){return Fn.$r2},linspace:function(){return Fn.SX3},localResponseNormalization:function(){return Fn.G9k},log:function(){return Fn.cM7},log1p:function(){return Fn.Krr},logSigmoid:function(){return Fn.e_t},logSoftmax:function(){return Fn.CmS},logSumExp:function(){return Fn.l_t},logicalAnd:function(){return Fn.HvI},logicalNot:function(){return Fn.hJK},logicalOr:function(){return Fn.K5V},logicalXor:function(){return Fn.egP},losses:function(){return Fn.MB5},lowerBound:function(){return Fn.eab},matMul:function(){return Fn.OI3},math:function(){return a},max:function(){return Fn.Fp7},maxPool:function(){return Fn._sB},maxPool3d:function(){return Fn.YQQ},maxPoolWithArgmax:function(){return Fn.Ip$},maximum:function(){return Fn.gWQ},mean:function(){return Fn.J69},memory:function(){return hn.sq},meshgrid:function(){return Fn.ry_},min:function(){return Fn.VV$},minimum:function(){return Fn.LTh},mirrorPad:function(){return Fn.VdP},mod:function(){return Fn.wQq},moments:function(){return Fn.Gi7},movingAverage:function(){return Fn.p_},mul:function(){return Fn.dC7},multiRNNCell:function(){return Fn.rq4},multinomial:function(){return Fn.SJ_},neg:function(){return Fn.W76},nextFrame:function(){return Vn},norm:function(){return Fn.KOy},notEqual:function(){return Fn.Quu},oneHot:function(){return Fn.lfX},ones:function(){return Fn.iUs},onesLike:function(){return Fn.JpU},op:function(){return Fn.op},outerProduct:function(){return Fn.N2O},pad:function(){return Fn.vku},pad1d:function(){return Fn.pNR},pad2d:function(){return Fn.koy},pad3d:function(){return Fn.t1L},pad4d:function(){return Fn.lGY},pool:function(){return Fn.d_R},pow:function(){return Fn.sQ3},prelu:function(){return Fn.AL3},print:function(){return Fn.S0v},prod:function(){return Fn.WVs},profile:function(){return hn.N5},rand:function(){return Fn.TN_},randomGamma:function(){return Fn.wzB},randomNormal:function(){return Fn.nGf},randomUniform:function(){return Fn.LGj},range:function(){return Fn.w6H},ready:function(){return hn.Cd},real:function(){return Fn.kwC},reciprocal:function(){return Fn.M25},registerBackend:function(){return hn.jq},registerGradient:function(){return xt.Li},registerKernel:function(){return xt.wC},relu:function(){return Fn.UYe},relu6:function(){return Fn.btT},removeBackend:function(){return hn.cj},reshape:function(){return Fn.XLQ},reverse:function(){return Fn.GYS},reverse1d:function(){return Fn.SDf},reverse2d:function(){return Fn.diP},reverse3d:function(){return Fn.sx7},reverse4d:function(){return Fn.mG2},rfft:function(){return Fn.QEs},round:function(){return Fn.NMM},rsqrt:function(){return Fn.bp0},scalar:function(){return Fn.iD$},scatterND:function(){return Fn.snQ},scatter_util:function(){return It},searchSorted:function(){return Fn.zcT},selu:function(){return Fn.U8D},separableConv2d:function(){return Fn.U_I},serialization:function(){return c},setBackend:function(){return hn.CQ},setPlatform:function(){return hn.VY},setdiff1dAsync:function(){return Fn.ODp},sigmoid:function(){return Fn.XD2},sign:function(){return Fn.Xxe},signal:function(){return Fn.tdS},sin:function(){return Fn.O$l},sinh:function(){return Fn.R_K},slice:function(){return Fn.tPi},slice1d:function(){return Fn.jZU},slice2d:function(){return Fn.SmN},slice3d:function(){return Fn.CnO},slice4d:function(){return Fn.p0P},slice_util:function(){return u},softmax:function(){return Fn.XAC},softplus:function(){return Fn.Wvh},spaceToBatchND:function(){return Fn.fBT},sparse:function(){return Fn.rVs},sparseToDense:function(){return Fn.ers},spectral:function(){return Fn.uN7},split:function(){return Fn.Vl2},sqrt:function(){return Fn._b3},square:function(){return Fn.h62},squaredDifference:function(){return Fn.$i},squeeze:function(){return Fn.L9e},stack:function(){return Fn.knu},step:function(){return Fn.Nbs},stridedSlice:function(){return Fn.NXj},string:function(){return Fn.Z_8},sub:function(){return Fn.luU},sum:function(){return Fn.Smz},sumOutType:function(){return jn.z4},tan:function(){return Fn.ORZ},tanh:function(){return Fn.AEp},tensor:function(){return Fn.XeE},tensor1d:function(){return Fn.RRF},tensor2d:function(){return Fn.odF},tensor3d:function(){return Fn.wOQ},tensor4d:function(){return Fn.yXz},tensor5d:function(){return Fn.Bfx},tensor6d:function(){return Fn.xZs},tensor_util:function(){return Qt},test_util:function(){return l},tidy:function(){return hn.lu},tile:function(){return Fn.Gg6},time:function(){return hn.XV},topk:function(){return Fn.hg7},train:function(){return Bn},transpose:function(){return Fn.p4s},truncatedNormal:function(){return Fn.Xu6},unique:function(){return Fn.Two},unregisterGradient:function(){return xt.bt},unregisterKernel:function(){return xt.nE},unsortedSegmentSum:function(){return Fn.pUJ},unstack:function(){return Fn.HHK},upcastType:function(){return jn.x8},upperBound:function(){return Fn.GaM},util:function(){return Jt},valueAndGrad:function(){return kn.h7},valueAndGrads:function(){return kn.fN},variable:function(){return Fn.VD$},variableGrads:function(){return kn.pn},version_core:function(){return fn},where:function(){return Fn.arb},whereAsync:function(){return Fn.itS},zeros:function(){return Fn.lls},zerosLike:function(){return Fn.P84}});var r={};n.r(r),n.d(r,{isBrowser:function(){return y},isMobile:function(){return g},mockIsMobile:function(){return m}});var i={};n.r(i),n.d(i,{browserFiles:function(){return He},browserHTTPRequest:function(){return rt},concatenateArrayBuffers:function(){return Z},copyModel:function(){return Ce},decodeWeights:function(){return P},encodeWeights:function(){return R},fromMemory:function(){return st},fromMemorySync:function(){return ut},getLoadHandlers:function(){return X},getModelArtifactsForJSON:function(){return V},getModelArtifactsInfoForJSON:function(){return W},getSaveHandlers:function(){return Y},http:function(){return nt},isHTTPScheme:function(){return et},listModels:function(){return _e},loadWeights:function(){return Ye},moveModel:function(){return Ae},registerLoadRouter:function(){return K},registerSaveRouter:function(){return q},removeModel:function(){return Te},weightsLoaderFactory:function(){return Qe},withSaveHandler:function(){return ct},withSaveHandlerSync:function(){return lt}});var a={};n.r(a),n.d(a,{confusionMatrix:function(){return gt}});var o={};n.r(o),n.d(o,{fromPixels:function(){return Ot},fromPixelsAsync:function(){return St},toPixels:function(){return Et}});var s={};n.r(s),n.d(s,{prepareAndValidate:function(){return At}});var u={};n.r(u),n.d(u,{assertParamsValid:function(){return Rt},computeFlatOffset:function(){return Wt},computeOutShape:function(){return Pt},getNormalizedAxes:function(){return jt},isSliceContinous:function(){return zt},maskToAxes:function(){return Nt},parseSliceParams:function(){return Ht},sliceInfo:function(){return Gt},startForAxis:function(){return Ut},startIndicesWithElidedDims:function(){return Ft},stopForAxis:function(){return Vt},stopIndicesWithElidedDims:function(){return Zt},stridesForAxis:function(){return Bt},stridesWithElidedDims:function(){return Mt}});var c={};n.r(c),n.d(c,{Serializable:function(){return Kt},SerializationMap:function(){return Yt},registerClass:function(){return Xt}});var l={};n.r(l),n.d(l,{TEST_EPSILON_FLOAT16:function(){return $t},encodeStrings:function(){return ln},expectArrayBuffersEqual:function(){return cn},expectArraysClose:function(){return en},expectArraysEqual:function(){return an},expectNumbersClose:function(){return on},expectPromiseToFail:function(){return rn},expectValuesInRange:function(){return un},testEpsilon:function(){return tn}});var f={};n.r(f),n.d(f,{collectGatherOpShapeInfo:function(){return Vr},computeOutShape:function(){return Ur},segOpComputeOptimalWindowSize:function(){return Br}});var d={};n.r(d),n.d(d,{ERF_A1:function(){return ar},ERF_A2:function(){return or},ERF_A3:function(){return sr},ERF_A4:function(){return ur},ERF_A5:function(){return cr},ERF_P:function(){return ir},PARALLELIZE_THRESHOLD:function(){return Kn},SELU_SCALE:function(){return rr},SELU_SCALEALPHA:function(){return nr},applyActivation:function(){return qn.QH},assertAndGetBroadcastShape:function(){return yt.assertAndGetBroadcastShape},assertAxesAreInnerMostDims:function(){return zn.lB},assertParamsConsistent:function(){return Wn},assignToTypedArray:function(){return mr},axesAreInnerMostDims:function(){return zn.YB},calculateShapes:function(){return It.calculateShapes},checkEinsumDimSizes:function(){return _r},checkPadOnDimRoundingMode:function(){return Gn.m},combineLocations:function(){return zn.Vh},complexWithEvenIndex:function(){return pr},complexWithOddIndex:function(){return hr},computeConv2DInfo:function(){return Gn.Ix},computeConv3DInfo:function(){return Gn.jw},computeDefaultPad:function(){return Gn.aO},computeDilation2DInfo:function(){return Gn.Rf},computeOptimalWindowSize:function(){return Yn},computeOutAndReduceShapes:function(){return zn.kz},computeOutShape:function(){return Hn},computePool2DInfo:function(){return Gn.Xw},computePool3DInfo:function(){return Gn.pl},convertConv2DDataFormat:function(){return Gn.sl},decodeEinsumEquation:function(){return kr},eitherStridesOrDilationsAreOne:function(){return Gn.jT},expandShapeToKeepDim:function(){return zn.rv},exponent:function(){return yr},exponents:function(){return gr},fromStringArrayToUint8:function(){return Wr},fromUint8ToStringArray:function(){return zr},getAxesPermutation:function(){return zn.Q3},getBroadcastDims:function(){return yt.getBroadcastDims},getComplexWithIndex:function(){return vr},getEinsumComputePath:function(){return Sr},getEinsumPermutation:function(){return wr},getFusedBiasGradient:function(){return qn.pf},getFusedDyActivation:function(){return qn.Fr},getImageCenter:function(){return Xn},getInnerMostAxes:function(){return zn.sY},getPermuted:function(){return Jn},getReductionAxes:function(){return yt.getReductionAxes},getReshaped:function(){return Qn},getReshapedPermuted:function(){return $n},getSliceBeginCoords:function(){return er},getSliceSize:function(){return tr},getSparseFillEmptyRowsIndicesDenseShapeMismatch:function(){return Or},getSparseFillEmptyRowsNegativeIndexErrorMessage:function(){return Ar},getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:function(){return Ir},getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:function(){return Pr},getSparseReshapeInputOutputMismatchErrorMessage:function(){return Dr},getSparseReshapeInputOutputMultipleErrorMessage:function(){return Mr},getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:function(){return Rr},getSparseReshapeNegativeOutputDimErrorMessage:function(){return Nr},getSparseSegmentReductionIndicesOutOfRangeErrorMessage:function(){return Zr},getSparseSegmentReductionNegativeSegmentIdsErrorMessage:function(){return Lr},getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:function(){return jr},getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:function(){return Fr},getUndoAxesPermutation:function(){return zn.LJ},isIdentityPermutation:function(){return Tr},log:function(){return lr.c},mergeRealAndImagArrays:function(){return fr},prepareAndValidate:function(){return At},prepareSplitSize:function(){return Cr},segment_util:function(){return f},shouldFuse:function(){return qn.uy},slice_util:function(){return u},splitRealAndImagArrays:function(){return dr},tupleValuesAreOne:function(){return Gn.I0},upcastType:function(){return jn.x8},validateInput:function(){return It.validateInput},validateUpdateShape:function(){return It.validateUpdateShape},warn:function(){return lr.Z}});var p={};n.r(p),n.d(p,{nonMaxSuppressionV3Impl:function(){return Hr.GP},nonMaxSuppressionV4Impl:function(){return Hr.qP},nonMaxSuppressionV5Impl:function(){return Hr.pA},whereImpl:function(){return Gr.Z}});var h,v=n(70318);function m(e){h=e}function g(e){if(void 0!==h)return h;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;var t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){var n=e;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function y(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}var b=n(35050),x=(0,b.OB)();x.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),x.registerFlag("IS_BROWSER",(function(){return y()})),x.registerFlag("IS_NODE",(function(){return"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node})),x.registerFlag("IS_CHROME",(function(){return"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),x.registerFlag("PROD",(function(){return!1})),x.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return x.getBool("DEBUG")})),x.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),x.registerFlag("IS_TEST",(function(){return!1})),x.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(function(){return!0})),x.registerFlag("WRAP_TO_IMAGEBITMAP",(function(){return!1})),x.registerFlag("ENGINE_COMPILE_ONLY",(function(){return!1}));var k=n(15671),w=n(43144),_=n(37762),S=n(74165),T=n(15861),E=n(29439),C=n(59253),O=n(72442),A=n(36147),I={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};function R(e,t){return N.apply(this,arguments)}function N(){return N=(0,T.Z)((0,S.Z)().mark((function e(t,n){var r,i,a,o,s,u;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=[],i=[],a=Array.isArray(t)?t.map((function(e){return e.name})):Object.keys(t),o=function(e){var o=a[e],s=Array.isArray(t)?t[e].tensor:t[o];if("float32"!==s.dtype&&"int32"!==s.dtype&&"bool"!==s.dtype&&"string"!==s.dtype&&"complex64"!==s.dtype)throw new Error("Unsupported dtype in weight '".concat(o,"': ").concat(s.dtype));var u={name:o,shape:s.shape,dtype:s.dtype};if("string"===s.dtype){var c=new Promise(function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){var n,r,i,a,o,u,c;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.bytes();case 2:for(n=e.sent,r=n.reduce((function(e,t){return e+t.length}),0)+4*n.length,i=new Uint8Array(r),a=0,o=0;o<n.length;o++)u=n[o],c=new Uint8Array(new Uint32Array([u.length]).buffer),i.set(c,a),a+=4,i.set(u,a),a+=u.length;t(i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());i.push(c)}else i.push(s.data());null!=n&&(u.group=n),r.push(u)},s=0;s<a.length;++s)o(s);return e.next=7,Promise.all(i);case 7:return u=e.sent,e.abrupt("return",{data:M(u),specs:r});case 9:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function P(e,t){var n,r,i={},a=0,o=(0,_.Z)(t);try{for(o.s();!(r=o.n()).done;){var s=r.value,u=s.name,c=s.dtype,l=s.shape,f=(0,A.NA)(l),d=void 0;if("quantization"in s){var p=s.quantization;if("uint8"===p.dtype||"uint16"===p.dtype){if(!("min"in p)||!("scale"in p))throw new Error("Weight ".concat(s.name," with quantization ").concat(p.dtype," ")+"doesn't have corresponding metadata min and scale.")}else{if("float16"!==p.dtype)throw new Error("Weight ".concat(s.name," has unknown ")+"quantization dtype ".concat(p.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==c)throw new Error("Weight ".concat(s.name," is quantized with ").concat(p.dtype," ")+"which only supports weights of type float32 not ".concat(c,"."))}var h=I[p.dtype],v=e.slice(a,a+f*h),m="uint8"===p.dtype?new Uint8Array(v):new Uint16Array(v);if("float32"===c)if("uint8"===p.dtype||"uint16"===p.dtype){d=new Float32Array(m.length);for(var g=0;g<m.length;g++){var y=m[g];d[g]=y*p.scale+p.min}}else{if("float16"!==p.dtype)throw new Error("Unsupported quantization type ".concat(p.dtype," ")+"for weight type float32.");void 0===n&&(n=H()),d=n(m)}else{if("int32"!==c)throw new Error("Unsupported dtype in weight '".concat(u,"': ").concat(c));if("uint8"!==p.dtype&&"uint16"!==p.dtype)throw new Error("Unsupported quantization type ".concat(p.dtype," ")+"for weight type int32.");d=new Int32Array(m.length);for(var b=0;b<m.length;b++){var x=m[b];d[b]=Math.round(x*p.scale+p.min)}}a+=f*h}else if("string"===c){var k=(0,A.NA)(s.shape);d=[];for(var w=0;w<k;w++){var S=new Uint32Array(e.slice(a,a+4))[0];a+=4;var T=new Uint8Array(e.slice(a,a+S));d.push(T),a+=S}}else{var E=I[c],R=e.slice(a,a+f*E);if("float32"===c)d=new Float32Array(R);else if("int32"===c)d=new Int32Array(R);else if("bool"===c)d=new Uint8Array(R);else{if("complex64"!==c)throw new Error("Unsupported dtype in weight '".concat(u,"': ").concat(c));d=new Float32Array(R);for(var N=new Float32Array(d.length/2),P=new Float32Array(d.length/2),M=0;M<N.length;M++)N[M]=d[2*M],P[M]=d[2*M+1];var D=(0,O.X)(N,l,"float32"),L=(0,O.X)(P,l,"float32");i[u]=(0,C.P)(D,L),D.dispose(),L.dispose()}a+=f*E}"complex64"!==c&&(i[u]=(0,O.X)(d,l,c))}}catch(j){o.e(j)}finally{o.f()}return i}function M(e){if(null===e)throw new Error("Invalid input value: ".concat(JSON.stringify(e)));var t=0,n=[];e.forEach((function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))}));var r=new Uint8Array(t),i=0;return n.forEach((function(e){r.set(new Uint8Array(e.buffer),i),i+=e.byteLength})),r.buffer}var D="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function L(e){return D?Buffer.byteLength(e):new Blob([e]).size}function j(e){if(D)return Buffer.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,i=t.length;r<i;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function F(e){if(D){var t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r.set([n.charCodeAt(i)],i);return r.buffer}function Z(e){if(1===e.length)return e[0];var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function B(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function U(e,t){var n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function V(e,t){return z.apply(this,arguments)}function z(){return z=(0,T.Z)((0,S.Z)().mark((function e(t,n){var r,i,a,o,s;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy},null!=t.trainingConfig&&(r.trainingConfig=t.trainingConfig),null==t.weightsManifest){e.next=11;break}return e.next=5,n(t.weightsManifest);case 5:i=e.sent,a=(0,E.Z)(i,2),o=a[0],s=a[1],r.weightSpecs=o,r.weightData=s;case 11:return null!=t.signature&&(r.signature=t.signature),null!=t.userDefinedMetadata&&(r.userDefinedMetadata=t.userDefinedMetadata),null!=t.modelInitializer&&(r.modelInitializer=t.modelInitializer),e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}function W(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:L(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:L(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function H(){var e=function(){var e=function(e){for(var t=e<<13,n=0;0===(8388608&t);)n-=8388608,t<<=1;return(t&=-8388609)|n+947912704},t=new Uint32Array(2048);t[0]=0;for(var n=1;n<1024;n++)t[n]=e(n);for(var r=1024;r<2048;r++)t[r]=939524096+(r-1024<<13);return t}(),t=function(){var e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(var t=1;t<31;t++)e[t]=t<<23;for(var n=33;n<63;n++)e[n]=2147483648+(n-32<<23);return e}(),n=function(){for(var e=new Uint32Array(64),t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return function(r){for(var i=new ArrayBuffer(4*r.length),a=new Uint32Array(i),o=0;o<r.length;o++){var s=r[o],u=e[n[s>>10]+(1023&s)]+t[s>>10];a[o]=u}return new Float32Array(i)}}var G=function(){function e(){(0,k.Z)(this,e),this.saveRouters=[],this.loadRouters=[]}return(0,w.Z)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerSaveRouter",value:function(t){e.getInstance().saveRouters.push(t)}},{key:"registerLoadRouter",value:function(t){e.getInstance().loadRouters.push(t)}},{key:"getSaveHandlers",value:function(t){return e.getHandlers(t,"save")}},{key:"getLoadHandlers",value:function(t,n){return e.getHandlers(t,"load",n)}},{key:"getHandlers",value:function(t,n,r){var i=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&i.push(n)})),i}}]),e}(),q=function(e){return G.registerSaveRouter(e)},K=function(e){return G.registerLoadRouter(e)},Y=function(e){return G.getSaveHandlers(e)},X=function(e,t){return G.getLoadHandlers(e,t)},Q="tensorflowjs",J="models_store",$="model_info_store";function ee(){if(!(0,b.OB)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function te(e){var t=e.result;t.createObjectStore(J,{keyPath:"modelPath"}),t.createObjectStore($,{keyPath:"modelPath"})}var ne=function(){function e(t){if((0,k.Z)(this,e),this.indexedDB=ee(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return(0,w.Z)(e,[{key:"save",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 2:return e.abrupt("return",this.databaseAction(this.modelPath,t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.databaseAction(this.modelPath));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"databaseAction",value:function(e,t){var n=this;return new Promise((function(e,r){var i=n.indexedDB.open(Q,1);i.onupgradeneeded=function(){return te(i)},i.onsuccess=function(){var a=i.result;if(null==t){var o=a.transaction(J,"readonly"),s=o.objectStore(J).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return a.close(),r(new Error("Cannot find model with path '".concat(n.modelPath,"' ")+"in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return a.close(),r(s.error)},o.oncomplete=function(){return a.close()}}else{var u,c=W(t),l=a.transaction($,"readwrite"),f=l.objectStore($),d=f.put({modelPath:n.modelPath,modelArtifactsInfo:c});d.onsuccess=function(){var i=(u=a.transaction(J,"readwrite")).objectStore(J).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:c});i.onsuccess=function(){return e({modelArtifactsInfo:c})},i.onerror=function(e){var t=(f=l.objectStore($)).delete(n.modelPath);t.onsuccess=function(){return a.close(),r(i.error)},t.onerror=function(e){return a.close(),r(i.error)}}},d.onerror=function(e){return a.close(),r(d.error)},l.oncomplete=function(){null==u?a.close():u.oncomplete=function(){return a.close()}}}},i.onerror=function(e){return r(i.error)}}))}}]),e}();ne.URL_SCHEME="indexeddb://";var re=function(e){return(0,b.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(ne.URL_SCHEME)?(t=e.slice(ne.URL_SCHEME.length),new ne(t)):null;var t};G.registerSaveRouter(re),G.registerLoadRouter(re);var ie=function(){function e(){(0,k.Z)(this,e),this.indexedDB=ee()}return(0,w.Z)(e,[{key:"listModels",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){var t=this;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=t.indexedDB.open(Q,1);r.onupgradeneeded=function(){return te(r)},r.onsuccess=function(){var t=r.result,i=t.transaction($,"readonly"),a=i.objectStore($).getAll();a.onsuccess=function(){var t,n={},r=(0,_.Z)(a.result);try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i.modelPath]=i.modelArtifactsInfo}}catch(o){r.e(o)}finally{r.f()}e(n)},a.onerror=function(e){return t.close(),n(a.error)},i.oncomplete=function(){return t.close()}},r.onerror=function(e){return n(r.error)}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){var n=this;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(r=t).startsWith(ne.URL_SCHEME)?r.slice(ne.URL_SCHEME.length):r,e.abrupt("return",new Promise((function(e,r){var i=n.indexedDB.open(Q,1);i.onupgradeneeded=function(){return te(i)},i.onsuccess=function(){var n,a=i.result,o=a.transaction($,"readwrite"),s=o.objectStore($),u=s.get(t);u.onsuccess=function(){if(null==u.result)return a.close(),r(new Error("Cannot find model with path '".concat(t,"' ")+"in IndexedDB."));var i=s.delete(t),o=function(){var i=(n=a.transaction(J,"readwrite")).objectStore(J).delete(t);i.onsuccess=function(){return e(u.result.modelArtifactsInfo)},i.onerror=function(e){return r(u.error)}};i.onsuccess=o,i.onerror=function(e){return o(),a.close(),r(u.error)}},u.onerror=function(e){return a.close(),r(u.error)},o.oncomplete=function(){null==n?a.close():n.oncomplete=function(){return a.close()}}},i.onerror=function(e){return r(i.error)}})));case 2:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ae="/",oe="tensorflowjs_models",se="info",ue="model_topology",ce="weight_specs",le="weight_data",fe="model_metadata";function de(e){return{info:[oe,e,se].join(ae),topology:[oe,e,ue].join(ae),weightSpecs:[oe,e,ce].join(ae),weightData:[oe,e,le].join(ae),modelMetadata:[oe,e,fe].join(ae)}}function pe(e){for(var t=0,n=Object.values(e);t<n.length;t++){var r=n[t];window.localStorage.removeItem(r)}}function he(e){var t=e.split(ae);if(t.length<3)throw new Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join(ae)}var ve=function(){function e(t){if((0,k.Z)(this,e),!(0,b.OB)().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=de(this.modelPath)}return(0,w.Z)(e,[{key:"save",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){var n,r,i,a;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=4;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 4:return n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),i=W(t),e.prev=7,this.LS.setItem(this.keys.info,JSON.stringify(i)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,j(t.weightData)),a={format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,signature:null!=t.signature?t.signature:void 0,userDefinedMetadata:null!=t.userDefinedMetadata?t.userDefinedMetadata:void 0,modelInitializer:null!=t.modelInitializer?t.modelInitializer:void 0,trainingConfig:null!=t.trainingConfig?t.trainingConfig:void 0},this.LS.setItem(this.keys.modelMetadata,JSON.stringify(a)),e.abrupt("return",{modelArtifactsInfo:i});case 17:throw e.prev=17,e.t0=e.catch(7),pe(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(i.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(i.weightSpecsBytes,", ")+"weightDataBytes=".concat(i.weightDataBytes,"."));case 21:case"end":return e.stop()}}),e,this,[[7,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){var t,n,r,i,a,o,s;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=JSON.parse(this.LS.getItem(this.keys.info)))){e.next=3;break}throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));case 3:if("JSON"===t.modelTopologyType){e.next=5;break}throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");case 5:if(n={},null!=(r=JSON.parse(this.LS.getItem(this.keys.topology)))){e.next=9;break}throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");case 9:if(n.modelTopology=r,null!=(i=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))){e.next=13;break}throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");case 13:if(n.weightSpecs=i,null!=(a=this.LS.getItem(this.keys.modelMetadata))&&(o=JSON.parse(a),n.format=o.format,n.generatedBy=o.generatedBy,n.convertedBy=o.convertedBy,null!=o.signature&&(n.signature=o.signature),null!=o.userDefinedMetadata&&(n.userDefinedMetadata=o.userDefinedMetadata),null!=o.modelInitializer&&(n.modelInitializer=o.modelInitializer),null!=o.trainingConfig&&(n.trainingConfig=o.trainingConfig)),null!=(s=this.LS.getItem(this.keys.weightData))){e.next=19;break}throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));case 19:return n.weightData=F(s),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();ve.URL_SCHEME="localstorage://";var me=function(e){return(0,b.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(ve.URL_SCHEME)?(t=e.slice(ve.URL_SCHEME.length),new ve(t)):null;var t};G.registerSaveRouter(me),G.registerLoadRouter(me);var ge=function(){function e(){(0,k.Z)(this,e),(0,A.hu)((0,b.OB)().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),(0,A.hu)("undefined"===typeof window||"undefined"!==typeof window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return(0,w.Z)(e,[{key:"listModels",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){var t,n,r,i,a,o;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t={},n=oe+ae,r=ae+se,i=0;i<this.LS.length;++i)(a=this.LS.key(i)).startsWith(n)&&a.endsWith(r)&&(o=he(a),t[o]=JSON.parse(this.LS.getItem(a)));return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){var n,r;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(i=t).startsWith(ve.URL_SCHEME)?i.slice(ve.URL_SCHEME.length):i,n=de(t),null!=this.LS.getItem(n.info)){e.next=4;break}throw new Error("Cannot find model at path '".concat(t,"'"));case 4:return r=JSON.parse(this.LS.getItem(n.info)),pe(n),e.abrupt("return",r);case 7:case"end":return e.stop()}var i}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ye="://",be=function(){function e(){(0,k.Z)(this,e),this.managers={}}return(0,w.Z)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerManager",value:function(t,n){(0,A.hu)(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(ye)&&(t=t.slice(0,t.indexOf(ye))),(0,A.hu)(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();(0,A.hu)(null==r.managers[t],(function(){return"A model store manager is already registered for scheme '".concat(t,"'.")})),r.managers[t]=n}},{key:"getManager",value:function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '".concat(e,"'"));return t}},{key:"getSchemes",value:function(){return Object.keys(this.getInstance().managers)}}]),e}();function xe(e){if(-1===e.indexOf(ye))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(be.getSchemes().join(",")));return{scheme:e.split(ye)[0],path:e.split(ye)[1]}}function ke(e,t){return we.apply(this,arguments)}function we(){return we=(0,T.Z)((0,S.Z)().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,d,p=arguments;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>2&&void 0!==p[2]&&p[2],(0,A.hu)(t!==n,(function(){return"Old path and new path are the same: '".concat(t,"'")})),i=G.getLoadHandlers(t),(0,A.hu)(i.length>0,(function(){return"Copying failed because no load handler is found for source URL ".concat(t,".")})),(0,A.hu)(i.length<2,(function(){return"Copying failed because more than one (".concat(i.length,") ")+"load handlers for source URL ".concat(t,".")})),a=i[0],o=G.getSaveHandlers(n),(0,A.hu)(o.length>0,(function(){return"Copying failed because no save handler is found for destination "+"URL ".concat(n,".")})),(0,A.hu)(o.length<2,(function(){return"Copying failed because more than one (".concat(i.length,") ")+"save handlers for destination URL ".concat(n,".")})),s=o[0],u=xe(t).scheme,c=xe(t).path,l=u===xe(t).scheme,e.next=15,a.load();case 15:if(f=e.sent,!r||!l){e.next=19;break}return e.next=19,be.getManager(u).removeModel(c);case 19:return e.next=21,s.save(f);case 21:if(d=e.sent,!r||l){e.next=25;break}return e.next=25,be.getManager(u).removeModel(c);case 25:return e.abrupt("return",d.modelArtifactsInfo);case 26:case"end":return e.stop()}}),e)}))),we.apply(this,arguments)}function _e(){return Se.apply(this,arguments)}function Se(){return(Se=(0,T.Z)((0,S.Z)().mark((function e(){var t,n,r,i,a,o,s;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=be.getSchemes(),n={},r=(0,_.Z)(t),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=9,be.getManager(a).listModels();case 9:for(s in o=e.sent)n[a+ye+s]=o[s];case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})))).apply(this,arguments)}function Te(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,T.Z)((0,S.Z)().mark((function e(t){var n,r;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xe(t),r=be.getManager(n.scheme),e.abrupt("return",r.removeModel(n.path));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e,t){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,T.Z)((0,S.Z)().mark((function e(t,n){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,e.abrupt("return",ke(t,n,false));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(e,t){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,T.Z)((0,S.Z)().mark((function e(t,n){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,e.abrupt("return",ke(t,n,true));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Re=function(){function e(){(0,k.Z)(this,e)}return(0,w.Z)(e,[{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return fetch(e,t)}))},{key:"now",value:function(){return performance.now()}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return new TextDecoder(t).decode(e)}}]),e}();if((0,b.OB)().get("IS_BROWSER")){(0,b.OB)().setPlatform("browser",new Re);try{be.registerManager(ve.URL_SCHEME,new ge)}catch(Kr){}try{be.registerManager(ne.URL_SCHEME,new ie)}catch(Kr){}}var Ne,Pe=function(){return n(75410)};var Me=function(){function e(){(0,k.Z)(this,e),this.util=n(48628),this.textEncoder=new this.util.TextEncoder}return(0,w.Z)(e,[{key:"fetch",value:function(e,t){return null!=(0,b.OB)().global.fetch?(0,b.OB)().global.fetch(e,t):(null==Ne&&(Ne=Pe()),Ne(e,t))}},{key:"now",value:function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}]),e}();(0,b.OB)().get("IS_NODE")&&!(0,b.OB)().get("IS_BROWSER")&&(0,b.OB)().setPlatform("node",new Me);var De=n(77039),Le=n(99118),je=n(10672),Fe=n(64600),Ze=n(4376);(0,v.wv)();var Be={buffer:De.f,cast:Le.p,clone:je.d,print:Fe.S};(0,Ze.Vp)(Be);var Ue=n(93433);function Ve(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var ze=function(){function e(t){if((0,k.Z)(this,e),!(0,b.OB)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelJsonFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return(0,w.Z)(e,[{key:"save",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){var n,r,i,a,o,s;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof document){e.next=2;break}throw new Error("Browser downloads are not supported in this environment since `document` is not present");case 2:if(n=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer)){e.next=7;break}throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 7:return r=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],i=U(t,r),a=window.URL.createObjectURL(new Blob([JSON.stringify(i)],{type:"application/json"})),(o=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor).download=this.modelJsonFileName,o.href=a,e.next=15,Ve((function(){return o.dispatchEvent(new MouseEvent("click"))}));case 15:if(null==t.weightData){e.next=21;break}return(s=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=n,e.next=21,Ve((function(){return s.dispatchEvent(new MouseEvent("click"))}));case 21:return e.abrupt("return",{modelArtifactsInfo:W(t)});case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();ze.URL_SCHEME="downloads://";var We=function(){function e(t){if((0,k.Z)(this,e),null==t||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(t));this.jsonFile=t[0],this.weightsFiles=t.slice(1)}return(0,w.Z)(e,[{key:"load",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){var t=this;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(r){var i=JSON.parse(r.target.result),a=i.modelTopology;if(null!=a)if(null!=i.weightsManifest)if(0!==t.weightsFiles.length){var o=V(i,(function(e){return t.loadWeights(e)}));e(o)}else e({modelTopology:a});else n(new Error("weightManifest field is missing from file ".concat(t.jsonFile.name)));else n(new Error("modelTopology field is missing from file ".concat(t.jsonFile.name)))},r.onerror=function(e){return n("Failed to read model topology and weights manifest JSON "+"from file '".concat(t.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only.")},r.readAsText(t.jsonFile)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(e){var t,n=this,r=[],i=[],a=(0,_.Z)(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;r.push.apply(r,(0,Ue.Z)(o.weights)),i.push.apply(i,(0,Ue.Z)(o.paths))}}catch(Kr){a.e(Kr)}finally{a.f()}var s=this.checkManifestAndWeightFiles(e),u=i.map((function(e){return n.loadWeightsFile(e,s[e])}));return Promise.all(u).then((function(e){return[r,Z(e)]}))}},{key:"loadWeightsFile",value:function(e,t){return new Promise((function(n,r){var i=new FileReader;i.onload=function(e){var t=e.target.result;n(t)},i.onerror=function(t){return r("Failed to weights data from file of path '".concat(e,"'."))},i.readAsArrayBuffer(t)}))}},{key:"checkManifestAndWeightFiles",value:function(e){var t,n=this,r=[],i=this.weightsFiles.map((function(e){return B(e.name)})),a={},o=(0,_.Z)(e);try{for(o.s();!(t=o.n()).done;){t.value.paths.forEach((function(e){var t=B(e);if(-1!==r.indexOf(t))throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(t,"'"));if(r.push(t),-1===i.indexOf(t))throw new Error("Weight file with basename '".concat(t,"' is not provided."));a[e]=n.weightsFiles[i.indexOf(t)]}))}}catch(Kr){o.e(Kr)}finally{o.f()}if(r.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(r.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return a}}]),e}();function He(e){return new We(e)}function Ge(e,t,n,r){!function(e){(0,A.hu)(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))}(e),function(e,t){(0,A.hu)(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(e)})),(0,A.hu)(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(t)})),(0,A.hu)(t>=e,(function(){return"startFraction must be no more than endFraction, but "+"got startFraction ".concat(e," and endFraction ")+"".concat(t)}))}(n=null==n?0:n,r=null==r?1:r);var i=0;return Promise.all(e.map((function(a){return a.then((function(a){var o=n+ ++i/e.length*(r-n);return t(o),a})),a})))}function qe(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,T.Z)((0,S.Z)().mark((function e(t,n){var r,i,a,o,s,u,c,l,f;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&(n={}),r=null==n.fetchFunc?(0,b.OB)().platform.fetch:n.fetchFunc,i=t.map((function(e){return r(e,n.requestInit,{isBinary:!0})})),a=0,o=.5,null!=n.onProgress){e.next=11;break}return e.next=8,Promise.all(i);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,Ge(i,n.onProgress,a,o);case 13:e.t0=e.sent;case 14:if(s=e.t0,u=s.map((function(e){return e.arrayBuffer()})),c=.5,l=1,null!=n.onProgress){e.next=24;break}return e.next=21,Promise.all(u);case 21:e.t1=e.sent,e.next=27;break;case 24:return e.next=26,Ge(u,n.onProgress,c,l);case 26:e.t1=e.sent;case 27:return f=e.t1,e.abrupt("return",f);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(e){return Xe.apply(this,arguments)}function Xe(){return Xe=(0,T.Z)((0,S.Z)().mark((function e(t){var n,r,i,a,o=arguments;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"",r=o.length>2?o[2]:void 0,i=o.length>3?o[3]:void 0,a=Qe((function(e){return qe(e,{requestInit:i})})),e.abrupt("return",a(t,n,r));case 6:case"end":return e.stop()}}),e)}))),Xe.apply(this,arguments)}function Qe(e){return function(){var t=(0,T.Z)((0,S.Z)().mark((function t(n){var r,i,a,o,s,u,c,l,f,d,p,h,v=arguments;return(0,S.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=v.length>1&&void 0!==v[1]?v[1]:"",i=v.length>2?v[2]:void 0,a=n.map((function(){return!1})),o={},s=null!=i?i.map((function(){return!1})):[],u=[],n.forEach((function(e,t){var n=0;e.weights.forEach((function(e){var r="quantization"in e?e.quantization.dtype:e.dtype,c=I[r]*A.NA(e.shape),l=function(){a[t]=!0,null==o[t]&&(o[t]=[]),o[t].push({manifestEntry:e,groupOffset:n,sizeBytes:c})};null!=i?i.forEach((function(t,n){t===e.name&&(l(),s[n]=!0)})):l(),u.push(e.name),n+=c}))})),s.every((function(e){return e}))){t.next=10;break}throw c=i.filter((function(e,t){return!s[t]})),new Error("Could not find weights in manifest with names: "+"".concat(c.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(u.join(", "),"."));case 10:return l=a.reduce((function(e,t,n){return t&&e.push(n),e}),[]),f=[],l.forEach((function(e){n[e].paths.forEach((function(e){var t=r+(r.endsWith("/")?"":"/")+e;f.push(t)}))})),t.next=15,e(f);case 15:return d=t.sent,p={},h=0,l.forEach((function(e){for(var t=n[e].paths.length,r=0,i=0;i<t;i++)r+=d[h+i].byteLength;for(var a=new ArrayBuffer(r),s=new Uint8Array(a),u=0,c=0;c<t;c++){var l=new Uint8Array(d[h+c]);s.set(l,u),u+=l.byteLength}o[e].forEach((function(e){var t=P(a.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)p[n]=t[n]})),h+=t})),t.abrupt("return",p);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}G.registerSaveRouter((function(e){return(0,b.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(ze.URL_SCHEME)?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new ze(e)}(e.slice(ze.URL_SCHEME.length)):null}));var Je=function(){function e(t,n){if((0,k.Z)(this,e),this.DEFAULT_METHOD="POST",null==n&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,null!=n.fetchFunc?((0,A.hu)("function"===typeof n.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=n.fetchFunc):this.fetch=(0,b.OB)().platform.fetch,(0,A.hu)(null!=t&&t.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(t)&&(0,A.hu)(2===t.length,(function(){return"URL paths for http must have a length of 2, "+"(actual length is ".concat(t.length,").")})),this.path=t,null!=n.requestInit&&null!=n.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return(0,w.Z)(e,[{key:"save",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){var n,r,i,a;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");case 2:return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],i=U(t,r),n.body.append("model.json",new Blob([JSON.stringify(i)],{type:"application/json"}),"model.json"),null!=t.weightData&&n.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),e.next=10,this.fetch(this.path,n);case 10:if(!(a=e.sent).ok){e.next=15;break}return e.abrupt("return",{modelArtifactsInfo:W(t),responses:[a]});case 15:throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(a.status,"."));case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){var t,n,r,i,a,o=this;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch(this.path,this.requestInit);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(t.status,". Please verify this URL points to ")+"the model JSON of the model to load.");case 5:return e.prev=5,e.next=8,t.json();case 8:n=e.sent,e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(5),r="Failed to parse model JSON of response from ".concat(this.path,"."),this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 16:if(i=n.modelTopology,a=n.weightsManifest,null!=i||null!=a){e.next=20;break}throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");case 20:return e.abrupt("return",V(n,(function(e){return o.loadWeights(e)})));case 21:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,d,p,h,v,m,g,y,b,x;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Array.isArray(this.path)?this.path[1]:this.path,r=$e(n),i=(0,E.Z)(r,2),a=i[0],o=i[1],s=this.weightPathPrefix||a,u=[],c=(0,_.Z)(t);try{for(c.s();!(l=c.n()).done;)f=l.value,u.push.apply(u,(0,Ue.Z)(f.weights))}catch(Kr){c.e(Kr)}finally{c.f()}d=[],p=[],h=(0,_.Z)(t);try{for(h.s();!(v=h.n()).done;){m=v.value,g=(0,_.Z)(m.paths);try{for(g.s();!(y=g.n()).done;)b=y.value,null!=this.weightUrlConverter?p.push(this.weightUrlConverter(b)):d.push(s+b+o)}catch(Kr){g.e(Kr)}finally{g.f()}}}catch(Kr){h.e(Kr)}finally{h.f()}if(!this.weightUrlConverter){e.next=19;break}return e.t0=d.push,e.t1=d,e.t2=Ue.Z,e.next=16,Promise.all(p);case 16:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 19:return e.next=21,qe(d,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});case 21:return x=e.sent,e.abrupt("return",[u,Z(x)]);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function $e(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}function et(e){return null!=e.match(Je.URL_SCHEME_REGEX)}Je.URL_SCHEME_REGEX=/^https?:\/\//;var tt=function(e,t){if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;return(Array.isArray(e)?e.every((function(e){return et(e)})):et(e))?nt(e,t):null};function nt(e,t){return new Je(e,t)}function rt(e,t){return nt(e,t)}G.registerSaveRouter(tt),G.registerLoadRouter(tt);var it=function(){function e(t){(0,k.Z)(this,e),this.modelArtifacts=t}return(0,w.Z)(e,[{key:"load",value:function(){return this.modelArtifacts}}]),e}(),at=function(){function e(t){(0,k.Z)(this,e),this.saveHandler=t}return(0,w.Z)(e,[{key:"save",value:function(e){return this.saveHandler(e)}}]),e}(),ot=(0,w.Z)((function e(t){(0,k.Z)(this,e),t.load&&(this.load=function(){return Promise.resolve(t.load())}),t.save&&(this.save=function(e){return Promise.resolve(t.save(e))})}));function st(e,t,n,r){var i=arguments;return new ot(ut.apply(void 0,(0,Ue.Z)(i)))}function ut(e,t,n,r){if(1===arguments.length){var i=null!=e.modelTopology||null!=e.weightSpecs;return i?new it(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new it({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new it({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r})}function ct(e){return new at(e)}function lt(e){return new at(e)}var ft=n(48354),dt=n(57221),pt=n(34326),ht=n(38640),vt=n(61240);var mt,gt=(0,ht.op)({confusionMatrix_:function(e,t,n){var r=(0,ft._1)(e,"labels","confusionMatrix"),i=(0,ft._1)(t,"predictions","confusionMatrix");A.hu(null==n||n>0&&Number.isInteger(n),(function(){return"If provided, numClasses must be a positive integer, "+"but got ".concat(n)})),A.hu(1===r.rank,(function(){return"Expected the rank of labels to be 1, but got ".concat(r.rank)})),A.hu(1===i.rank,(function(){return"Expected the rank of predictions to be 1, "+"but got ".concat(i.rank)})),A.hu(r.shape[0]===i.shape[0],(function(){return"Mismatch in the number of examples: "+"".concat(r.shape[0]," vs. ").concat(i.shape[0],". ")+"Labels and predictions should have the same number of elements."})),A.hu(n>0&&Number.isInteger(n),(function(){return"numClasses is required to be a positive integer, but got "+"".concat(n)}));var a=(0,pt.l)((0,Le.p)(r,"int32"),n),o=(0,pt.l)((0,Le.p)(i,"int32"),n),s=(0,vt.p)(a),u=(0,dt.O)(s,o);return(0,Le.p)(u,"int32")}}),yt=n(45774),bt=n(32145),xt=n(78864),kt=n(73123);function wt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,i=!1,a=!1,o=!1,s=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)i=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)a=!0;else if(null!=e.getContext)o=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(e.constructor.name));s=!0}if(i){var u=2;if(i&&e.readyState<u)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}var c=(0,xt.pI)(bt.eB,v.BV.backendName);if(null!=c){var l={pixels:e},f={numChannels:t};return v.BV.runKernel(bt.eB,l,f)}var d,p,h=i?[e.videoWidth,e.videoHeight]:[e.width,e.height],m=(0,E.Z)(h,2),g=m[0],y=m[1];if(o)d=e.getContext("2d").getImageData(0,0,g,y).data;else if(r||n)d=e.data;else if(a||i||s){if(null==mt)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");mt=new OffscreenCanvas(1,1).getContext("2d")}else mt=document.createElement("canvas").getContext("2d");mt.canvas.width=g,mt.canvas.height=y,mt.drawImage(e,0,0,g,y),d=mt.getImageData(0,0,g,y).data}if(4===t)p=new Int32Array(d);else{var b=g*y;p=new Int32Array(b*t);for(var x=0;x<b;x++)for(var k=0;k<t;++k)p[x*t+k]=d[4*x+k]}var w=[y,g,t];return(0,kt.w)(p,w,"int32")}function _t(e){return"undefined"!==typeof window&&"undefined"!==typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&function(e){return null!=e&&0!==e.width&&0!==e.height}(e)&&!function(e){return null!=e&&e.data instanceof Uint8Array}(e)}function St(e){return Tt.apply(this,arguments)}function Tt(){return Tt=(0,T.Z)((0,S.Z)().mark((function e(t){var n,r,i,a=arguments;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:3,r=null,!(0,b.OB)().getBool("WRAP_TO_IMAGEBITMAP")||!_t(t)){e.next=15;break}return e.prev=3,e.next=6,createImageBitmap(t,{premultiplyAlpha:"none"});case 6:i=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),i=null;case 12:r=null!=i&&i.width===t.width&&i.height===t.height?i:t,e.next=16;break;case 15:r=t;case 16:return e.abrupt("return",wt(r,n));case 17:case"end":return e.stop()}}),e,null,[[3,9]])}))),Tt.apply(this,arguments)}function Et(e,t){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,T.Z)((0,S.Z)().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,d,p,h,v,m,g,y,b;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,ft._1)(t,"img","toPixels"),t instanceof Ze.es||(i=r,r=(0,Le.p)(i,"int32"),i.dispose()),2===r.rank||3===r.rank){e.next=4;break}throw new Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(r.rank,"."));case 4:if(a=r.shape.slice(0,2),o=(0,E.Z)(a,2),s=o[0],u=o[1],!((c=2===r.rank?1:r.shape[2])>4||2===c)){e.next=8;break}throw new Error("toPixels only supports depth of size "+"1, 3 or 4 but got ".concat(c));case 8:if("float32"===r.dtype||"int32"===r.dtype){e.next=10;break}throw new Error("Unsupported type for toPixels: ".concat(r.dtype,".")+" Please use float32 or int32 tensors.");case 10:return e.next=12,r.data();case 12:l=e.sent,f="float32"===r.dtype?255:1,d=new Uint8ClampedArray(u*s*4),p=0;case 16:if(!(p<s*u)){e.next=41;break}h=[0,0,0,255],v=0;case 19:if(!(v<c)){e.next=33;break}if(m=l[p*c+v],"float32"!==r.dtype){e.next=26;break}if(!(m<0||m>1)){e.next=24;break}throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(m,"."));case 24:e.next=29;break;case 26:if("int32"!==r.dtype){e.next=29;break}if(!(m<0||m>255)){e.next=29;break}throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(m,"."));case 29:1===c?(h[0]=m*f,h[1]=m*f,h[2]=m*f):h[v]=m*f;case 30:v++,e.next=19;break;case 33:d[(g=4*p)+0]=Math.round(h[0]),d[g+1]=Math.round(h[1]),d[g+2]=Math.round(h[2]),d[g+3]=Math.round(h[3]);case 38:++p,e.next=16;break;case 41:return null!=n&&(n.width=u,n.height=s,y=n.getContext("2d"),b=new ImageData(d,u,s),y.putImageData(b,0,0)),r!==t&&r.dispose(),e.abrupt("return",d);case 44:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ot=(0,ht.op)({fromPixels_:wt});function At(e,t){var n=e.shape.length,r=t.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if(r<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(r,"."));if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.shape[r-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(t.shape[r-1]," vs. ").concat(n));if(0===(0,A.NA)(e.shape))throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(e.shape,"."));for(var i=t.shape,a=i[i.length-1],o=1,s=0;s<i.length-1;++s)o*=i[s];var u=e.shape,c=i.slice();c.pop();for(var l=1,f=a;f<n;++f)l*=u[f],c.push(u[f]);var d=[].concat((0,Ue.Z)((0,A.e3)(e.shape).map((function(e){return e/l}))),[1]).slice(0,a);return[c,o,l,d]}var It=n(48604);function Rt(e,t,n){var r=e.shape.length;A.hu(r===t.length,(function(){return"Error in slice".concat(r,"D: Length of begin ").concat(t," must ")+"match the rank of the array (".concat(r,").")})),A.hu(r===n.length,(function(){return"Error in slice".concat(r,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(r,").")}));for(var i=function(i){A.hu(t[i]+n[i]<=e.shape[i],(function(){return"Error in slice".concat(r,"D: begin[").concat(i,"] + size[").concat(i,"] ")+"(".concat(t[i]+n[i],") would overflow input.shape[").concat(i,"] (").concat(e.shape[i],")")}))},a=0;a<r;++a)i(a)}function Nt(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function Pt(e,t,n){for(var r=[],i=0;i<e.length;i++)r[i]=Math.ceil((t[i]-e[i])/n[i]);return r}function Mt(e,t,n,r){for(var i=(0,Ue.Z)(e),a=i.length;a<r.length;a++)i.push(1);for(var o=0;o<n;o++)0===o?i[t]=1:(i.splice(t,0,1),i.pop());return i}function Dt(e,t,n){return n<=e?n:n-(t-1)}function Lt(e,t){for(var n=[],r=0;r<e;r++)n.push(t+r);return n}function jt(e,t,n,r,i,a,o,s,u){var c=e.length,l=new Array(c),f=new Array(c),d=new Array(c);if(t.length&&n>0){var p=t[0],h=n+1;l=Ft(o,p,h,r,e),f=Zt(s,p,h,i,e),d=Mt(a,p,h,e)}else for(var v=0;v<c;v++)l[v]=Ut(o,r,a,e,v,u),f[v]=Vt(s,i,a,e,v,u),d[v]=Bt(a,v,u);return{begin:l,end:f,strides:d}}function Ft(e,t,n,r,i){for(var a=(0,Ue.Z)(i),o=Lt(n,t),s=0;s<a.length;s++)if(o.indexOf(s)>-1)a[s]=0;else{var u=Dt(t,n,s),c=r[u];e&1<<u&&(c=0),a[s]=c}return a}function Zt(e,t,n,r,i){for(var a=(0,Ue.Z)(i),o=Lt(n,t),s=0;s<a.length;s++)if(o.indexOf(s)>-1)a[s]=Number.MAX_SAFE_INTEGER;else{var u=Dt(t,n,s),c=r[u];e&1<<u&&(c=Number.MAX_SAFE_INTEGER),a[s]=c}for(var l=0;l<a.length;l++){var f=i[l];a[l]<0&&(a[l]+=f),a[l]=A.uZ(0,a[l],i[l])}return a}function Bt(e,t,n){var r=e[t];return(n&1<<t||null==r)&&(r=1),r}function Ut(e,t,n,r,i,a){var o=t[i],s=n[i]||1;(e&1<<i||a&1<<i||null==o)&&(o=s>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var u=r[i];return o<0&&(o+=u),o=A.uZ(0,o,u-1)}function Vt(e,t,n,r,i,a){var o=t[i],s=n[i]||1;(e&1<<i||a&1<<i||null==o)&&(o=s>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var u=r[i];return o<0&&(o+=u),o=s>0?A.uZ(0,o,u):A.uZ(-1,o,u-1)}function zt(e,t,n){for(var r=n.length,i=0;i<n.length;i++)if(n[i]>1){r=i;break}for(var a=r+1;a<n.length;a++)if(t[a]>0||n[a]!==e[a])return!1;return!0}function Wt(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function Ht(e,t,n){var r,i,a=e.shape.length;return(r="number"===typeof t?[t].concat((0,Ue.Z)(new Array(a-1).fill(0))):t.length<a?t.concat(new Array(a-t.length).fill(0)):t.slice()).forEach((function(e){A.hu(-1!==e,(function(){return"slice() does not support negative begin indexing."}))})),i=(i=null==n?new Array(a).fill(-1):"number"===typeof n?[n].concat((0,Ue.Z)(new Array(a-1).fill(-1))):n.length<a?n.concat(new Array(a-n.length).fill(-1)):n).map((function(t,n){return t>=0?t:(A.hu(-1===t,(function(){return"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(n,".")})),e.shape[n]-r[n])})),[r,i]}function Gt(e,t,n,r,i,a,o,s,u){var c;if(null==r?(c=new Array(t.length)).fill(1):c=r,null!=o&&0!==(o&o-1))throw new Error("Multiple ellipses in slice is not allowed.");for(var l=!1,f={dims:c.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:c.slice(),beginMask:i,endMask:a,ellipsisMask:o,newAxisMask:s,shrinkAxisMask:u},d=0;d<f.dims;d++)l&&0!==(1<<d&s)&&f.numAddAxisAfterEllipsis++,1<<d&o&&(l=!0);l||(f.ellipsisMask|=1<<f.dims,f.dims++);var p={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;var n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(var r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask)for(var i=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);n<i;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r;else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(-2),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error("Index out of range using input dim ".concat(n,"; input ")+"has only ".concat(t.dims," dims, ").concat(t.begin.length,"."));null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(-1),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(f,p);for(var h=!0,v=!0,m=!0,g=[],y=[],b=0;b<e.length;++b){if(0===p.strides[b])throw Error("strides[".concat(b,"] must be non-zero"));var x=!!(p.shrinkAxisMask&1<<b),k=e[b];if(-1!==k){var w=[p.beginMask&1<<b,p.endMask&1<<b],_=[p.strides[b]>0?0:-1,p.strides[b]>0?k:k-1];if(x&&p.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===p.strides[b];var S=!!(p.beginMask&1<<b&&p.endMask&1<<b);if(p.beginValid&&p.endValid){if(x){var T=p.begin[b]<0?k+p.begin[b]:p.begin[b];if(p.begin[b]=T,p.end[b]=p.begin[b]+1,T<0||T>=k)throw Error("slice index ".concat(p.begin[b]," of dimension ").concat(b," out of bounds."))}else p.begin[b]=qt(p.begin[b],0,p.strides[b],k,w,_),p.end[b]=qt(p.end[b],1,p.strides[b],k,w,_);var E=1===p.strides[b]&&0===p.begin[b]&&p.end[b]===k;h=h&&E,v=v&&(0===b&&1===p.strides[b]||E)}else h=h&&1===p.strides[b]&&S,v=v&&(0===b&&1===p.strides[b]||S);var C=void 0,O=!1;if(p.beginValid&&p.endValid?(C=p.end[b]-p.begin[b],O=!0):x?(C=1,O=!0):S&&k>=0&&(C=p.strides[b]<0?-k:k,O=!0),O){var A=void 0;A=0===C||C<0!==p.strides[b]<0?0:Math.trunc(C/p.strides[b])+(C%p.strides[b]!==0?1:0),g.push(A)}else g.push(-1)}else g.push(x?1:-1)}for(var I=0;I<p.finalShapeGatherIndices.length;++I){var R=p.finalShapeGatherIndices[I];R>=0?y.push(g[R]):-2===R&&y.push(1)}var N=y.filter((function(e,t){return-2!==p.finalShapeGatherIndices[t]}));return{finalShapeSparse:N,finalShape:y,isIdentity:h,sliceDim0:v,isSimpleSlice:m,begin:p.begin,end:p.end,strides:p.strides}}function qt(e,t,n,r,i,a){if(i[t])return n>0?a[t]:a[t+1&1];var o=e<0?r+e:e;return o<a[0]?a[0]:o>a[1]?a[1]:o}var Kt=function(){function e(){(0,k.Z)(this,e)}return(0,w.Z)(e,[{key:"getClassName",value:function(){return this.constructor.className}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),e}(),Yt=function(){function e(){(0,k.Z)(this,e),this.classNameMap={}}return(0,w.Z)(e,null,[{key:"getMap",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"register",value:function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]}}]),e}();function Xt(e){(0,A.hu)(null!=e.className,(function(){return"Class being registered does not have the static className property defined."})),(0,A.hu)("string"===typeof e.className,(function(){return"className is required to be a string, but got type "+typeof e.className})),(0,A.hu)(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),Yt.register(e)}var Qt=n(99064),Jt=n(70115),$t=.1;function en(e,t,n){return null==n&&(n=tn()),nn(e,t,(function(e,t){return sn(e,t,n)}))}function tn(){return 32===v.BV.backend.floatPrecision()?.001:$t}function nn(e,t,n){var r=!0;if(((0,A.fU)(e)||(0,A.fU)(t))&&(r=!1),(0,A.fU)(e)&&(0,A.fU)(t)&&(r=!0),r){var i=e.constructor.name,a=t.constructor.name;if(i!==a)throw new Error("Arrays are of different type. Actual: ".concat(i,". ")+"Expected: ".concat(a))}if(Array.isArray(e)&&Array.isArray(t)){var o=(0,ft.C)(e),s=(0,ft.C)(t);if(!(0,A.cO)(o,s))throw new Error("Arrays have different shapes. "+"Actual: [".concat(o,"]. Expected: [").concat(s,"]"))}var u=(0,A.fU)(e)?e:(0,A.xH)(e),c=(0,A.fU)(t)?t:(0,A.xH)(t);if(u.length!==c.length)throw new Error("Arrays have different lengths actual: ".concat(u.length," vs ")+"expected: ".concat(c.length,".\n")+"Actual:   ".concat(u,".\n")+"Expected: ".concat(c,"."));for(var l=0;l<c.length;++l){var f=u[l],d=c[l];if(!n(f,d))throw new Error("Arrays differ: actual[".concat(l,"] = ").concat(f,", expected[").concat(l,"] = ").concat(d,".\n")+"Actual:   ".concat(u,".\n")+"Expected: ".concat(c,"."))}}function rn(e,t){e().then((function(){return t.fail()}),(function(){return t()}))}function an(e,t){var n="string"===typeof t||"number"===typeof t||"boolean"===typeof t?[t]:t;return(0,A.HD)(e)||(0,A.HD)(e[0])||(0,A.HD)(t)||(0,A.HD)(t[0])?nn(e,n,(function(e,t){return e==t})):nn(e,t,(function(e,t){return sn(e,t,0)}))}function on(e,t,n){if(null==n&&(n=tn()),!sn(e,t,n))throw new Error("Numbers differ: actual === ".concat(e,", expected === ").concat(t))}function sn(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function un(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:".concat(e[r]," low: ").concat(t,", high: ").concat(n))}function cn(e,t){var n=new Float32Array(e),r=new Float32Array(t);if(n.length!==r.length)throw new Error("Expected ArrayBuffer to be of length "+"".concat(r.length,", but it was ").concat(n.length));for(var i=0;i<r.length;i++)if(n[i]!==r[i])throw new Error("Expected ArrayBuffer value at ".concat(i," to be ")+"".concat(r[i]," but got ").concat(n[i]," instead"))}function ln(e){for(var t=0;t<e.length;t++){var n=e[t];Array.isArray(n)?ln(n):e[t]=(0,Jt.encodeString)(n)}return e}var fn="3.18.0",dn=n(60136),pn=n(29388),hn=n(35875),vn=n(43312),mn=n(15750),gn=n(30651),yn=n(46902),bn=n(7391),xn=n(87293),kn=n(66450),wn=n(27067),_n=function(e){(0,dn.Z)(n,e);var t=(0,pn.Z)(n);function n(){return(0,k.Z)(this,n),t.apply(this,arguments)}return(0,w.Z)(n,[{key:"minimize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.computeGradients(e,n),i=r.value,a=r.grads;if(null!=n){var o=n.map((function(e){return{name:e.name,tensor:a[e.name]}}));this.applyGradients(o)}else this.applyGradients(a);return(0,hn.B9)(a),t?i:(i.dispose(),null)}},{key:"iterations",get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}},{key:"incrementIterations",value:function(){this.iterations_=this.iterations+1}},{key:"computeGradients",value:function(e,t){return(0,kn.pn)(e,t)}},{key:"dispose",value:function(){null!=this.iterations_&&(0,hn.B9)(this.iterations_)}},{key:"saveIterations",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==this.iterations_&&(this.iterations_=0),e.abrupt("return",{name:"iter",tensor:(0,wn.i)(this.iterations_,"int32")});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for this optimizer yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"extractIterations",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t[0].tensor.data();case 2:return this.iterations_=e.sent[0],e.abrupt("return",t.slice(1));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Kt);Object.defineProperty(_n,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var Sn=function(e){(0,dn.Z)(n,e);var t=(0,pn.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,k.Z)(this,n),(i=t.call(this)).learningRate=e,i.rho=r,i.epsilon=a,i.accumulatedGrads=[],i.accumulatedUpdates=[],null==a&&(i.epsilon=v.BV.backend.epsilon()),i}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=v.BV.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:"".concat(n,"/accum_grad"),variable:(0,hn.lu)((function(){return(0,xn.P)(i).variable(false)}))}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:"".concat(n,"/accum_var"),variable:(0,hn.lu)((function(){return(0,xn.P)(i).variable(false)}))});var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;(0,hn.lu)((function(){var e=(0,vn.I)((0,gn.d)(o,t.rho),(0,gn.d)((0,bn.h)(a),1-t.rho)),n=(0,gn.d)((0,mn.h)((0,yn._)((0,vn.I)(s,t.epsilon)),(0,yn._)((0,vn.I)(o,t.epsilon))),a),r=(0,vn.I)((0,gn.d)(s,t.rho),(0,gn.d)((0,bn.h)(n),1-t.rho));o.assign(e),s.assign(r);var u=(0,vn.I)((0,gn.d)(n,-t.learningRate),i);i.assign(u)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedUpdates&&((0,hn.B9)(this.accumulatedGrads.map((function(e){return e.variable}))),(0,hn.B9)(this.accumulatedUpdates.map((function(e){return e.variable}))))}},{key:"getWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){var t;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,Ue.Z)(this.accumulatedGrads),(0,Ue.Z)(this.accumulatedUpdates)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){var n;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=t.length/2,!1,this.accumulatedGrads=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedUpdates=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}]),n}(_n);Sn.className="Adadelta",Xt(Sn);var Tn=n(8582),En=function(e){(0,dn.Z)(n,e);var t=(0,pn.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return(0,k.Z)(this,n),(r=t.call(this)).learningRate=e,r.initialAccumulatorValue=i,r.accumulatedGrads=[],r}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=v.BV.registeredVariables[n];if(null==t.accumulatedGrads[r]){t.accumulatedGrads[r]={originalName:"".concat(n,"/accumulator"),variable:(0,hn.lu)((function(){return(0,Tn.h)(i.shape,t.initialAccumulatorValue).variable(false)}))}}var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedGrads[r].variable;(0,hn.lu)((function(){var e=(0,vn.I)(o,(0,bn.h)(a));o.assign(e);var n=(0,vn.I)((0,gn.d)((0,mn.h)(a,(0,yn._)((0,vn.I)(e,v.BV.backend.epsilon()))),-t.learningRate),i);i.assign(n)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedGrads&&(0,hn.B9)(this.accumulatedGrads.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(this.accumulatedGrads.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulatedGrads=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}]),n}(_n);En.className="Adagrad",Xt(En);var Cn=n(44334),On=n(84774),An=function(e){(0,dn.Z)(n,e);var t=(0,pn.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,k.Z)(this,n),(a=t.call(this)).learningRate=e,a.beta1=r,a.beta2=i,a.epsilon=o,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],(0,hn.lu)((function(){a.accBeta1=(0,wn.i)(r).variable(),a.accBeta2=(0,wn.i)(i).variable()})),null==o&&(a.epsilon=v.BV.backend.epsilon()),a}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);(0,hn.lu)((function(){var r=(0,On.l)(1,t.accBeta1),i=(0,On.l)(1,t.accBeta2);n.forEach((function(n,a){var o=v.BV.registeredVariables[n];null==t.accumulatedFirstMoment[a]&&(t.accumulatedFirstMoment[a]={originalName:"".concat(n,"/m"),variable:(0,hn.lu)((function(){return(0,xn.P)(o).variable(false)}))}),null==t.accumulatedSecondMoment[a]&&(t.accumulatedSecondMoment[a]={originalName:"".concat(n,"/v"),variable:(0,hn.lu)((function(){return(0,xn.P)(o).variable(false)}))});var s=Array.isArray(e)?e[a].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[a].variable,c=t.accumulatedSecondMoment[a].variable,l=(0,vn.I)((0,gn.d)(u,t.beta1),(0,gn.d)(s,1-t.beta1)),f=(0,vn.I)((0,gn.d)(c,t.beta2),(0,gn.d)((0,bn.h)(s),1-t.beta2)),d=(0,mn.h)(l,r),p=(0,mn.h)(f,i);u.assign(l),c.assign(f);var h=(0,vn.I)((0,gn.d)((0,mn.h)(d,(0,vn.I)((0,yn._)(p),t.epsilon)),-t.learningRate),o);o.assign(h)}})),t.accBeta1.assign((0,gn.d)(t.accBeta1,t.beta1)),t.accBeta2.assign((0,gn.d)(t.accBeta2,t.beta2))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&(0,hn.B9)(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedSecondMoment&&(0,hn.B9)(this.accumulatedSecondMoment.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){var t;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,Ue.Z)(this.accumulatedFirstMoment),(0,Ue.Z)(this.accumulatedSecondMoment)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){var n,r=this;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,(0,hn.lu)((function(){r.accBeta1.assign((0,Cn.s)(r.beta1,r.iterations_+1)),r.accBeta2.assign((0,Cn.s)(r.beta2,r.iterations_+1))})),n=t.length/2,!1,this.accumulatedFirstMoment=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedSecondMoment=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}]),n}(_n);An.className="Adam",Xt(An);var In=n(7613),Rn=n(70705),Nn=function(e){(0,dn.Z)(n,e);var t=(0,pn.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return(0,k.Z)(this,n),(a=t.call(this)).learningRate=e,a.beta1=r,a.beta2=i,a.epsilon=o,a.decay=s,a.accumulatedFirstMoment=[],a.accumulatedWeightedInfNorm=[],(0,hn.lu)((function(){a.iteration=(0,wn.i)(0).variable(),a.accBeta1=(0,wn.i)(r).variable()})),null==o&&(a.epsilon=v.BV.backend.epsilon()),a}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);(0,hn.lu)((function(){var r=(0,On.l)(1,t.accBeta1),i=(0,mn.h)(-t.learningRate,(0,vn.I)((0,gn.d)(t.iteration,t.decay),1));n.forEach((function(n,a){var o=v.BV.registeredVariables[n];null==t.accumulatedFirstMoment[a]&&(t.accumulatedFirstMoment[a]={originalName:"".concat(n,"/m"),variable:(0,xn.P)(o).variable(false)}),null==t.accumulatedWeightedInfNorm[a]&&(t.accumulatedWeightedInfNorm[a]={originalName:"".concat(n,"/v"),variable:(0,xn.P)(o).variable(false)});var s=Array.isArray(e)?e[a].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[a].variable,c=t.accumulatedWeightedInfNorm[a].variable,l=(0,vn.I)((0,gn.d)(u,t.beta1),(0,gn.d)(s,1-t.beta1)),f=(0,gn.d)(c,t.beta2),d=(0,In.W)(s),p=(0,Rn.g)(f,d);u.assign(l),c.assign(p);var h=(0,vn.I)((0,gn.d)((0,mn.h)(i,r),(0,mn.h)(l,(0,vn.I)(p,t.epsilon))),o);o.assign(h)}})),t.iteration.assign((0,vn.I)(t.iteration,1)),t.accBeta1.assign((0,gn.d)(t.accBeta1,t.beta1))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&(0,hn.B9)(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedWeightedInfNorm&&(0,hn.B9)(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}]),n}(_n);Nn.className="Adamax",Xt(Nn);var Pn=function(e){(0,dn.Z)(n,e);var t=(0,pn.Z)(n);function n(e){var r;return(0,k.Z)(this,n),(r=t.call(this)).learningRate=e,r.setLearningRate(e),r}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=v.BV.registeredVariables[n];(0,hn.lu)((function(){var e=(0,vn.I)((0,gn.d)(t.c,i),a);a.assign(e)}))}})),this.incrementIterations()}},{key:"setLearningRate",value:function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=(0,hn.Cn)((0,wn.i)(-e))}},{key:"dispose",value:function(){this.c.dispose()}},{key:"getWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:if(0===(t=e.sent).length){e.next=5;break}throw new Error("SGD optimizer does not have settable weights.");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate)}}]),n}(_n);Pn.className="SGD",Xt(Pn);var Mn=function(e){(0,dn.Z)(n,e);var t=(0,pn.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,k.Z)(this,n),(i=t.call(this,e)).learningRate=e,i.momentum=r,i.useNesterov=a,i.accumulations=[],i.m=(0,wn.i)(i.momentum),i}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=v.BV.registeredVariables[n];if(null==t.accumulations[r]){t.accumulations[r]={originalName:"".concat(n,"/momentum"),variable:(0,hn.lu)((function(){return(0,xn.P)(i).variable(false)}))}}var a=t.accumulations[r].variable,o=Array.isArray(e)?e[r].tensor:e[n];null!=o&&(0,hn.lu)((function(){var e,n=(0,vn.I)((0,gn.d)(t.m,a),o);e=t.useNesterov?(0,vn.I)((0,gn.d)(t.c,(0,vn.I)(o,(0,gn.d)(n,t.m))),i):(0,vn.I)((0,gn.d)(t.c,n),i),a.assign(n),i.assign(e)}))})),this.incrementIterations()}},{key:"dispose",value:function(){this.m.dispose(),null!=this.accumulations&&(0,hn.B9)(this.accumulations.map((function(e){return e.variable})))}},{key:"setMomentum",value:function(e){this.momentum=e}},{key:"getWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(this.accumulations.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulations=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}]),n}(Pn);Mn.className="Momentum",Xt(Mn);var Dn=function(e){(0,dn.Z)(n,e);var t=(0,pn.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,k.Z)(this,n),(r=t.call(this)).learningRate=e,r.decay=i,r.momentum=a,r.epsilon=o,r.accumulatedMeanSquares=[],r.accumulatedMoments=[],r.accumulatedMeanGrads=[],r.centered=s,null==o&&(r.epsilon=v.BV.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.");return r}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=v.BV.registeredVariables[n],a=!1;null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:"".concat(n,"/rms"),variable:(0,hn.lu)((function(){return(0,xn.P)(i).variable(a)}))}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:"".concat(n,"/momentum"),variable:(0,hn.lu)((function(){return(0,xn.P)(i).variable(a)}))}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:"".concat(n,"/mg"),variable:(0,hn.lu)((function(){return(0,xn.P)(i).variable(a)}))});var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var s=t.accumulatedMeanSquares[r].variable,u=t.accumulatedMoments[r].variable;(0,hn.lu)((function(){var e=(0,vn.I)((0,gn.d)(s,t.decay),(0,gn.d)((0,bn.h)(o),1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,a=(0,vn.I)((0,gn.d)(n,t.decay),(0,gn.d)(o,1-t.decay)),c=(0,mn.h)((0,gn.d)(o,t.learningRate),(0,yn._)((0,On.l)(e,(0,vn.I)((0,bn.h)(a),t.epsilon)))),l=(0,vn.I)((0,gn.d)(u,t.momentum),c);s.assign(e),n.assign(a),u.assign(l);var f=(0,On.l)(i,l);i.assign(f)}else{var d=(0,vn.I)((0,gn.d)(s,t.decay),(0,gn.d)((0,bn.h)(o),1-t.decay)),p=(0,vn.I)((0,gn.d)(u,t.momentum),(0,mn.h)((0,gn.d)(o,t.learningRate),(0,yn._)((0,vn.I)(d,t.epsilon))));s.assign(d),u.assign(p);var h=(0,On.l)(i,p);i.assign(h)}}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedMeanSquares&&(0,hn.B9)(this.accumulatedMeanSquares.map((function(e){return e.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&(0,hn.B9)(this.accumulatedMeanGrads.map((function(e){return e.variable}))),null!=this.accumulatedMoments&&(0,hn.B9)(this.accumulatedMoments.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(){var t;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,Ue.Z)(this.accumulatedMeanSquares),(0,Ue.Z)(this.accumulatedMoments)),this.centered&&t.push.apply(t,(0,Ue.Z)(this.accumulatedMeanGrads)),e.next=4,this.saveIterations();case 4:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,T.Z)((0,S.Z)().mark((function e(t){var n,r;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=this.centered?t.length/3:t.length/2,r=!1,this.accumulatedMeanSquares=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})),this.accumulatedMoments=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})),this.centered&&(this.accumulatedMeanGrads=t.slice(2*n,3*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}]),n}(_n);Dn.className="RMSProp",Xt(Dn);var Ln=function(){function e(){(0,k.Z)(this,e)}return(0,w.Z)(e,null,[{key:"sgd",value:function(e){return new Pn(e)}},{key:"momentum",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Mn(e,t,n)}},{key:"rmsprop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Dn(e,t,n,r,i)}},{key:"adam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new An(e,t,n,r)}},{key:"adadelta",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Sn(e,t,n)}},{key:"adamax",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return new Nn(e,t,n,r,i)}},{key:"adagrad",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return new En(e,t)}}]),e}(),jn=n(3525),Fn=n(13398),Zn=n(47627),Bn={sgd:Ln.sgd,momentum:Ln.momentum,adadelta:Ln.adadelta,adagrad:Ln.adagrad,rmsprop:Ln.rmsprop,adamax:Ln.adamax,adam:Ln.adam},Un="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof setImmediate?setImmediate:function(e){return e()};function Vn(){return new Promise((function(e){return Un((function(){return e()}))}))}var zn=n(88473);function Wn(e,t){var n=e[0].length;e.forEach((function(e,t){A.hu(e.length===n,(function(){return"Error in concat".concat(n,"D: rank of tensors[").concat(t,"] must be the same ")+"as the rank of the rest (".concat(n,")")}))})),A.hu(t>=0&&t<n,(function(){return"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,".")}));var r=e[0];e.forEach((function(e,i){for(var a=0;a<n;a++)A.hu(a===t||e[a]===r[a],(function(){return"Error in concat".concat(n,"D: Shape of tensors[").concat(i,"] (").concat(e,") ")+"does not match the shape of the rest (".concat(r,") ")+"along the non-concatenated axis ".concat(i,".")}))}))}function Hn(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}var Gn=n(39151),qn=n(5171),Kn=30;function Yn(e){return e<=Kn?e:(0,A.jP)(e,Math.floor(Math.sqrt(e)))}function Xn(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function Qn(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=[];if(r)(i=i.concat(t.slice(0))).push(e[0]/n),i=i.concat(e.slice(1));else{i=i.concat(e[0]);for(var a=t.length,o=0;o<a;++o)i=i.concat([e[o+1]/t[o],t[o]]);i=i.concat(e.slice(a+1))}return i}function Jn(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[];if(n){r.push(t);for(var i=t+1;i<e;++i)i<=2*t?(r.push(i),r.push(i-(t+1))):r.push(i)}else{for(var a=[],o=[],s=1;s<e;++s)s>=2*t+1||s%2===1?o.push(s):a.push(s);r.push.apply(r,a),r.push(0),r.push.apply(r,o)}return r}function $n(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=[];r?i.push(e[0]/n):i.push(e[0]*n);for(var a=1;a<e.length;++a)a<=t.length?r?i.push(t[a-1]*e[a]):i.push(e[a]/t[a-1]):i.push(e[a]);return i}function er(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function tr(e,t,n){for(var r=e.slice(0,1),i=0;i<n;++i)r.push(e[i+1]-t[i][0]-t[i][1]);return r}var nr=1.7580993408473768,rr=1.0507009873554805,ir=.3275911,ar=.254829592,or=-.284496736,sr=1.421413741,ur=-1.453152027,cr=1.061405429,lr=n(17269);function fr(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(e.length,", imag: ").concat(t.length,"."));for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function dr(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function pr(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),i=0;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}function hr(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),i=2;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}function vr(e,t){return{real:e[2*t],imag:e[2*t+1]}}function mr(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function gr(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),i=0;i<Math.ceil(e/2);i++){var a=(t?2:-2)*Math.PI*(i/e);n[i]=Math.cos(a),r[i]=Math.sin(a)}return{real:n,imag:r}}function yr(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}var br="->",xr=/->/g;function kr(e,t){var n=((e=e.replace(/\s/g,"")).length-e.replace(xr,"").length)/br.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("'.concat(br,'").'));var r=e.split(br),i=(0,E.Z)(r,2),a=i[0],o=i[1];(0,A.hu)(-1===a.indexOf("..."),(function(){return'The ellipsis notation ("'.concat("...",'") is not supported yet.')}));var s=a.split(","),u=s.length;if(t!==u)throw new Error("Expected ".concat(u," input tensors, received ").concat(t));if(u>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");for(var c=[],l=function(e){var t=o[e];if(!s.some((function(e){return-1!==e.indexOf(t)})))throw new Error("Output subscripts contain the label ".concat(t," ")+"not present in the input subscripts.");-1===c.indexOf(t)&&c.push(t)},f=0;f<o.length;++f)l(f);for(var d=0;d<a.length;++d){var p=a[d];-1===c.indexOf(p)&&","!==p&&c.push(p)}for(var h=new Array(s.length),v=0;v<u;++v){if(new Set(s[v].split("")).size!==s[v].length)throw new Error("Found duplicate axes in input component ".concat(s[v],". ")+"Support for duplicate axes in input is not implemented yet.");h[v]=[];for(var m=0;m<s[v].length;++m)h[v].push(c.indexOf(s[v][m]))}for(var g=c.length,y=[],b=o.length;b<g;++b)y.push(b);return{allDims:c,summedDims:y,idDims:h}}function wr(e,t){var n=new Array(e);n.fill(-1);for(var r=0;r<t.length;++r)n[t[r]]=r;for(var i=[],a=0;a<e;++a)-1===n[a]&&i.push(a);return{permutationIndices:n=n.filter((function(e){return-1!==e})),expandDims:i}}function _r(e,t,n){for(var r=new Array(e),i=function(e){for(var i=n[e].shape,a=function(n){void 0===r[t[e][n]]?r[t[e][n]]=i[n]:(0,A.hu)(r[t[e][n]]===i[n],(function(){return"Expected dimension ".concat(r[t[e][n]]," at axis ").concat(n," ")+"of input shaped ".concat(JSON.stringify(i),", ")+"but got dimension ".concat(i[n])}))},o=0;o<t[e].length;++o)a(o)},a=0;a<n.length;++a)i(a)}function Sr(e,t){var n,r=e,i=[];0===e.length&&r.push(-1),n=e.length+1;for(var a=0;a<n;++a)i.push([]);for(var o=[],s=0;s<r.length;++s){var u,c=Er(t,r[s]),l=(0,_.Z)(c);try{for(l.s();!(u=l.n()).done;){var f=u.value;-1===o.indexOf(f)&&(i[s].push(f),o.push(f))}}catch(Kr){l.e(Kr)}finally{l.f()}}return{path:r,steps:i}}function Tr(e){return e.every((function(e,t){return e===t}))}function Er(e,t){for(var n=[],r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function Cr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)(0,A.hu)(e.shape[n]%t===0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(e.shape[n]/t);else{var i=t.reduce((function(e,t){return-1===t&&(e+=1),e}),0);(0,A.hu)(i<=1,(function(){return"There should be only one negative value in split array."}));var a=t.indexOf(-1);if(-1!==a){var o=t.reduce((function(e,t){return t>0?e+t:e}));t[a]=e.shape[n]-o}(0,A.hu)(e.shape[n]===t.reduce((function(e,t){return e+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t}return r}function Or(e){return"Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ".concat(e)}function Ar(e,t){return"indices(".concat(e,", 0) is invalid: ").concat(t," < 0")}function Ir(e,t,n){return"indices(".concat(e,", 0) is invalid: ").concat(t," >= ").concat(n)}function Rr(e,t){return"only one output dimension may be -1, not both ".concat(e," and ").concat(t)}function Nr(e,t){return"size ".concat(e," must be non-negative, not ").concat(t)}function Pr(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function Mr(e,t){var n=(0,A.NA)(e),r=(0,A.NA)(t);return"Input to reshape is a SparseTensor with ".concat(n,"\n  dense values, but the requested shape requires a multiple of ").concat(r,". inputShape=").concat(e," outputShape= ").concat(t)}function Dr(e,t){var n=(0,A.NA)(e),r=(0,A.NA)(t);return"Input to reshape is a tensor with ".concat(n," dense values, but the requested shape has ").concat(r,". inputShape=").concat(e," outputShape=").concat(t)}function Lr(){return"segment ids must be >= 0"}function jr(){return"segment ids are not increasing"}function Fr(e,t){return"Segment id ".concat(e," out of range [0, ").concat(t,"), possibly because segmentIds input is not sorted.")}function Zr(e,t,n){return"Bad: indices[".concat(e,"] == ").concat(t," out of range [0, ").concat(n,")")}function Br(e,t){var n,r=!1;for(e<=Kn?(n=e,r=!0):n=(0,A.jP)(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=(0,A.jP)(e,n+1);return n}function Ur(e,t,n){for(var r=[],i=e.length,a=0;a<i;a++)a!==t?r.push(e[a]):r.push(n);return r}function Vr(e,t,n,r){var i=t.shape.length,a=e.shape.length;if(0!==r&&(r<-i||r>i))throw new Error("Expect batchDims in the range of [-".concat(i,", ").concat(i,"], but got ").concat(r));if(r<0&&(r+=i),r>a)throw new Error("batchDims (".concat(r,") must be less than rank(x) (\n    ").concat(a,")."));if(n<r)throw new Error("batchDims (".concat(r,") must be less than or equal to axis (").concat(n,")."));for(var o=0;o<r;++o)if(e.shape[o]!==t.shape[o])throw new Error("x.shape[".concat(o,"]: ").concat(e.shape[o]," should be equal to indices.shape[").concat(o,"]: ").concat(t.shape[o],"."));for(var s=e.shape[n],u=[],c=1,l=1,f=1,d=0;d<r;++d)u.push(e.shape[d]),c*=e.shape[d];for(var p=r;p<n;p++)u.push(e.shape[p]),l*=e.shape[p];for(var h=r;h<i;h++)u.push(t.shape[h]);for(var v=n+1;v<a;v++)u.push(e.shape[v]),f*=e.shape[v];return{batchSize:c,sliceSize:f,outerSize:l,dimSize:s,outputShape:u}}function zr(e){try{return e.map((function(e){return(0,Jt.decodeString)(e)}))}catch(Kr){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(Kr))}}function Wr(e){return e.map((function(e){return(0,Jt.encodeString)(e)}))}var Hr=n(60745),Gr=n(24189),qr=n(54679)},32145:function(e,t,n){"use strict";n.d(t,{$H:function(){return ft},$g:function(){return $},$w:function(){return K},Ac:function(){return me},BM:function(){return je},By:function(){return B},CA:function(){return Te},D2:function(){return Ut},Dl:function(){return ut},Eh:function(){return R},FK:function(){return Nt},G3:function(){return en},GB:function(){return Pt},Gc:function(){return Lt},HE:function(){return te},HZ:function(){return pt},Hh:function(){return De},Hm:function(){return vt},IK:function(){return c},IM:function(){return x},J$:function(){return _e},J_:function(){return be},Jh:function(){return g},Kg:function(){return at},L8:function(){return Dt},Ly:function(){return S},M2:function(){return d},MI:function(){return Xt},MR:function(){return Rt},MZ:function(){return Re},NE:function(){return ie},NZ:function(){return Ke},O3:function(){return jt},OA:function(){return Be},OR:function(){return le},OU:function(){return Ue},OV:function(){return Ze},Om:function(){return ne},Oy:function(){return v},PY:function(){return Ae},Ph:function(){return St},QC:function(){return m},QR:function(){return z},Qg:function(){return ye},Qi:function(){return rt},Qv:function(){return rn},RF:function(){return E},RO:function(){return y},RQ:function(){return Ct},Ru:function(){return on},SX:function(){return ee},SY:function(){return r},Sb:function(){return yt},Sp:function(){return a},T0:function(){return W},TQ:function(){return Mt},TR:function(){return Z},To:function(){return nn},Tr:function(){return Kt},Uy:function(){return ce},VG:function(){return i},Vb:function(){return qe},Vc:function(){return V},Vf:function(){return Ie},Vn:function(){return Q},W0:function(){return et},XD:function(){return an},XL:function(){return k},Xk:function(){return qt},Xz:function(){return s},Y0:function(){return oe},YF:function(){return ae},YW:function(){return Zt},Yo:function(){return Le},Zb:function(){return Ce},Zj:function(){return Bt},Zz:function(){return A},_J:function(){return Ht},_V:function(){return fn},_Y:function(){return mt},_k:function(){return b},_t:function(){return Vt},a5:function(){return It},aJ:function(){return f},av:function(){return xe},b9:function(){return cn},bK:function(){return zt},bV:function(){return kt},c1:function(){return We},cW:function(){return Jt},ci:function(){return H},cy:function(){return $e},de:function(){return ue},dp:function(){return ht},e0:function(){return xt},e6:function(){return ct},e7:function(){return Ee},eB:function(){return un},eE:function(){return T},eZ:function(){return Me},ek:function(){return X},gJ:function(){return C},h8:function(){return sn},hd:function(){return re},i5:function(){return At},iH:function(){return U},iJ:function(){return ge},iW:function(){return ke},iZ:function(){return ve},ik:function(){return j},jM:function(){return h},jQ:function(){return Ge},je:function(){return fe},kU:function(){return Oe},kp:function(){return tn},ku:function(){return Xe},lu:function(){return dn},ly:function(){return it},m2:function(){return Wt},mK:function(){return bt},mT:function(){return Fe},mc:function(){return F},mh:function(){return N},mm:function(){return o},n9:function(){return Qt},nh:function(){return Ft},nr:function(){return _t},o0:function(){return st},o2:function(){return L},oF:function(){return Tt},oH:function(){return J},oT:function(){return u},p2:function(){return Et},p4:function(){return Y},pe:function(){return ot},q1:function(){return he},q2:function(){return ze},q8:function(){return He},qC:function(){return Ne},qI:function(){return Pe},qW:function(){return tt},qi:function(){return pe},qk:function(){return dt},qw:function(){return p},r7:function(){return we},s1:function(){return Gt},sE:function(){return Yt},sH:function(){return de},sJ:function(){return l},sL:function(){return G},us:function(){return ln},uv:function(){return Je},vF:function(){return Ve},vt:function(){return Se},vw:function(){return se},w3:function(){return Ot},wU:function(){return P},wY:function(){return Ye},we:function(){return nt},wm:function(){return M},wx:function(){return $t},x1:function(){return D},xJ:function(){return lt},xQ:function(){return wt},xn:function(){return O},y7:function(){return q},yQ:function(){return Qe},yj:function(){return I},zb:function(){return gt},zv:function(){return _},zw:function(){return w}});var r="Abs",i="Acos",a="Acosh",o="Add",s="AddN",u="All",c="Any",l="ArgMax",f="ArgMin",d="Asin",p="Asinh",h="Atan",v="Atanh",m="Atan2",g="AvgPool",y="AvgPoolGrad",b="AvgPool3D",x="AvgPool3DGrad",k="BatchMatMul",w="BatchToSpaceND",_="Bincount",S="BroadcastTo",T="BroadcastArgs",E="Cast",C="Ceil",O="ClipByValue",A="Complex",I="ComplexAbs",R="Concat",N="Conv2D",P="Conv2DBackpropFilter",M="Conv2DBackpropInput",D="Conv3D",L="Conv3DBackpropFilterV2",j="Conv3DBackpropInputV2",F="Cos",Z="Cosh",B="Cumprod",U="Cumsum",V="CropAndResize",z="DenseBincount",W="DepthToSpace",H="DepthwiseConv2dNative",G="DepthwiseConv2dNativeBackpropFilter",q="DepthwiseConv2dNativeBackpropInput",K="Diag",Y="Dilation2D",X="Dilation2DBackpropInput",Q="Dilation2DBackpropFilter",J="RealDiv",$="Einsum",ee="Elu",te="EluGrad",ne="Erf",re="Equal",ie="Exp",ae="ExpandDims",oe="Expm1",se="FFT",ue="Fill",ce="FlipLeftRight",le="Floor",fe="FloorDiv",de="FusedBatchNorm",pe="GatherV2",he="GatherNd",ve="Greater",me="GreaterEqual",ge="Identity",ye="IFFT",be="Imag",xe="IsFinite",ke="IsInf",we="IsNan",_e="LeakyRelu",Se="Less",Te="LessEqual",Ee="LinSpace",Ce="Log",Oe="Log1p",Ae="LogicalAnd",Ie="LogicalNot",Re="LogicalOr",Ne="LogSoftmax",Pe="LowerBound",Me="LRN",De="LRNGrad",Le="Max",je="Maximum",Fe="MaxPool",Ze="MaxPoolGrad",Be="MaxPool3D",Ue="MaxPool3DGrad",Ve="MaxPoolWithArgmax",ze="Mean",We="Min",He="Minimum",Ge="MirrorPad",qe="Mod",Ke="Multinomial",Ye="Multiply",Xe="Neg",Qe="NotEqual",Je="NonMaxSuppressionV3",$e="NonMaxSuppressionV4",et="NonMaxSuppressionV5",tt="OnesLike",nt="OneHot",rt="Pack",it="PadV2",at="Pool",ot="Pow",st="Prelu",ut="Prod",ct="Range",lt="Real",ft="Reciprocal",dt="Relu",pt="Reshape",ht="ResizeNearestNeighbor",vt="ResizeNearestNeighborGrad",mt="ResizeBilinear",gt="ResizeBilinearGrad",yt="Relu6",bt="Reverse",xt="Round",kt="Rsqrt",wt="ScatterNd",_t="SearchSorted",St="Select",Tt="Selu",Et="Slice",Ct="Sin",Ot="Sinh",At="Sign",It="Sigmoid",Rt="Softplus",Nt="Sqrt",Pt="Sum",Mt="SpaceToBatchND",Dt="SplitV",Lt="Softmax",jt="SparseFillEmptyRows",Ft="SparseReshape",Zt="SparseSegmentMean",Bt="SparseSegmentSum",Ut="SparseToDense",Vt="SquaredDifference",zt="Square",Wt="StridedSlice",Ht="StringNGrams",Gt="StringSplit",qt="StringToHashBucketFast",Kt="Sub",Yt="Tan",Xt="Tanh",Qt="Tile",Jt="TopK",$t="Transform",en="Transpose",tn="Unique",nn="Unpack",rn="UnsortedSegmentSum",an="UpperBound",on="ZerosLike",sn="Step",un="FromPixels",cn="RotateWithOffset",ln="_FusedMatMul",fn="FusedConv2D",dn="FusedDepthwiseConv2D"},78864:function(e,t,n){"use strict";n.d(t,{Li:function(){return p},T3:function(){return m},bt:function(){return v},nE:function(){return h},pI:function(){return c},tr:function(){return f},uk:function(){return l},wC:function(){return d}});var r=n(29439),i=n(35050),a=n(96581),o=n(17269),s=(0,a.R)("kernelRegistry",(function(){return new Map})),u=(0,a.R)("gradRegistry",(function(){return new Map}));function c(e,t){var n=g(e,t);return s.get(n)}function l(e){return u.get(e)}function f(e){for(var t=s.entries(),n=[];;){var i=t.next(),a=i.done,o=i.value;if(a)break;var u=(0,r.Z)(o,2),c=u[0],l=u[1],f=c.split("_");(0,r.Z)(f,1)[0]===e&&n.push(l)}return n}function d(e){var t=e.kernelName,n=e.backendName,r=g(t,n);s.has(r)&&o.Z("The kernel '".concat(t,"' for backend ")+"'".concat(n,"' is already registered")),s.set(r,e)}function p(e){var t=e.kernelName;u.has(t)&&(0,i.OB)().getBool("DEBUG")&&o.Z("Overriding the gradient for '".concat(t,"'")),u.set(t,e)}function h(e,t){var n=g(e,t);if(!s.has(n))throw new Error("The kernel '".concat(e,"' for backend ")+"'".concat(t,"' is not registered"));s.delete(n)}function v(e){if(!u.has(e))throw new Error("The gradient '".concat(e,"' for backend is not registered"));u.delete(e)}function m(e,t){f(e).forEach((function(e){d(Object.assign({},e,{backendName:t}))}))}function g(e,t){return"".concat(t,"_").concat(e)}},17269:function(e,t,n){"use strict";n.d(t,{Z:function(){return i},c:function(){return a}});var r=n(35050);function i(){var e;(0,r.OB)().getBool("IS_TEST")||(0,r.OB)().getBool("PROD")||(e=console).warn.apply(e,arguments)}function a(){var e;(0,r.OB)().getBool("IS_TEST")||(0,r.OB)().getBool("PROD")||(e=console).log.apply(e,arguments)}},7613:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({abs_:function(e){var t=(0,a._1)(e,"x","abs");if("complex64"===t.dtype){var n={x:t};return r.BV.runKernel(i.yj,n)}var o={x:t};return r.BV.runKernel(i.SY,o)}})},1719:function(e,t,n){"use strict";n.d(t,{K:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({acos_:function(e){var t={x:(0,a._1)(e,"x","acos")};return r.BV.runKernel(i.VG,t)}})},24502:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({acosh_:function(e){var t={x:(0,a._1)(e,"x","acosh")};return r.BV.runKernel(i.Sp,t)}})},43312:function(e,t,n){"use strict";n.d(t,{I:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({add_:function(e,t){var n=(0,s._1)(e,"a","add"),u=(0,s._1)(t,"b","add"),c=(0,o.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),f={a:n=l[0],b:u=l[1]};return i.BV.runKernel(a.mm,f)}})},15506:function(e,t,n){"use strict";n.d(t,{Q:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({addN_:function(e){o.hu(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),o.hu(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+"".concat(e.length)}));var t=e.map((function(e,t){return(0,a._1)(e,"tensors".concat(t),"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!o.cO(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var s=t;return r.BV.runKernel(i.Xz,s)}})},14108:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({all_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,a._1)(e,"x","all","bool"),s={x:o},u={axis:t,keepDims:n};return r.BV.runKernel(i.oT,s,u)}})},58543:function(e,t,n){"use strict";n.d(t,{Y:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({any_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,a._1)(e,"x","any","bool"),s={x:o},u={axis:t,keepDims:n};return r.BV.runKernel(i.IK,s,u)}})},29995:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({argMax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,a._1)(e,"x","argMax"),o={x:n},s={axis:t};return r.BV.runKernel(i.sJ,o,s)}})},95157:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({argMin_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,a._1)(e,"x","argMin"),o={x:n},s={axis:t};return r.BV.runKernel(i.aJ,o,s)}})},33053:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({asin_:function(e){var t={x:(0,a._1)(e,"x","asin")};return r.BV.runKernel(i.M2,t)}})},30054:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({asinh_:function(e){var t={x:(0,a._1)(e,"x","asinh")};return r.BV.runKernel(i.qw,t)}})},64778:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({atan_:function(e){var t={x:(0,a._1)(e,"x","atan")};return r.BV.runKernel(i.jM,t)}})},32227:function(e,t,n){"use strict";n.d(t,{f:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({atan2_:function(e,t){var n=(0,s._1)(e,"a","atan2"),u=(0,s._1)(t,"b","atan2"),c=(0,o.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),f={a:n=l[0],b:u=l[1]};return i.BV.runKernel(a.QC,f)}})},47897:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({atanh_:function(e){var t={x:(0,a._1)(e,"x","atanh")};return r.BV.runKernel(i.Oy,t)}})},49204:function(e,t,n){"use strict";n.d(t,{w:function(){return f}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(99118),u=n(39151),c=n(38640),l=n(75561);var f=(0,c.op)({avgPool_:function(e,t,n,c,f){var d=(0,a._1)(e,"x","avgPool","float32");o.hu(u.jT(n,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")}));var p=d,h=!1;3===d.rank&&(h=!0,p=(0,l.X)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),o.hu(4===p.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank ".concat(p.rank,".")})),u.m("avgPool",c,f);var v={x:p},m={filterSize:t,strides:n,pad:c,dimRoundingMode:f},g=r.BV.runKernel(i.Jh,v,m);return g=(0,s.p)(g,d.dtype),h?(0,l.X)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},65840:function(e,t,n){"use strict";n.d(t,{u:function(){return f}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(39151),u=n(99118),c=n(38640),l=n(75561);var f=(0,c.op)({avgPool3d_:function(e,t,n,c,f){var d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",p=(0,a._1)(e,"x","avgPool3d","float32"),h=p,v=!1;4===p.rank&&(v=!0,h=(0,l.X)(p,[1,p.shape[0],p.shape[1],p.shape[2],p.shape[3]])),o.hu(5===h.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank ".concat(h.rank,".")})),o.hu("NDHWC"===d,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(d)})),(0,s.m)("avgPool3d",c,f);var m={x:h},g={filterSize:t,strides:n,pad:c,dimRoundingMode:f,dataFormat:d},y=r.BV.runKernel(i._k,m,g);return y=(0,u.p)(y,h.dtype),v?(0,l.X)(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}})},88473:function(e,t,n){"use strict";n.d(t,{LJ:function(){return l},Q3:function(){return c},Vh:function(){return a},YB:function(){return i},kz:function(){return o},lB:function(){return u},rv:function(){return s},sY:function(){return f}});var r=n(36147);function i(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function a(e,t,n){for(var r=e.length+t.length,i=[],a=0,o=0,s=0;s<r;s++)-1===n.indexOf(s)?i.push(e[a++]):i.push(t[o++]);return i}function o(e,t){for(var n=[],r=e.length,i=0;i<r;i++)-1===t.indexOf(i)&&n.push(e[i]);var a=t.map((function(t){return e[t]}));return[n,a]}function s(e,t){return a(e,t.map((function(e){return 1})),t)}function u(e,t,n){r.hu(i(t,n),(function(){return"".concat(e," supports only inner-most axes for now. ")+"Got axes ".concat(t," and rank-").concat(n," input.")}))}function c(e,t){if(i(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((function(e){return n.push(e)})),n}function l(e){return e.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function f(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}},36994:function(e,t,n){"use strict";n.d(t,{E:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({batchToSpaceND_:function(e,t,n){var s=(0,a._1)(e,"x","batchToSpaceND"),u=t.reduce((function(e,t){return e*t}));o.hu(s.rank>=1+t.length,(function(){return"input rank is ".concat(s.rank," but should be > than blockShape.length ").concat(t.length)})),o.hu(n.length===t.length,(function(){return"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(t.length)})),o.hu(s.shape[0]%u===0,(function(){return"input tensor batch is ".concat(s.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(u)}));var c={x:s},l={blockShape:t,crops:n};return r.BV.runKernel(i.zw,c,l)}})},63700:function(e,t,n){"use strict";n.d(t,{t:function(){return u}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(75561);var u=(0,n(38640).op)({batchNorm_:function(e,t,n,u,c,l){null==l&&(l=.001);var f,d,p=(0,a._1)(e,"x","batchNorm"),h=(0,a._1)(t,"mean","batchNorm"),v=(0,a._1)(n,"variance","batchNorm");null!=c&&(f=(0,a._1)(c,"scale","batchNorm")),null!=u&&(d=(0,a._1)(u,"offset","batchNorm")),o.hu(h.rank===v.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),o.hu(null==d||h.rank===d.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),o.hu(null==f||h.rank===f.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var m=function(e){return 0===e.rank||1===e.rank?(0,s.X)(e,[1,1,1,e.size]):2===e.rank?(0,s.X)(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?(0,s.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e}(p),g={x:m,scale:f,offset:d,mean:h,variance:v},y={varianceEpsilon:l},b=r.BV.runKernel(i.sH,g,y);return(0,s.X)(b,p.shape)}})},77531:function(e,t,n){"use strict";n.d(t,{y:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({bincount_:function(e,t,n){var s=(0,a._1)(e,"x","bincount"),u=(0,a._1)(t,"weights","bincount");o.hu("int32"===s.dtype,(function(){return"Error in bincount: input "+"dtype must be int32, but got ".concat(s.dtype)})),o.hu(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),o.hu(u.size===s.size||0===u.size,(function(){return"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(s.shape,", weights shape: ")+"".concat(u.shape,".")}));var c={x:s,weights:u},l={size:n};return r.BV.runKernel(i.zv,c,l)}})},80238:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({broadcastArgs_:function(e,t){var n=(0,a._1)(e,"s0","broadcastArgs","int32"),o=(0,a._1)(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(n.rank));if(1!==o.rank)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(o.rank));var s={s0:n,s1:o};return r.BV.runKernel(i.eE,s)}})},49742:function(e,t,n){"use strict";n.d(t,{U:function(){return c}});var r=n(70318),i=n(32145),a=n(48354),o=n(10672),s=n(38640),u=n(75561);var c=(0,s.op)({broadcastTo_:function(e,t){var n=(0,a._1)(e,"broadcastTo","x"),s=n.shape;if(t.some((function(e){return!(e>0)||e%1!==0})))throw new Error("broadcastTo(): Invalid broadcast shape [".concat(t,"]."));if(t.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(n.rank,"."));if(t.length>n.rank){for(var c=n.shape.slice();c.length<t.length;)c.unshift(1);n=(0,u.X)(n,c)}for(var l=n.shape,f=Array.from(t),d=t.length-1;d>=0;d--)if(l[d]===t[d])f[d]=1;else if(1!==n.shape[d])throw new Error("broadcastTo(): [".concat(s,"] cannot be broadcast to [").concat(t,"]."));var p=f.map((function(e,t){return e>1?t:-1})).filter((function(e){return e>=0}));if(0===p.length)return(0,o.d)(n);var h={x:n},v={reps:f};return r.BV.runKernel(i.n9,h,v)}})},45774:function(e,t,n){"use strict";function r(e,t){for(var n=e.length,r=[],i=0;i<n;i++){var a=n-1-i,o=e[a]||1;(t[t.length-1-i]||1)>1&&1===o&&r.unshift(a)}return r}function i(e,t){for(var n=[],r=0;r<t.length;r++){var i=e[e.length-r-1],a=t.length-r-1,o=t[a];(null==i||1===i&&o>1)&&n.unshift(a)}return n}function a(e,t){for(var n=[],r=Math.max(e.length,t.length),i=0;i<r;i++){var a=e[e.length-i-1];null==a&&(a=1);var o=t[t.length-i-1];if(null==o&&(o=1),1===a)n.unshift(o);else if(1===o)n.unshift(a);else{if(a!==o){var s="Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,".");throw Error(s)}n.unshift(a)}}return n}n.r(t),n.d(t,{assertAndGetBroadcastShape:function(){return a},getBroadcastDims:function(){return r},getReductionAxes:function(){return i}})},77039:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});var r=n(4376),i=n(36147);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",i.Mu(e),new r.YD(e,t,n)}},99118:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({cast_:function(e,t){var n=(0,a._1)(e,"x","cast");if(!o.LP(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var s={x:n},u={dtype:t};return r.BV.runKernel(i.RF,s,u)}})},31396:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({ceil_:function(e){var t={x:(0,a._1)(e,"x","ceil","float32")};return r.BV.runKernel(i.gJ,t)}})},89836:function(e,t,n){"use strict";n.d(t,{i:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({clipByValue_:function(e,t,n){var s=(0,a._1)(e,"x","clipByValue");o.hu(t<=n,(function(){return"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(n,").")}));var u={x:s},c={clipValueMin:t,clipValueMax:n};return r.BV.runKernel(i.xn,u,c)}})},10672:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({clone_:function(e){var t={x:(0,a._1)(e,"x","clone","string_or_numeric")};return r.BV.runKernel(i.iJ,t)}})},59253:function(e,t,n){"use strict";n.d(t,{P:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({complex_:function(e,t){var n=(0,a._1)(e,"real","complex"),s=(0,a._1)(t,"imag","complex");o.k5(n.shape,s.shape,"real and imag shapes, ".concat(n.shape," and ").concat(s.shape,", ")+"must match in call to tf.complex().");var u={real:n,imag:s};return r.BV.runKernel(i.Zz,u)}})},34836:function(e,t,n){"use strict";n.d(t,{z:function(){return u}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(10672);var u=(0,n(38640).op)({concat_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,o.hu)(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=(0,a.sI)(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(e.dtype,". "))})),1===n.length)return(0,s.d)(n[0]);var u=n,c={axis:t};return r.BV.runKernel(i.Eh,u,c)}})},44918:function(e,t,n){"use strict";n.d(t,{P:function(){return c}});var r=n(48354),i=n(36147),a=n(93457),o=n(39151),s=n(38640),u=n(75561);var c=(0,s.op)({conv1d_:function(e,t,n,s){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,f=arguments.length>6?arguments[6]:void 0,d=(0,r._1)(e,"x","conv1d"),p=(0,r._1)(t,"filter","conv1d"),h=d,v=!1;2===d.rank&&(v=!0,h=(0,u.X)(d,[1,d.shape[0],d.shape[1]])),i.hu(3===h.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank ".concat(h.rank,".")})),i.hu(3===p.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+"".concat(p.rank,".")})),o.m("conv1d",s,f),i.hu(h.shape[2]===p.shape[1],(function(){return"Error in conv1d: depth of input (".concat(h.shape[2],") must match ")+"input depth for filter ".concat(p.shape[1],".")})),i.hu(o.jT(n,l),(function(){return"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(l,"'")})),i.hu("NWC"===c,(function(){return"Error in conv1d: got dataFormat of ".concat(c," but only NWC is currently supported.")}));var m=(0,u.X)(p,[1,p.shape[0],p.shape[1],p.shape[2]]),g=(0,u.X)(h,[h.shape[0],1,h.shape[1],h.shape[2]]),y=[1,n],b=[1,l],x="NHWC",k=(0,a.T)(g,m,y,s,x,b,f);return v?(0,u.X)(k,[k.shape[2],k.shape[3]]):(0,u.X)(k,[k.shape[0],k.shape[2],k.shape[3]])}})},93457:function(e,t,n){"use strict";n.d(t,{T:function(){return l}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(39151),u=n(38640),c=n(75561);var l=(0,u.op)({conv2d_:function(e,t,n,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],d=arguments.length>6?arguments[6]:void 0,p=(0,a._1)(e,"x","conv2d","float32"),h=(0,a._1)(t,"filter","conv2d","float32"),v=p,m=!1;3===p.rank&&(m=!0,v=(0,c.X)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),o.hu(4===v.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank ".concat(v.rank,".")})),o.hu(4===h.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+"".concat(h.rank,".")})),s.m("conv2d",u,d);var g="NHWC"===l?v.shape[3]:v.shape[1];o.hu(g===h.shape[2],(function(){return"Error in conv2d: depth of input (".concat(g,") must match ")+"input depth for filter ".concat(h.shape[2],".")})),o.hu(s.jT(n,f),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(f,"'")}));var y={x:v,filter:h},b={strides:n,pad:u,dataFormat:l,dilations:f,dimRoundingMode:d},x=r.BV.runKernel(i.mh,y,b);return m?(0,c.X)(x,[x.shape[1],x.shape[2],x.shape[3]]):x}})},21045:function(e,t,n){"use strict";n.d(t,{_:function(){return c}});var r=n(70318),i=n(32145),a=n(36147),o=n(39151),s=n(38640),u=n(75561);var c=(0,s.op)({conv2DBackpropInput_:function(e,t,n,s,c){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",f=arguments.length>6?arguments[6]:void 0;a.hu(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var d=e,p=t,h=!1;3===t.rank&&(h=!0,p=(0,u.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]),d=[1,e[0],e[1],e[2]]),a.hu(4===d.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(d.length,".")})),a.hu(4===p.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(p.rank)})),a.hu(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank)}));var v="NHWC"===l?d[3]:d[1],m="NHWC"===l?p.shape[3]:p.shape[1];a.hu(v===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input (".concat(v,") must ")+"match input depth for filter ".concat(n.shape[2],".")})),a.hu(m===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output (".concat(m,") must ")+"match output depth for filter ".concat(n.shape[3],".")})),o.m("conv2dDerInput",c,f);var g={dy:p,filter:n},y={strides:s,pad:c,dataFormat:l,dimRoundingMode:f,inputShape:d},b=r.BV.runKernel(i.wm,g,y);return h?(0,u.X)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},71732:function(e,t,n){"use strict";n.d(t,{b:function(){return a}});var r=n(48354),i=n(21045);var a=(0,n(38640).op)({conv2dTranspose_:function(e,t,n,a,o,s){var u=(0,r._1)(e,"x","conv2dTranspose"),c=(0,r._1)(t,"filter","conv2dTranspose");return(0,i._)(n,u,c,a,o,"NHWC",s)}})},48113:function(e,t,n){"use strict";n.d(t,{p:function(){return l}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(39151),u=n(38640),c=n(75561);var l=(0,u.op)({conv3d_:function(e,t,n,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1],d=(0,a._1)(e,"x","conv3d"),p=(0,a._1)(t,"filter","conv3d"),h=d,v=!1;4===d.rank&&(v=!0,h=(0,c.X)(d,[1,d.shape[0],d.shape[1],d.shape[2],d.shape[3]])),o.hu(5===h.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank ".concat(h.rank,".")})),o.hu(5===p.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+"".concat(p.rank,".")})),o.hu(h.shape[4]===p.shape[3],(function(){return"Error in conv3d: depth of input (".concat(h.shape[4],") must match ")+"input depth for filter ".concat(p.shape[3],".")})),o.hu((0,s.jT)(n,f),(function(){return"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(f,"'")})),o.hu("NDHWC"===l,(function(){return"Error in conv3d: got dataFormat of ".concat(l," but only NDHWC is currently supported.")}));var m={x:h,filter:p},g={strides:n,pad:u,dataFormat:l,dilations:f},y=r.BV.runKernel(i.x1,m,g);return v?(0,c.X)(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}})},39151:function(e,t,n){"use strict";n.d(t,{I0:function(){return y},Ix:function(){return c},Rf:function(){return o},Xw:function(){return s},aO:function(){return f},jT:function(){return b},jw:function(){return l},m:function(){return k},pl:function(){return u},sl:function(){return x}});var r=n(29439),i=n(93433),a=n(36147);function o(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5?arguments[5]:void 0,s=e[3],u=[].concat((0,i.Z)(t),[s]),l=x(a);return c(e,u,n,o,r,null,null,l)}function s(e,t,n,i,a,o){var s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",l=d(t),f=(0,r.Z)(l,2),p=f[0],h=f[1];if("channelsLast"===u)s=[p,h,e[3],e[3]];else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat ".concat(u));s=[p,h,e[1],e[1]]}return c(e,s,n,i,a,o,!1,u)}function u(e,t,n,i,a,o){var s,u,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC",f=p(t),d=(0,r.Z)(f,3),h=d[0],v=d[1],m=d[2];if("NDHWC"===c)u="channelsLast",s=[h,v,m,e[4],e[4]];else{if("NCDHW"!==c)throw new Error("Unknown dataFormat ".concat(c));u="channelsFirst",s=[h,v,m,e[1],e[1]]}return l(e,s,n,i,a,!1,u,o)}function c(e,t,n,i,a,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",c=-1,l=-1,f=-1,p=-1;if("channelsLast"===u){var m=(0,r.Z)(e,4);c=m[0],l=m[1],f=m[2],p=m[3]}else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat ".concat(u));var g=(0,r.Z)(e,4);c=g[0],p=g[1],l=g[2],f=g[3]}var y,b=(0,r.Z)(t,4),x=b[0],k=b[1],w=b[3],_=d(n),S=(0,r.Z)(_,2),T=S[0],E=S[1],C=d(i),O=(0,r.Z)(C,2),A=O[0],I=O[1],R=h(x,A),N=h(k,I),P=v(a,l,f,T,E,R,N,o,u),M=P.padInfo,D=P.outHeight,L=P.outWidth,j=s?w*p:w;return"channelsFirst"===u?y=[c,j,D,L]:"channelsLast"===u&&(y=[c,D,L,j]),{batchSize:c,dataFormat:u,inHeight:l,inWidth:f,inChannels:p,outHeight:D,outWidth:L,outChannels:j,padInfo:M,strideHeight:T,strideWidth:E,filterHeight:x,filterWidth:k,effectiveFilterHeight:R,effectiveFilterWidth:N,dilationHeight:A,dilationWidth:I,inShape:e,outShape:y,filterShape:t}}function l(e,t,n,i,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",u=arguments.length>7?arguments[7]:void 0,c=-1,l=-1,f=-1,d=-1,v=-1;if("channelsLast"===s){var g=(0,r.Z)(e,5);c=g[0],l=g[1],f=g[2],d=g[3],v=g[4]}else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));var y=(0,r.Z)(e,5);c=y[0],v=y[1],l=y[2],f=y[3],d=y[4]}var b,x=(0,r.Z)(t,5),k=x[0],w=x[1],_=x[2],S=x[4],T=p(n),E=(0,r.Z)(T,3),C=E[0],O=E[1],A=E[2],I=p(i),R=(0,r.Z)(I,3),N=R[0],P=R[1],M=R[2],D=h(k,N),L=h(w,P),j=h(_,M),F=m(a,l,f,d,C,O,A,D,L,j,u),Z=F.padInfo,B=F.outDepth,U=F.outHeight,V=F.outWidth,z=o?S*v:S;return"channelsFirst"===s?b=[c,z,B,U,V]:"channelsLast"===s&&(b=[c,B,U,V,z]),{batchSize:c,dataFormat:s,inDepth:l,inHeight:f,inWidth:d,inChannels:v,outDepth:B,outHeight:U,outWidth:V,outChannels:z,padInfo:Z,strideDepth:C,strideHeight:O,strideWidth:A,filterDepth:k,filterHeight:w,filterWidth:_,effectiveFilterDepth:D,effectiveFilterHeight:L,effectiveFilterWidth:j,dilationDepth:N,dilationHeight:P,dilationWidth:M,inShape:e,outShape:b,filterShape:t}}function f(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=h(t,r);return Math.floor((e[0]*(n-1)-n+i)/2)}function d(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function p(e){return"number"===typeof e?[e,e,e]:e}function h(e,t){return t<=1?e:e+(e-1)*(t-1)}function v(e,t,n,r,i,a,o,s,u){var c,l,d;if("number"===typeof e){c={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var p=function(e,t,n,r,i){null==r&&(r=f(e,t,n));var a=e[0],o=e[1];return[g((a-t+2*r)/n+1,i),g((o-t+2*r)/n+1,i)]}([t,n],a,r,e,s);l=p[0],d=p[1]}else if("same"===e){l=Math.ceil(t/r),d=Math.ceil(n/i);var h=Math.max(0,(l-1)*r+a-t),v=Math.max(0,(d-1)*i+o-n),m=Math.floor(h/2),y=h-m,b=Math.floor(v/2);c={top:m,bottom:y,left:b,right:v-b,type:"SAME"}}else if("valid"===e)c={top:0,bottom:0,left:0,right:0,type:"VALID"},l=Math.ceil((t-a+1)/r),d=Math.ceil((n-o+1)/i);else{if("object"!==typeof e)throw Error("Unknown padding parameter: ".concat(e));var x="channelsLast"===u?e[1][0]:e[2][0],k="channelsLast"===u?e[1][1]:e[2][1],w="channelsLast"===u?e[2][0]:e[3][0],_="channelsLast"===u?e[2][1]:e[3][1];c={top:x,bottom:k,left:w,right:_,type:0===x&&0===k&&0===w&&0===_?"VALID":"EXPLICIT"},l=g((t-a+x+k)/r+1,s),d=g((n-o+w+_)/i+1,s)}return{padInfo:c,outHeight:l,outWidth:d}}function m(e,t,n,r,i,a,o,s,u,c,l){var d,p,h,v;if("number"===typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var m=function(e,t,n,r,i,a){null==i&&(i=f(e,t,r));var o=e[0],s=e[1],u=e[2];return[g((o-t+2*i)/r+1,a),g((s-t+2*i)/r+1,a),g((u-t+2*i)/r+1,a),n]}([t,n,r,1],s,1,i,e,l);p=m[0],h=m[1],v=m[2]}else if("same"===e){var y=((p=Math.ceil(t/i))-1)*i+s-t,b=((h=Math.ceil(n/a))-1)*a+u-n,x=((v=Math.ceil(r/o))-1)*o+c-r,k=Math.floor(y/2),w=y-k,_=Math.floor(b/2),S=b-_,T=Math.floor(x/2);d={top:_,bottom:S,left:T,right:x-T,front:k,back:w,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: ".concat(e));d={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},p=Math.ceil((t-s+1)/i),h=Math.ceil((n-u+1)/a),v=Math.ceil((r-c+1)/o)}return{padInfo:d,outDepth:p,outHeight:h,outWidth:v}}function g(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode ".concat(t))}}function y(e){var t=d(e),n=(0,r.Z)(t,3),i=n[0],a=n[1],o=n[2];return 1===i&&1===a&&1===o}function b(e,t){return y(e)||y(t)}function x(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat ".concat(e))}function k(e,t,n){if(null!=n){if("string"===typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,"."));if("number"===typeof t)a.hu(a.GN(t),(function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")}));else{if("object"!==typeof t)throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t));t.forEach((function(t){t.forEach((function(t){a.hu(a.GN(t),(function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")}))}))}))}}}},21227:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({cos_:function(e){var t={x:(0,a._1)(e,"x","cos","float32")};return r.BV.runKernel(i.mc,t)}})},46679:function(e,t,n){"use strict";n.d(t,{f:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({cosh_:function(e){var t={x:(0,a._1)(e,"x","cosh","float32")};return r.BV.runKernel(i.TR,t)}})},69457:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({cumprod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=(0,a._1)(e,"x","cumprod"),u={x:s},c={axis:t,exclusive:n,reverse:o};return r.BV.runKernel(i.By,u,c)}})},58862:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({cumsum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=(0,a._1)(e,"x","cumsum"),u={x:s},c={axis:t,exclusive:n,reverse:o};return r.BV.runKernel(i.iH,u,c)}})},57419:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({denseBincount_:function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=(0,a._1)(e,"x","denseBincount"),c=(0,a._1)(t,"weights","denseBincount");o.hu("int32"===u.dtype,(function(){return"Error in denseBincount: input "+"dtype must be int32, but got ".concat(u.dtype)})),o.hu(u.rank<=2,(function(){return"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(u.rank,".")})),o.hu(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),o.hu(c.size===u.size||0===c.size,(function(){return"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(u.shape,", weights shape: ")+"".concat(c.shape,".")}));var l={x:u,weights:c},f={size:n,binaryOutput:s};return r.BV.runKernel(i.QR,l,f)}})},91878:function(e,t,n){"use strict";n.d(t,{n:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({depthToSpace_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC",s=(0,a._1)(e,"x","depthToSpace","float32"),u="NHWC"===n?s.shape[1]:s.shape[2],c="NHWC"===n?s.shape[2]:s.shape[3],l="NHWC"===n?s.shape[3]:s.shape[1];o.hu(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: ".concat(t)})),o.hu(u*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(u," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(s.shape)})),o.hu(c*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(c," and ").concat(t," for depthToSpace with input shape\n        ").concat(s.shape)})),o.hu(l%(t*t)===0,(function(){return"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(l," for depthToSpace with input shape ").concat(s.shape)}));var f={x:s},d={blockSize:t,dataFormat:n};return r.BV.runKernel(i.T0,f,d)}})},61147:function(e,t,n){"use strict";n.d(t,{B:function(){return l}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(39151),u=n(38640),c=n(75561);var l=(0,u.op)({depthwiseConv2d_:function(e,t,n,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],d=arguments.length>6?arguments[6]:void 0,p=(0,a._1)(e,"x","depthwiseConv2d","float32"),h=(0,a._1)(t,"filter","depthwiseConv2d","float32"),v=p,m=!1;3===p.rank&&(m=!0,v=(0,c.X)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),o.hu(4===v.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(v.rank,".")})),o.hu(4===h.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(h.rank,".")})),o.hu(v.shape[3]===h.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels "+"(".concat(v.shape[3],") must match the inChannels dimension in ")+"filter ".concat(h.shape[2],".")})),s.m("depthwiseConv2d",u,d);var g={x:v,filter:h},y={strides:n,pad:u,dataFormat:l,dilations:f,dimRoundingMode:d},b=r.BV.runKernel(i.ci,g,y);return m?(0,c.X)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},57580:function(e,t,n){"use strict";n.d(t,{W:function(){return c}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(38640),u=n(75561);var c=(0,s.op)({dilation2d_:function(e,t,n,s){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",f=(0,a._1)(e,"x","dilation2d"),d=(0,a._1)(t,"filter","dilation2d");o.hu(3===f.rank||4===f.rank,(function(){return"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(f.rank,".")})),o.hu(3===d.rank,(function(){return"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(d.rank,".")})),o.hu("NHWC"===l,(function(){return"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(l)}));var p=f,h=!1;3===f.rank&&(p=(0,u.X)(f,[1,f.shape[0],f.shape[1],f.shape[2]]),h=!0);var v={x:p,filter:d},m={strides:n,pad:s,dilations:c},g=r.BV.runKernel(i.p4,v,m);return h?(0,u.X)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},15750:function(e,t,n){"use strict";n.d(t,{h:function(){return c}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(67145);var c=(0,n(38640).op)({div_:function(e,t){var n=(0,s._1)(e,"a","div"),c=(0,s._1)(t,"b","div"),l=(0,o.makeTypesMatch)(n,c),f=(0,r.Z)(l,2);if(n=f[0],c=f[1],"int32"===n.dtype&&"int32"===c.dtype)return(0,u.q)(n,c);var d={a:n,b:c};return i.BV.runKernel(a.oH,d,{})}})},75923:function(e,t,n){"use strict";n.d(t,{N:function(){return f}});var r=n(29439),i=n(99064),a=n(48354),o=n(15750),s=n(63254),u=n(38640),c=n(10329),l=n(87293);var f=(0,u.op)({divNoNan_:function(e,t){var n=(0,a._1)(e,"a","div"),u=(0,a._1)(t,"b","div"),f=(0,i.makeTypesMatch)(n,u),d=(0,r.Z)(f,2);n=d[0],u=d[1];var p=(0,o.h)(n,u),h=(0,l.P)(p),v=(0,s.D)(u,h);return(0,c.a)(v,h,p)}})},58060:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var s=n.map((function(e,t){return(0,a._1)(e,"tensors".concat(t),"einsum")})),u={equation:e};return r.BV.runKernel(i.$g,s,u)}})},52353:function(e,t,n){"use strict";n.d(t,{p:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({elu_:function(e){var t={x:(0,a._1)(e,"x","elu","float32")};return r.BV.runKernel(i.SX,t)}})},63254:function(e,t,n){"use strict";n.d(t,{D:function(){return c}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774);var c=(0,n(38640).op)({equal_:function(e,t){var n=(0,s._1)(e,"a","equal","string_or_numeric"),c=(0,s._1)(t,"b","equal","string_or_numeric"),l=(0,o.makeTypesMatch)(n,c),f=(0,r.Z)(l,2);n=f[0],c=f[1],(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var d={a:n,b:c};return i.BV.runKernel(a.hd,d)}})},93891:function(e,t,n){"use strict";n.d(t,{q:function(){return u}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(99118);var u=(0,n(38640).op)({erf_:function(e){var t=(0,a._1)(e,"x","erf");o.hu("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=(0,s.p)(t,"float32"));var n={x:t};return r.BV.runKernel(i.Om,n)}})},13313:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});var r=n(56662);var i=(0,n(38640).op)({euclideanNorm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.K)(e,"euclidean",t,n)}})},411:function(e,t,n){"use strict";n.d(t,{Q:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({exp_:function(e){var t={x:(0,a._1)(e,"x","exp")};return r.BV.runKernel(i.NE,t)}})},72975:function(e,t,n){"use strict";n.d(t,{d:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({expandDims_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,a._1)(e,"x","expandDims","string_or_numeric");o.hu(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var s={input:n},u={dim:t};return r.BV.runKernel(i.YF,s,u)}})},15682:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({expm1_:function(e){var t={x:(0,a._1)(e,"x","expm1")};return r.BV.runKernel(i.Y0,t)}})},8582:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(70318),i=n(32145);function a(e,t,n){var a={shape:e,value:t,dtype:n};return r.BV.runKernel(i.de,{},a)}},22628:function(e,t,n){"use strict";n.d(t,{G:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({floor_:function(e){var t={x:(0,a._1)(e,"x","floor","float32")};return r.BV.runKernel(i.OR,t)}})},67145:function(e,t,n){"use strict";n.d(t,{q:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({floorDiv_:function(e,t){var n=(0,s._1)(e,"a","floorDiv"),u=(0,s._1)(t,"b","floorDiv"),c=(0,o.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),f={a:n=l[0],b:u=l[1]};return i.BV.runKernel(a.je,f)}})},97500:function(e,t,n){"use strict";n.r(t),n.d(t,{conv2d:function(){return b},depthwiseConv2d:function(){return _},matMul:function(){return T}});var r=n(29439),i=n(70318),a=n(66450),o=n(32145),s=n(99064),u=n(48354),c=n(36147),l=n(43312),f=n(45774),d=n(93457),p=n(39151),h=n(38640),v=n(75561);var m=(0,h.op)({conv2DBackpropFilter_:function(e,t,n,r,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",u=arguments.length>6?arguments[6]:void 0,l=e;3===e.rank&&(l=(0,v.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var f=t;3===f.rank&&(f=(0,v.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]])),c.hu(4===l.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(l.shape,".")})),c.hu(4===f.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(f.shape,".")})),c.hu(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,".")}));var d="NHWC"===s?l.shape[3]:l.shape[1],h="NHWC"===s?f.shape[3]:f.shape[1];c.hu(d===n[2],(function(){return"Error in conv2dDerFilter: depth of input ".concat(d,") must ")+"match input depth in filter (".concat(n[2],".")})),c.hu(h===n[3],(function(){return"Error in conv2dDerFilter: depth of dy (".concat(h,") must ")+"match output depth for filter (".concat(n[3],").")})),p.m("conv2dDerFilter",a,u);var m={x:l,dy:f},g={strides:r,pad:a,dataFormat:s,dimRoundingMode:u,filterShape:n};return i.BV.runKernel(o.wU,m,g)}}),g=n(21045),y=n(5171);var b=(0,h.op)({fusedConv2d_:function(e){var t=e.x,n=e.filter,h=e.strides,b=e.pad,x=e.dataFormat,k=void 0===x?"NHWC":x,w=e.dilations,_=void 0===w?[1,1]:w,S=e.dimRoundingMode,T=e.bias,E=e.activation,C=void 0===E?"linear":E,O=e.preluActivationWeights,A=e.leakyreluAlpha;if(C=C||"linear",!1===(0,y.uy)(i.BV.state.gradientDepth,C)){c.hu("NHWC"===k,(function(){return"Error in fused conv2d: got dataFormat of ".concat(k," but ")+"only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear."}));var I=(0,d.T)(t,n,h,b,k,_,S);return null!=T&&(I=(0,l.I)(I,T)),(0,y.QH)(I,C,O,A)}var R=(0,u._1)(t,"x","conv2d","float32"),N=(0,u._1)(n,"filter","conv2d","float32"),P=R,M=!1;3===R.rank&&(M=!0,P=(0,v.X)(R,[1,R.shape[0],R.shape[1],R.shape[2]])),c.hu(4===P.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(P.rank,".")})),c.hu(4===N.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(N.rank,".")})),p.m("fused conv2d",b,S);var D="NHWC"===k?P.shape[3]:P.shape[1];c.hu(N.shape[2]===D,(function(){return"Error in conv2d: depth of input (".concat(D,") must match ")+"input depth for filter ".concat(N.shape[2],".")})),c.hu(p.jT(h,_),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(h," and dilations '").concat(_,"'")}));var L,j,F=p.Ix(P.shape,N.shape,h,_,b,S);if(null!=T){L=(0,u._1)(T,"bias","fused conv2d");var Z=(0,s.makeTypesMatch)(L,R),B=(0,r.Z)(Z,1);L=B[0],"NHWC"===k?f.assertAndGetBroadcastShape(F.outShape,L.shape):(c.hu(L.shape.length<=1,(function(){return"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+"rank-".concat(L.shape.length,".")})),c.hu(0===L.shape.length||L.shape[0]===F.outChannels||1===L.shape[0],(function(){return"Error in fused conv2d: bias shape (".concat(L.shape,") is not ")+"compatible with the number of output channels "+"(".concat(F.outChannels,")")})))}if(null!=O){var U=O.shape;if(c.hu(U.length<=1||3===U.length,(function(){return"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+"rank-".concat(U.length,".")})),1===U.length)c.hu(1===U[0]||U[0]===F.outChannels,(function(){return"Error in fused conv2d: PReLU activation weights "+"(".concat(U,") is not compatible with the number of output ")+"channels (".concat(F.outChannels,").")}));else if(3===U.length)try{f.assertAndGetBroadcastShape(U,F.outShape)}catch(K){var V="Error in fused conv2d: PReLU activation weights (".concat(U,") ")+"is not compatible with the output shape of the conv2d "+"(".concat(F.outShape,").");throw Error(V)}j=(0,u._1)(O,"prelu weights","fused conv2d")}var z=function(e,t){c.hu("NHWC"===k,(function(){return"Error in gradient of fused conv2D: got dataFormat of ".concat(k," but only NHWC is currently supported.")}));var n=(0,r.Z)(t,4),i=n[0],a=n[1],o=n[2],s=n[3],u=(0,y.Fr)(e,o,C);c.hu(p.I0(_),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(_,"'")}));var l=[(0,g._)(a.shape,u,i,h,b),m(a,u,i.shape,h,b)];if(null!=s){var f=(0,y.pf)(s,u);l.push(f)}return l},W={x:P,filter:N,bias:L,preluActivationWeights:j},H={strides:h,pad:b,dataFormat:k,dilations:_,dimRoundingMode:S,activation:C,leakyreluAlpha:A};if(null==T){var G=(0,a.cb)((function(e,t,n){var r=i.BV.runKernel(o._V,W,H);return n([t,e,r]),M&&(r=(0,v.X)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:z}}));return G(P,N)}var q=(0,a.cb)((function(e,t,n,r){var a=i.BV.runKernel(o._V,W,H);return r([t,e,a,n]),M&&(a=(0,v.X)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:z}}));return q(P,N,L)}}),x=n(61147);var k=(0,h.op)({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],u=arguments.length>6?arguments[6]:void 0,c=e;3===e.rank&&(c=(0,v.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var l=t;3===l.rank&&(l=(0,v.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var f={x:c,dy:l},d={strides:r,pad:a,dimRoundingMode:u,dilations:s,filterShape:n};return i.BV.runKernel(o.sL,f,d)}});var w=(0,h.op)({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],u=arguments.length>6?arguments[6]:void 0,c=t,l=!1;3===t.rank&&(l=!0,c=(0,v.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var f={dy:c,filter:n},d={strides:r,pad:a,dimRoundingMode:u,dilations:s,inputShape:e},p=i.BV.runKernel(o.y7,f,d);return l?(0,v.X)(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});var _=(0,h.op)({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,d=e.strides,h=e.pad,m=e.dataFormat,g=void 0===m?"NHWC":m,b=e.dilations,_=void 0===b?[1,1]:b,S=e.dimRoundingMode,T=e.bias,E=e.activation,C=void 0===E?"linear":E,O=e.preluActivationWeights,A=e.leakyreluAlpha;if(!1===(0,y.uy)(i.BV.state.gradientDepth,C)){var I=(0,x.B)(t,n,d,h,g,_,S);return null!=T&&(I=(0,l.I)(I,T)),(0,y.QH)(I,C,O,A)}var R=(0,u._1)(t,"x","depthwiseConv2d","float32"),N=(0,u._1)(n,"filter","depthwiseConv2d","float32"),P=R,M=!1;3===R.rank&&(M=!0,P=(0,v.X)(R,[1,R.shape[0],R.shape[1],R.shape[2]])),c.hu(4===P.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(P.rank,".")})),c.hu(4===N.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(N.rank,".")})),c.hu(P.shape[3]===N.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels "+"(".concat(P.shape[3],") must match the inChannels dimension in ")+"filter ".concat(N.shape[2],".")})),null==_&&(_=[1,1]),c.hu(p.jT(d,_),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(d," and dilations '").concat(_,"'")})),p.m("fused depthwiseConv2d",h,S);var D,L,j=p.Ix(P.shape,N.shape,d,_,h,S,!0);if(null!=T){D=(0,u._1)(T,"bias","fused conv2d");var F=(0,s.makeTypesMatch)(D,R),Z=(0,r.Z)(F,1);D=Z[0],f.assertAndGetBroadcastShape(j.outShape,D.shape)}null!=O&&(L=(0,u._1)(O,"prelu weights","fused depthwiseConv2d"));var B=function(e,t){c.hu(p.I0(_),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(_,"'")}));var n=(0,r.Z)(t,4),i=n[0],a=n[1],o=n[2],s=n[3],u=(0,y.Fr)(e,o,C),l=w(a.shape,u,i,d,h,_,S),f=k(a,u,i.shape,d,h,_,S);return null!=s?[l,f,(0,y.pf)(D,u)]:[l,f]},U={x:P,filter:N,bias:D,preluActivationWeights:L},V={strides:d,pad:h,dataFormat:g,dilations:_,dimRoundingMode:S,activation:C,leakyreluAlpha:A};if(null==T){var z=(0,a.cb)((function(e,t,n){var r=i.BV.runKernel(o.lu,U,V);return n([t,e,r]),M&&(r=(0,v.X)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:B}}));return z(P,N)}var W=(0,a.cb)((function(e,t,n,r){var a=i.BV.runKernel(o.lu,U,V);return r([t,e,a,n]),M&&(a=(0,v.X)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:B}}));return W(P,N,D)}}),S=n(57221);var T=(0,h.op)({fusedMatMul_:function(e){var t=e.a,n=e.b,d=e.transposeA,p=void 0!==d&&d,h=e.transposeB,m=void 0!==h&&h,g=e.bias,b=e.activation,x=void 0===b?"linear":b,k=e.preluActivationWeights,w=e.leakyreluAlpha;if(!1===(0,y.uy)(i.BV.state.gradientDepth,x)){var _=(0,S.O)(t,n,p,m);return null!=g&&(_=(0,l.I)(_,g)),(0,y.QH)(_,x,k,w)}var T=(0,u._1)(t,"a","fused matMul"),E=(0,u._1)(n,"b","fused matMul"),C=(0,s.makeTypesMatch)(T,E),O=(0,r.Z)(C,2);T=O[0],E=O[1];var A=p?T.shape[T.rank-2]:T.shape[T.rank-1],I=m?E.shape[E.rank-1]:E.shape[E.rank-2],R=p?T.shape[T.rank-1]:T.shape[T.rank-2],N=m?E.shape[E.rank-2]:E.shape[E.rank-1],P=T.shape.slice(0,-2),M=E.shape.slice(0,-2),D=c.NA(P),L=c.NA(M);c.hu(A===I,(function(){return"Error in fused matMul: inner shapes (".concat(A,") and (")+"".concat(I,") of Tensors with shapes ").concat(T.shape," and ")+"".concat(E.shape," and transposeA=").concat(p)+" and transposeB=".concat(m," must match.")}));var j,F,Z=f.assertAndGetBroadcastShape(T.shape.slice(0,-2),E.shape.slice(0,-2)).concat([R,N]),B=p?(0,v.X)(T,[D,A,R]):(0,v.X)(T,[D,R,A]),U=m?(0,v.X)(E,[L,N,I]):(0,v.X)(E,[L,I,N]);if(null!=g){j=(0,u._1)(g,"bias","fused matMul");var V=(0,s.makeTypesMatch)(j,T);j=(0,r.Z)(V,1)[0],f.assertAndGetBroadcastShape(Z,j.shape)}null!=k&&(F=(0,u._1)(k,"prelu weights","fused matMul"));var z=function(e,t){var n,i,a=(0,r.Z)(t,4),o=a[0],s=a[1],u=a[2],c=a[3],l=(0,y.Fr)((0,v.X)(e,u.shape),u,x);return p||m?!p&&m?(n=(0,S.O)(l,s,!1,!1),i=(0,S.O)(l,o,!0,!1)):p&&!m?(n=(0,S.O)(s,l,!1,!0),i=(0,S.O)(o,l,!1,!1)):(n=(0,S.O)(s,l,!0,!0),i=(0,S.O)(l,o,!0,!0)):(n=(0,S.O)(l,s,!1,!0),i=(0,S.O)(o,l,!0,!1)),null!=g?[n,i,(0,y.pf)(c,l)]:[n,i]},W={a:B,b:U,bias:j,preluActivationWeights:F},H={transposeA:p,transposeB:m,activation:x,leakyreluAlpha:w};if(null==g){var G=(0,a.cb)((function(e,t,n){var r=i.BV.runKernel(o.us,W,H);return n([e,t,r]),{value:(0,v.X)(r,Z),gradFunc:z}}));return G(B,U)}var q=(0,a.cb)((function(e,t,n,r){var a=i.BV.runKernel(o.us,W,H);return r([e,t,a,n]),{value:(0,v.X)(a,Z),gradFunc:z}}));return q(B,U,j)}})},5171:function(e,t,n){"use strict";n.d(t,{Fr:function(){return h},QH:function(){return m},pf:function(){return v},uy:function(){return g}});var r=n(45774),i=n(52353),a=n(74419),o=n(30651),s=n(96859),u=n(17539),c=n(65900),l=n(75561),f=n(77643),d=n(94031),p=n(40227);function h(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return(0,o.d)(e,(0,d.N)(t));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function v(e,t){var n=t,i=r.getReductionAxes(e.shape,t.shape);return i.length>0&&(n=(0,p.S)(n,i)),(0,l.X)(n,e.shape)}function m(e,t,n,r){if("linear"===t)return e;if("relu"===t)return(0,u.U)(e);if("elu"===t)return(0,i.p)(e);if("relu6"===t)return(0,c.b)(e);if("prelu"===t)return(0,s.A)(e,n);if("leakyrelu"===t)return(0,a.h)(e,r);if("sigmoid"===t)return(0,f.X)(e);throw new Error("Unknown fused activation ".concat(t,"."))}var g=function(e,t){return!(e>0)||"linear"===t}},49498:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({gather_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=(0,a._1)(e,"x","gather"),u=(0,a._1)(t,"indices","gather","int32"),c={x:s,indices:u},l={axis:n,batchDims:o};return r.BV.runKernel(i.qi,c,l)}})},53357:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({gatherND_:function(e,t){var n=(0,a._1)(t,"indices","gatherND","int32"),o={params:(0,a._1)(e,"x","gatherND","string_or_numeric"),indices:n};return r.BV.runKernel(i.q1,o)}})},35014:function(e,t,n){"use strict";n.d(t,{p:function(){return c}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774);var c=(0,n(38640).op)({greater_:function(e,t){var n=(0,s._1)(e,"a","greater","string_or_numeric"),c=(0,s._1)(t,"b","greater","string_or_numeric"),l=(0,o.makeTypesMatch)(n,c),f=(0,r.Z)(l,2);n=f[0],c=f[1],(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var d={a:n,b:c};return i.BV.runKernel(a.iZ,d)}})},18327:function(e,t,n){"use strict";n.d(t,{b:function(){return c}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774);var c=(0,n(38640).op)({greaterEqual_:function(e,t){var n=(0,s._1)(e,"a","greaterEqual","string_or_numeric"),c=(0,s._1)(t,"b","greaterEqual","string_or_numeric"),l=(0,o.makeTypesMatch)(n,c),f=(0,r.Z)(l,2);n=f[0],c=f[1],(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var d={a:n,b:c};return i.BV.runKernel(a.Ac,d)}})},76996:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({imag_:function(e){var t={input:(0,a._1)(e,"input","imag")};return r.BV.runKernel(i.J_,t)}})},37005:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({isNaN_:function(e){var t={x:(0,a._1)(e,"x","isNaN")};return r.BV.runKernel(i.r7,t)}})},74419:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({leakyRelu_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n=(0,a._1)(e,"x","leakyRelu"),o={x:n},s={alpha:t};return r.BV.runKernel(i.J$,o,s)}})},44920:function(e,t,n){"use strict";n.d(t,{d:function(){return c}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774);var c=(0,n(38640).op)({less_:function(e,t){var n=(0,s._1)(e,"a","less","string_or_numeric"),c=(0,s._1)(t,"b","less","string_or_numeric"),l=(0,o.makeTypesMatch)(n,c),f=(0,r.Z)(l,2);n=f[0],c=f[1],(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var d={a:n,b:c};return i.BV.runKernel(a.vt,d)}})},12642:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774);var c=(0,n(38640).op)({lessEqual_:function(e,t){var n=(0,s._1)(e,"a","lessEqual","string_or_numeric"),c=(0,s._1)(t,"b","lessEqual","string_or_numeric"),l=(0,o.makeTypesMatch)(n,c),f=(0,r.Z)(l,2);n=f[0],c=f[1],(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var d={a:n,b:c};return i.BV.runKernel(a.CA,d)}})},62453:function(e,t,n){"use strict";n.d(t,{S:function(){return a}});var r=n(70318),i=n(32145);function a(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");var a={start:e,stop:t,num:n};return r.BV.runKernel(i.e7,{},a)}},40936:function(e,t,n){"use strict";n.d(t,{G:function(){return c}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(38640),u=n(75561);var c=(0,s.op)({localResponseNormalization_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,l=(0,a._1)(e,"x","localResponseNormalization");o.hu(4===l.rank||3===l.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(l.rank,".")})),o.hu(o.GN(t),(function(){return"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")}));var f=l,d=!1;3===l.rank&&(d=!0,f=(0,u.X)(l,[1,l.shape[0],l.shape[1],l.shape[2]]));var p={x:f},h={depthRadius:t,bias:n,alpha:s,beta:c},v=r.BV.runKernel(i.eZ,p,h);return d?(0,u.X)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},40378:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({log_:function(e){var t={x:(0,a._1)(e,"x","log","float32")};return r.BV.runKernel(i.Zb,t)}})},95341:function(e,t,n){"use strict";n.d(t,{K:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({log1p_:function(e){var t={x:(0,a._1)(e,"x","log1p")};return r.BV.runKernel(i.kU,t)}})},54561:function(e,t,n){"use strict";n.d(t,{C:function(){return h}});var r=n(29439),i=n(66450),a=n(48354),o=n(99118),s=n(411),u=n(40378),c=n(56176),l=n(30651),f=n(38640),d=n(84774),p=n(40227);var h=(0,f.op)({logSoftmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=(0,a._1)(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(t));var f=(0,i.cb)((function(e,n){var i=(0,c.F)(e,t,!0),a=(0,d.l)(e,i),f=(0,d.l)((0,o.p)(a,"float32"),(0,u.c)((0,p.S)((0,s.Q)(a),t,!0)));n([f]);return{value:f,gradFunc:function(e,n){var i=(0,r.Z)(n,1)[0],a=(0,s.Q)(i);return(0,d.l)(e,(0,l.d)((0,p.S)(e,t,!0),a))}}}));return f(n)}})},2177:function(e,t,n){"use strict";n.d(t,{H:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(45774);var s=(0,n(38640).op)({logicalAnd_:function(e,t){var n=(0,a._1)(e,"a","logicalAnd","bool"),s=(0,a._1)(t,"b","logicalAnd","bool");(0,o.assertAndGetBroadcastShape)(n.shape,s.shape);var u={a:n,b:s};return r.BV.runKernel(i.PY,u)}})},30875:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({logicalNot_:function(e){var t={x:(0,a._1)(e,"x","logicalNot","bool")};return r.BV.runKernel(i.Vf,t)}})},15117:function(e,t,n){"use strict";n.d(t,{K:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(45774);var s=(0,n(38640).op)({logicalOr_:function(e,t){var n=(0,a._1)(e,"a","logicalOr","bool"),s=(0,a._1)(t,"b","logicalOr","bool");(0,o.assertAndGetBroadcastShape)(n.shape,s.shape);var u={a:n,b:s};return r.BV.runKernel(i.MZ,u)}})},47627:function(e,t,n){"use strict";var r;n.d(t,{I:function(){return r}}),function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(r||(r={}))},94255:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});var r=n(9028);function i(e,t){return(0,r.z)(e,t,"left")}},57221:function(e,t,n){"use strict";n.d(t,{O:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({matMul_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=(0,s._1)(e,"a","matMul"),l=(0,s._1)(t,"b","matMul"),f=(0,o.makeTypesMatch)(c,l),d=(0,r.Z)(f,2),p={a:c=d[0],b:l=d[1]},h={transposeA:n,transposeB:u};return i.BV.runKernel(a.XL,p,h)}})},56176:function(e,t,n){"use strict";n.d(t,{F:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({max_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,a._1)(e,"x","max"),s={x:o},u={reductionIndices:t,keepDims:n};return r.BV.runKernel(i.Yo,s,u)}})},85777:function(e,t,n){"use strict";n.d(t,{_:function(){return l}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(39151),u=n(38640),c=n(75561);var l=(0,u.op)({maxPool_:function(e,t,n,u,l){var f=(0,a._1)(e,"x","maxPool"),d=f,p=!1;3===f.rank&&(p=!0,d=(0,c.X)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),o.hu(4===d.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(d.rank,".")})),o.hu(s.jT(n,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")})),s.m("maxPool",u,l);var h={x:d},v={filterSize:t,strides:n,pad:u,dimRoundingMode:l},m=r.BV.runKernel(i.mT,h,v);return p?(0,c.X)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},39185:function(e,t,n){"use strict";n.d(t,{Y:function(){return l}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(39151),u=n(38640),c=n(75561);var l=(0,u.op)({maxPool3d_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",d=(0,a._1)(e,"x","maxPool3d"),p=d,h=!1;4===d.rank&&(h=!0,p=(0,c.X)(d,[1,d.shape[0],d.shape[1],d.shape[2],d.shape[3]])),o.hu(5===p.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank ".concat(p.rank,".")})),o.hu("NDHWC"===f,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(f)})),(0,s.m)("maxPool3d",u,l);var v={x:p},m={filterSize:t,strides:n,pad:u,dimRoundingMode:l,dataFormat:f},g=r.BV.runKernel(i.OA,v,m);return h?(0,c.X)(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}})},78811:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({maxPoolWithArgmax_:function(e,t,n,o){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=(0,a._1)(e,"x","maxPoolWithArgmax"),c={x:u},l={filterSize:t,strides:n,pad:o,includeBatchInIndex:s},f=r.BV.runKernel(i.vF,c,l);return{result:f[0],indexes:f[1]}}})},70705:function(e,t,n){"use strict";n.d(t,{g:function(){return l}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774),c=n(99118);var l=(0,n(38640).op)({maximum_:function(e,t){var n=(0,s._1)(e,"a","maximum"),l=(0,s._1)(t,"b","maximum"),f=(0,o.makeTypesMatch)(n,l),d=(0,r.Z)(f,2);n=d[0],l=d[1],"bool"===n.dtype&&(n=(0,c.p)(n,"int32"),l=(0,c.p)(l,"int32")),(0,u.assertAndGetBroadcastShape)(n.shape,l.shape);var p={a:n,b:l};return i.BV.runKernel(a.BM,p)}})},6568:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({mean_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,a._1)(e,"x","mean"),s={x:o},u={axis:t,keepDims:n};return r.BV.runKernel(i.q2,s,u)}})},77891:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({min_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,a._1)(e,"x","min"),s={x:o},u={axis:t,keepDims:n};return r.BV.runKernel(i.c1,s,u)}})},82273:function(e,t,n){"use strict";n.d(t,{L:function(){return l}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774),c=n(99118);var l=(0,n(38640).op)({minimum_:function(e,t){var n=(0,s._1)(e,"a","minimum"),l=(0,s._1)(t,"b","minimum"),f=(0,o.makeTypesMatch)(n,l),d=(0,r.Z)(f,2);n=d[0],l=d[1],"bool"===n.dtype&&(n=(0,c.p)(n,"int32"),l=(0,c.p)(l,"int32")),(0,u.assertAndGetBroadcastShape)(n.shape,l.shape);var p={a:n,b:l};return i.BV.runKernel(a.q8,p)}})},27613:function(e,t,n){"use strict";n.d(t,{V:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({mirrorPad_:function(e,t,n){o.hu("reflect"===n||"symmetric"===n,(function(){return"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,".")}));var s=(0,a._1)(e,"x","mirrorPad");if(0===s.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");o.hu(t.length===s.rank,(function(){return"Padding doesn't match input. Must be ".concat(s.rank,". ")+"Got ".concat(t.length,".")}));for(var u="reflect"===n?1:0,c=function(e){o.hu(2===t[e].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),o.hu(t[e][0]>=0&&t[e][0]<=s.shape[e]-u&&t[e][1]>=0&&t[e][1]<=s.shape[e]-u,(function(){return"Padding in dimension ".concat(e," cannot be greater than or equal ")+"to ".concat(s.shape[e]-u," or less than 0 for input of ")+"shape ".concat(s.shape)}))},l=0;l<s.rank;l++)c(l);var f={paddings:t,mode:n},d={x:s};return r.BV.runKernel(i.jQ,d,f)}})},84645:function(e,t,n){"use strict";n.d(t,{w:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({mod_:function(e,t){var n=(0,s._1)(e,"a","mod"),u=(0,s._1)(t,"b","mod"),c=(0,o.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),f={a:n=l[0],b:u=l[1]};return i.BV.runKernel(a.Vb,f)}})},30651:function(e,t,n){"use strict";n.d(t,{d:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({mul_:function(e,t){var n=(0,s._1)(e,"a","mul"),u=(0,s._1)(t,"b","mul"),c=(0,o.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),f={a:n=l[0],b:u=l[1]};return i.BV.runKernel(a.wY,f)}})},4660:function(e,t,n){"use strict";n.d(t,{S:function(){return u}});var r=n(70318),i=n(32145),a=n(48354),o=n(38640),s=n(75561);var u=(0,o.op)({multinomial_:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=(0,a._1)(e,"logits","multinomial"),c=u.size,l=u.rank;if(c<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(c,"."));if(l>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(l));n=n||Math.random();var f=1===l?(0,s.X)(u,[1,-1]):u,d={logits:f},p={numSamples:t,seed:n,normalized:o},h=r.BV.runKernel(i.NZ,d,p);return 1===l?(0,s.X)(h,[h.size]):h}})},4362:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({neg_:function(e){var t={x:(0,a._1)(e,"x","neg")};return r.BV.runKernel(i.ku,t)}})},56662:function(e,t,n){"use strict";n.d(t,{K:function(){return g}});var r=n(48354),i=n(36147),a=n(7613),o=n(88473),s=n(56176),u=n(77891),c=n(38640),l=n(44334),f=n(75561),d=n(27067),p=n(46902),h=n(7391),v=n(40227);function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return(0,a.W)(e);if(1!==e.rank&&null===n)return m((0,f.X)(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return(0,v.S)((0,a.W)(e),n);if(t===1/0)return(0,s.F)((0,a.W)(e),n);if(t===-1/0)return(0,u.V)((0,a.W)(e),n);if("euclidean"===t||2===t)return(0,p._)((0,v.S)((0,l.s)((0,a.W)(e),(0,d.i)(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}if(Array.isArray(n)&&2===n.length){if(1===t)return(0,s.F)((0,v.S)((0,a.W)(e),n[0]),n[1]-1);if(t===1/0)return(0,s.F)((0,v.S)((0,a.W)(e),n[1]),n[0]);if(t===-1/0)return(0,u.V)((0,v.S)((0,a.W)(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return(0,p._)((0,v.S)((0,h.h)(e),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}throw new Error("Error in norm: invalid axis: ".concat(n))}var g=(0,c.op)({norm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=m(e=(0,r._1)(e,"x","norm"),t,n),u=s.shape;if(a){var c=(0,i.EC)(n,e.shape);u=o.rv(s.shape,c)}return(0,f.X)(s,u)}})},15549:function(e,t,n){"use strict";n.d(t,{Q:function(){return c}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774);var c=(0,n(38640).op)({notEqual_:function(e,t){var n=(0,s._1)(e,"a","notEqual","string_or_numeric"),c=(0,s._1)(t,"b","notEqual","string_or_numeric"),l=(0,o.makeTypesMatch)(n,c),f=(0,r.Z)(l,2);n=f[0],c=f[1],(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var d={a:n,b:c};return i.BV.runKernel(a.yQ,d)}})},34326:function(e,t,n){"use strict";n.d(t,{l:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({oneHot_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));var s=(0,a._1)(e,"indices","oneHot","int32"),u={indices:s},c={depth:t,onValue:n,offValue:o};return r.BV.runKernel(i.we,u,c)}})},86100:function(e,t,n){"use strict";n.d(t,{i:function(){return s}});var r=n(70318),i=n(36147),a=n(59253),o=n(87742);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=s(e,"float32"),u=(0,o.l)(e,"float32");return(0,a.P)(n,u)}var c=(0,i.p8)((0,i.NA)(e),t);return r.BV.makeTensor(c,e,t)}},20773:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({onesLike_:function(e){var t={x:(0,a._1)(e,"x","onesLike")};return r.BV.runKernel(i.qW,t)}})},38640:function(e,t,n){"use strict";n.d(t,{op:function(){return o},z:function(){return a}});var r=n(70318),i=n(36147),a="__op";function o(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));var n=t[0],o=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=a;var s=function(){r.BV.startScope(n);try{var e=o.apply(void 0,arguments);return(0,i.tI)(e)&&console.error("Cannot return a Promise inside of tidy."),r.BV.endScope(e),e}catch(t){throw r.BV.endScope(null),t}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}},13398:function(e,t,n){"use strict";n.d(t,{zvA:function(){return _.z},WnP:function(){return r.W},Khb:function(){return i.K},__u:function(){return a._},IHx:function(){return o.I},QBD:function(){return s.Q},$6P:function(){return u.$},YjB:function(){return c.Y},NqF:function(){return l.N},vHJ:function(){return f.v},ZRM:function(){return d.Z},VfV:function(){return p.V},z4N:function(){return h.z},fvJ:function(){return v.f},C80:function(){return m.C},wS1:function(){return g.w},uR5:function(){return y.u},zEQ:function(){return C},tgs:function(){return A.t},Dxk:function(){return R},JY5:function(){return N},p3b:function(){return P},E4h:function(){return O.E},yE8:function(){return M.y},anm:function(){return Gn},XsQ:function(){return D.X},UFq:function(){return L.U},f3b:function(){return j.f},pju:function(){return F.p},mDi:function(){return Z.m},iUl:function(){return B.i},d9v:function(){return U.d},PYB:function(){return V.P},zoF:function(){return x.z},gME:function(){return z},Izb:function(){return W},MNy:function(){return H},ZaL:function(){return G},PAt:function(){return q.P},Tek:function(){return K.T},bc:function(){return Y.b},pdZ:function(){return X.p},$QV:function(){return te},mCk:function(){return ne.m},f9Y:function(){return re.f},mew:function(){return rr},$Gn:function(){return ie.$},zbp:function(){return ae.z},ppE:function(){return oe.p},nTT:function(){return se.n},B10:function(){return ue.B},Ka3:function(){return ce},WmZ:function(){return le.W},hiC:function(){return fe.h},NTj:function(){return de.N},AKD:function(){return pe},rvX:function(){return tr},WYO:function(){return he.W},pyx:function(){return ve.p},GRh:function(){return nr},DgJ:function(){return me.D},qNN:function(){return ge.q},d2q:function(){return ye.d},Qqt:function(){return be.Q},dt4:function(){return xe.d},t$B:function(){return ke.t},iyy:function(){return _e},kp_:function(){return dn.k},hlL:function(){return Se.h},GWj:function(){return Te.G},qPi:function(){return Ee.q},imm:function(){return or},Iqj:function(){return Ce.I},dbB:function(){return er.d},pjt:function(){return Oe.p},brS:function(){return Ae.b},Sxn:function(){return pn.S},asL:function(){return Ie.a},BHj:function(){return ui},V3u:function(){return ar},wx0:function(){return hn.w},xVT:function(){return Re},UWc:function(){return Ne},i2d:function(){return Pe.i},hi7:function(){return Me.h},d9m:function(){return De.d},zN1:function(){return Le.z},$r2:function(){return ci},SX3:function(){return je.S},G9k:function(){return Fe.G},cM7:function(){return Ze.c},Krr:function(){return Be.K},e_t:function(){return We},CmS:function(){return He.C},l_t:function(){return Xe},HvI:function(){return Qe.H},hJK:function(){return Je.h},K5V:function(){return $e.K},egP:function(){return tt},MB5:function(){return li},eab:function(){return nt.e},OI3:function(){return k.O},Fp7:function(){return qe.F},_sB:function(){return rt._},YQQ:function(){return it.Y},Ip$:function(){return at.I},gWQ:function(){return ot.g},J69:function(){return st.J},ry_:function(){return lt},VV$:function(){return ft.V},LTh:function(){return dt.L},VdP:function(){return pt.V},wQq:function(){return ht.w},Gi7:function(){return mt},p_:function(){return Xn},dC7:function(){return w.d},rq4:function(){return gt},SJ_:function(){return yt.S},W76:function(){return Ve.W},KOy:function(){return Kn.K},Quu:function(){return bt.Q},lfX:function(){return xt.l},iUs:function(){return ut.i},JpU:function(){return kt.J},op:function(){return _.op},N2O:function(){return wt},vku:function(){return _t.v},pNR:function(){return St},koy:function(){return Tt},t1L:function(){return Et},lGY:function(){return Ct},d_R:function(){return Rt},sQ3:function(){return Nt.s},AL3:function(){return Pt.A},S0v:function(){return Mt.S},WVs:function(){return Dt.W},TN_:function(){return Lt},wzB:function(){return Ft},nGf:function(){return Zt},LGj:function(){return Bt.L},w6H:function(){return Ut.w},kwC:function(){return Vt.k},M25:function(){return zt.M},UYe:function(){return Wt.U},btT:function(){return Ht.b},XLQ:function(){return $.X},GYS:function(){return Gt.G},SDf:function(){return qt},diP:function(){return Kt},sx7:function(){return Yt},mG2:function(){return Xt},QEs:function(){return vn.Q},NMM:function(){return Qt.N},bp0:function(){return Jt.b},iD$:function(){return $t.i},snQ:function(){return Qn.s},zcT:function(){return Jn.z},U8D:function(){return en.U},U_I:function(){return tn},ODp:function(){return nn.O},XD2:function(){return S.X},Xxe:function(){return rn.X},tdS:function(){return si},O$l:function(){return an.O},R_K:function(){return on.R},tPi:function(){return T.t},jZU:function(){return sn},SmN:function(){return un},CnO:function(){return cn},p0P:function(){return ln},XAC:function(){return fn.X},Wvh:function(){return ze.W},fBT:function(){return It.f},rVs:function(){return fi},ers:function(){return $n.e},uN7:function(){return oi},Vl2:function(){return mn.V},_b3:function(){return gn._},h62:function(){return vt.h},$i:function(){return yn.$},L9e:function(){return bn.L},knu:function(){return xn.k},Nbs:function(){return kn.N},NXj:function(){return wn.N},Z_8:function(){return di},luU:function(){return Ke.l},Smz:function(){return Ye.S},ORZ:function(){return _n.O},AEp:function(){return E.A},XeE:function(){return Sn.X},RRF:function(){return Tn.R},odF:function(){return Cn},wOQ:function(){return On.w},yXz:function(){return An},Bfx:function(){return In},xZs:function(){return Rn},Gg6:function(){return we.G},hg7:function(){return Nn.h},p4s:function(){return qn.p},Xu6:function(){return Pn.X},Two:function(){return Mn.T},pUJ:function(){return Dn},HHK:function(){return Ln.H},GaM:function(){return jn.G},VD$:function(){return Fn},arb:function(){return Zn.a},itS:function(){return Bn.i},lls:function(){return Un.l},P84:function(){return Vn.P}});var r=n(7613),i=n(1719),a=n(24502),o=n(43312),s=n(15506),u=n(14108),c=n(58543),l=n(29995),f=n(95157),d=n(33053),p=n(30054),h=n(64778),v=n(32227),m=n(47897),g=n(49204),y=n(65840),b=n(48354),x=n(34836),k=n(57221),w=n(30651),_=n(38640),S=n(77643),T=n(59238),E=n(11744);var C=(0,_.op)({basicLSTMCell_:function(e,t,n,r,i,a){var s=(0,b._1)(e,"forgetBias","basicLSTMCell"),u=(0,b._1)(t,"lstmKernel","basicLSTMCell"),c=(0,b._1)(n,"lstmBias","basicLSTMCell"),l=(0,b._1)(r,"data","basicLSTMCell"),f=(0,b._1)(i,"c","basicLSTMCell"),d=(0,b._1)(a,"h","basicLSTMCell"),p=(0,x.z)([l,d],1),h=(0,k.O)(p,u),v=(0,o.I)(h,c),m=v.shape[0],g=v.shape[1]/4,y=[m,g],_=(0,T.t)(v,[0,0],y),C=(0,T.t)(v,[0,g],y),O=(0,T.t)(v,[0,2*g],y),A=(0,T.t)(v,[0,3*g],y),I=(0,o.I)((0,w.d)((0,S.X)(_),(0,E.A)(C)),(0,w.d)(f,(0,S.X)((0,o.I)(s,O))));return[I,(0,w.d)((0,E.A)(I),(0,S.X)(A))]}}),O=n(36994),A=n(63700),I=n(36147);var R=(0,_.op)({batchNorm2d_:function(e,t,n,r,i,a){var o,s,u=(0,b._1)(e,"x","batchNorm"),c=(0,b._1)(t,"mean","batchNorm"),l=(0,b._1)(n,"variance","batchNorm");return null!=i&&(o=(0,b._1)(i,"scale","batchNorm")),null!=r&&(s=(0,b._1)(r,"offset","batchNorm")),I.hu(2===u.rank,(function(){return"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(u.rank,".")})),I.hu(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(c.rank,".")})),I.hu(2===l.rank||1===l.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(l.rank,".")})),null!=o&&I.hu(2===o.rank||1===o.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=s&&I.hu(2===s.rank||1===s.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(s.rank,".")})),(0,A.t)(u,c,l,s,o,a)}});var N=(0,_.op)({batchNorm3d_:function(e,t,n,r,i,a){var o,s,u=(0,b._1)(e,"x","batchNorm"),c=(0,b._1)(t,"mean","batchNorm"),l=(0,b._1)(n,"variance","batchNorm");return null!=i&&(o=(0,b._1)(i,"scale","batchNorm")),null!=r&&(s=(0,b._1)(r,"offset","batchNorm")),I.hu(3===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(u.rank,".")})),I.hu(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(c.rank,".")})),I.hu(3===l.rank||1===l.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(l.rank,".")})),null!=o&&I.hu(3===o.rank||1===o.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=s&&I.hu(3===s.rank||1===s.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(s.rank,".")})),(0,A.t)(u,c,l,s,o,a)}});var P=(0,_.op)({batchNorm4d_:function(e,t,n,r,i,a){var o,s,u=(0,b._1)(e,"x","batchNorm"),c=(0,b._1)(t,"mean","batchNorm"),l=(0,b._1)(n,"variance","batchNorm");return null!=i&&(o=(0,b._1)(i,"scale","batchNorm")),null!=r&&(s=(0,b._1)(r,"offset","batchNorm")),I.hu(4===u.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(u.rank,".")})),I.hu(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(c.rank,".")})),I.hu(4===l.rank||1===l.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(l.rank,".")})),null!=o&&I.hu(4===o.rank||1===o.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=s&&I.hu(4===s.rank||1===s.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(s.rank,".")})),(0,A.t)(u,c,l,s,o,a)}}),M=n(77531),D=n(80238),L=n(49742),j=n(77039),F=n(99118),Z=n(31396),B=n(89836),U=n(10672),V=n(59253);var z=(0,_.op)({concat1d_:function(e){return(0,x.z)(e,0)}});var W=(0,_.op)({concat2d_:function(e,t){return(0,x.z)(e,t)}});var H=(0,_.op)({concat3d_:function(e,t){return(0,x.z)(e,t)}});var G=(0,_.op)({concat4d_:function(e,t){return(0,x.z)(e,t)}}),q=n(44918),K=n(93457),Y=n(71732),X=n(48113),Q=n(70318),J=n(32145),$=n(75561);var ee=(0,_.op)({conv3DBackpropInput_:function(e,t,n,r,i){I.hu(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var a=e,o=t,s=!1;4===t.rank&&(s=!0,o=(0,$.X)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),a=[1,e[0],e[1],e[2],e[3]]);var u=a[4],c=o.shape[4];I.hu(5===a.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(a.length,".")})),I.hu(5===o.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(o.rank)})),I.hu(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank)})),I.hu(u===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input (".concat(u,") must ")+"match input depth for filter ".concat(n.shape[3],".")})),I.hu(c===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output (".concat(c,") must ")+"match output depth for filter ".concat(n.shape[4],".")}));var l={dy:o,filter:n},f={pad:i,strides:r,inputShape:a},d=Q.BV.runKernel(J.ik,l,f);return s?(0,$.X)(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});var te=(0,_.op)({conv3dTranspose_:function(e,t,n,r,i){var a=(0,b._1)(e,"x","conv3dTranspose"),o=(0,b._1)(t,"filter","conv3dTranspose");return ee(n,a,o,r,i)}}),ne=n(21227),re=n(46679),ie=n(69457),ae=n(58862),oe=n(57419),se=n(91878),ue=n(61147);var ce=(0,_.op)({diag_:function(e){var t={x:(0,b._1)(e,"x","diag")};return Q.BV.runKernel(J.$w,t)}}),le=n(57580),fe=n(15750),de=n(75923);var pe=(0,_.op)({dot_:function(e,t){var n=(0,b._1)(e,"t1","dot"),r=(0,b._1)(t,"t2","dot");I.hu((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")}));var i=1===n.rank?n.size:n.shape[1],a=1===r.rank?r.size:r.shape[0];if(I.hu(i===a,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+"".concat(i," and ").concat(a,".")})),1===n.rank&&1===r.rank){var o=(0,$.X)(n,[1,-1]),s=(0,$.X)(r,[-1,1]),u=(0,k.O)(o,s);return(0,$.X)(u,[])}if(1===n.rank&&2===r.rank){var c=(0,$.X)(n,[1,-1]),l=(0,$.X)(r,[r.shape[0],r.shape[1]]),f=(0,k.O)(c,l);return(0,$.X)(f,[f.size])}if(2===n.rank&&1===r.rank){var d=(0,$.X)(r,[-1,1]),p=(0,k.O)(n,d);return(0,$.X)(p,[p.size])}var h=(0,$.X)(r,[r.shape[0],r.shape[1]]);return(0,k.O)(n,h)}}),he=n(58060),ve=n(52353),me=n(63254),ge=n(93891),ye=n(13313),be=n(411),xe=n(72975),ke=n(15682),we=n(42343);var _e=(0,_.op)({eye_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";null==t&&(t=e);for(var i=(0,j.f)([e,t],r),a=e<=t?e:t,o=0;o<a;++o)i.set(1,o,o);var s=(0,$.X)(i.toTensor(),[e,t]);if(null==n)return s;if(1===n.length)return(0,we.G)((0,xe.d)(s,0),[n[0],1,1]);if(2===n.length)return(0,we.G)((0,xe.d)((0,xe.d)(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return(0,we.G)((0,xe.d)((0,xe.d)((0,xe.d)(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}}),Se=n(8582),Te=n(22628),Ee=n(67145),Ce=n(49498),Oe=n(35014),Ae=n(18327),Ie=n(76996);var Re=(0,_.op)({isFinite_:function(e){var t={x:(0,b._1)(e,"x","isFinite")};return Q.BV.runKernel(J.av,t)}});var Ne=(0,_.op)({isInf_:function(e){var t={x:(0,b._1)(e,"x","isInf")};return Q.BV.runKernel(J.iW,t)}}),Pe=n(37005),Me=n(74419),De=n(44920),Le=n(12642),je=n(62453),Fe=n(40936),Ze=n(40378),Be=n(95341),Ue=n(66450),Ve=n(4362),ze=n(54626);var We=(0,_.op)({logSigmoid_:function(e){var t=(0,b._1)(e,"x","logSigmoid"),n=(0,Ue.cb)((function(e){return{value:(0,Ve.W)((0,ze.W)((0,Ve.W)(e))),gradFunc:function(t){return(0,w.d)(t,(0,S.X)((0,Ve.W)(e)))}}}));return n(t)}}),He=n(54561),Ge=n(88473),qe=n(56176),Ke=n(84774),Ye=n(40227);var Xe=(0,_.op)({logSumExp_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(0,b._1)(e,"x","logSumExp"),i=(0,I.EC)(t,r.shape),a=(0,qe.F)(r,i,!0),s=(0,Ke.l)(r,a),u=(0,be.Q)(s),c=(0,Ye.S)(u,i),l=(0,Ze.c)(c),f=(0,o.I)((0,$.X)(a,l.shape),l);if(n){var d=(0,Ge.rv)(f.shape,i);return(0,$.X)(f,d)}return f}}),Qe=n(2177),Je=n(30875),$e=n(15117),et=n(45774);var tt=(0,_.op)({logicalXor_:function(e,t){var n=(0,b._1)(e,"a","logicalXor","bool"),r=(0,b._1)(t,"b","logicalXor","bool");return(0,et.assertAndGetBroadcastShape)(n.shape,r.shape),(0,Qe.H)((0,$e.K)(e,t),(0,Je.h)((0,Qe.H)(e,t)))}}),nt=n(94255),rt=n(85777),it=n(39185),at=n(78811),ot=n(70705),st=n(6568),ut=n(86100),ct=n(4376);function lt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.indexing,i=void 0===r?"xy":r;if("xy"!==i&&"ij"!==i)throw new TypeError("".concat(i," is not a valid third argument to meshgrid"));if(void 0===e)return[];var a=(0,b._1)(e,"x","meshgrid",e instanceof ct.es?e.dtype:"float32");if(void 0===t)return[a];var o=(0,b._1)(t,"y","meshgrid",t instanceof ct.es?t.dtype:"float32"),s=(0,I.NA)(a.shape),u=(0,I.NA)(o.shape);return"xy"===i?(a=(0,$.X)(a,[1,-1]),o=(0,$.X)(o,[-1,1]),[(0,k.O)((0,ut.i)([u,1],a.dtype),a),(0,k.O)(o,(0,ut.i)([1,s],o.dtype))]):(a=(0,$.X)(a,[-1,1]),o=(0,$.X)(o,[1,-1]),[(0,k.O)(a,(0,ut.i)([1,u],a.dtype)),(0,k.O)((0,ut.i)([s,1],o.dtype),o)])}var ft=n(77891),dt=n(82273),pt=n(27613),ht=n(84645),vt=n(7391);var mt=(0,_.op)({moments_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=(0,b._1)(e,"x","moments");var r=(0,I.EC)(t,e.shape),i=(0,st.J)(e,r,n),a=i.shape;n||(a=(0,Ge.rv)(i.shape,r));var o=(0,vt.h)((0,Ke.l)((0,F.p)(e,"float32"),(0,$.X)(i,a))),s=(0,st.J)(o,r,n);return{mean:i,variance:s}}});var gt=(0,_.op)({multiRNNCell_:function(e,t,n,r){for(var i=(0,b._1)(t,"data","multiRNNCell"),a=(0,b.sI)(n,"c","multiRNNCell"),o=(0,b.sI)(r,"h","multiRNNCell"),s=i,u=[],c=0;c<e.length;c++){var l=e[c](s,a[c],o[c]);u.push(l[0]),u.push(l[1]),s=l[1]}for(var f=[],d=[],p=0;p<u.length;p+=2)f.push(u[p]),d.push(u[p+1]);return[f,d]}}),yt=n(4660),bt=n(15549),xt=n(34326),kt=n(20773);var wt=(0,_.op)({outerProduct_:function(e,t){var n=(0,b._1)(e,"v1","outerProduct"),r=(0,b._1)(t,"v2","outerProduct");I.hu(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")}));var i=(0,$.X)(n,[-1,1]),a=(0,$.X)(r,[1,-1]);return(0,k.O)(i,a)}}),_t=n(71970);var St=(0,_.op)({pad1d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,I.hu)(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),(0,_t.v)(e,[t],n)}});var Tt=(0,_.op)({pad2d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,I.hu)(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),(0,_t.v)(e,t,n)}});var Et=(0,_.op)({pad3d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,I.hu)(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),(0,_t.v)(e,t,n)}});var Ct=(0,_.op)({pad4d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,I.hu)(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),(0,_t.v)(e,t,n)}}),Ot=n(29439),At=n(39151),It=n(65696);var Rt=(0,_.op)({pool_:function(e,t,n,r,i,a,o){null==i&&(i=[1,1]),null==a&&(a=1),0===r&&(r="valid");var s=(0,b._1)(e,"x","maxPool"),u=s,c=!1;3===s.rank&&(c=!0,u=(0,$.X)(s,[1,s.shape[0],s.shape[1],s.shape[2]])),I.hu(At.jT(a,i),(function(){return"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(a," and dilations '").concat(i,"'")}));var l,f=At.Xw(u.shape,t,a,i,r),d=[f.dilationHeight,f.dilationWidth];l="same"===r?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})).map((function(e){return e-1})),r=n.map((function(e){return Math.floor(e/2)})),i=n.map((function(e,t){return e-r[t]}));return n.map((function(e,t){return[r[t],i[t]]}))}([f.filterHeight,f.filterWidth],d):[[0,0],[0,0]];var p=1===d[0]&&1===d[1],h=function(e,t,n){var r=n.map((function(e){return e[0]})),i=n.map((function(e){return e[1]})),a=e.concat(r,i),o=t.map((function(e,t){return(e-a[t]%e)%e})),s=i.map((function(e,t){return e+o[t]})),u=t.map((function(e,t){return[r[t],s[t]]})),c=t.map((function(e,t){return[0,o[t]]}));return[u,c]}([f.inHeight,f.inWidth],d,l),v=(0,Ot.Z)(h,2),m=v[0],y=v[1],x=p?r:"valid",k=p?u:(0,It.f)(u,d,m),w=("avg"===n?function(){return(0,g.w)(k,t,a,x,o)}:function(){return(0,rt._)(k,t,a,x,o)})(),_=p?w:(0,O.E)(w,d,y);return c?(0,$.X)(_,[_.shape[1],_.shape[2],_.shape[3]]):_}}),Nt=n(44334),Pt=n(96859),Mt=n(64600),Dt=n(67722);var Lt=(0,_.op)({rand_:function(e,t,n){var r=(0,I.NA)(e),i=null;if(null==n||"float32"===n)i=new Float32Array(r);else if("int32"===n)i=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));i=new Uint8Array(r)}for(var a=0;a<r;a++)i[a]=t();return Q.BV.makeTensor(i,e,n)}}),jt=n(14466);var Ft=(0,_.op)({randomGamma_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",i=arguments.length>4?arguments[4]:void 0;if(null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type ".concat(r));for(var a=new jt.T9(t,n,r,i),o=(0,j.f)(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}});var Zt=(0,_.op)({randomNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(null!=r&&"bool"===r)throw new Error("Unsupported data type ".concat(r));for(var a=new jt.Yi(t,n,r,!1,i),o=(0,j.f)(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),Bt=n(16407),Ut=n(422),Vt=n(26972),zt=n(12209),Wt=n(17539),Ht=n(65900),Gt=n(34933);var qt=(0,_.op)({reverse1d_:function(e){var t=(0,b._1)(e,"x","reverse");return I.hu(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,".")})),(0,Gt.G)(t,0)}});var Kt=(0,_.op)({reverse2d_:function(e,t){var n=(0,b._1)(e,"x","reverse");return I.hu(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,".")})),(0,Gt.G)(n,t)}});var Yt=(0,_.op)({reverse3d_:function(e,t){var n=(0,b._1)(e,"x","reverse");return I.hu(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,".")})),(0,Gt.G)(n,t)}});var Xt=(0,_.op)({reverse4d_:function(e,t){var n=(0,b._1)(e,"x","reverse");return I.hu(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,".")})),(0,Gt.G)(n,t)}}),Qt=n(60766),Jt=n(65115),$t=n(27067),en=n(20413);var tn=(0,_.op)({separableConv2d_:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC",s=(0,b._1)(e,"x","separableConv2d"),u=(0,b._1)(t,"depthwiseFilter","separableConv2d"),c=(0,b._1)(n,"pointwiseFilter","separableConv2d"),l=s,f=!1;if(3===s.rank&&(f=!0,l=(0,$.X)(s,[1,s.shape[0],s.shape[1],s.shape[2]])),"NCHW"===o)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");I.hu(4===l.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(l.rank,".")})),I.hu(4===u.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(u.rank,".")})),I.hu(4===c.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(u.rank,".")})),I.hu(1===c.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(c.shape[0],".")})),I.hu(1===c.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(c.shape[1],".")}));var d=u.shape[2],p=u.shape[3];I.hu(c.shape[2]===d*p,(function(){return"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(d*p,", ")+"but got ".concat(c.shape[2],".")}));var h=(0,ue.B)(l,u,r,i,o,a),v=1,m=(0,K.T)(h,c,v,"valid",o);return f?(0,$.X)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}}),nn=n(24438),rn=n(2070),an=n(87254),on=n(57657);var sn=(0,_.op)({slice1d_:function(e,t,n){var r=(0,b._1)(e,"x","slice1d");return I.hu(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-".concat(r.rank," tensor")})),(0,T.t)(r,[t],[n])}});var un=(0,_.op)({slice2d_:function(e,t,n){var r=(0,b._1)(e,"x","slice2d");return I.hu(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-".concat(r.rank," tensor")})),(0,T.t)(r,t,n)}});var cn=(0,_.op)({slice3d_:function(e,t,n){var r=(0,b._1)(e,"x","slice3d");return I.hu(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-".concat(r.rank," tensor")})),(0,T.t)(r,t,n)}});var ln=(0,_.op)({slice4d_:function(e,t,n){var r=(0,b._1)(e,"x","slice4d");return I.hu(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-".concat(r.rank," tensor")})),(0,T.t)(r,t,n)}}),fn=n(74910),dn=n(37635),pn=n(50530),hn=n(774),vn=n(64617),mn=n(82588),gn=n(46902),yn=n(7993),bn=n(83931),xn=n(18306),kn=n(94031),wn=n(39017),_n=n(66999),Sn=n(72442),Tn=n(92894),En=n(77960);function Cn(e,t,n){if((0,I.Cq)(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=(0,b.C)(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return(0,En.H)(e,t,r,n)}var On=n(73123);function An(e,t,n){if((0,I.Cq)(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=(0,b.C)(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return(0,En.H)(e,t,r,n)}function In(e,t,n){if((0,I.Cq)(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=(0,b.C)(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return(0,En.H)(e,t,r,n)}function Rn(e,t,n){if((0,I.Cq)(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=(0,b.C)(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||r,(0,En.H)(e,t,r,n)}var Nn=n(29085),Pn=n(52453),Mn=n(74860);var Dn=(0,_.op)({unsortedSegmentSum_:function(e,t,n){var r=(0,b._1)(e,"x","unsortedSegmentSum"),i=(0,b._1)(t,"segmentIds","unsortedSegmentSum","int32");(0,I.hu)((0,I.GN)(n),(function(){return"numSegments must be of dtype int"}));var a={x:r,segmentIds:i},o={numSegments:n};return Q.BV.runKernel(J.Qv,a,o)}}),Ln=n(54566),jn=n(16035);function Fn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return Q.BV.makeVariable(e,t,n,r)}var Zn=n(10329),Bn=n(41867),Un=n(87742),Vn=n(87293),zn=n(74165),Wn=n(15861);function Hn(){return Hn=(0,Wn.Z)((0,zn.Z)().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d,p,h,v,m;return(0,zn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=(0,b._1)(t,"tensor","boolMask"),a=(0,b._1)(n,"mask","boolMask","bool"),o=null==r?0:r,s=a.rank,u=i.shape,I.hu(s>0,(function(){return"mask cannot be scalar"})),I.k5(u.slice(o,o+s),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),c=1,l=o;l<o+s;l++)c*=u[l];return f=u.slice(0,o).concat([c],u.slice(o+s)),d=(0,$.X)(i,f),p=(0,$.X)(a,[-1]),e.next=14,(0,Bn.i)(p);case 14:return h=e.sent,v=(0,bn.L)(h,[1]),m=(0,Ce.I)(d,v,o),t!==i&&i.dispose(),n!==a&&a.dispose(),v.dispose(),d.dispose(),p.dispose(),h.dispose(),e.abrupt("return",m);case 24:case"end":return e.stop()}}),e)}))),Hn.apply(this,arguments)}var Gn=function(e,t,n){return Hn.apply(this,arguments)},qn=n(61240),Kn=n(56662),Yn=n(99064);var Xn=(0,_.op)({movingAverage_:function(e,t,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=(0,b._1)(e,"v","movingAverage"),s=(0,b._1)(t,"x","movingAverage"),u=(0,b._1)(n,"decay","movingAverage");(0,Yn.assertTypesMatch)(a,s),I.hu(I.cO(a.shape,s.shape),(function(){return"Shape mismatch in v and x"}));var c=(0,$t.i)(1),l=(0,Ke.l)(c,u),f=(0,w.d)((0,Ke.l)(s,a),l);if(i){I.hu(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var d=(0,b._1)(r,"step","movingAverage");f=(0,fe.h)(f,(0,Ke.l)(c,(0,Nt.s)(u,d)))}return(0,o.I)(a,f)}}),Qn=n(23522),Jn=n(9028),$n=n(49991),er=n(53357);var tr=(0,_.op)({dropout_:function(e,t,n,r){var i=(0,b._1)(e,"x","dropout");if(I.hu("float32"===i.dtype,(function(){return"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(i.dtype," tensor instead.")})),I.hu(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got ".concat(t,".")})),0===t)return e instanceof ct.es?i.clone():i;var a=function(e,t){if(null==t)return e.shape.slice();if(I.cO(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(i,n),s=1-t,u=(0,fe.h)((0,Te.G)((0,o.I)((0,Bt.L)(a,0,1,"float32",r),s)),s);return(0,w.d)(i,u)}});function nr(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function rr(e,t,n){for(var r=1-e%2,i=new Float32Array(e),a=0;a<e;++a){var o=2*Math.PI*a/(e+r-1);i[a]=t-n*Math.cos(o)}return(0,Tn.R)(i,"float32")}function ir(){return ir=(0,Wn.Z)((0,zn.Z)().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,d,p,h,v,m,g,y=arguments;return(0,zn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.length>2&&void 0!==y[2]?y[2]:1,i=(0,b._1)(t,"predictions","inTopK"),a=(0,b._1)(n,"targets","inTopK"),(0,I.hu)(i.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(i.rank)})),(0,I.hu)(i.rank-1===a.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(i.rank," and targets rank ").concat(a.rank)})),(0,I.k5)(i.shape.slice(0,i.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=i.shape[i.shape.length-1],(0,I.hu)(r>0&&r<=o,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(o,"), but got ").concat(r)})),e.next=10,i.data();case 10:return s=e.sent,e.next=13,a.data();case 13:u=e.sent,c=s.length/o,l=o,f=(0,I.WP)("bool",c),d=0;case 17:if(!(d<c)){e.next=35;break}for(p=d*l,h=s.subarray(p,p+l),v=[],m=0;m<h.length;m++)v.push({value:h[m],index:m});v.sort((function(e,t){return t.value-e.value})),f[d]=0,g=0;case 25:if(!(g<r)){e.next=32;break}if(v[g].index!==u[d]){e.next=29;break}return f[d]=1,e.abrupt("break",32);case 29:g++,e.next=25;break;case 32:d++,e.next=17;break;case 35:return t!==i&&i.dispose(),n!==a&&a.dispose(),e.abrupt("return",(0,Sn.X)(f,a.shape,"bool"));case 38:case"end":return e.stop()}}),e)}))),ir.apply(this,arguments)}var ar=function(e,t){return ir.apply(this,arguments)},or=n(97500);var sr=(0,_.op)({hammingWindow_:function(e){return rr(e,.54,.46)}});var ur=(0,_.op)({hannWindow_:function(e){return rr(e,.5,.5)}});var cr=(0,_.op)({frame_:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=0,o=[];a+t<=e.size;)o.push((0,T.t)(e,a,t)),a+=n;if(r)for(;a<e.size;){var s=a+t-e.size,u=(0,x.z)([(0,T.t)(e,a,t-s),(0,Se.h)([s],i)]);o.push(u),a+=n}return 0===o.length?Cn([],[0,t]):(0,$.X)((0,x.z)(o),[o.length,t])}});var lr=(0,_.op)({stft_:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ur;null==r&&(r=nr(t));var a=cr(e,t,n),o=(0,w.d)(a,i(t));return(0,vn.Q)(o,r)}});var fr=(0,_.op)({cropAndResize_:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=(0,b._1)(e,"image","cropAndResize"),s=(0,b._1)(t,"boxes","cropAndResize","float32"),u=(0,b._1)(n,"boxInd","cropAndResize","int32"),c=s.shape[0];I.hu(4===o.rank,(function(){return"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(o.rank,".")})),I.hu(2===s.rank&&4===s.shape[1],(function(){return"Error in cropAndResize: boxes must be have size [".concat(c,",4] ")+"but had shape ".concat(s.shape,".")})),I.hu(1===u.rank&&u.shape[0]===c,(function(){return"Error in cropAndResize: boxInd must be have size [".concat(c,"] ")+"but had shape ".concat(s.shape,".")})),I.hu(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(r.length,".")})),I.hu(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was ".concat(r)})),I.hu("bilinear"===i||"nearest"===i,(function(){return"method must be bilinear or nearest, but was ".concat(i)}));var l={image:o,boxes:s,boxInd:u},f={method:i,extrapolationValue:a,cropSize:r},d=Q.BV.runKernel(J.Vc,l,f);return d}});var dr=(0,_.op)({flipLeftRight_:function(e){var t=(0,b._1)(e,"image","flipLeftRight","float32");I.hu(4===t.rank,(function(){return"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")}));var n={image:t};return Q.BV.runKernel(J.Uy,n,{})}});var pr=(0,_.op)({grayscaleToRGB_:function(e){var t=(0,b._1)(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];I.hu(t.rank>=2,(function(){return"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(t.rank,".")})),I.hu(1===r,(function(){return"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(r,".")}));var i=new Array(t.rank);return i.fill(1,0,n),i[n]=3,(0,we.G)(t,i)}});var hr=(0,_.op)({rotateWithOffset_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=(0,b._1)(e,"image","rotateWithOffset","float32");I.hu(4===i.rank,(function(){return"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(i.rank,".")}));var a={image:i},o={radians:t,fillValue:n,center:r},s=Q.BV.runKernel(J.b9,a,o);return s}});function vr(e,t,n,r,i,a){null==r&&(r=.5),null==i&&(i=Number.NEGATIVE_INFINITY),null==a&&(a=0);var o=e.shape[0];return n=Math.min(n,o),I.hu(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '".concat(r,"'")})),I.hu(2===e.rank,(function(){return"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'")})),I.hu(4===e.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1])})),I.hu(1===t.rank,(function(){return"scores must be a 1D tensor"})),I.hu(t.shape[0]===o,(function(){return"scores has incompatible shape with boxes. Expected ".concat(o,", ")+"but was ".concat(t.shape[0])})),I.hu(0<=a&&a<=1,(function(){return"softNmsSigma must be in [0, 1], but was '".concat(a,"'")})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:i,softNmsSigma:a}}var mr=(0,_.op)({nonMaxSuppression_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=(0,b._1)(e,"boxes","nonMaxSuppression","float32"),o=(0,b._1)(t,"scores","nonMaxSuppression","float32"),s=vr(a,o,n,r,i),u={maxOutputSize:n=s.maxOutputSize,iouThreshold:r=s.iouThreshold,scoreThreshold:i=s.scoreThreshold};return Q.BV.runKernel(J.uv,{boxes:a,scores:o},u)}}),gr=n(60745);function yr(){return yr=(0,Wn.Z)((0,zn.Z)().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d,p,h=arguments;return(0,zn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=h.length>3&&void 0!==h[3]?h[3]:.5,a=h.length>4&&void 0!==h[4]?h[4]:Number.NEGATIVE_INFINITY,o=(0,b._1)(t,"boxes","nonMaxSuppressionAsync"),s=(0,b._1)(n,"scores","nonMaxSuppressionAsync"),u=vr(o,s,r,i,a),r=u.maxOutputSize,i=u.iouThreshold,a=u.scoreThreshold,e.next=10,Promise.all([o.data(),s.data()]);case 10:return c=e.sent,l=c[0],f=c[1],d=(0,gr.GP)(l,f,r,i,a),p=d.selectedIndices,o!==t&&o.dispose(),s!==n&&s.dispose(),e.abrupt("return",(0,Tn.R)(p,"int32"));case 17:case"end":return e.stop()}}),e)}))),yr.apply(this,arguments)}var br=function(e,t,n){return yr.apply(this,arguments)};var xr=(0,_.op)({nonMaxSuppressionWithScore_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=(0,b._1)(e,"boxes","nonMaxSuppression"),s=(0,b._1)(t,"scores","nonMaxSuppression"),u=vr(o,s,n,r,i,a),c={boxes:o,scores:s},l={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:i=u.scoreThreshold,softNmsSigma:a=u.softNmsSigma},f=Q.BV.runKernel(J.W0,c,l);return{selectedIndices:f[0],selectedScores:f[1]}}});function kr(){return kr=(0,Wn.Z)((0,zn.Z)().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d,p,h,v,m=arguments;return(0,zn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=m.length>3&&void 0!==m[3]?m[3]:.5,a=m.length>4&&void 0!==m[4]?m[4]:Number.NEGATIVE_INFINITY,o=m.length>5&&void 0!==m[5]?m[5]:0,s=(0,b._1)(t,"boxes","nonMaxSuppressionAsync"),u=(0,b._1)(n,"scores","nonMaxSuppressionAsync"),c=vr(s,u,r,i,a,o),r=c.maxOutputSize,i=c.iouThreshold,a=c.scoreThreshold,o=c.softNmsSigma,e.next=12,Promise.all([s.data(),u.data()]);case 12:return l=e.sent,f=l[0],d=l[1],p=(0,gr.pA)(f,d,r,i,a,o),h=p.selectedIndices,v=p.selectedScores,s!==t&&s.dispose(),u!==n&&u.dispose(),e.abrupt("return",{selectedIndices:(0,Tn.R)(h,"int32"),selectedScores:(0,Tn.R)(v)});case 19:case"end":return e.stop()}}),e)}))),kr.apply(this,arguments)}var wr=function(e,t,n){return kr.apply(this,arguments)};var _r=(0,_.op)({nonMaxSuppressionPadded_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=(0,b._1)(e,"boxes","nonMaxSuppression"),s=(0,b._1)(t,"scores","nonMaxSuppression"),u=vr(o,s,n,r,i,null),c=u.maxOutputSize,l=u.iouThreshold,f=u.scoreThreshold,d={boxes:o,scores:s},p={maxOutputSize:c,iouThreshold:l,scoreThreshold:f,padToMaxOutputSize:a},h=Q.BV.runKernel(J.cy,d,p);return{selectedIndices:h[0],validOutputs:h[1]}}});function Sr(){return Sr=(0,Wn.Z)((0,zn.Z)().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d,p,h,v,m,g,y,x,k=arguments;return(0,zn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=k.length>3&&void 0!==k[3]?k[3]:.5,a=k.length>4&&void 0!==k[4]?k[4]:Number.NEGATIVE_INFINITY,o=k.length>5&&void 0!==k[5]&&k[5],s=(0,b._1)(t,"boxes","nonMaxSuppressionAsync"),u=(0,b._1)(n,"scores","nonMaxSuppressionAsync"),c=vr(s,u,r,i,a,null),l=c.maxOutputSize,f=c.iouThreshold,d=c.scoreThreshold,e.next=11,Promise.all([s.data(),u.data()]);case 11:return p=e.sent,h=(0,Ot.Z)(p,2),v=h[0],m=h[1],g=(0,gr.qP)(v,m,l,f,d,o),y=g.selectedIndices,x=g.validOutputs,s!==t&&s.dispose(),u!==n&&u.dispose(),e.abrupt("return",{selectedIndices:(0,Tn.R)(y,"int32"),validOutputs:(0,$t.i)(x,"int32")});case 19:case"end":return e.stop()}}),e)}))),Sr.apply(this,arguments)}var Tr=function(e,t,n){return Sr.apply(this,arguments)},Er=n(83878),Cr=n(59199),Or=n(40181),Ar=n(25267);function Ir(e){return(0,Er.Z)(e)||(0,Cr.Z)(e)||(0,Or.Z)(e)||(0,Ar.Z)()}var Rr=(0,_.op)({resizeBilinear_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=(0,b._1)(e,"images","resizeBilinear");I.hu(3===i.rank||4===i.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(i.rank,".")})),I.hu(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,".")})),I.hu(!1===r||!1===n,(function(){return"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."}));var a=i,o=!1;3===i.rank&&(o=!0,a=(0,$.X)(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Ir(t);var s={images:a},u={alignCorners:n,halfPixelCenters:r,size:t},c=Q.BV.runKernel(J._Y,s,u);return o?(0,$.X)(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});var Nr=(0,_.op)({resizeNearestNeighbor_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=(0,b._1)(e,"images","resizeNearestNeighbor");I.hu(3===i.rank||4===i.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(i.rank,".")})),I.hu(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,".")})),I.hu("float32"===i.dtype||"int32"===i.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"})),I.hu(!1===r||!1===n,(function(){return"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."}));var a=i,o=!1;3===i.rank&&(o=!0,a=(0,$.X)(i,[1,i.shape[0],i.shape[1],i.shape[2]])),Ir(t);var s={images:a},u={alignCorners:n,halfPixelCenters:r,size:t},c=Q.BV.runKernel(J.dp,s,u);return o?(0,$.X)(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});function Pr(e,t){for(var n,r,i,a,s,u,c=(0,Tn.R)([-1]),l=(0,Tn.R)([0]),f=(0,Tn.R)([0]),d=0;d<e.size-1;d++){n=(0,T.t)(e,0,d+1),r=(0,T.t)(e,d+1),s=(0,fe.h)((0,Ye.S)(n),t),u=(0,fe.h)((0,Ye.S)(r),t);var p=(0,Ye.S)((0,w.d)(n,(0,Ut.w)(0,n.size)));i=(0,fe.h)(p,(0,Ye.S)(n));var h=(0,Se.h)(r.shape,n.size),v=(0,o.I)((0,Ut.w)(0,r.size),h),m=(0,w.d)(r,v);a=(0,fe.h)((0,Ye.S)(m),(0,Ye.S)(r));var g=(0,Ke.l)(i,a),y=(0,Ke.l)(i,a),b=(0,w.d)(s,u);f=(0,w.d)((0,w.d)(b,g),y);var x=(0,Oe.p)(f,l);l=(0,Zn.a)(x,f,l),c=(0,Zn.a)(x,(0,Tn.R)([d]),c)}return c}var Mr=(0,_.op)({threshold_:function(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,c=(0,b._1)(e,"image","threshold"),l=.2989,f=.587,d=.114,p=c.shape[0]*c.shape[1],h=(0,w.d)((0,Tn.R)([u]),255);if(I.hu(3===c.rank,(function(){return"Error in threshold: image must be rank 3,"+"but got rank ".concat(c.rank,".")})),I.hu(3===c.shape[2]||1===c.shape[2],(function(){return"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(c.shape[2],".")})),I.hu("int32"===c.dtype||"float32"===c.dtype,(function(){return"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(c.dtype,".")})),I.hu("otsu"===a||"binary"===a,(function(){return"Method must be binary or otsu, but was ".concat(a)})),3===c.shape[2]){var v=(0,mn.V)(c,[1,1,1],-1),m=(0,Ot.Z)(v,3);t=m[0],n=m[1],r=m[2];var g=(0,w.d)(t,l),y=(0,w.d)(n,f),x=(0,w.d)(r,d);i=(0,o.I)((0,o.I)(g,y),x)}else i=e;if("otsu"===a){var k=(0,M.y)((0,F.p)((0,Qt.N)(i),"int32"),(0,Sn.X)([]),256);h=Pr(k,p)}var _=s?(0,Le.z)(i,h):(0,Oe.p)(i,h),S=(0,F.p)((0,w.d)(_,255),"int32");return S}});var Dr=(0,_.op)({transform_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5?arguments[5]:void 0,o=(0,b._1)(e,"image","transform","float32"),s=(0,b._1)(t,"transforms","transform","float32");I.hu(4===o.rank,(function(){return"Error in transform: image must be rank 4,"+"but got rank ".concat(o.rank,".")})),I.hu(2===s.rank&&(s.shape[0]===o.shape[0]||1===s.shape[0])&&8===s.shape[1],(function(){return"Error in transform: Input transform should be batch x 8 or 1 x 8"})),I.hu(null==a||2===a.length,(function(){return"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(a,".")}));var u={image:o,transforms:s},c={interpolation:n,fillMode:r,fillValue:i,outputShape:a};return Q.BV.runKernel(J.wx,u,c)}});var Lr=(0,_.op)({bandPart_:function(e,t,n){(0,I.hu)(t%1===0,(function(){return"bandPart(): numLower must be an integer, got ".concat(t,".")})),(0,I.hu)(n%1===0,(function(){return"bandPart(): numUpper must be an integer, got ".concat(n,".")}));var r=(0,b._1)(e,"a","bandPart");(0,I.hu)(r.rank>=2,(function(){return"bandPart(): Rank must be at least 2, got ".concat(r.rank,".")}));var i=r.shape,a=r.shape.slice(-2),o=(0,Ot.Z)(a,2),s=o[0],u=o[1];if(!(t<=s))throw new Error("bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(s,")."));if(!(n<=u))throw new Error("bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(u,")."));t<0&&(t=s),n<0&&(n=u);var c=(0,$.X)((0,Ut.w)(0,s,1,"int32"),[-1,1]),l=(0,Ut.w)(0,u,1,"int32"),f=(0,Ke.l)(c,l),d=(0,Qe.H)((0,Le.z)(f,(0,$t.i)(+t,"int32")),(0,Ae.b)(f,(0,$t.i)(-n,"int32"))),p=(0,Un.l)([s,u],r.dtype);return(0,$.X)((0,xn.k)((0,Ln.H)((0,$.X)(r,[-1,s,u])).map((function(e){return(0,Zn.a)(d,e,p)}))),i)}});var jr=(0,_.op)({gramSchmidt_:function(e){var t;Array.isArray(e)?function(){t=!1,(0,I.hu)(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){(0,I.hu)(e[t].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(n,")")}))},i=1;i<e.length;++i)r(i)}():(t=!0,e=(0,mn.V)(e,e.shape[0],0).map((function(e){return(0,bn.L)(e,[0])}))),(0,I.hu)(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],").")}));for(var n=[],r=e,i=function(e){n.push(Q.BV.tidy((function(){var t=r[e];if(e>0)for(var i=0;i<e;++i){var a=(0,w.d)((0,Ye.S)((0,w.d)(n[i],t)),n[i]);t=(0,Ke.l)(t,a)}return(0,fe.h)(t,(0,Kn.K)(t,"euclidean"))})))},a=0;a<e.length;++a)i(a);return t?(0,xn.k)(n,0):n}}),Fr=n(35875);function Zr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Q.BV.tidy((function(){(0,I.hu)(2===e.shape.length,(function(){return"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")}));for(var n=e.shape[0],r=e.shape[1],i=_e(n),a=(0,U.d)(e),o=Cn([[1]],[1,1]),s=(0,U.d)(o),u=n>=r?r:n,c=function(e){var t=a,u=s,c=i,l=Q.BV.tidy((function(){var t=(0,T.t)(a,[e,e],[n-e,1]),u=(0,Kn.K)(t),c=(0,T.t)(a,[e,e],[1,1]),l=(0,Zn.a)((0,Oe.p)(c,0),Cn([[-1]]),Cn([[1]])),f=(0,Ke.l)(c,(0,w.d)(l,u)),d=(0,fe.h)(t,f);s=1===d.shape[0]?(0,U.d)(o):(0,x.z)([o,(0,T.t)(d,[1,0],[d.shape[0]-1,d.shape[1]])],0);var p=(0,Ve.W)((0,fe.h)((0,k.O)(l,f),u)),h=(0,T.t)(a,[e,0],[n-e,r]),v=(0,w.d)(p,s),m=(0,qn.p)(s);if(0===e)a=(0,Ke.l)(h,(0,k.O)(v,(0,k.O)(m,h)));else{var g=(0,Ke.l)(h,(0,k.O)(v,(0,k.O)(m,h)));a=(0,x.z)([(0,T.t)(a,[0,0],[e,r]),g],0)}var y=(0,qn.p)(v),b=(0,T.t)(i,[0,e],[n,i.shape[1]-e]);if(0===e)i=(0,Ke.l)(b,(0,k.O)((0,k.O)(b,s),y));else{var _=(0,Ke.l)(b,(0,k.O)((0,k.O)(b,s),y));i=(0,x.z)([(0,T.t)(i,[0,0],[n,e]),_],1)}return[s,a,i]})),f=(0,Ot.Z)(l,3);s=f[0],a=f[1],i=f[2],(0,Fr.B9)([t,u,c])},l=0;l<u;++l)c(l);return!t&&n>r&&(i=(0,T.t)(i,[0,0],[n,r]),a=(0,T.t)(a,[0,0],[r,r])),[i,a]}))}var Br=(0,_.op)({qr_:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,I.hu)(e.rank>=2,(function(){return"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank)})),2===e.rank)return Zr(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=(0,Ln.H)((0,$.X)(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),i=[],a=[];r.forEach((function(e){var n=Zr(e,t),r=(0,Ot.Z)(n,2),o=r[0],s=r[1];i.push(o),a.push(s)}));var o=(0,$.X)((0,xn.k)(i,0),e.shape),s=(0,$.X)((0,xn.k)(a,0),e.shape);return[o,s]}}),Ur=n(47627);var Vr=(0,_.op)({computeWeightedLoss_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ur.I.SUM_BY_NONZERO_WEIGHTS,r=(0,b._1)(e,"losses","computeWeightedLoss"),i=null;null!=t&&(i=(0,b._1)(t,"weights","computeWeightedLoss"));var a=null==i?r:(0,w.d)(r,i);if(n===Ur.I.NONE)return a;if(n===Ur.I.SUM)return(0,Ye.S)(a);if(n===Ur.I.MEAN){if(null==i)return(0,st.J)(a);var o=r.size/i.size,s=(0,fe.h)((0,Ye.S)(a),(0,Ye.S)(i));return o>1?(0,fe.h)(s,(0,$t.i)(o)):s}if(n===Ur.I.SUM_BY_NONZERO_WEIGHTS){if(null==i)return(0,fe.h)((0,Ye.S)(a),(0,$t.i)(r.size));var u=(0,w.d)(i,(0,ut.i)(r.shape)),c=(0,F.p)((0,Ye.S)((0,bt.Q)(u,(0,$t.i)(0))),"float32");return(0,fe.h)((0,Ye.S)(a),c)}throw Error("Unknown reduction: ".concat(n))}});var zr=(0,_.op)({absoluteDifference_:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ur.I.SUM_BY_NONZERO_WEIGHTS,a=(0,b._1)(e,"labels","absoluteDifference"),o=(0,b._1)(t,"predictions","absoluteDifference"),s=null;null!=n&&(s=(0,b._1)(n,"weights","absoluteDifference")),(0,I.k5)(a.shape,o.shape,"Error in absoluteDifference: ");var u=(0,r.W)((0,Ke.l)(a,o));return Vr(u,s,i)}});var Wr=(0,_.op)({cosineDistance_:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ur.I.SUM_BY_NONZERO_WEIGHTS,a=(0,b._1)(e,"labels","cosineDistance"),o=(0,b._1)(t,"predictions","cosineDistance"),s=null;null!=r&&(s=(0,b._1)(r,"weights","cosineDistance")),(0,I.k5)(a.shape,o.shape,"Error in cosineDistance: ");var u=(0,$t.i)(1),c=(0,Ke.l)(u,(0,Ye.S)((0,w.d)(a,o),n,!0));return Vr(c,s,i)}});var Hr=(0,_.op)({hingeLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ur.I.SUM_BY_NONZERO_WEIGHTS,i=(0,b._1)(e,"labels","hingeLoss"),a=(0,b._1)(t,"predictions","hingeLoss"),o=null;null!=n&&(o=(0,b._1)(n,"weights","hingeLoss")),(0,I.k5)(i.shape,a.shape,"Error in hingeLoss: ");var s=(0,$t.i)(1);i=(0,Ke.l)((0,w.d)((0,$t.i)(2),i),s);var u=(0,Wt.U)((0,Ke.l)(s,(0,w.d)(i,a)));return Vr(u,o,r)}});var Gr=(0,_.op)({huberLoss_:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ur.I.SUM_BY_NONZERO_WEIGHTS,s=(0,b._1)(e,"labels","huberLoss"),u=(0,b._1)(t,"predictions","huberLoss"),c=null;null!=n&&(c=(0,b._1)(n,"weights","huberLoss")),(0,I.k5)(s.shape,u.shape,"Error in huberLoss: ");var l=(0,$t.i)(i),f=(0,r.W)((0,Ke.l)(u,s)),d=(0,dt.L)(f,l),p=(0,Ke.l)(f,d),h=(0,o.I)((0,w.d)((0,$t.i)(.5),(0,vt.h)(d)),(0,w.d)(l,p));return Vr(h,c,a)}});var qr=(0,_.op)({logLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ur.I.SUM_BY_NONZERO_WEIGHTS,a=(0,b._1)(e,"labels","logLoss"),s=(0,b._1)(t,"predictions","logLoss"),u=null;null!=n&&(u=(0,b._1)(n,"weights","logLoss")),(0,I.k5)(a.shape,s.shape,"Error in logLoss: ");var c=(0,$t.i)(1),l=(0,$t.i)(r),f=(0,Ve.W)((0,w.d)(a,(0,Ze.c)((0,o.I)(s,l)))),d=(0,w.d)((0,Ke.l)(c,a),(0,Ze.c)((0,o.I)((0,Ke.l)(c,s),l))),p=(0,Ke.l)(f,d);return Vr(p,u,i)}});var Kr=(0,_.op)({meanSquaredError_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ur.I.SUM_BY_NONZERO_WEIGHTS,i=(0,b._1)(e,"labels","meanSquaredError"),a=(0,b._1)(t,"predictions","meanSquaredError"),o=null;null!=n&&(o=(0,b._1)(n,"weights","meanSquaredError")),(0,I.k5)(i.shape,a.shape,"Error in meanSquaredError: ");var s=(0,yn.$)(i,a);return Vr(s,o,r)}});function Yr(e,t){var n=(0,b._1)(e,"labels","sigmoidCrossEntropyWithLogits"),i=(0,b._1)(t,"logits","sigmoidCrossEntropyWithLogits");(0,I.k5)(n.shape,i.shape,"Error in sigmoidCrossEntropyWithLogits: ");var a=(0,Wt.U)(i),s=(0,w.d)(i,n),u=(0,Be.K)((0,be.Q)((0,Ve.W)((0,r.W)(i))));return(0,o.I)((0,Ke.l)(a,s),u)}var Xr=(0,_.op)({sigmoidCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ur.I.SUM_BY_NONZERO_WEIGHTS,a=(0,b._1)(e,"multiClassLabels","sigmoidCrossEntropy"),s=(0,b._1)(t,"logits","sigmoidCrossEntropy"),u=null;if(null!=n&&(u=(0,b._1)(n,"weights","sigmoidCrossEntropy")),(0,I.k5)(a.shape,s.shape,"Error in sigmoidCrossEntropy: "),r>0){var c=(0,$t.i)(r),l=(0,$t.i)(1),f=(0,$t.i)(.5);a=(0,o.I)((0,w.d)(a,(0,Ke.l)(l,c)),(0,w.d)(f,c))}var d=Yr(a,s);return Vr(d,u,i)}});function Qr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(n));var r=(0,Ue.cb)((function(e,t,r){var i=Xe(t,[n],!0),a=(0,Ke.l)((0,F.p)(t,"float32"),i);r([e,a]);var o=(0,Ve.W)((0,w.d)(a,e));return{value:(0,Ye.S)(o,[n]),gradFunc:function(e,t){var r=(0,Ot.Z)(t,2),i=r[0],a=r[1],o=(0,Ge.rv)(e.shape,[n]);return[(0,w.d)((0,$.X)(e,o),(0,Ke.l)((0,F.p)(i,"float32"),(0,be.Q)(a))),(0,w.d)((0,$.X)(e,o),(0,Ke.l)((0,be.Q)(a),(0,F.p)(i,"float32")))]}}}));return r(e,t)}var Jr=(0,_.op)({softmaxCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ur.I.SUM_BY_NONZERO_WEIGHTS,a=(0,b._1)(e,"onehotLabels","softmaxCrossEntropy"),s=(0,b._1)(t,"logits","softmaxCrossEntropy"),u=null;if(null!=n&&(u=(0,b._1)(n,"weights","softmaxCrossEntropy")),(0,I.k5)(a.shape,s.shape,"Error in softmaxCrossEntropy: "),r>0){var c=(0,$t.i)(r),l=(0,$t.i)(1),f=(0,$t.i)(a.shape[1]);a=(0,o.I)((0,w.d)(a,(0,Ke.l)(l,c)),(0,fe.h)(c,f))}var d=Qr(a,s);return Vr(d,u,i)}});var $r=(0,_.op)({sparseFillEmptyRows_:function(e,t,n,r){var i=(0,b._1)(e,"indices","sparseFillEmptyRows","int32"),a=(0,b._1)(t,"values","sparseFillEmptyRows"),o=(0,b._1)(n,"denseShape","sparseFillEmptyRows","int32"),s=(0,b._1)(r,"defaultValue","sparseFillEmptyRows",a.dtype);if(2!==i.rank)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(i.shape));if(1!==a.rank)throw new Error("Values should be Tensor1D but received shape ".concat(a.shape));if(1!==o.rank)throw new Error("Dense shape should be Tensor1D but received shape ".concat(o.shape));if(0!==s.rank)throw new Error("Default value should be a scalar but received shape ".concat(s.shape));var u={indices:i,values:a,denseShape:o,defaultValue:s},c=Q.BV.runKernel(J.O3,u);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}});var ei=(0,_.op)({sparseReshape_:function(e,t,n){var r=(0,b._1)(e,"inputIndices","sparseReshape","int32"),i=(0,b._1)(t,"inputShape","sparseReshape","int32"),a=(0,b._1)(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(r.shape));if(1!==i.rank)throw new Error("Input shape should be Tensor1D but received shape ".concat(i.shape));if(1!==a.rank)throw new Error("New shape should be Tensor1D but received shape ".concat(a.shape));var o={inputIndices:r,inputShape:i,newShape:a},s=Q.BV.runKernel(J.nh,o);return{outputIndices:s[0],outputShape:s[1]}}});var ti=(0,_.op)({sparseSegmentMean_:function(e,t,n){var r=(0,b._1)(e,"data","sparseSegmentMean"),i=(0,b._1)(t,"indices","sparseSegmentMean","int32"),a=(0,b._1)(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.rank)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(i.shape));if(1!==a.rank)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(a.shape));var o={data:r,indices:i,segmentIds:a};return Q.BV.runKernel(J.YW,o)}});var ni=(0,_.op)({sparseSegmentSum_:function(e,t,n){var r=(0,b._1)(e,"data","sparseSegmentSum"),i=(0,b._1)(t,"indices","sparseSegmentSum","int32"),a=(0,b._1)(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.rank)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(i.shape));if(1!==a.rank)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(a.shape));var o={data:r,indices:i,segmentIds:a};return Q.BV.runKernel(J.Zj,o)}});var ri=(0,_.op)({stringNGrams_:function(e,t,n,r,i,a,o,s){var u=(0,b._1)(e,"data","stringNGrams","string");if("string"!==u.dtype)throw new Error("Data must be of datatype string");if(1!==u.shape.length)throw new Error("Data must be a vector, saw: ".concat(u.shape));var c=(0,b._1)(t,"dataSplits","stringNGrams");if("int32"!==c.dtype)throw new Error("Data splits must be of datatype int32");var l={separator:n,nGramWidths:r,leftPad:i,rightPad:a,padWidth:o,preserveShortSequences:s},f={data:u,dataSplits:c},d=Q.BV.runKernel(J._J,f,l);return{nGrams:d[0],nGramsSplits:d[1]}}});var ii=(0,_.op)({stringSplit_:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(0,b._1)(e,"input","stringSplit","string"),i=(0,b._1)(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error("Input should be Tensor1D but received shape ".concat(r.shape));if(0!==i.rank)throw new Error("Delimiter should be a scalar but received shape ".concat(i.shape));var a={skipEmpty:n},o={input:r,delimiter:i},s=Q.BV.runKernel(J.s1,o,a);return{indices:s[0],values:s[1],shape:s[2]}}});var ai=(0,_.op)({stringToHashBucketFast_:function(e,t){var n=(0,b._1)(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");var i={input:n};return Q.BV.runKernel(J.Xk,i,r)}}),oi={fft:dn.k,ifft:pn.S,rfft:vn.Q,irfft:hn.w},si={hammingWindow:sr,hannWindow:ur,frame:cr,stft:lr},ui={flipLeftRight:dr,grayscaleToRGB:pr,resizeNearestNeighbor:Nr,resizeBilinear:Rr,rotateWithOffset:hr,cropAndResize:fr,nonMaxSuppression:mr,nonMaxSuppressionAsync:br,nonMaxSuppressionWithScore:xr,nonMaxSuppressionWithScoreAsync:wr,nonMaxSuppressionPadded:_r,nonMaxSuppressionPaddedAsync:Tr,threshold:Mr,transform:Dr},ci={bandPart:Lr,gramSchmidt:jr,qr:Br},li={absoluteDifference:zr,computeWeightedLoss:Vr,cosineDistance:Wr,hingeLoss:Hr,huberLoss:Gr,logLoss:qr,meanSquaredError:Kr,sigmoidCrossEntropy:Xr,softmaxCrossEntropy:Jr},fi={sparseFillEmptyRows:$r,sparseReshape:ei,sparseSegmentMean:ti,sparseSegmentSum:ni},di={stringNGrams:ri,stringSplit:ii,stringToHashBucketFast:ai}},71970:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({pad_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=(0,a._1)(e,"x","pad");if(0===o.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var s={paddings:t,constantValue:n},u={x:o};return r.BV.runKernel(i.ly,u,s)}})},44334:function(e,t,n){"use strict";n.d(t,{s:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({pow_:function(e,t){var n=(0,s._1)(e,"base","pow"),u=(0,s._1)(t,"exp","pow"),c=(0,o.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),f={a:n=l[0],b:u=l[1]};return i.BV.runKernel(a.pe,f)}})},96859:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({prelu_:function(e,t){var n={x:(0,a._1)(e,"x","prelu"),alpha:(0,a._1)(t,"alpha","prelu")};return r.BV.runKernel(i.o0,n)}})},64600:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}n.d(t,{S:function(){return r}})},67722:function(e,t,n){"use strict";n.d(t,{W:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(99118);var s=(0,n(38640).op)({prod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=(0,a._1)(e,"x","prod");"bool"===s.dtype&&(s=(0,o.p)(s,"int32"));var u={x:s},c={axis:t,keepDims:n};return r.BV.runKernel(i.Dl,u,c)}})},14466:function(e,t,n){"use strict";n.d(t,{T9:function(){return s},Yi:function(){return o},wv:function(){return u}});var r=n(15671),i=n(43144),a=n(96699),o=function(){function e(t,n,i,o,s){(0,r.Z)(this,e),this.mean=t,this.stdDev=n,this.dtype=i,this.nextVal=NaN,this.truncated=o,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var u=s||Math.random();this.random=a.alea(u.toString())}return(0,i.Z)(e,[{key:"nextValue",value:function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var i=void 0,a=void 0,o=void 0;do{o=(i=2*this.random()-1)*i+(a=2*this.random()-1)*a}while(o>=1||0===o);var s=Math.sqrt(-2*Math.log(o)/o);t=this.mean+this.stdDev*i*s,n=this.mean+this.stdDev*a*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)}},{key:"convertValue",value:function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}},{key:"isValidTruncated",value:function(e){return e<=this.upper&&e>=this.lower}}]),e}(),s=function(){function e(t,n,i,s){(0,r.Z)(this,e),this.alpha=t,this.beta=1/n,this.dtype=i;var u=s||Math.random();this.randu=a.alea(u.toString()),this.randn=new o(0,1,i,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return(0,i.Z)(e,[{key:"nextValue",value:function(){for(var e,t,n,r,i,a;;){do{r=this.randn.nextValue(),a=1+this.c*r}while(a<=0);if(a*=a*a,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-a+Math.log(a)),(i=this.randu())<t||Math.log(i)<n)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)}},{key:"convertValue",value:function(e){return"float32"===this.dtype?e:Math.round(e)}}]),e}(),u=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;if((0,r.Z)(this,e),this.canReturnFloat=function(){return null==t.dtype||"float32"===t.dtype},this.min=n,this.range=i-n,this.dtype=o,null==s&&(s=Math.random()),"number"===typeof s&&(s=s.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(n," - ").concat(i," <= 1 and dtype is not float"));this.random=a.alea(s)}return(0,i.Z)(e,[{key:"convertValue",value:function(e){return this.canReturnFloat()?e:Math.round(e)}},{key:"nextValue",value:function(){return this.convertValue(this.min+this.range*this.random())}}]),e}()},16407:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var r=n(77039),i=n(38640),a=n(14466);var o=(0,i.op)({randomUniform_:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",o=arguments.length>4?arguments[4]:void 0,s=(0,r.f)(e,i),u=new a.wv(t,n,null,o),c=0;c<s.values.length;c++)s.values[c]=u.nextValue();return s.toTensor()}})},422:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var r=n(70318),i=n(32145);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");var o={start:e,stop:t,step:n,dtype:a};return r.BV.runKernel(i.e6,{},o)}},26972:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({real_:function(e){var t={input:(0,a._1)(e,"input","real")};return r.BV.runKernel(i.xJ,t)}})},12209:function(e,t,n){"use strict";n.d(t,{M:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({reciprocal_:function(e){var t={x:(0,a._1)(e,"x","reciprocal")};return r.BV.runKernel(i.$H,t)}})},17539:function(e,t,n){"use strict";n.d(t,{U:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({relu_:function(e){var t={x:(0,a._1)(e,"x","relu")};return r.BV.runKernel(i.qk,t)}})},65900:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({relu6_:function(e){var t={x:(0,a._1)(e,"x","relu6")};return r.BV.runKernel(i.Sb,t)}})},75561:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({reshape_:function(e,t){var n={x:(0,a._1)(e,"x","reshape","string_or_numeric")},o={shape:t};return r.BV.runKernel(i.HZ,n,o)}})},34933:function(e,t,n){"use strict";n.d(t,{G:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({reverse_:function(e,t){var n={x:(0,a._1)(e,"x","reverse")},o={dims:t};return r.BV.runKernel(i.mK,n,o)}})},60766:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({round_:function(e){var t={x:(0,a._1)(e,"x","round")};return r.BV.runKernel(i.e0,t)}})},65115:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({rsqrt_:function(e){var t={x:(0,a._1)(e,"x","rsqrt","float32")};return r.BV.runKernel(i.bV,t)}})},27067:function(e,t,n){"use strict";n.d(t,{i:function(){return a}});var r=n(36147),i=n(77960);function a(e,t){if(((0,r.fU)(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&(0,r.fU)(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return(0,i.H)(e,[],[],t)}},23522:function(e,t,n){"use strict";n.d(t,{s:function(){return u}});var r=n(70318),i=n(32145),a=n(48354),o=n(38640),s=n(48604);var u=(0,o.op)({scatterND_:function(e,t,n){var o=(0,a._1)(e,"indices","scatterND","int32"),u=(0,a._1)(t,"updates","scatterND");s.validateInput(u,o,n);var c={indices:o,updates:u},l={shape:n};return r.BV.runKernel(i.xQ,c,l)}})},48604:function(e,t,n){"use strict";n.r(t),n.d(t,{calculateShapes:function(){return s},validateInput:function(){return o},validateUpdateShape:function(){return a}});var r=n(93433),i=n(36147);function a(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,i=t.rank>1?t.rank-1:1,a="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(r,", and batchDim: ").concat(i,".");if(n.rank<i)throw new Error(a+" update.rank < ".concat(i,". "));if(e.length<r+(n.rank-i))throw new Error(a+" Output shape length < ".concat(r+(n.rank-i)));if(n.rank!==i+e.length-r)throw new Error(a+" update.rank != ".concat(i+e.length-r));for(var o=0;o<i;++o)if(n.shape[o]!==t.shape[o])throw new Error(a+" updates.shape[".concat(o,"] (").concat(n.shape[o],") != indices.shape[").concat(o,"] (").concat(t.shape[o],")."));for(var s=0;s<n.rank-i;++s)if(n.shape[s+i]!==e[s+r])throw new Error(a+" updates.shape[".concat(s+i,"] (").concat(n.shape[s+i],") != shape[").concat(s+i,"] (").concat(e[s+i],")"))}function o(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw new Error("Updates specified for empty output. updates shape: ".concat(e.shape))}a(n,t,e)}function s(e,t,n){for(var a=t.shape.length,o=a>1?t.shape[a-1]:1,s=n.length,u=1,c=o;c<s;++c)u*=n[c];var l=o<1?1:o;return{sliceRank:o,numUpdates:(0,i.NA)(t.shape)/l,sliceSize:u,strides:[].concat((0,r.Z)((0,i.e3)(n.slice(0,o))),[1]),outputSize:(0,i.NA)(n)}}},9028:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147),s=n(38640),u=n(75561),c=2147483648;var l=(0,s.op)({searchSorted_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left",s=(0,a._1)(e,"sortedSequence","searchSorted"),l=(0,a._1)(t,"values","searchSorted"),f=s.shape[s.shape.length-1],d=l.shape[l.shape.length-1],p=(0,u.X)(s,[-1,f]),h=(0,u.X)(l,[-1,d]);if(p.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(p.shape[0]!==h.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if((0,o.NA)(h.shape)>=c)throw new Error("values tensor size must less than ".concat(c));if(p.shape[1]>=c)throw new Error("trailing dim_size must less than ".concat(c," for int32 output type, was ").concat(p.shape[1]));var v={sortedSequence:p,values:h},m={side:n};return r.BV.runKernel(i.nr,v,m)}})},20413:function(e,t,n){"use strict";n.d(t,{U:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({selu_:function(e){var t={x:(0,a._1)(e,"x","selu")};return r.BV.runKernel(i.oF,t)}})},24438:function(e,t,n){"use strict";n.d(t,{O:function(){return c}});var r=n(74165),i=n(15861),a=n(4376),o=n(48354),s=n(36147);function u(){return(u=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i,u,c,l,f,d,p,h,v,m,g;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,o._1)(t,"x","setdiff1d"),u=(0,o._1)(n,"y","setdiff1d"),s.hu(i.dtype===u.dtype,(function(){return"x and y should have the same dtype, but got x (".concat(i.dtype,") and y (").concat(u.dtype,").")})),s.hu(1===i.rank,(function(){return"x should be 1D tensor, but got x (".concat(i.shape,").")})),s.hu(1===u.rank,(function(){return"y should be 1D tensor, but got y (".concat(u.shape,").")})),e.next=7,i.data();case 7:return c=e.sent,e.next=10,u.data();case 10:for(l=e.sent,f=new Set(l),d=0,p=0;p<c.length;p++)f.has(c[p])||d++;for(h=new a.YD([d],i.dtype),v=new a.YD([d],"int32"),m=0,g=0;m<c.length;m++)f.has(c[m])||(h.values[g]=c[m],v.values[g]=m,g++);return e.abrupt("return",[h.toTensor(),v.toTensor()]);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c=function(e,t){return u.apply(this,arguments)}},77643:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({sigmoid_:function(e){var t={x:(0,a._1)(e,"x","sigmoid","float32")};return r.BV.runKernel(i.a5,t)}})},2070:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({sign_:function(e){var t={x:(0,a._1)(e,"x","sign")};return r.BV.runKernel(i.i5,t)}})},87254:function(e,t,n){"use strict";n.d(t,{O:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({sin_:function(e){var t={x:(0,a._1)(e,"x","sin","float32")};return r.BV.runKernel(i.RQ,t)}})},57657:function(e,t,n){"use strict";n.d(t,{R:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({sinh_:function(e){var t={x:(0,a._1)(e,"x","sinh")};return r.BV.runKernel(i.w3,t)}})},59238:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({slice_:function(e,t,n){var o=(0,a._1)(e,"x","slice","string_or_numeric");if(0===o.rank)throw new Error("Slicing scalar is not possible");var s={x:o},u={begin:t,size:n};return r.BV.runKernel(i.p2,s,u)}})},74910:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({softmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=(0,a._1)(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(t));var o={logits:n},s={dim:t};return r.BV.runKernel(i.Gc,o,s)}})},54626:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({softplus_:function(e){var t={x:(0,a._1)(e,"x","softplus")};return r.BV.runKernel(i.MR,t)}})},65696:function(e,t,n){"use strict";n.d(t,{f:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({spaceToBatchND_:function(e,t,n){var s=(0,a._1)(e,"x","spaceToBatchND");o.hu(s.rank>=1+t.length,(function(){return"input rank ".concat(s.rank," should be > than [blockShape] ").concat(t.length)})),o.hu(n.length===t.length,(function(){return"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(t.length)})),o.hu(s.shape.reduce((function(e,r,i){return i>0&&i<=t.length?e&&(r+n[i-1][0]+n[i-1][1])%t[i-1]===0:e}),!0),(function(){return"input spatial dimensions ".concat(s.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(t.toString())}));var u={x:s},c={blockShape:t,paddings:n};return r.BV.runKernel(i.TQ,u,c)}})},49991:function(e,t,n){"use strict";n.d(t,{e:function(){return s}});var r=n(70318),i=n(32145);function a(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(e.shape,"."));var i=e.rank>0?e.shape[0]:1,a=e.rank>1?e.shape[1]:1;if(n.length!==a)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(a,"."));var o=t.size;if(0!==t.rank&&(1!==t.rank||o!==i))throw new Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(i,"]"));if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}var o=n(48354);var s=(0,n(38640).op)({sparseToDense_:function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=(0,o._1)(e,"sparseIndices","sparseToDense","int32"),c=(0,o._1)(t,"sparseValues","sparseToDense","string_or_numeric"),l=(0,o._1)(s,"defaultValue","sparseToDense",c.dtype);a(u,c,n,l);var f={sparseIndices:u,sparseValues:c,defaultValue:l},d={outputShape:n};return r.BV.runKernel(i.D2,f,d)}})},37635:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var r=n(70318),i=n(32145),a=n(36147);var o=(0,n(38640).op)({fft_:function(e){(0,a.hu)("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return r.BV.runKernel(i.vw,t)}})},50530:function(e,t,n){"use strict";n.d(t,{S:function(){return o}});var r=n(70318),i=n(32145),a=n(36147);var o=(0,n(38640).op)({ifft_:function(e){(0,a.hu)("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return r.BV.runKernel(i.Qg,t)}})},774:function(e,t,n){"use strict";n.d(t,{w:function(){return h}});var r=n(59253),i=n(34836),a=n(76996),o=n(30651),s=n(38640),u=n(26972),c=n(75561),l=n(34933),f=n(27067),d=n(59238),p=n(50530);var h=(0,s.op)({irfft_:function(e){var t,n=e.shape[e.shape.length-1],s=e.size/n;if(n<=2){var h=(0,c.X)(e,[s,n]);t=(0,p.S)(h)}else{var v=[s,2*(n-1)],m=(0,c.X)((0,u.k)(e),[s,n]),g=(0,c.X)((0,a.a)(e),[s,n]),y=(0,l.G)((0,d.t)(m,[0,1],[s,n-2]),1),b=(0,o.d)((0,l.G)((0,d.t)(g,[0,1],[s,n-2]),1),(0,f.i)(-1)),x=(0,i.z)([m,y],1),k=(0,i.z)([g,b],1),w=(0,c.X)((0,r.P)(x,k),[v[0],v[1]]);t=(0,p.S)(w)}if(t=(0,u.k)(t),3===e.rank&&0!==e.shape[0]){var _=t,S=e.shape[0];t=(0,c.X)(t,[S,t.shape[0]/S,t.shape[1]]),_.dispose()}return t}})},64617:function(e,t,n){"use strict";n.d(t,{Q:function(){return v}});var r=n(36147),i=n(59253),a=n(34836),o=n(76996),s=n(38640),u=n(26972),c=n(75561),l=n(59238),f=n(82588),d=n(87742),p=n(87293),h=n(37635);var v=(0,s.op)({rfft_:function(e,t){(0,r.hu)("float32"===e.dtype,(function(){return"The dtype for rfft() must be real value but got ".concat(e.dtype)}));var n,s=e.shape[e.shape.length-1],v=e.size/s;if(null!=t&&t<s){var m=e.shape.map((function(e){return 0})),g=e.shape.map((function(e){return e}));g[e.shape.length-1]=t,n=(0,l.t)(e,m,g),s=t}else if(null!=t&&t>s){var y=e.shape.map((function(e){return e}));y[e.shape.length-1]=t-s,n=(0,a.z)([e,(0,d.l)(y)],e.shape.length-1),s=t}else n=e;var b=(0,p.P)(n),x=(0,c.X)((0,i.P)(n,b),[v,s]),k=(0,h.k)(x),w=Math.floor(s/2)+1,_=(0,u.k)(k),S=(0,o.a)(k),T=(0,f.V)(_,[w,s-w],_.shape.length-1),E=(0,f.V)(S,[w,s-w],S.shape.length-1),C=n.shape.slice();return C[n.shape.length-1]=w,(0,c.X)((0,i.P)(T[0],E[0]),C)}})},82588:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({split_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=(0,a._1)(e,"x","split"),s={x:o},u={numOrSizeSplits:t,axis:n};return r.BV.runKernel(i.L8,s,u)}})},46902:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({sqrt_:function(e){var t={x:(0,a._1)(e,"x","sqrt","float32")};return r.BV.runKernel(i.FK,t)}})},7391:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(70318),i=n(48354);var a=(0,n(38640).op)({square_:function(e){var t=(0,i._1)(e,"x","square");return r.BV.runKernel("Square",{x:t},{})}})},7993:function(e,t,n){"use strict";n.d(t,{$:function(){return c}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354),u=n(45774);var c=(0,n(38640).op)({squaredDifference_:function(e,t){var n=(0,s._1)(e,"a","squaredDifference"),c=(0,s._1)(t,"b","squaredDifference"),l=(0,o.makeTypesMatch)(n,c),f=(0,r.Z)(l,2);n=f[0],c=f[1],(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var d={a:n,b:c};return i.BV.runKernel(a._t,d,{})}})},83931:function(e,t,n){"use strict";n.d(t,{L:function(){return s}});var r=n(48354),i=n(36147),a=n(38640),o=n(75561);var s=(0,a.op)({squeeze_:function(e,t){var n=(0,r._1)(e,"x","squeeze");return(0,o.X)(n,(0,i.bp)(n.shape,t).newShape)}})},18306:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({stack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,a.sI)(e,"tensors","stack","string_or_numeric");o.hu(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),n.length>0&&o.hu(t<=n[0].rank,(function(){return"Axis must be <= rank of the tensor"}));var s=n,u={axis:t};return r.BV.runKernel(i.Qi,s,u)}})},94031:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({step_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,a._1)(e,"x","step"),o={x:n},s={alpha:t};return r.BV.runKernel(i.h8,o,s)}})},39017:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({stridedSlice_:function(e,t,n,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,d=(0,a._1)(e,"x","stridedSlice","string_or_numeric"),p={x:d},h={begin:t,end:n,strides:o,beginMask:s,endMask:u,ellipsisMask:c,newAxisMask:l,shrinkAxisMask:f};return r.BV.runKernel(i.m2,p,h)}})},84774:function(e,t,n){"use strict";n.d(t,{l:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(99064),s=n(48354);var u=(0,n(38640).op)({sub_:function(e,t){var n=(0,s._1)(e,"a","sub"),u=(0,s._1)(t,"b","sub"),c=(0,o.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),f={a:n=l[0],b:u=l[1]};return i.BV.runKernel(a.Tr,f)}})},40227:function(e,t,n){"use strict";n.d(t,{S:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(99118);var s=(0,n(38640).op)({sum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=(0,a._1)(e,"x","sum");"bool"===s.dtype&&(s=(0,o.p)(s,"int32"));var u={x:s},c={axis:t,keepDims:n};return r.BV.runKernel(i.GB,u,c)}})},66999:function(e,t,n){"use strict";n.d(t,{O:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({tan_:function(e){var t={x:(0,a._1)(e,"x","tan","float32")};return r.BV.runKernel(i.sE,t)}})},11744:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({tanh_:function(e){var t={x:(0,a._1)(e,"x","tanh","float32")};return r.BV.runKernel(i.MI,t)}})},72442:function(e,t,n){"use strict";n.d(t,{X:function(){return a}});var r=n(48354),i=n(77960);function a(e,t,n){var a=(0,r.C)(e,n);return(0,i.H)(e,t,a,n)}},92894:function(e,t,n){"use strict";n.d(t,{R:function(){return o}});var r=n(48354),i=n(36147),a=n(77960);function o(e,t){(0,i.Cq)(e);var n=(0,r.C)(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return(0,a.H)(e,null,n,t)}},73123:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});var r=n(48354),i=n(36147),a=n(77960);function o(e,t,n){if((0,i.Cq)(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var o=(0,r.C)(e,n);if(3!==o.length&&1!==o.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return(0,a.H)(e,t,o,n)}},77960:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var r=n(70318),i=n(36147),a=n(70115);function o(e,t,n,o){if(null==o&&(o=(0,i.D2)(e)),"complex64"===o)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!(0,i.fU)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){(0,i.Mu)(t);var s=(0,i.NA)(t),u=(0,i.NA)(n);(0,i.hu)(s===u,(function(){return"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(s," values but has ").concat(u)}));for(var c=0;c<n.length;++c){var l=n[c],f=c!==n.length-1||l!==(0,i.NA)(t.slice(c));(0,i.hu)(n[c]===t[c]||!f,(function(){return"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(t,"). ")}))}}return(0,i.fU)(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==o?(0,a.toTypedArray)(e,o):(0,i.xH)(e,[],!0),r.BV.makeTensor(e,t,o)}},42343:function(e,t,n){"use strict";n.d(t,{G:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({tile_:function(e,t){var n=(0,a._1)(e,"x","tile","string_or_numeric");o.hu(n.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(t,".")}));var s={x:n},u={reps:t};return r.BV.runKernel(i.n9,s,u)}})},29085:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var r=n(29439),i=n(70318),a=n(32145),o=n(48354);var s=(0,n(38640).op)({topk_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=(0,o._1)(e,"x","topk");if(0===s.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var u=s.shape[s.shape.length-1];if(t<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>u)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(u,") ")+"but got ".concat(t));var c={x:s},l={k:t,sorted:n},f=i.BV.runKernel(a.cW,c,l),d=(0,r.Z)(f,2),p=d[0],h=d[1];return{values:p,indices:h}}})},61240:function(e,t,n){"use strict";n.d(t,{p:function(){return p}});var r=n(70318),i=n(35875),a=n(32145),o=n(48354),s=n(36147),u=n(59253),c=n(76996),l=n(4362),f=n(38640),d=n(26972);var p=(0,f.op)({transpose_:function(e,t,n){var f=(0,o._1)(e,"x","transpose");if(null==t&&(t=f.shape.map((function(e,t){return t})).reverse()),s.hu(f.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(f.rank," ")+"must match length of perm ".concat(t,".")})),t.forEach((function(e){s.hu(e>=0&&e<f.rank,(function(){return"All entries in 'perm' must be between 0 and ".concat(f.rank-1)+" but got ".concat(t)}))})),f.rank<=1)return f.clone();var p={x:f},h={perm:t};return"complex64"===f.dtype?(0,i.lu)((function(){var e=(0,d.k)(f),t=(0,c.a)(f);return e=r.BV.runKernel(a.G3,{x:e},h),t=r.BV.runKernel(a.G3,{x:t},h),n&&(t=(0,l.W)(t)),(0,u.P)(e,t)})):r.BV.runKernel(a.G3,p,h)}})},52453:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(77039),i=n(38640),a=n(14466);var o=(0,i.op)({truncatedNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(null!=i&&"bool"===i)throw new Error("Unsupported data type $ { dtype }");for(var s=new a.Yi(t,n,i,!0,o),u=(0,r.f)(e,i),c=0;c<u.values.length;c++)u.values[c]=s.nextValue();return u.toTensor()}})},74860:function(e,t,n){"use strict";n.d(t,{T:function(){return u}});var r=n(29439),i=n(70318),a=n(32145),o=n(48354),s=n(36147);var u=(0,n(38640).op)({unique_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,o._1)(e,"x","unique","string_or_numeric");(0,s.hu)(n.rank>0,(function(){return"The input tensor must be at least 1D"}));var u={x:n},c={axis:t},l=i.BV.runKernel(a.kp,u,c),f=(0,r.Z)(l,2),d=f[0],p=f[1];return{values:d,indices:p}}})},54566:function(e,t,n){"use strict";n.d(t,{H:function(){return s}});var r=n(70318),i=n(32145),a=n(48354),o=n(36147);var s=(0,n(38640).op)({unstack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,a._1)(e,"x","unstack","string_or_numeric");o.hu(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = ".concat(t," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")")}));var s={value:n},u={axis:t};return r.BV.runKernel(i.To,s,u)}})},16035:function(e,t,n){"use strict";n.d(t,{G:function(){return i}});var r=n(9028);function i(e,t){return(0,r.z)(e,t,"right")}},10329:function(e,t,n){"use strict";n.d(t,{a:function(){return u}});var r=n(70318),i=n(32145),a=n(48354),o=n(49742),s=n(45774);var u=(0,n(38640).op)({where_:function(e,t,n){var u=(0,a._1)(t,"a","where"),c=(0,a._1)(n,"b","where"),l=(0,a._1)(e,"condition","where","bool"),f=(0,s.assertAndGetBroadcastShape)((0,s.assertAndGetBroadcastShape)(l.shape,u.shape),c.shape),d={condition:(0,o.U)(l,f),t:(0,o.U)(u,f),e:(0,o.U)(c,f)};return r.BV.runKernel(i.Ph,d)}})},41867:function(e,t,n){"use strict";n.d(t,{i:function(){return u}});var r=n(74165),i=n(15861),a=n(24189),o=n(48354);function s(){return(s=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,o._1)(t,"condition","whereAsync","bool"),e.next=3,n.data();case 3:return i=e.sent,s=(0,a.Z)(n.shape,i),t!==n&&n.dispose(),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var u=function(e){return s.apply(this,arguments)}},87742:function(e,t,n){"use strict";n.d(t,{l:function(){return o}});var r=n(70318),i=n(36147),a=n(59253);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=o(e,"float32"),s=o(e,"float32");return(0,a.P)(n,s)}var u=(0,i.wT)((0,i.NA)(e),t);return r.BV.makeTensor(u,e,t)}},87293:function(e,t,n){"use strict";n.d(t,{P:function(){return o}});var r=n(70318),i=n(32145),a=n(48354);var o=(0,n(38640).op)({zerosLike_:function(e){var t={x:(0,a._1)(e,"x","zerosLike")};return r.BV.runKernel(i.Ru,t)}})},4376:function(e,t,n){"use strict";n.d(t,{es:function(){return S},YD:function(){return y},_w:function(){return T},FZ:function(){return _},Vp:function(){return w},Vi:function(){return k}});var r=n(60136),i=n(29388),a=n(74165),o=n(15861),s=n(15671),u=n(43144),c=n(96581),l=n(93433),f=n(36147);function d(e,t,n,r){var i=(0,f.e3)(t),a=function(e,t,n,r){var i=(0,f.NA)(t),a=r[r.length-1],o=new Array(a).fill(0),s=t.length,u="complex64"===n?m(e):e;if(s>1)for(var c=0;c<i/a;c++)for(var l=c*a,d=0;d<a;d++)o[d]=Math.max(o[d],p(u[l+d],0,n).length);return o}(e,t,n,i),o=t.length,s=v(e,t,n,i,a),u=["Tensor"];return r&&(u.push("  dtype: ".concat(n)),u.push("  rank: ".concat(o)),u.push("  shape: [".concat(t,"]")),u.push("  values:")),u.push(s.map((function(e){return"    "+e})).join("\n")),u.join("\n")}function p(e,t,n){var r;return r=Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(7))," + ")+"".concat(parseFloat(e[1].toFixed(7)),"j"):(0,f.HD)(e)?"'".concat(e,"'"):"bool"===n?h(e):parseFloat(e.toFixed(7)).toString(),(0,f.oj)(r,t)}function h(e){return 0===e?"false":"true"}function v(e,t,n,r,i){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o="complex64"===n?2:1,s=t[0],u=t.length;if(0===u){if("complex64"===n){var c=m(e);return[p(c[0],0,n)]}return"bool"===n?[h(e[0])]:[e[0].toString()]}if(1===u){if(s>20){var f=3*o,d=Array.from(e.slice(0,f)),g=Array.from(e.slice((s-3)*o,s*o));return"complex64"===n&&(d=m(d),g=m(g)),["["+d.map((function(e,t){return p(e,i[t],n)})).join(", ")+", ..., "+g.map((function(e,t){return p(e,i[s-3+t],n)})).join(", ")+"]"]}var y="complex64"===n?m(e):Array.from(e);return["["+y.map((function(e,t){return p(e,i[t],n)})).join(", ")+"]"]}var b=t.slice(1),x=r.slice(1),k=r[0]*o,w=[];if(s>20){for(var _=0;_<3;_++){var S=_*k,T=S+k;w.push.apply(w,(0,l.Z)(v(e.slice(S,T),b,n,x,i,!1)))}w.push("...");for(var E=s-3;E<s;E++){var C=E*k,O=C+k;w.push.apply(w,(0,l.Z)(v(e.slice(C,O),b,n,x,i,E===s-1)))}}else for(var A=0;A<s;A++){var I=A*k,R=I+k;w.push.apply(w,(0,l.Z)(v(e.slice(I,R),b,n,x,i,A===s-1)))}var N=2===u?",":"";w[0]="["+w[0]+N;for(var P=1;P<w.length-1;P++)w[P]=" "+w[P]+N;for(var M=",\n",D=2;D<u;D++)M+="\n";return w[w.length-1]=" "+w[w.length-1]+"]"+(a?"":M),w}function m(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var g=n(70115),y=function(){function e(t,n,r){var i=this;if((0,s.Z)(this,e),this.dtype=n,this.shape=t.slice(),this.size=f.NA(t),null!=r){var a=r.length;f.hu(a===this.size,(function(){return"Length of values '".concat(a,"' does not match the size ")+"inferred by the shape '".concat(i.size,"'.")}))}if("complex64"===n)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||f.rQ(n,this.size),this.strides=(0,f.e3)(t)}return(0,u.Z)(e,[{key:"set",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];0===r.length&&(r=[0]),f.hu(r.length===this.rank,(function(){return"The number of provided coordinates (".concat(r.length,") must ")+"match the rank (".concat(t.rank,")")}));var a=this.locToIndex(r);this.values[a]=e}},{key:"get",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);for(var r=0,i=0,a=t;i<a.length;i++){var o=a[i];if(o<0||o>=this.shape[r]){var s="Requested out of range element at ".concat(t,". ")+"  Buffer shape=".concat(this.shape);throw new Error(s)}r++}for(var u=t[t.length-1],c=0;c<t.length-1;++c)u+=this.strides[c]*t[c];return this.values[u]}},{key:"locToIndex",value:function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}},{key:"indexToLoc",value:function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}},{key:"rank",get:function(){return this.shape.length}},{key:"toTensor",value:function(){return b().makeTensor(this.values,this.shape,this.dtype)}}]),e}(),b=null,x=null;function k(e){b=e}function w(e){x=e}function _(e){e}var S=function(){function e(t,n,r,i){(0,s.Z)(this,e),this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=f.NA(t),this.strides=(0,f.e3)(t),this.dataId=r,this.id=i,this.rankType=this.rank<5?this.rank.toString():"higher"}return(0,u.Z)(e,[{key:"rank",get:function(){return this.shape.length}},{key:"buffer",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",x.buffer(this.shape,this.dtype,t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bufferSync",value:function(){return x.buffer(this.shape,this.dtype,this.dataSync())}},{key:"array",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",(0,f.GX)(this.shape,t,"complex64"===this.dtype));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"arraySync",value:function(){return(0,f.GX)(this.shape,this.dataSync(),"complex64"===this.dtype)}},{key:"data",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.throwIfDisposed(),t=b().read(this.dataId),"string"!==this.dtype){e.next=13;break}return e.next=5,t;case 5:return n=e.sent,e.prev=6,e.abrupt("return",n.map((function(e){return g.decodeString(e)})));case 10:throw e.prev=10,e.t0=e.catch(6),new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().");case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this,[[6,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"dataToGPU",value:function(e){return this.throwIfDisposed(),b().readToGPU(this.dataId,e)}},{key:"dataSync",value:function(){this.throwIfDisposed();var e=b().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return g.decodeString(e)}))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}},{key:"bytes",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.throwIfDisposed(),e.next=3,b().read(this.dataId);case 3:if(t=e.sent,"string"!==this.dtype){e.next=8;break}return e.abrupt("return",t);case 8:return e.abrupt("return",new Uint8Array(t.buffer));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){this.isDisposed||(b().disposeTensor(this),this.isDisposedInternal=!0)}},{key:"isDisposed",get:function(){return this.isDisposedInternal}},{key:"throwIfDisposed",value:function(){if(this.isDisposed)throw new Error("Tensor is disposed.")}},{key:"print",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return x.print(this,e)}},{key:"clone",value:function(){return this.throwIfDisposed(),x.clone(this)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.dataSync();return d(t,this.shape,this.dtype,e)}},{key:"cast",value:function(e){return this.throwIfDisposed(),x.cast(this,e)}},{key:"variable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),b().makeVariable(this,e,t,n)}}]),e}();Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}}),(0,c.R)("Tensor",(function(){return S}));var T=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(e,r,i,a){var o;return(0,s.Z)(this,n),(o=t.call(this,e.shape,e.dtype,e.dataId,a)).trainable=r,o.name=i,o}return(0,u.Z)(n,[{key:"assign",value:function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!f.cO(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));b().disposeTensor(this),this.dataId=e.dataId,b().incRef(this,null)}},{key:"dispose",value:function(){b().disposeVariable(this),this.isDisposedInternal=!0}}]),n}(S);Object.defineProperty(T,Symbol.hasInstance,{value:function(e){return e instanceof S&&null!=e.assign&&e.assign instanceof Function}})},99064:function(e,t,n){"use strict";n.r(t),n.d(t,{assertTypesMatch:function(){return s},getTensorsInContainer:function(){return c},isTensorInList:function(){return u},makeTypesMatch:function(){return o}});var r=n(4376),i=n(3525),a=n(36147);function o(e,t){if(e.dtype===t.dtype)return[e,t];var n=(0,i.x8)(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function s(e,t){(0,a.hu)(e.dtype===t.dtype,(function(){return"The dtypes of the first(".concat(e.dtype,") and")+" second(".concat(t.dtype,") input must match")}))}function u(e,t){return t.some((function(t){return t.id===e.id}))}function c(e){var t=[];return l(e,t,new Set),t}function l(e,t,n){if(null!=e)if(e instanceof r.es)t.push(e);else if(i=e,Array.isArray(i)||"object"===typeof i){var i,a=e;for(var o in a){var s=a[o];n.has(s)||(n.add(s),l(s,t,n))}}}},48354:function(e,t,n){"use strict";n.d(t,{C:function(){return u},_1:function(){return f},sI:function(){return d}});var r=n(70318),i=n(35050),a=n(4376),o=n(36147),s=n(70115);function u(e,t){var n=e;if((0,o.fU)(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||(0,o.fU)(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&(0,i.OB)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&c(e,r,[]),r}function c(e,t,n){if(n=n||[],Array.isArray(e)||(0,o.fU)(e)){(0,o.hu)(t.length>0,(function(){return"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(e.length," elements")})),(0,o.hu)(e.length===t[0],(function(){return"Element arr[".concat(n.join("]["),"] should have ").concat(t[0]," ")+"elements, but has ".concat(e.length," elements")}));for(var r=t.slice(1),i=0;i<e.length;++i)c(e[i],r,n.concat(i))}else(0,o.hu)(0===t.length,(function(){return"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(t[0]," elements")}))}function l(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error("Argument '".concat(n,"' passed to '").concat(r,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function f(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof a.es)return l(i,e.dtype,t,n),e;var c=(0,o.D2)(e);if("string"!==c&&["bool","int32","float32"].indexOf(i)>=0&&(c=i),l(i,c,t,n),null==e||!(0,o.fU)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){var f=null==e?"null":e.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(f,"'"))}var d=u(e,c);(0,o.fU)(e)||Array.isArray(e)||(e=[e]);var p=!0,h="string"!==c?(0,s.toTypedArray)(e,c):(0,o.xH)(e,[],p);return r.BV.makeTensor(h,d,c)}function d(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error("Argument ".concat(t," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");var i=e;return i.map((function(e,i){return f(e,"".concat(t,"[").concat(i,"]"),n,r)}))}},3525:function(e,t,n){"use strict";var r,i,a,o,s;n.d(t,{x8:function(){return c},yw:function(){return r},z4:function(){return l}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(r||(r={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(i||(i={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(a||(a={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(o||(o={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(s||(s={}));var u={float32:o,int32:i,bool:a,complex64:s};function c(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast ".concat(e," with ").concat(t))}return u[e][t]}function l(e){return c(e,"int32")}},70115:function(e,t,n){"use strict";n.r(t),n.d(t,{arraysEqual:function(){return i.cO},assert:function(){return i.hu},assertNonNegativeIntegerDimensions:function(){return i.Mu},assertNonNull:function(){return i.Cq},assertShapesMatch:function(){return i.k5},bytesFromStringArray:function(){return i.Ub},bytesPerElement:function(){return i.bT},checkConversionForErrors:function(){return i.D5},clamp:function(){return i.uZ},computeStrides:function(){return i.e3},createScalarValue:function(){return w},createShuffledIndices:function(){return i.U$},decodeString:function(){return C},distSquared:function(){return i.E7},encodeString:function(){return E},fetch:function(){return T},fingerPrint64:function(){return k},flatten:function(){return i.xH},getArrayFromDType:function(){return i.rQ},getTypedArrayFromDType:function(){return i.WP},hasEncodingLoss:function(){return i.QB},hexToLong:function(){return s},indexToLoc:function(){return i.NE},inferDtype:function(){return i.D2},inferFromImplicitShape:function(){return i.JZ},isBoolean:function(){return i.jn},isFunction:function(){return i.mf},isInt:function(){return i.GN},isNumber:function(){return i.hj},isPromise:function(){return i.tI},isScalarShape:function(){return i.N9},isString:function(){return i.HD},isTypedArray:function(){return i.fU},isValidDtype:function(){return i.LP},locToIndex:function(){return i.qy},makeOnesTypedArray:function(){return i.p8},makeZerosNestedTypedArray:function(){return i.l6},makeZerosTypedArray:function(){return i.wT},nearestDivisor:function(){return i.jP},nearestLargerEven:function(){return i.nY},now:function(){return S},parseAxisParam:function(){return i.EC},randUniform:function(){return i.bj},repeatedTry:function(){return i.WD},rightPad:function(){return i.oj},shuffle:function(){return i.TV},shuffleCombo:function(){return i.d7},sizeFromShape:function(){return i.NA},sizeToSquarishShape:function(){return i.YP},squeezeShape:function(){return i.bp},sum:function(){return i.Sm},swap:function(){return i.LF},tanh:function(){return i.AE},toNestedArray:function(){return i.GX},toTypedArray:function(){return _}});var r=n(35050),i=n(36147),a=n(18987),o=n.n(a)()||a;function s(e){return o.fromString(e,!0,16)}var u=s("c3a5c85c97cb3127"),c=s("b492b66fbe98f273"),l=s("9ae16a3b2f90404f");function f(e){return e.xor(e.shru(47))}function d(e,t,n){var r=e.slice(t,t+n);return o.fromBytes(Array.from(r),!0,!0)}function p(e,t){return d(e,t,8)}function h(e,t){return d(e,t,4)}function v(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));var i=t.xor(r).mul(n);return i=(i=i.xor(i.shru(47))).mul(n)}function g(e,t,n,r){return function(e,t,n,r,i,a){i=i.add(e),a=v(a.add(i).add(r),21);var o=i;return i=(i=i.add(t)).add(n),a=a.add(v(i,44)),[i.add(r),a.add(o)]}(p(e,t),p(e,t+8),p(e,t+16),p(e,t+24),n,r)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){var n=l.add(2*t),r=p(e,0).add(l),i=p(e,t-8),a=v(i,37).mul(n).add(r),o=v(r,25).add(i).mul(n);return m(a,o,n)}if(t>=4){var s=l.add(2*t),c=h(e,0);return m(c.shl(3).add(t),h(e,t-4),s)}if(t>0){var d=e[0],g=e[t>>1],y=e[t-1],b=d+(g<<8),x=t+(y<<2);return f(l.mul(b).xor(u.mul(x))).mul(l)}return l}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=l.add(2*t),r=p(e,0).mul(c),i=p(e,8),a=p(e,t-8).mul(n),o=p(e,t-16).mul(l);return m(v(r.add(i),43).add(v(a,30)).add(o),r.add(v(i.add(l),18)).add(a),n)}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=l.add(2*t),r=p(e,0).mul(l),i=p(e,8),a=p(e,t-8).mul(n),o=p(e,t-16).mul(l),s=v(r.add(i),43).add(v(a,30)).add(o),u=m(s,r.add(v(i.add(l),18)).add(a),n),c=p(e,16).mul(n),f=p(e,24),d=s.add(p(e,t-32)).mul(n),h=u.add(p(e,t-24)).mul(n);return m(v(c.add(f),43).add(v(d,30)).add(h),c.add(v(f.add(r),18)).add(d),n)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=o.fromNumber(81,!0);if(t<=32)return t<=16?y(e,t):b(e,t);if(t<=64)return x(e,t);var r=n,i=n.mul(c).add(113),a=f(i.mul(l).add(113)).mul(l),s=[o.UZERO,o.UZERO],d=[o.UZERO,o.UZERO];r=r.mul(l).add(p(e,0));var h=0,k=64*(t-1>>6),w=k+(t-1&63)-63;do{r=v(r.add(i).add(s[0]).add(p(e,h+8)),37).mul(c),i=v(i.add(s[1]).add(p(e,h+48)),42).mul(c),r=r.xor(d[1]),i=i.add(s[0]).add(p(e,h+40)),a=v(a.add(d[0]),33).mul(c),s=g(e,h,s[1].mul(c),r.add(d[0])),d=g(e,h+32,a.add(d[1]),i.add(p(e,h+16)));var _=[r,a];a=_[0],r=_[1],h+=64}while(h!==k);var S=c.add(a.and(255).shl(1));h=w,d[0]=d[0].add(t-1&63),s[0]=s[0].add(d[0]),d[0]=d[0].add(s[0]),r=v(r.add(i).add(s[0]).add(p(e,h+8)),37).mul(S),i=v(i.add(s[1]).add(p(e,h+48)),42).mul(S),r=r.xor(d[1].mul(9)),i=i.add(s[0].mul(9).add(p(e,h+40))),a=v(a.add(d[0]),33).mul(S),s=g(e,h,s[1].mul(S),r.add(d[0])),d=g(e,h+32,a.add(d[1]),i.add(p(e,h+16)));var T=[r,a];return a=T[0],r=T[1],m(m(s[0],d[0],S).add(f(i).mul(u)).add(a),m(s[1],d[1],S).add(r),S)}function w(e,t){return"string"===t?E(e):_([e],t)}function _(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=i.xH(e)),(0,r.OB)().getBool("DEBUG")&&i.D5(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var n=new Uint8Array(e.length),a=0;a<n.length;++a)0!==Math.round(e[a])&&(n[a]=1);return n}throw new Error("Unknown data type ".concat(t))}function S(){return(0,r.OB)().platform.now()}function T(e,t){return(0,r.OB)().platform.fetch(e,t)}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",(0,r.OB)().platform.encode(e,t)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",(0,r.OB)().platform.decode(e,t)}},36147:function(e,t,n){"use strict";function r(e){for(var t=e.length,n=0;t>0;)n=Math.random()*t|0,s(e,--t,n)}function i(e,t){if(e.length!==t.length)throw new Error("Array sizes must match to be shuffled together "+"First array length was ".concat(e.length)+"Second array length was ".concat(t.length));for(var n=e.length,r=0;n>0;)r=Math.random()*n|0,s(e,--n,r),s(t,n,r)}function a(e,t,n){return Math.max(e,Math.min(t,n))}function o(e){return e%2===0?e:e+1}function s(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function u(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function c(e,t){var n=Math.random();return t*n+(1-n)*e}function l(e,t){for(var n=0,r=0;r<e.length;r++){var i=Number(e[r])-Number(t[r]);n+=i*i}return n}function f(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";f(g(e,t),(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}function p(e){f(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),Array.isArray(e)||N(e)&&!n)for(var r=0;r<e.length;++r)h(e[r],t,n);else t.push(e);return t}function v(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function m(e){return 0===e.length}function g(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function y(e){return e%1===0}function b(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function x(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function k(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return r(t),t}function w(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return 0},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(r,i){var a=0;!function o(){if(e())r();else{a++;var s=t(a);null!=n&&a>=n?i():setTimeout(o,s)}}()}))}function S(e,t){for(var n=1,r=-1,i=0;i<e.length;++i)if(e[i]>=0)n*=e[i];else if(-1===e[i]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(r," and dim ").concat(i));r=i}else if(e[i]<0)throw Error("Shapes can not be < 0. Found ".concat(e[i]," at dim ").concat(i));if(-1===r){if(t>0&&t!==n)throw Error("Size(".concat(t,") must match the product of shape ").concat(e));return e}if(0===n)throw Error("Cannot infer the missing size in [".concat(e,"] when ")+"there are 0 elements");if(t%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(t," / ").concat(n));var a=e.slice();return a[r]=t/n,a}function T(e,t){var n=t.length;return f((e=null==e?t.map((function(e,t){return t})):[].concat(e)).every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(e)})),f(e.every((function(e){return y(e)})),(function(){return"All values in axis param must be integers but "+"got axis ".concat(e)})),e.map((function(e){return e<0?n+e:e}))}function E(e,t){for(var n=[],r=[],i=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||i?null:T(t,e).sort(),o=0,s=0;s<e.length;++s){if(null!=a){if(a[o]===s&&1!==e[s])throw new Error("Can't squeeze axis ".concat(s," since its dim '").concat(e[s],"' is not 1"));(null==a[o]||a[o]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),a[o]<=s&&o++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function C(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type ".concat(e));n=new Uint8Array(t)}return n}function O(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type ".concat(e));n=new Array(t)}return n}function A(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(r,"."))}}function I(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function R(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function N(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function P(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype ".concat(e))}function M(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}function D(e){return"string"===typeof e||e instanceof String}function L(e){return"boolean"===typeof e}function j(e){return"number"===typeof e}function F(e){return Array.isArray(e)?F(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":j(e)?"float32":D(e)?"string":L(e)?"bool":"float32"}function Z(e){return!!(e&&e.constructor&&e.call&&e.apply)}function B(e,t){for(var n=t;n<e;++n)if(e%n===0)return n;return e}function U(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function V(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new Array;if(1===t.length)for(var a=t[0]*(r?2:1),o=0;o<a;o++)i[o]=n[e+o];else for(var s=t[0],u=t.slice(1),c=u.reduce((function(e,t){return e*t}))*(r?2:1),l=0;l<s;l++)i[l]=V(e+l*c,u,n,r);return i}function z(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];var r=e.reduce((function(e,t){return e*t}))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(n?" for a complex tensor":"","."));return V(0,e,t,n)}function W(e,t){for(var n=H(e,t),r=0;r<n.length;r++)n[r]=1;return n}function H(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type ".concat(t))}function G(e,t){var n=e.reduce((function(e,t){return e*t}),1);if(null==t||"float32"===t)return z(e,new Float32Array(n));if("int32"===t)return z(e,new Int32Array(n));if("bool"===t)return z(e,new Uint8Array(n));throw new Error("Unknown data type ".concat(t))}function q(e){e.forEach((function(t){f(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"].")}))}))}function K(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],i=0;i<e.length-1;++i)r+=n[i]*e[i];return r}function Y(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),i=0;i<r.length-1;++i)r[i]=Math.floor(e/n[i]),e-=r[i]*n[i];return r[r.length-1]=e,r}function X(e){return e&&e.then&&"function"===typeof e.then}n.d(t,{AE:function(){return b},Cq:function(){return p},D2:function(){return F},D5:function(){return A},E7:function(){return l},EC:function(){return T},GN:function(){return y},GX:function(){return z},HD:function(){return D},JZ:function(){return S},LF:function(){return s},LP:function(){return I},Mu:function(){return q},N9:function(){return m},NA:function(){return v},NE:function(){return Y},QB:function(){return R},Sm:function(){return u},TV:function(){return r},U$:function(){return k},Ub:function(){return M},WD:function(){return _},WP:function(){return C},YP:function(){return x},bT:function(){return P},bj:function(){return c},bp:function(){return E},cO:function(){return g},d7:function(){return i},e3:function(){return U},fU:function(){return N},hj:function(){return j},hu:function(){return f},jP:function(){return B},jn:function(){return L},k5:function(){return d},l6:function(){return G},mf:function(){return Z},nY:function(){return o},oj:function(){return w},p8:function(){return W},qy:function(){return K},rQ:function(){return O},tI:function(){return X},uZ:function(){return a},wT:function(){return H},xH:function(){return h}})},87996:function(e,t,n){"use strict";n(1583),n(44584),n(65084),n(18116),n(33858),n(87264),n(58894);var r=n(17156),i=n(89728),a=n(66115),o=n(61655),s=n(94993),u=n(73808),c=n(38416),l=n(56690);n(65202),n(67675),n(22583),n(30974);var f=n(64687),d=n(18698);n(4778),n(89104),n(59147);var p=n(62895),h=n(82764);n(32463),n(18887),n(81740),n(20447),n(54178);var v=n(1263);n(68225);var m=n(62839),g=n(32467);n(49258),n(4772),n(85625);var y=n(27424);n(45742);var b=n(8645),x=n(58868),k=n(46390),w=n(94774),_=n(56491),S=n(861);n(36669),n(44105),n(73966),n(55790),n(56678),n(74847),n(48884),n(67582),n(15669),n(40014),n(45927),n(78850),n(697),n(53517),n(68591),n(44516),n(51937),n(5977),n(71283),n(86332),n(32040),n(20718),n(54777),n(31447),n(44319),n(78493),n(54121),n(55269),n(45327),n(99238);var T=n(24610);function E(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var O=E(r),A=E(i),I=E(a),R=E(o),N=E(s),P=E(u),M=E(c),D=E(l),L=E(f),j=E(d),F=C(p),Z=E(g),B=E(y),U=E(S);function V(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":j.default(Reflect))&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function z(e,t){if("object"===("undefined"===typeof Reflect?"undefined":j.default(Reflect))&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function W(e,t){return["".concat((new Date).toISOString()," Conversations ").concat(e,":")].concat(Array.from(t))}var H=F.getLogger("twilio-conversations"),G=function(){function e(t){D.default(this,e),M.default(this,"prefix",""),this.prefix=null!==t&&void 0!==t&&t.length>0?t+" ":""}return A.default(e,[{key:"setLevel",value:function(e){H.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];H.trace.apply(null,W(this.prefix+"T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];H.debug.apply(null,W(this.prefix+"D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];H.info.apply(null,W(this.prefix+"I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];H.warn.apply(null,W(this.prefix+"W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];H.error.apply(null,W(this.prefix+"E",t))}}],[{key:"scope",value:function(t){return new e(t)}},{key:"setLevel",value:function(e){H.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];H.trace.apply(null,W("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];H.debug.apply(null,W("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];H.info.apply(null,W("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];H.warn.apply(null,W("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];H.error.apply(null,W("E",t))}}]),e}();function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){M.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y="PT5S",X="PT5S",Q=function e(){var t,n,r,i,a,o,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0;D.default(this,e),M.default(this,"typingIndicatorTimeoutDefault",5e3);var l=s.Chat||s.IPMessaging||s||{};this.productId=l.productId,this.links={myConversations:u.links.my_conversations,conversations:u.links.conversations,users:u.links.users,currentUser:u.links.current_user,typing:u.links.typing,mediaService:u.links.media_service,mediaSetService:u.links.media_set_service,messagesReceipts:u.links.messages_receipts},this.limits={mediaAttachmentsCountLimit:u.options.media_attachments_count_limit,mediaAttachmentSizeLimitInMb:u.options.media_attachment_size_limit_in_mb,mediaAttachmentsTotalSizeLimitInMb:u.options.media_attachments_total_size_limit_in_mb,emailHistoriesAllowedMimeTypes:u.options.email_histories_allowed_mime_types,emailBodiesAllowedMimeTypes:u.options.email_bodies_allowed_mime_types},this.typingIndicatorTimeoutOverride=l.typingIndicatorTimeoutOverride,this.backoffConfiguration=K({min:1e3,max:4e3,maxAttemptsCount:3},l.backoffConfigOverride),this.retryWhenThrottled=void 0===l.retryWhenThrottledOverride||l.retryWhenThrottledOverride,this.userInfosToSubscribe=null!==(t=null!==(n=l.userInfosToSubscribeOverride)&&void 0!==n?n:u.options.user_infos_to_subscribe)&&void 0!==t?t:100,this.reachabilityEnabled=u.options.reachability_enabled,this.userIdentity=u.identity,this.userInfo=u.sync_objects.my_user_info,this.myConversations=u.sync_objects.my_conversations;var f=null!==(r=null!==(i=l.httpCacheIntervalOverride)&&void 0!==i?i:u.options.http_cache_interval)&&void 0!==r?r:Y;try{this.httpCacheInterval=h.toSeconds(h.parse(f))}catch(p){c.error("Failed to parse http cache interval ".concat(f,", using default value ").concat(Y)),this.httpCacheInterval=h.toSeconds(h.parse(Y))}var d=null!==(a=null!==(o=l.consumptionReportIntervalOverride)&&void 0!==o?o:u.options.consumption_report_interval)&&void 0!==a?a:X;try{this.consumptionReportInterval=h.toSeconds(h.parse(d))}catch(v){c.error("Failed to parse consumption report interval ".concat(d,", using default value ").concat(X)),this.consumptionReportInterval=h.toSeconds(h.parse(X))}};function J(e){return JSON.parse(JSON.stringify(e))}function $(e){return"undefined"===typeof e||isNaN(Number(e))?null:Number(e)}function ee(e){try{return new Date(e)}catch(t){return null}}function te(e,t,n){var r={};if(e)try{r=JSON.parse(e)}catch(i){n.warn(t,i)}return r}var ne=function(){function e(t){D.default(this,e),this.base=t.replace(/\/$/,""),this.args=[],this.paths=[]}return A.default(e,[{key:"arg",value:function(e,t){return"undefined"!==typeof t&&this.args.push(encodeURIComponent(e)+"="+encodeURIComponent(t)),this}},{key:"path",value:function(e){return this.paths.push(encodeURIComponent(e)),this}},{key:"build",value:function(){var e=this.base;return this.paths.length&&(e+="/"+this.paths.join("/")),this.args.length&&(e+="?"+this.args.join("&")),e}}]),e}(),re=v.custom((function(e){return[["string","number","boolean","object"].includes(j.default(e)),"a JSON type"]})),ie=v.custom((function(e){return[["undefined","string","number","boolean","object"].includes(j.default(e)),"an optional JSON type"]}));function ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P.default(e);if(t){var i=P.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N.default(this,n)}}var oe=G.scope("User"),se=function(e){R.default(n,e);var t=ae(n);function n(e,r,i,a){var o;return D.default(this,n),o=t.call(this),M.default(I.default(o),"promiseToFetch",null),M.default(I.default(o),"updated","updated"),M.default(I.default(o),"userSubscribed","userSubscribed"),M.default(I.default(o),"userUnsubscribed","userUnsubscribed"),o.services=a,o.subscribed="initializing",o.setMaxListeners(0),o.state={identity:e,entityName:r,friendlyName:null,attributes:{},online:null,notifiable:null},o._initializationPromise=new Promise((function(e){o._resolveInitializationPromise=e})),null!==i&&o._resolveInitialization(i,e,r,!1),o}return A.default(n,[{key:"identity",get:function(){return this.state.identity},set:function(e){this.state.identity=e}},{key:"entityName",set:function(e){this.state.entityName=e}},{key:"attributes",get:function(){return this.state.attributes}},{key:"friendlyName",get:function(){return this.state.friendlyName}},{key:"isOnline",get:function(){return this.state.online}},{key:"isNotifiable",get:function(){return this.state.notifiable}},{key:"isSubscribed",get:function(){return"subscribed"==this.subscribed}},{key:"_update",value:function(){var e=O.default(L.default.mark((function e(t,n){var r,i;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializationPromise;case 2:r=[],oe.debug("User for",this.state.identity,"updated:",t,n),e.t0=t,e.next="friendlyName"===e.t0?7:"attributes"===e.t0?9:"reachability"===e.t0?12:15;break;case 7:return this.state.friendlyName!==n.value&&(r.push("friendlyName"),this.state.friendlyName=n.value),e.abrupt("break",16);case 9:return i=te(n.value,"Retrieved malformed attributes from the server for user: ".concat(this.state.identity),oe),Z.default(this.state.attributes,i)||(this.state.attributes=i,r.push("attributes")),e.abrupt("break",16);case 12:return this.state.online!==n.online&&(this.state.online=n.online,r.push("reachabilityOnline")),this.state.notifiable!==n.notifiable&&(this.state.notifiable=n.notifiable,r.push("reachabilityNotifiable")),e.abrupt("break",16);case 15:return e.abrupt("return");case 16:r.length>0&&this.emit("updated",{user:this,updateReasons:r});case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_updateReachabilityInfo",value:function(){var e=O.default(L.default.mark((function e(t,n){var r=this;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializationPromise;case 2:if(this.configuration.reachabilityEnabled){e.next=4;break}return e.abrupt("return",Promise.resolve());case 4:return e.abrupt("return",t.get("reachability").then(n).catch((function(e){oe.warn("Failed to get reachability info for ",r.state.identity,e)})));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_fetch",value:function(){var e=O.default(L.default.mark((function e(){var t=this;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializationPromise;case 2:if(this.state.entityName){e.next=4;break}return e.abrupt("return",this);case 4:return this.promiseToFetch=this.services.syncClient.map({id:this.state.entityName,mode:"open_existing",includeItems:!0}).then((function(e){return t.entity=e,e.on("itemUpdated",(function(e){return oe.debug(t.state.entityName+" ("+t.state.identity+") itemUpdated: "+e.item.key),t._update(e.item.key,e.item.data)})),Promise.all([e.get("friendlyName").then((function(e){return t._update(e.key,e.data)})),e.get("attributes").then((function(e){return t._update(e.key,e.data)})),t._updateReachabilityInfo(e,(function(e){return t._update(e.key,e.data)}))])})).then((function(){return oe.debug("Fetched for",t.identity),t.subscribed="subscribed",t.emit("userSubscribed",t),t})).catch((function(e){throw t.promiseToFetch=null,e})),e.abrupt("return",this.promiseToFetch);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_ensureFetched",value:function(){var e=O.default(L.default.mark((function e(){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializationPromise;case 2:return e.abrupt("return",this.promiseToFetch||this._fetch());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateAttributes",value:function(){var e=O.default(L.default.mark((function e(t){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializationPromise;case 2:if("unsubscribed"!=this.subscribed){e.next=4;break}throw new Error("Can't modify unsubscribed object");case 4:return e.next=6,this.services.commandExecutor.mutateResource("post",this.links.self,{attributes:JSON.stringify(t)});case 6:return e.abrupt("return",this);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateFriendlyName",value:function(){var e=O.default(L.default.mark((function e(t){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializationPromise;case 2:if("unsubscribed"!=this.subscribed){e.next=4;break}throw new Error("Can't modify unsubscribed object");case 4:return e.next=6,this.services.commandExecutor.mutateResource("post",this.links.self,{friendly_name:t});case 6:return e.abrupt("return",this);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var e=O.default(L.default.mark((function e(){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializationPromise;case 2:if(!this.promiseToFetch){e.next=9;break}return e.next=5,this.promiseToFetch;case 5:this.entity.close(),this.promiseToFetch=null,this.subscribed="unsubscribed",this.emit("userUnsubscribed",this);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_resolveInitialization",value:function(e,t,n,r){this.configuration=e,this.identity=t,this.entityName=n,this.links={self:"".concat(this.configuration.links.users,"/").concat(this.identity)},this._resolveInitializationPromise(),r&&this.emit("updated",{user:this,updateReasons:["friendlyName","attributes","reachabilityOnline","reachabilityNotifiable"]})}}]),n}(m.ReplayEventEmitter);function ue(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}V([v.validateTypesAsync(re),z("design:type",Function),z("design:paramtypes",[Object]),z("design:returntype",Promise)],se.prototype,"updateAttributes",null),V([v.validateTypesAsync(["string"]),z("design:type",Function),z("design:paramtypes",[String]),z("design:returntype",Promise)],se.prototype,"updateFriendlyName",null);var le=function(){function e(t,n){D.default(this,e),this.configuration=t,this.services=n,this.cache=new Map,this.cacheLifetime=100*this.configuration.httpCacheInterval,this.cleanupCache()}return A.default(e,[{key:"isExpired",value:function(e){return!this.cacheLifetime||Date.now()-e>this.cacheLifetime}},{key:"cleanupCache",value:function(){var e,t=ue(this.cache);try{for(t.s();!(e=t.n()).done;){var n=B.default(e.value,2),r=n[0],i=n[1];this.isExpired(i.timestamp)&&this.cache.delete(r)}}catch(a){t.e(a)}finally{t.f()}0===this.cache.size&&clearInterval(this.timer)}},{key:"pokeTimer",value:function(){var e=this;this.timer=this.timer||setInterval((function(){return e.cleanupCache()}),2*this.cacheLifetime)}},{key:"executeWithRetry",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(r,i){var a=[502,503,504];n&&a.push(429);var o=new b.Retrier(t.configuration.backoffConfiguration);o.on("attempt",(function(){e().then((function(e){return o.succeeded(e)})).catch((function(e){a.indexOf(e.status)>-1||"Twilsock disconnected"===e.message?o.failed(e):(o.removeAllListeners(),o.cancel(),i(e))}))})),o.on("succeeded",(function(e){r(e)})),o.on("cancelled",(function(e){return i(e)})),o.on("failed",(function(e){return i(e)})),o.start()}))}},{key:"get",value:function(){var e=O.default(L.default.mark((function e(t){var n,r,i,a=this;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.cache.get(t))||this.isExpired(n.timestamp)){e.next=3;break}return e.abrupt("return",n.response);case 3:return r={},e.next=6,this.executeWithRetry((function(){return a.services.transport.get(t,r,a.configuration.productId)}),this.configuration.retryWhenThrottled);case 6:return i=e.sent,this.cache.set(t,{response:i,timestamp:Date.now()}),this.pokeTimer(),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),fe=function e(){D.default(this,e)};function de(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P.default(e);if(t){var i=P.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N.default(this,n)}}M.default(fe,"TYPING_INDICATOR","twilio.ipmsg.typing_indicator"),M.default(fe,"NEW_MESSAGE","twilio.conversations.new_message"),M.default(fe,"ADDED_TO_CONVERSATION","twilio.conversations.added_to_conversation"),M.default(fe,"REMOVED_FROM_CONVERSATION","twilio.conversations.removed_from_conversation"),M.default(fe,"CONSUMPTION_UPDATE","twilio.channel.consumption_update");var pe=G.scope("Participant"),he=function(e){R.default(n,e);var t=de(n);function n(e,r,i,a,o){var s,u,c;if(D.default(this,n),(c=t.call(this)).conversation=i,c.links=a,c.services=o,c.state={attributes:te(e.attributes,"Retrieved malformed attributes from the server for participant: "+r,pe),dateCreated:e.dateCreated?ee(e.dateCreated):null,dateUpdated:e.dateCreated?ee(e.dateUpdated):null,sid:r,typingTimeout:null,isTyping:!1,identity:e.identity,roleSid:null!==(s=e.roleSid)&&void 0!==s?s:"",lastReadMessageIndex:Number.isInteger(e.lastConsumedMessageIndex)?e.lastConsumedMessageIndex:null,lastReadTimestamp:e.lastConsumptionTimestamp?ee(e.lastConsumptionTimestamp):null,type:e.type||"chat",userInfo:e.userInfo,bindings:null!==(u=e.bindings)&&void 0!==u?u:{}},!e.identity&&!e.type)throw new Error("Received invalid Participant object from server: Missing identity or type of Participant.");return c}return A.default(n,[{key:"sid",get:function(){return this.state.sid}},{key:"attributes",get:function(){return this.state.attributes}},{key:"dateCreated",get:function(){return this.state.dateCreated}},{key:"dateUpdated",get:function(){return this.state.dateUpdated}},{key:"identity",get:function(){return this.state.identity}},{key:"isTyping",get:function(){return this.state.isTyping}},{key:"lastReadMessageIndex",get:function(){return this.state.lastReadMessageIndex}},{key:"lastReadTimestamp",get:function(){return this.state.lastReadTimestamp}},{key:"roleSid",get:function(){return this.state.roleSid}},{key:"type",get:function(){return this.state.type}},{key:"bindings",get:function(){var e;return null!==(e=this.state.bindings)&&void 0!==e?e:{}}},{key:"_startTyping",value:function(e){var t=this;return this.state.typingTimeout&&clearTimeout(this.state.typingTimeout),this.state.isTyping=!0,this.emit("typingStarted",this),this.conversation.emit("typingStarted",this),this.state.typingTimeout=Number(setTimeout((function(){return t._endTyping()}),e)),this}},{key:"_endTyping",value:function(){this.state.typingTimeout&&(this.state.isTyping=!1,this.emit("typingEnded",this),this.conversation.emit("typingEnded",this),clearInterval(this.state.typingTimeout),this.state.typingTimeout=null)}},{key:"_update",value:function(e){var t=[],n=te(e.attributes,"Retrieved malformed attributes from the server for participant: "+this.state.sid,pe);e.attributes&&!Z.default(this.state.attributes,n)&&(this.state.attributes=n,t.push("attributes"));var r=ee(e.dateUpdated);e.dateUpdated&&(null===r||void 0===r?void 0:r.getTime())!==(this.state.dateUpdated&&this.state.dateUpdated.getTime())&&(this.state.dateUpdated=r,t.push("dateUpdated"));var i=ee(e.dateCreated);if(e.dateCreated&&(null===i||void 0===i?void 0:i.getTime())!==(this.state.dateCreated&&this.state.dateCreated.getTime())&&(this.state.dateCreated=i,t.push("dateCreated")),e.roleSid&&this.state.roleSid!==e.roleSid&&(this.state.roleSid=e.roleSid,t.push("roleSid")),!Number.isInteger(e.lastConsumedMessageIndex)&&null!==e.lastConsumedMessageIndex||this.state.lastReadMessageIndex===e.lastConsumedMessageIndex||(this.state.lastReadMessageIndex=e.lastConsumedMessageIndex,t.push("lastReadMessageIndex")),e.lastConsumptionTimestamp){var a=new Date(e.lastConsumptionTimestamp);this.state.lastReadTimestamp&&this.state.lastReadTimestamp.getTime()===a.getTime()||(this.state.lastReadTimestamp=a,t.push("lastReadTimestamp"))}return e.bindings&&!Z.default(this.state.bindings,e.bindings)&&(this.state.bindings=e.bindings,t.push("bindings")),t.length>0&&this.emit("updated",{participant:this,updateReasons:t}),this}},{key:"getUser",value:function(){var e=O.default(L.default.mark((function e(){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("chat"==this.type){e.next=2;break}throw new Error("Getting User is not supported for this Participant type: "+this.type);case 2:return e.abrupt("return",this.services.users.getUser(this.state.identity,this.state.userInfo));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=O.default(L.default.mark((function e(){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.conversation.removeParticipant(this));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateAttributes",value:function(){var e=O.default(L.default.mark((function e(t){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("post",this.links.self,{attributes:JSON.stringify(t)});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(m.ReplayEventEmitter);function ve(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P.default(e);if(t){var i=P.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N.default(this,n)}}M.default(he,"typingStarted","typingStarted"),M.default(he,"typingEnded","typingEnded"),M.default(he,"updated","updated"),V([v.validateTypesAsync(re),z("design:type",Function),z("design:paramtypes",[Object]),z("design:returntype",Promise)],he.prototype,"updateAttributes",null);var me=G.scope("Participants"),ge=function(e){R.default(n,e);var t=ve(n);function n(e,r,i,a,o){var s;return D.default(this,n),s=t.call(this),M.default(I.default(s),"rosterEntityPromise",null),s.conversation=e,s.participants=r,s.links=i,s.configuration=a,s.services=o,s}return A.default(n,[{key:"unsubscribe",value:function(){var e=O.default(L.default.mark((function e(){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.rosterEntityPromise){e.next=6;break}return e.next=3,this.rosterEntityPromise;case 3:e.sent.close(),this.rosterEntityPromise=null;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(e){var t=this;return this.rosterEntityPromise=this.rosterEntityPromise||this.services.syncClient.map({id:e,mode:"open_existing"}).then((function(e){e.on("itemAdded",(function(e){me.debug(t.conversation.sid+" itemAdded: "+e.item.key),t.upsertParticipant(e.item.key,e.item.data).then((function(e){t.emit("participantJoined",e)}))})),e.on("itemRemoved",(function(e){me.debug(t.conversation.sid+" itemRemoved: "+e.key);var n=e.key;if(t.participants.has(n)){var r=t.participants.get(n);t.participants.delete(n),r&&t.emit("participantLeft",r)}})),e.on("itemUpdated",(function(e){me.debug(t.conversation.sid+" itemUpdated: "+e.item.key),t.upsertParticipant(e.item.key,e.item.data)}));var n=[];return e.getItems().then((function e(r){return r.items.forEach((function(e){n.push(t.upsertParticipant(e.key,e.data))})),r.hasNextPage?r.nextPage().then(e):null})).then((function(){return Promise.all(n)})).then((function(){return e}))})).catch((function(e){throw t.rosterEntityPromise=null,"disconnected"!=t.services.syncClient.connectionState&&me.error("Failed to get roster object for conversation",t.conversation.sid,e),me.debug("ERROR: Failed to get roster object for conversation",t.conversation.sid,e),e}))}},{key:"upsertParticipant",value:function(){var e=O.default(L.default.mark((function e(t,n){var r,i,a=this;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this.participants.get(t))){e.next=3;break}return e.abrupt("return",r._update(n));case 3:return i={self:"".concat(this.links.participants,"/").concat(t)},r=new he(n,t,this.conversation,i,this.services),this.participants.set(t,r),r.on("updated",(function(e){return a.emit("participantUpdated",e)})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getParticipants",value:function(){var e=O.default(L.default.mark((function e(){var t=this;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.rosterEntityPromise?this.rosterEntityPromise.then((function(){var e=[];return t.participants.forEach((function(t){return e.push(t)})),e})):[]);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getParticipantBySid",value:function(){var e=O.default(L.default.mark((function e(t){var n=this;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.rosterEntityPromise?this.rosterEntityPromise.then((function(){var e=n.participants.get(t);if(!e)throw new Error("Participant with SID "+t+" was not found");return e})):null);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getParticipantByIdentity",value:function(){var e=O.default(L.default.mark((function e(t){var n,r=this;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.abrupt("return",this.rosterEntityPromise?this.rosterEntityPromise.then((function(){if(r.participants.forEach((function(e){e.identity===t&&(n=e)})),!n)throw new Error("Participant with identity "+t+" was not found");return n})):null);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=O.default(L.default.mark((function e(t,n){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("post",this.links.participants,{identity:t,attributes:"undefined"!==typeof n?JSON.stringify(n):void 0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addNonChatParticipant",value:function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.services.commandExecutor.mutateResource("post",this.links.participants,{attributes:"undefined"!==typeof i?JSON.stringify(i):void 0,messaging_binding:{address:t,proxy_address:e,name:null===a||void 0===a||null===(n=a.email)||void 0===n?void 0:n.name,level:null===a||void 0===a||null===(r=a.email)||void 0===r?void 0:r.level}})}},{key:"remove",value:function(e){return this.services.commandExecutor.mutateResource("delete","".concat(this.links.participants,"/").concat(e))}}]),n}(m.ReplayEventEmitter),ye=function(){function e(t,n){D.default(this,e),M.default(this,"mcsMedia",null),this.services=n,t instanceof _.McsMedia&&(this.mcsMedia=t),this.state={sid:t.sid,category:t.category,filename:t.filename,contentType:t.contentType,size:t.size}}return A.default(e,[{key:"sid",get:function(){return this.state.sid}},{key:"filename",get:function(){return this.state.filename}},{key:"contentType",get:function(){return this.state.contentType}},{key:"size",get:function(){return this.state.size}},{key:"category",get:function(){return this.state.category}},{key:"getContentTemporaryUrl",value:function(){var e=O.default(L.default.mark((function e(){var t,n;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchMcsMedia();case 2:return e.abrupt("return",null!==(t=null===(n=this.mcsMedia)||void 0===n?void 0:n.getContentUrl())&&void 0!==t?t:null);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCachedTemporaryUrl",value:function(){var e=O.default(L.default.mark((function e(){var t,n;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchMcsMedia();case 2:return e.abrupt("return",null!==(t=null===(n=this.mcsMedia)||void 0===n?void 0:n.getCachedContentUrl())&&void 0!==t?t:null);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_fetchMcsMedia",value:function(){var e=O.default(L.default.mark((function e(){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mcsMedia){e.next=8;break}if(!this.services.mcsClient){e.next=7;break}return e.next=4,this.services.mcsClient.get(this.state.sid);case 4:this.mcsMedia=e.sent,e.next=8;break;case 7:throw new Error("Media Content Service is unavailable");case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),be=function(){function e(t){D.default(this,e),this.state=t}return A.default(e,[{key:"total",get:function(){return this.state.total}},{key:"sent",get:function(){return this.state.sent}},{key:"delivered",get:function(){return this.state.delivered}},{key:"read",get:function(){return this.state.read}},{key:"undelivered",get:function(){return this.state.undelivered}},{key:"failed",get:function(){return this.state.failed}},{key:"_update",value:function(e){this.state=e}},{key:"_isEquals",value:function(e){var t=this.total===e.total,n=this.sent===e.sent,r=this.delivered===e.delivered,i=this.read===e.read,a=this.undelivered===e.undelivered,o=this.failed===e.failed;return t&&n&&r&&i&&a&&o}}]),e}(),xe=function(){function e(t,n,r,i){D.default(this,e),this.state={prevToken:r,nextToken:i,source:n,items:t}}return A.default(e,[{key:"hasNextPage",get:function(){return!!this.state.nextToken}},{key:"hasPrevPage",get:function(){return!!this.state.prevToken}},{key:"items",get:function(){return this.state.items}},{key:"nextPage",value:function(){return this.hasNextPage?this.state.source(this.state.nextToken):Promise.reject(new Error("No next page"))}},{key:"prevPage",value:function(){return this.hasPrevPage?this.state.source(this.state.prevToken):Promise.reject(new Error("No previous page"))}}]),e}(),ke=function e(t){D.default(this,e),this.sid=t.sid,this.messageSid=t.message_sid,this.conversationSid=t.conversation_sid,this.channelMessageSid=t.channel_message_sid,this.participantSid=t.participant_sid,this.status=t.status||"queued",this.errorCode=t.error_code||0,this.dateCreated=t.date_created,this.dateUpdated=t.date_updated};function we(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P.default(e);if(t){var i=P.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N.default(this,n)}}var _e=G.scope("Message"),Se=function(e){R.default(n,e);var t=we(n);function n(e,r,i,a,o,s){var u,c,l,f,d;return D.default(this,n),(d=t.call(this)).conversation=i,d.links=a,d.configuration=o,d.services=s,d.state={sid:r.sid,index:e,author:r.author,subject:r.subject,body:null!==(u=r.text)&&void 0!==u?u:null,timestamp:r.timestamp?new Date(r.timestamp):null,dateUpdated:r.dateUpdated?new Date(r.dateUpdated):null,lastUpdatedBy:null!==(c=r.lastUpdatedBy)&&void 0!==c?c:null,attributes:te(r.attributes,"Got malformed attributes for the message ".concat(r.sid),_e),type:null!==(l=r.type)&&void 0!==l?l:"text",media:r.type&&"media"===r.type&&r.media?new ye(r.media,d.services):null,medias:r.type&&"media"===r.type&&r.medias?r.medias.map((function(e){return new ye(e,d.services)})):null,participantSid:null!==(f=r.memberSid)&&void 0!==f?f:null,aggregatedDeliveryReceipt:r.delivery?new be(r.delivery):null},d}return A.default(n,[{key:"sid",get:function(){return this.state.sid}},{key:"author",get:function(){return this.state.author}},{key:"subject",get:function(){return this.state.subject}},{key:"body",get:function(){return this.state.body}},{key:"dateUpdated",get:function(){return this.state.dateUpdated}},{key:"index",get:function(){return this.state.index}},{key:"lastUpdatedBy",get:function(){return this.state.lastUpdatedBy}},{key:"dateCreated",get:function(){return this.state.timestamp}},{key:"attributes",get:function(){return this.state.attributes}},{key:"type",get:function(){return this.state.type}},{key:"media",get:function(){return this.state.media}},{key:"attachedMedia",get:function(){return this.getMediaByCategory(["media"])}},{key:"participantSid",get:function(){return this.state.participantSid}},{key:"aggregatedDeliveryReceipt",get:function(){return this.state.aggregatedDeliveryReceipt}},{key:"getMediaByCategory",value:function(e){var t;return(null!==(t=this.state.medias)&&void 0!==t?t:[]).filter((function(t){return e.includes(t.category)}))}},{key:"getEmailBody",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"text/plain";return null!==(e=null===(t=this.getMediaByCategory(["body"]))||void 0===t?void 0:t.filter((function(e){return e.contentType==n})).shift())&&void 0!==e?e:null}},{key:"getEmailHistory",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"text/plain";return null!==(e=null===(t=this.getMediaByCategory(["history"]))||void 0===t?void 0:t.filter((function(e){return e.contentType==n})).shift())&&void 0!==e?e:null}},{key:"_update",value:function(e){var t=[];!e.text&&"string"!==typeof e.text||e.text===this.state.body||(this.state.body=e.text,t.push("body")),e.subject&&e.subject!==this.state.subject&&(this.state.subject=e.subject,t.push("subject")),e.lastUpdatedBy&&e.lastUpdatedBy!==this.state.lastUpdatedBy&&(this.state.lastUpdatedBy=e.lastUpdatedBy,t.push("lastUpdatedBy")),e.author&&e.author!==this.state.author&&(this.state.author=e.author,t.push("author")),e.dateUpdated&&new Date(e.dateUpdated).getTime()!==(this.state.dateUpdated&&this.state.dateUpdated.getTime())&&(this.state.dateUpdated=new Date(e.dateUpdated),t.push("dateUpdated")),e.timestamp&&new Date(e.timestamp).getTime()!==(this.state.timestamp&&this.state.timestamp.getTime())&&(this.state.timestamp=new Date(e.timestamp),t.push("dateCreated"));var n=te(e.attributes,"Got malformed attributes for the message ".concat(this.sid),_e);Z.default(this.state.attributes,n)||(this.state.attributes=n,t.push("attributes"));var r=e.delivery,i=this.state.aggregatedDeliveryReceipt;!!r&&!!r.total&&!!r.delivered&&!!r.failed&&!!r.read&&!!r.sent&&!!r.undelivered&&(i?i._isEquals(r)||(i._update(r),t.push("deliveryReceipt")):(this.state.aggregatedDeliveryReceipt=new be(r),t.push("deliveryReceipt"))),t.length>0&&this.emit("updated",{message:this,updateReasons:t})}},{key:"getParticipant",value:function(){var e=O.default(L.default.mark((function e(){var t,n,r=this;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,!this.state.participantSid){e.next=5;break}return e.next=4,this.conversation.getParticipantBySid(this.state.participantSid).catch((function(){return _e.debug('Participant with sid "'.concat(r.participantSid,'" not found for message ').concat(r.sid)),null}));case 4:t=e.sent;case 5:if(t||!this.state.author){e.next=9;break}return e.next=8,this.conversation.getParticipantByIdentity(this.state.author).catch((function(){return _e.debug('Participant with identity "'.concat(r.author,'" not found for message ').concat(r.sid)),null}));case 8:t=e.sent;case 9:if(!t){e.next=11;break}return e.abrupt("return",t);case 11:throw n="Participant with ",this.state.participantSid&&(n+="SID '"+this.state.participantSid+"' "),this.state.author&&(this.state.participantSid&&(n+="or "),n+="identity '"+this.state.author+"' "),"Participant with "===n&&(n="Participant "),n+="was not found",new Error(n);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDetailedDeliveryReceipts",value:function(){var e=O.default(L.default.mark((function e(){var t,n;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getDetailedDeliveryReceiptsPaginator();case 2:t=e.sent,n=[];case 4:if(n=[].concat(U.default(n),U.default(t.items)),t.hasNextPage){e.next=8;break}return e.abrupt("break",13);case 8:return e.next=10,t.nextPage();case 10:t=e.sent,e.next=4;break;case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=O.default(L.default.mark((function e(){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("delete",this.links.self);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateBody",value:function(){var e=O.default(L.default.mark((function e(t){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("post",this.links.self,{body:t});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateAttributes",value:function(){var e=O.default(L.default.mark((function e(t){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("post",this.links.self,{attributes:"undefined"!==typeof t?JSON.stringify(t):void 0});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"attachTemporaryUrlsFor",value:function(){var e=O.default(L.default.mark((function e(t){var n,r=this;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===t||void 0===t?void 0:t.map((function(e){return e.sid})),!this.services.mcsClient||!n){e.next=7;break}return e.next=4,this.services.mcsClient.mediaSetGet(n);case 4:return e.abrupt("return",e.sent.map((function(e){return new ye(e,r.services)})));case 7:throw new Error("Media Content Service is unavailable");case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getDetailedDeliveryReceiptsPaginator",value:function(){var e=O.default(L.default.mark((function e(t){var n,r,i,a=this;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.configuration.links.messagesReceipts.replace("%s",this.conversation.sid).replace("%s",this.sid),r=new ne(n).arg("PageToken",null===t||void 0===t?void 0:t.pageToken).arg("PageSize",null===t||void 0===t?void 0:t.pageSize).build(),e.next=4,this.services.network.get(r);case 4:return i=e.sent,e.abrupt("return",new xe(i.body.delivery_receipts.map((function(e){return new ke(e)})),(function(e,t){return a._getDetailedDeliveryReceiptsPaginator({pageToken:e,pageSize:t})}),i.body.meta.previous_token,i.body.meta.next_token));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(m.ReplayEventEmitter);function Te(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P.default(e);if(t){var i=P.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N.default(this,n)}}M.default(Se,"updated","updated"),V([v.validateTypes([v.nonEmptyString,"undefined"]),z("design:type",Function),z("design:paramtypes",[Object]),z("design:returntype",ye)],Se.prototype,"getEmailBody",null),V([v.validateTypes([v.nonEmptyString,"undefined"]),z("design:type",Function),z("design:paramtypes",[Object]),z("design:returntype",ye)],Se.prototype,"getEmailHistory",null),V([v.validateTypesAsync("string"),z("design:type",Function),z("design:paramtypes",[String]),z("design:returntype",Promise)],Se.prototype,"updateBody",null),V([v.validateTypesAsync(re),z("design:type",Function),z("design:paramtypes",[Object]),z("design:returntype",Promise)],Se.prototype,"updateAttributes",null),V([v.validateTypesAsync(v.custom((function(e){return[e instanceof Array&&e.length>0&&e.reduce((function(e,t){return e&&t instanceof ye}),!0),"a non-empty array of Media"]}))),z("design:type",Function),z("design:paramtypes",[Array]),z("design:returntype",Promise)],Se.prototype,"attachTemporaryUrlsFor",null);var Oe=G.scope("Messages"),Ae=function(e){R.default(n,e);var t=Ce(n);function n(e,r,i){var a;return D.default(this,n),(a=t.call(this)).conversation=e,a.configuration=r,a.services=i,a.messagesByIndex=new Map,a.messagesListPromise=null,a}return A.default(n,[{key:"subscribe",value:function(){var e=O.default(L.default.mark((function e(t){var n,r=this;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.messagesListPromise){e.next=2;break}return e.abrupt("return",this.messagesListPromise);case 2:return this.messagesListPromise=this.services.syncClient.list({id:t,mode:"open_existing"}),e.prev=3,e.next=6,this.messagesListPromise;case 6:return(n=e.sent).on("itemAdded",(function(e){Oe.debug("".concat(r.conversation.sid," itemAdded: ").concat(e.item.index));var t={self:"".concat(r.conversation.links.messages,"/").concat(e.item.data.sid),conversation:r.conversation.links.self,messages_receipts:"".concat(r.conversation.links.messages,"/").concat(e.item.data.sid,"/Receipts")},n=new Se(e.item.index,e.item.data,r.conversation,t,r.configuration,r.services);r.messagesByIndex.has(n.index)?Oe.debug("Message arrived, but is already known and ignored",r.conversation.sid,n.index):(r.messagesByIndex.set(n.index,n),n.on("updated",(function(e){return r.emit("messageUpdated",e)})),r.emit("messageAdded",n))})),n.on("itemRemoved",(function(e){Oe.debug("#{this.conversation.sid} itemRemoved: ".concat(e.index));var t=e.index;if(r.messagesByIndex.has(t)){var n=r.messagesByIndex.get(t);if(!n)return;r.messagesByIndex.delete(n.index),n.removeAllListeners("updated"),r.emit("messageRemoved",n)}})),n.on("itemUpdated",(function(e){Oe.debug("".concat(r.conversation.sid," itemUpdated: ").concat(e.item.index));var t=r.messagesByIndex.get(e.item.index);t&&t._update(e.item.data)})),e.abrupt("return",n);case 13:throw e.prev=13,e.t0=e.catch(3),this.messagesListPromise=null,"disconnected"!==this.services.syncClient.connectionState&&Oe.error("Failed to get messages object for conversation",this.conversation.sid,e.t0),Oe.debug("ERROR: Failed to get messages object for conversation",this.conversation.sid,e.t0),e.t0;case 19:case"end":return e.stop()}}),e,this,[[3,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var e=O.default(L.default.mark((function e(){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.messagesListPromise){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.messagesListPromise;case 4:e.sent.close(),this.messagesListPromise=null;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendV2",value:function(){var e=O.default(L.default.mark((function e(t){var n,r,i,a,o,s,u,c,l;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Oe.debug("Sending message V2",t.mediaContent,t.attributes,t.emailOptions),r=[],i=Te(t.mediaContent),e.prev=3,i.s();case 5:if((a=i.n()).done){e.next=22;break}if(u=B.default(a.value,2),c=u[0],l=u[1],Oe.debug("Adding media to a message as ".concat(l instanceof FormData?"FormData":"SendMediaOptions"),l),e.t0=r,!(l instanceof FormData)){e.next=15;break}return e.next=12,this.services.mcsClient.postFormData(l,c);case 12:e.t1=e.sent,e.next=18;break;case 15:return e.next=17,this.services.mcsClient.post(null!==(o=l.contentType)&&void 0!==o?o:"",null!==(s=l.media)&&void 0!==s?s:"",c,l.filename);case 17:e.t1=e.sent;case 18:e.t2=e.t1,e.t0.push.call(e.t0,e.t2);case 20:e.next=5;break;case 22:e.next=27;break;case 24:e.prev=24,e.t3=e.catch(3),i.e(e.t3);case 27:return e.prev=27,i.f(),e.finish(27);case 30:return e.next=32,this.services.commandExecutor.mutateResource("post",this.conversation.links.messages,{body:t.text,subject:null===(n=t.emailOptions)||void 0===n?void 0:n.subject,media_sids:r.map((function(e){return e.sid})),attributes:"undefined"!==typeof t.attributes?JSON.stringify(t.attributes):void 0});case 32:return e.abrupt("return",e.sent);case 33:case"end":return e.stop()}}),e,this,[[3,24,27,30]])})));return function(t){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=O.default(L.default.mark((function e(t){var n,r,i=arguments;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r=i.length>2?i[2]:void 0,Oe.debug("Sending text message",t,n,r),e.next=5,this.services.commandExecutor.mutateResource("post",this.conversation.links.messages,{body:null!==t&&void 0!==t?t:"",attributes:"undefined"!==typeof n?JSON.stringify(n):void 0,subject:null===r||void 0===r?void 0:r.subject});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendMedia",value:function(){var e=O.default(L.default.mark((function e(t){var n,r,i,a,o,s=arguments;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=s.length>1&&void 0!==s[1]?s[1]:{},a=s.length>2?s[2]:void 0,Oe.debug("Sending media message",t,i,a),Oe.debug("Sending media message as ".concat(t instanceof FormData?"FormData":"SendMediaOptions"),t,i),!(t instanceof FormData)){e.next=10;break}return e.next=7,this.services.mcsClient.postFormData(t);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,this.services.mcsClient.post(null!==(n=t.contentType)&&void 0!==n?n:"",null!==(r=t.media)&&void 0!==r?r:"","media",t.filename);case 12:e.t0=e.sent;case 13:return o=e.t0,e.next=16,this.services.commandExecutor.mutateResource("post",this.conversation.links.messages,{media_sids:[o.sid],attributes:"undefined"!==typeof i?JSON.stringify(i):void 0});case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMessages",value:function(){var e=O.default(L.default.mark((function e(t,n){var r,i=arguments;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:"backwards",e.abrupt("return",this._getMessages(t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_wrapPaginator",value:function(e,t,n){var r=this,i="desc"===e,a=function(){return t.nextPage().then((function(t){return r._wrapPaginator(e,t,n)}))},o=function(){return t.prevPage().then((function(t){return r._wrapPaginator(e,t,n)}))};return n(t.items).then((function(e){return{items:e.sort((function(e,t){return e.index-t.index})),hasPrevPage:i?t.hasNextPage:t.hasPrevPage,hasNextPage:i?t.hasPrevPage:t.hasNextPage,prevPage:i?a:o,nextPage:i?o:a}}))}},{key:"_upsertMessage",value:function(e,t){var n=this,r=this.messagesByIndex.get(e);if(r)return r;var i={self:"".concat(this.conversation.links.messages,"/").concat(t.sid),conversation:this.conversation.links.self,messages_receipts:"".concat(this.conversation.links.messages,"/").concat(t.sid,"/Receipts")},a=new Se(e,t,this.conversation,i,this.configuration,this.services);return this.messagesByIndex.set(a.index,a),a.on("updated",(function(e){return n.emit("messageUpdated",e)})),a}},{key:"_getMessages",value:function(){var e=O.default(L.default.mark((function e(){var t,n,r,i,a,o,s=this,u=arguments;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:30,n=u.length>1&&void 0!==u[1]?u[1]:"end",r=u.length>2&&void 0!==u[2]?u[2]:"forward",i="backwards"===r?"desc":"asc",e.next=6,this.messagesListPromise;case 6:return a=e.sent,e.next=9,null===a||void 0===a?void 0:a.getItems({from:"end"!==n?n:void 0,pageSize:t,order:i,limit:t});case 9:return o=e.sent,e.next=12,this._wrapPaginator(i,o,(function(e){return Promise.all(e.map((function(e){return s._upsertMessage(e.index,e.data)})))}));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(m.ReplayEventEmitter),Ie=function(){function e(t){D.default(this,e),M.default(this,"attributes",{}),M.default(this,"mediaContent",[]),M.default(this,"emailOptions",{}),this.messagesEntity=t}return A.default(e,[{key:"send",value:function(){var e=O.default(L.default.mark((function e(){var t;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.messagesEntity.sendV2(this);case 2:return t=e.sent,e.abrupt("return",$(t.index));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Re=function(){function e(t,n){D.default(this,e),this.limits=t,this.message=new Ie(n),this.emailBodies=new Map,this.emailHistories=new Map}return A.default(e,[{key:"setBody",value:function(e){return this.message.text=e,this}},{key:"setSubject",value:function(e){return this.message.emailOptions.subject=e,this}},{key:"setAttributes",value:function(e){return this.message.attributes=e,this}},{key:"setEmailBody",value:function(e,t){return this.emailBodies.set(e,t),this}},{key:"setEmailHistory",value:function(e,t){return this.emailHistories.set(e,t),this}},{key:"addMedia",value:function(e){if("undefined"===typeof FormData&&e instanceof FormData)throw new Error("Could not add FormData content whilst not in a browser");if(!(e instanceof FormData)){var t=e;if(!t.contentType||!t.media)throw new Error("Media content in SendMediaOptions must contain non-empty contentType and media")}return this.message.mediaContent.push(["media",e]),this}},{key:"build",value:function(){var e=this;if(this.emailBodies.forEach((function(t,n){if(!e.limits.emailBodiesAllowedMimeTypes.includes(n))throw new Error("Unsupported email body MIME type ".concat(n))})),this.emailHistories.forEach((function(t,n){if(!e.limits.emailHistoriesAllowedMimeTypes.includes(n))throw new Error("Unsupported email history MIME type ".concat(n))})),this.emailBodies.size>this.limits.emailBodiesAllowedMimeTypes.length)throw new Error("Too many email bodies attached to the message (".concat(this.emailBodies.size," > ").concat(this.limits.emailBodiesAllowedMimeTypes.length,")"));if(this.emailHistories.size>this.limits.emailHistoriesAllowedMimeTypes.length)throw new Error("Too many email histories attached to the message (".concat(this.emailHistories.size," > ").concat(this.limits.emailHistoriesAllowedMimeTypes.length,")"));if(this.message.mediaContent.length>this.limits.mediaAttachmentsCountLimit)throw new Error("Too many media attachments in the message (".concat(this.message.mediaContent.length," > ").concat(this.limits.mediaAttachmentsCountLimit,")"));return this.emailBodies.forEach((function(t){e.message.mediaContent.push(["body",t])})),this.emailHistories.forEach((function(t){e.message.mediaContent.push(["history",t])})),this.message}},{key:"getPayloadContentType",value:function(e){return"undefined"!==typeof FormData&&e instanceof FormData?e.get("Content-Type"):e.contentType}}]),e}();function Ne(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Me(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P.default(e);if(t){var i=P.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N.default(this,n)}}var De=G.scope("Conversation"),Le={lastMessage:"lastMessage",attributes:"attributes",createdBy:"createdBy",dateCreated:"dateCreated",dateUpdated:"dateUpdated",friendlyName:"friendlyName",lastConsumedMessageIndex:"lastConsumedMessageIndex",notificationLevel:"notificationLevel",sid:"sid",status:"status",uniqueName:"uniqueName",state:"state",bindings:"bindings"};function je(e){try{return new Date(e)}catch(t){return null}}var Fe=function(e){R.default(n,e);var t=Me(n);function n(e,r,i,a,o){var s,u;D.default(this,n),(u=t.call(this)).sid=r,u.links=i,u.configuration=a,u.services=o;var c=e.attributes||{},l=e.createdBy,f=je(e.dateCreated),d=je(e.dateUpdated),p=e.friendlyName||null,h=Number.isInteger(e.lastConsumedMessageIndex)?e.lastConsumedMessageIndex:null,v=e.uniqueName||null;try{JSON.stringify(c)}catch(g){throw new Error("Attributes must be a valid JSON object.")}u.entityName=e.channel,u.channelState={uniqueName:v,status:"notParticipating",attributes:c,createdBy:l,dateCreated:f,dateUpdated:d,friendlyName:p,lastReadMessageIndex:h,bindings:null!==(s=e.bindings)&&void 0!==s?s:{}},e.notificationLevel&&(u.channelState.notificationLevel=e.notificationLevel);var m={participants:u.links.participants};return u.participants=new Map,u.participantsEntity=new ge(I.default(u),u.participants,m,u.configuration,u.services),u.participantsEntity.on("participantJoined",(function(e){return u.emit("participantJoined",e)})),u.participantsEntity.on("participantLeft",(function(e){return u.emit("participantLeft",e)})),u.participantsEntity.on("participantUpdated",(function(e){return u.emit("participantUpdated",e)})),u.messagesEntity=new Ae(I.default(u),a,o),u.messagesEntity.on("messageAdded",(function(e){return u._onMessageAdded(e)})),u.messagesEntity.on("messageUpdated",(function(e){return u.emit("messageUpdated",e)})),u.messagesEntity.on("messageRemoved",(function(e){return u.emit("messageRemoved",e)})),u}return A.default(n,[{key:"uniqueName",get:function(){return this.channelState.uniqueName}},{key:"status",get:function(){return this.channelState.status}},{key:"friendlyName",get:function(){return this.channelState.friendlyName}},{key:"dateUpdated",get:function(){return this.channelState.dateUpdated}},{key:"dateCreated",get:function(){return this.channelState.dateCreated}},{key:"createdBy",get:function(){var e;return null!==(e=this.channelState.createdBy)&&void 0!==e?e:""}},{key:"attributes",get:function(){return this.channelState.attributes}},{key:"lastReadMessageIndex",get:function(){return this.channelState.lastReadMessageIndex}},{key:"lastMessage",get:function(){var e;return null!==(e=this.channelState.lastMessage)&&void 0!==e?e:void 0}},{key:"notificationLevel",get:function(){var e;return null!==(e=this.channelState.notificationLevel)&&void 0!==e?e:"default"}},{key:"bindings",get:function(){return this.channelState.bindings}},{key:"limits",get:function(){return this.configuration.limits}},{key:"state",get:function(){return this.channelState.state}},{key:"_subscribe",value:function(){var e,t=this;return this.entityPromise=null!==(e=this.entityPromise)&&void 0!==e?e:this.services.syncClient.document({id:this.entityName,mode:"open_existing"}).then((function(e){return t.entity=e,t.entity.on("updated",(function(e){t._update(e.data)})),t.entity.on("removed",(function(){return t.emit("removed",t)})),t._update(t.entity.data),e})).catch((function(e){throw t.entity=null,t.entityPromise=null,"disconnected"!=t.services.syncClient.connectionState&&De.error("Failed to get conversation object",e),De.debug("ERROR: Failed to get conversation object",e),e}))}},{key:"_subscribeStreams",value:function(){var e=O.default(L.default.mark((function e(){var t,n,r,i,a;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._subscribe();case 3:return De.trace("_subscribeStreams, this.entity.data=",null===(t=this.entity)||void 0===t?void 0:t.data),i=null===(n=this.entity)||void 0===n?void 0:n.data.messages,a=null===(r=this.entity)||void 0===r?void 0:r.data.roster,e.next=8,Promise.all([this.messagesEntity.subscribe(i),this.participantsEntity.subscribe(a)]);case 8:e.next=15;break;case 10:throw e.prev=10,e.t0=e.catch(0),"disconnected"!==this.services.syncClient.connectionState&&De.error("Failed to subscribe on conversation objects",this.sid,e.t0),De.debug("ERROR: Failed to subscribe on conversation objects",this.sid,e.t0),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"_unsubscribe",value:function(){var e=O.default(L.default.mark((function e(){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.entity){e.next=5;break}return e.next=3,this.entity.close();case 3:this.entity=null,this.entityPromise=null;case 5:return e.abrupt("return",Promise.all([this.participantsEntity.unsubscribe(),this.messagesEntity.unsubscribe()]));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_setStatus",value:function(e,t){var n=this;this.statusSource=t,this.channelState.status!==e&&(this.channelState.status=e,"joined"===e?this._subscribeStreams().catch((function(t){if(De.debug("ERROR while setting conversation status "+e,t),"disconnected"!==n.services.syncClient.connectionState)throw t})):this.entityPromise&&this._unsubscribe().catch((function(t){if(De.debug("ERROR while setting conversation status "+e,t),"disconnected"!==n.services.syncClient.connectionState)throw t})))}},{key:"_statusSource",value:function(){return this.statusSource}},{key:"_update",value:function(e){var t,r,i,a,o;De.trace("_update",e),n.preprocessUpdate(e,this.sid);for(var s=new Set,u=0,c=Object.keys(e);u<c.length;u++){var l=c[u],f=Le[l];if(f)switch(f){case Le.status:if(!e.status||"unknown"===e.status||this.channelState.status===e.status)break;this.channelState.status=e.status,s.add(f);break;case Le.attributes:if(Z.default(this.channelState.attributes,e.attributes))break;this.channelState.attributes=e.attributes,s.add(f);break;case Le.lastConsumedMessageIndex:if(void 0===e.lastConsumedMessageIndex||e.lastConsumedMessageIndex===this.channelState.lastReadMessageIndex)break;this.channelState.lastReadMessageIndex=e.lastConsumedMessageIndex,s.add("lastReadMessageIndex");break;case Le.lastMessage:if(this.channelState.lastMessage&&!e.lastMessage){delete this.channelState.lastMessage,s.add(f);break}this.channelState.lastMessage=this.channelState.lastMessage||{},void 0!==(null===(t=e.lastMessage)||void 0===t?void 0:t.index)&&e.lastMessage.index!==this.channelState.lastMessage.index&&(this.channelState.lastMessage.index=e.lastMessage.index,s.add(f)),void 0!==(null===(r=e.lastMessage)||void 0===r?void 0:r.timestamp)&&(null===(i=this.channelState.lastMessage)||void 0===i||null===(a=i.dateCreated)||void 0===a?void 0:a.getTime())!==e.lastMessage.timestamp.getTime()&&(this.channelState.lastMessage.dateCreated=e.lastMessage.timestamp,s.add(f)),Z.default(this.channelState.lastMessage,{})&&delete this.channelState.lastMessage;break;case Le.state:var d=e.state||void 0;if(void 0!==d&&(d.dateUpdated=new Date(d.dateUpdated)),Z.default(this.channelState.state,d))break;this.channelState.state=d,s.add(f);break;case Le.bindings:if(Z.default(this.channelState.bindings,e.bindings))break;this.channelState.bindings=e.bindings,s.add(f);break;default:var p=e[l]instanceof Date,h=p&&(null===(o=this.channelState[f])||void 0===o?void 0:o.getTime())===e[l].getTime(),v=!p&&this[f]===e[l];if(h||v)break;this.channelState[f]=e[l],s.add(f)}}s.size>0&&this.emit("updated",{conversation:this,updateReasons:U.default(s)})}},{key:"_onMessageAdded",value:function(e){var t,n=Ne(this.participants.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.identity===e.author){r._endTyping();break}}}catch(i){n.e(i)}finally{n.f()}this.emit("messageAdded",e)}},{key:"_setLastReadMessageIndex",value:function(){var e=O.default(L.default.mark((function e(t){var n;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("post","".concat(this.configuration.links.myConversations,"/").concat(this.sid),{last_read_message_index:t});case 2:return n=e.sent,e.abrupt("return",n.unread_messages_count);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=O.default(L.default.mark((function e(t,n){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.participantsEntity.add(t,null!==n&&void 0!==n?n:{}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addNonChatParticipant",value:function(){var e=O.default(L.default.mark((function e(t,n){var r,i,a=arguments;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},i=a.length>3&&void 0!==a[3]?a[3]:{},e.abrupt("return",this.participantsEntity.addNonChatParticipant(t,n,null!==r&&void 0!==r?r:{},null!==i&&void 0!==i?i:{}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"advanceLastReadMessageIndex",value:function(){var e=O.default(L.default.mark((function e(t){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:if(!(t<(this.lastReadMessageIndex||0))){e.next=6;break}return e.next=5,this._setLastReadMessageIndex(this.lastReadMessageIndex);case 5:case 8:return e.abrupt("return",e.sent);case 6:return e.next=8,this._setLastReadMessageIndex(t);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=O.default(L.default.mark((function e(){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("delete",this.links.self);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAttributes",value:function(){var e=O.default(L.default.mark((function e(){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribe();case 2:return e.abrupt("return",this.attributes);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMessages",value:function(){var e=O.default(L.default.mark((function e(t,n,r){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.abrupt("return",this.messagesEntity.getMessages(t,n,r));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getParticipants",value:function(){var e=O.default(L.default.mark((function e(){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.abrupt("return",this.participantsEntity.getParticipants());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getParticipantsCount",value:function(){var e=O.default(L.default.mark((function e(){var t,n,r;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ne(this.configuration.links.conversations).path(this.sid).build(),e.next=3,this.services.network.get(n);case 3:return r=e.sent,e.abrupt("return",null!==(t=r.body.participants_count)&&void 0!==t?t:0);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getParticipantBySid",value:function(){var e=O.default(L.default.mark((function e(t){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.participantsEntity.getParticipantBySid(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getParticipantByIdentity",value:function(){var e=O.default(L.default.mark((function e(){var t,n=arguments;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.abrupt("return",this.participantsEntity.getParticipantByIdentity(null!==t&&void 0!==t?t:""));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMessagesCount",value:function(){var e=O.default(L.default.mark((function e(){var t,n,r;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ne(this.configuration.links.conversations).path(this.sid).build(),e.next=3,this.services.network.get(n);case 3:return r=e.sent,e.abrupt("return",null!==(t=r.body.messages_count)&&void 0!==t?t:0);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUnreadMessagesCount",value:function(){var e=O.default(L.default.mark((function e(){var t,n,r;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new ne(this.configuration.links.myConversations).path(this.sid).build(),e.next=3,this.services.network.get(t);case 3:if((n=e.sent).body.conversation_sid===this.sid){e.next=6;break}throw new Error("Conversation was not found in the user conversations list");case 6:if("number"!==typeof(r=n.body.unread_messages_count)){e.next=9;break}return e.abrupt("return",r);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"join",value:function(){var e=O.default(L.default.mark((function e(){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("post",this.links.participants,{identity:this.configuration.userIdentity});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"leave",value:function(){var e=O.default(L.default.mark((function e(){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("joined"!==this.channelState.status){e.next=3;break}return e.next=3,this.services.commandExecutor.mutateResource("delete","".concat(this.links.participants,"/").concat(this.configuration.userIdentity));case 3:return e.abrupt("return",this);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeParticipant",value:function(){var e=O.default(L.default.mark((function e(t){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.participantsEntity.remove("string"===typeof t?t:t.sid);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var e=O.default(L.default.mark((function e(t,n,r){var i,a,o,s;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t&&null!==t){e.next=5;break}return e.next=3,this.messagesEntity.send(t,n,r);case 3:return o=e.sent,e.abrupt("return",null!==(a=$(o.index))&&void 0!==a?a:0);case 5:return e.next=7,this.messagesEntity.sendMedia(t,n,r);case 7:return s=e.sent,e.abrupt("return",null!==(i=$(s.index))&&void 0!==i?i:0);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"prepareMessage",value:function(){return new Re(this.limits,this.messagesEntity)}},{key:"setAllMessagesRead",value:function(){var e=O.default(L.default.mark((function e(){var t;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.next=4,this.getMessages(1);case 4:if(!((t=e.sent).items.length>0)){e.next=7;break}return e.abrupt("return",this.advanceLastReadMessageIndex(t.items[0].index));case 7:return e.abrupt("return",Promise.resolve(0));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setAllMessagesUnread",value:function(){var e=O.default(L.default.mark((function e(){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.next=4,this._setLastReadMessageIndex(null);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setUserNotificationLevel",value:function(){var e=O.default(L.default.mark((function e(t){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("post","".concat(this.configuration.links.myConversations,"/").concat(this.sid),{notification_level:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"typing",value:function(){return this.services.typingIndicator.send(this.sid)}},{key:"updateAttributes",value:function(){var e=O.default(L.default.mark((function e(t){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.mutateResource("post",this.links.self,{attributes:void 0!==t?JSON.stringify(t):void 0});case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateFriendlyName",value:function(){var e=O.default(L.default.mark((function e(t){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.channelState.friendlyName===t){e.next=3;break}return e.next=3,this.services.commandExecutor.mutateResource("post",this.links.self,{friendly_name:t});case 3:return e.abrupt("return",this);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateLastReadMessageIndex",value:function(){var e=O.default(L.default.mark((function e(t){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._subscribeStreams();case 2:return e.abrupt("return",this._setLastReadMessageIndex(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUniqueName",value:function(){var e=O.default(L.default.mark((function e(t){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.channelState.uniqueName===t){e.next=4;break}return t||(t=""),e.next=4,this.services.commandExecutor.mutateResource("post",this.links.self,{unique_name:t});case 4:return e.abrupt("return",this);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"preprocessUpdate",value:function(e,t){try{"string"===typeof e.attributes?e.attributes=JSON.parse(e.attributes):e.attributes&&JSON.stringify(e.attributes)}catch(n){De.warn("Retrieved malformed attributes from the server for conversation: "+t),e.attributes={}}try{e.dateCreated&&(e.dateCreated=new Date(e.dateCreated))}catch(n){De.warn("Retrieved malformed dateCreated from the server for conversation: "+t),delete e.dateCreated}try{e.dateUpdated&&(e.dateUpdated=new Date(e.dateUpdated))}catch(n){De.warn("Retrieved malformed dateUpdated from the server for conversation: "+t),delete e.dateUpdated}try{e.lastMessage&&e.lastMessage.timestamp&&(e.lastMessage.timestamp=new Date(e.lastMessage.timestamp))}catch(n){De.warn("Retrieved malformed lastMessage.timestamp from the server for conversation: "+t),delete e.lastMessage.timestamp}}}]),n}(m.ReplayEventEmitter);M.default(Fe,"participantJoined","participantJoined"),M.default(Fe,"participantLeft","participantLeft"),M.default(Fe,"participantUpdated","participantUpdated"),M.default(Fe,"messageAdded","messageAdded"),M.default(Fe,"messageRemoved","messageRemoved"),M.default(Fe,"messageUpdated","messageUpdated"),M.default(Fe,"typingEnded","typingEnded"),M.default(Fe,"typingStarted","typingStarted"),M.default(Fe,"updated","updated"),M.default(Fe,"removed","removed"),V([v.validateTypesAsync(v.nonEmptyString,ie),z("design:type",Function),z("design:paramtypes",[String,Object]),z("design:returntype",Promise)],Fe.prototype,"add",null),V([v.validateTypesAsync(v.nonEmptyString,v.nonEmptyString,ie),z("design:type",Function),z("design:paramtypes",[String,String,Object,Object]),z("design:returntype",Promise)],Fe.prototype,"addNonChatParticipant",null),V([v.validateTypesAsync(v.nonNegativeInteger),z("design:type",Function),z("design:paramtypes",[Number]),z("design:returntype",Promise)],Fe.prototype,"advanceLastReadMessageIndex",null),V([v.validateTypesAsync(["undefined",v.nonNegativeInteger],["undefined",v.nonNegativeInteger],["undefined",v.literal("backwards","forward")]),z("design:type",Function),z("design:paramtypes",[Number,Number,String]),z("design:returntype",Promise)],Fe.prototype,"getMessages",null),V([v.validateTypesAsync(v.nonEmptyString),z("design:type",Function),z("design:paramtypes",[String]),z("design:returntype",Promise)],Fe.prototype,"getParticipantBySid",null),V([v.validateTypesAsync(v.nonEmptyString),z("design:type",Function),z("design:paramtypes",[String]),z("design:returntype",Promise)],Fe.prototype,"getParticipantByIdentity",null),V([v.validateTypesAsync([v.nonEmptyString,he]),z("design:type",Function),z("design:paramtypes",[Object]),z("design:returntype",Promise)],Fe.prototype,"removeParticipant",null),V([v.validateTypesAsync(["string",v.literal(null),v.custom((function(e){return[e instanceof FormData,"an instance of FormData"]})),v.objectSchema("media options",{contentType:v.nonEmptyString,media:v.custom((function(e){var t="string"===typeof e&&e.length>0||e instanceof Uint8Array||e instanceof ArrayBuffer;return"function"===typeof Blob&&(t=t||e instanceof Blob),[t,"a non-empty string, an instance of Buffer or an instance of Blob"]}))})],ie,["undefined",v.literal(null),v.objectSchema("email attributes",{subject:[v.nonEmptyString,"undefined"]})]),z("design:type",Function),z("design:paramtypes",[Object,Object,Object]),z("design:returntype",Promise)],Fe.prototype,"sendMessage",null),V([v.validateTypesAsync(v.literal("default","muted")),z("design:type",Function),z("design:paramtypes",[String]),z("design:returntype",Promise)],Fe.prototype,"setUserNotificationLevel",null),V([v.validateTypesAsync(re),z("design:type",Function),z("design:paramtypes",[Object]),z("design:returntype",Promise)],Fe.prototype,"updateAttributes",null),V([v.validateTypesAsync(["string"]),z("design:type",Function),z("design:paramtypes",[String]),z("design:returntype",Promise)],Fe.prototype,"updateFriendlyName",null),V([v.validateTypesAsync([v.literal(null),v.nonNegativeInteger]),z("design:type",Function),z("design:paramtypes",[Number]),z("design:returntype",Promise)],Fe.prototype,"updateLastReadMessageIndex",null),V([v.validateTypesAsync(["string",v.literal(null)]),z("design:type",Function),z("design:paramtypes",[String]),z("design:returntype",Promise)],Fe.prototype,"updateUniqueName",null);var Ze=function(){function e(){var t=this;D.default(this,e),this._promise=new Promise((function(e,n){t._resolve=e,t._reject=n}))}return A.default(e,[{key:"promise",get:function(){return this._promise}},{key:"update",value:function(e){this._resolve(e)}},{key:"set",value:function(e){this.current=e,this._resolve(e)}},{key:"fail",value:function(e){this._reject(e)}}]),e}();function Be(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ue(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){M.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P.default(e);if(t){var i=P.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N.default(this,n)}}var He=G.scope("Conversations"),Ge=function(e){R.default(n,e);var t=We(n);function n(e,r){var i;return D.default(this,n),i=t.call(this),M.default(I.default(i),"conversations",new Map),M.default(I.default(i),"myConversationsRead",new Ze),M.default(I.default(i),"tombstones",new Set),M.default(I.default(i),"myConversationsFetched",!1),i.configuration=e,i.services=r,i}return A.default(n,[{key:"addConversation",value:function(){var e=O.default(L.default.mark((function e(t){var n,r,i,a,o,s,u,c,l,f;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="undefined"!==typeof(null===t||void 0===t?void 0:t.attributes)?t.attributes:{},e.next=3,this.services.commandExecutor.mutateResource("post",this.configuration.links.conversations,{friendly_name:t.friendlyName,unique_name:t.uniqueName,attributes:"undefined"!==typeof a?JSON.stringify(a):void 0});case 3:if(o=e.sent,s=null!==(n=o.sid)&&void 0!==n?n:null,u=null!==(r=null===(i=o.sync_objects)||void 0===i?void 0:i.conversation)&&void 0!==r?r:null,c=ze({self:o.url},o.links),!(l=this.conversations.get(s))){e.next=12;break}return e.next=11,l._subscribe();case 11:return e.abrupt("return",l);case 12:return f=new Fe({channel:u,entityName:"",uniqueName:"",attributes:null,createdBy:"",friendlyName:"",lastConsumedMessageIndex:0,dateCreated:null,dateUpdated:null},s,c,this.configuration,this.services),this.conversations.set(f.sid,f),this._registerForEvents(f),e.next=17,f._subscribe();case 17:return this.emit("conversationAdded",f),e.abrupt("return",f);case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchConversations",value:function(){var e=O.default(L.default.mark((function e(){var t,n,r,i,a,o,s,u=this;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._getMap();case 3:return(t=e.sent).on("itemAdded",(function(e){He.debug("itemAdded: ".concat(e.item.key)),u._upsertConversation("sync",e.item.key,e.item.data)})),t.on("itemRemoved",(function(e){He.debug("itemRemoved: ".concat(e.key));var t=e.key;u.myConversationsFetched||u.tombstones.add(t);var n=u.conversations.get(t);n&&("joined"===n.status&&(n._setStatus("notParticipating","sync"),u.emit("conversationLeft",n)),u.conversations.delete(t),u.emit("conversationRemoved",n),n.emit("removed",n))})),t.on("itemUpdated",(function(e){He.debug("itemUpdated: ".concat(e.item.key)),u._upsertConversation("sync",e.item.key,e.item.data)})),e.next=9,this._fetchMyConversations();case 9:n=e.sent,r=[],i=Be(n);try{for(i.s();!(a=i.n()).done;)o=a.value,r.push(this._upsertConversation("rest",o.channel_sid,o))}catch(c){i.e(c)}finally{i.f()}return this.myConversationsRead.set(!0),e.next=16,Promise.all(r);case 16:return this.myConversationsFetched=!0,this.tombstones.clear(),He.debug("The conversations list has been successfully fetched"),e.abrupt("return",this);case 22:throw e.prev=22,e.t0=e.catch(0),s="Failed to fetch the conversations list","disconnected"!==this.services.syncClient.connectionState&&He.error(s,e.t0),He.debug("ERROR: ".concat(s),e.t0),e.t0;case 28:case"end":return e.stop()}}),e,this,[[0,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"getConversations",value:function(){var e=O.default(L.default.mark((function e(){var t,n,r=this;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getMap();case 2:return t=e.sent,e.next=5,t.getItems();case 5:return n=e.sent,e.abrupt("return",this._wrapPaginator(n,(function(e){return Promise.all(e.map((function(e){return r._upsertConversation("sync",e.key,e.data)})))})));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getConversation",value:function(){var e=O.default(L.default.mark((function e(t){var n,r,i,a=this;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getMap();case 2:return n=e.sent,e.next=5,n.getItems({key:t});case 5:return r=e.sent,i=r.items.map((function(e){return a._upsertConversation("sync",e.key,e.data)})),e.abrupt("return",i.length>0?i[0]:null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConversationByUniqueName",value:function(){var e=O.default(L.default.mark((function e(t){var n,r,i,a,o;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ne(this.configuration.links.myConversations).path(t).build(),e.next=3,this.services.network.get(n);case 3:return r=e.sent,i=r.body,a=i.conversation_sid,o={entityName:null,lastConsumedMessageIndex:i.last_read_message_index,status:(null===i||void 0===i?void 0:i.status)||"unknown",friendlyName:i.friendly_name,dateUpdated:i.date_updated,dateCreated:i.date_created,uniqueName:i.unique_name,createdBy:i.created_by,attributes:i.attributes,channel:i.sync_objects.conversation,notificationLevel:null===i||void 0===i?void 0:i.notification_level,sid:a},e.abrupt("return",a?this._upsertConversation("sync",a,o):null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"peekConversation",value:function(){var e=O.default(L.default.mark((function e(t){var n,r,i,a;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ne(this.configuration.links.conversations).path(t).build(),e.next=3,this.services.network.get(n);case 3:return r=e.sent,i=r.body,a={entityName:null,status:(null===i||void 0===i?void 0:i.status)||"unknown",friendlyName:i.friendly_name,dateUpdated:i.date_updated,dateCreated:i.date_created,uniqueName:i.unique_name,createdBy:i.created_by,attributes:i.attributes,channel:"".concat(t,".channel"),sid:t},e.abrupt("return",this._upsertConversation("sync",t,a));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getMap",value:function(){var e=O.default(L.default.mark((function e(){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.syncClient.map({id:this.configuration.myConversations,mode:"open_existing"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_wrapPaginator",value:function(){var e=O.default(L.default.mark((function e(t,n){var r,i=this;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t.items);case 2:return r=e.sent,e.abrupt("return",{items:r,hasNextPage:t.hasNextPage,hasPrevPage:t.hasPrevPage,nextPage:function(){return t.nextPage().then((function(e){return i._wrapPaginator(e,n)}))},prevPage:function(){return t.prevPage().then((function(e){return i._wrapPaginator(e,n)}))}});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_updateConversation",value:function(){var e=O.default(L.default.mark((function e(t,n,r){var i,a,o,s=this;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=void 0!==n._statusSource()&&t!==n._statusSource(),a="rest"!==t||"sync"===n._statusSource(),!i||!a||"sync"===t){e.next=5;break}return He.trace("upsertConversation: conversation is known from sync and came from chat, ignoring",{sid:n.sid,data:r.status,conversation:n.status}),e.abrupt("return");case 5:if("joined"!==r.status||"joined"===n.status){e.next=13;break}return n._setStatus("joined",t),o={},"undefined"!==typeof r.notificationLevel&&(o.notificationLevel=r.notificationLevel),"undefined"!==typeof r.lastConsumedMessageIndex&&(o.lastConsumedMessageIndex=r.lastConsumedMessageIndex),Z.default(o,{})||n._update(o),n._subscribe().then((function(){s.emit("conversationJoined",n)})),e.abrupt("return");case 13:if("notParticipating"!==r.status||"joined"!==n.status){e.next=20;break}return n._setStatus("notParticipating",t),n._update(r),e.next=18,n._subscribe();case 18:return this.emit("conversationLeft",n),e.abrupt("return");case 20:if("notParticipating"!==r.status){e.next=24;break}return e.next=23,n._subscribe();case 23:return e.abrupt("return");case 24:n._update(r);case 25:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_upsertConversation",value:function(){var e=O.default(L.default.mark((function e(t,n,r){var i,a,o,s;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(He.trace("upsertConversation called for ".concat(n),r),!(i=this.conversations.get(n))){e.next=9;break}return He.trace("upsertConversation: the conversation ".concat(i.sid," is known;")+"its status is known from the source ".concat(i._statusSource()," ")+"and the update came from the source ".concat(t),i),e.next=6,this._updateConversation(t,i,r);case 6:return e.next=8,i._subscribe();case 8:return e.abrupt("return",i);case 9:if(!["chat","rest"].includes(t)||!this.tombstones.has(n)){e.next=12;break}return He.trace("upsertChannel: the channel is deleted but reappeared again from chat, ignoring",n),e.abrupt("return",null);case 12:return He.trace("upsertConversation: creating a local conversation object with sid "+n,r),a="".concat(this.configuration.links.conversations,"/").concat(n),o={self:a,messages:"".concat(a,"/Messages"),participants:"".concat(a,"/Participants")},s=new Fe(r,n,o,this.configuration,this.services),this.conversations.set(n,s),e.next=19,s._subscribe();case 19:return this._registerForEvents(s),this.emit("conversationAdded",s),"joined"===r.status&&(s._setStatus("joined",t),this.emit("conversationJoined",s)),e.abrupt("return",s);case 23:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_fetchMyConversations",value:function(){var e=O.default(L.default.mark((function e(){var t,n,r,i,a,o;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=null;case 2:return i=new ne(this.configuration.links.myConversations),n&&i.arg("PageToken",n),e.next=6,this.services.network.get(i.build());case 6:a=e.sent,o=null===(r=a.body)||void 0===r?void 0:r.conversations.map((function(e){return{descriptor:e,channel_sid:e.conversation_sid,status:e.status,channel:e.sync_objects.conversation,messages:e.sync_objects.messages,roster:"".concat(e.conversation_sid,".roster"),lastConsumedMessageIndex:e.last_read_message_index,notificationLevel:e.notification_level}})),n=a.body.meta.next_token,t=[].concat(U.default(t),U.default(o));case 10:if(n){e.next=2;break}case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_onConversationRemoved",value:function(e){var t=this.conversations.get(e);t&&(this.conversations.delete(e),this.emit("conversationRemoved",t))}},{key:"_registerForEvents",value:function(e){var t=this;e.on("removed",(function(){return t._onConversationRemoved(e.sid)})),e.on("updated",(function(e){return t.emit("conversationUpdated",e)})),e.on("participantJoined",(function(e){return t.emit("participantJoined",e)})),e.on("participantLeft",(function(e){return t.emit("participantLeft",e)})),e.on("participantUpdated",(function(e){return t.emit("participantUpdated",e)})),e.on("messageAdded",(function(e){return t.emit("messageAdded",e)})),e.on("messageUpdated",(function(e){return t.emit("messageUpdated",e)})),e.on("messageRemoved",(function(e){return t.emit("messageRemoved",e)})),e.on("typingStarted",(function(e){return t.emit("typingStarted",e)})),e.on("typingEnded",(function(e){return t.emit("typingEnded",e)}))}}]),n}(m.ReplayEventEmitter);function qe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P.default(e);if(t){var i=P.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N.default(this,n)}}var Ke=function(e){R.default(n,e);var t=qe(n);function n(e,r,i){var a;return D.default(this,n),(a=t.call(this)).configuration=r,a.services=i,a.fifoStack=[],a.myself=e,a.myself.on("updated",(function(e){return a.emit("userUpdated",e)})),a.myself.on("userSubscribed",(function(){return a.emit("userSubscribed",a.myself)})),a.myself.on("userUnsubscribed",(function(){a.emit("userUnsubscribed",a.myself),a.myself._ensureFetched()})),a.subscribedUsers=new Map,a}return A.default(n,[{key:"handleUnsubscribeUser",value:function(e){this.subscribedUsers.has(e.identity)&&this.subscribedUsers.delete(e.identity);var t=0;this.fifoStack.find((function(n,r){return n==e.identity&&(t=r,!0)}))&&this.fifoStack.splice(t,1),this.emit("userUnsubscribed",e)}},{key:"handleSubscribeUser",value:function(e){if(!this.subscribedUsers.has(e.identity)){if(this.fifoStack.length>=this.configuration.userInfosToSubscribe){var t,n,r=this.fifoStack.shift();null===(t=this.subscribedUsers)||void 0===t||null===(n=t.get(r))||void 0===n||n.unsubscribe()}this.fifoStack.push(e.identity),this.subscribedUsers.set(e.identity,e),this.emit("userSubscribed",e)}}},{key:"getUser",value:function(){var e=O.default(L.default.mark((function e(){var t,n,r,i,a=this,o=arguments;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1&&void 0!==o[1]?o[1]:"",e.next=4,this.myself._ensureFetched();case 4:if(t!=this.myself.identity){e.next=6;break}return e.abrupt("return",this.myself);case 6:if(!(r=this.subscribedUsers.get(t))){e.next=9;break}return e.abrupt("return",r);case 9:if(e.t0=n,e.t0){e.next=14;break}return e.next=13,this.getSyncUniqueName(t);case 13:e.t0=e.sent;case 14:return n=e.t0,(i=new se(t,n,this.configuration,this.services)).on("updated",(function(e){return a.emit("userUpdated",e)})),i.on("userSubscribed",(function(){return a.handleSubscribeUser(i)})),i.on("userUnsubscribed",(function(){return a.handleUnsubscribeUser(i)})),e.next=21,i._ensureFetched();case 21:return e.abrupt("return",i);case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSubscribedUsers",value:function(){var e=O.default(L.default.mark((function e(){var t;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.myself._ensureFetched();case 2:return t=[this.myself],this.subscribedUsers.forEach((function(e){return t.push(e)})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSyncUniqueName",value:function(){var e=O.default(L.default.mark((function e(t){var n,r,i,a;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new ne(this.configuration.links.users).path(t).build(),e.next=3,this.services.network.get(i);case 3:return a=e.sent,e.abrupt("return",null!==(n=null===(r=a.body)||void 0===r?void 0:r.sync_objects.user_info_map)&&void 0!==n?n:"");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(m.ReplayEventEmitter),Ye=G.scope("TypingIndicator"),Xe=function(){function e(t,n,r){D.default(this,e),this.configuration=n,this.services=r,this.getConversation=t,this.serviceTypingTimeout=null,this.sentUpdates=new Map}return A.default(e,[{key:"typingTimeout",get:function(){return this.configuration.typingIndicatorTimeoutOverride||this.serviceTypingTimeout||this.configuration.typingIndicatorTimeoutDefault}},{key:"initialize",value:function(){var e=this;this.services.notificationClient.on("message",function(){var t=O.default(L.default.mark((function t(n,r){return L.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n!==fe.TYPING_INDICATOR){t.next=3;break}return t.next=3,e._handleRemoteTyping(r);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"_handleRemoteTyping",value:function(){var e=O.default(L.default.mark((function e(t){var n=this;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ye.trace("Got new typing indicator ",t),this.getConversation(t.channel_sid).then((function(e){e&&e.participants.forEach((function(e){if(e.identity===t.identity){var r=n.configuration.typingIndicatorTimeoutOverride?n.configuration.typingIndicatorTimeoutOverride+1e3:1e3*t.typing_timeout;e._startTyping(r)}}))})).catch((function(e){throw Ye.error(e),e}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"send",value:function(e){var t=this.sentUpdates.get(e);return t&&t>Date.now()-this.typingTimeout?Promise.resolve():(this.sentUpdates.set(e,Date.now()),this._send(e))}},{key:"_send",value:function(e){var t=this;Ye.trace("Sending typing indicator");var n=this.configuration.links.typing,r="ChannelSid=".concat(e);return this.services.twilsockClient.post(n,{"Content-Type":"application/x-www-form-urlencoded"},r,this.configuration.productId).then((function(e){e.body.hasOwnProperty("typing_timeout")&&(t.serviceTypingTimeout=1e3*e.body.typing_timeout)})).catch((function(e){throw Ye.error("Failed to send typing indicator:",e),e}))}}]),e}(),Qe=function e(t){D.default(this,e),this.title=t.title||null,this.body=t.body||null,this.sound=t.sound||null,this.badge=t.badge||null,this.action=t.action||null,this.type=t.type||null,this.data=t.data||{}};function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){M.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var et,tt,nt,rt=function(e){return e.replace(/(^\/+|\/+$)/g,"")},it=function(){function e(t,n,r){D.default(this,e),this._serviceUrl=t,this._services=n,this._productId=r}return A.default(e,[{key:"_preProcessUrl",value:function(e){var t=rt(e);return/^https?:\/\//.test(e)?t:"".concat(rt(this._serviceUrl),"/").concat(t)}},{key:"_makeRequest",value:function(){var e=O.default(L.default.mark((function e(t,n,r,i){var a,o,s,u;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this._preProcessUrl(n),o=$e({"Content-Type":"application/json; charset=utf-8"},i||{}),e.t0=t,e.next="get"===e.t0?5:"post"===e.t0?11:"delete"===e.t0?15:19;break;case 5:return u=a,r&&(u+="?"+Object.entries(r).map((function(e){return e.map(encodeURIComponent).join("=")})).join("&")),e.next=9,this._services.transport.get(u,o,this._productId);case 9:case 13:case 17:return s=e.sent,e.abrupt("break",19);case 11:return e.next=13,this._services.transport.post(a,o,JSON.stringify(r),this._productId);case 15:return e.next=17,this._services.transport.delete(a,o,{},this._productId);case 19:if(!(s.status.code<200||s.status.code>=300)){e.next=21;break}throw new Error("Request responded with a non-success code ".concat(s.status.code));case 21:return e.abrupt("return",s);case 22:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"fetchResource",value:function(){var e=O.default(L.default.mark((function e(t,n){var r,i=this;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 6,e.prev=1,e.next=4,new b.AsyncRetrier({min:50,max:1600,maxAttemptsCount:6}).run((function(){return i._makeRequest("get",t,n)}));case 4:return r=e.sent,e.abrupt("return",r.body);case 8:throw e.prev=8,e.t0=e.catch(1),new Error('Fetch resource from "'.concat(t,'" failed.'));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mutateResource",value:function(){var e=O.default(L.default.mark((function e(t,n,r){var i;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._makeRequest(t,n,r,{"X-Twilio-Mutation-Id":T.v4()});case 2:if(i=e.sent,202!==i.status.code){e.next=7;break}return e.next=6,this.fetchResource(i.body.resource_url);case 6:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",i.body);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}();function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){M.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P.default(e);if(t){var i=P.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N.default(this,n)}}var ut=G.scope("Client"),ct="2.1.0",lt=function e(){D.default(this,e)};t.KU=(tt=et=function(e){R.default(n,e);var t=st(n);function n(e){var r,i,a,o,s,u,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(D.default(this,n),u=t.call(this),M.default(I.default(u),"connectionState","unknown"),M.default(I.default(u),"version",ct),M.default(I.default(u),"parsePushNotification",nt.parsePushNotification),u.fpaToken=null!==e&&void 0!==e?e:"",u.options=null!==c&&void 0!==c?c:{},!u.options.disableDeepClone){var l=ot(ot({},u.options),{},{transport:void 0,twilsockClient:void 0});(l=J(l)).transport=u.options.transport,l.twilsockClient=u.options.twilsockClient,u.options=l}u.options.logLevel=null!==(r=u.options.logLevel)&&void 0!==r?r:"silent",ut.setLevel(u.options.logLevel);var f=u.options.productId="ip_messaging";if(u.options.clientMetadata=u.options.clientMetadata||{},u.options.clientMetadata.hasOwnProperty("type")||(u.options.clientMetadata.type="conversations"),u.options.clientMetadata.hasOwnProperty("sdk")||(u.options.clientMetadata.sdk="JS",u.options.clientMetadata.sdkv=ct),u.options.Sync=u.options.Sync||{},"undefined"===typeof u.options.Sync.enableSessionStorage&&(u.options.Sync.enableSessionStorage=!0),u.options.region&&(u.options.Sync.region=u.options.region),!e)throw new Error("A valid Twilio token should be provided");u.services=new lt,u._myself=new se("","",null,u.services);var d=!u.options.twilsockClient;if(!u.options.initRegistrations){var p=new x.InitRegistration(f);nt.populateInitRegistrations(p),u.options.initRegistrations=[p]}u.services.twilsockClient=u.options.twilsockClient=null!==(i=u.options.twilsockClient)&&void 0!==i?i:new x.TwilsockClient(e,f,u.options),u.services.twilsockClient.on("tokenAboutToExpire",(function(e){return u.emit("tokenAboutToExpire",e)})),u.services.twilsockClient.on("tokenExpired",(function(){return u.emit("tokenExpired")})),u.services.twilsockClient.on("connectionError",(function(e){return u.emit("connectionError",e)})),u.services.twilsockClient.on("stateChanged",(function(e){ut.debug("Handling stateChanged for ConversationsClient: new state ".concat(e)),e!==u.connectionState&&(u.connectionState=e,u.emit("connectionStateChanged",u.connectionState))})),u.services.transport=u.options.transport=null!==(a=u.options.transport)&&void 0!==a?a:u.options.twilsockClient,u.services.notificationClient=u.options.notificationsClient=null!==(o=u.options.notificationsClient)&&void 0!==o?o:new k.Notifications(e,u.options),u.services.syncClient=u.options.syncClient=null!==(s=u.options.syncClient)&&void 0!==s?s:new w.SyncClient(e,u.options);var h=(null===c||void 0===c?void 0:c.Chat)||(null===c||void 0===c?void 0:c.IPMessaging)||c||{},v=h.region||(null===c||void 0===c?void 0:c.region),m=h.apiUri||h.typingUri||"https://aim.".concat(v||"us1",".twilio.com");u.services.commandExecutor=new it(m,{transport:u.options.transport},f);var g=function(e){u._rejectEnsureReady(e),u.emit("stateChanged","failed")};return u.services.twilsockClient.once("connectionError",g),u.services.twilsockClient.once("disconnected",g),u.services.twilsockClient.once("connected",O.default(L.default.mark((function e(){var t;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ut.debug("ConversationsClient started INITIALIZING"),u.services.twilsockClient.off("connectionError",g),u.services.twilsockClient.off("disconnected",g),e.prev=3,t="conversations.client.startup",u.services.twilsockClient.addPartialTelemetryEvent(new x.TelemetryEventDescription(t,"Conversations client startup",new Date),t,x.TelemetryPoint.Start),e.next=8,u._initialize();case 8:u.services.twilsockClient.addPartialTelemetryEvent(new x.TelemetryEventDescription("","",new Date),t,x.TelemetryPoint.End),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),u._rejectEnsureReady(e.t0),u.emit("stateChanged","failed");case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))),u._ensureReady=new Promise((function(e,t){u._resolveEnsureReady=e,u._rejectEnsureReady=t})).catch((function(){})),d&&u.services.twilsockClient.connect(),u}return A.default(n,[{key:"user",get:function(){return this._myself}},{key:"reachabilityEnabled",get:function(){if(!this.configuration)throw new Error("Reachability information could not yet be accessed as the client has not yet been initialized. Subscribe to the 'stateChanged' event to properly react to the client initialization.");return this.configuration.reachabilityEnabled}},{key:"token",get:function(){return this.fpaToken}},{key:"_subscribeToPushNotifications",value:function(e){var t=this;[fe.NEW_MESSAGE,fe.ADDED_TO_CONVERSATION,fe.REMOVED_FROM_CONVERSATION,fe.TYPING_INDICATOR,fe.CONSUMPTION_UPDATE].forEach((function(n){t.services.notificationClient.subscribe(e,n)}))}},{key:"_unsubscribeFromPushNotifications",value:function(e){var t=this;[fe.NEW_MESSAGE,fe.ADDED_TO_CONVERSATION,fe.REMOVED_FROM_CONVERSATION,fe.TYPING_INDICATOR,fe.CONSUMPTION_UPDATE].forEach((function(n){t.services.notificationClient.unsubscribe(e,n)}))}},{key:"_initialize",value:function(){var e=O.default(L.default.mark((function e(){var t,n=this;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.commandExecutor.fetchResource("Client/v2/Configuration");case 2:return t=e.sent,this.configuration=new Q(this.options,t,ut),this._myself._resolveInitialization(this.configuration,this.configuration.userIdentity,this.configuration.userInfo,!0),this.services.typingIndicator=new Xe(this.getConversationBySid.bind(this),this.configuration,this.services),this.services.network=new le(this.configuration,this.services),this.services.users=new Ke(this._myself,this.configuration,this.services),this.services.users.on("userSubscribed",(function(e){n.emit("userSubscribed",e)})),this.services.users.on("userUpdated",(function(e){return n.emit("userUpdated",e)})),this.services.users.on("userUnsubscribed",(function(e){n.emit("userUnsubscribed",e)})),this.conversations=new Ge(this.configuration,this.services),this.conversations.on("conversationAdded",(function(e){n.emit("conversationAdded",e)})),this.conversations.on("conversationRemoved",(function(e){n.emit("conversationRemoved",e)})),this.conversations.on("conversationJoined",(function(e){n.emit("conversationJoined",e)})),this.conversations.on("conversationLeft",(function(e){n.emit("conversationLeft",e)})),this.conversations.on("conversationUpdated",(function(e){return n.emit("conversationUpdated",e)})),this.conversations.on("participantJoined",(function(e){n.emit("participantJoined",e)})),this.conversations.on("participantLeft",(function(e){n.emit("participantLeft",e)})),this.conversations.on("participantUpdated",(function(e){return n.emit("participantUpdated",e)})),this.conversations.on("messageAdded",(function(e){return n.emit("messageAdded",e)})),this.conversations.on("messageUpdated",(function(e){return n.emit("messageUpdated",e)})),this.conversations.on("messageRemoved",(function(e){return n.emit("messageRemoved",e)})),this.conversations.on("typingStarted",(function(e){return n.emit("typingStarted",e)})),this.conversations.on("typingEnded",(function(e){return n.emit("typingEnded",e)})),this.conversationsPromise=this.conversations.fetchConversations().then((function(){return n.conversations})).catch((function(e){throw e})),e.next=28,this.services.users.myself._ensureFetched();case 28:nt.supportedPushChannels.forEach((function(e){return n._subscribeToPushNotifications(e)})),this.services.typingIndicator.initialize(),this.services.mcsClient=new _.McsClient(this.fpaToken,this.configuration.links.mediaService,this.configuration.links.mediaSetService,ot(ot({},this.options),{},{transport:void 0})),this._resolveEnsureReady(),this.emit("stateChanged","initialized");case 33:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"shutdown",value:function(){var e=O.default(L.default.mark((function e(){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return e.next=4,this.services.twilsockClient.disconnect();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateToken",value:function(){var e=O.default(L.default.mark((function e(t){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:if(ut.info("updateToken"),this.fpaToken!==t){e.next=5;break}return e.abrupt("return",this);case 5:return e.next=7,this.services.twilsockClient.updateToken(t);case 7:return e.next=9,this.services.notificationClient.updateToken(t);case 9:return e.next=11,this.services.mcsClient.updateToken(t);case 11:return this.fpaToken=t,e.abrupt("return",this);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConversationBySid",value:function(){var e=O.default(L.default.mark((function e(t){var n;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return e.next=4,this.conversations.myConversationsRead.promise;case 4:return e.next=6,this.conversations.getConversation(t);case 6:if(n=e.sent){e.next=11;break}return e.next=10,this.conversations.peekConversation(t);case 10:n=e.sent;case 11:if(n){e.next=13;break}throw new Error("Conversation with SID ".concat(t," is not found."));case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConversationByUniqueName",value:function(){var e=O.default(L.default.mark((function e(t){var n;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return e.next=4,this.conversations.myConversationsRead.promise;case 4:return e.next=6,this.conversations.getConversationByUniqueName(t);case 6:if(n=e.sent){e.next=9;break}throw new Error("Conversation with unique name ".concat(t," is not found."));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSubscribedConversations",value:function(){var e=O.default(L.default.mark((function e(){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return e.abrupt("return",this.conversationsPromise.then((function(e){return e.getConversations()})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createConversation",value:function(){var e=O.default(L.default.mark((function e(t){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return t=t||{},e.abrupt("return",this.conversationsPromise.then((function(e){return e.addConversation(t)})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPushRegistrationId",value:function(){var e=O.default(L.default.mark((function e(t,n){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return this._subscribeToPushNotifications(t),this.services.notificationClient.setPushRegistrationId(t,n),e.next=6,this.services.notificationClient.commitChanges();case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unsetPushRegistrationId",value:function(){var e=O.default(L.default.mark((function e(t){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return this._unsubscribeFromPushNotifications(t),e.next=5,this.services.notificationClient.commitChanges();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removePushRegistrations",value:function(){var e=O.default(L.default.mark((function e(t,n){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.notificationClient.removeRegistrations(t,n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"handlePushNotification",value:function(){var e=O.default(L.default.mark((function e(t){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:ut.debug("handlePushNotification, notificationPayload=",t),this.emit("pushNotification",nt.parsePushNotification(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=O.default(L.default.mark((function e(t){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return e.abrupt("return",this.services.users.getUser(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSubscribedUsers",value:function(){var e=O.default(L.default.mark((function e(){return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ensureReady;case 2:return e.abrupt("return",this.services.users.getSubscribedUsers());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"populateInitRegistrations",value:function(e){e.populateInitRegistrations([fe.TYPING_INDICATOR]),w.SyncClient.populateInitRegistrations(e)}},{key:"create",value:function(){var e=O.default(L.default.mark((function e(t,n){var r;return L.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||!n.twilsockClient){e.next=2;break}throw new Error("Obsolete usage of ConversationsClient.create() factory method: if you pass twilsock from the outside then you must use ConversationsClient constructor and be prepared to work with uninitialized client.");case 2:return r=new nt(t,n),e.next=5,r._ensureReady;case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parsePushNotificationChatData",value:function(e){var t={};for(var n in nt.supportedPushDataFields)"undefined"!==typeof e[n]&&null!==e[n]&&("message_index"===n?null!==$(e[n])&&(t[nt.supportedPushDataFields[n]]=Number(e[n])):t[nt.supportedPushDataFields[n]]=e[n]);return t}},{key:"parsePushNotification",value:function(e){if(ut.debug("parsePushNotification, notificationPayload=",e),"undefined"!==typeof e.aps){if(!e.twi_message_type)throw new Error("Provided push notification payload does not contain Programmable Chat push notification type");var t,n=nt.parsePushNotificationChatData(e),r=e.aps,i=null;return"string"===typeof r.alert?t=r.alert||null:(t=r.alert.body||null,i=r.alert.title||null),new Qe({title:i,body:t,sound:r.sound||null,badge:r.badge||null,action:r.category||null,type:e.twi_message_type,data:n})}if("undefined"!==typeof e.data){var a=e.data;if(!a.twi_message_type)throw new Error("Provided push notification payload does not contain Programmable Chat push notification type");var o=nt.parsePushNotificationChatData(e.data);return new Qe({title:a.twi_title||null,body:a.twi_body||null,sound:a.twi_sound||null,badge:null,action:a.twi_action||null,type:a.twi_message_type,data:o})}throw new Error("Provided push notification payload is not Programmable Chat notification")}}]),n}(m.ReplayEventEmitter),M.default(et,"version",ct),M.default(et,"supportedPushChannels",["fcm","apn"]),M.default(et,"supportedPushDataFields",{conversation_sid:"conversationSid",message_sid:"messageSid",message_index:"messageIndex"}),M.default(et,"conversationAdded","conversationAdded"),M.default(et,"conversationJoined","conversationJoined"),M.default(et,"conversationLeft","conversationLeft"),M.default(et,"conversationRemoved","conversationRemoved"),M.default(et,"conversationUpdated","conversationUpdated"),M.default(et,"participantJoined","participantJoined"),M.default(et,"participantLeft","participantLeft"),M.default(et,"participantUpdated","participantUpdated"),M.default(et,"messageAdded","messageAdded"),M.default(et,"messageRemoved","messageRemoved"),M.default(et,"messageUpdated","messageUpdated"),M.default(et,"tokenAboutToExpire","tokenAboutToExpire"),M.default(et,"tokenExpired","tokenExpired"),M.default(et,"typingEnded","typingEnded"),M.default(et,"typingStarted","typingStarted"),M.default(et,"pushNotification","pushNotification"),M.default(et,"userSubscribed","userSubscribed"),M.default(et,"userUnsubscribed","userUnsubscribed"),M.default(et,"userUpdated","userUpdated"),M.default(et,"stateChanged","stateChanged"),M.default(et,"connectionStateChanged","connectionStateChanged"),M.default(et,"connectionError","connectionError"),nt=tt),V([v.validateTypesAsync(v.nonEmptyString),z("design:type",Function),z("design:paramtypes",[String]),z("design:returntype",Promise)],t.KU.prototype,"updateToken",null),V([v.validateTypesAsync(v.nonEmptyString),z("design:type",Function),z("design:paramtypes",[String]),z("design:returntype",Promise)],t.KU.prototype,"getConversationBySid",null),V([v.validateTypesAsync(v.nonEmptyString),z("design:type",Function),z("design:paramtypes",[String]),z("design:returntype",Promise)],t.KU.prototype,"getConversationByUniqueName",null),V([v.validateTypesAsync(["undefined",v.objectSchema("conversation options",{friendlyName:["string","undefined"],isPrivate:["boolean","undefined"],uniqueName:["string","undefined"]})]),z("design:type",Function),z("design:paramtypes",[Object]),z("design:returntype",Promise)],t.KU.prototype,"createConversation",null),V([v.validateTypesAsync(v.literal("fcm","apn"),"string"),z("design:type",Function),z("design:paramtypes",[String,String]),z("design:returntype",Promise)],t.KU.prototype,"setPushRegistrationId",null),V([v.validateTypesAsync(v.literal("fcm","apn")),z("design:type",Function),z("design:paramtypes",[String]),z("design:returntype",Promise)],t.KU.prototype,"unsetPushRegistrationId",null),V([v.validateTypesAsync(v.literal("fcm","apn"),v.nonEmptyString),z("design:type",Function),z("design:paramtypes",[String,String]),z("design:returntype",Promise)],t.KU.prototype,"removePushRegistrations",null),V([v.validateTypesAsync(v.pureObject),z("design:type",Function),z("design:paramtypes",[Object]),z("design:returntype",Promise)],t.KU.prototype,"handlePushNotification",null),V([v.validateTypesAsync(v.nonEmptyString),z("design:type",Function),z("design:paramtypes",[String]),z("design:returntype",Promise)],t.KU.prototype,"getUser",null),V([v.validateTypesAsync("string",["undefined",v.pureObject]),z("design:type",Function),z("design:paramtypes",[String,Object]),z("design:returntype",Promise)],t.KU,"create",null),V([v.validateTypes(v.pureObject),z("design:type",Function),z("design:paramtypes",[Object]),z("design:returntype",Qe)],t.KU,"parsePushNotification",null),t.KU=nt=V([v.validateConstructorTypes(v.nonEmptyString,[v.pureObject,"undefined"]),z("design:paramtypes",[String,Object])],t.KU)},1263:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(49258),n(65202),n(89104),n(59147),n(18116),n(4772),n(85625),n(18887),n(81740);var r=n(18698);n(44105),n(30974);var i=n(27424);n(99238),n(4778),n(44584);var a=n(861),o=n(56690),s=n(61655),u=n(94993),c=n(73808);function l(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}n(68225),n(67675);var f=l(r),d=l(i),p=l(a),h=l(o),v=l(s),m=l(u),g=l(c),y=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{checks:t}};function b(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y((function(e){var n,r=!1,i=[],a=b(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;"string"!==typeof o?(r=r||e instanceof o,i.push("an instance of ".concat(o.name))):(r=r||f.default(e)===o,i.push("of type ".concat(o)))}}catch(s){a.e(s)}finally{a.f()}return[r,i]}))};function w(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=y((function(e){return["string"===typeof e&&e.length>0,"a non-empty string"]})),T=y((function(e){return["number"===typeof e&&Number.isInteger(e)&&e>=0,"a non-negative integer"]})),E=y((function(e){return["object"===f.default(e)&&null!==e&&!Array.isArray(e),"a pure object (non-null and non-array)"]}));function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g.default(e);if(t){var i=g.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m.default(this,n)}}function O(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=function(e,t){if(t.length>e.length)throw new Error("Expected at most ".concat(e.length," argument(s), but got ").concat(t.length));for(;t.length<e.length;)t.push(void 0);var n,r=O(t.entries());try{for(r.s();!(n=r.n()).done;){var i=d.default(n.value,2),a=i[0],o=i[1],s=M(e[a],o),u=d.default(s,4),c=u[0],l=u[1],f=u[2],p=u[3];if(!c)throw new Error("Argument ".concat(a+1," is expected to be ").concat(f).concat(p," but got ").concat(l))}}catch(h){r.e(h)}finally{r.f()}},R=function(e){var t,n,r;(["undefined","boolean","number","bigint","string"].includes(f.default(e))&&(n="string"===typeof e?'"'.concat(e,'"'):"".concat(e)),"object"===f.default(e)&&"Object"!==(null===e||void 0===e||null===(t=e.constructor)||void 0===t?void 0:t.name))&&(n=null===e?"null":"instance of ".concat(null===e||void 0===e||null===(r=e.constructor)||void 0===r?void 0:r.name));return n||(n=f.default(e)),n},N=function(e){var t,n=[],r=O(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(P(i))}}catch(a){r.e(a)}finally{r.f()}return n},P=function(e){var t,n=[],r=O(Array.isArray(e)?e:[e]);try{for(r.s();!(t=r.n()).done;){var i=t.value;"string"!==typeof i&&"function"!==typeof i?n.push(i):n.push(k(i))}}catch(a){r.e(a)}finally{r.f()}return n},M=function(e,t){var n,r,i=[],a=!1,o=O(e);try{for(o.s();!(r=o.n()).done;){var s,u=O(r.value.checks);try{for(u.s();!(s=u.n()).done;){var c=(0,s.value)(t),l=d.default(c,3),f=l[0],h=l[1],v=l[2];a=a||f,!n&&v&&(n=v),h&&(i=[].concat(p.default(i),"string"===typeof h?[h]:p.default(h)))}}catch(y){u.e(y)}finally{u.f()}}}catch(y){o.e(y)}finally{o.f()}if(a)return[!0];var m=n||R(t),g=i.length-1;return[!1,m,g>0?"".concat(i.slice(0,g).join(", ")," or ").concat(i[g]):i.join(", "),g>1?";":","]};function D(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.array=function(e,t){return y((function(n){if(!Array.isArray(n))return[!1,"an array of ".concat(e)];var r,i=D(n.entries());try{for(i.s();!(r=i.n()).done;){var a=d.default(r.value,2),o=a[0],s=a[1],u=M(P(t),s),c=d.default(u,3),l=c[0],f=c[1],p=c[2];if(!l)return[!1,"a valid array of ".concat(e," (index ").concat(o," should be ").concat(p,")"),"malformed array of ".concat(e," (index ").concat(o," is ").concat(f,")")]}}catch(h){i.e(h)}finally{i.f()}return[!0]}))},t.custom=y,t.literal=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y((function(e){var n,r=!1,i=[],a=w(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;r=r||e===o,i.push("string"===typeof o?'"'.concat(o,'"'):"".concat(o))}}catch(s){a.e(s)}finally{a.f()}return[r,i]}))},t.nonEmptyString=S,t.nonNegativeInteger=T,t.objectSchema=function(e,t){return y((function(n){if("object"!==f.default(n)||null===n||Array.isArray(n))return[!1,"valid ".concat(e," (should be a pure object)")];for(var r=0,i=Object.entries(t);r<i.length;r++){var a=d.default(i[r],2),o=a[0],s=a[1],u=M(P(s),n[o]),c=d.default(u,3),l=c[0],p=c[1],h=c[2];if(!l)return[!1,"valid ".concat(e,' (key "').concat(o,'" should be ').concat(h,")"),"malformed ".concat(e,' (key "').concat(o,'" is ').concat(p,")")]}return[!0]}))},t.pureObject=E,t.runtimeTypeValidation=I,t.stringifyReceivedType=R,t.type=k,t.validateConstructorTypes=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=N(t);return function(e){return function(e){v.default(n,e);var t=C(n);function n(){h.default(this,n);for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return I(r,i),t.call.apply(t,[this].concat(i))}return n}(e)}},t.validateTypes=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=N(t);return function(e,t,n){if("function"!==typeof n.value)throw new Error("The validateTypes decorator can only be applied to methods");var i=n.value;n.value=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return I(r,t),i.apply(this,t)}}},t.validateTypesAsync=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=N(t);return function(e,t,n){if("function"!==typeof n.value)throw new Error("The validateTypesAsync decorator can only be applied to methods");var i=n.value;n.value=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];try{I(r,t)}catch(a){return Promise.reject(a)}return i.apply(this,t)}}}},56491:function(e,t,n){"use strict";var r=n(61655).default,i=n(26389).default,a=n(33496).default,o=n(56690).default,s=n(89728).default,u="undefined"!==typeof u?u:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};Object.defineProperty(t,"__esModule",{value:!0});var c=n(17156),l=n(38416);n(67675);var f=n(64687);n(89104);var d=n(62895);n(50288),n(2603),n(20447),n(52872),n(83265),n(18887),n(81740),n(49798);var p=n(8645),h=n(1263);function v(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var g=v(c),y=v(l),b=v(f),x=m(d);function k(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function w(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function _(e,t){return["".concat((new Date).toISOString()," MCS Client ").concat(e,":")].concat(Array.from(t))}var S=function(){function e(t){o(this,e),y.default(this,"prefix",""),this.prefix=null!==t&&void 0!==t&&t.length>0?t+" ":""}return s(e,[{key:"setLevel",value:function(e){x.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];x.trace.apply(null,_(this.prefix+"T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];x.debug.apply(null,_(this.prefix+"D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];x.info.apply(null,_(this.prefix+"I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];x.warn.apply(null,_(this.prefix+"W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];x.error.apply(null,_(this.prefix+"E",t))}}],[{key:"scope",value:function(t){return new e(t)}},{key:"setLevel",value:function(e){x.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];x.trace.apply(null,_("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];x.debug.apply(null,_("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];x.info.apply(null,_("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];x.warn.apply(null,_("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];x.error.apply(null,_("E",t))}}]),e}(),T=function(e,t){return"".concat((n=e,n.startsWith("http")?"":function(e){return"https://mcs.".concat(null!==e&&void 0!==e?e:"us1",".twilio.com")}(t))).concat(e);var n},E=function(){function e(t,n,r,i){var a,s,u,c,l,f;o(this,e);var d=null!==(a=null!==(s=i.MCS)&&void 0!==s?s:i)&&void 0!==a?a:{};this.region=null!==(u=null!==(c=d.region)&&void 0!==c?c:i.region)&&void 0!==u?u:"us1",this.mediaUrl=T(n,this.region),this.mediaSetUrl=r?T(r):"".concat(this.mediaUrl,"Set"),this.token=t,this.retryWhenThrottledOverride=null===(l=d.retryWhenThrottledOverride)||void 0===l||l,this.backoffConfigOverride=null!==(f=d.backoffConfigOverride)&&void 0!==f?f:e.backoffConfigDefault}return s(e,[{key:"updateToken",value:function(e){this.token=e}}],[{key:"backoffConfigDefault",get:function(){return{min:1e3,max:4e3,maxAttemptsCount:3}}},{key:"retryWhenThrottledDefault",get:function(){return true}}]),e}(),C=function(){function e(t,n,r){o(this,e),this.config=t,this.network=n,this._update(r)}return s(e,[{key:"sid",get:function(){return this.state.sid}},{key:"serviceSid",get:function(){return this.state.serviceSid}},{key:"dateCreated",get:function(){return this.state.dateCreated}},{key:"dateUpdated",get:function(){return this.state.dateUpdated}},{key:"contentType",get:function(){return this.state.contentType}},{key:"size",get:function(){return this.state.size}},{key:"fileName",get:function(){return this.state.filename}},{key:"filename",get:function(){return this.state.filename}},{key:"category",get:function(){return this.state.category}},{key:"getContentUrl",value:function(){var e=this;return g.default(b.default.mark((function t(){var n;return b.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.network.get("".concat(e.config.mediaUrl,"/").concat(e.sid));case 2:return n=t.sent,e._update(n.body),t.abrupt("return",Promise.resolve(e.state.contentDirectUrl));case 5:case"end":return t.stop()}}),t)})))()}},{key:"getCachedContentUrl",value:function(){var e=this;return g.default(b.default.mark((function t(){return b.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.contentDirectUrl){t.next=2;break}return t.abrupt("return",Promise.resolve(e.state.contentDirectUrl));case 2:return t.next=4,e.getContentUrl();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))()}},{key:"_update",value:function(e){var t,n,r,i;this.state={sid:e.sid,serviceSid:e.service_sid,channelSid:e.channel_sid,messageSid:e.message_sid,dateCreated:e.date_created?new Date(e.date_created):null,dateUploadUpdated:e.date_upload_updated?new Date(e.date_upload_updated):null,dateUpdated:e.date_updated?new Date(e.date_updated):null,size:e.size,contentType:e.content_type,author:e.author,url:e.url,contentUrl:e.links.content,contentDirectUrl:null!==(t=e.links.content_direct_temporary)&&void 0!==t?t:null,filename:null!==(n=e.filename)&&void 0!==n?n:null,category:null!==(r=e.category)&&void 0!==r?r:"media",isMultipartUpstream:null!==(i=e.is_multipart_upstream)&&void 0!==i&&i}}}]),e}(),O=function(e){r(n,e);var t=i(n);function n(e,r,i,a,s){var u;return o(this,n),(u=t.call(this,e)).code=r,u.body=i,u.status=a,u.headers=s,u}return s(n)}(a(Error)),A=u.XMLHttpRequest||{};function I(e){var t=e.getResponseHeader("Content-Type");if(!t||0!==t.indexOf("application/json")||0===e.responseText.length)return e.responseText;try{return JSON.parse(e.responseText)}catch(n){return e.responseText}}var R,N,P=function(){function e(){o(this,e)}return s(e,[{key:"get",value:function(t,n){return g.default(b.default.mark((function r(){return b.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",e.request("GET",t,n));case 1:case"end":return r.stop()}}),r)})))()}},{key:"post",value:function(t,n,r){return g.default(b.default.mark((function i(){return b.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",e.request("POST",t,n,r));case 1:case"end":return i.stop()}}),i)})))()}}],[{key:"request",value:function(e,t,n,r){return g.default(b.default.mark((function i(){return b.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",new Promise((function(i,a){var o=new A;for(var s in o.open(e,t,!0),o.onreadystatechange=function(){if(4===o.readyState){var e,t=(e=o.getAllResponseHeaders())?e.split("\r\n").map((function(e){return e.split(": ")})).filter((function(e){return 2===e.length&&e[1].length>0})).reduce((function(e,t){return e[t[0]]=t[1],e}),{}):{},n=I(o);if(200<=o.status&&o.status<300)i({status:o.status,headers:t,body:n});else{var r,s,u=null!==(r=o.statusText)&&void 0!==r?r:"NONE";s="string"===typeof n?n&&1===n.split("\n",2).length?n:"":JSON.stringify(n);var c="".concat(o.status,": [").concat(u,"] ").concat(s);a(new O(c,o.status,n,u,t))}}},n)o.setRequestHeader(s,n[s]),"Content-Type"===s&&"application/json"===n[s]&&(r=JSON.stringify(r));o.send(r)})));case 1:case"end":return i.stop()}}),i)})))()}}]),e}(),M=S.scope("Network"),D=function(){function e(t,n){o(this,e),this.config=t,this.transport=n}return s(e,[{key:"backoffConfig",value:function(){return Object.assign(E.backoffConfigDefault,this.config.backoffConfigOverride)}},{key:"retryWhenThrottled",value:function(){var e,t;return null!==(e=null!==(t=this.config.retryWhenThrottledOverride)&&void 0!==t?t:E.retryWhenThrottledDefault)&&void 0!==e&&e}},{key:"executeWithRetry",value:function(e,t){var n=this;return g.default(b.default.mark((function r(){return b.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r,i){var a=[502,503,504];t&&a.push(429);var o=new p.Retrier(n.backoffConfig());o.on("attempt",g.default(b.default.mark((function t(){var n;return b.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e();case 3:n=t.sent,o.succeeded(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a.indexOf(t.t0.status)>-1||"Twilsock disconnected"===t.t0.message?o.failed(t.t0):(o.removeAllListeners(),o.cancel(),i(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))),o.on("succeeded",(function(e){r(e)})),o.on("cancelled",(function(e){return i(e)})),o.on("failed",(function(e){return i(e)})),o.start()})));case 1:case"end":return r.stop()}}),r)})))()}},{key:"get",value:function(e){var t=this;return g.default(b.default.mark((function n(){var r,i;return b.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={"X-Twilio-Token":t.config.token},M.trace("sending GET request to ",e," headers ",r),n.prev=2,n.next=5,t.executeWithRetry((function(){return t.transport.get(e,r)}),t.retryWhenThrottled());case 5:return i=n.sent,M.trace("response",i),n.abrupt("return",i);case 10:throw n.prev=10,n.t0=n.catch(2),M.debug("get() error ".concat(n.t0)),n.t0;case 14:case"end":return n.stop()}}),n,null,[[2,10]])})))()}},{key:"post",value:function(e,t,n,r,i){var a=this;return g.default(b.default.mark((function o(){var s,c,l;return b.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return s={"X-Twilio-Token":a.config.token},"undefined"!==typeof FormData&&n instanceof FormData||!r||Object.assign(s,{"Content-Type":r}),c=new URL(e),t&&c.searchParams.append("Category",t),i&&c.searchParams.append("Filename",i),M.trace("sending POST request to ".concat(e," with headers ").concat(s)),o.prev=6,o.next=9,a.transport.post(c.href,s,n);case 9:l=o.sent,o.next=18;break;case 12:if(o.prev=12,o.t0=o.catch(6),!(void 0===u.XMLHttpRequest&&n instanceof FormData)){o.next=16;break}throw new TypeError("Posting FormData supported only with browser engine's FormData");case 16:throw M.debug("post() error ".concat(o.t0)),o.t0;case 18:return M.trace("response",l),o.abrupt("return",l);case 20:case"end":return o.stop()}}),o,null,[[6,12]])})))()}}]),e}(),L=S.scope("");t.default=(N=R=function(){function e(t,n,r){var i,a;o(this,e);var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.options=s,this.options.logLevel=null!==(i=this.options.logLevel)&&void 0!==i?i:"silent",this.config=new E(t,n,r,this.options),L.setLevel(this.options.logLevel),this.options.transport=null!==(a=this.options.transport)&&void 0!==a?a:new P,this.transport=this.options.transport,this.network=new D(this.config,this.transport)}return s(e,[{key:"updateToken",value:function(e){L.info("updateToken"),this.config.updateToken(e)}},{key:"get",value:function(e){var t=this;return g.default(b.default.mark((function n(){var r;return b.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.network.get("".concat(t.config.mediaUrl,"/").concat(e));case 2:return r=n.sent,n.abrupt("return",new C(t.config,t.network,r.body));case 4:case"end":return n.stop()}}),n)})))()}},{key:"post",value:function(e,t,n,r){var i=this;return g.default(b.default.mark((function a(){var o;return b.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.network.post(i.config.mediaUrl,null!==n&&void 0!==n?n:"media",t,e,r);case 2:return o=a.sent,a.abrupt("return",new C(i.config,i.network,o.body));case 4:case"end":return a.stop()}}),a)})))()}},{key:"postFormData",value:function(e,t){var n=this;return g.default(b.default.mark((function r(){var i;return b.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.network.post(n.config.mediaUrl,null!==t&&void 0!==t?t:"media",e);case 2:return i=r.sent,r.abrupt("return",new C(n.config,n.network,i.body));case 4:case"end":return r.stop()}}),r)})))()}},{key:"mediaSetGet",value:function(e){var t=this;return g.default(b.default.mark((function n(){var r,i;return b.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={command:"get",list:e.map((function(e){return{media_sid:e}}))},n.next=3,t.network.post("".concat(t.config.mediaSetUrl),null,r,"application/json");case 3:return i=n.sent,n.abrupt("return",i.body.map((function(e){if(200!==e.code)throw new Error("Failed to obtain detailed information about Media items (failed SID ".concat(e.media_record.sid,")"));return new C(t.config,t.network,e.media_record)})));case 5:case"end":return n.stop()}}),n)})))()}}]),e}(),y.default(R,"version","0.5.3"),N),k([h.validateTypes(h.nonEmptyString),w("design:type",Function),w("design:paramtypes",[String]),w("design:returntype",void 0)],t.default.prototype,"updateToken",null),k([h.validateTypesAsync(h.nonEmptyString),w("design:type",Function),w("design:paramtypes",[String]),w("design:returntype",Promise)],t.default.prototype,"get",null),t.default=k([h.validateConstructorTypes(h.nonEmptyString,h.nonEmptyString,[h.nonEmptyString,h.literal(null)],[h.pureObject,"undefined"]),w("design:paramtypes",[String,String,Object,Object])],t.default),t.Client=t.default,t.McsClient=t.default,t.McsMedia=C,t.Media=C,t.default=t.default},46390:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(44584);var r=n(17156),i=n(56690),a=n(89728),o=n(61655),s=n(94993),u=n(73808),c=n(64687);n(18887),n(45742),n(65202),n(59147),n(81740),n(4778),n(22583),n(67675);var l=n(18698),f=n(58868),d=n(66115),p=n(38416);n(84208),n(89104),n(83265);var h=n(8645),v=n(27424),m=n(861);n(36669),n(33858);var g=n(62895),y=n(24610),b=n(1263);function x(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var w=x(r),_=x(i),S=x(a),T=x(o),E=x(s),C=x(u),O=x(c),A=x(l),I=x(d),R=x(p),N=x(v),P=x(m),M=k(g),D=k(y);function L(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":A.default(Reflect))&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function j(e,t){if("object"===("undefined"===typeof Reflect?"undefined":A.default(Reflect))&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function F(){}function Z(){Z.init.call(this)}function B(e){return void 0===e._maxListeners?Z.defaultMaxListeners:e._maxListeners}function U(e,t,n){if(t)e.call(n);else for(var r=e.length,i=Y(e,r),a=0;a<r;++a)i[a].call(n)}function V(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,a=Y(e,i),o=0;o<i;++o)a[o].call(n,r)}function z(e,t,n,r,i){if(t)e.call(n,r,i);else for(var a=e.length,o=Y(e,a),s=0;s<a;++s)o[s].call(n,r,i)}function W(e,t,n,r,i,a){if(t)e.call(n,r,i,a);else for(var o=e.length,s=Y(e,o),u=0;u<o;++u)s[u].call(n,r,i,a)}function H(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,a=Y(e,i),o=0;o<i;++o)a[o].apply(n,r)}function G(e,t,n,r){var i,a,o,s;if("function"!==typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]):(a=e._events=new F,e._eventsCount=0),o){if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=B(e))&&i>0&&o.length>i){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,"function"===typeof console.warn?console.warn(s):console.log(s)}}else o=a[t]=n,++e._eventsCount;return e}function q(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function K(e){var t=this._events;if(t){var n=t[e];if("function"===typeof n)return 1;if(n)return n.length}return 0}function Y(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}F.prototype=Object.create(null),Z.EventEmitter=Z,Z.usingDomains=!1,Z.prototype.domain=void 0,Z.prototype._events=void 0,Z.prototype._maxListeners=void 0,Z.defaultMaxListeners=10,Z.init=function(){this.domain=null,Z.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new F,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Z.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},Z.prototype.getMaxListeners=function(){return B(this)},Z.prototype.emit=function(e){var t,n,r,i,a,o,s,u="error"===e;if(o=this._events)u=u&&null==o.error;else if(!u)return!1;if(s=this.domain,u){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(n=o[e]))return!1;var l="function"===typeof n;switch(r=arguments.length){case 1:U(n,l,this);break;case 2:V(n,l,this,arguments[1]);break;case 3:z(n,l,this,arguments[1],arguments[2]);break;case 4:W(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),a=1;a<r;a++)i[a-1]=arguments[a];H(n,l,this,i)}return!0},Z.prototype.addListener=function(e,t){return G(this,e,t,!1)},Z.prototype.on=Z.prototype.addListener,Z.prototype.prependListener=function(e,t){return G(this,e,t,!0)},Z.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,q(this,e,t)),this},Z.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,q(this,e,t)),this},Z.prototype.removeListener=function(e,t){var n,r,i,a,o;if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0===--this._eventsCount?this._events=new F:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0===--this._eventsCount)return this._events=new F,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,o||t)}return this},Z.prototype.off=function(e,t){return this.removeListener(e,t)},Z.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new F,this._eventsCount=0):n[e]&&(0===--this._eventsCount?this._events=new F:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),a=0;a<i.length;++a)"removeListener"!==(r=i[a])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new F,this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},Z.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"===typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},Z.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):K.call(e,t)},Z.prototype.listenerCount=K,Z.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var X=M.getLogger("twilio-notificatiions");function Q(e,t){return["".concat((new Date).toISOString()," Twilio.Notifications ").concat(e,":")].concat(Array.from(t))}var J=function(){function e(){_.default(this,e)}return S.default(e,[{key:"setLevel",value:function(e){X.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];X.trace.apply(null,Q("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];X.debug.apply(null,Q("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];X.info.apply(null,Q("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];X.warn.apply(null,Q("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];X.error.apply(null,Q("E",t))}}]),e}(),$=new J;function ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C.default(e);if(t){var i=C.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E.default(this,n)}}var te=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;_.default(this,e),this.token=t,this.notificationId=n,this.messageTypes=r};function ne(e,t){var n=new Set;return e.notificationId!==t.notificationId&&n.add("notificationId"),e.token!==t.token&&n.add("token"),function(e,t){return[].concat(P.default(P.default(e).filter((function(e){return!t.has(e)}))),P.default(P.default(t).filter((function(t){return!e.has(t)}))))}(e.messageTypes,t.messageTypes).length>0&&n.add("messageType"),[n.size>0,n]}var re=function(e){T.default(n,e);var t=ee(n);function n(e){var r;return _.default(this,n),r=t.call(this),R.default(I.default(r),"desiredState",new te),R.default(I.default(r),"currentState",new te),R.default(I.default(r),"_hasActiveAttempt",!1),r.channelType=e,r}return S.default(n,[{key:"setNotificationId",value:function(e){this.desiredState.notificationId=e}},{key:"isActive",value:function(){return""!==this.desiredState.notificationId}},{key:"subscribe",value:function(e){this.desiredState.messageTypes.has(e)?$.debug("message type '".concat(e,"' for channel ").concat(this.channelType," is already registered")):this.desiredState.messageTypes.add(e)}},{key:"unsubscribe",value:function(e){this.desiredState.messageTypes.has(e)&&this.desiredState.messageTypes.delete(e)}},{key:"updateToken",value:function(e){this.desiredState.token=e}},{key:"commitChanges",value:function(){var e=w.default(O.default.mark((function e(){var t,n,r,i,a,o;return O.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._hasActiveAttempt){e.next=3;break}throw $.error("One registration attempt is already in progress"),new Error("One registration attempt is already in progress");case 3:if(t=ne(this.desiredState,this.currentState),n=N.default(t,2),r=n[0],i=n[1],r){e.next=6;break}return e.abrupt("return");case 6:if(this.currentState.notificationId||i.delete("notificationId"),$.trace("Persisting ".concat(this.channelType," registration"),i,this.desiredState),e.prev=8,this._hasActiveAttempt=!0,(a=new te).token=this.desiredState.token,a.notificationId=this.desiredState.notificationId,a.messageTypes=new Set(this.desiredState.messageTypes),!(a.messageTypes.size>0)){e.next=24;break}return e.next=17,this.updateRegistration(a,i);case 17:o=e.sent,this.currentState.token=o.token,this.currentState.notificationId=o.notificationId,this.currentState.messageTypes=new Set(o.messageTypes),this.emit("stateChanged",this.channelType,"registered",this.currentState),e.next=30;break;case 24:return e.next=26,this.removeRegistration();case 26:this.currentState.token=a.token,this.currentState.notificationId=a.notificationId,this.currentState.messageTypes.clear(),this.emit("stateChanged",this.channelType,"unregistered",this.currentState);case 30:e.next=35;break;case 32:throw e.prev=32,e.t0=e.catch(8),e.t0;case 35:return e.prev=35,this._hasActiveAttempt=!1,e.finish(35);case 38:case"end":return e.stop()}}),e,this,[[8,32,35,38]])})));return function(){return e.apply(this,arguments)}}()}]),n}(Z);function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C.default(e);if(t){var i=C.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E.default(this,n)}}var ae={min:2e3,max:12e4,randomness:.2},oe=function(e){T.default(n,e);var t=ie(n);function n(e,r,i,a){var o;return _.default(this,n),o=t.call(this,e),R.default(I.default(o),"registrationId",null),o.context=r,o.twilsock=i,o.registrarUrl=a,o}return S.default(n,[{key:"updateRegistration",value:function(){var e=w.default(O.default.mark((function e(t,n){var r,i,a,o,s,u=this;return O.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.has("notificationId")){e.next=3;break}return e.next=3,this.removeRegistration();case 3:if(t.notificationId&&t.notificationId.length){e.next=6;break}throw $.error("No push notification ID for registration"),new Error("No push notification ID for registration");case 6:return $.trace("Registering",this.channelType,t),r={endpoint_platform:this.context.platform,channel_type:this.channelType,version:this.context.protocolVersion.toString(),message_types:Array.from(t.messageTypes),data:{registration_id:t.notificationId}},i=this.context.productId,a="".concat(this.registrarUrl,"?productId=").concat(i),o={"Content-Type":"application/json"},$.trace("Creating registration for channel ".concat(this.channelType)),e.prev=12,e.next=15,new h.AsyncRetrier(ae).run((function(){return u.twilsock.post(a,o,r,i)}));case 15:s=e.sent,this.registrationId=s.body.id,$.debug("Registration created: ",s),e.next=24;break;case 20:throw e.prev=20,e.t0=e.catch(12),$.error("Registration failed: ",e.t0),e.t0;case 24:return e.abrupt("return",t);case 25:case"end":return e.stop()}}),e,this,[[12,20]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeRegistration",value:function(){var e=w.default(O.default.mark((function e(){var t,n,r,i=this;return O.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.registrationId){e.next=2;break}return e.abrupt("return");case 2:return t=this.context.productId,n="".concat(this.registrarUrl,"/").concat(this.registrationId,"?productId=").concat(t),r={"Content-Type":"application/json"},$.trace("Removing registration for ".concat(this.channelType)),e.prev=6,e.next=9,new h.AsyncRetrier(Object.assign(ae,{maxAttemptsCount:3})).run((function(){return i.twilsock.delete(n,r,{},t)}));case 9:this.registrationId=null,this.currentState.notificationId="",$.debug("Registration removed for ".concat(this.channelType)),e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(6),$.error("Failed to remove registration ",this.channelType,e.t0),e.t0;case 18:case"end":return e.stop()}}),e,this,[[6,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"sendDeviceRemoveRequest",value:function(){var e=w.default(O.default.mark((function e(t){var n,r,i,a,o=this;return O.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=2;break}throw new Error("Empty registration ID");case 2:return n=this.context.productId,r="".concat(this.registrarUrl,"?productId=").concat(n),i={"Content-Type":"application/json"},a={binding_type:this.channelType,address:t},e.prev=6,$.trace("Removing old registrations for ".concat(this.channelType)),e.next=10,new h.AsyncRetrier(Object.assign(ae,{maxAttemptsCount:3})).run((function(){return o.twilsock.delete(r,i,a,n)}));case 10:this.registrationId=null,this.currentState.notificationId="",$.debug("Registration removed for ".concat(this.channelType)),e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(6),$.error("Failed to remove registration ",this.channelType,e.t0),e.t0;case 19:case"end":return e.stop()}}),e,this,[[6,15]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(re);function se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C.default(e);if(t){var i=C.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E.default(this,n)}}var ue,ce=function(e){T.default(n,e);var t=se(n);function n(e,r,i){var a;return _.default(this,n),a=t.call(this,"twilsock"),R.default(I.default(a),"contextId",D.v4()),a.productId=e,a.platform=r,a.twilsock=i,a}return S.default(n,[{key:"updateRegistration",value:function(){var e=w.default(O.default.mark((function e(t,n){var r,i;return O.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.has("messageType")){e.next=2;break}return e.abrupt("return",t);case 2:return r=Array.from(t.messageTypes),i={product_id:this.productId,notification_protocol_version:4,endpoint_platform:this.platform,message_types:r},e.prev=4,e.next=7,this.twilsock.setNotificationsContext(this.contextId,i);case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(4),$.error("Failed to update twilsock notification context: ".concat(e.t0)),e.t0;case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this,[[4,9]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeRegistration",value:function(){var e=w.default(O.default.mark((function e(){return O.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.twilsock.removeNotificationsContext(this.contextId);case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),$.error("Failed to remove twilsock notification context: ".concat(e.t0)),e.t0;case 9:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"sendDeviceRemoveRequest",value:function(){var e=w.default(O.default.mark((function e(t){return O.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(re);function le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C.default(e);if(t){var i=C.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E.default(this,n)}}var fe=b.literal("apn","fcm","twilsock");t.Notifications=ue=function(e){T.default(n,e);var t=le(n);function n(e){var r,i,a,o,s,u,c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_.default(this,n),c=t.call(this),l.logLevel=null!==(r=l.logLevel)&&void 0!==r?r:"error",$.setLevel(l.logLevel);var d=null!==(i=l.productId)&&void 0!==i?i:"notifications",p=!l.twilsockClient,h=l.twilsockClient=null!==(a=l.twilsockClient)&&void 0!==a?a:new f.TwilsockClient(e,d,l),v=null!==(o=l.notifications)&&void 0!==o?o:{},m=null!==(s=null!==(u=v.region)&&void 0!==u?u:l.region)&&void 0!==s?s:"us1",g="https://ers.".concat(m,".twilio.com/v1/registrations"),y=v.ersUrl||g;c.connectors=new Map;var b=ue._detectPlatform();return c.connectors.set("apn",new oe("apn",{protocolVersion:4,productId:d,platform:b},h,y)),c.connectors.set("fcm",new oe("fcm",{protocolVersion:3,productId:d,platform:b},h,y)),c.connectors.set("twilsock",new ce(d,b,h)),h.on("stateChanged",(function(e){return c.emit("transportState",e)})),c._connector("twilsock").on("stateChanged",(function(e,t,n){return c.emit("stateChanged",e,t,n)})),c._connector("apn").on("stateChanged",(function(e,t,n){return c.emit("stateChanged",e,t,n)})),c._connector("fcm").on("stateChanged",(function(e,t,n){return c.emit("stateChanged",e,t,n)})),h.on("message",(function(e,t){return c._routeMessage(e,t)})),c.updateToken(e),p&&(h.connect(),c.twilsock=h),c}return S.default(n,[{key:"shutdown",value:function(){var e=w.default(O.default.mark((function e(){return O.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectors.clear(),!this.twilsock){e.next=4;break}return e.next=4,this.twilsock.disconnect();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPushRegistrationId",value:function(e,t){$.debug("Set ".concat(e," push registration id '").concat(t,"'")),this._connector(e).setNotificationId(t)}},{key:"subscribe",value:function(e,t){$.debug("Add ".concat(e," subscriptions for message type ").concat(t)),this._connector(e).subscribe(t)}},{key:"unsubscribe",value:function(e,t){$.debug("Remove ".concat(e," subscriptions for message type ").concat(t)),this._connector(e).unsubscribe(t)}},{key:"updateToken",value:function(e){this.connectors.forEach((function(t){return t.updateToken(e)}))}},{key:"commitChanges",value:function(){var e=w.default(O.default.mark((function e(){var t;return O.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],this.connectors.forEach((function(e){e.isActive()&&t.push(e.commitChanges())})),e.next=4,Promise.all(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeRegistrations",value:function(){var e=w.default(O.default.mark((function e(t,n){return O.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._connector(t).sendDeviceRemoveRequest(n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"handlePushNotification",value:function(e){return{messageType:e.twi_message_type,payload:e.payload}}},{key:"_routeMessage",value:function(e,t){$.debug("Notification message arrived: ",e,t),this.emit("message",e,t)}},{key:"_connector",value:function(e){var t=this.connectors.get(e);if(!t)throw new Error("Unknown channel type: ".concat(e));return t}}],[{key:"_detectPlatform",value:function(){var e="";return"undefined"!==typeof navigator?(e="unknown","undefined"!==typeof navigator.product&&(e=navigator.product),"undefined"!==typeof navigator.userAgent&&(e=navigator.userAgent)):e="web",e.substring(0,128)}}]),n}(Z),L([b.validateTypes(fe,b.nonEmptyString),j("design:type",Function),j("design:paramtypes",[String,String]),j("design:returntype",void 0)],t.Notifications.prototype,"setPushRegistrationId",null),L([b.validateTypes(fe,b.nonEmptyString),j("design:type",Function),j("design:paramtypes",[String,String]),j("design:returntype",void 0)],t.Notifications.prototype,"subscribe",null),L([b.validateTypes(fe,b.nonEmptyString),j("design:type",Function),j("design:paramtypes",[String,String]),j("design:returntype",void 0)],t.Notifications.prototype,"unsubscribe",null),L([b.validateTypes(b.nonEmptyString),j("design:type",Function),j("design:paramtypes",[String]),j("design:returntype",void 0)],t.Notifications.prototype,"updateToken",null),L([b.validateTypesAsync(fe,b.nonEmptyString),j("design:type",Function),j("design:paramtypes",[String,String]),j("design:returntype",Promise)],t.Notifications.prototype,"removeRegistrations",null),t.Notifications=ue=L([b.validateConstructorTypes(b.nonEmptyString,[b.pureObject,"undefined",b.literal(null)]),j("design:paramtypes",[String,Object])],t.Notifications)},8645:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(44584);var r=n(56690),i=n(89728),a=n(66115),o=n(61655),s=n(94993),u=n(73808),c=n(38416);function l(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}n(65202),n(67675);var f=l(r),d=l(i),p=l(a),h=l(o),v=l(s),m=l(u),g=l(c);function y(){}function b(){b.init.call(this)}function x(e){return void 0===e._maxListeners?b.defaultMaxListeners:e._maxListeners}function k(e,t,n){if(t)e.call(n);else for(var r=e.length,i=A(e,r),a=0;a<r;++a)i[a].call(n)}function w(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,a=A(e,i),o=0;o<i;++o)a[o].call(n,r)}function _(e,t,n,r,i){if(t)e.call(n,r,i);else for(var a=e.length,o=A(e,a),s=0;s<a;++s)o[s].call(n,r,i)}function S(e,t,n,r,i,a){if(t)e.call(n,r,i,a);else for(var o=e.length,s=A(e,o),u=0;u<o;++u)s[u].call(n,r,i,a)}function T(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,a=A(e,i),o=0;o<i;++o)a[o].apply(n,r)}function E(e,t,n,r){var i,a,o,s;if("function"!==typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]):(a=e._events=new y,e._eventsCount=0),o){if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=x(e))&&i>0&&o.length>i){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,"function"===typeof console.warn?console.warn(s):console.log(s)}}else o=a[t]=n,++e._eventsCount;return e}function C(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function O(e){var t=this._events;if(t){var n=t[e];if("function"===typeof n)return 1;if(n)return n.length}return 0}function A(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m.default(e);if(t){var i=m.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v.default(this,n)}}y.prototype=Object.create(null),b.EventEmitter=b,b.usingDomains=!1,b.prototype.domain=void 0,b.prototype._events=void 0,b.prototype._maxListeners=void 0,b.defaultMaxListeners=10,b.init=function(){this.domain=null,b.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new y,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},b.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},b.prototype.getMaxListeners=function(){return x(this)},b.prototype.emit=function(e){var t,n,r,i,a,o,s,u="error"===e;if(o=this._events)u=u&&null==o.error;else if(!u)return!1;if(s=this.domain,u){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(n=o[e]))return!1;var l="function"===typeof n;switch(r=arguments.length){case 1:k(n,l,this);break;case 2:w(n,l,this,arguments[1]);break;case 3:_(n,l,this,arguments[1],arguments[2]);break;case 4:S(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),a=1;a<r;a++)i[a-1]=arguments[a];T(n,l,this,i)}return!0},b.prototype.addListener=function(e,t){return E(this,e,t,!1)},b.prototype.on=b.prototype.addListener,b.prototype.prependListener=function(e,t){return E(this,e,t,!0)},b.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,C(this,e,t)),this},b.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,C(this,e,t)),this},b.prototype.removeListener=function(e,t){var n,r,i,a,o;if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0===--this._eventsCount?this._events=new y:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0===--this._eventsCount)return this._events=new y,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,o||t)}return this},b.prototype.off=function(e,t){return this.removeListener(e,t)},b.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new y,this._eventsCount=0):n[e]&&(0===--this._eventsCount?this._events=new y:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),a=0;a<i.length;++a)"removeListener"!==(r=i[a])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new y,this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},b.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"===typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},b.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):O.call(e,t)},b.prototype.listenerCount=O,b.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var R=function(e){h.default(n,e);var t=I(n);function n(e){var r;return f.default(this,n),r=t.call(this),g.default(p.default(r),"timeout",null),g.default(p.default(r),"startTimestamp",-1),r.minDelay=e.min,r.maxDelay=e.max,r.initialDelay=e.initial||0,r.maxAttemptsCount=e.maxAttemptsCount||0,r.maxAttemptsTime=e.maxAttemptsTime||0,r.randomness=e.randomness||0,r.inProgress=!1,r.attemptNum=0,r.prevDelay=0,r.currDelay=0,r}return d.default(n,[{key:"attempt",value:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.attemptNum++,this.emit("attempt",this)}},{key:"nextDelay",value:function(e){if("number"===typeof e)return this.prevDelay=0,this.currDelay=e,e;if(0==this.attemptNum)return this.initialDelay;if(1==this.attemptNum)return this.currDelay=this.minDelay,this.currDelay;this.prevDelay=this.currDelay;var t=this.currDelay+this.prevDelay;return this.maxDelay&&t>this.maxDelay&&(this.currDelay=this.maxDelay,t=this.maxDelay),this.currDelay=t,t}},{key:"randomize",value:function(e){var t=e*this.randomness,n=Math.round(Math.random()*t*2-t);return Math.max(0,e+n)}},{key:"scheduleAttempt",value:function(e){var t=this;if(this.maxAttemptsCount&&this.attemptNum>=this.maxAttemptsCount)return this.cleanup(),void this.emit("failed",new Error("Maximum attempt count limit reached"));var n=this.nextDelay(e);if(n=this.randomize(n),this.maxAttemptsTime&&this.startTimestamp+this.maxAttemptsTime<Date.now()+n)return this.cleanup(),void this.emit("failed",new Error("Maximum attempt time limit reached"));this.timeout=setTimeout((function(){return t.attempt()}),n)}},{key:"cleanup",value:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.inProgress=!1,this.attemptNum=0,this.prevDelay=0,this.currDelay=0}},{key:"start",value:function(){if(this.inProgress)throw new Error("Retrier is already in progress");this.inProgress=!0,this.startTimestamp=Date.now(),this.scheduleAttempt(this.initialDelay)}},{key:"cancel",value:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null,this.inProgress=!1,this.emit("cancelled"))}},{key:"succeeded",value:function(e){this.emit("succeeded",e)}},{key:"failed",value:function(e,t){if(this.timeout)throw new Error("Retrier attempt is already in progress");this.scheduleAttempt(t)}}]),n}(b),N=function(e){h.default(n,e);var t=I(n);function n(e){var r;return f.default(this,n),r=t.call(this),g.default(p.default(r),"resolve",(function(){})),g.default(p.default(r),"reject",(function(){})),r.retrier=new R(e),r}return d.default(n,[{key:"run",value:function(e){var t=this;return this.retrier.on("attempt",(function(){e().then((function(e){return t.retrier.succeeded(e)})).catch((function(e){return t.retrier.failed(e)}))})),this.retrier.on("succeeded",(function(e){return t.resolve(e)})),this.retrier.on("cancelled",(function(){return t.reject(new Error("Cancelled"))})),this.retrier.on("failed",(function(e){return t.reject(e)})),new Promise((function(e,n){t.resolve=e,t.reject=n,t.retrier.start()}))}},{key:"cancel",value:function(){this.retrier.cancel()}}]),n}(b);function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m.default(e);if(t){var i=m.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v.default(this,n)}}function M(e){return void 0!==e&&null!==e}var D=function(e){h.default(n,e);var t=P(n);function n(e){var r;f.default(this,n),r=t.call(this),g.default(p.default(r),"backoffDelay",0),g.default(p.default(r),"nextBackoffDelay",0),g.default(p.default(r),"backoffNumber",0),g.default(p.default(r),"timeoutID",null),g.default(p.default(r),"maxNumberOfRetry",-1);var i=e=e||{},a=i.initialDelay,o=i.maxDelay,s=i.randomisationFactor,u=i.factor;if(M(a)&&a<1)throw new Error("The initial timeout must be equal to or greater than 1.");if(M(o)&&o<=1)throw new Error("The maximal timeout must be greater than 1.");if(M(s)&&(s<0||s>1))throw new Error("The randomisation factor must be between 0 and 1.");if(M(u)&&u<=1)throw new Error("Exponential factor should be greater than 1.");if(r.initialDelay=a||100,r.maxDelay=o||1e4,r.maxDelay<=r.initialDelay)throw new Error("The maximal backoff delay must be greater than the initial backoff delay.");return r.randomisationFactor=s||0,r.factor=u||2,r.reset(),r}return d.default(n,[{key:"backoff",value:function(e){null==this.timeoutID&&(this.backoffNumber===this.maxNumberOfRetry?(this.emit("fail",e),this.reset()):(this.backoffDelay=this.next(),this.timeoutID=setTimeout(this.onBackoff.bind(this),this.backoffDelay),this.emit("backoff",this.backoffNumber,this.backoffDelay,e)))}},{key:"reset",value:function(){this.backoffDelay=0,this.nextBackoffDelay=this.initialDelay,this.backoffNumber=0,this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=null}},{key:"failAfter",value:function(e){if(e<=0)throw new Error("Expected a maximum number of retry greater than 0 but got ".concat(e));this.maxNumberOfRetry=e}},{key:"next",value:function(){this.backoffDelay=Math.min(this.nextBackoffDelay,this.maxDelay),this.nextBackoffDelay=this.backoffDelay*this.factor;var e=1+Math.random()*this.randomisationFactor;return Math.min(this.maxDelay,Math.round(this.backoffDelay*e))}},{key:"onBackoff",value:function(){this.timeoutID=null,this.emit("ready",this.backoffNumber,this.backoffDelay),this.backoffNumber++}}],[{key:"exponential",value:function(e){return new n(e)}}]),n}(b);t.AsyncRetrier=N,t.Backoff=D,t.Retrier=R},62839:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(861),i=n(56690),a=n(89728),o=n(66115),s=n(41588),u=n(61655),c=n(94993),l=n(73808),f=n(38416);function d(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var p=d(r),h=d(i),v=d(a),m=d(o),g=d(s),y=d(u),b=d(c),x=d(l),k=d(f);function w(){}function _(){_.init.call(this)}function S(e){return void 0===e._maxListeners?_.defaultMaxListeners:e._maxListeners}function T(e,t,n){if(t)e.call(n);else for(var r=e.length,i=P(e,r),a=0;a<r;++a)i[a].call(n)}function E(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,a=P(e,i),o=0;o<i;++o)a[o].call(n,r)}function C(e,t,n,r,i){if(t)e.call(n,r,i);else for(var a=e.length,o=P(e,a),s=0;s<a;++s)o[s].call(n,r,i)}function O(e,t,n,r,i,a){if(t)e.call(n,r,i,a);else for(var o=e.length,s=P(e,o),u=0;u<o;++u)s[u].call(n,r,i,a)}function A(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,a=P(e,i),o=0;o<i;++o)a[o].apply(n,r)}function I(e,t,n,r){var i,a,o,s;if("function"!==typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]):(a=e._events=new w,e._eventsCount=0),o){if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=S(e))&&i>0&&o.length>i){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,"function"===typeof console.warn?console.warn(s):console.log(s)}}else o=a[t]=n,++e._eventsCount;return e}function R(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function N(e){var t=this._events;if(t){var n=t[e];if("function"===typeof n)return 1;if(n)return n.length}return 0}function P(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x.default(e);if(t){var i=x.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b.default(this,n)}}w.prototype=Object.create(null),_.EventEmitter=_,_.usingDomains=!1,_.prototype.domain=void 0,_.prototype._events=void 0,_.prototype._maxListeners=void 0,_.defaultMaxListeners=10,_.init=function(){this.domain=null,_.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new w,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},_.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},_.prototype.getMaxListeners=function(){return S(this)},_.prototype.emit=function(e){var t,n,r,i,a,o,s,u="error"===e;if(o=this._events)u=u&&null==o.error;else if(!u)return!1;if(s=this.domain,u){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(n=o[e]))return!1;var l="function"===typeof n;switch(r=arguments.length){case 1:T(n,l,this);break;case 2:E(n,l,this,arguments[1]);break;case 3:C(n,l,this,arguments[1],arguments[2]);break;case 4:O(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),a=1;a<r;a++)i[a-1]=arguments[a];A(n,l,this,i)}return!0},_.prototype.addListener=function(e,t){return I(this,e,t,!1)},_.prototype.on=_.prototype.addListener,_.prototype.prependListener=function(e,t){return I(this,e,t,!0)},_.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,R(this,e,t)),this},_.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,R(this,e,t)),this},_.prototype.removeListener=function(e,t){var n,r,i,a,o;if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0===--this._eventsCount?this._events=new w:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0===--this._eventsCount)return this._events=new w,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,o||t)}return this},_.prototype.off=function(e,t){return this.removeListener(e,t)},_.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new w,this._eventsCount=0):n[e]&&(0===--this._eventsCount?this._events=new w:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),a=0;a<i.length;++a)"removeListener"!==(r=i[a])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new w,this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},_.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"===typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},_.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):N.call(e,t)},_.prototype.listenerCount=N,_.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var D=function(e){y.default(n,e);var t=M(n);function n(){var e;return h.default(this,n),e=t.call(this),k.default(m.default(e),"eventHistory",new Map),e}return v.default(n,[{key:"on",value:function(e,t){return g.default(x.default(n.prototype),"on",this).call(this,e,t)}},{key:"once",value:function(e,t){return g.default(x.default(n.prototype),"once",this).call(this,e,t)}},{key:"off",value:function(e,t){return g.default(x.default(n.prototype),"off",this).call(this,e,t)}},{key:"emit",value:function(e){for(var t,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return this.eventHistory.set(e,i),(t=g.default(x.default(n.prototype),"emit",this)).call.apply(t,[this,e].concat(i))}},{key:"addListener",value:function(e,t){return g.default(x.default(n.prototype),"addListener",this).call(this,e,t)}},{key:"removeListener",value:function(e,t){return g.default(x.default(n.prototype),"removeListener",this).call(this,e,t)}},{key:"addListenerWithReplay",value:function(e,t){var n=this.eventHistory.get(e);return void 0!==n&&t.apply(void 0,p.default(n)),this.addListener(e,t)}},{key:"onWithReplay",value:function(e,t){return this.addListenerWithReplay(e,t)}}]),n}(_);t.ReplayEventEmitter=D},1410:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WASM_INFERENCE_DIMENSIONS=t.BODYPIX_INFERENCE_DIMENSIONS=t.INFERENCE_CONFIG=t.MODEL_CONFIG=t.TFLITE_SIMD_LOADER_NAME=t.TFLITE_LOADER_NAME=t.MODEL_NAME=t.PERSON_PROBABILITY_THRESHOLD=t.HISTORY_COUNT=t.MASK_BLUR_RADIUS=t.DEBOUNCE=t.BLUR_FILTER_RADIUS=void 0,t.BLUR_FILTER_RADIUS=15,t.DEBOUNCE=2,t.MASK_BLUR_RADIUS=5,t.HISTORY_COUNT=5,t.PERSON_PROBABILITY_THRESHOLD=.4,t.MODEL_NAME="selfie_segmentation_landscape.tflite",t.TFLITE_LOADER_NAME="tflite-1-0-0.js",t.TFLITE_SIMD_LOADER_NAME="tflite-simd-1-0-0.js",t.MODEL_CONFIG={architecture:"MobileNetV1",outputStride:16,multiplier:.75,quantBytes:4},t.INFERENCE_CONFIG={internalResolution:1,maxDetections:1,segmentationThreshold:.75},t.BODYPIX_INFERENCE_DIMENSIONS={width:224,height:224},t.WASM_INFERENCE_DIMENSIONS={width:256,height:144}},29660:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualBackgroundProcessor=t.version=t.isSupported=t.ImageFit=t.GaussianBlurBackgroundProcessor=void 0;var i=n(17075);Object.defineProperty(t,"GaussianBlurBackgroundProcessor",{enumerable:!0,get:function(){return i.GaussianBlurBackgroundProcessor}});var a=n(31592);Object.defineProperty(t,"VirtualBackgroundProcessor",{enumerable:!0,get:function(){return a.VirtualBackgroundProcessor}});var o=n(2391);Object.defineProperty(t,"ImageFit",{enumerable:!0,get:function(){return o.ImageFit}});var s=n(13821);Object.defineProperty(t,"isSupported",{enumerable:!0,get:function(){return s.isSupported}});var u=n(22510);Object.defineProperty(t,"version",{enumerable:!0,get:function(){return u.version}}),"undefined"!==typeof window&&(window.Twilio=window.Twilio||{},window.Twilio.VideoProcessors=r(r({},window.Twilio.VideoProcessors),{GaussianBlurBackgroundProcessor:i.GaussianBlurBackgroundProcessor,ImageFit:o.ImageFit,isSupported:s.isSupported,version:u.version,VirtualBackgroundProcessor:a.VirtualBackgroundProcessor}))},75716:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Processor=void 0;var n=function(){};t.Processor=n},75277:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundProcessor=void 0,n(78832),n(58808);var o=n(71059),s=n(75716),u=n(69611),c=n(22510),l=n(1410),f=function(e){function t(t){var n=e.call(this)||this;if(n._currentMask=new Uint8ClampedArray,n._debounce=l.DEBOUNCE,n._dummyImageData=new ImageData(1,1),n._historyCount=l.HISTORY_COUNT,n._inferenceConfig=l.INFERENCE_CONFIG,n._inferenceDimensions=l.WASM_INFERENCE_DIMENSIONS,n._inputMemoryOffset=0,n._isSimdEnabled=null,n._maskBlurRadius=l.MASK_BLUR_RADIUS,n._maskUsageCounter=0,n._outputMemoryOffset=0,n._personProbabilityThreshold=l.PERSON_PROBABILITY_THRESHOLD,n._version=c.version,"string"!==typeof t.assetsPath)throw new Error("assetsPath parameter is missing");var r=t.assetsPath;return r&&"/"!==r[r.length-1]&&(r+="/"),n.maskBlurRadius=t.maskBlurRadius,n._assetsPath=r,n._debounce=t.debounce||l.DEBOUNCE,n._historyCount=t.historyCount||l.HISTORY_COUNT,n._inferenceConfig=t.inferenceConfig||l.INFERENCE_CONFIG,n._personProbabilityThreshold=t.personProbabilityThreshold||l.PERSON_PROBABILITY_THRESHOLD,n._useWasm="boolean"!==typeof t.useWasm||t.useWasm,n._inferenceDimensions=t.inferenceDimensions||(n._useWasm?l.WASM_INFERENCE_DIMENSIONS:l.BODYPIX_INFERENCE_DIMENSIONS),n._benchmark=new u.Benchmark,n._inputCanvas=document.createElement("canvas"),n._inputContext=n._inputCanvas.getContext("2d"),n._maskCanvas=new OffscreenCanvas(1,1),n._maskContext=n._maskCanvas.getContext("2d"),n._outputCanvas=document.createElement("canvas"),n._outputContext=n._outputCanvas.getContext("2d"),n._masks=[],n}return r(t,e),t._loadModel=function(e){return void 0===e&&(e=l.MODEL_CONFIG),i(this,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return n=t,[4,o.load(e).catch((function(e){return console.error("Unable to load model.",e)}))];case 1:return n._model=r.sent()||null,[2]}}))}))},Object.defineProperty(t.prototype,"maskBlurRadius",{get:function(){return this._maskBlurRadius},set:function(e){("number"!==typeof e||e<0)&&(console.warn("Valid mask blur radius not found. Using "+l.MASK_BLUR_RADIUS+" as default."),e=l.MASK_BLUR_RADIUS),this._maskBlurRadius=e},enumerable:!1,configurable:!0}),t.prototype.loadModel=function(){return i(this,void 0,void 0,(function(){var e,n,r,i;return a(this,(function(a){switch(a.label){case 0:return[4,Promise.all([t._loadModel(),this._loadTwilioTfLite(),fetch(this._assetsPath+l.MODEL_NAME)])];case 1:return e=a.sent(),n=e[1],[4,e[2].arrayBuffer()];case 2:return r=a.sent(),i=n._getModelBufferMemoryOffset(),n.HEAPU8.set(new Uint8Array(r),i),n._loadModel(r.byteLength),this._inputMemoryOffset=n._getInputMemoryOffset()/4,this._outputMemoryOffset=n._getOutputMemoryOffset()/4,this._tflite=n,[2]}}))}))},t.prototype.processFrame=function(e,n){return i(this,void 0,void 0,(function(){var r,i,o,s,u,c,l,f;return a(this,(function(a){switch(a.label){case 0:if(!t._model||!this._tflite)return[2];if(!e||!n)throw new Error("Missing input or output frame buffer");return this._benchmark.end("captureFrameDelay"),this._benchmark.start("processFrameDelay"),i=(r=e).width,o=r.height,s=this._inferenceDimensions,u=s.width,c=s.height,this._outputCanvas!==n&&(this._outputCanvas=n,this._outputContext=n.getContext("2d")),l=!1,this._inputCanvas.width!==u&&(this._inputCanvas.width=u,this._maskCanvas.width=u,l=!0),this._inputCanvas.height!==c&&(this._inputCanvas.height=c,this._maskCanvas.height=c,l=!0),l&&(this._dummyImageData=new ImageData(new Uint8ClampedArray(u*c*4),u,c)),[4,this._createPersonMask(r)];case 1:return f=a.sent(),this._benchmark.start("imageCompositionDelay"),this._maskContext.putImageData(f,0,0),this._outputContext.save(),this._outputContext.filter="blur("+this._maskBlurRadius+"px)",this._outputContext.globalCompositeOperation="copy",this._outputContext.drawImage(this._maskCanvas,0,0,i,o),this._outputContext.filter="none",this._outputContext.globalCompositeOperation="source-in",this._outputContext.drawImage(r,0,0,i,o),this._outputContext.globalCompositeOperation="destination-over",this._setBackground(r),this._outputContext.restore(),this._benchmark.end("imageCompositionDelay"),this._benchmark.end("processFrameDelay"),this._benchmark.end("totalProcessingDelay"),this._benchmark.start("totalProcessingDelay"),this._benchmark.start("captureFrameDelay"),[2]}}))}))},t.prototype._addMask=function(e){this._masks.length>=this._historyCount&&this._masks.splice(0,this._masks.length-this._historyCount+1),this._masks.push(e)},t.prototype._applyAlpha=function(e){for(var t=this._masks.reduce((function(e,t,n){return e+(n+1)*(n+1)}),0),n=e.height*e.width,r=function(n){var r=i._masks.reduce((function(e,t,r){return e+t[n]*(r+1)*(r+1)}),0)/t;e.data[4*n+3]=Math.round(255*r)},i=this,a=0;a<n;a++)r(a)},t.prototype._createPersonMask=function(e){return i(this,void 0,void 0,(function(){var t,n,r,i;return a(this,(function(a){switch(a.label){case 0:return t=this._dummyImageData,n=this._maskUsageCounter<1,this._benchmark.start("inputImageResizeDelay"),n&&(t=this._getResizedInputImageData(e)),this._benchmark.end("inputImageResizeDelay"),this._benchmark.start("segmentationDelay"),n?(r=this,this._useWasm?(i=this._runTwilioTfLiteInference(t),[3,3]):[3,1]):[3,4];case 1:return[4,this._runBodyPixInference(t)];case 2:i=a.sent(),a.label=3;case 3:r._currentMask=i,this._maskUsageCounter=this._debounce,a.label=4;case 4:return this._addMask(this._currentMask),this._applyAlpha(t),this._maskUsageCounter--,this._benchmark.end("segmentationDelay"),[2,t]}}))}))},t.prototype._getResizedInputImageData=function(e){var t=this._inputCanvas,n=t.width,r=t.height;return this._inputContext.drawImage(e,0,0,n,r),this._inputContext.getImageData(0,0,n,r)},t.prototype._loadJs=function(e){return new Promise((function(t,n){var r=document.createElement("script");r.onload=function(){return t()},r.onerror=n,document.head.append(r),r.src=e}))},t.prototype._loadTwilioTfLite=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,this._loadJs(this._assetsPath+l.TFLITE_SIMD_LOADER_NAME)];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,4,,7]),[4,window.createTwilioTFLiteSIMDModule()];case 3:return e=t.sent(),this._isSimdEnabled=!0,[3,7];case 4:return t.sent(),console.warn("SIMD not supported. You may experience poor quality of background replacement."),[4,this._loadJs(this._assetsPath+l.TFLITE_LOADER_NAME)];case 5:return t.sent(),[4,window.createTwilioTFLiteModule()];case 6:return e=t.sent(),this._isSimdEnabled=!1,[3,7];case 7:return[2,e]}}))}))},t.prototype._runBodyPixInference=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,t._model.segmentPerson(e,this._inferenceConfig)];case 1:return[2,n.sent().data]}}))}))},t.prototype._runTwilioTfLiteInference=function(e){for(var t=this,n=t._inferenceDimensions,r=n.width,i=n.height,a=t._inputMemoryOffset,o=t._tflite,s=r*i,u=0;u<s;u++)o.HEAPF32[a+3*u]=e.data[4*u]/255,o.HEAPF32[a+3*u+1]=e.data[4*u+1]/255,o.HEAPF32[a+3*u+2]=e.data[4*u+2]/255;o._runInference();var c=new Uint8ClampedArray(4*s);for(u=0;u<s;u++){var l=o.HEAPF32[this._outputMemoryOffset+u];c[u]=Number(l>=this._personProbabilityThreshold)*l}return c},t._model=null,t}(s.Processor);t.BackgroundProcessor=f},17075:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GaussianBlurBackgroundProcessor=void 0;var i=n(75277),a=n(1410),o=function(e){function t(t){var n=e.call(this,t)||this;return n._blurFilterRadius=a.BLUR_FILTER_RADIUS,n._name="GaussianBlurBackgroundProcessor",n.blurFilterRadius=t.blurFilterRadius,n}return r(t,e),Object.defineProperty(t.prototype,"blurFilterRadius",{get:function(){return this._blurFilterRadius},set:function(e){e||(console.warn("Valid blur filter radius not found. Using "+a.BLUR_FILTER_RADIUS+" as default."),e=a.BLUR_FILTER_RADIUS),this._blurFilterRadius=e},enumerable:!1,configurable:!0}),t.prototype._setBackground=function(e){this._outputContext.filter="blur("+this._blurFilterRadius+"px)",this._outputContext.drawImage(e,0,0)},t}(i.BackgroundProcessor);t.GaussianBlurBackgroundProcessor=o},31592:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualBackgroundProcessor=void 0;var i=n(75277),a=n(2391),o=function(e){function t(t){var n=e.call(this,t)||this;return n._name="VirtualBackgroundProcessor",n.backgroundImage=t.backgroundImage,n.fitType=t.fitType,n}return r(t,e),Object.defineProperty(t.prototype,"backgroundImage",{get:function(){return this._backgroundImage},set:function(e){if(!e||!e.complete||!e.naturalHeight)throw new Error("Invalid image. Make sure that the image is an HTMLImageElement and has been successfully loaded");this._backgroundImage=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fitType",{get:function(){return this._fitType},set:function(e){Object.keys(a.ImageFit).includes(e)||(console.warn("Valid fitType not found. Using '"+a.ImageFit.Fill+"' as default."),e=a.ImageFit.Fill),this._fitType=e},enumerable:!1,configurable:!0}),t.prototype._setBackground=function(){var e=this._backgroundImage,t=e.naturalWidth,n=e.naturalHeight,r=this._outputCanvas.width,i=this._outputCanvas.height;if(this._fitType===a.ImageFit.Fill)this._outputContext.drawImage(e,0,0,t,n,0,0,r,i);else if(this._fitType===a.ImageFit.None)this._outputContext.drawImage(e,0,0,t,n);else if(this._fitType===a.ImageFit.Contain){var o=this._getFitPosition(t,n,r,i,a.ImageFit.Contain),s=o.x,u=o.y,c=o.w,l=o.h;this._outputContext.drawImage(e,0,0,t,n,s,u,c,l)}else if(this._fitType===a.ImageFit.Cover){var f=this._getFitPosition(t,n,r,i,a.ImageFit.Cover);s=f.x,u=f.y,c=f.w,l=f.h;this._outputContext.drawImage(e,0,0,t,n,s,u,c,l)}},t.prototype._getFitPosition=function(e,t,n,r,i){var o=n/e,s=n,u=o*t;return(i===a.ImageFit.Contain&&u>r||i===a.ImageFit.Cover&&r>u)&&(s*=o=r/u,u=r),{x:(n-s)/2,y:(r-u)/2,w:s,h:u}},t}(i.BackgroundProcessor);t.VirtualBackgroundProcessor=o},2391:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageFit=void 0,function(e){e.Contain="Contain",e.Cover="Cover",e.Fill="Fill",e.None="None"}(t.ImageFit||(t.ImageFit={}))},69611:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Benchmark=void 0;var r=function(){function e(){this._timingCache=new Map,this._timings=new Map}return e.prototype.end=function(e){var t=this._timings.get(e);t&&(t.end=Date.now(),t.delay=t.end-t.start,this._save(e,n({},t)))},e.prototype.getAverageDelay=function(e){var t=this._timingCache.get(e);if(t&&t.length)return t.map((function(e){return e.delay})).reduce((function(e,t){return e+t}),0)/t.length},e.prototype.getNames=function(){return Array.from(this._timingCache.keys())},e.prototype.getRate=function(e){var t=this._timingCache.get(e);if(t&&!(t.length<2)){var n=t[t.length-1].end-t[0].start;return t.length/n*1e3}},e.prototype.start=function(e){var t=this._timings.get(e);t||(t={},this._timings.set(e,t)),t.start=Date.now(),delete t.end,delete t.delay},e.prototype._save=function(t,n){var r=this._timingCache.get(t);r||(r=[],this._timingCache.set(t,r)),r.push(n),r.length>e.cacheSize&&r.splice(0,r.length-e.cacheSize)},e.cacheSize=41,e}();t.Benchmark=r},13821:function(e,t){"use strict";function n(){return"undefined"!==typeof window&&(!!window.OffscreenCanvas&&!/Mobi/i.test(window.navigator.userAgent)&&!!window.chrome)}Object.defineProperty(t,"__esModule",{value:!0}),t.isSupported=t.isBrowserSupported=void 0,t.isBrowserSupported=n,t.isSupported=n()},22510:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="1.0.2"},5937:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(94166)),o=r(n(29150)),s=r(n(27257)),u=r(n(88307)),c=r(n(37114)),l=r(n(98209)),f=r(n(64304));t.default=function(){return i.default.createElement(u.default,null,i.default.createElement(c.default,null,i.default.createElement(a.default,null,(function(e){return i.default.createElement(i.default.Fragment,null,"info"===e&&i.default.createElement(i.default.Fragment,null,i.default.createElement(s.default,null),i.default.createElement(o.default,null)),"stats"===e&&i.default.createElement(i.default.Fragment,null,i.default.createElement(l.default,null),i.default.createElement(f.default,null)))}))))}},94166:function(e,t,n){"use strict";var r,i=n(27424).default,a=n(59400).default,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(72791)),f=n(36031),d=c(n(91503)),p=c(n(48872)),h=c(n(60763)),v=n(6492),m=n(61386),g=n(68022),y=n(37875);(0,f.createGlobalStyle)(r||(r=a(["\n@import url('https://fonts.googleapis.com/css2?family=Inter&display=swap');\n"]))),t.default=function(e){var t=e.children,n=(0,d.default)(),r=n.draggableRef,a=n.dragContainerRef,o=(0,l.useState)("info"),s=i(o,2),u=s[0],c=s[1],f=(0,p.default)(),b=(0,h.default)(),x=b.width,k=b.height,w={};if(x<y.theme.monitorWidth){var _=x/y.theme.monitorWidth;w={transform:"scale(".concat(_,")"),height:k*(1/_)+"px"}}return l.default.createElement(m.Container,{ref:a,style:w},l.default.createElement(m.Bar,{ref:r},l.default.createElement("span",{style:{padding:"0.57em"}},"Twilio Video Room Monitor"),l.default.createElement(m.RightBarContainer,null,l.default.createElement(m.TabSelector,{isActive:"info"===u,onClick:function(){return c("info")}},"Info"),l.default.createElement(m.TabSelector,{isActive:"stats"===u,onClick:function(){return c("stats")}},"Stats"),l.default.createElement(v.CopyButton,null),l.default.createElement(m.CloseIconContainer,{onClick:function(){return g.VideoRoomMonitor.closeMonitor()}},l.default.createElement("svg",{width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.768 1.768a.347.347 0 01.491 0l15.973 15.973a.347.347 0 01-.492.49L1.768 2.26a.347.347 0 010-.49z",fill:"#DDD"}),l.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.232 1.768a.347.347 0 010 .491L2.258 18.232a.347.347 0 11-.49-.491L17.74 1.768a.347.347 0 01.492",fill:"#DDD"}))))),l.default.createElement(m.OverflowContainer,null,l.default.createElement(m.ChildrenContainer,null,f?t(u):l.default.createElement("span",null,"No Twilio Room detected."))))}},6492:function(e,t,n){"use strict";var r,i,a=n(27424).default,o=n(59400).default,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return u(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CopyButton=t.Tooltip=t.CopyButtonContainer=void 0;var f=l(n(30093)),d=c(n(72791)),p=l(n(36031)),h=l(n(48872)),v=n(37875);t.CopyButtonContainer=p.default.div(r||(r=o(["\n  display: flex;\n  position: relative;\n  margin: 0 1em;\n  cursor: ",";\n\n  & svg {\n    stroke: ",";\n  }\n"])),(function(e){return e.hasRoom?"pointer":"initial"}),(function(e){return e.hasRoom?v.theme.borderColor:"#333"})),t.Tooltip=p.default.div(i||(i=o(["\n  position: absolute;\n  background: #4f4f4f;\n  font-size: 0.75rem;\n  white-space: nowrap;\n  padding: 0.2em 0.6em;\n  top: 2.7em;\n  left: 0%;\n  visibility: hidden;\n\n  &:before {\n    content: '';\n    width: 0;\n    height: 0;\n    left: 5px;\n    top: -5px;\n    position: absolute;\n    border: 5px solid #4f4f4f;\n    transform: rotate(135deg);\n  }\n\n  ",": hover & {\n    visibility: visible;\n  }\n\n  @media (max-width: ","px) {\n    left: auto;\n    right: 0;\n\n    &:before {\n      content: '';\n      right: 5px;\n      left: auto;\n    }\n  }\n"])),t.CopyButtonContainer,v.theme.monitorWidth);var m=function(e,t){if("processor"===t)return Boolean(e)};t.CopyButton=function(){var e=(0,h.default)(),n=(0,d.useState)(!1),r=a(n,2),i=r[0],o=r[1];return d.default.createElement(t.CopyButtonContainer,{onClick:function(){if(e){var t=(0,f.default)(e,m),n=(0,f.default)(e._options,m),r=JSON.stringify(Object.assign(Object.assign({},t),{connectionOptions:n}),null,2);navigator.clipboard.writeText(r).then((function(){o(!0)}))}},onMouseLeave:function(){return o(!1)},hasRoom:!!e},d.default.createElement(t.Tooltip,null,i?"Room information copied to clipboard":"Copy Room Information"),d.default.createElement("svg",{width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.917.413c0-.274.223-.496.5-.496h6.666c.133 0 .26.052.354.145l5 4.959c.093.093.146.219.146.35v11.57a.498.498 0 01-.5.496H5.417a.498.498 0 01-.5-.495V.412zm1 .495v15.538h10.666V5.576L11.876.909h-5.96z",fill:"#DDD"}),d.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.083-.083c.276 0 .5.222.5.496v4.462h4.5c.276 0 .5.222.5.496a.498.498 0 01-.5.496h-5a.498.498 0 01-.5-.496V.413c0-.274.224-.496.5-.496zM2.417 2.892c0-.274.223-.496.5-.496h2.5c.276 0 .5.222.5.496a.498.498 0 01-.5.496h-2v15.537h10.666v-1.983c0-.274.224-.496.5-.496s.5.222.5.495v2.48a.498.498 0 01-.5.496H2.917a.498.498 0 01-.5-.496V2.89z",fill:"#DDD"})))}},61386:function(e,t,n){"use strict";var r,i,a,o,s,u,c,l=n(59400).default,f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TabSelector=t.RightBarContainer=t.CloseIconContainer=t.ChildrenContainer=t.OverflowContainer=t.Bar=t.BAR_HEIGHT=t.Container=void 0;var d=f(n(36031)),p=n(37875);t.Container=d.default.div(r||(r=l(["\n  width: ","px;\n  height: 85vh;\n  position: fixed;\n  top: 0;\n  transform-origin: 0 0;\n  z-index: 10000;\n  border: 1px solid ",";\n  color: ",";\n  & h1,\n  & h2,\n  & h3,\n  & h4,\n  & h5,\n  & h6,\n  & span,\n  & p,\n  & text {\n    font-family: 'Inter', sans-serif;\n  }\n\n  @media (max-width: ","px) {\n    /* !important is used here to override the style attributes used for dragging */\n    top: 0 !important;\n    left: 0 !important;\n  }\n"])),p.theme.monitorWidth,p.theme.borderColor,p.theme.borderColor,p.theme.monitorWidth),t.BAR_HEIGHT="2.8em",t.Bar=d.default.div(i||(i=l(["\n  height: ",";\n  cursor: move;\n  background: black;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid ",";\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  z-index: 20000;\n"])),t.BAR_HEIGHT,p.theme.borderColor),t.OverflowContainer=d.default.div(a||(a=l(["\n  overflow: hidden;\n  height: 100%;\n  padding-top: ",";\n"])),t.BAR_HEIGHT),t.ChildrenContainer=d.default.div(o||(o=l(["\n  height: 100%;\n  overflow-y: auto;\n  padding: 0.4em 0.8em 0.4em;\n  background: black;\n  opacity: 0.8;\n"]))),t.CloseIconContainer=d.default.div(s||(s=l(["\n  border-left: 1px solid ",";\n  height: 2.7em;\n  width: 2.7em;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  & svg {\n    stroke: ",";\n  }\n\n  &:hover {\n    background: rgba(50, 50, 50, 0.9);\n  }\n"])),p.theme.borderColor,p.theme.borderColor),t.RightBarContainer=d.default.div(u||(u=l(["\n  display: flex;\n  align-items: center;\n"]))),t.TabSelector=d.default.span(c||(c=l(["\n  position: relative;\n  margin: 0px 6px;\n  color: ",";\n  cursor: pointer;\n  padding: 8px;\n  border-bottom: ",";\n  &:hover {\n    background: rgba(50, 50, 50, 0.9);\n  }\n"])),(function(e){return e.isActive?p.theme.textColor:"#555"}),(function(e){return e.isActive?"2px solid white":""}))},825:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AudioTrackPublicationInfo=t.AudioTrackInfo=void 0;var i=r(n(72791)),a=r(n(41280)),o=r(n(76816)),s=n(92002),u=r(n(333)),c=r(n(39458)),l=r(n(16629)),f=r(n(11159));t.AudioTrackInfo=function(e){var t=e.track,n=e.trackSid,r=(0,a.default)(t),u=(0,s.useTrackBandwidth)(n),f=(0,s.useTrackData)(n),d=(0,o.default)(t),p="";if(f){var h=f.packetsReceived,v=f.packetsSent,m=f.packetsLost,g=null!==h&&void 0!==h?h:v;p=g&&null!==m?"".concat((m/g*100).toLocaleString(),"%"):null}return i.default.createElement(i.default.Fragment,null,i.default.createElement(c.default,{label:"isEnabled",value:r}),i.default.createElement(c.default,{label:"Bandwidth",value:(null===u||void 0===u?void 0:u.toLocaleString())+"kbps"}),f&&i.default.createElement(i.default.Fragment,null,i.default.createElement(c.default,{label:"Codec",value:f.codec}),i.default.createElement(c.default,{label:"Jitter",value:f.jitter}),i.default.createElement(c.default,{label:"Packets Lost",value:f.packetsLost}),i.default.createElement(c.default,{label:"Packet Loss Percentage",value:p})),i.default.createElement(l.default,{track:d}))};t.AudioTrackPublicationInfo=function(e){var n=e.publication,r=(0,u.default)(n);return i.default.createElement(f.default,null,i.default.createElement(c.default,{label:"Name",value:n.trackName}),i.default.createElement(c.default,{label:"SID",value:n.trackSid}),i.default.createElement(c.default,{label:"isSubscribed",value:!!r}),r&&i.default.createElement(t.AudioTrackInfo,{track:r,trackSid:n.trackSid}))}},82978:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataTrackPublicationInfo=t.DataTrackInfo=void 0;var i=r(n(72791)),a=r(n(41280)),o=r(n(44003)),s=r(n(333)),u=r(n(64821)),c=r(n(39458)),l=r(n(11159));t.DataTrackInfo=function(e){var t=e.track,n=(0,a.default)(t),r=(0,o.default)(t);return void 0===t.isEnabled||void 0===t.isSwitchedOff?i.default.createElement(u.default,{track:t}):i.default.createElement(i.default.Fragment,null,i.default.createElement(c.default,{label:"isEnabled",value:n}),i.default.createElement(c.default,{label:"isSwitchedOff",value:r}),i.default.createElement(c.default,{label:"Priority",value:t.priority}),i.default.createElement(u.default,{track:t}))};t.DataTrackPublicationInfo=function(e){var n=e.publication,r=(0,s.default)(n);return i.default.createElement(l.default,null,i.default.createElement(c.default,{label:"Kind",value:n.kind}),i.default.createElement(c.default,{label:"isSubscribed",value:!!r}),r&&i.default.createElement(t.DataTrackInfo,{track:r}))}},29150:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(23853)),o=r(n(48872)),s=r(n(70907)),u=r(n(89699)),c=n(92992);t.default=function(){var e=(0,a.default)(),t=(0,o.default)(),n=(0,s.default)();return t&&"disconnected"!==n?i.default.createElement(i.default.Fragment,null,i.default.createElement(u.default,null,"Participant Information (",e.length+1,"):"),i.default.createElement(c.Participant,{participant:t.localParticipant,isLocal:!0}),e.map((function(e){return i.default.createElement(c.Participant,{key:e.sid,participant:e})}))):null}},92992:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Participant=void 0;var i=r(n(72791)),a=n(44261),o=r(n(39458)),s=r(n(20535)),u=r(n(13784)),c=r(n(89973)),l=n(32690),f=n(825),d=n(82978);t.Participant=function(e){var t=e.participant,n=e.isLocal,r=(0,s.default)(t),p=(0,u.default)(t),h=(0,c.default)(t,n),v=h.filter((function(e){return"data"===e.kind})),m=h.filter((function(e){return"audio"===e.kind})),g=h.filter((function(e){return"video"===e.kind}));return i.default.createElement(a.Accordion,{label:t.identity},i.default.createElement(o.default,{label:"SID",value:t.sid}),i.default.createElement(o.default,{label:"isReconnecting",value:p}),i.default.createElement(o.default,{label:"networkQualityLevel",value:r}),i.default.createElement(a.Accordion,{label:"Data Tracks (".concat(v.length,")")},v.map((function(e){return i.default.createElement(d.DataTrackPublicationInfo,{key:e.trackSid,publication:e})}))),i.default.createElement(a.Accordion,{label:"Audio Tracks (".concat(m.length,")")},m.map((function(e){return i.default.createElement(f.AudioTrackPublicationInfo,{key:e.trackSid,publication:e})}))),i.default.createElement(a.Accordion,{label:"Video Tracks (".concat(g.length,")")},g.map((function(e){return i.default.createElement(l.VideoTrackPublicationInfo,{key:e.trackSid,publication:e})}))))}},32690:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoTrackPublicationInfo=t.VideoTrackInfo=void 0;var i=r(n(72791)),a=r(n(39458)),o=r(n(16629)),s=r(n(11159)),u=r(n(41280)),c=r(n(44003)),l=r(n(76816)),f=r(n(83749)),d=n(92002),p=r(n(333)),h=r(n(85877)),v=n(18681),m=function(e){return e?"".concat(e.width," x ").concat(e.height):"undefined"},g=(0,v.withIntervalUpdate)(a.default);t.VideoTrackInfo=function(e){var t=e.track,n=e.trackSid,r=(0,h.default)(t),s=(0,c.default)(t),f=(0,u.default)(t),p=(0,d.useTrackBandwidth)(n),v=(0,d.useTrackData)(n),y=(0,l.default)(t),b="";if(v){var x=v.packetsReceived,k=v.packetsSent,w=v.packetsLost,_=null!==x&&void 0!==x?x:k;b=_&&null!==w?"".concat((w/_*100).toLocaleString(),"%"):null}return i.default.createElement(i.default.Fragment,null,i.default.createElement(a.default,{label:"Dimensions",value:m(r)}),void 0!==s&&i.default.createElement(a.default,{label:"isSwitchedOff",value:s}),i.default.createElement(a.default,{label:"isEnabled",value:f}),i.default.createElement(a.default,{label:"Bandwidth",value:(null===p||void 0===p?void 0:p.toLocaleString())+"kbps"}),void 0!==t.priority&&i.default.createElement(g,{label:"subscribePriority",value:t.priority}),v&&i.default.createElement(i.default.Fragment,null,i.default.createElement(a.default,{label:"Codec",value:v.codec}),i.default.createElement(a.default,{label:"Framerate",value:null===v||void 0===v?void 0:v.frameRate}),i.default.createElement(a.default,{label:"Packets Lost",value:null===v||void 0===v?void 0:v.packetsLost}),i.default.createElement(a.default,{label:"Packet Loss Percentage",value:b})),i.default.createElement(o.default,{track:y}))};t.VideoTrackPublicationInfo=function(e){var n=e.publication,r=(0,f.default)(n),o=(0,p.default)(n);return i.default.createElement(s.default,null,i.default.createElement(a.default,{label:"Name",value:n.trackName}),i.default.createElement(a.default,{label:"SID",value:n.trackSid}),i.default.createElement(a.default,{label:"isSubscribed",value:!!o}),void 0!==r&&i.default.createElement(a.default,{label:"publishPriority",value:r}),o&&i.default.createElement(t.VideoTrackInfo,{track:o,trackSid:n.trackSid}))}},27257:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(39458)),o=r(n(89699)),s=r(n(71522)),u=r(n(13990)),c=r(n(48872)),l=r(n(70907)),f=r(n(71263)),d=n(44261),p=r(n(61776)),h=r(n(85674)),v=r(n(10365));t.default=function(){var e=(0,c.default)(),t=(0,s.default)(),n=(0,l.default)(),r=(0,u.default)(),m=(0,f.default)(),g=m.currentReceivedBitrate,y=m.currentSentBitrate;if(!e)return null;var b=e._options,x=b.audio,k=b.automaticSubscription,w=b.bandwidthProfile,_=b.dscpTagging,S=b.enableDscp,T=b.iceServers,E=b.iceTransportPolicy,C=b.insights,O=b.maxAudioBitrate,A=b.maxVideoBitrate,I=b.name,R=b.networkQuality,N=b.region,P=b.preferredAudioCodecs,M=b.preferredVideoCodecs,D=b.loggerName,L=b.tracks,j=b.video;return i.default.createElement("div",{style:{marginBottom:"1em"}},i.default.createElement(o.default,null,"Room information:"),"disconnected"===n?i.default.createElement("span",null,"Not connected to a Twilio Video room."):i.default.createElement(i.default.Fragment,null,i.default.createElement(a.default,{label:"Room Name",value:e.name}),i.default.createElement(a.default,{label:"SID",value:e.sid}),i.default.createElement(a.default,{label:"State",value:n}),i.default.createElement(a.default,{label:"Dominant Speaker",value:(null===t||void 0===t?void 0:t.identity)||null}),i.default.createElement(a.default,{label:"Media Region",value:e.mediaRegion}),i.default.createElement(a.default,{label:"Is Recording",value:r}),i.default.createElement(a.default,{label:"Total Sent Bandwidth",value:(null===y||void 0===y?void 0:y.toLocaleString())+"kbps"}),i.default.createElement(a.default,{label:"Total Received Bandwidth",value:(null===g||void 0===g?void 0:g.toLocaleString())+"kbps"}),i.default.createElement(d.Accordion,{label:"Connection Options"},i.default.createElement(p.default,{label:"Audio",obj:x}),i.default.createElement(a.default,{label:"Automatic Subscription",value:k}),i.default.createElement(p.default,{label:"Bandwidth Profile",obj:w}),i.default.createElement(a.default,{label:"Dominant Speaker",value:e._options.dominantSpeaker}),i.default.createElement(a.default,{label:"DSCP Tagging",value:_}),i.default.createElement(a.default,{label:"Enable DSCP",value:S}),i.default.createElement(h.default,{label:"Ice Servers",arr:T}),i.default.createElement(p.default,{label:"Ice Transport Policy",obj:E}),i.default.createElement(a.default,{label:"Insights",value:C}),i.default.createElement(a.default,{label:"Max Audio Bitrate",value:O}),i.default.createElement(a.default,{label:"Max Video Bitrate",value:A}),i.default.createElement(a.default,{label:"Name",value:I}),i.default.createElement(p.default,{label:"Network Quality",obj:R}),i.default.createElement(a.default,{label:"Region",value:N}),i.default.createElement(h.default,{label:"Preferred Audio Codecs",arr:P}),i.default.createElement(h.default,{label:"Preferred Video Codecs",arr:M}),i.default.createElement(a.default,{label:"Logger Name",value:D}),i.default.createElement(v.default,{tracks:L}),i.default.createElement(p.default,{label:"Video",obj:j}))))}},88307:function(e,t,n){"use strict";var r=n(27424).default,i=n(56690).default,a=n(89728).default,o=n(61655).default,s=n(26389).default,u=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&u(t,e,n);return c(t,e),t},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoomContext=t.roomRegistry=void 0;var d=l(n(72791)),p=function(e){o(n,e);var t=s(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,[{key:"registerVideoRoom",value:function(e){this.room=e,this.emit("roomRegistered",e)}}]),n}(f(n(97143)).default);t.roomRegistry=new p,t.RoomContext=d.default.createContext(void 0),t.default=function(e){var n=e.children,i=(0,d.useState)(),a=r(i,2),o=a[0],s=a[1];return(0,d.useEffect)((function(){t.roomRegistry.room&&s(t.roomRegistry.room);var e=function(e){return s(e)};return t.roomRegistry.on("roomRegistered",e),function(){t.roomRegistry.off("roomRegistered",e)}}),[]),d.default.createElement(t.RoomContext.Provider,{value:o},n)}},37114:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoomStatsProvider=t.RoomStatsContext=t.truncateFront=void 0;var s=a(n(72791)),u=n(92002),c=n(31928),l=o(n(56365)),f=o(n(48872));t.truncateFront=function(e,t){return e.slice(Math.max(0,e.length-t),e.length)},t.RoomStatsContext=s.default.createContext(null);t.RoomStatsProvider=function(e){var n,r,i=e.children,a=(0,s.useRef)(),o=(0,s.useRef)([]),d=(0,s.useRef)([]),p=(0,f.default)(),h=(0,l.default)(p),v=a.current;a.current=h;var m=(0,u.getTotalBandwidth)("bytesReceived",h,v),g=o.current.concat({x:Date.now(),y:m});o.current=(0,t.truncateFront)(g,c.MAX_STAT_HISTORY_LENGTH);var y=(0,u.getTotalBandwidth)("bytesSent",h,v),b=d.current.concat({x:Date.now(),y:y});return d.current=(0,t.truncateFront)(b,c.MAX_STAT_HISTORY_LENGTH),s.default.createElement(t.RoomStatsContext.Provider,{value:{stats:h,previousStats:v,receivedBitrateHistory:o.current,sentBitrateHistory:d.current,currentReceivedBitrate:null===(n=o.current.slice(-1)[0])||void 0===n?void 0:n.y,currentSentBitrate:null===(r=d.current.slice(-1)[0])||void 0===r?void 0:r.y}},i)},t.default=t.RoomStatsProvider},99460:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.formatBitrate=void 0;var i=r(n(72791)),a=n(49944),o=r(n(89699)),s=n(31928),u=n(80617),c=n(31253);function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=["K","M","G"];return e<1e3?+e.toFixed(t)+" "+n[t]:l(e/1e3,t+1)}t.formatBitrate=l;var f=(0,c.buildChartTheme)({backgroundColor:"transparent",colors:["#E22525"],tickLength:2,gridColor:"#333",gridColorDark:"#333",svgLabelSmall:{strokeWidth:.2,stroke:"#ddd",fill:"#ddd"},svgLabelBig:{strokeWidth:0,fill:"#ddd"}});t.default=function(e){var t,n,r=e.data,d=e.title,p=e.yAxisLabel,h=Date.now()-s.UPDATE_INTERVAL*s.MAX_STAT_HISTORY_LENGTH+1e3,v=Math.min(null!==(t=(0,u.min)(r,(function(e){return e.x})))&&void 0!==t?t:0,h);return i.default.createElement(i.default.Fragment,null,i.default.createElement(o.default,null,d),i.default.createElement(c.XYChart,{height:275,width:465,xScale:{type:"time",domain:[v,null!==(n=(0,u.max)(r,(function(e){return e.x})))&&void 0!==n?n:0]},yScale:{type:"linear",domain:[0,Math.max(50,(0,u.max)(r,(function(e){return e.y})))]},margin:{top:10,left:65,right:0,bottom:50},theme:f},i.default.createElement(c.Grid,{columns:!1,numTicks:5,strokeDasharray:"2"}),i.default.createElement(c.Grid,{rows:!1,strokeDasharray:"2",numTicks:5}),i.default.createElement(c.Axis,{orientation:"bottom",label:"Time",numTicks:5}),i.default.createElement(c.Axis,{orientation:"left",label:p,numTicks:5,tickFormat:function(e){return l(e)},labelOffset:36}),i.default.createElement(c.LineSeries,{dataKey:"x",data:r,xAccessor:function(e){return e.x},yAccessor:function(e){return e.y},curve:a.curveMonotoneX})))}},98209:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(99460)),o=r(n(71263));t.default=function(){var e=(0,o.default)(),t=e.receivedBitrateHistory,n=e.currentReceivedBitrate;return i.default.createElement(a.default,{data:t,yAxisLabel:"Bits per second",title:"Total Bandwidth Received: ".concat(null===n||void 0===n?void 0:n.toLocaleString(),"kbps")})}},64304:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(99460)),o=r(n(71263));t.default=function(){var e=(0,o.default)(),t=e.sentBitrateHistory,n=e.currentSentBitrate;return i.default.createElement(a.default,{data:t,yAxisLabel:"Bits per second",title:"Total Bandwidth Sent: ".concat(null===n||void 0===n?void 0:n.toLocaleString(),"kbps")})}},37875:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.theme=void 0,t.theme={monitorWidth:500,textColor:"#ddd",borderColor:"#ddd",fontSizes:{small:"0.8rem"}}},44261:function(e,t,n){"use strict";var r,i,a,o=n(27424).default,s=n(59400).default,u=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&u(t,e,n);return c(t,e),t},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Accordion=t.LabelContainer=void 0;var d=l(n(72791)),p=f(n(36031)),h=n(37875),v=p.default.div(r||(r=s(["\n  width: 0;\n  height: 0;\n  border-top: 5px solid ",";\n  border-left: 5px solid transparent;\n  transform: ",";\n"])),(function(e){return e.isClickable?h.theme.textColor:"#555"}),(function(e){return e.isOpen?"rotate(135deg) translateX(-2px)":"rotate(45deg)"})),m=p.default.div(i||(i=s(["\n  padding-left: 17px;\n  margin-left: 4px;\n  border-left: 1px solid ",";\n"])),h.theme.borderColor);t.LabelContainer=p.default.div(a||(a=s(["\n  display: flex;\n  align-items: center;\n  ","\n\n  & > span {\n    margin-left: 10px;\n    font-size: ",";\n    padding: 8px 0;\n  }\n\n  &:hover {\n    background: rgba(50, 50, 50, 0.9);\n  }\n"])),(function(e){return e.isClickable&&"cursor: pointer;"}),h.theme.fontSizes.small);t.Accordion=function(e){var n=e.children,r=e.label,i=(0,d.useState)(!1),a=o(i,2),s=a[0],u=a[1],c=d.default.Children.count(n)>0;return d.default.createElement("div",null,d.default.createElement(t.LabelContainer,{onClick:function(){return c&&u((function(e){return!e}))},isClickable:c},d.default.createElement(v,{isOpen:s,isClickable:c}),d.default.createElement("span",null,r)),s&&d.default.createElement(m,null,n))}},85674:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(61776)),o=r(n(39458)),s=n(44261),u=r(n(11159));t.default=i.default.memo((function(e){var t=e.label,n=e.arr;return"undefined"===typeof n||null===n?i.default.createElement(o.default,{label:t,value:n}):0===n.length?i.default.createElement(o.default,{label:t,value:"undefined"}):i.default.createElement(s.Accordion,{label:t},n.map((function(e,t){return i.default.createElement(u.default,{key:t},i.default.createElement(a.default,{obj:e}))})))}))},39458:function(e,t,n){"use strict";var r,i=n(59400).default,a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(72791)),s=a(n(36031)),u=n(37875),c=s.default.span(r||(r=i(["\n  font-size: ",";\n"])),u.theme.fontSizes.small);t.default=o.default.memo((function(e){var t=e.label,n=e.value;return o.default.createElement("div",null,o.default.createElement(c,null,t,": ",String(n)))}))},89699:function(e,t,n){"use strict";var r,i=n(59400).default,a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(72791)),s=a(n(36031));t.default=o.default.memo(s.default.h3(r||(r=i(["\n  margin: 0.2em 0 0.5em;\n"]))))},61776:function(e,t,n){"use strict";var r=n(27424).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(72791)),o=n(44261),s=i(n(39458)),u=i(n(11159));t.default=a.default.memo((function e(t){var n=t.label,i=t.obj;if("object"!==typeof i||"undefined"===typeof i||null===i)return a.default.createElement(s.default,{label:String(n),value:i});var c=n?o.Accordion:u.default;return a.default.createElement(c,{label:n},Object.entries(i).map((function(t,n){var i=r(t,2),o=i[0],u=i[1];return"object"!==typeof u||Array.isArray(u)?a.default.createElement(s.default,{key:n,label:o,value:u}):a.default.createElement(e,{key:n,label:o,obj:u})})))}))},11159:function(e,t,n){"use strict";var r,i=n(59400).default,a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(72791)),s=a(n(36031)),u=n(37875);t.default=o.default.memo(s.default.div(r||(r=i(["\n  &:not(:last-child) {\n    border-bottom: 1px solid ",";\n    margin-bottom: 3px;\n  }\n  padding-bottom: 3px;\n\n  &:hover {\n    background: rgba(50, 50, 50, 0.9);\n  }\n"])),u.theme.borderColor))},10365:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=n(44261),o=r(n(39458)),s=r(n(16629)),u=r(n(11159)),c=r(n(64821));t.default=i.default.memo((function(e){var t=e.tracks;return"undefined"===typeof t||null===t?i.default.createElement(o.default,{label:"Tracks",value:t}):i.default.createElement(a.Accordion,{label:"Tracks"},t.map((function(e,t){if(e instanceof MediaStreamTrack)return i.default.createElement(u.default,{key:t},i.default.createElement(s.default,{track:e}));if("audio"===e.kind||"video"===e.kind){var n=e.kind,r=e.name,a=e.id,l=e.mediaStreamTrack;return i.default.createElement(u.default,{key:t},i.default.createElement(o.default,{label:"Kind",value:n}),i.default.createElement(o.default,{label:"Name",value:r}),i.default.createElement(o.default,{label:"ID",value:a}),i.default.createElement(s.default,{track:l}))}return i.default.createElement(u.default,{key:t},i.default.createElement(c.default,{track:e}))})))}))},64821:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(39458));t.default=i.default.memo((function(e){var t=e.track,n=t.kind,r=t.maxPacketLifeTime,o=t.maxRetransmits,s=t.ordered,u=t.reliable,c=void 0===t.isEnabled?{label:"ID",value:t.id}:{label:"SID",value:t.sid};return i.default.createElement(i.default.Fragment,null,i.default.createElement(a.default,{label:"Kind",value:n}),i.default.createElement(a.default,{label:c.label,value:c.value}),i.default.createElement(a.default,{label:"maxPacketLifeTime",value:r}),i.default.createElement(a.default,{label:"maxRetransmits",value:o}),i.default.createElement(a.default,{label:"Ordered",value:s}),i.default.createElement(a.default,{label:"Reliable",value:u}))}))},16629:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=r(n(60377)),o=r(n(61776));t.default=i.default.memo((function(e){var t=e.track,n=(0,a.default)(t);return i.default.createElement(o.default,{label:"Media Stream Track",obj:n})}))},31928:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_INTERVAL=t.MAX_STAT_HISTORY_LENGTH=void 0,t.MAX_STAT_HISTORY_LENGTH=240,t.UPDATE_INTERVAL=1e3},71522:function(e,t,n){"use strict";var r=n(27424).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(72791),o=i(n(48872));t.default=function(){var e=(0,o.default)(),t=(0,a.useState)((null===e||void 0===e?void 0:e.dominantSpeaker)||null),n=r(t,2),i=n[0],s=n[1];return(0,a.useEffect)((function(){if(e){var t=function(e){return s(e)};return e.on("dominantSpeakerChanged",t),function(){e.off("dominantSpeakerChanged",t)}}s(null)}),[e]),i}},91503:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(72791),i=n(37875);t.default=function(){var e=(0,r.useRef)(),t=(0,r.useRef)(),n=(0,r.useRef)({x:0,y:0});return(0,r.useEffect)((function(){var r=e.current,a=t.current;if(r&&a){var o=function(e){if(!(window.innerWidth<i.theme.monitorWidth)){var t=n.current,r=t.x,o=t.y;a.style.left="".concat(e.clientX-r,"px"),a.style.top="".concat(e.clientY-o,"px")}},s=function(e){n.current.x=e.clientX-a.offsetLeft,n.current.y=e.clientY-a.offsetTop,document.body.addEventListener("mousemove",o)},u=function(){document.body.removeEventListener("mousemove",o),n.current={x:0,y:0}};return r.addEventListener("mousedown",s),document.body.addEventListener("mouseup",u),function(){r.removeEventListener("mousedown",s),document.body.removeEventListener("mouseup",u)}}}),[]),{draggableRef:e,dragContainerRef:t}}},56365:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791),a=n(31928);t.default=function(e){var t=(0,i.useState)(),n=r(t,2),o=n[0],s=n[1];return(0,i.useEffect)((function(){var t;if(e){var n=function(){return e.getStats().then((function(e){return s(e)}))};return n(),t=window.setInterval(n,a.UPDATE_INTERVAL),function(){window.clearInterval(t)}}}),[e]),o}},18681:function(e,t,n){"use strict";var r=n(27424).default,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.withIntervalUpdate=t.useIntervalUpdate=void 0;var s=o(n(72791)),u=n(31928);function c(){var e=(0,s.useState)(0),t=r(e,2)[1],n=(0,s.useRef)();(0,s.useEffect)((function(){return n.current=window.setInterval((function(){return t((function(e){return e+1}))}),u.UPDATE_INTERVAL),function(){window.clearInterval(n.current)}}),[])}t.useIntervalUpdate=c,t.withIntervalUpdate=function(e){return function(t){return c(),s.default.createElement(e,Object.assign({},t))}}},13990:function(e,t,n){"use strict";var r=n(27424).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(72791),o=i(n(48872));t.default=function(){var e=(0,o.default)(),t=(0,a.useState)((null===e||void 0===e?void 0:e.isRecording)||!1),n=r(t,2),i=n[0],s=n[1];return(0,a.useEffect)((function(){if(e){s(e.isRecording);var t=function(){return s(!0)},n=function(){return s(!1)};return e.on("recordingStarted",t),e.on("recordingStopped",n),function(){e.off("recordingStarted",t),e.off("recordingStopped",n)}}s(!1)}),[e]),i}},41280:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(!!e&&e.isEnabled),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){if(o(!!e&&e.isEnabled),e){var t=function(){return o(!0)},n=function(){return o(!1)};return e.on("enabled",t),e.on("disabled",n),function(){e.off("enabled",t),e.off("disabled",n)}}}),[e]),a}},44003:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(e&&e.isSwitchedOff),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){if(o(e&&e.isSwitchedOff),e){var t=function(){return o(!0)},n=function(){return o(!1)};return e.on("switchedOff",t),e.on("switchedOn",n),function(){e.off("switchedOff",t),e.off("switchedOn",n)}}}),[e]),!!a}},60377:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(null===e||void 0===e?void 0:e.muted),n=r(t,2),a=n[0],o=n[1],s=(0,i.useState)(null===e||void 0===e?void 0:e.readyState),u=r(s,2),c=u[0],l=u[1];return(0,i.useEffect)((function(){if(o(null===e||void 0===e?void 0:e.muted),l(null===e||void 0===e?void 0:e.readyState),e){var t=function(){return o(null===e||void 0===e?void 0:e.muted)},n=function(){return l(null===e||void 0===e?void 0:e.readyState)};return e.addEventListener("mute",t),e.addEventListener("unmute",t),e.addEventListener("ended",n),function(){e.removeEventListener("mute",t),e.removeEventListener("unmute",t),e.removeEventListener("ended",n)}}}),[e]),{muted:a,readyState:c,id:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.label,kind:null===e||void 0===e?void 0:e.kind}}},76816:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(null===e||void 0===e?void 0:e.mediaStreamTrack),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){if(o(null===e||void 0===e?void 0:e.mediaStreamTrack),e){var t=function(){return o(e.mediaStreamTrack)};return e.on("started",t),function(){e.off("started",t)}}}),[e]),a}},13784:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(!1),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){var t=function(){return o(!0)},n=function(){return o(!1)};return n(),e.on("reconnecting",t),e.on("reconnected",n),function(){e.off("reconnecting",t),e.off("reconnected",n)}}),[e]),a}},20535:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(e.networkQualityLevel),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){var t=function(e){return o(e)};return o(e.networkQualityLevel),e.on("networkQualityLevelChanged",t),function(){e.off("networkQualityLevelChanged",t)}}),[e]),a}},23853:function(e,t,n){"use strict";var r=n(861).default,i=n(27424).default,a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(72791),s=a(n(48872));t.default=function(){var e=(0,s.default)(),t=(0,o.useState)(e?Array.from(e.participants.values()):[]),n=i(t,2),a=n[0],u=n[1];return(0,o.useEffect)((function(){if(e){u(Array.from(e.participants.values()));var t=function(e){return u((function(t){return[].concat(r(t),[e])}))},n=function(e){return u((function(t){return t.filter((function(t){return t!==e}))}))};return e.on("participantConnected",t),e.on("participantDisconnected",n),function(){e.off("participantConnected",t),e.off("participantDisconnected",n)}}}),[e]),a}},89973:function(e,t,n){"use strict";var r=n(861).default,i=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var a=n(72791),o=n(31928);t.default=function(e,t){var n=(0,a.useState)([]),s=i(n,2),u=s[0],c=s[1],l=(0,a.useRef)();return(0,a.useEffect)((function(){if(t)return l.current=window.setInterval((function(){var t=Array.from(e.tracks.values());c((function(e){return n=t,e.map((function(e){return e.trackSid})).sort().join("")===n.map((function(e){return e.trackSid})).sort().join("")?e:t;var n}))}),o.UPDATE_INTERVAL),function(){window.clearInterval(l.current)}}),[e,t]),(0,a.useEffect)((function(){c(Array.from(e.tracks.values()));var t=function(e){return c((function(t){return[].concat(r(t),[e])}))},n=function(e){return c((function(t){return t.filter((function(t){return t!==e}))}))};return e.on("trackPublished",t),e.on("trackUnpublished",n),function(){e.off("trackPublished",t),e.off("trackUnpublished",n)}}),[e]),u}},83749:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(e.publishPriority),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){o(e.publishPriority);var t=function(e){return o(e)};return e.on("publishPriorityChanged",t),function(){e.off("publishPriorityChanged",t)}}),[e]),a}},70907:function(e,t,n){"use strict";var r=n(27424).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(72791),o=i(n(48872));t.default=function(){var e=(0,o.default)(),t=(0,a.useState)("disconnected"),n=r(t,2),i=n[0],s=n[1];return(0,a.useEffect)((function(){if(e){var t=function(){return s(e.state||"disconnected")};return t(),e.on("disconnected",t).on("reconnected",t).on("reconnecting",t),function(){e.off("disconnected",t).off("reconnected",t).off("reconnecting",t)}}s("disconnected")}),[e]),i}},48872:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(72791),i=n(88307);t.default=function(){return(0,r.useContext)(i.RoomContext)}},71263:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72791)),a=n(37114);t.default=function(){return i.default.useContext(a.RoomStatsContext)}},92002:function(e,t,n){"use strict";var r=n(861).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useTrackData=t.getTotalBandwidth=t.useTrackBandwidth=t.round=t.getActiveTrackData=t.getTrackData=t.getAllTracks=t.getAllStats=void 0;var a=n(80617),o=i(n(71263));function s(e){return e.reduce((function(e,t){return{localAudioTrackStats:[].concat(r(e.localAudioTrackStats),r(t.localAudioTrackStats)),localVideoTrackStats:[].concat(r(e.localVideoTrackStats),r(t.localVideoTrackStats)),remoteAudioTrackStats:[].concat(r(e.remoteAudioTrackStats),r(t.remoteAudioTrackStats)),remoteVideoTrackStats:[].concat(r(e.remoteVideoTrackStats),r(t.remoteVideoTrackStats)),peerConnectionId:""}}),{localAudioTrackStats:[],localVideoTrackStats:[],remoteAudioTrackStats:[],remoteVideoTrackStats:[],peerConnectionId:""})}function u(e){var t=s(e),n=t.localAudioTrackStats,i=t.localVideoTrackStats,a=t.remoteAudioTrackStats,o=t.remoteVideoTrackStats;return[].concat(r(n),r(i),r(a),r(o))}function c(e,t){return u(t).filter((function(t){return t.trackSid===e}))}function l(e,t,n){var r=c(n,e);return c(n,t).filter((function(e){var t=r.find((function(t){return t.ssrc===e.ssrc}));return e.bytesSent!==(null===t||void 0===t?void 0:t.bytesSent)}))}t.getAllStats=s,t.getAllTracks=u,t.getTrackData=c,t.getActiveTrackData=l;t.round=function(e){return Math.round(10*(e+Number.EPSILON))/10},t.useTrackBandwidth=function(e){var n,r,i=(0,o.default)(),s=i.stats,u=i.previousStats;if(!s||!u)return null;var l=c(e,s),f=c(e,u);if(0===l.length||0===f.length)return null;var d=(0,a.sum)(l.map((function(e){var t,n;return null!==(n=null!==(t=e.bytesReceived)&&void 0!==t?t:e.bytesSent)&&void 0!==n?n:0}))),p=(0,a.sum)(f.map((function(e){var t,n;return null!==(n=null!==(t=e.bytesReceived)&&void 0!==t?t:e.bytesSent)&&void 0!==n?n:0}))),h=null===(n=l[0])||void 0===n?void 0:n.timestamp,v=null===(r=f[0])||void 0===r?void 0:r.timestamp;return 8*(0,t.round)((d-p)/(h-v))},t.getTotalBandwidth=function(e,n,r){if(!n||!r)return null;var i=u(n).filter((function(t){return"undefined"!==typeof t[e]})),o=u(r).filter((function(t){return"undefined"!==typeof t[e]})),s=i.map((function(t){var n,r,i=o.find((function(e){return e.ssrc===t.ssrc}));if(!i)return null;var a=null!==(n=t[e])&&void 0!==n?n:null,s=null!==(r=i[e])&&void 0!==r?r:null;return null!==a&&null!==s?(a-s)/(t.timestamp-i.timestamp)*8:null})).filter((function(e){return null!==e})).filter((function(e){return e>=0}));return(0,t.round)((0,a.sum)(s))},t.useTrackData=function(e){var t=(0,o.default)(),n=t.stats,r=t.previousStats;return n&&r?l(r,n,e)[0]:null}},333:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(e&&e.track),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){if(o(e&&e.track),e){var t=function(){return o(null)};return e.on("subscribed",o),e.on("unsubscribed",t),function(){e.off("subscribed",o),e.off("unsubscribed",t)}}}),[e]),a}},85877:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(e){var t=(0,i.useState)(null===e||void 0===e?void 0:e.dimensions),n=r(t,2),a=n[0],o=n[1];return(0,i.useEffect)((function(){if(o(null===e||void 0===e?void 0:e.dimensions),e){var t=function(e){return o({width:e.dimensions.width,height:e.dimensions.height})};return e.on("dimensionsChanged",t),function(){e.off("dimensionsChanged",t)}}}),[e]),a}},60763:function(e,t,n){"use strict";var r=n(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var i=n(72791);t.default=function(){var e,t,n=(0,i.useState)({height:window.innerHeight*((null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1),width:window.innerWidth*((null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1)}),a=r(n,2),o=a[0],s=a[1];return(0,i.useEffect)((function(){var e=function(){var e,t;s({height:window.innerHeight*((null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1),width:window.innerWidth*((null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1)})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}})),o}},68022:function(e,t,n){"use strict";var r=n(56690).default,i=n(89728).default,a=n(61655).default,o=n(26389).default,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoRoomMonitor=void 0;var u=s(n(72791)),c=s(n(54164)),l=s(n(5937)),f=s(n(97143)),d=n(88307),p=function(e){a(n,e);var t=o(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"isOpen",get:function(){return Boolean(this.container)}},{key:"openMonitor",value:function(){if(!this.container){var e=document.createElement("div");document.body.appendChild(e),e.id="TwilioVideoRoomMonitorContainer",c.default.render(u.default.createElement(l.default,null),e),this.container=e,this.emit("opened")}}},{key:"closeMonitor",value:function(){this.container&&(c.default.unmountComponentAtNode(this.container),this.container.remove(),this.container=void 0,this.emit("closed"))}},{key:"toggleMonitor",value:function(){this.isOpen?this.closeMonitor():this.openMonitor()}},{key:"registerVideoRoom",value:function(e){d.roomRegistry.registerVideoRoom(e)}}]),n}(f.default);t.VideoRoomMonitor=new p,"browser"==={NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.PARCEL_TARGET&&(window.Twilio=window.Twilio||{},window.Twilio.VideoRoomMonitor=t.VideoRoomMonitor)},36388:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(52007),i=n.n(r),a=n(72791),o=n(99648);function s(e){var t=e.x,n=e.y,r=e.dx,i=e.dy,s=e.children;return a.createElement(o.Z.Provider,{value:{x:t,y:n,dx:r,dy:i}},s)}s.propTypes={children:i().node.isRequired}},68974:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(52007),i=n.n(r),a=n(72791),o=n(1803),s=n(36388);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}var c={r:10,fill:"transparent",stroke:"#777",strokeDasharray:"4,2",strokeWidth:2};function l(e){var t=e.canEditLabel,n=void 0===t||t,r=e.canEditSubject,i=void 0===r||r,l=e.children,f=e.dx,d=void 0===f?0:f,p=e.dy,h=void 0===p?0:p,v=e.height,m=e.labelDragHandleProps,g=e.onDragEnd,y=e.onDragMove,b=e.onDragStart,x=e.subjectDragHandleProps,k=e.width,w=e.x,_=void 0===w?0:w,S=e.y,T=void 0===S?0:S,E=(0,a.useRef)(),C=(0,a.useRef)(),O=(0,a.useCallback)((function(e){var t,n,r,i,a,o,s,u,c=e.event;b&&b({event:c,x:_+(null!=(t=null==(n=E.current)?void 0:n.dx)?t:0),y:T+(null!=(r=null==(i=E.current)?void 0:i.dy)?r:0),dx:d+(null!=(a=null==(o=C.current)?void 0:o.dx)?a:0),dy:h+(null!=(s=null==(u=C.current)?void 0:u.dy)?s:0)})}),[d,h,b,_,T]),A=(0,a.useCallback)((function(e){var t,n,r,i,a,o,s,u,c=e.event;y&&y({event:c,x:_+(null!=(t=null==(n=E.current)?void 0:n.dx)?t:0),y:T+(null!=(r=null==(i=E.current)?void 0:i.dy)?r:0),dx:d+(null!=(a=null==(o=C.current)?void 0:o.dx)?a:0),dy:h+(null!=(s=null==(u=C.current)?void 0:u.dy)?s:0)})}),[d,h,y,_,T]),I=(0,a.useCallback)((function(e){var t,n,r,i,a,o,s,u,c=e.event;g&&g({event:c,x:_+(null!=(t=null==(n=E.current)?void 0:n.dx)?t:0),y:T+(null!=(r=null==(i=E.current)?void 0:i.dy)?r:0),dx:d+(null!=(a=null==(o=C.current)?void 0:o.dx)?a:0),dy:h+(null!=(s=null==(u=C.current)?void 0:u.dy)?s:0)})}),[d,h,g,_,T]),R=(0,o.Z)({onDragStart:O,onDragMove:A,onDragEnd:I,x:_,y:T}),N=(0,o.Z)({onDragStart:O,onDragMove:A,onDragEnd:I,x:d,y:h});return E.current=R,C.current=N,a.createElement(a.Fragment,null,a.createElement(s.Z,{x:_+R.dx,y:T+R.dy,dx:d+N.dx,dy:h+N.dy},l),R.isDragging&&a.createElement("rect",{width:k,height:v,onMouseMove:R.dragMove,onMouseUp:R.dragEnd,fill:"transparent"}),i&&a.createElement("circle",u({cx:_,cy:T,transform:"translate("+R.dx+","+R.dy+")",onMouseMove:R.dragMove,onMouseUp:R.dragEnd,onMouseDown:R.dragStart,onTouchStart:R.dragStart,onTouchMove:R.dragMove,onTouchEnd:R.dragEnd,cursor:R.isDragging?"grabbing":"grab"},c,x)),N.isDragging&&a.createElement("rect",{width:k,height:v,onMouseMove:N.dragMove,onMouseUp:N.dragEnd,fill:"transparent"}),n&&a.createElement("circle",u({cx:_+R.dx+d,cy:T+R.dy+h,transform:"translate("+N.dx+","+N.dy+")",onMouseMove:N.dragMove,onMouseUp:N.dragEnd,onMouseDown:N.dragStart,onTouchStart:N.dragStart,onTouchMove:N.dragMove,onTouchEnd:N.dragEnd,cursor:N.isDragging?"grabbing":"grab"},c,m)))}l.propTypes={width:i().number.isRequired,height:i().number.isRequired,children:i().node.isRequired,canEditLabel:i().bool,canEditSubject:i().bool,onDragStart:i().func,onDragMove:i().func,onDragEnd:i().func}},99648:function(e,t,n){"use strict";var r=(0,n(72791).createContext)({});t.Z=r},99069:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.children,n=void 0===t?s.default:t,p=e.axisClassName,v=e.hideAxisLine,m=void 0!==v&&v,g=e.hideTicks,y=void 0!==g&&g,b=e.hideZero,x=void 0!==b&&b,k=e.left,w=void 0===k?0:k,_=e.numTicks,S=void 0===_?10:_,T=e.orientation,E=void 0===T?f.default.bottom:T,C=e.rangePadding,O=void 0===C?0:C,A=e.scale,I=e.tickFormat,R=e.tickLength,N=void 0===R?8:R,P=e.tickValues,M=e.top,D=void 0===M?0:M,L=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,d),j=null!=I?I:(0,c.default)(A),F=E===f.default.left,Z=E===f.default.top,B=Z||E===f.default.bottom,U=(0,u.default)(A),V=F||Z?-1:1,z=A.range(),W=(0,l.default)({x:Number(z[0])+.5-O,y:0},B),H=(0,l.default)({x:Number(z[z.length-1])+.5+O,y:0},B),G=(null!=P?P:(0,o.getTicks)(A,S)).filter((function(e){return!x||0!==e&&"0"!==e})).map((function(e,t){return{value:e,index:t}})),q=G.map((function(e){var t=e.value,n=e.index,r=(0,o.coerceNumber)(U(t));return{value:t,index:n,from:(0,l.default)({x:r,y:0},B),to:(0,l.default)({x:r,y:N*V},B),formattedValue:j(t,n,G)}}));return r.default.createElement(a.Group,{className:(0,i.default)("visx-axis",p),top:D,left:w},n(h({},L,{axisFromPoint:W,axisToPoint:H,hideAxisLine:m,hideTicks:y,hideZero:x,horizontal:B,numTicks:S,orientation:E,rangePadding:O,scale:A,tickFormat:j,tickLength:N,tickPosition:U,tickSign:V,ticks:q})))};p(n(52007));var r=p(n(72791)),i=p(n(81694)),a=n(4791),o=n(10759),s=p(n(8337)),u=p(n(11622)),c=p(n(14765)),l=p(n(12823)),f=p(n(43054)),d=["children","axisClassName","hideAxisLine","hideTicks","hideZero","left","numTicks","orientation","rangePadding","scale","tickFormat","tickLength","tickValues","top"];function p(e){return e&&e.__esModule?e:{default:e}}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}},51035:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.axisClassName,n=e.labelOffset,u=void 0===n?8:n,f=e.tickLabelProps,d=void 0===f?l:f,p=e.tickLength,h=void 0===p?8:p,v=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s);return r.default.createElement(a.default,c({axisClassName:(0,i.default)("visx-axis-bottom",t),labelOffset:u,orientation:o.default.bottom,tickLabelProps:d,tickLength:h},v))},t.bottomTickLabelProps=void 0;var r=u(n(72791)),i=u(n(81694)),a=u(n(99069)),o=u(n(43054)),s=["axisClassName","labelOffset","tickLabelProps","tickLength"];function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l=function(){return{dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"middle"}};t.bottomTickLabelProps=l},48461:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.axisClassName,n=e.labelOffset,u=void 0===n?36:n,f=e.tickLabelProps,d=void 0===f?l:f,p=e.tickLength,h=void 0===p?8:p,v=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s);return r.default.createElement(a.default,c({axisClassName:(0,i.default)("visx-axis-left",t),labelOffset:u,orientation:o.default.left,tickLabelProps:d,tickLength:h},v))},t.leftTickLabelProps=void 0;var r=u(n(72791)),i=u(n(81694)),a=u(n(99069)),o=u(n(43054)),s=["axisClassName","labelOffset","tickLabelProps","tickLength"];function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l=function(){return{dx:"-0.25em",dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"end"}};t.leftTickLabelProps=l},8337:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.axisFromPoint,n=e.axisLineClassName,l=e.axisToPoint,p=e.hideAxisLine,h=e.hideTicks,v=e.horizontal,m=e.label,g=void 0===m?"":m,y=e.labelClassName,b=e.labelOffset,x=void 0===b?14:b,k=e.labelProps,w=void 0===k?d:k,_=e.orientation,S=void 0===_?c.Orientation.bottom:_,T=e.scale,E=e.stroke,C=void 0===E?"#222":E,O=e.strokeDasharray,A=e.strokeWidth,I=void 0===A?1:A,R=e.tickClassName,N=e.tickComponent,P=e.tickLineProps,M=e.tickLabelProps,D=void 0===M?function(){return d}:M,L=e.tickLength,j=void 0===L?8:L,F=e.tickStroke,Z=void 0===F?"#222":F,B=e.tickTransform,U=e.ticks,V=e.ticksComponent,z=void 0===V?u.default:V,W=U.map((function(e){var t=e.value,n=e.index;return D(t,n,U)})),H=Math.max.apply(Math,[10].concat(W.map((function(e){return"number"===typeof e.fontSize?e.fontSize:0}))));return r.default.createElement(r.default.Fragment,null,z({hideTicks:h,horizontal:v,orientation:S,scale:T,tickClassName:R,tickComponent:N,tickLabelProps:W,tickStroke:Z,tickTransform:B,ticks:U,strokeWidth:I,tickLineProps:P}),!p&&r.default.createElement(a.Line,{className:(0,i.default)("visx-axis-line",n),from:t,to:l,stroke:C,strokeWidth:I,strokeDasharray:O}),g&&r.default.createElement(o.Text,f({className:(0,i.default)("visx-axis-label",y)},(0,s.default)({labelOffset:x,labelProps:w,orientation:S,range:T.range(),tickLabelFontSize:H,tickLength:j}),w),g))};var r=l(n(72791)),i=l(n(81694)),a=n(54471),o=n(12755),s=l(n(14438)),u=l(n(68040)),c=n(6517);function l(e){return e&&e.__esModule?e:{default:e}}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}var d={textAnchor:"middle",fontFamily:"Arial",fontSize:10,fill:"#222"}},10178:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.axisClassName,n=e.labelOffset,u=void 0===n?36:n,f=e.tickLabelProps,d=void 0===f?l:f,p=e.tickLength,h=void 0===p?8:p,v=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s);return r.default.createElement(a.default,c({axisClassName:(0,i.default)("visx-axis-right",t),labelOffset:u,orientation:o.default.right,tickLabelProps:d,tickLength:h},v))},t.rightTickLabelProps=void 0;var r=u(n(72791)),i=u(n(81694)),a=u(n(99069)),o=u(n(43054)),s=["axisClassName","labelOffset","tickLabelProps","tickLength"];function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l=function(){return{dx:"0.25em",dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"start"}};t.rightTickLabelProps=l},58184:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.axisClassName,n=e.labelOffset,u=void 0===n?8:n,f=e.tickLabelProps,d=void 0===f?l:f,p=e.tickLength,h=void 0===p?8:p,v=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s);return r.default.createElement(a.default,c({axisClassName:(0,i.default)("visx-axis-top",t),labelOffset:u,orientation:o.default.top,tickLabelProps:d,tickLength:h},v))},t.topTickLabelProps=void 0;var r=u(n(72791)),i=u(n(81694)),a=u(n(99069)),o=u(n(43054)),s=["axisClassName","labelOffset","tickLabelProps","tickLength"];function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l=function(){return{dy:"-0.75em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"middle"}};t.topTickLabelProps=l},68040:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.hideTicks,n=e.horizontal,c=e.orientation,f=e.tickClassName,d=e.tickComponent,p=e.tickLabelProps,h=e.tickStroke,v=void 0===h?"#222":h,m=e.tickTransform,g=e.ticks,y=e.strokeWidth,b=e.tickLineProps;return g.map((function(e){var h,g=e.value,x=e.index,k=e.from,w=e.to,_=e.formattedValue,S=null!=(h=p[x])?h:{},T=Math.max(10,"number"===typeof S.fontSize&&S.fontSize||0),E=w.y+(n&&c!==u.default.top?T:0);return r.default.createElement(o.Group,{key:"visx-tick-"+g+"-"+x,className:(0,i.default)("visx-axis-tick",f),transform:m},!t&&r.default.createElement(a.Line,l({from:k,to:w,stroke:v,strokeWidth:y,strokeLinecap:"square"},b)),d?d(l({},S,{x:w.x,y:E,formattedValue:_})):r.default.createElement(s.Text,l({x:w.x,y:E},S),_))}))};var r=c(n(72791)),i=c(n(81694)),a=n(54471),o=n(4791),s=n(12755),u=c(n(43054));function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}},43054:function(e,t){"use strict";t.__esModule=!0,t.default=void 0;var n={top:"top",left:"left",right:"right",bottom:"bottom"};t.default=n},6517:function(e,t,n){"use strict";t.__esModule=!0;var r={Axis:!0,AxisLeft:!0,AxisRight:!0,AxisTop:!0,AxisBottom:!0,Orientation:!0};t.Orientation=t.AxisBottom=t.AxisTop=t.AxisRight=t.AxisLeft=t.Axis=void 0;var i=f(n(99069));t.Axis=i.default;var a=f(n(48461));t.AxisLeft=a.default;var o=f(n(10178));t.AxisRight=o.default;var s=f(n(58184));t.AxisTop=s.default;var u=f(n(51035));t.AxisBottom=u.default;var c=f(n(43054));t.Orientation=c.default;var l=n(57653);function f(e){return e&&e.__esModule?e:{default:e}}Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===l[e]||(t[e]=l[e]))}))},57653:function(e,t){"use strict";t.__esModule=!0},12823:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=e.x,i=e.y;return new r.Point(t?{x:n,y:i}:{x:i,y:n})};var r=n(8274)},14438:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t,n,r,a=e.labelOffset,o=e.labelProps,s=e.orientation,u=e.range,c=e.tickLabelFontSize,l=e.tickLength,f=s===i.default.left||s===i.default.top?-1:1;if(s===i.default.top||s===i.default.bottom){var d=s===i.default.bottom&&"number"===typeof o.fontSize?o.fontSize:0;t=(Number(u[0])+Number(u[u.length-1]))/2,n=f*(l+a+c+d)}else t=f*((Number(u[0])+Number(u[u.length-1]))/2),n=-(l+a),r="rotate("+90*f+")";return{x:t,y:n,transform:r}};var r,i=(r=n(43054))&&r.__esModule?r:{default:r}},14765:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e;if("tickFormat"in t)return t.tickFormat();return r.toString};var r=n(10759)},11622:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){void 0===t&&(t="center");var n=e;if("start"!==t&&"bandwidth"in n){var r=n.bandwidth();return"center"===t&&(r/=2),n.round()&&(r=Math.round(r)),function(e){var t=n(e);return"number"===typeof t?t+r:t}}return e}},49944:function(e,t,n){"use strict";n.r(t),n.d(t,{curveBasis:function(){return r.ZP},curveBasisClosed:function(){return i.Z},curveBasisOpen:function(){return a.Z},curveBundle:function(){return s.Z},curveCardinal:function(){return l.ZP},curveCardinalClosed:function(){return f.Z},curveCardinalOpen:function(){return d.Z},curveCatmullRom:function(){return p.Z},curveCatmullRomClosed:function(){return h.Z},curveCatmullRomOpen:function(){return v.Z},curveLinear:function(){return u.Z},curveLinearClosed:function(){return c.Z},curveMonotoneX:function(){return m.Z},curveMonotoneY:function(){return m.s},curveNatural:function(){return g.Z},curveStep:function(){return o.ZP},curveStepAfter:function(){return o.cD},curveStepBefore:function(){return o.RN}});var r=n(76314),i=n(6066),a=n(54404),o=n(19943),s=n(4493),u=n(38146),c=n(19199),l=n(21804),f=n(43328),d=n(27273),p=n(8147),h=n(6449),v=n(92314),m=n(55856),g=n(41828)},1803:function(e,t,n){"use strict";t.Z=function(e){var t=void 0===e?{}:e,n=t.resetOnStart,c=void 0!==n&&n,f=t.snapToPointer,d=void 0===f||f,p=t.onDragEnd,h=t.onDragMove,v=t.onDragStart,m=t.x,g=t.y,y=t.dx,b=t.dy,x=t.isDragging,k=t.restrict,w=void 0===k?{}:k,_=t.restrictToPath,S=(0,r.useRef)({x:m,y:g,dx:y,dy:b}),T=(0,o.default)({x:m,y:g,dx:null!=y?y:0,dy:null!=b?b:0,isDragging:!1}),E=T[0],C=T[1],O=(0,r.useState)(new i.Point({x:0,y:0})),A=O[0],I=O[1];(0,r.useEffect)((function(){S.current.x===m&&S.current.y===g&&S.current.dx===y&&S.current.dy===b||(S.current={x:m,y:g,dx:y,dy:b},C((function(e){return l({},e,{x:m,y:g,dx:null!=y?y:0,dy:null!=b?b:0})})))})),(0,r.useEffect)((function(){void 0!==x&&E.isDragging!==x&&C((function(e){return l({},e,{isDragging:x})}))}),[E.isDragging,x,C]);var R=(0,u.default)(_),N=(0,r.useCallback)((function(e){e.persist(),C((function(t){var n=t.x,r=void 0===n?0:n,o=t.y,u=void 0===o?0:o,l=t.dx,f=t.dy,p=new i.Point({x:(r||0)+l,y:(u||0)+f}),h=(0,a.localPoint)(e)||new i.Point({x:0,y:0}),v=d?h:p,m=(0,s.default)(v,R,w);return I((0,i.subtractPoints)(p,h)),{isDragging:!0,dx:c?0:t.dx,dy:c?0:t.dy,x:c?m.x:m.x-t.dx,y:c?m.y:m.y-t.dy}}),v&&function(t){v(l({},t,{event:e}))})}),[v,c,w,R,C,d]),P=(0,r.useCallback)((function(e){e.persist(),C((function(t){if(!t.isDragging)return t;var n=t.x,r=void 0===n?0:n,o=t.y,u=void 0===o?0:o,c=(0,a.localPoint)(e)||new i.Point({x:0,y:0}),f=d?c:(0,i.sumPoints)(c,A),p=(0,s.default)(f,R,w);return l({},t,{dx:p.x-r,dy:p.y-u})}),h&&function(t){t.isDragging&&h(l({},t,{event:e}))})}),[C,h,d,A,R,w]),M=(0,r.useCallback)((function(e){e.persist(),C((function(e){return l({},e,{isDragging:!1})}),p&&function(t){p(l({},t,{event:e}))})}),[p,C]);return l({},E,{dragEnd:M,dragMove:P,dragStart:N})};var r=n(72791),i=n(8274),a=n(84042),o=c(n(71175)),s=c(n(49117)),u=c(n(88432));function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}},50314:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,n){return Math.min(Math.max(e,t),n)}},17589:function(e,t){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.__esModule=!0,t.default=function(e,t){for(var r,i=e,a=1/0,o=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t);!(r=o()).done;){var s=r.value,u=Math.sqrt(Math.pow(s.x-e.x,2)+Math.pow(s.y-e.y,2));u<a&&(a=u,i={x:s.x,y:s.y})}return i}},49117:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){var a,o,s,u;void 0===n&&(n={});if(t.length>0)return(0,i.default)(e,t);return{x:(0,r.default)(e.x,null!=(a=n.xMin)?a:-1/0,null!=(o=n.xMax)?o:1/0),y:(0,r.default)(e.y,null!=(s=n.yMin)?s:-1/0,null!=(u=n.yMax)?u:1/0)}};var r=a(n(50314)),i=a(n(17589));function a(e){return e&&e.__esModule?e:{default:e}}},88432:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,r.useMemo)((function(){if(!e)return[];var t=e.getCTM()||new DOMMatrix;return function(e,t,n){void 0===n&&(n=1);if(!e)return[];for(var r=[],i=e.getTotalLength(),a=0;a<=i;a+=n){var o=e.getPointAtLength(a).matrixTransform(t);r.push(o)}return r}(e,t)}),[null==e?void 0:e.getTotalLength()])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(72791));function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}},71175:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,r.useState)(e),n=t[0],i=t[1],a=(0,r.useRef)(null),o=(0,r.useCallback)((function(e,t){a.current=t||null,i(e)}),[i]);return(0,r.useLayoutEffect)((function(){a.current&&(a.current(n),a.current=null)}),[n]),[n,o]};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(72791));function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}},84042:function(e,t,n){"use strict";n.r(t),n.d(t,{localPoint:function(){return r.Z},touchPoint:function(){return i.Z}});var r=n(21829),i=n(4414)},21829:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(4414),i=n(10451);function a(e,t){if((0,i.kK)(e)&&t)return(0,r.Z)(e,t);if((0,i.cO)(e)){var n=e,a=n.target;if(a)return(0,r.Z)(a,n)}return null}},4414:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(59409),i=n(10451);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var o={x:0,y:0};function s(e,t){if(!e||!t)return null;var n=function(e){if(!e)return a({},o);if((0,i.z6)(e))return e.changedTouches.length>0?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:a({},o);if((0,i.N5)(e))return{x:e.clientX,y:e.clientY};var t=null==e?void 0:e.target,n=t&&"getBoundingClientRect"in t?t.getBoundingClientRect():null;return n?{x:n.x+n.width/2,y:n.y+n.height/2}:a({},o)}(t),s=(0,i.vZ)(e)?e.ownerSVGElement:e,u=(0,i.DY)(s)?s.getScreenCTM():null;if((0,i.r4)(s)&&u){var c=s.createSVGPoint();return c.x=n.x,c.y=n.y,c=c.matrixTransform(u.inverse()),new r.Z({x:c.x,y:c.y})}var l=e.getBoundingClientRect();return new r.Z({x:n.x-l.left-e.clientLeft,y:n.y-l.top-e.clientTop})}},10451:function(e,t,n){"use strict";function r(e){return!!e&&e instanceof Element}function i(e){return!!e&&(e instanceof SVGElement||"ownerSVGElement"in e)}function a(e){return!!e&&"createSVGPoint"in e}function o(e){return!!e&&"getScreenCTM"in e}function s(e){return!!e&&"changedTouches"in e}function u(e){return!!e&&"clientX"in e}function c(e){return!!e&&(e instanceof Event||"nativeEvent"in e&&e.nativeEvent instanceof Event)}n.d(t,{DY:function(){return o},N5:function(){return u},cO:function(){return c},kK:function(){return r},r4:function(){return a},vZ:function(){return i},z6:function(){return s}})},71172:function(e,t,n){"use strict";t.__esModule=!0,t.default=h;var r=d(n(52007)),i=d(n(72791)),a=d(n(81694)),o=d(n(89770)),s=n(4791),u=n(8274),c=n(10759),l=d(n(50655)),f=["top","left","scale","height","stroke","strokeWidth","strokeDasharray","className","numTicks","lineStyle","offset","tickValues","children"];function d(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function h(e){var t=e.top,n=void 0===t?0:t,r=e.left,d=void 0===r?0:r,h=e.scale,v=e.height,m=e.stroke,g=void 0===m?"#eaf0f6":m,y=e.strokeWidth,b=void 0===y?1:y,x=e.strokeDasharray,k=e.className,w=e.numTicks,_=void 0===w?10:w,S=e.lineStyle,T=e.offset,E=e.tickValues,C=e.children,O=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,f),A=null!=E?E:(0,c.getTicks)(h,_),I=(null!=T?T:0)+(0,l.default)(h)/2,R=A.map((function(e,t){var n,r=(null!=(n=(0,c.coerceNumber)(h(e)))?n:0)+I;return{index:t,from:new u.Point({x:r,y:0}),to:new u.Point({x:r,y:v})}}));return i.default.createElement(s.Group,{className:(0,a.default)("visx-columns",k),top:n,left:d},C?C({lines:R}):R.map((function(e){var t=e.from,n=e.to,r=e.index;return i.default.createElement(o.default,p({key:"column-line-"+r,from:t,to:n,stroke:g,strokeWidth:b,strokeDasharray:x,style:S},O))})))}h.propTypes={tickValues:r.default.array,height:r.default.number.isRequired}},87459:function(e,t,n){"use strict";t.__esModule=!0,t.default=h;var r=d(n(52007)),i=d(n(72791)),a=d(n(81694)),o=d(n(89770)),s=n(4791),u=n(8274),c=n(10759),l=d(n(50655)),f=["top","left","scale","width","stroke","strokeWidth","strokeDasharray","className","children","numTicks","lineStyle","offset","tickValues"];function d(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function h(e){var t=e.top,n=void 0===t?0:t,r=e.left,d=void 0===r?0:r,h=e.scale,v=e.width,m=e.stroke,g=void 0===m?"#eaf0f6":m,y=e.strokeWidth,b=void 0===y?1:y,x=e.strokeDasharray,k=e.className,w=e.children,_=e.numTicks,S=void 0===_?10:_,T=e.lineStyle,E=e.offset,C=e.tickValues,O=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,f),A=null!=C?C:(0,c.getTicks)(h,S),I=(null!=E?E:0)+(0,l.default)(h)/2,R=A.map((function(e,t){var n,r=(null!=(n=(0,c.coerceNumber)(h(e)))?n:0)+I;return{index:t,from:new u.Point({x:0,y:r}),to:new u.Point({x:v,y:r})}}));return i.default.createElement(s.Group,{className:(0,a.default)("visx-rows",k),top:n,left:d},w?w({lines:R}):R.map((function(e){var t=e.from,n=e.to,r=e.index;return i.default.createElement(o.default,p({key:"row-line-"+r,from:t,to:n,stroke:g,strokeWidth:b,strokeDasharray:x,style:T},O))})))}h.propTypes={tickValues:r.default.array,width:r.default.number.isRequired}},50655:function(e,t){"use strict";t.__esModule=!0,t.default=function(e){return"bandwidth"in e?e.bandwidth():0}},67743:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(52007),i=n.n(r),a=n(72791),o=n(81694),s=n.n(o),u=["top","left","transform","className","children","innerRef"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e){var t=e.top,n=void 0===t?0:t,r=e.left,i=void 0===r?0:r,o=e.transform,l=e.className,f=e.children,d=e.innerRef,p=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,u);return a.createElement("g",c({ref:d,className:s()("visx-group",l),transform:o||"translate("+i+", "+n+")"},p),f)}l.propTypes={top:i().number,left:i().number,transform:i().string,className:i().string,children:i().node,innerRef:i().oneOfType([i().string,i().func,i().object])}},4791:function(e,t,n){"use strict";n.r(t),n.d(t,{Group:function(){return r.Z}});var r=n(67743)},2086:function(e,t,n){"use strict";t.Z=c;var r=s(n(52007)),i=s(n(72791)),a=s(n(81694)),o=["top","left","transform","className","children","innerRef"];function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e){var t=e.top,n=void 0===t?0:t,r=e.left,s=void 0===r?0:r,c=e.transform,l=e.className,f=e.children,d=e.innerRef,p=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o);return i.default.createElement("g",u({ref:d,className:(0,a.default)("visx-group",l),transform:c||"translate("+s+", "+n+")"},p),f)}c.propTypes={top:r.default.number,left:r.default.number,transform:r.default.string,className:r.default.string,children:r.default.node,innerRef:r.default.oneOfType([r.default.string,r.default.func,r.default.object])}},59409:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return i}});var i=function(){function e(e){var t=e.x,n=void 0===t?0:t,i=e.y,a=void 0===i?0:i;r(this,"x",0),r(this,"y",0),this.x=n,this.y=a}var t=e.prototype;return t.value=function(){return{x:this.x,y:this.y}},t.toArray=function(){return[this.x,this.y]},e}()},8274:function(e,t,n){"use strict";n.r(t),n.d(t,{Point:function(){return r.Z},subtractPoints:function(){return a},sumPoints:function(){return i}});var r=n(59409);function i(e,t){return new r.Z({x:e.x+t.x,y:e.y+t.y})}function a(e,t){return new r.Z({x:e.x-t.x,y:e.y-t.y})}},89448:function(e,t,n){"use strict";t.Z=function(e){var t=e.animationTrajectory,n=e.tickComponent,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o),u=(0,r.useMemo)((function(){return function(e){return r.default.createElement(a.default,c({},e,{tickComponent:n,animationTrajectory:t}))}}),[t,n]);return r.default.createElement(i.default,c({},s,{ticksComponent:u}))};u(n(52007));var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(72791)),i=u(n(99069)),a=u(n(73973)),o=["animationTrajectory","tickComponent"];function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}},73973:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.hideTicks,n=e.horizontal,c=e.orientation,f=e.scale,d=e.tickClassName,p=e.tickComponent,h=e.tickLabelProps,v=e.tickStroke,m=void 0===v?"#222":v,g=e.tickTransform,y=e.ticks,b=e.tickLineProps,x=e.animationTrajectory,k=(0,i.useTransition)(y,l({},(0,u.default)({scale:f,animateXOrY:n?"x":"y",animationTrajectory:x}),{keys:function(e){return"tick-"+e.value+"-"+e.index}}));return r.default.createElement(r.default.Fragment,null,k((function(e,n,u,f){var v,y,x=e.fromX,k=e.toX,w=e.fromY,_=e.toY,S=e.opacity,T=u.key,E=null!=(v=null!=(y=h[f])?y:h[0])?v:{};return null==n||null==T?null:r.default.createElement(i.animated.g,{key:T,className:(0,a.default)("visx-axis-tick",d),transform:g},!t&&r.default.createElement(i.animated.line,l({x1:x,x2:k,y1:w,y2:_,stroke:m,strokeLinecap:"square",strokeOpacity:S},b)),r.default.createElement(i.animated.g,{key:f,transform:(0,i.to)([k,_],(function(e,t){var n;return"translate("+e+","+(t+(c===o.default.bottom&&"number"===typeof E.fontSize?null!=(n=E.fontSize)?n:10:0))+")"})),opacity:S},p?p(l({},E,{x:k,y:_,formattedValue:null==n?void 0:n.formattedValue})):r.default.createElement(s.Text,E,null==n?void 0:n.formattedValue)))})))};var r=c(n(72791)),i=n(54753),a=c(n(81694)),o=c(n(43054)),s=n(12755),u=c(n(86744));function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}},80489:function(e,t,n){"use strict";t.Z=function(e){var t=e.scale,n=e.height,s=e.numTicks,c=e.tickValues,l=(e.offset,e.className),f=e.animationTrajectory,d=e.top,p=e.left,h=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o);return r.default.createElement(i.default,{scale:t,height:n,numTicks:s,tickValues:c,className:l,top:d,left:p},(function(e){var n=e.lines;return r.default.createElement(a.default,u({scale:t,lines:n,animationTrajectory:f,animateXOrY:"x",lineKey:function(e){var t,n;return"column-"+(null!=(t=null==e||null==(n=e.from)?void 0:n.x)?t:"")+"-"+e.index}},h))}))};var r=s(n(72791)),i=s(n(71172)),a=s(n(18255)),o=["scale","height","numTicks","tickValues","offset","className","animationTrajectory","top","left"];function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}},18255:function(e,t,n){"use strict";t.__esModule=!0,t.default=l;var r=u(n(52007)),i=u(n(72791)),a=n(54753),o=u(n(86744)),s=["scale","lines","animationTrajectory","animateXOrY","lineKey","lineStyle"];function u(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e){var t=e.scale,n=e.lines,r=e.animationTrajectory,u=e.animateXOrY,l=e.lineKey,f=e.lineStyle,d=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),p=(0,a.useTransition)(n,c({},(0,o.default)({scale:t,animateXOrY:u,animationTrajectory:r}),{key:l}));return i.default.createElement(i.default.Fragment,null,p((function(e,t,n){var r=e.fromX,o=e.toX,s=e.fromY,u=e.toY,l=e.opacity,p=n.key;return i.default.createElement(a.animated.line,c({key:p,x1:r,x2:o,y1:s,y2:u,strokeOpacity:l,style:f},d))})))}l.propTypes={lineKey:r.default.func.isRequired}},23245:function(e,t,n){"use strict";t.Z=function(e){var t=e.scale,n=e.width,s=e.numTicks,c=e.tickValues,l=(e.offset,e.className),f=e.animationTrajectory,d=e.top,p=e.left,h=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o);return r.default.createElement(i.default,{scale:t,width:n,numTicks:s,tickValues:c,className:l,top:d,left:p},(function(e){var n=e.lines;return r.default.createElement(a.default,u({scale:t,lines:n,animationTrajectory:f,animateXOrY:"y",lineKey:function(e){var t,n;return"row-"+(null!=(t=null==e||null==(n=e.from)?void 0:n.y)?t:"")+"-"+e.index}},h))}))};var r=s(n(72791)),i=s(n(87459)),a=s(n(18255)),o=["scale","width","numTicks","tickValues","offset","className","animationTrajectory","top","left"];function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}},86744:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.scale,n=e.animateXOrY,a=e.animationTrajectory,u=void 0===a?"outside":a,c="x"===n;return(0,r.useMemo)((function(){var e=t.range().map(i.coerceNumber),n=e[0],r=e[1],a=null!=r&&null!=n&&r<n?[r,n]:[n,r],l=a[0],f=a[1],d=null!=r&&null!=n?Math.abs(r-n):0,p=(null!=l?l:0)+d/2,h=u;c||"min"!==u||(h="max"),c||"max"!==u||(h="min");var v=function(e){var t=e.from,n=e.to;return{fromX:c?o(h,t.x,l,f,p):t.x,toX:c?o(h,t.x,l,f,p):n.x,fromY:c?t.y:o(h,t.y,l,f,p),toY:c?n.y:o(h,t.y,l,f,p),opacity:0}};return{from:v,leave:v,enter:s,update:s}}),[t,c,u])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(72791)),i=n(10759);function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(e,t,n,r,i){var a;switch(e){case"center":return i;case"min":return null!=n?n:0;case"max":return null!=r?r:0;default:return null!=(a=(null!=t?t:0)<i?n:r)?a:0}}function s(e){var t=e.from,n=e.to;return{fromX:t.x,toX:n.x,fromY:t.y,toY:n.y,opacity:1}}},87700:function(e,t,n){"use strict";t.Z=d;var r=c(n(52007)),i=c(n(48573)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(72791)),o=n(53575),s=["className","children","debounceTime","ignoreDimensions","parentSizeStyles","enableDebounceLeadingCall"];function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var f=[];function d(e){var t=e.className,n=e.children,r=e.debounceTime,u=void 0===r?300:r,c=e.ignoreDimensions,d=void 0===c?f:c,p=e.parentSizeStyles,h=void 0===p?{width:"100%",height:"100%"}:p,v=e.enableDebounceLeadingCall,m=void 0===v||v,g=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),y=(0,a.useRef)(null),b=(0,a.useRef)(0),x=(0,a.useState)({width:0,height:0,top:0,left:0}),k=x[0],w=x[1],_=(0,a.useMemo)((function(){var e=Array.isArray(d)?d:[d];return(0,i.default)((function(t){w((function(n){return Object.keys(n).filter((function(e){return n[e]!==t[e]})).every((function(t){return e.includes(t)}))?n:t}))}),u,{leading:m})}),[u,m,d]);return(0,a.useEffect)((function(){var e=new o.ResizeObserver((function(e){void 0===e&&(e=[]),e.forEach((function(e){var t=e.contentRect,n=t.left,r=t.top,i=t.width,a=t.height;b.current=window.requestAnimationFrame((function(){_({width:i,height:a,top:r,left:n})}))}))}));return y.current&&e.observe(y.current),function(){window.cancelAnimationFrame(b.current),e.disconnect(),null!=_&&_.cancel&&_.cancel()}}),[_]),a.default.createElement("div",l({style:h,ref:y,className:t},g),n(l({},k,{ref:y.current,resize:_})))}d.propTypes={className:r.default.string,debounceTime:r.default.number,enableDebounceLeadingCall:r.default.bool,ignoreDimensions:r.default.oneOfType([r.default.any,r.default.arrayOf(r.default.any)]),children:r.default.func.isRequired}},31434:function(e,t,n){"use strict";var r=n(76620),i=n(24806),a=n(73728),o=n(41773),s=n(90190),u=n(86572),c=n(3247),l=n(68656),f=n(70517),d=n(68544),p=n(41755),h=n(85788),v=n(52800);t.Z=function(e){if("undefined"!==typeof e&&"type"in e)switch(e.type){case"linear":return(0,r.Z)(e);case"log":return(0,i.Z)(e);case"pow":return(0,a.Z)(e);case"sqrt":return(0,o.Z)(e);case"symlog":return(0,s.Z)(e);case"time":return(0,u.Z)(e);case"utc":return(0,c.Z)(e);case"quantile":return(0,l.Z)(e);case"quantize":return(0,f.Z)(e);case"threshold":return(0,d.Z)(e);case"ordinal":return(0,p.Z)(e);case"point":return(0,h.Z)(e);case"band":return(0,v.Z)(e)}return(0,r.Z)(e)}},10759:function(e,t,n){"use strict";n.r(t),n.d(t,{coerceNumber:function(){return T.Z},createScale:function(){return x.Z},getTicks:function(){return E.Z},inferScaleType:function(){return S},scaleBand:function(){return r.Z},scaleCanBeZeroed:function(){return O.Z},scaleLinear:function(){return a.Z},scaleLog:function(){return d.Z},scaleOrdinal:function(){return h.Z},scalePoint:function(){return i.Z},scalePower:function(){return p.Z},scaleQuantile:function(){return m.Z},scaleQuantize:function(){return v.Z},scaleRadial:function(){return c},scaleSqrt:function(){return b.Z},scaleSymlog:function(){return g.Z},scaleThreshold:function(){return y.Z},scaleTime:function(){return l.Z},scaleUtc:function(){return f.Z},toString:function(){return C.Z},updateScale:function(){return w}});var r=n(52800),i=n(85788),a=n(76620),o=n(78179),s=n(18989),u=(0,s.Z)("domain","range","clamp","nice","round","unknown");function c(e){return u((0,o.Z)(),e)}var l=n(86572),f=n(3247),d=n(24806),p=n(73728),h=n(41755),v=n(70517),m=n(68656),g=n(90190),y=n(68544),b=n(41773),x=n(31434),k=s.Z.apply(void 0,s.a);var w=function(e,t){return k(e.copy(),t)},_=n(59228);function S(e){return"paddingInner"in e?"band":"padding"in e?"point":"quantiles"in e?"quantile":"base"in e?"log":"exponent"in e?.5===e.exponent()?"sqrt":"pow":"constant"in e?"symlog":"clamp"in e?e.ticks()[0]instanceof Date?(0,_.Z)(e)?"utc":"time":"linear":"nice"in e?"quantize":"invertExtent"in e?"threshold":"ordinal"}var T=n(64644),E=n(32737),C=n(38066),O=n(59632)},18989:function(e,t,n){"use strict";n.d(t,{a:function(){return E},Z:function(){return O}});var r=n(26074),i=n(10035),a=n(12061),o=n(92716),s=n(86211),u={lab:r.Z,hcl:i.Z,"hcl-long":i.b,hsl:a.Z,"hsl-long":a.q,cubehelix:o.Z,"cubehelix-long":o.B,rgb:s.ZP};var c=n(24527),l=n(37568),f=n(40020),d=n(44870),p=n(4495),h=n(6817),v=n(36243),m=n(7171),g=n(63854),y=n(632),b=n(86570),x=n(80438),k=n(13608),w=n(59228),_={day:c.Z,hour:l.Z,minute:f.Z,month:d.Z,second:p.Z,week:h.OM,year:v.Z},S={day:m.Z,hour:g.Z,minute:y.Z,month:b.Z,second:p.Z,week:x.Ox,year:k.Z};var T=n(66058);var E=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"],C={domain:function(e,t){t.domain&&e.domain(t.domain)},nice:function(e,t){if("nice"in t&&"undefined"!==typeof t.nice&&"nice"in e){var n=t.nice;if("boolean"===typeof n)n&&e.nice();else if("number"===typeof n)e.nice(n);else{var r=e,i=(0,w.Z)(r);if("string"===typeof n)r.nice(i?S[n]:_[n]);else{var a=n.interval,o=n.step,s=(i?S[a]:_[a]).every(o);null!=s&&r.nice(s)}}}},zero:function(e,t){if("zero"in t&&!0===t.zero){var n=e.domain(),r=n[0],i=n[1],a=i<r,o=a?[i,r]:[r,i],s=o[0],u=o[1],c=[Math.min(0,s),Math.max(0,u)];e.domain(a?c.reverse():c)}},interpolate:function(e,t){if("interpolate"in t&&"interpolate"in e&&"undefined"!==typeof t.interpolate){var n=function(e){switch(e){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return u[e]}var t=e.type,n=e.gamma,r=u[t];return"undefined"===typeof n?r:r.gamma(n)}(t.interpolate);e.interpolate(n)}},round:function(e,t){"round"in t&&"undefined"!==typeof t.round&&(t.round&&"interpolate"in t&&"undefined"!==typeof t.interpolate?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",t):"round"in e?e.round(t.round):"interpolate"in e&&t.round&&e.interpolate(T.Z))},align:function(e,t){"align"in e&&"align"in t&&"undefined"!==typeof t.align&&e.align(t.align)},base:function(e,t){"base"in e&&"base"in t&&"undefined"!==typeof t.base&&e.base(t.base)},clamp:function(e,t){"clamp"in e&&"clamp"in t&&"undefined"!==typeof t.clamp&&e.clamp(t.clamp)},constant:function(e,t){"constant"in e&&"constant"in t&&"undefined"!==typeof t.constant&&e.constant(t.constant)},exponent:function(e,t){"exponent"in e&&"exponent"in t&&"undefined"!==typeof t.exponent&&e.exponent(t.exponent)},padding:function(e,t){"padding"in e&&"padding"in t&&"undefined"!==typeof t.padding&&e.padding(t.padding),"paddingInner"in e&&"paddingInner"in t&&"undefined"!==typeof t.paddingInner&&e.paddingInner(t.paddingInner),"paddingOuter"in e&&"paddingOuter"in t&&"undefined"!==typeof t.paddingOuter&&e.paddingOuter(t.paddingOuter)},range:function(e,t){t.range&&e.range(t.range)},reverse:function(e,t){if(t.reverse){var n=e.range().slice().reverse();e.range(n)}},unknown:function(e,t){"unknown"in e&&"unknown"in t&&"undefined"!==typeof t.unknown&&e.unknown(t.unknown)}};function O(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new Set(t),i=E.filter((function(e){return r.has(e)}));return function(e,t){return"undefined"!==typeof t&&i.forEach((function(n){C[n](e,t)})),e}}},52800:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(87570),i=(0,n(18989).Z)("domain","range","reverse","align","padding","round");function a(e){return i((0,r.Z)(),e)}},76620:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(89737),i=(0,n(18989).Z)("domain","range","reverse","clamp","interpolate","nice","round","zero");function a(e){return i((0,r.Z)(),e)}},24806:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(47659),i=(0,n(18989).Z)("domain","range","reverse","base","clamp","interpolate","nice","round");function a(e){return i((0,r.Z)(),e)}},41755:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(51354),i=(0,n(18989).Z)("domain","range","reverse","unknown");function a(e){return i((0,r.Z)(),e)}},85788:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(87570),i=(0,n(18989).Z)("domain","range","reverse","align","padding","round");function a(e){return i((0,r.x)(),e)}},73728:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(23147),i=(0,n(18989).Z)("domain","range","reverse","clamp","exponent","interpolate","nice","round","zero");function a(e){return i((0,r.ZP)(),e)}},68656:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(63688),i=(0,n(18989).Z)("domain","range","reverse");function a(e){return i((0,r.Z)(),e)}},70517:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1267),i=(0,n(18989).Z)("domain","range","reverse","nice","zero");function a(e){return i((0,r.Z)(),e)}},41773:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(23147),i=(0,n(18989).Z)("domain","range","reverse","clamp","interpolate","nice","round","zero");function a(e){return i((0,r._b)(),e)}},90190:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(4310),i=(0,n(18989).Z)("domain","range","reverse","clamp","constant","nice","zero","round");function a(e){return i((0,r.Z)(),e)}},68544:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(77419),i=(0,n(18989).Z)("domain","range","reverse");function a(e){return i((0,r.Z)(),e)}},86572:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(96722),i=(0,n(18989).Z)("domain","range","reverse","clamp","interpolate","nice","round");function a(e){return i((0,r.Z)(),e)}},3247:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(17322),i=(0,n(18989).Z)("domain","range","reverse","clamp","interpolate","nice","round");function a(e){return i((0,r.Z)(),e)}},64644:function(e,t,n){"use strict";function r(e){if(("function"===typeof e||"object"===typeof e&&e)&&"valueOf"in e){var t=e.valueOf();if("number"===typeof t)return t}return e}n.d(t,{Z:function(){return r}})},32737:function(e,t,n){"use strict";function r(e,t){var n=e;return"ticks"in n?n.ticks(t):n.domain().filter((function(e,n,r){return null==t||r.length<=t||n%Math.round((r.length-1)/t)===0}))}n.d(t,{Z:function(){return r}})},59228:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=new Date(Date.UTC(2020,1,2,3,4,5));function i(e){return"2020-02-02 03:04"===e.tickFormat(1,"%Y-%m-%d %H:%M")(r)}},59632:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=new Set(["linear","pow","quantize","sqrt","symlog"]);function i(e){return r.has(e.type)}},38066:function(e,t,n){"use strict";function r(e){return null==e?void 0:e.toString()}n.d(t,{Z:function(){return r}})},31267:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){"align"in e&&"align"in t&&"undefined"!==typeof t.align&&e.align(t.align)}},28181:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){"base"in e&&"base"in t&&"undefined"!==typeof t.base&&e.base(t.base)}},99616:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){"clamp"in e&&"clamp"in t&&"undefined"!==typeof t.clamp&&e.clamp(t.clamp)}},28065:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){"constant"in e&&"constant"in t&&"undefined"!==typeof t.constant&&e.constant(t.constant)}},69750:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){t.domain&&e.domain(t.domain)}},39168:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){"exponent"in e&&"exponent"in t&&"undefined"!==typeof t.exponent&&e.exponent(t.exponent)}},35809:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if("interpolate"in t&&"interpolate"in e&&"undefined"!==typeof t.interpolate){var n=(0,i.default)(t.interpolate);e.interpolate(n)}};var r,i=(r=n(79914))&&r.__esModule?r:{default:r}},9941:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if("nice"in t&&"undefined"!==typeof t.nice&&"nice"in e){var n=t.nice;if("boolean"===typeof n)n&&e.nice();else if("number"===typeof n)e.nice(n);else{var r=e,i=(0,a.default)(r);if("string"===typeof n)r.nice(i?s[n]:o[n]);else{var u=n.interval,c=n.step,l=(i?s[u]:o[u]).every(c);null!=l&&r.nice(l)}}}};var r,i=n(14957),a=(r=n(96135))&&r.__esModule?r:{default:r};var o={day:i.timeDay,hour:i.timeHour,minute:i.timeMinute,month:i.timeMonth,second:i.timeSecond,week:i.timeWeek,year:i.timeYear},s={day:i.utcDay,hour:i.utcHour,minute:i.utcMinute,month:i.utcMonth,second:i.utcSecond,week:i.utcWeek,year:i.utcYear}},77558:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){"padding"in e&&"padding"in t&&"undefined"!==typeof t.padding&&e.padding(t.padding);"paddingInner"in e&&"paddingInner"in t&&"undefined"!==typeof t.paddingInner&&e.paddingInner(t.paddingInner);"paddingOuter"in e&&"paddingOuter"in t&&"undefined"!==typeof t.paddingOuter&&e.paddingOuter(t.paddingOuter)}},69259:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){t.range&&e.range(t.range)}},99640:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(t.reverse){var n=e.range().slice().reverse();e.range(n)}}},87522:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){"round"in t&&"undefined"!==typeof t.round&&(t.round&&"interpolate"in t&&"undefined"!==typeof t.interpolate?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",t):"round"in e?e.round(t.round):"interpolate"in e&&t.round&&e.interpolate(r.interpolateRound))};var r=n(57670)},94890:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new Set(t),i=y.filter((function(e){return r.has(e)}));return function(e,t){return"undefined"!==typeof t&&i.forEach((function(n){b[n](e,t)})),e}},t.ALL_OPERATORS=void 0;var r=g(n(69750)),i=g(n(69259)),a=g(n(31267)),o=g(n(28181)),s=g(n(99616)),u=g(n(28065)),c=g(n(39168)),l=g(n(35809)),f=g(n(9941)),d=g(n(77558)),p=g(n(99640)),h=g(n(87522)),v=g(n(26120)),m=g(n(54052));function g(e){return e&&e.__esModule?e:{default:e}}var y=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"];t.ALL_OPERATORS=y;var b={domain:r.default,nice:f.default,zero:m.default,interpolate:l.default,round:h.default,align:a.default,base:o.default,clamp:s.default,constant:u.default,exponent:c.default,padding:d.default,range:i.default,reverse:p.default,unknown:v.default}},26120:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){"unknown"in e&&"unknown"in t&&"undefined"!==typeof t.unknown&&e.unknown(t.unknown)}},54052:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if("zero"in t&&!0===t.zero){var n=e.domain(),r=n[0],i=n[1],a=i<r,o=a?[i,r]:[r,i],s=o[0],u=o[1],c=[Math.min(0,s),Math.max(0,u)];e.domain(a?c.reverse():c)}}},39175:function(e,t,n){"use strict";t.ZP=function(e){return a((0,i.scaleOrdinal)(),e)};var r,i=n(44384);var a=(0,((r=n(94890))&&r.__esModule?r:{default:r}).default)("domain","range","reverse","unknown")},79914:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){switch(e){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return i[e]}var t=e.type,n=e.gamma,r=i[t];return"undefined"===typeof n?r:r.gamma(n)};var r=n(57670),i={lab:r.interpolateLab,hcl:r.interpolateHcl,"hcl-long":r.interpolateHclLong,hsl:r.interpolateHsl,"hsl-long":r.interpolateHslLong,cubehelix:r.interpolateCubehelix,"cubehelix-long":r.interpolateCubehelixLong,rgb:r.interpolateRgb}},96135:function(e,t){"use strict";t.__esModule=!0,t.default=function(e){return"2020-02-02 03:04"===e.tickFormat(1,"%Y-%m-%d %H:%M")(n)};var n=new Date(Date.UTC(2020,1,2,3,4,5))},54471:function(e,t,n){"use strict";n.r(t),n.d(t,{Arc:function(){return c},Area:function(){return k},AreaClosed:function(){return T},AreaStack:function(){return R},Bar:function(){return M},BarGroup:function(){return Z},BarGroupHorizontal:function(){return V},BarRounded:function(){return D.Z},BarStack:function(){return ee},BarStackHorizontal:function(){return re},Circle:function(){return ct},Line:function(){return h.Z},LinePath:function(){return v.Z},LineRadial:function(){return y},LinkHorizontal:function(){return ce},LinkHorizontalCurve:function(){return we},LinkHorizontalLine:function(){return Me},LinkHorizontalStep:function(){return Ge},LinkRadial:function(){return ge},LinkRadialCurve:function(){return Ie},LinkRadialLine:function(){return Ve},LinkRadialStep:function(){return et},LinkVertical:function(){return pe},LinkVerticalCurve:function(){return Ee},LinkVerticalLine:function(){return Fe},LinkVerticalStep:function(){return Xe},Pie:function(){return p},Polygon:function(){return ot},STACK_OFFSETS:function(){return Q.nW},STACK_OFFSET_NAMES:function(){return Q.ed},STACK_ORDERS:function(){return X.un},STACK_ORDER_NAMES:function(){return X.s2},SplitLinePath:function(){return yt},Stack:function(){return O},arc:function(){return o.Nb},area:function(){return o.SO},degreesToRadians:function(){return ie},getPoint:function(){return it},getPoints:function(){return at},line:function(){return o.jv},pathHorizontalCurve:function(){return ke},pathHorizontalDiagonal:function(){return ue},pathHorizontalLine:function(){return Pe},pathHorizontalStep:function(){return He},pathRadialCurve:function(){return Ae},pathRadialDiagonal:function(){return me},pathRadialLine:function(){return Ue},pathRadialStep:function(){return $e},pathVerticalCurve:function(){return Te},pathVerticalDiagonal:function(){return de},pathVerticalLine:function(){return je},pathVerticalStep:function(){return Ye},pie:function(){return o.ve},radialLine:function(){return o.aJ},stack:function(){return o.kn},stackOffset:function(){return Q.ZP},stackOrder:function(){return X.ZP}});var r=n(72791),i=n(81694),a=n.n(i),o=n(67716),s=["className","data","innerRadius","outerRadius","cornerRadius","startAngle","endAngle","padAngle","padRadius","children","innerRef"];function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e){var t=e.className,n=e.data,i=e.innerRadius,c=e.outerRadius,l=e.cornerRadius,f=e.startAngle,d=e.endAngle,p=e.padAngle,h=e.padRadius,v=e.children,m=e.innerRef,g=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),y=(0,o.Nb)({innerRadius:i,outerRadius:c,cornerRadius:l,startAngle:f,endAngle:d,padAngle:p,padRadius:h});return v?r.createElement(r.Fragment,null,v({path:y})):n||null!=f&&null!=d&&null!=i&&null!=c?r.createElement("path",u({ref:m,className:a()("visx-arc",t),d:y(n)||""},g)):(console.warn("[@visx/shape/Arc]: expected data because one of startAngle, endAngle, innerRadius, outerRadius is undefined. Bailing."),null)}var l=n(67743),f=["className","top","left","data","centroid","innerRadius","outerRadius","cornerRadius","startAngle","endAngle","padAngle","padRadius","pieSort","pieSortValues","pieValue","children","fill"];function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function p(e){var t=e.className,n=e.top,i=e.left,s=e.data,u=void 0===s?[]:s,c=e.centroid,p=e.innerRadius,h=void 0===p?0:p,v=e.outerRadius,m=e.cornerRadius,g=e.startAngle,y=e.endAngle,b=e.padAngle,x=e.padRadius,k=e.pieSort,w=e.pieSortValues,_=e.pieValue,S=e.children,T=e.fill,E=void 0===T?"":T,C=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,f),O=(0,o.Nb)({innerRadius:h,outerRadius:v,cornerRadius:m,padRadius:x}),A=(0,o.ve)({startAngle:g,endAngle:y,padAngle:b,value:_,sort:k,sortValues:w}),I=A(u);return S?r.createElement(r.Fragment,null,S({arcs:I,path:O,pie:A})):r.createElement(l.Z,{className:"visx-pie-arcs-group",top:n,left:i},I.map((function(e,n){return r.createElement("g",{key:"pie-arc-"+n},r.createElement("path",d({className:a()("visx-pie-arc",t),d:O(e)||"",fill:null==E||"string"===typeof E?E:E(e)},C)),null==c?void 0:c(O.centroid(e),e))})))}var h=n(69776),v=n(86407),m=["className","angle","radius","defined","curve","data","innerRef","children","fill"];function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function y(e){var t=e.className,n=e.angle,i=e.radius,s=e.defined,u=e.curve,c=e.data,l=void 0===c?[]:c,f=e.innerRef,d=e.children,p=e.fill,h=void 0===p?"transparent":p,v=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,m),y=(0,o.aJ)({angle:n,radius:i,defined:s,curve:u});return d?r.createElement(r.Fragment,null,d({path:y})):r.createElement("path",g({ref:f,className:a()("visx-line-radial",t),d:y(l)||"",fill:h},v))}var b=["children","x","x0","x1","y","y0","y1","data","defined","className","curve","innerRef"];function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}function k(e){var t=e.children,n=e.x,i=e.x0,s=e.x1,u=e.y,c=e.y0,l=e.y1,f=e.data,d=void 0===f?[]:f,p=e.defined,h=void 0===p?function(){return!0}:p,v=e.className,m=e.curve,g=e.innerRef,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,b),k=(0,o.SO)({x:n,x0:i,x1:s,y:u,y0:c,y1:l,defined:h,curve:m});return t?r.createElement(r.Fragment,null,t({path:k})):r.createElement("path",x({ref:g,className:a()("visx-area",v),d:k(d)||""},y))}var w=n(73819),_=["x","x0","x1","y","y1","y0","yScale","data","defined","className","curve","innerRef","children"];function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}function T(e){var t=e.x,n=e.x0,i=e.x1,s=e.y,u=e.y1,c=e.y0,l=e.yScale,f=e.data,d=void 0===f?[]:f,p=e.defined,h=void 0===p?function(){return!0}:p,v=e.className,m=e.curve,g=e.innerRef,y=e.children,b=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,_),x=(0,o.SO)({x:t,x0:n,x1:i,defined:h,curve:m});return null==c?x.y0(l.range()[0]):(0,w.Z)(x.y0,c),s&&!u&&(0,w.Z)(x.y1,s),u&&!s&&(0,w.Z)(x.y1,u),y?r.createElement(r.Fragment,null,y({path:x})):r.createElement("path",S({ref:g,className:a()("visx-area-closed",v),d:x(d)||""},b))}var E=["className","top","left","keys","data","curve","defined","x","x0","x1","y0","y1","value","order","offset","color","children"];function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}function O(e){var t=e.className,n=e.top,i=e.left,s=e.keys,u=e.data,c=e.curve,f=e.defined,d=e.x,p=e.x0,h=e.x1,v=e.y0,m=e.y1,g=e.value,y=e.order,b=e.offset,x=e.color,k=e.children,w=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,E),_=(0,o.kn)({keys:s,value:g,order:y,offset:b}),S=(0,o.SO)({x:d,x0:p,x1:h,y0:v,y1:m,curve:c,defined:f}),T=_(u);return k?r.createElement(r.Fragment,null,k({stacks:T,path:S,stack:_})):r.createElement(l.Z,{top:n,left:i},T.map((function(e,n){return r.createElement("path",C({className:a()("visx-stack",t),key:"stack-"+n+"-"+(e.key||""),d:S(e)||"",fill:null==x?void 0:x(e.key,n)},w))})))}var A=["className","top","left","keys","data","curve","defined","x","x0","x1","y0","y1","value","order","offset","color","children"];function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}function R(e){var t=e.className,n=e.top,i=e.left,o=e.keys,s=e.data,u=e.curve,c=e.defined,l=e.x,f=e.x0,d=e.x1,p=e.y0,h=e.y1,v=e.value,m=e.order,g=e.offset,y=e.color,b=e.children,x=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,A);return r.createElement(O,I({className:t,top:n,left:i,keys:o,data:s,curve:u,defined:c,x:l,x0:f,x1:d,y0:p,y1:h,value:v,order:m,offset:g,color:y},x),b||function(e){var n=e.stacks,i=e.path;return n.map((function(e,n){return r.createElement("path",I({className:a()("visx-area-stack",t),key:"area-stack-"+n+"-"+(e.key||""),d:i(e)||"",fill:null==y?void 0:y(e.key,n)},x))}))})}var N=["className","innerRef"];function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}function M(e){var t=e.className,n=e.innerRef,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,N);return r.createElement("rect",P({ref:n,className:a()("visx-bar",t)},i))}var D=n(80207);function L(e){if("bandwidth"in e)return e.bandwidth();var t=e.range(),n=e.domain();return Math.abs(t[t.length-1]-t[0])/n.length}var j=["data","className","top","left","x0","x0Scale","x1Scale","yScale","color","keys","height","children"];function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F.apply(this,arguments)}function Z(e){var t=e.data,n=e.className,i=e.top,o=e.left,s=e.x0,u=e.x0Scale,c=e.x1Scale,f=e.yScale,d=e.color,p=e.keys,h=e.height,v=e.children,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,j),g=L(c),y=t.map((function(e,t){return{index:t,x0:u(s(e)),bars:p.map((function(t,n){var r=e[t];return{index:n,key:t,value:r,width:g,x:c(t)||0,y:f(r)||0,color:d(t,n),height:h-(f(r)||0)}}))}}));return v?r.createElement(r.Fragment,null,v(y)):r.createElement(l.Z,{className:a()("visx-bar-group",n),top:i,left:o},y.map((function(e){return r.createElement(l.Z,{key:"bar-group-"+e.index+"-"+e.x0,left:e.x0},e.bars.map((function(t){return r.createElement(M,F({key:"bar-group-bar-"+e.index+"-"+t.index+"-"+t.value+"-"+t.key,x:t.x,y:t.y,width:t.width,height:t.height,fill:t.color},m))})))})))}var B=["data","className","top","left","x","y0","y0Scale","y1Scale","xScale","color","keys","width","children"];function U(){return U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U.apply(this,arguments)}function V(e){var t=e.data,n=e.className,i=e.top,o=e.left,s=e.x,u=void 0===s?function(){return 0}:s,c=e.y0,f=e.y0Scale,d=e.y1Scale,p=e.xScale,h=e.color,v=e.keys,m=(e.width,e.children),g=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,B),y=L(d),b=t.map((function(e,t){return{index:t,y0:f(c(e))||0,bars:v.map((function(t,n){var r=e[t];return{index:n,key:t,value:r,height:y,x:u(r)||0,y:d(t)||0,color:h(t,n),width:p(r)||0}}))}}));return m?r.createElement(r.Fragment,null,m(b)):r.createElement(l.Z,{className:a()("visx-bar-group-horizontal",n),top:i,left:o},b.map((function(e){return r.createElement(l.Z,{key:"bar-group-"+e.index+"-"+e.y0,top:e.y0},e.bars.map((function(t){return r.createElement(M,U({key:"bar-group-bar-"+e.index+"-"+t.index+"-"+t.value+"-"+t.key,x:t.x,y:t.y,width:t.width,height:t.height,fill:t.color},g))})))})))}var z=n(3650);function W(e){return"number"===typeof(null==e?void 0:e.x)?null==e?void 0:e.x:0}function H(e){return"number"===typeof(null==e?void 0:e.y)?null==e?void 0:e.y:0}function G(e){return null==e?void 0:e.source}function q(e){return null==e?void 0:e.target}function K(e){return null==e?void 0:e[0]}function Y(e){return null==e?void 0:e[1]}var X=n(65205),Q=n(94626),J=["data","className","top","left","x","y0","y1","xScale","yScale","color","keys","value","order","offset","children"];function $(){return $=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}function ee(e){var t=e.data,n=e.className,i=e.top,o=e.left,s=e.x,u=e.y0,c=void 0===u?K:u,f=e.y1,d=void 0===f?Y:f,p=e.xScale,h=e.yScale,v=e.color,m=e.keys,g=e.value,y=e.order,b=e.offset,x=e.children,k=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,J),_=(0,z.Z)();m&&_.keys(m),g&&(0,w.Z)(_.value,g),y&&_.order((0,X.ZP)(y)),b&&_.offset((0,Q.ZP)(b));var S=_(t),T=L(p),E=S.map((function(e,t){var n=e.key;return{index:t,key:n,bars:e.map((function(t,r){var i=(h(c(t))||0)-(h(d(t))||0),a=h(d(t)),o="bandwidth"in p?p(s(t.data)):Math.max((p(s(t.data))||0)-T/2);return{bar:t,key:n,index:r,height:i,width:T,x:o||0,y:a||0,color:v(e.key,r)}}))}}));return x?r.createElement(r.Fragment,null,x(E)):r.createElement(l.Z,{className:a()("visx-bar-stack",n),top:i,left:o},E.map((function(e){return e.bars.map((function(t){return r.createElement(M,$({key:"bar-stack-"+e.index+"-"+t.index,x:t.x,y:t.y,height:t.height,width:t.width,fill:t.color},k))}))})))}var te=["data","className","top","left","y","x0","x1","xScale","yScale","color","keys","value","order","offset","children"];function ne(){return ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}function re(e){var t=e.data,n=e.className,i=e.top,o=e.left,s=e.y,u=e.x0,c=void 0===u?K:u,f=e.x1,d=void 0===f?Y:f,p=e.xScale,h=e.yScale,v=e.color,m=e.keys,g=e.value,y=e.order,b=e.offset,x=e.children,k=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,te),_=(0,z.Z)();m&&_.keys(m),g&&(0,w.Z)(_.value,g),y&&_.order((0,X.ZP)(y)),b&&_.offset((0,Q.ZP)(b));var S=_(t),T=L(h),E=S.map((function(e,t){var n=e.key;return{index:t,key:n,bars:e.map((function(t,r){var i=(p(d(t))||0)-(p(c(t))||0),a=p(c(t)),o="bandwidth"in h?h(s(t.data)):Math.max((h(s(t.data))||0)-i/2);return{bar:t,key:n,index:r,height:T,width:i,x:a||0,y:o||0,color:v(e.key,r)}}))}}));return x?r.createElement(r.Fragment,null,x(E)):r.createElement(l.Z,{className:a()("visx-bar-stack-horizontal",n),top:i,left:o},E.map((function(e){return e.bars.map((function(t){return r.createElement(M,ne({key:"bar-stack-"+e.index+"-"+t.index,x:t.x,y:t.y,height:t.height,width:t.width,fill:t.color},k))}))})))}var ie=function(e){return Math.PI/180*e},ae=n(6274),oe=["className","children","data","innerRef","path","x","y","source","target"];function se(){return se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}function ue(e){var t=e.source,n=e.target,r=e.x,i=e.y;return function(e){var a=(0,ae.h5)();return a.x(r),a.y(i),a.source(t),a.target(n),a(e)}}function ce(e){var t=e.className,n=e.children,i=e.data,o=e.innerRef,s=e.path,u=e.x,c=void 0===u?H:u,l=e.y,f=void 0===l?W:l,d=e.source,p=void 0===d?G:d,h=e.target,v=void 0===h?q:h,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,oe),g=s||ue({source:p,target:v,x:c,y:f});return n?r.createElement(r.Fragment,null,n({path:g})):r.createElement("path",se({ref:o,className:a()("visx-link visx-link-horizontal-diagonal",t),d:g(i)||""},m))}var le=["className","children","data","innerRef","path","x","y","source","target"];function fe(){return fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}function de(e){var t=e.source,n=e.target,r=e.x,i=e.y;return function(e){var a=(0,ae.rR)();return a.x(r),a.y(i),a.source(t),a.target(n),a(e)}}function pe(e){var t=e.className,n=e.children,i=e.data,o=e.innerRef,s=e.path,u=e.x,c=void 0===u?W:u,l=e.y,f=void 0===l?H:l,d=e.source,p=void 0===d?G:d,h=e.target,v=void 0===h?q:h,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,le),g=s||de({source:p,target:v,x:c,y:f});return n?r.createElement(r.Fragment,null,n({path:g})):r.createElement("path",fe({ref:o,className:a()("visx-link visx-link-vertical-diagonal",t),d:g(i)||""},m))}var he=["className","children","data","innerRef","path","angle","radius","source","target"];function ve(){return ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ve.apply(this,arguments)}function me(e){var t=e.source,n=e.target,r=e.angle,i=e.radius;return function(e){var a=(0,ae.M4)();return a.angle(r),a.radius(i),a.source(t),a.target(n),a(e)}}function ge(e){var t=e.className,n=e.children,i=e.data,o=e.innerRef,s=e.path,u=e.angle,c=void 0===u?W:u,l=e.radius,f=void 0===l?H:l,d=e.source,p=void 0===d?G:d,h=e.target,v=void 0===h?q:h,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,he),g=s||me({source:p,target:v,angle:c,radius:f});return n?r.createElement(r.Fragment,null,n({path:g})):r.createElement("path",ve({ref:o,className:a()("visx-link visx-link-radial-diagonal",t),d:g(i)||""},m))}var ye=n(73339),be=["className","children","data","innerRef","path","percent","x","y","source","target"];function xe(){return xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function ke(e){var t=e.source,n=e.target,r=e.x,i=e.y,a=e.percent;return function(e){var o=t(e),s=n(e),u=r(o),c=i(o),l=r(s),f=i(s),d=l-u,p=f-c,h=a*(d+p),v=a*(p-d),m=(0,ye.Z)();return m.moveTo(u,c),m.bezierCurveTo(u+h,c+v,l+v,f-h,l,f),m.toString()}}function we(e){var t=e.className,n=e.children,i=e.data,o=e.innerRef,s=e.path,u=e.percent,c=void 0===u?.2:u,l=e.x,f=void 0===l?H:l,d=e.y,p=void 0===d?W:d,h=e.source,v=void 0===h?G:h,m=e.target,g=void 0===m?q:m,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,be),b=s||ke({source:v,target:g,x:f,y:p,percent:c});return n?r.createElement(r.Fragment,null,n({path:b})):r.createElement("path",xe({ref:o,className:a()("visx-link visx-link-horizontal-curve",t),d:b(i)||""},y))}var _e=["className","children","data","innerRef","path","percent","x","y","source","target"];function Se(){return Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(this,arguments)}function Te(e){var t=e.source,n=e.target,r=e.x,i=e.y,a=e.percent;return function(e){var o=t(e),s=n(e),u=r(o),c=i(o),l=r(s),f=i(s),d=l-u,p=f-c,h=a*(d+p),v=a*(p-d),m=(0,ye.Z)();return m.moveTo(u,c),m.bezierCurveTo(u+h,c+v,l+v,f-h,l,f),m.toString()}}function Ee(e){var t=e.className,n=e.children,i=e.data,o=e.innerRef,s=e.path,u=e.percent,c=void 0===u?.2:u,l=e.x,f=void 0===l?W:l,d=e.y,p=void 0===d?H:d,h=e.source,v=void 0===h?G:h,m=e.target,g=void 0===m?q:m,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,_e),b=s||Te({source:v,target:g,x:f,y:p,percent:c});return n?r.createElement(r.Fragment,null,n({path:b})):r.createElement("path",Se({ref:o,className:a()("visx-link visx-link-vertical-curve",t),d:b(i)||""},y))}var Ce=["className","children","data","innerRef","path","percent","x","y","source","target"];function Oe(){return Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oe.apply(this,arguments)}function Ae(e){var t=e.source,n=e.target,r=e.x,i=e.y,a=e.percent;return function(e){var o=t(e),s=n(e),u=r(o)-Math.PI/2,c=i(o),l=r(s)-Math.PI/2,f=i(s),d=c*Math.cos(u),p=c*Math.sin(u),h=f*Math.cos(l),v=f*Math.sin(l),m=h-d,g=v-p,y=a*(m+g),b=a*(g-m),x=(0,ye.Z)();return x.moveTo(d,p),x.bezierCurveTo(d+y,p+b,h+b,v-y,h,v),x.toString()}}function Ie(e){var t=e.className,n=e.children,i=e.data,o=e.innerRef,s=e.path,u=e.percent,c=void 0===u?.2:u,l=e.x,f=void 0===l?W:l,d=e.y,p=void 0===d?H:d,h=e.source,v=void 0===h?G:h,m=e.target,g=void 0===m?q:m,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Ce),b=s||Ae({source:v,target:g,x:f,y:p,percent:c});return n?r.createElement(r.Fragment,null,n({path:b})):r.createElement("path",Oe({ref:o,className:a()("visx-link visx-link-radial-curve",t),d:b(i)||""},y))}var Re=["className","children","innerRef","data","path","x","y","source","target"];function Ne(){return Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ne.apply(this,arguments)}function Pe(e){var t=e.source,n=e.target,r=e.x,i=e.y;return function(e){var a=t(e),o=n(e),s=r(a),u=i(a),c=r(o),l=i(o),f=(0,ye.Z)();return f.moveTo(s,u),f.lineTo(c,l),f.toString()}}function Me(e){var t=e.className,n=e.children,i=e.innerRef,o=e.data,s=e.path,u=e.x,c=void 0===u?H:u,l=e.y,f=void 0===l?W:l,d=e.source,p=void 0===d?G:d,h=e.target,v=void 0===h?q:h,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Re),g=s||Pe({source:p,target:v,x:c,y:f});return n?r.createElement(r.Fragment,null,n({path:g})):r.createElement("path",Ne({ref:i,className:a()("visx-link visx-link-horizontal-line",t),d:g(o)||""},m))}var De=["className","innerRef","data","path","x","y","source","target","children"];function Le(){return Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le.apply(this,arguments)}function je(e){var t=e.source,n=e.target,r=e.x,i=e.y;return function(e){var a=t(e),o=n(e),s=r(a),u=i(a),c=r(o),l=i(o),f=(0,ye.Z)();return f.moveTo(s,u),f.lineTo(c,l),f.toString()}}function Fe(e){var t=e.className,n=e.innerRef,i=e.data,o=e.path,s=e.x,u=void 0===s?W:s,c=e.y,l=void 0===c?H:c,f=e.source,d=void 0===f?G:f,p=e.target,h=void 0===p?q:p,v=e.children,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,De),g=o||je({source:d,target:h,x:u,y:l});return v?r.createElement(r.Fragment,null,v({path:g})):r.createElement("path",Le({ref:n,className:a()("visx-link visx-link-vertical-line",t),d:g(i)||""},m))}var Ze=["className","innerRef","data","path","x","y","source","target","children"];function Be(){return Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Be.apply(this,arguments)}function Ue(e){var t=e.source,n=e.target,r=e.x,i=e.y;return function(e){var a=t(e),o=n(e),s=r(a)-Math.PI/2,u=i(a),c=r(o)-Math.PI/2,l=i(o),f=Math.cos(s),d=Math.sin(s),p=Math.cos(c),h=Math.sin(c),v=(0,ye.Z)();return v.moveTo(u*f,u*d),v.lineTo(l*p,l*h),v.toString()}}function Ve(e){var t=e.className,n=e.innerRef,i=e.data,o=e.path,s=e.x,u=void 0===s?W:s,c=e.y,l=void 0===c?H:c,f=e.source,d=void 0===f?G:f,p=e.target,h=void 0===p?q:p,v=e.children,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Ze),g=o||Ue({source:d,target:h,x:u,y:l});return v?r.createElement(r.Fragment,null,v({path:g})):r.createElement("path",Be({ref:n,className:a()("visx-link visx-link-radial-line",t),d:g(i)||""},m))}var ze=["className","innerRef","data","path","percent","x","y","source","target","children"];function We(){return We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},We.apply(this,arguments)}function He(e){var t=e.source,n=e.target,r=e.x,i=e.y,a=e.percent;return function(e){var o=t(e),s=n(e),u=r(o),c=i(o),l=r(s),f=i(s),d=(0,ye.Z)();return d.moveTo(u,c),d.lineTo(u+(l-u)*a,c),d.lineTo(u+(l-u)*a,f),d.lineTo(l,f),d.toString()}}function Ge(e){var t=e.className,n=e.innerRef,i=e.data,o=e.path,s=e.percent,u=void 0===s?.5:s,c=e.x,l=void 0===c?H:c,f=e.y,d=void 0===f?W:f,p=e.source,h=void 0===p?G:p,v=e.target,m=void 0===v?q:v,g=e.children,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ze),b=o||He({source:h,target:m,x:l,y:d,percent:u});return g?r.createElement(r.Fragment,null,g({path:b})):r.createElement("path",We({ref:n,className:a()("visx-link visx-link-horizontal-step",t),d:b(i)||""},y))}var qe=["className","innerRef","data","path","percent","x","y","source","target","children"];function Ke(){return Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ke.apply(this,arguments)}function Ye(e){var t=e.source,n=e.target,r=e.x,i=e.y,a=e.percent;return function(e){var o=t(e),s=n(e),u=r(o),c=i(o),l=r(s),f=i(s),d=(0,ye.Z)();return d.moveTo(u,c),d.lineTo(u,c+(f-c)*a),d.lineTo(l,c+(f-c)*a),d.lineTo(l,f),d.toString()}}function Xe(e){var t=e.className,n=e.innerRef,i=e.data,o=e.path,s=e.percent,u=void 0===s?.5:s,c=e.x,l=void 0===c?W:c,f=e.y,d=void 0===f?H:f,p=e.source,h=void 0===p?G:p,v=e.target,m=void 0===v?q:v,g=e.children,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,qe),b=o||Ye({source:h,target:m,x:l,y:d,percent:u});return g?r.createElement(r.Fragment,null,g({path:b})):r.createElement("path",Ke({ref:n,className:a()("visx-link visx-link-vertical-step",t),d:b(i)||""},y))}var Qe=["className","innerRef","data","path","x","y","source","target","children"];function Je(){return Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Je.apply(this,arguments)}function $e(e){var t=e.source,n=e.target,r=e.x,i=e.y;return function(e){var a=t(e),o=n(e),s=r(a),u=i(a),c=r(o),l=i(o),f=s-Math.PI/2,d=u,p=c-Math.PI/2,h=l,v=Math.cos(f),m=Math.sin(f),g=Math.cos(p),y=Math.sin(p);return"\n      M"+d*v+","+d*m+"\n      A"+d+","+d+",0,0,"+((Math.abs(p-f)>Math.PI?p<=f:p>f)?1:0)+","+d*g+","+d*y+"\n      L"+h*g+","+h*y+"\n    "}}function et(e){var t=e.className,n=e.innerRef,i=e.data,o=e.path,s=e.x,u=void 0===s?W:s,c=e.y,l=void 0===c?H:c,f=e.source,d=void 0===f?G:f,p=e.target,h=void 0===p?q:p,v=e.children,m=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Qe),g=o||$e({source:d,target:h,x:u,y:l});return v?r.createElement(r.Fragment,null,v({path:g})):r.createElement("path",Je({ref:n,className:a()("visx-link visx-link-radial-step",t),d:g(i)||""},m))}var tt=["sides","size","center","rotate","className","children","innerRef","points"];function nt(){return nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nt.apply(this,arguments)}var rt={x:0,y:0},it=function(e){var t=e.sides,n=void 0===t?4:t,r=e.size,i=void 0===r?25:r,a=e.center,o=void 0===a?rt:a,s=e.rotate,u=void 0===s?0:s,c=e.side,l=ie(360/n*c-u);return{x:o.x+i*Math.cos(l),y:o.y+i*Math.sin(l)}},at=function(e){var t=e.sides,n=e.size,r=e.center,i=e.rotate;return new Array(t).fill(0).map((function(e,a){return it({sides:t,size:n,center:r,rotate:i,side:a})}))};function ot(e){var t=e.sides,n=void 0===t?4:t,i=e.size,o=void 0===i?25:i,s=e.center,u=void 0===s?rt:s,c=e.rotate,l=void 0===c?0:c,f=e.className,d=e.children,p=e.innerRef,h=e.points,v=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,tt),m=h||at({sides:n,size:o,center:u,rotate:l}).map((function(e){return[e.x,e.y]}));return d?r.createElement(r.Fragment,null,d({points:m})):r.createElement("polygon",nt({ref:p,className:a()("visx-polygon",f),points:m.join(" ")},v))}var st=["className","innerRef"];function ut(){return ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ut.apply(this,arguments)}function ct(e){var t=e.className,n=e.innerRef,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,st);return r.createElement("circle",ut({ref:n,className:a()("visx-circle",t)},i))}var lt=n(52007),ft=n.n(lt),dt="http://www.w3.org/2000/svg";var pt=function(){return!0};function ht(e){var t=e.path,n=e.pointsInSegments,r=e.segmentation,i=void 0===r?"x":r,a=e.sampleRate,o=void 0===a?1:a;try{var s=function(e){var t=document.getElementById(e);if(!t){var n=document.createElementNS(dt,"svg");n.setAttribute("aria-hidden","true"),n.style.opacity="0",n.style.width="0",n.style.height="0",n.style.position="absolute",n.style.top="-100%",n.style.left="-100%",n.style.pointerEvents="none",(t=document.createElementNS(dt,"path")).setAttribute("id",e),n.appendChild(t),document.body.appendChild(n)}return t}("__visx_splitpath_svg_path_measurement_id");s.setAttribute("d",t);var u=s.getTotalLength(),c=n.length,l=n.map((function(){return[]}));if("x"===i||"y"===i)for(var f=n.map((function(e){var t;return null==(t=e.find((function(e){return"number"===typeof e[i]})))?void 0:t[i]})),d=s.getPointAtLength(0),p=s.getPointAtLength(u)[i]>d[i]?f.map((function(e){return"undefined"===typeof e?pt:function(t){return t>=e}})):f.map((function(e){return"undefined"===typeof e?pt:function(t){return t<=e}})),h=0,v=0;v<=u;v+=o){for(var m=s.getPointAtLength(v),g=m[i];h<c-1&&p[h+1](g);)h+=1;l[h].push(m)}else{var y=n.map((function(e){return e.length})),b=y.reduce((function(e,t){return e+t}),0),x=u/Math.max(1,b-1),k=y.slice(0,c-1);k.unshift(0);for(var w=2;w<c;w+=1)k[w]+=k[w-1];for(var _=0;_<c;_+=1)k[_]*=x;for(var S=0,T=0;T<=u;T+=o){for(var E=s.getPointAtLength(T);S<c-1&&T>=k[S+1];)S+=1;l[S].push(E)}}return l}catch(C){return[]}}function vt(){return vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vt.apply(this,arguments)}var mt=function(e){return e.x||0},gt=function(e){return e.y||0};function yt(e){var t=e.children,n=e.className,i=e.curve,a=e.defined,s=e.segmentation,u=e.sampleRate,c=e.segments,l=e.x,f=e.y,d=e.styles,p=(0,r.useMemo)((function(){var e="number"===typeof l||"undefined"===typeof l?function(){return l}:l,t="number"===typeof f||"undefined"===typeof f?function(){return f}:f;return c.map((function(n){return n.map((function(r,i){return{x:e(r,i,n),y:t(r,i,n)}}))}))}),[l,f,c]),h=(0,r.useMemo)((function(){return(0,o.jv)({x:l,y:f,defined:a,curve:i})(c.flat())||""}),[l,f,a,i,c]),m=(0,r.useMemo)((function(){return ht({path:h,segmentation:s,pointsInSegments:p,sampleRate:u})}),[h,s,p,u]);return r.createElement("g",null,m.map((function(e,i){return t?r.createElement(r.Fragment,{key:i},t({index:i,segment:e,styles:d[i]||d[i%d.length]})):r.createElement(v.Z,vt({key:i,className:n,data:e,x:mt,y:gt},d[i]||d[i%d.length]))})))}yt.propTypes={segments:ft().arrayOf(ft().array).isRequired,styles:ft().array.isRequired,children:ft().func,className:ft().string}},80207:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(72791),i=n(81694),a=n.n(i),o=["children","className","innerRef","x","y","width","height","radius","all","top","bottom","left","right","topLeft","topRight","bottomLeft","bottomRight"];function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e){var t=e.children,n=e.className,i=e.innerRef,u=e.x,c=e.y,l=e.width,f=e.height,d=e.radius,p=e.all,h=void 0!==p&&p,v=e.top,m=void 0!==v&&v,g=e.bottom,y=void 0!==g&&g,b=e.left,x=void 0!==b&&b,k=e.right,w=void 0!==k&&k,_=e.topLeft,S=void 0!==_&&_,T=e.topRight,E=void 0!==T&&T,C=e.bottomLeft,O=void 0!==C&&C,A=e.bottomRight,I=void 0!==A&&A,R=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o),N=function(e){var t=e.all,n=e.bottom,r=e.bottomLeft,i=e.bottomRight,a=e.height,o=e.left,s=e.radius,u=e.right,c=e.top,l=e.topLeft,f=e.topRight,d=e.width,p=e.x,h=e.y;f=t||c||u||f,i=t||n||u||i,r=t||n||o||r,l=t||c||o||l;var v=2*(s=Math.max(1,Math.min(s,Math.min(d,a)/2)));return("M"+(p+s)+","+h+" h"+(d-v)+"\n "+(f?"a"+s+","+s+" 0 0 1 "+s+","+s:"h"+s+"v"+s)+"\n v"+(a-v)+"\n "+(i?"a"+s+","+s+" 0 0 1 "+-s+","+s:"v"+s+"h"+-s)+"\n h"+(v-d)+"\n "+(r?"a"+s+","+s+" 0 0 1 "+-s+","+-s:"h"+-s+"v"+-s)+"\n v"+(v-a)+"\n "+(l?"a"+s+","+s+" 0 0 1 "+s+","+-s:"v"+-s+"h"+s)+"\nz").split("\n").join("")}({x:u,y:c,width:l,height:f,radius:d,all:h,top:m,bottom:y,left:x,right:w,topLeft:S,topRight:E,bottomLeft:O,bottomRight:I});return t?r.createElement(r.Fragment,null,t({path:N})):r.createElement("path",s({ref:i,className:a()("visx-bar-rounded",n),d:N},R))}},69776:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(72791),i=n(81694),a=n.n(i),o=["from","to","fill","className","innerRef"];function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e){var t=e.from,n=void 0===t?{x:0,y:0}:t,i=e.to,u=void 0===i?{x:1,y:1}:i,c=e.fill,l=void 0===c?"transparent":c,f=e.className,d=e.innerRef,p=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o),h=n.x===u.x||n.y===u.y;return r.createElement("line",s({ref:d,className:a()("visx-line",f),x1:n.x,y1:n.y,x2:u.x,y2:u.y,fill:l,shapeRendering:h?"crispEdges":"auto"},p))}},86407:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(72791),i=n(81694),a=n.n(i),o=n(67716),s=["children","data","x","y","fill","className","curve","innerRef","defined"];function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e){var t=e.children,n=e.data,i=void 0===n?[]:n,c=e.x,l=e.y,f=e.fill,d=void 0===f?"transparent":f,p=e.className,h=e.curve,v=e.innerRef,m=e.defined,g=void 0===m?function(){return!0}:m,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),b=(0,o.jv)({x:c,y:l,defined:g,curve:h});return t?r.createElement(r.Fragment,null,t({path:b})):r.createElement("path",u({ref:v,className:a()("visx-linepath",p),d:b(i)||"",fill:d,strokeLinecap:"round"},y))}},67716:function(e,t,n){"use strict";n.d(t,{Nb:function(){return d},SO:function(){return p},aJ:function(){return m},jv:function(){return h},kn:function(){return g},ve:function(){return v}});var r=n(21561),i=n(85520),a=n(86344),o=n(54321),s=n(19509),u=n(3650),c=n(73819),l=n(65205),f=n(94626);function d(e){var t=void 0===e?{}:e,n=t.innerRadius,i=t.outerRadius,a=t.cornerRadius,o=t.startAngle,s=t.endAngle,u=t.padAngle,l=t.padRadius,f=(0,r.Z)();return null!=n&&(0,c.Z)(f.innerRadius,n),null!=i&&(0,c.Z)(f.outerRadius,i),null!=a&&(0,c.Z)(f.cornerRadius,a),null!=o&&(0,c.Z)(f.startAngle,o),null!=s&&(0,c.Z)(f.endAngle,s),null!=u&&(0,c.Z)(f.padAngle,u),null!=l&&(0,c.Z)(f.padRadius,l),f}function p(e){var t=void 0===e?{}:e,n=t.x,r=t.x0,a=t.x1,o=t.y,s=t.y0,u=t.y1,l=t.defined,f=t.curve,d=(0,i.Z)();return n&&(0,c.Z)(d.x,n),r&&(0,c.Z)(d.x0,r),a&&(0,c.Z)(d.x1,a),o&&(0,c.Z)(d.y,o),s&&(0,c.Z)(d.y0,s),u&&(0,c.Z)(d.y1,u),l&&d.defined(l),f&&d.curve(f),d}function h(e){var t=void 0===e?{}:e,n=t.x,r=t.y,i=t.defined,o=t.curve,s=(0,a.Z)();return n&&(0,c.Z)(s.x,n),r&&(0,c.Z)(s.y,r),i&&s.defined(i),o&&s.curve(o),s}function v(e){var t=void 0===e?{}:e,n=t.startAngle,r=t.endAngle,i=t.padAngle,a=t.value,s=t.sort,u=t.sortValues,l=(0,o.Z)();return(null===s||null!=s)&&l.sort(s),(null===u||null!=u)&&l.sortValues(u),null!=a&&l.value(a),null!=i&&(0,c.Z)(l.padAngle,i),null!=n&&(0,c.Z)(l.startAngle,n),null!=r&&(0,c.Z)(l.endAngle,r),l}function m(e){var t=void 0===e?{}:e,n=t.angle,r=t.radius,i=t.defined,a=t.curve,o=(0,s.Z)();return n&&(0,c.Z)(o.angle,n),r&&(0,c.Z)(o.radius,r),i&&o.defined(i),a&&o.curve(a),o}function g(e){var t=e.keys,n=e.value,r=e.order,i=e.offset,a=(0,u.Z)();return t&&a.keys(t),n&&(0,c.Z)(a.value,n),r&&a.order((0,l.ZP)(r)),i&&a.offset((0,f.ZP)(i)),a}},73819:function(e,t,n){"use strict";function r(e,t){e(t)}n.d(t,{Z:function(){return r}})},94626:function(e,t,n){"use strict";n.d(t,{ZP:function(){return l},ed:function(){return c},nW:function(){return u}});var r=n(96720),i=n(96557),a=n(50724),o=n(16126),s=n(63852),u={expand:r.Z,diverging:i.Z,none:a.Z,silhouette:o.Z,wiggle:s.Z},c=Object.keys(u);function l(e){return e&&u[e]||u.none}},65205:function(e,t,n){"use strict";n.d(t,{ZP:function(){return l},s2:function(){return c},un:function(){return u}});var r=n(39912),i=n(92889),a=n(24362),o=n(16542),s=n(20659),u={ascending:r.Z,descending:i.Z,insideout:a.Z,none:o.Z,reverse:s.Z},c=Object.keys(u);function l(e){return e&&u[e]||u.none}},61841:function(e,t,n){"use strict";t.Z=function(e){var t=e.children,n=e.x,s=e.x0,c=e.x1,l=e.y,f=e.y0,d=e.y1,p=e.data,h=void 0===p?[]:p,v=e.defined,m=void 0===v?function(){return!0}:v,g=e.className,y=e.curve,b=e.innerRef,x=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o),k=(0,a.area)({x:n,x0:s,x1:c,y:l,y0:f,y1:d,defined:m,curve:y});return t?r.default.createElement(r.default.Fragment,null,t({path:k})):r.default.createElement("path",u({ref:b,className:(0,i.default)("visx-area",g),d:k(h)||""},x))};var r=s(n(72791)),i=s(n(81694)),a=n(40396),o=["children","x","x0","x1","y","y0","y1","data","defined","className","curve","innerRef"];function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}},89770:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.from,n=void 0===t?{x:0,y:0}:t,o=e.to,u=void 0===o?{x:1,y:1}:o,c=e.fill,l=void 0===c?"transparent":c,f=e.className,d=e.innerRef,p=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a),h=n.x===u.x||n.y===u.y;return r.default.createElement("line",s({ref:d,className:(0,i.default)("visx-line",f),x1:n.x,y1:n.y,x2:u.x,y2:u.y,fill:l,shapeRendering:h?"crispEdges":"auto"},p))};var r=o(n(72791)),i=o(n(81694)),a=["from","to","fill","className","innerRef"];function o(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}},6289:function(e,t,n){"use strict";t.Z=function(e){var t=e.children,n=e.data,s=void 0===n?[]:n,c=e.x,l=e.y,f=e.fill,d=void 0===f?"transparent":f,p=e.className,h=e.curve,v=e.innerRef,m=e.defined,g=void 0===m?function(){return!0}:m,y=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o),b=(0,a.line)({x:c,y:l,defined:g,curve:h});return t?r.default.createElement(r.default.Fragment,null,t({path:b})):r.default.createElement("path",u({ref:v,className:(0,i.default)("visx-linepath",p),d:b(s)||"",fill:d,strokeLinecap:"round"},y))};var r=s(n(72791)),i=s(n(81694)),a=n(40396),o=["children","data","x","y","fill","className","curve","innerRef","defined"];function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}},40396:function(e,t,n){"use strict";t.__esModule=!0,t.arc=function(e){var t=void 0===e?{}:e,n=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,s=t.startAngle,u=t.endAngle,c=t.padAngle,l=t.padRadius,f=(0,r.arc)();null!=n&&(0,i.default)(f.innerRadius,n);null!=a&&(0,i.default)(f.outerRadius,a);null!=o&&(0,i.default)(f.cornerRadius,o);null!=s&&(0,i.default)(f.startAngle,s);null!=u&&(0,i.default)(f.endAngle,u);null!=c&&(0,i.default)(f.padAngle,c);null!=l&&(0,i.default)(f.padRadius,l);return f},t.area=function(e){var t=void 0===e?{}:e,n=t.x,a=t.x0,o=t.x1,s=t.y,u=t.y0,c=t.y1,l=t.defined,f=t.curve,d=(0,r.area)();n&&(0,i.default)(d.x,n);a&&(0,i.default)(d.x0,a);o&&(0,i.default)(d.x1,o);s&&(0,i.default)(d.y,s);u&&(0,i.default)(d.y0,u);c&&(0,i.default)(d.y1,c);l&&d.defined(l);f&&d.curve(f);return d},t.line=function(e){var t=void 0===e?{}:e,n=t.x,a=t.y,o=t.defined,s=t.curve,u=(0,r.line)();n&&(0,i.default)(u.x,n);a&&(0,i.default)(u.y,a);o&&u.defined(o);s&&u.curve(s);return u},t.pie=function(e){var t=void 0===e?{}:e,n=t.startAngle,a=t.endAngle,o=t.padAngle,s=t.value,u=t.sort,c=t.sortValues,l=(0,r.pie)();(null===u||null!=u)&&l.sort(u);(null===c||null!=c)&&l.sortValues(c);null!=s&&l.value(s);null!=o&&(0,i.default)(l.padAngle,o);null!=n&&(0,i.default)(l.startAngle,n);null!=a&&(0,i.default)(l.endAngle,a);return l},t.radialLine=function(e){var t=void 0===e?{}:e,n=t.angle,a=t.radius,o=t.defined,s=t.curve,u=(0,r.radialLine)();n&&(0,i.default)(u.angle,n);a&&(0,i.default)(u.radius,a);o&&u.defined(o);s&&u.curve(s);return u},t.stack=function(e){var t=e.keys,n=e.value,s=e.order,u=e.offset,c=(0,r.stack)();t&&c.keys(t);n&&(0,i.default)(c.value,n);s&&c.order((0,a.default)(s));u&&c.offset((0,o.default)(u));return c};var r=n(29100),i=s(n(92603)),a=s(n(26510)),o=s(n(87104));function s(e){return e&&e.__esModule?e:{default:e}}},34876:function(e,t){"use strict";t.l8=function(e){return null==e?void 0:e[0]},t.xf=function(e){return null==e?void 0:e[1]}},63357:function(e,t){"use strict";t.Z=function(e){if("bandwidth"in e)return e.bandwidth();var t=e.range(),n=e.domain();return Math.abs(t[t.length-1]-t[0])/n.length}},92603:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){e(t)}},87104:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e&&i[e]||i.none},t.STACK_OFFSET_NAMES=t.STACK_OFFSETS=void 0;var r=n(29100),i={expand:r.stackOffsetExpand,diverging:r.stackOffsetDiverging,none:r.stackOffsetNone,silhouette:r.stackOffsetSilhouette,wiggle:r.stackOffsetWiggle};t.STACK_OFFSETS=i;var a=Object.keys(i);t.STACK_OFFSET_NAMES=a},26510:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e&&i[e]||i.none},t.STACK_ORDER_NAMES=t.STACK_ORDERS=void 0;var r=n(29100),i={ascending:r.stackOrderAscending,descending:r.stackOrderDescending,insideout:r.stackOrderInsideOut,none:r.stackOrderNone,reverse:r.stackOrderReverse};t.STACK_ORDERS=i;var a=Object.keys(i);t.STACK_ORDER_NAMES=a},15581:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(72791),i=n(25014),a=["dx","dy","textAnchor","innerRef","innerTextRef","verticalAnchor","angle","lineHeight","scaleToFit","capHeight","width"];function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}var s={overflow:"visible"};function u(e){var t=e.dx,n=void 0===t?0:t,u=e.dy,c=void 0===u?0:u,l=e.textAnchor,f=void 0===l?"start":l,d=e.innerRef,p=e.innerTextRef,h=(e.verticalAnchor,e.angle,e.lineHeight),v=void 0===h?"1em":h,m=(e.scaleToFit,e.capHeight,e.width,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a)),g=m.x,y=void 0===g?0:g,b=m.fontSize,x=(0,i.Z)(e),k=x.wordsByLines,w=x.startDy,_=x.transform;return r.createElement("svg",{ref:d,x:n,y:c,fontSize:b,style:s},k.length>0?r.createElement("text",o({ref:p,transform:_},m,{textAnchor:f}),k.map((function(e,t){return r.createElement("tspan",{key:t,x:y,dy:0===t?w:v},e.words.join(" "))}))):null)}},25014:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(72791),i=n(72296),a=n.n(i),o=n(41026),s=["verticalAnchor","scaleToFit","angle","width","lineHeight","capHeight","children","style"];function u(e){return"number"===typeof e}function c(e){return"number"===typeof e&&Number.isFinite(e)||"string"===typeof e}function l(e){var t=e.verticalAnchor,n=void 0===t?"end":t,i=e.scaleToFit,l=void 0!==i&&i,f=e.angle,d=e.width,p=e.lineHeight,h=void 0===p?"1em":p,v=e.capHeight,m=void 0===v?"0.71em":v,g=e.children,y=e.style,b=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),x=b.x,k=void 0===x?0:x,w=b.y,_=void 0===w?0:w,S=!c(k)||!c(_),T=(0,r.useMemo)((function(){return{wordsWithWidth:(null==g?[]:g.toString().split(/(?:(?!\u00A0+)\s+)/)).map((function(e){return{word:e,wordWidth:(0,o.Z)(e,y)||0}})),spaceWidth:(0,o.Z)("\xa0",y)||0}}),[g,y]),E=T.wordsWithWidth,C=T.spaceWidth,O=(0,r.useMemo)((function(){return S?[]:d||l?E.reduce((function(e,t){var n=t.word,r=t.wordWidth,i=e[e.length-1];if(i&&(null==d||l||(i.width||0)+r+C<d))i.words.push(n),i.width=i.width||0,i.width+=r+C;else{var a={words:[n],width:r};e.push(a)}return e}),[]):[{words:null==g?[]:g.toString().split(/(?:(?!\u00A0+)\s+)/)}]}),[S,d,l,g,E,C]),A=(0,r.useMemo)((function(){return S?"":"start"===n?a()("calc("+m+")"):"middle"===n?a()("calc("+(O.length-1)/2+" * -"+h+" + ("+m+" / 2))"):a()("calc("+(O.length-1)+" * -"+h+")")}),[S,n,m,O.length,h]),I=(0,r.useMemo)((function(){var e=[];if(S)return"";if(u(k)&&u(_)&&u(d)&&l&&O.length>0){var t=O[0].width||1,n="shrink-only"===l?Math.min(d/t,1):d/t,r=n,i=k-n*k,a=_-r*_;e.push("matrix("+n+", 0, 0, "+r+", "+i+", "+a+")")}return f&&e.push("rotate("+f+", "+k+", "+_+")"),e.length>0?e.join(" "):""}),[S,k,_,d,l,O,f]);return{wordsByLines:O,startDy:A,transform:I}}},12755:function(e,t,n){"use strict";n.r(t),n.d(t,{Text:function(){return r.Z},getStringWidth:function(){return i.Z},useText:function(){return a.Z}});var r=n(15581),i=n(41026),a=n(25014)},41026:function(e,t,n){"use strict";var r=n(49151),i=n.n(r),a="__react_svg_text_measurement_id";t.Z=i()((function(e,t){try{var n=document.getElementById(a);if(!n){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("aria-hidden","true"),r.style.width="0",r.style.height="0",r.style.position="absolute",r.style.top="-100%",r.style.left="-100%",(n=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("id",a),r.appendChild(n),document.body.appendChild(r)}return Object.assign(n.style,t),n.textContent=e,n.getComputedTextLength()}catch(i){return null}}),(function(e,t){return e+"_"+JSON.stringify(t)}))},61848:function(e,t,n){"use strict";t.Z=function(e){var t=e.dx,n=void 0===t?0:t,o=e.dy,c=void 0===o?0:o,l=e.textAnchor,f=void 0===l?"start":l,d=e.innerRef,p=e.innerTextRef,h=(e.verticalAnchor,e.angle,e.lineHeight),v=void 0===h?"1em":h,m=(e.scaleToFit,e.capHeight,e.width,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a)),g=m.x,y=void 0===g?0:g,b=m.fontSize,x=(0,i.default)(e),k=x.wordsByLines,w=x.startDy,_=x.transform;return r.default.createElement("svg",{ref:d,x:n,y:c,fontSize:b,style:u},k.length>0?r.default.createElement("text",s({ref:p,transform:_},m,{textAnchor:f}),k.map((function(e,t){return r.default.createElement("tspan",{key:t,x:y,dy:0===t?w:v},e.words.join(" "))}))):null)};var r=o(n(72791)),i=o(n(15637)),a=["dx","dy","textAnchor","innerRef","innerTextRef","verticalAnchor","angle","lineHeight","scaleToFit","capHeight","width"];function o(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var u={overflow:"visible"}},15637:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.verticalAnchor,n=void 0===t?"end":t,s=e.scaleToFit,u=void 0!==s&&s,f=e.angle,d=e.width,p=e.lineHeight,h=void 0===p?"1em":p,v=e.capHeight,m=void 0===v?"0.71em":v,g=e.children,y=e.style,b=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o),x=b.x,k=void 0===x?0:x,w=b.y,_=void 0===w?0:w,S=!l(k)||!l(_),T=(0,r.useMemo)((function(){return{wordsWithWidth:(null==g?[]:g.toString().split(/(?:(?!\u00A0+)\s+)/)).map((function(e){return{word:e,wordWidth:(0,a.default)(e,y)||0}})),spaceWidth:(0,a.default)("\xa0",y)||0}}),[g,y]),E=T.wordsWithWidth,C=T.spaceWidth,O=(0,r.useMemo)((function(){return S?[]:d||u?E.reduce((function(e,t){var n=t.word,r=t.wordWidth,i=e[e.length-1];if(i&&(null==d||u||(i.width||0)+r+C<d))i.words.push(n),i.width=i.width||0,i.width+=r+C;else{var a={words:[n],width:r};e.push(a)}return e}),[]):[{words:null==g?[]:g.toString().split(/(?:(?!\u00A0+)\s+)/)}]}),[S,d,u,g,E,C]),A=(0,r.useMemo)((function(){return S?"":"start"===n?(0,i.default)("calc("+m+")"):"middle"===n?(0,i.default)("calc("+(O.length-1)/2+" * -"+h+" + ("+m+" / 2))"):(0,i.default)("calc("+(O.length-1)+" * -"+h+")")}),[S,n,m,O.length,h]),I=(0,r.useMemo)((function(){var e=[];if(S)return"";if(c(k)&&c(_)&&c(d)&&u&&O.length>0){var t=O[0].width||1,n="shrink-only"===u?Math.min(d/t,1):d/t,r=n,i=k-n*k,a=_-r*_;e.push("matrix("+n+", 0, 0, "+r+", "+i+", "+a+")")}return f&&e.push("rotate("+f+", "+k+", "+_+")"),e.length>0?e.join(" "):""}),[S,k,_,d,u,O,f]);return{wordsByLines:O,startDy:A,transform:I}};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(72791)),i=s(n(72296)),a=s(n(49711)),o=["verticalAnchor","scaleToFit","angle","width","lineHeight","capHeight","children","style"];function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return"number"===typeof e}function l(e){return"number"===typeof e&&Number.isFinite(e)||"string"===typeof e}},49711:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(49151))&&r.__esModule?r:{default:r};var a="__react_svg_text_measurement_id";var o=(0,i.default)((function(e,t){try{var n=document.getElementById(a);if(!n){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("aria-hidden","true"),r.style.width="0",r.style.height="0",r.style.position="absolute",r.style.top="-100%",r.style.left="-100%",(n=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("id",a),r.appendChild(n),document.body.appendChild(r)}return Object.assign(n.style,t),n.textContent=e,n.getComputedTextLength()}catch(i){return null}}),(function(e,t){return e+"_"+JSON.stringify(t)}));t.default=o},40884:function(e,t,n){"use strict";n.d(t,{Z:function(){return V}});var r=n(52007),i=n.n(r),a=n(72791),o=n(47332),s=n(54164);function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return l(u(t=e.call.apply(e,[this].concat(r))||this),"node",void 0),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,c(t,n);var i=r.prototype;return i.componentWillUnmount=function(){this.node&&document.body&&(document.body.removeChild(this.node),delete this.node)},i.render=function(){return this.node||"undefined"===typeof document||(this.node=document.createElement("div"),null!=this.props.zIndex&&(this.node.style.zIndex=""+this.props.zIndex),document.body.append(this.node)),this.node?s.createPortal(this.props.children,this.node):null},r}(a.PureComponent);l(f,"propTypes",{zIndex:i().oneOfType([i().number,i().string])});var d=n(81694),p=n.n(d),h=["className","top","left","offsetLeft","offsetTop","style","children","unstyled","applyPositionStyle"];function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}var m={position:"absolute",backgroundColor:"white",color:"#666666",padding:".3rem .5rem",borderRadius:"3px",fontSize:"14px",boxShadow:"0 1px 2px rgba(33,33,33,0.2)",lineHeight:"1em",pointerEvents:"none"};function g(e){var t=e.className,n=e.top,r=e.left,i=e.offsetLeft,o=void 0===i?10:i,s=e.offsetTop,u=void 0===s?10:s,c=e.style,l=void 0===c?m:c,f=e.children,d=e.unstyled,g=void 0!==d&&d,y=e.applyPositionStyle,b=void 0!==y&&y,x=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,h);return a.createElement("div",v({className:p()("visx-tooltip",t),style:v({top:null==n||null==u?n:n+u,left:null==r||null==o?r:r+o},b&&{position:"absolute"},!g&&l)},x),f)}function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}g.propTypes={children:i().node,className:i().string,left:i().number,offsetLeft:i().number,offsetTop:i().number,top:i().number,applyPositionStyle:i().bool,unstyled:i().bool};var w={top:0,right:0,bottom:0,left:0,width:0,height:0};var _=["children","getRects","left","offsetLeft","offsetTop","parentRect","rect","style","top","unstyled"];function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}var T=function(e){var t,n;return n=t=function(t){var n,r;function i(e){var n;return k(b(n=t.call(this,e)||this),"node",void 0),n.state={rect:void 0,parentRect:void 0},n.getRects=n.getRects.bind(b(n)),n}r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,x(n,r);var o=i.prototype;return o.componentDidMount=function(){var e=this;this.node=s.findDOMNode(this),this.setState((function(){return e.getRects()}))},o.getRects=function(){if(!this.node)return this.state;var e=this.node,t=e.parentNode;return{rect:e.getBoundingClientRect?e.getBoundingClientRect():w,parentRect:null!=t&&t.getBoundingClientRect?t.getBoundingClientRect():w}},o.render=function(){return a.createElement(e,y({getRects:this.getRects},this.state,this.props))},i}(a.PureComponent),k(t,"displayName","withBoundingRects("+(e.displayName||"")+")"),n}((function(e){var t,n=e.children,r=(e.getRects,e.left),i=void 0===r?0:r,o=e.offsetLeft,s=void 0===o?10:o,u=e.offsetTop,c=void 0===u?10:u,l=e.parentRect,f=e.rect,d=e.style,p=void 0===d?m:d,h=e.top,v=void 0===h?0:h,y=e.unstyled,b=void 0!==y&&y,x=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,_);if(f&&l){var k=i,w=v,T=!1,E=!1;if(l.width){var C=k+s+f.width-l.width,O=f.width-k-s;T=C>0&&C>O}else{var A=k+s+f.width-window.innerWidth,I=f.width-k-s;T=A>0&&A>I}if(l.height){var R=w+c+f.height-l.height,N=f.height-w-c;E=R>0&&R>N}else E=w+c+f.height>window.innerHeight;k=T?k-f.width-s:k+s,w=E?w-f.height-c:w+c,t="translate("+(k=Math.round(k))+"px, "+(w=Math.round(w))+"px)"}return a.createElement(g,S({style:S({left:0,top:0,transform:t},!b&&p)},x),n)})),E=["detectBounds","zIndex"],C=["left","top","detectBounds","zIndex"];function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O.apply(this,arguments)}function A(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var I=n(27229),R=n(20801),N=n(50851),P=n(26116),M=["debounce","detectBounds","horizontalCrosshairStyle","glyphStyle","renderTooltip","renderGlyph","resizeObserverPolyfill","scroll","showDatumGlyph","showHorizontalCrosshair","showSeriesGlyphs","showVerticalCrosshair","snapTooltipToDatumX","snapTooltipToDatumY","verticalCrosshairStyle","zIndex"],D=["x","y"];function L(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}var F={position:"absolute",pointerEvents:"none",fontSize:0,lineHeight:0},Z={position:"absolute",left:0,top:0,opacity:0,width:0,height:0,pointerEvents:"none"};function B(e){var t=((0,a.useContext)(R.Z)||{}).theme;return a.createElement("circle",j({cx:e.x,cy:e.y,r:e.size,fill:e.color,stroke:null==t?void 0:t.backgroundColor,strokeWidth:1.5,paintOrder:"fill"},e.glyphStyle))}function U(e){return a.createElement(B,e)}function V(e){var t=(0,a.useContext)(I.Z);return null!=t&&t.tooltipOpen?a.createElement(z,e):null}function z(e){var t,n,r,i,s,u,c,l,d,p,h,v,y,b=e.debounce,x=e.detectBounds,k=e.horizontalCrosshairStyle,w=e.glyphStyle,_=e.renderTooltip,S=e.renderGlyph,B=void 0===S?U:S,V=e.resizeObserverPolyfill,z=e.scroll,W=void 0===z||z,H=e.showDatumGlyph,G=void 0!==H&&H,q=e.showHorizontalCrosshair,K=void 0!==q&&q,Y=e.showSeriesGlyphs,X=void 0!==Y&&Y,Q=e.showVerticalCrosshair,J=void 0!==Q&&Q,$=e.snapTooltipToDatumX,ee=void 0!==$&&$,te=e.snapTooltipToDatumY,ne=void 0!==te&&te,re=e.verticalCrosshairStyle,ie=e.zIndex,ae=L(e,M),oe=(0,a.useContext)(R.Z)||{},se=oe.colorScale,ue=oe.theme,ce=oe.innerHeight,le=oe.innerWidth,fe=oe.margin,de=oe.xScale,pe=oe.yScale,he=oe.dataRegistry,ve=(0,a.useContext)(I.Z),me=function(e){var t=void 0===e?{}:e,n=t.detectBounds,r=void 0===n||n,i=t.zIndex,s=A(t,E),u=(0,o.Z)(s),c=u[0],l=u[1],d=u[2],p=(0,a.useMemo)((function(){return function(e){var t=e.left,n=void 0===t?0:t,o=e.top,s=void 0===o?0:o,u=e.detectBounds,c=e.zIndex,d=A(e,C),p=null==c?i:c,h=(null==u?r:u)?T:g,v=n+(l.left||0)+window.scrollX,m=s+(l.top||0)+window.scrollY;return a.createElement(f,{zIndex:p},a.createElement(h,O({left:v,top:m},d)))}}),[r,i,l.left,l.top]);return{containerRef:c,containerBounds:l,forceRefreshBounds:d,TooltipInPortal:p}}({debounce:b,detectBounds:x,polyfill:V,scroll:W,zIndex:ie}),ge=me.containerRef,ye=me.TooltipInPortal,be=me.forceRefreshBounds,xe=(0,a.useCallback)((function(e){var t;ge(null!=(t=null==e?void 0:e.parentElement)?t:null)}),[ge]),ke=null!=ve&&ve.tooltipOpen?_(j({},ve,{colorScale:se})):null,we=(null==ve?void 0:ve.tooltipOpen)&&null!=ke,_e=(0,a.useRef)(!1);(0,a.useEffect)((function(){we&&!_e.current&&be(),_e.current=we}),[we,be]);var Se=null==ve?void 0:ve.tooltipLeft,Te=null==ve?void 0:ve.tooltipTop,Ee=de?(0,N.Z)(de):0,Ce=pe?(0,N.Z)(pe):0,Oe=(0,a.useCallback)((function(e,t){var n,r,i=null==he?void 0:he.get(e),a=null==i?void 0:i.xAccessor,o=null==i?void 0:i.yAccessor;return{left:de&&a?null!=(n=Number(de(a(t)))+Ee/2)?n:0:void 0,top:pe&&o?null!=(r=Number(pe(o(t)))+Ce/2)?r:0:void 0}}),[he,Ee,Ce,de,pe]),Ae=null==ve||null==(t=ve.tooltipData)?void 0:t.nearestDatum,Ie=null!=(n=null==Ae?void 0:Ae.key)?n:"";if(we&&Ae&&(ee||ne)){var Re=Oe(Ie,Ae.datum),Ne=Re.left,Pe=Re.top;Se=ee&&(0,P.Z)(Ne)?Ne:Se,Te=ne&&(0,P.Z)(Pe)?Pe:Te}var Me=[];if(we&&(G||X)){var De,Le,je,Fe=Number(null!=(De=null==w?void 0:w.radius)?De:4);if(X)Object.values(null!=(Le=null==ve||null==(je=ve.tooltipData)?void 0:je.datumByKey)?Le:{}).forEach((function(e){var t,n,r,i=e.key,a=e.datum,o=e.index,s=null!=(t=null!=(n=null==se?void 0:se(i))?n:null==ue||null==(r=ue.htmlLabel)?void 0:r.color)?t:"#222",u=Oe(i,a),c=u.left,l=u.top;(0,P.Z)(c)&&(0,P.Z)(l)&&Me.push({key:i,color:s,datum:a,index:o,size:Fe,x:c,y:l,glyphStyle:w,isNearestDatum:!!Ae&&Ae.key===i})}));else if(Ae){var Ze=Oe(Ie,Ae.datum),Be=Ze.left,Ue=Ze.top;if((0,P.Z)(Be)&&(0,P.Z)(Ue)){var Ve,ze,We,He,Ge,qe,Ke=null!=(Ve=null!=(ze=null!=(We=null!=(He=Ie&&(null==se?void 0:se(Ie)))?He:null)?We:null==ue||null==(Ge=ue.gridStyles)?void 0:Ge.stroke)?ze:null==ue||null==(qe=ue.htmlLabel)?void 0:qe.color)?Ve:"#222";Me.push({key:Ie,color:Ke,datum:Ae.datum,index:Ae.index,size:Fe,x:Be,y:Ue,glyphStyle:w,isNearestDatum:!0})}}}return a.createElement(a.Fragment,null,a.createElement("svg",{ref:xe,style:Z}),we&&a.createElement(a.Fragment,null,J&&a.createElement(ye,{className:"visx-crosshair visx-crosshair-vertical",left:Se,top:null==fe?void 0:fe.top,offsetLeft:0,offsetTop:0,detectBounds:!1,style:F},a.createElement("svg",{width:"1",height:ce,overflow:"visible"},a.createElement("line",j({x1:0,x2:0,y1:0,y2:ce,strokeWidth:1.5,stroke:null!=(r=null!=(i=null==ue||null==(s=ue.gridStyles)?void 0:s.stroke)?i:null==ue||null==(u=ue.htmlLabel)?void 0:u.color)?r:"#222"},re)))),K&&a.createElement(ye,{className:"visx-crosshair visx-crosshair-horizontal",left:null==fe?void 0:fe.left,top:Te,offsetLeft:0,offsetTop:0,detectBounds:!1,style:F},a.createElement("svg",{width:le,height:"1",overflow:"visible"},a.createElement("line",j({x1:0,x2:le,y1:0,y2:0,strokeWidth:1.5,stroke:null!=(c=null!=(l=null==ue||null==(d=ue.gridStyles)?void 0:d.stroke)?l:null==ue||null==(p=ue.htmlLabel)?void 0:p.color)?c:"#222"},k)))),Me.map((function(e,t){var n=e.x,r=e.y,i=L(e,D);return a.createElement(ye,{key:t,className:"visx-tooltip-glyph",left:n,top:r,offsetLeft:0,offsetTop:0,detectBounds:!1,style:F},a.createElement("svg",{overflow:"visible"},B(j({x:0,y:0},i))))})),a.createElement(ye,j({left:Se,top:Te,style:j({},m,{background:null!=(h=null==ue?void 0:ue.backgroundColor)?h:"white",boxShadow:"0 1px 2px "+(null!=ue&&null!=(v=ue.htmlLabel)&&v.color?(null==ue||null==(y=ue.htmlLabel)?void 0:y.color)+"55":"#22222255")},null==ue?void 0:ue.htmlLabel)},ae),ke)))}B.propTypes={isNearestDatum:i().bool.isRequired},V.propTypes={renderTooltip:i().func.isRequired,renderGlyph:i().func,snapTooltipToDatumX:i().bool,snapTooltipToDatumY:i().bool,showVerticalCrosshair:i().bool,showHorizontalCrosshair:i().bool,showDatumGlyph:i().bool,showSeriesGlyphs:i().bool},z.propTypes={renderTooltip:i().func.isRequired,renderGlyph:i().func,snapTooltipToDatumX:i().bool,snapTooltipToDatumY:i().bool,showVerticalCrosshair:i().bool,showHorizontalCrosshair:i().bool,showDatumGlyph:i().bool,showSeriesGlyphs:i().bool}},7554:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(52007),i=n.n(r),a=n(72791),o=n(87700),s=n(20801),u=n(47702),c=n(68699),l=n(27229),f=n(40207),d=n(50833),p=n(89629),h=n(41316),v=n(58951);function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}var g={top:50,right:50,bottom:50,left:50},y=[h.hD];function b(e){var t=e.accessibilityLabel,n=void 0===t?"XYChart":t,r=e.captureEvents,i=void 0===r||r,x=e.children,k=e.height,w=e.horizontal,_=e.margin,S=void 0===_?g:_,T=e.onPointerMove,E=e.onPointerOut,C=e.onPointerUp,O=e.onPointerDown,A=e.pointerEventsDataKey,I=void 0===A?"nearest":A,R=e.theme,N=e.width,P=e.xScale,M=e.yScale,D=(0,a.useContext)(s.Z).setDimensions,L=(0,a.useContext)(l.Z),j=(0,u.Z)();(0,a.useEffect)((function(){D&&null!=N&&null!=k&&N>0&&k>0&&D({width:N,height:k,margin:S})}),[D,N,k,S]);var F=(0,p.Z)({source:h.hD});return(0,v.ZP)({dataKey:"nearest"===I?v.tj:v.lN,onPointerMove:T,onPointerOut:E,onPointerUp:C,onPointerDown:O,allowedSources:y}),D?null==N||null==k?a.createElement(o.Z,null,(function(t){return a.createElement(b,m({},e,{width:null==e.width?t.width:e.width,height:null==e.height?t.height:e.height}))})):null==L?a.createElement(f.Z,null,a.createElement(b,e)):null==j?a.createElement(c.Z,null,a.createElement(b,e)):N>0&&k>0?a.createElement("svg",{width:N,height:k,"aria-label":n},x,i&&a.createElement("rect",m({x:S.left,y:S.top,width:N-S.left-S.right,height:k-S.top-S.bottom,fill:"transparent"},F))):null:P&&M?a.createElement(d.Z,{xScale:P,yScale:M,theme:R,initialDimensions:{width:N,height:k,margin:S},horizontal:w},a.createElement(b,e)):(console.warn("[@visx/xychart] XYChart: When no DataProvider is available in context, you must pass xScale & yScale config to XYChart."),null)}b.propTypes={accessibilityLabel:i().string,captureEvents:i().bool,width:i().number,height:i().number,children:i().node.isRequired,horizontal:i().oneOfType([i().bool,i().oneOf(["auto"])]),onPointerMove:i().func,onPointerOut:i().func,onPointerUp:i().func,onPointerDown:i().func,pointerEventsDataKey:i().oneOf(["all","nearest"])}},14367:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(52007),i=n.n(r),a=n(72791),o=n(54753),s=n(68974),u=n(36388),c=n(7925),l=["editable"],f=["x","y","AnnotationComponent"];function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function h(e){var t=e.editable,n=p(e,l),r=(0,a.useCallback)((function(e){return a.createElement(v,d({AnnotationComponent:t?s.Z:u.Z},e))}),[t]);return a.createElement(c.Z,d({AnnotationComponent:r},n))}function v(e){var t=e.x,n=void 0===t?0:t,r=e.y,i=void 0===r?0:r,s=e.AnnotationComponent,u=p(e,f),c=(0,a.useRef)({x:n,y:i}),l=(0,o.useSpring)({from:{x:c.current.x-n,y:c.current.y-i},to:{x:0,y:0},reset:!0});return(0,a.useEffect)((function(){c.current={x:n,y:i}}),[n,i]),a.createElement(o.animated.g,{transform:(0,o.to)([l.x,l.y],(function(e,t){return"translate("+e+", "+t+")"}))},a.createElement(s,d({x:n,y:i},u)))}h.propTypes={editable:i().bool}},46867:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(52007),i=n.n(r),a=n(72791),o=n(68974),s=n(36388),u=n(7925),c=["editable"];function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function f(e){var t=e.editable,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,c);return a.createElement(u.Z,l({AnnotationComponent:t?o.Z:s.Z},n))}f.propTypes={editable:i().bool}},72317:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(72791),i=n(52007),a=n.n(i),o=n(81694),s=n.n(o),u=n(99648),c=["className","x","y","stroke","radius"];function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function f(e){var t=e.className,n=e.x,i=e.y,a=e.stroke,o=void 0===a?"#222":a,f=e.radius,d=void 0===f?16:f,p=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,c),h=(0,r.useContext)(u.Z);return r.createElement("circle",l({className:s()("visx-annotation-subject","visx-annotation-subject-circle",t),cx:n||h.x,cy:i||h.y,r:d,fill:"transparent",pointerEvents:"none",stroke:o},p))}f.propTypes={className:a().string,stroke:a().string,radius:a().number};var d=n(20801);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function h(e){var t=(0,r.useContext)(d.Z).theme;return r.createElement(f,p({stroke:null==t?void 0:t.axisStyles.x.bottom.axisLine.stroke},e))}},91024:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(72791),i=n(52007),a=n.n(i),o=n(81694),s=n.n(o),u=n(99648);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e){var t,n,i,a,o=e.className,l=e.x,f=e.y,d=e.dx,p=e.dy,h=e.type,v=void 0===h?"elbow":h,m=e.stroke,g=void 0===m?"#222":m,y=e.pathProps,b=(0,r.useContext)(u.Z),x=null==l?null!=(t=b.x)?t:0:l,k=null==f?null!=(n=b.y)?n:0:f,w=null==d?null!=(i=b.dx)?i:0:d,_=null==p?null!=(a=b.dy)?a:0:p,S=x,T=k,E=x+w,C=k+_;"elbow"===v&&(Math.abs(w)<=Math.abs(_)?(S=E,T=k+(_>0?1:-1)*Math.abs(S-x)):(T=C,S=x+(w>0?1:-1)*Math.abs(T-k)));return r.createElement("path",c({className:s()("visx-annotation-connector",o),strokeWidth:1,stroke:g,fill:"transparent",pointerEvents:"none",d:"M"+x+","+k+("elbow"===v?"L"+S+","+T:"")+"L"+E+","+C},y))}l.propTypes={className:a().string,type:a().oneOf(["line","elbow"]),stroke:a().string};var f=n(20801);function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function p(e){var t=(0,r.useContext)(f.Z).theme;return r.createElement(l,d({stroke:null==t?void 0:t.axisStyles.x.bottom.axisLine.stroke},e))}},53943:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(72791),i=n(52007),a=n.n(i),o=n(81694),s=n.n(o),u=n(2086),c=n(61848),l=n(25014),f=n(47332),d=n(99648);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function h(e){var t=e.anchorLineOrientation,n=e.anchorLineStroke,i=e.verticalAnchor,a=e.horizontalAnchor,o=e.width,s=e.height,u={stroke:n,strokeWidth:2};return r.createElement(r.Fragment,null,"horizontal"===t&&"start"===i&&r.createElement("line",p({},u,{x1:0,x2:o,y1:0,y2:0})),"horizontal"===t&&"end"===i&&r.createElement("line",p({},u,{x1:0,x2:o,y1:s,y2:s})),"vertical"===t&&"start"===a&&r.createElement("line",p({},u,{x1:0,x2:0,y1:0,y2:s})),"vertical"===t&&"end"===a&&r.createElement("line",p({},u,{x1:o,x2:o,y1:0,y2:s})))}function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}h.propTypes={anchorLineOrientation:a().oneOf(["horizontal","vertical"]).isRequired,anchorLineStroke:a().string.isRequired,width:a().number.isRequired,height:a().number.isRequired};var m={top:12,right:12,bottom:12,left:12};function g(e){var t,n,i,a=e.anchorLineStroke,o=void 0===a?"#222":a,p=e.backgroundFill,g=void 0===p?"#eaeaea":p,y=e.backgroundPadding,b=e.backgroundProps,x=e.className,k=e.fontColor,w=void 0===k?"#222":k,_=e.horizontalAnchor,S=e.resizeObserverPolyfill,T=e.showAnchorLine,E=void 0===T||T,C=e.showBackground,O=void 0===C||C,A=e.subtitle,I=e.subtitleDy,R=void 0===I?4:I,N=e.subtitleFontSize,P=void 0===N?12:N,M=e.subtitleFontWeight,D=void 0===M?200:M,L=e.subtitleProps,j=e.title,F=e.titleFontSize,Z=void 0===F?16:F,B=e.titleFontWeight,U=void 0===B?600:B,V=e.titleProps,z=e.verticalAnchor,W=e.width,H=e.maxWidth,G=void 0===H?125:H,q=e.x,K=e.y,Y=(0,f.Z)({polyfill:S}),X=Y[0],Q=Y[1],J=(0,f.Z)({polyfill:S}),$=J[0],ee=J[1],te=(0,r.useMemo)((function(){return function(e){return"undefined"===typeof e?m:"number"===typeof e?{top:e,right:e,bottom:e,left:e}:v({},m,e)}(y)}),[y]),ne=(0,r.useContext)(d.Z),re=ne.x,ie=void 0===re?0:re,ae=ne.y,oe=void 0===ae?0:ae,se=ne.dx,ue=void 0===se?0:se,ce=ne.dy,le=void 0===ce?0:ce,fe=Math.floor(te.top+te.bottom+(null!=(t=Q.height)?t:0)+(null!=(n=ee.height)?n:0)),de=(0,l.Z)(v({children:j,verticalAnchor:"start",capHeight:Z,fontSize:Z,fontWeight:U,fontFamily:null==V?void 0:V.fontFamily,width:G},V)).wordsByLines,pe=(0,l.Z)(v({children:A,verticalAnchor:"start",capHeight:P,fontSize:P,fontWeight:D,fontFamily:null==L?void 0:L.fontFamily,width:G},L)).wordsByLines,he=de.reduce((function(e,t){var n;return Math.max(e,null!=(n=t.width)?n:0)}),0),ve=pe.reduce((function(e,t){var n;return Math.max(e,null!=(n=t.width)?n:0)}),0),me=Math.ceil(Math.min(G,Math.max(he,ve))),ge=te.right+te.left+me,ye=null!=W?W:ge,be=ye-te.left-te.right,xe=_||(Math.abs(ue)<Math.abs(le)?"middle":ue>0?"start":"end"),ke=z||(Math.abs(ue)>Math.abs(le)?"middle":le>0?"start":"end"),we=(0,r.useMemo)((function(){var e=null==q?ie+ue:q,t=null==K?oe+le:K;return"middle"===xe&&(e-=ye/2),"end"===xe&&(e-=ye),"middle"===ke&&(t-=fe/2),"end"===ke&&(t-=fe),{x:e,y:t}}),[q,ie,ue,K,oe,le,xe,ke,ye,fe]),_e=null==V?void 0:V.fontFamily,Se=(0,r.useMemo)((function(){return{fontSize:Z,fontWeight:U,fontFamily:_e}}),[Z,U,_e]),Te=null==L?void 0:L.fontFamily,Ee=(0,r.useMemo)((function(){return{fontSize:P,fontWeight:D,fontFamily:Te}}),[P,D,Te]);return j||A?r.createElement(u.Z,{top:we.y,left:we.x,pointerEvents:"none",className:s()("visx-annotationlabel",x),opacity:0===Q.height&&0===ee.height?0:1},O&&r.createElement("rect",v({className:"visx-annotationlabel-background",fill:g,x:0,y:0,width:ye,height:fe},b)),E&&r.createElement(h,{anchorLineOrientation:Math.abs(ue)>Math.abs(le)?"vertical":"horizontal",anchorLineStroke:o,verticalAnchor:ke,horizontalAnchor:xe,width:ye,height:fe}),j&&r.createElement(c.Z,v({innerTextRef:X,fill:w,verticalAnchor:"start",x:te.left+("middle"===(null==V?void 0:V.textAnchor)?be/2:0),y:te.top,width:be,capHeight:Z,style:Se},V),j),A&&r.createElement(c.Z,v({innerTextRef:$,fill:w,verticalAnchor:"start",x:te.left+("middle"===(null==L?void 0:L.textAnchor)?be/2:0),y:te.top+(null!=(i=Q.height)?i:0),dy:j?R:0,width:be,capHeight:P,style:Ee},L),A)):null}g.propTypes={anchorLineStroke:a().string,backgroundFill:a().string,backgroundPadding:a().oneOfType([a().number,a().shape({top:a().number,right:a().number,bottom:a().number,left:a().number})]),className:a().string,fontColor:a().string,showAnchorLine:a().bool,showBackground:a().bool,subtitle:a().string,subtitleDy:a().number,title:a().string,width:a().number,maxWidth:a().number,x:a().number,y:a().number};var y=n(20801);function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}var x={fillOpacity:.7};function k(e){var t=(0,r.useContext)(y.Z).theme,n=null==t?void 0:t.svgLabelBig,i=null==t?void 0:t.svgLabelSmall;return r.createElement(g,b({anchorLineStroke:null==t?void 0:t.axisStyles.x.bottom.axisLine.stroke,backgroundFill:null==t?void 0:t.backgroundColor,backgroundProps:x,showAnchorLine:!0,subtitleFontSize:null==i?void 0:i.fontSize,subtitleFontWeight:null==i?void 0:i.fontWeight,subtitleProps:i,titleFontSize:null==n?void 0:n.fontSize,titleFontWeight:null==n?void 0:n.fontWeight,titleProps:n},e))}},77756:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(52007),i=n.n(r),a=n(72791),o=n(81694),s=n.n(o),u=n(99648),c=["className","x","y","orientation","min","max","stroke"];function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function f(e){var t=e.className,n=e.x,r=e.y,i=e.orientation,o=void 0===i?"vertical":i,f=e.min,d=e.max,p=e.stroke,h=void 0===p?"#222":p,v=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,c),m=(0,a.useContext)(u.Z),g="vertical"===o;return a.createElement("line",l({className:s()("visx-annotation-subject","visx-annotation-subject-line",t),x1:g?n||m.x:f,x2:g?n||m.x:d,y1:g?f:r||m.y,y2:g?d:r||m.y,fill:"transparent",pointerEvents:"none",stroke:h},v))}f.propTypes={className:i().string,stroke:i().string,strokeWidth:i().number,orientation:i().oneOf(["vertical","horizontal"]),x:i().number,y:i().number,min:i().number.isRequired,max:i().number.isRequired};var d=n(20801),p=["min","max"];function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function v(e){var t,n,r,i=e.min,o=e.max,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,p),u=(0,a.useContext)(d.Z),c=u.theme,l=u.margin,v=u.innerHeight,m=void 0===v?0:v,g=u.innerWidth,y=void 0===g?0:g;return a.createElement(f,h({stroke:null==c?void 0:c.axisStyles.x.bottom.axisLine.stroke,min:null!=(t=null!=i?i:"horizontal"===s.orientation?null==l?void 0:l.left:null==l?void 0:l.top)?t:0,max:null!=o?o:"horizontal"===s.orientation?(null!=(n=null==l?void 0:l.left)?n:0)+y:(null!=(r=null==l?void 0:l.top)?r:0)+m},s))}v.propTypes={min:i().number,max:i().number}},7925:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(52007),i=n.n(r),a=n(72791),o=n(64644),s=n(20801),u=n(50851),c=n(26116),l=["AnnotationComponent","children","datum","dataKey","xAccessor","yAccessor","dx","dy"];function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function d(e){var t,n,r=e.AnnotationComponent,i=e.children,d=e.datum,p=e.dataKey,h=e.xAccessor,v=e.yAccessor,m=e.dx,g=void 0===m?0:m,y=e.dy,b=void 0===y?0:y,x=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,l),k=(0,a.useContext)(s.Z)||{},w=k.innerHeight,_=k.innerWidth,S=k.margin,T=k.xScale,E=k.yScale,C=k.dataRegistry,O=(0,a.useMemo)((function(){return T?(0,u.Z)(T):0}),[T]),A=(0,a.useMemo)((function(){return E?(0,u.Z)(E):0}),[E]);if((!h||!v)&&!p)return console.warn("[@visx/xychart/BaseAnnotation]: dataKey or x/yAccessors must be specified."),null;var I=h&&v||null==p?null:null==C?void 0:C.get(p),R=h||(null==I?void 0:I.xAccessor),N=v||(null==I?void 0:I.yAccessor);if(!T||!E||!_||!w||!R||!N||!S)return null;var P=(null!=(t=(0,o.Z)(T(R(d))))?t:NaN)+O/2,M=(null!=(n=(0,o.Z)(E(N(d))))?n:NaN)+A/2,D=P+g+16>S.left+_?-g:g,L=M+b+16>S.top+w?-b:b;return(0,c.Z)(P)&&(0,c.Z)(M)?a.createElement(r,f({width:_,height:w},x,{x:P,y:M,dx:D,dy:L}),i):null}d.propTypes={dataKey:i().string,xAccessor:i().func,yAccessor:i().func}},50381:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(72791),i=n(89448),a=n(36768);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){return r.createElement(a.Z,o({AxisComponent:i.Z},e))}},78057:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var r=n(72791),i=n(81694),a=n.n(i),o=n(67743),s=n(32737),u=n(64644),c=n(69776),l=n(15581),f={top:"top",left:"left",right:"right",bottom:"bottom"};function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function p(e){var t=e.hideTicks,n=e.horizontal,i=e.orientation,s=e.tickClassName,u=e.tickComponent,p=e.tickLabelProps,h=e.tickStroke,v=void 0===h?"#222":h,m=e.tickTransform,g=e.ticks,y=e.strokeWidth,b=e.tickLineProps;return g.map((function(e){var h,g=e.value,x=e.index,k=e.from,w=e.to,_=e.formattedValue,S=null!=(h=p[x])?h:{},T=Math.max(10,"number"===typeof S.fontSize&&S.fontSize||0),E=w.y+(n&&i!==f.top?T:0);return r.createElement(o.Z,{key:"visx-tick-"+g+"-"+x,className:a()("visx-axis-tick",s),transform:m},!t&&r.createElement(c.Z,d({from:k,to:w,stroke:v,strokeWidth:y,strokeLinecap:"square"},b)),u?u(d({},S,{x:w.x,y:E,formattedValue:_})):r.createElement(l.Z,d({x:w.x,y:E},S),_))}))}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}var v={textAnchor:"middle",fontFamily:"Arial",fontSize:10,fill:"#222"};function m(e){var t=e.axisFromPoint,n=e.axisLineClassName,i=e.axisToPoint,o=e.hideAxisLine,s=e.hideTicks,u=e.horizontal,d=e.label,m=void 0===d?"":d,g=e.labelClassName,y=e.labelOffset,b=void 0===y?14:y,x=e.labelProps,k=void 0===x?v:x,w=e.orientation,_=void 0===w?f.bottom:w,S=e.scale,T=e.stroke,E=void 0===T?"#222":T,C=e.strokeDasharray,O=e.strokeWidth,A=void 0===O?1:O,I=e.tickClassName,R=e.tickComponent,N=e.tickLineProps,P=e.tickLabelProps,M=void 0===P?function(){return v}:P,D=e.tickLength,L=void 0===D?8:D,j=e.tickStroke,F=void 0===j?"#222":j,Z=e.tickTransform,B=e.ticks,U=e.ticksComponent,V=void 0===U?p:U,z=B.map((function(e){var t=e.value,n=e.index;return M(t,n,B)})),W=Math.max.apply(Math,[10].concat(z.map((function(e){return"number"===typeof e.fontSize?e.fontSize:0}))));return r.createElement(r.Fragment,null,V({hideTicks:s,horizontal:u,orientation:_,scale:S,tickClassName:I,tickComponent:R,tickLabelProps:z,tickStroke:F,tickTransform:Z,ticks:B,strokeWidth:A,tickLineProps:N}),!o&&r.createElement(c.Z,{className:a()("visx-axis-line",n),from:t,to:i,stroke:E,strokeWidth:A,strokeDasharray:C}),m&&r.createElement(l.Z,h({className:a()("visx-axis-label",g)},function(e){var t,n,r,i=e.labelOffset,a=e.labelProps,o=e.orientation,s=e.range,u=e.tickLabelFontSize,c=e.tickLength,l=o===f.left||o===f.top?-1:1;if(o===f.top||o===f.bottom){var d=o===f.bottom&&"number"===typeof a.fontSize?a.fontSize:0;t=(Number(s[0])+Number(s[s.length-1]))/2,n=l*(c+i+u+d)}else t=l*((Number(s[0])+Number(s[s.length-1]))/2),n=-(c+i),r="rotate("+90*l+")";return{x:t,y:n,transform:r}}({labelOffset:b,labelProps:k,orientation:_,range:S.range(),tickLabelFontSize:W,tickLength:L}),k),m))}var g=n(38066);var y=n(59409);function b(e,t){var n=e.x,r=e.y;return new y.Z(t?{x:n,y:r}:{x:r,y:n})}var x=["children","axisClassName","hideAxisLine","hideTicks","hideZero","left","numTicks","orientation","rangePadding","scale","tickFormat","tickLength","tickValues","top"];function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}function w(e){var t=e.children,n=void 0===t?m:t,i=e.axisClassName,c=e.hideAxisLine,l=void 0!==c&&c,d=e.hideTicks,p=void 0!==d&&d,h=e.hideZero,v=void 0!==h&&h,y=e.left,w=void 0===y?0:y,_=e.numTicks,S=void 0===_?10:_,T=e.orientation,E=void 0===T?f.bottom:T,C=e.rangePadding,O=void 0===C?0:C,A=e.scale,I=e.tickFormat,R=e.tickLength,N=void 0===R?8:R,P=e.tickValues,M=e.top,D=void 0===M?0:M,L=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,x),j=null!=I?I:function(e){return"tickFormat"in e?e.tickFormat():g.Z}(A),F=E===f.left,Z=E===f.top,B=Z||E===f.bottom,U=function(e,t){void 0===t&&(t="center");var n=e;if("start"!==t&&"bandwidth"in n){var r=n.bandwidth();return"center"===t&&(r/=2),n.round()&&(r=Math.round(r)),function(e){var t=n(e);return"number"===typeof t?t+r:t}}return e}(A),V=F||Z?-1:1,z=A.range(),W=b({x:Number(z[0])+.5-O,y:0},B),H=b({x:Number(z[z.length-1])+.5+O,y:0},B),G=(null!=P?P:(0,s.Z)(A,S)).filter((function(e){return!v||0!==e&&"0"!==e})).map((function(e,t){return{value:e,index:t}})),q=G.map((function(e){var t=e.value,n=e.index,r=(0,u.Z)(U(t));return{value:t,index:n,from:b({x:r,y:0},B),to:b({x:r,y:N*V},B),formattedValue:j(t,n,G)}}));return r.createElement(o.Z,{className:a()("visx-axis",i),top:D,left:w},n(k({},L,{axisFromPoint:W,axisToPoint:H,hideAxisLine:l,hideTicks:p,hideZero:v,horizontal:B,numTicks:S,orientation:E,rangePadding:O,scale:A,tickFormat:j,tickLength:N,tickPosition:U,tickSign:V,ticks:q})))}var _=n(36768);function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}function T(e){return r.createElement(_.Z,S({AxisComponent:w},e))}},36768:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(72791),i=n(20801),a=["AxisComponent"];function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){var t,n,s,u,c,l,f,d=e.AxisComponent,p=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a),h=(0,r.useContext)(i.Z),v=h.theme,m=h.xScale,g=h.yScale,y=h.margin,b=h.width,x=h.height,k=p.orientation,w=(0,r.useMemo)((function(){var e,t,n,r;return"left"===k||"right"===k?null==v||null==(e=v.axisStyles)||null==(t=e.y)?void 0:t[k]:null==v||null==(n=v.axisStyles)||null==(r=n.x)?void 0:r[k]}),[v,k]),_=(0,r.useMemo)((function(){return p.tickLabelProps||w?function(e,t,n){return o({},null==w?void 0:w.tickLabel,{width:"left"===k||"right"===k?null==y?void 0:y[k]:void 0},null==p.tickLabelProps?void 0:p.tickLabelProps(e,t,n))}:void 0}),[p.tickLabelProps,w,k,y]),S="bottom"===k?(null!=x?x:0)-(null!=(t=null==y?void 0:y.bottom)?t:0):"top"===k&&null!=(n=null==y?void 0:y.top)?n:0,T="left"===k?null!=(s=null==y?void 0:y.left)?s:0:"right"===k?(null!=b?b:0)-(null!=(u=null==y?void 0:y.right)?u:0):0,E="left"===k||"right"===k?g:m;return E?r.createElement(d,o({top:S,left:T,labelProps:null==w?void 0:w.axisLabel,stroke:null==w||null==(c=w.axisLine)?void 0:c.stroke,strokeWidth:null==w||null==(l=w.axisLine)?void 0:l.strokeWidth,tickLength:null==w?void 0:w.tickLength,tickStroke:null==w||null==(f=w.tickLine)?void 0:f.stroke},p,{tickLabelProps:_,scale:E})):null}},7862:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(72791),i=n(23245),a=n(80489),o=n(61942),s=["animationTrajectory"];function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e){var t=e.animationTrajectory,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),c=(0,r.useMemo)((function(){return function(e){return r.createElement(i.Z,u({},e,{animationTrajectory:t}))}}),[t]),l=(0,r.useMemo)((function(){return function(e){return r.createElement(a.Z,u({},e,{animationTrajectory:t}))}}),[t]);return r.createElement(o.Z,u({GridRowsComponent:c,GridColumnsComponent:l},n))}},61942:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(52007),i=n.n(r),a=n(72791),o=n(20801),s=["rows","columns","GridRowsComponent","GridColumnsComponent"];function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e){var t=e.rows,n=void 0===t||t,r=e.columns,i=void 0===r||r,c=e.GridRowsComponent,l=e.GridColumnsComponent,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),d=(0,a.useContext)(o.Z),p=d.theme,h=d.xScale,v=d.yScale,m=d.margin,g=d.innerWidth,y=d.innerHeight,b=null==p?void 0:p.gridStyles;return a.createElement(a.Fragment,null,n&&v&&null!=g&&a.createElement(c,u({left:null==m?void 0:m.left,lineStyle:b,width:g,scale:v},f)),i&&h&&null!=y&&a.createElement(l,u({top:null==m?void 0:m.top,lineStyle:b,height:y,scale:h},f)))}c.propTypes={rows:i().bool,columns:i().bool}},74162:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(72791),i=n(87459),a=n(71172),o=n(61942);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e){return r.createElement(o.Z,s({GridRowsComponent:i.default,GridColumnsComponent:a.default},e))}},87852:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(72791),i=n(45861),a=n(77690);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){return r.createElement(a.Z,o({},e,{PathComponent:i.Z}))}},41900:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(72791),i=n(8585),a=n(45861);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){return r.createElement(i.Z,o({},e,{PathComponent:a.Z}))}},17846:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(72791),i=n(69172),a=n(88160);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){return r.createElement(i.Z,o({},e,{BarsComponent:a.Z}))}},59088:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(72791),i=n(60033),a=n(88160),o=["colorAccessor"];function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e){var t=e.colorAccessor,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o);return r.createElement(i.Z,s({},n,{colorAccessor:t,BarsComponent:a.Z}))}},98559:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(72791),i=n(5589),a=n(88160);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){return r.createElement(i.Z,o({},e,{BarsComponent:a.Z}))}},73781:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(72791),i=n(54753),a=n(99915),o=n(32131);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e){var t=e.renderGlyph,n=e.glyphs,u=e.horizontal,c=e.xScale,l=e.yScale,f=e.onBlur,d=e.onFocus,p=e.onPointerMove,h=e.onPointerOut,v=e.onPointerUp,m=(0,i.useTransition)(n,s({},function(e){var t=e.xScale,n=e.yScale,i=e.horizontal,s=(0,a.Z)(t),u=(0,a.Z)(n);return(0,r.useMemo)((function(){return{unique:!0,from:function(e){var t=e.x,n=e.y,r=e.color;return{x:i?s:t,y:i?n:u,color:(0,o.B)(r),opacity:0}},leave:function(e){var t=e.x,n=e.y,r=e.color;return{x:i?s:t,y:i?n:u,color:(0,o.B)(r),opacity:0}},enter:function(e){var t=e.x,n=e.y,r=e.color;return{x:t,y:n,color:(0,o.B)(r),opacity:1}},update:function(e){var t=e.x,n=e.y,r=e.color;return{x:t,y:n,color:(0,o.B)(r),opacity:1}},keys:function(e){return e.key}}}),[s,u,i])}({xScale:c,yScale:l,horizontal:u})));return r.createElement(r.Fragment,null,m((function(e,n,a){var s=e.x,u=e.y,c=e.color,l=e.opacity,m=a.key;return r.createElement(i.animated.g,{key:m,transform:(0,i.to)([s,u],(function(e,t){return"translate("+e+", "+t+")"})),color:c,opacity:l},t({key:m,datum:n.datum,index:n.index,x:0,y:0,size:n.size,color:(0,o.W)(n.color)?n.color:"currentColor",onBlur:f,onFocus:d,onPointerMove:p,onPointerOut:h,onPointerUp:v}))})))}var c=n(65825),l=n(76772),f=["renderGlyph"];function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function p(e){var t=e.renderGlyph,n=void 0===t?l.Z:t,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,f),a=(0,r.useCallback)((function(e){return r.createElement(u,d({},e,{renderGlyph:n}))}),[n]);return r.createElement(c.Z,d({},i,{renderGlyphs:a}))}},84624:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(72791),i=n(40428),a=n(45861);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){return r.createElement(i.Z,o({},e,{PathComponent:a.Z}))}},87704:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72791),i=n(77690);function a(e){return r.createElement(i.Z,e)}},34517:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72791),i=n(8585);function a(e){return r.createElement(i.Z,e)}},94958:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(72791),i=n(69172),a=n(13864);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){return r.createElement(i.Z,o({},e,{BarsComponent:a.Z}))}},51453:function(e,t,n){"use strict";var r=n(72791),i=n(60033),a=n(13864),o=["colorAccessor"];function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}t.Z=function(e){var t=e.colorAccessor,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o);return r.createElement(i.Z,s({},n,{colorAccessor:t,BarsComponent:a.Z}))}},5665:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(72791),i=n(5589),a=n(13864);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){return r.createElement(i.Z,o({},e,{BarsComponent:a.Z}))}},10044:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(72791),i=n(65825),a=n(76772),o=["renderGlyph"];function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e){var t=e.renderGlyph,n=void 0===t?a.Z:t,u=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,o),c=(0,r.useCallback)((function(e){var t=e.glyphs,i=e.onPointerMove,a=e.onPointerOut,o=e.onPointerUp,u=e.onFocus,c=e.onBlur;return t.map((function(e){return r.createElement(r.Fragment,{key:e.key},n(s({},e,{onPointerMove:i,onPointerOut:a,onPointerUp:o,onFocus:u,onBlur:c})))}))}),[n]);return r.createElement(i.Z,s({},u,{renderGlyphs:c}))}},8417:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72791),i=n(40428);function a(e){return r.createElement(i.Z,e)}},88160:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(80207),i=n(72791),a=n(54753),o=n(32131),s=n(99915),u=n(45861),c=["bars","xScale","yScale","horizontal","radius","radiusAll","radiusTop","radiusRight","radiusBottom","radiusLeft"],l=["bars","xScale","yScale","horizontal","radius","radiusAll","radiusTop","radiusRight","radiusBottom","radiusLeft"];function f(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function p(e){var t=e.x,n=e.y,r=e.width,i=e.height,a=e.fill;return{x:t,y:n,width:r,height:i,fill:(0,o.B)(a),opacity:1}}function h(e){return null==e.radius?i.createElement(m,e):i.createElement(v,d({},e,{radius:e.radius}))}function v(e){var t=e.bars,n=(e.xScale,e.yScale,e.horizontal,e.radius),a=e.radiusAll,o=e.radiusTop,s=e.radiusRight,l=e.radiusBottom,p=e.radiusLeft,h=f(e,c);return i.createElement(i.Fragment,null,t.map((function(e){var t=e.key,c=e.fill,f=e.x,v=e.y,m=e.width,g=e.height;return i.createElement(r.Z,{key:t,x:f,y:v,width:m,height:g,radius:n,all:a,top:o,right:s,bottom:l,left:p},(function(e){var t=e.path;return i.createElement(u.Z,d({className:"visx-bar visx-bar-rounded",d:t,fill:c},h))}))})))}function m(e){var t=e.bars,n=e.xScale,r=e.yScale,u=e.horizontal,c=(e.radius,e.radiusAll,e.radiusTop,e.radiusRight,e.radiusBottom,e.radiusLeft,f(e,l)),h=(0,a.useTransition)(t,d({},function(e){var t=e.scale,n=!!e.horizontal;return(0,i.useMemo)((function(){var e=(0,s.Z)(t);function r(t){var r=t.x,i=t.y,a=t.width,s=t.height,u=t.fill;return{x:n?null!=e?e:0:r,y:n?i:null!=e?e:0,width:n?0:a,height:n?s:0,fill:(0,o.B)(u),opacity:0}}return{unique:!0,from:r,leave:r,enter:p,update:p,keys:function(e){return e.key}}}),[t,n])}({horizontal:u,scale:u?n:r}))),v=Boolean(c.onFocus||c.onBlur);return i.createElement(i.Fragment,null,h((function(e,t,n){var r=e.x,s=e.y,u=e.width,l=e.height,f=e.fill,p=e.opacity,h=n.key;return null==t||null==h?null:i.createElement(a.animated.rect,d({key:h,tabIndex:v?0:void 0,className:"visx-bar",x:r,y:s,width:u,height:l,fill:(0,o.W)(t.fill)?t.fill:f,opacity:p},c))})))}},45861:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(72791),i=n(54753),a=n(20654),o=n(48573),s=n.n(o),u=["d","stroke","fill"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e){var t=e.d,n=e.stroke,o=void 0===n?"transparent":n,l=e.fill,f=void 0===l?"transparent":l,d=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,u),p=(0,r.useRef)(t),h=(0,r.useCallback)(s()((function(e){p.current=e}),50),[]),v=(0,a.interpolatePath)(p.current,t);h(t);var m=(0,i.useSpring)({from:{t:0},to:{t:1},reset:!0,delay:0}).t,g=(0,i.useSpring)({stroke:o,fill:f});return r.createElement(i.animated.path,c({className:"visx-path",d:m.to(v),stroke:g.stroke,fill:g.fill},d))}},13864:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(80207),i=n(72791),a=["bars","horizontal","xScale","yScale","radius","radiusAll","radiusTop","radiusRight","radiusBottom","radiusLeft"],o=["key"];function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function c(e){var t=e.bars,n=(e.horizontal,e.xScale,e.yScale,e.radius),c=e.radiusAll,l=e.radiusTop,f=e.radiusRight,d=e.radiusBottom,p=e.radiusLeft,h=u(e,a),v=Boolean(h.onFocus||h.onBlur);return i.createElement(i.Fragment,null,t.map((function(e){var t=e.key,a=u(e,o);return null==n?i.createElement("rect",s({key:t,className:"visx-bar",tabIndex:v?0:void 0},a,h)):i.createElement(r.Z,s({key:t,className:"visx-bar",tabIndex:v?0:void 0,radius:n,all:c,top:l,right:f,bottom:d,left:p},a,h))})))}},77690:function(e,t,n){"use strict";var r=n(52007),i=n.n(r),a=n(72791),o=n(61841),s=n(6289),u=n(20801),c=n(18547),l=n(50281),f=n(99915),d=n(26116),p=n(41316),h=n(65825),v=n(76772),m=n(31948),g=["PathComponent","curve","data","dataKey","lineProps","onBlur","onFocus","onPointerMove","onPointerOut","onPointerUp","onPointerDown","enableEvents","renderLine","xAccessor","x0Accessor","xScale","yAccessor","y0Accessor","yScale"];function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function b(e){var t,n,r,i=e.PathComponent,c=void 0===i?"path":i,b=e.curve,x=e.data,k=e.dataKey,w=e.lineProps,_=e.onBlur,S=e.onFocus,T=e.onPointerMove,E=e.onPointerOut,C=e.onPointerUp,O=e.onPointerDown,A=e.enableEvents,I=void 0===A||A,R=e.renderLine,N=void 0===R||R,P=e.xAccessor,M=e.x0Accessor,D=e.xScale,L=e.yAccessor,j=e.y0Accessor,F=e.yScale,Z=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,g),B=(0,a.useContext)(u.Z),U=B.colorScale,V=B.theme,z=B.horizontal,W=(0,a.useMemo)((function(){return M?(0,l.Z)(D,M):void 0}),[D,M]),H=(0,a.useCallback)((0,l.Z)(D,P),[D,P]),G=(0,a.useMemo)((function(){return j?(0,l.Z)(F,j):void 0}),[F,j]),q=(0,a.useCallback)((0,l.Z)(F,L),[F,L]),K=(0,a.useCallback)((function(e){return(0,d.Z)(D(P(e)))&&(0,d.Z)(F(L(e)))}),[D,P,F,L]),Y=null!=(t=null!=(n=null==U?void 0:U(k))?n:null==V||null==(r=V.colors)?void 0:r[0])?t:"#222",X=p.Em+"-"+k,Q=(0,m.Z)({dataKey:k,enableEvents:I,onBlur:_,onFocus:S,onPointerMove:T,onPointerOut:E,onPointerUp:C,onPointerDown:O,source:X,allowedSources:[p.hD,X]}),J=(0,a.useMemo)((function(){var e=(0,f.Z)(z?D:F);return z?{x0:null!=W?W:e,x1:H,y:q}:{x:H,y0:null!=G?G:e,y1:q}}),[D,F,z,H,q,W,G]),$=Boolean(S||_),ee=(0,a.useCallback)((function(e){var t=e.glyphs;return $?t.map((function(e){return a.createElement(a.Fragment,{key:e.key},(0,v.Z)(y({},e,{color:"transparent",onFocus:Q.onFocus,onBlur:Q.onBlur})))})):null}),[$,Q.onFocus,Q.onBlur]);return a.createElement(a.Fragment,null,a.createElement(o.Z,y({},J,Z,{curve:b,defined:K}),(function(e){var t=e.path;return a.createElement(c,y({className:"visx-area",stroke:"transparent",fill:Y,strokeLinecap:"round"},Z,{d:t(x)||""},Q))})),N&&a.createElement(s.Z,y({x:H,y:q,defined:K,curve:b},w),(function(e){var t=e.path;return a.createElement(c,y({className:"visx-line",fill:"transparent",stroke:Y,strokeWidth:2,pointerEvents:"none",strokeLinecap:"round"},w,{d:t(x)||""}))})),$&&a.createElement(h.J,{dataKey:k,data:x,xAccessor:P,yAccessor:L,xScale:D,yScale:F,renderGlyphs:ee}))}b.propTypes={renderLine:i().bool},t.Z=(0,c.Z)(b)},8585:function(e,t,n){"use strict";var r=n(52007),i=n.n(r),a=n(72791),o=n(86407),s=n(61841),u=n(64644),c=n(34876),l=n(20801),f=n(65825),d=n(65473),p=n(19781),h=n(26116),v=n(88797),m=n(41316),g=n(31948),y=n(76772),b=n(50851),x=["data","dataKey","xAccessor","yAccessor","curve","PathComponent","lineProps","renderLine"];function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}var w=function(e){return e};function _(e){var t=e.PathComponent,n=void 0===t?"path":t,r=e.children,i=e.curve,_=e.enableEvents,S=void 0===_||_,T=e.offset,E=e.onBlur,C=e.onFocus,O=e.onPointerMove,A=e.onPointerOut,I=e.onPointerUp,R=e.onPointerDown,N=e.order,P=e.renderLine,M=void 0===P||P,D=(0,a.useContext)(l.Z),L=D.colorScale,j=D.dataRegistry,F=D.horizontal,Z=D.xScale,B=D.yScale,U=D.theme,V=(0,d.Z)({children:r,order:N,offset:T}),z=V.dataKeys,W=V.seriesChildren,H=V.stackedData,G=(0,a.useMemo)((function(){var e=(0,b.Z)(Z)/2,t=(0,b.Z)(B)/2;return F?{y:function(e){var n;return(null!=(n=(0,u.Z)(B((0,p.N)(e.data))))?n:0)+t},x0:function(t){var n;return(null!=(n=(0,u.Z)(Z((0,c.l8)(t))))?n:0)+e},x1:function(t){var n;return(null!=(n=(0,u.Z)(Z((0,c.xf)(t))))?n:0)+e},defined:function(e){return(0,h.Z)(B((0,p.N)(e.data)))&&(0,h.Z)(Z((0,c.xf)(e)))}}:{x:function(t){var n;return(null!=(n=(0,u.Z)(Z((0,p.N)(t.data))))?n:0)+e},y0:function(e){var n;return(null!=(n=(0,u.Z)(B((0,c.l8)(e))))?n:0)+t},y1:function(e){var n;return(null!=(n=(0,u.Z)(B((0,c.xf)(e))))?n:0)+t},defined:function(e){return(0,h.Z)(Z((0,p.N)(e.data)))&&(0,h.Z)(B((0,c.xf)(e)))}}}),[Z,B,F]),q=(0,a.useMemo)((function(){return H.map((function(e,t){var n,r,i,a=W.find((function(t){return t.props.dataKey===e.key})),o=(null==a?void 0:a.props)||{},s=(o.data,o.dataKey,o.xAccessor,o.yAccessor,o.curve,o.PathComponent,o.lineProps),u=(o.renderLine,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(o,x)),c=k({fill:null!=(n=null!=(r=null==L?void 0:L(e.key))?r:null==U||null==(i=U.colors)?void 0:i[0])?n:"#222"},u);return{key:t+"-"+e.key,accessors:G,data:e,areaProps:c,lineProps:s}}))}),[H,G,L,W,U]),K=(0,a.useCallback)((function(e){var t,n,r=null==(t=W.find((function(t){return t.props.dataKey===e.dataKey})))||null==(n=t.props)?void 0:n.data;return r?(0,v.Z)(e,r,F):null}),[W,F]),Y=m.YP+"-"+z.join("-"),X=(0,g.Z)({dataKey:z,enableEvents:S,findNearestDatum:K,onBlur:E,onFocus:C,onPointerMove:O,onPointerOut:A,onPointerUp:I,onPointerDown:R,source:Y,allowedSources:[m.hD,Y]}),Q=Boolean(C||E),J=(0,a.useCallback)((function(e){var t=e.glyphs;return Q?t.map((function(e){return a.createElement(a.Fragment,{key:e.key},(0,y.Z)(k({},e,{color:"transparent",onFocus:X.onFocus,onBlur:X.onBlur})))})):null}),[Q,X.onFocus,X.onBlur]);return!z.some((function(e){return null==j.get(e)}))&&Z&&B&&L?a.createElement("g",{className:"visx-area-stack"},q.map((function(e){return a.createElement(s.Z,k({key:e.key,curve:i},e.accessors),(function(t){var r=t.path;return a.createElement(n,k({className:"visx-area",stroke:"transparent",d:r(e.data)||""},e.areaProps,X))}))})),M&&q.map((function(e){return a.createElement(o.Z,k({key:"line-"+e.key,x:e.accessors.x||e.accessors.x1,y:e.accessors.y||e.accessors.y1,defined:e.accessors.defined,curve:i},e.lineProps),(function(t){var r=t.path;return a.createElement(n,k({className:"visx-line",fill:"transparent",stroke:e.areaProps.fill,strokeWidth:2,pointerEvents:"none"},e.lineProps,{d:r(e.data)||""}))}))})),Q&&q.map((function(e,t){var n=q[q.length-t-1];return a.createElement(f.J,{key:"glyphs-"+n.key,dataKey:n.key,data:n.data,xAccessor:n.accessors.x||n.accessors.x1,yAccessor:n.accessors.y||n.accessors.y1,xScale:w,yScale:w,renderGlyphs:J})}))):null}_.propTypes={children:i().oneOfType([i().element,i().arrayOf(i().element)]).isRequired,renderLine:i().bool},t.Z=_},69172:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(52007),i=n.n(r),a=n(72791),o=n(52800),s=n(20801),u=n(50851),c=n(99915),l=n(26116),f=n(41316),d=n(31948),p=n(47258),h=n(16267);function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}var m=n(52399);function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function y(e){var t=e.children,n=e.padding,r=void 0===n?.1:n,i=e.sortBars,y=e.BarsComponent,b=e.onBlur,x=e.onFocus,k=e.onPointerMove,w=e.onPointerOut,_=e.onPointerUp,S=e.onPointerDown,T=e.enableEvents,E=void 0===T||T,C=(0,a.useContext)(s.Z),O=C.colorScale,A=C.dataRegistry,I=C.horizontal,R=C.registerData,N=C.unregisterData,P=C.xScale,M=C.yScale,D=(0,a.useMemo)((function(){return(0,m.Z)(t)}),[t]),L=(0,a.useMemo)((function(){return D.map((function(e){var t;return null!=(t=e.props.dataKey)?t:""})).filter((function(e){return e}))}),[D]);(0,a.useEffect)((function(){var e=D.map((function(e){var t=e.props;return{key:t.dataKey,data:t.data,xAccessor:t.xAccessor,yAccessor:t.yAccessor}}));return R(e),function(){return N(L)}}),[R,N,D,L]);var j=(0,a.useMemo)((function(){return(0,o.Z)({domain:i?[].concat(L).sort(i):L,range:[0,(0,u.Z)(I?M:P)],padding:r})}),[i,L,P,M,I,r]),F=(0,a.useCallback)((function(e){return function(e,t,n){var r=e.dataKey,i=e.xAccessor,a=e.yAccessor,o=e.xScale,s=e.yScale,u=e.point,c=(n?h.Z:p.Z)(e);if(!c||!u)return null;var l=t(r),f=t.step();if(n){var d=s(a(c.datum)),m=(null!=d?d:1/0)+(null!=l?l:1/0),g=m+f,y=(m+g)/2;return v({},c,{distanceX:0,distanceY:u.y>=m&&u.y<=g?0:Math.abs(u.y-y)})}var b=o(i(c.datum)),x=(null!=b?b:1/0)+(null!=l?l:1/0),k=x+f,w=(x+k)/2;return v({},c,{distanceY:0,distanceX:u.x>=x&&u.x<=k?0:Math.abs(u.x-w)})}(e,j,I)}),[j,I]),Z=f.rN+"-"+L.join("-")+"}",B=(0,d.Z)({dataKey:L,enableEvents:E,findNearestDatum:F,onBlur:b,onFocus:x,onPointerMove:k,onPointerOut:w,onPointerUp:_,onPointerDown:S,source:Z,allowedSources:[f.hD,Z]}),U=(0,a.useMemo)((function(){return P?(0,c.Z)(P):0}),[P]),V=(0,a.useMemo)((function(){return M?(0,c.Z)(M):0}),[M]),z=L.map((function(e){return A.get(e)}));if(z.some((function(e){return null==e}))||!P||!M||!O)return null;var W=(0,u.Z)(j),H=z.map((function(e){var t,n=e.xAccessor,r=e.yAccessor,i=e.data,a=e.key,o=function(e){var t,i;return I?(null!=(t=P(n(e)))?t:NaN)-U:(null!=(i=M(r(e)))?i:NaN)-V},s=I?function(e){var t;return null!=(t=M(r(e)))?t:NaN}:function(e){var t;return null!=(t=P(n(e)))?t:NaN},u=null!=(t=j(a))?t:0,c=I?function(e){return U+Math.min(0,o(e))}:function(e){return s(e)+u},f=I?function(e){return s(e)+u}:function(e){return V+Math.min(0,o(e))},d=I?function(e){return Math.abs(o(e))}:function(){return W},p=I?function(){return W}:function(e){return Math.abs(o(e))},h=D.find((function(e){return e.props.dataKey===a})),v=(null==h?void 0:h.props)||{},m=v.colorAccessor,g=v.radius,y=v.radiusAll,b=v.radiusBottom,x=v.radiusLeft,k=v.radiusRight,w=v.radiusTop;return{key:a,radius:g,radiusAll:y,radiusBottom:b,radiusLeft:x,radiusRight:k,radiusTop:w,bars:i.map((function(e,t){var n,r=c(e);if(!(0,l.Z)(r))return null;var i=f(e);if(!(0,l.Z)(i))return null;var o=d(e);if(!(0,l.Z)(o))return null;var s=p(e);return(0,l.Z)(s)?{key:a+"-"+t,x:r,y:i,width:o,height:s,fill:null!=(n=null==m?void 0:m(e,t))?n:O(a)}:null})).filter((function(e){return e}))}}));return a.createElement("g",{className:"visx-bar-group"},H.map((function(e){return e&&a.createElement(y,g({horizontal:I,xScale:P,yScale:M},e,B))})))}y.propTypes={children:i().oneOfType([i().element,i().arrayOf(i().element)]).isRequired,padding:i().number,sortBars:i().func}},60033:function(e,t,n){"use strict";var r=n(52007),i=n.n(r),a=n(72791),o=n(20801),s=n(18547),u=n(50281),c=n(50851),l=n(99915),f=n(26116),d=n(41316),p=n(31948),h=["BarsComponent","barPadding","colorAccessor","data","dataKey","onBlur","onFocus","onPointerMove","onPointerOut","onPointerUp","onPointerDown","enableEvents","xAccessor","xScale","yAccessor","yScale"];function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function m(e){var t,n,r,i=e.BarsComponent,s=e.barPadding,m=void 0===s?.1:s,g=e.colorAccessor,y=e.data,b=e.dataKey,x=e.onBlur,k=e.onFocus,w=e.onPointerMove,_=e.onPointerOut,S=e.onPointerUp,T=e.onPointerDown,E=e.enableEvents,C=void 0===E||E,O=e.xAccessor,A=e.xScale,I=e.yAccessor,R=e.yScale,N=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,h),P=(0,a.useContext)(o.Z),M=P.colorScale,D=P.horizontal,L=P.theme,j=P.innerWidth,F=void 0===j?0:j,Z=P.innerHeight,B=void 0===Z?0:Z,U=(0,a.useCallback)((0,u.Z)(A,O),[A,O]),V=(0,a.useCallback)((0,u.Z)(R,I),[R,I]),z=(0,c.Z)(D?R:A)||function(e,t){return e*(1-Math.min(1,Math.max(0,t)))}((D?B:F)/y.length,m),W=(0,a.useMemo)((function(){return A?(0,l.Z)(A):0}),[A]),H=(0,a.useMemo)((function(){return R?(0,l.Z)(R):0}),[R]),G=null!=(t=null!=(n=null==M?void 0:M(b))?n:null==L||null==(r=L.colors)?void 0:r[0])?t:"#222",q=(0,a.useMemo)((function(){var e=D?0:-z/2,t=D?-z/2:0;return y.map((function(n,r){var i,a=U(n)+e;if(!(0,f.Z)(a))return null;var o=V(n)+t;if(!(0,f.Z)(o))return null;var s=D?a-W:o-H;return(0,f.Z)(s)?{key:""+r,x:D?W+Math.min(0,s):a,y:D?o:H+Math.min(0,s),width:D?Math.abs(s):z,height:D?z:Math.abs(s),fill:null!=(i=null==g?void 0:g(n,r))?i:G}:null})).filter((function(e){return e}))}),[z,G,g,y,U,V,D,W,H]),K=d.gU+"-"+b,Y=(0,p.Z)({dataKey:b,enableEvents:C,onBlur:x,onFocus:k,onPointerMove:w,onPointerOut:_,onPointerUp:S,onPointerDown:T,source:K,allowedSources:[d.hD,K]});return a.createElement("g",{className:"vx-bar-series"},a.createElement(i,v({bars:q,horizontal:D,xScale:A,yScale:R},Y,N)))}m.propTypes={barPadding:i().number,colorAccessor:i().func},t.Z=(0,s.Z)(m)},5589:function(e,t,n){"use strict";var r=n(52007),i=n.n(r),a=n(72791),o=n(34876),s=n(63357),u=n(20801),c=n(26116),l=n(19781),f=n(41316),d=n(31948),p=n(88797),h=n(65473);function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function m(e){var t=e.children,n=e.order,r=e.offset,i=e.BarsComponent,m=e.onBlur,g=e.onFocus,y=e.onPointerMove,b=e.onPointerOut,x=e.onPointerUp,k=e.onPointerDown,w=e.enableEvents,_=void 0===w||w,S=(0,a.useContext)(u.Z),T=S.colorScale,E=S.dataRegistry,C=S.horizontal,O=S.xScale,A=S.yScale,I=(0,h.Z)({children:t,order:n,offset:r}),R=I.seriesChildren,N=I.dataKeys,P=I.stackedData,M=(0,a.useCallback)((function(e){var t,n,r=null==(t=R.find((function(t){return t.props.dataKey===e.dataKey})))||null==(n=t.props)?void 0:n.data;return r?(0,p.Z)(e,r,C):null}),[R,C]),D=f.qX+"-"+N.join("-"),L=(0,d.Z)({dataKey:N,enableEvents:_,findNearestDatum:M,onBlur:m,onFocus:g,onPointerMove:y,onPointerOut:b,onPointerUp:x,onPointerDown:k,source:D,allowedSources:[f.hD,D]});if(N.map((function(e){return E.get(e)})).some((function(e){return null==e}))||!O||!A||!T)return null;var j,F,Z,B,U=(0,s.Z)(C?A:O),V=U/2;C?(j=function(e){var t,n;return(null!=(t=O((0,o.xf)(e)))?t:NaN)-(null!=(n=O((0,o.l8)(e)))?n:NaN)},F=function(){return U},Z=function(e){return O((0,o.l8)(e))},B=function(e){var t;return"bandwidth"in A?A((0,l.N)(e.data)):Math.max((null!=(t=A((0,l.N)(e.data)))?t:NaN)-V)}):(j=function(){return U},F=function(e){var t,n;return(null!=(t=A((0,o.l8)(e)))?t:NaN)-(null!=(n=A((0,o.xf)(e)))?n:NaN)},Z=function(e){var t;return"bandwidth"in O?O((0,l.N)(e.data)):Math.max((null!=(t=O((0,l.N)(e.data)))?t:NaN)-V)},B=function(e){return A((0,o.xf)(e))});var z=P.map((function(e,t){if(!E.get(e.key))return null;var n=R.find((function(t){return t.props.dataKey===e.key})),r=(null==n?void 0:n.props)||{},i=r.colorAccessor,a=r.radius,o=r.radiusAll,s=r.radiusBottom,u=r.radiusLeft,l=r.radiusRight,f=r.radiusTop;return{key:e.key,radius:a,radiusAll:o,radiusBottom:s,radiusLeft:u,radiusRight:l,radiusTop:f,bars:e.map((function(r,a){var o,s=Z(r);if(!(0,c.Z)(s))return null;var u=B(r);if(!(0,c.Z)(u))return null;var l=j(r);if(!(0,c.Z)(l))return null;var f=F(r);if(!(0,c.Z)(f))return null;var d=i?null==n||null==(o=n.props)?void 0:o.data[a]:null;return{key:t+"-"+e.key+"-"+a,x:s,y:u,width:l,height:f,fill:d&&i?i(d,a):T(e.key)}})).filter((function(e){return e}))}})).filter((function(e){return e}));return a.createElement("g",{className:"visx-bar-stack"},z.map((function(e){return e&&a.createElement(i,v({horizontal:C,xScale:O,yScale:A},e,L))})))}m.propTypes={children:i().oneOfType([i().element,i().arrayOf(i().element)]).isRequired},t.Z=m},65825:function(e,t,n){"use strict";n.d(t,{J:function(){return p}});var r=n(52007),i=n.n(r),a=n(72791),o=n(20801),s=n(18547),u=n(50281),c=n(26116),l=n(41316),f=n(31948);function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function p(e){var t,n,r,i=e.colorAccessor,s=e.data,p=e.dataKey,h=e.onBlur,v=e.onFocus,m=e.onPointerMove,g=e.onPointerOut,y=e.onPointerUp,b=e.onPointerDown,x=e.enableEvents,k=void 0===x||x,w=e.renderGlyphs,_=e.size,S=void 0===_?8:_,T=e.xAccessor,E=e.xScale,C=e.yAccessor,O=e.yScale,A=(0,a.useContext)(o.Z),I=A.colorScale,R=A.theme,N=A.horizontal,P=(0,a.useCallback)((0,u.Z)(E,T),[E,T]),M=(0,a.useCallback)((0,u.Z)(O,C),[O,C]),D=null!=(t=null!=(n=null==I?void 0:I(p))?n:null==R||null==(r=R.colors)?void 0:r[0])?t:"#222",L=l.rE+"-"+p,j=(0,f.Z)({dataKey:p,enableEvents:k,onBlur:h,onFocus:v,onPointerMove:m,onPointerOut:g,onPointerUp:y,onPointerDown:b,source:L,allowedSources:[l.hD,L]}),F=(0,a.useMemo)((function(){return s.map((function(e,t){var n,r=P(e);if(!(0,c.Z)(r))return null;var a=M(e);return(0,c.Z)(a)?{key:""+t,x:r,y:a,color:null!=(n=null==i?void 0:i(e,t))?n:D,size:"function"===typeof S?S(e):S,datum:e}:null})).filter((function(e){return e}))}),[D,i,s,P,M,S]);return a.createElement(a.Fragment,null,w(d({glyphs:F,xScale:E,yScale:O,horizontal:N},j)))}p.propTypes={colorAccessor:i().func,size:i().oneOfType([i().number,i().func]),renderGlyphs:i().func.isRequired},t.Z=(0,s.Z)(p)},40428:function(e,t,n){"use strict";var r=n(52007),i=n.n(r),a=n(72791),o=n(6289),s=n(20801),u=n(18547),c=n(50281),l=n(26116),f=n(41316),d=n(65825),p=n(76772),h=n(31948),v=["colorAccessor","curve","data","dataKey","onBlur","onFocus","onPointerMove","onPointerOut","onPointerUp","onPointerDown","enableEvents","xAccessor","xScale","yAccessor","yScale","PathComponent"];function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function g(e){var t,n,r,i=e.colorAccessor,u=e.curve,g=e.data,y=e.dataKey,b=e.onBlur,x=e.onFocus,k=e.onPointerMove,w=e.onPointerOut,_=e.onPointerUp,S=e.onPointerDown,T=e.enableEvents,E=void 0===T||T,C=e.xAccessor,O=e.xScale,A=e.yAccessor,I=e.yScale,R=e.PathComponent,N=void 0===R?"path":R,P=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,v),M=(0,a.useContext)(s.Z),D=M.colorScale,L=M.theme,j=(0,a.useCallback)((0,c.Z)(O,C),[O,C]),F=(0,a.useCallback)((0,c.Z)(I,A),[I,A]),Z=(0,a.useCallback)((function(e){return(0,l.Z)(O(C(e)))&&(0,l.Z)(I(A(e)))}),[O,C,I,A]),B=null!=(t=null!=(n=null==D?void 0:D(y))?n:null==L||null==(r=L.colors)?void 0:r[0])?t:"#222",U=f._c+"-"+y,V=(0,h.Z)({dataKey:y,enableEvents:E,onBlur:b,onFocus:x,onPointerMove:k,onPointerOut:w,onPointerUp:_,onPointerDown:S,source:U,allowedSources:[f.hD,U]}),z=Boolean(x||b),W=(0,a.useCallback)((function(e){var t=e.glyphs;return z?t.map((function(e){return a.createElement(a.Fragment,{key:e.key},(0,p.Z)(m({},e,{color:"transparent",onFocus:V.onFocus,onBlur:V.onBlur})))})):null}),[z,V.onFocus,V.onBlur]);return a.createElement(a.Fragment,null,a.createElement(o.Z,m({x:j,y:F,defined:Z,curve:u},P),(function(e){var t,n=e.path;return a.createElement(N,m({stroke:null!=(t=null==i?void 0:i(y))?t:B,strokeWidth:2,fill:"transparent",strokeLinecap:"round"},P,{d:n(g)||""},V))})),z&&a.createElement(d.J,{dataKey:y,data:g,xAccessor:C,yAccessor:A,xScale:O,yScale:I,renderGlyphs:W}))}g.propTypes={colorAccessor:i().func},t.Z=(0,u.Z)(g)},76772:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(72791);function i(e){var t=e.key,n=e.color,i=e.x,a=e.y,o=e.size,s=e.onBlur,u=e.onFocus,c=e.onPointerMove,l=e.onPointerOut,f=e.onPointerUp;return r.createElement("circle",{className:"visx-circle-glyph",key:t,tabIndex:s||u?0:void 0,fill:n,r:o/2,cx:i,cy:a,onBlur:s,onFocus:u,onPointerMove:c,onPointerOut:l,onPointerUp:f})}},41316:function(e,t,n){"use strict";n.d(t,{Em:function(){return r},YP:function(){return i},_c:function(){return c},gU:function(){return o},hD:function(){return l},qX:function(){return s},rE:function(){return u},rN:function(){return a}});var r="AREASERIES_EVENT_SOURCE",i="AREASTACK_EVENT_SOURCE",a="BARGROUP_EVENT_SOURCE",o="BARSERIES_EVENT_SOURCE",s="BARSTACK_EVENT_SOURCE",u="GLYPHSERIES_EVENT_SOURCE",c="LINESERIES_EVENT_SOURCE",l="XYCHART_EVENT_SOURCE"},20801:function(e,t,n){"use strict";var r=n(72791).createContext({});t.Z=r},38010:function(e,t,n){"use strict";var r=(0,n(72791).createContext)(null);t.Z=r},13187:function(e,t,n){"use strict";var r=n(72791),i=n(75021),a=r.createContext(i.Z);t.Z=a},27229:function(e,t,n){"use strict";var r=(0,n(72791).createContext)(null);t.Z=r},18547:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(72791),i=n(20801);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function o(e){return function(t){var n=t.dataKey,o=t.data,s=t.xAccessor,u=t.yAccessor,c=(0,r.useContext)(i.Z),l=c.xScale,f=c.yScale,d=c.dataRegistry;(0,r.useEffect)((function(){return d&&d.registerData({key:n,data:o,xAccessor:s,yAccessor:u}),function(){return null==d?void 0:d.unregisterData(n)}}),[d,n,o,s,u]);var p=null==d?void 0:d.get(n);if(!l||!f||!p)return null;var h=e;return r.createElement(h,a({},t,{xScale:l,yScale:f,data:p.data,xAccessor:p.xAccessor,yAccessor:p.yAccessor}))}}},47702:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(72791),i=n(21829),a=n(38010);function o(e,t,n){var o=(0,r.useContext)(a.Z),s=(0,r.useRef)();s.current=n;var u=(0,r.useCallback)((function(e,t,n){o&&o.emit(e,{event:t,svgPoint:(0,i.Z)(t),source:n})}),[o]);return(0,r.useEffect)((function(){if(o&&e&&t){var n=function(e){var n;(!s.current||null!=e&&e.source&&null!=(n=s.current)&&n.includes(e.source))&&t(e)};return o.on(e,n),function(){return null==o?void 0:o.off(e,n)}}}),[o,e,t]),o?u:null}},89629:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72791),i=n(47702);function a(e){var t=e.source,n=e.onPointerOut,a=void 0===n||n,o=e.onPointerMove,s=void 0===o||o,u=e.onPointerUp,c=void 0===u||u,l=e.onPointerDown,f=void 0===l||l,d=e.onFocus,p=void 0!==d&&d,h=e.onBlur,v=void 0!==h&&h,m=(0,i.Z)(),g=(0,r.useCallback)((function(e){return null==m?void 0:m("pointermove",e,t)}),[m,t]),y=(0,r.useCallback)((function(e){return null==m?void 0:m("pointerout",e,t)}),[m,t]),b=(0,r.useCallback)((function(e){return null==m?void 0:m("pointerup",e,t)}),[m,t]),x=(0,r.useCallback)((function(e){return null==m?void 0:m("pointerdown",e,t)}),[m,t]),k=(0,r.useCallback)((function(e){return null==m?void 0:m("focus",e,t)}),[m,t]),w=(0,r.useCallback)((function(e){return null==m?void 0:m("blur",e,t)}),[m,t]);return{onPointerMove:s?g:void 0,onFocus:p?k:void 0,onBlur:v?w:void 0,onPointerOut:a?y:void 0,onPointerUp:c?b:void 0,onPointerDown:f?x:void 0}}},58951:function(e,t,n){"use strict";n.d(t,{lN:function(){return l},tj:function(){return f},ZP:function(){return d}});var r=n(72791),i=n(20801);function a(e){return!!e&&("clientX"in e||"changedTouches"in e)}var o=n(47258),s=n(16267),u=n(47702);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l="__POINTER_EVENTS_ALL",f="__POINTER_EVENTS_NEAREST";function d(e){var t=e.dataKey,n=e.findNearestDatum,d=e.onBlur,p=e.onFocus,h=e.onPointerMove,v=e.onPointerOut,m=e.onPointerUp,g=e.onPointerDown,y=e.allowedSources,b=(0,r.useContext)(i.Z),x=b.width,k=b.height,w=b.horizontal,_=b.dataRegistry,S=b.xScale,T=b.yScale,E=n||(w?s.Z:o.Z),C=(0,r.useCallback)((function(e){var n,r=e||{},i=r.svgPoint,a=r.event,o={},s=null,u=1/0;return e&&a&&i&&x&&k&&S&&T?((t===f||t===l?null!=(n=null==_?void 0:_.keys())?n:[]:Array.isArray(t)?t:[t]).forEach((function(e){var n=null==_?void 0:_.get(e);if(n){var r=E({dataKey:e,data:n.data,height:k,point:i,width:x,xAccessor:n.xAccessor,xScale:S,yAccessor:n.yAccessor,yScale:T});if(r&&(o[e]=c({key:e,svgPoint:i,event:a},r),t===f)){var l,d,p=Math.sqrt((null!=(l=r.distanceX)?l:Math.pow(1/0,2))+(null!=(d=r.distanceY)?d:Math.pow(1/0,2)));s=p<u?o[e]:s,u=Math.min(u,p)}}})),(t===f?[s]:t===l||Array.isArray(t)?Object.values(o):[o[t]]).filter((function(e){return e}))):[]}),[t,_,S,T,x,k,E]),O=(0,r.useCallback)((function(e){h&&C(e).forEach((function(e){return h(e)}))}),[C,h]),A=(0,r.useCallback)((function(e){m&&C(e).forEach((function(e){return m(e)}))}),[C,m]),I=(0,r.useCallback)((function(e){g&&C(e).forEach((function(e){return g(e)}))}),[C,g]),R=(0,r.useCallback)((function(e){p&&C(e).forEach((function(e){return p(e)}))}),[C,p]),N=(0,r.useCallback)((function(e){var t=null==e?void 0:e.event;t&&a(t)&&v&&v(t)}),[v]),P=(0,r.useCallback)((function(e){var t=null==e?void 0:e.event;t&&!a(t)&&d&&d(t)}),[d]);(0,u.Z)("pointermove",h?O:void 0,y),(0,u.Z)("pointerout",v?N:void 0,y),(0,u.Z)("pointerup",m?A:void 0,y),(0,u.Z)("pointerdown",g?I:void 0,y),(0,u.Z)("focus",p?R:void 0,y),(0,u.Z)("blur",d?P:void 0,y)}},31948:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(72791),i=n(27229),a=n(89629),o=n(58951);function s(e){var t,n=e.dataKey,s=e.enableEvents,u=e.findNearestDatum,c=e.onBlur,l=e.onFocus,f=e.onPointerMove,d=e.onPointerOut,p=e.onPointerUp,h=e.onPointerDown,v=e.source,m=e.allowedSources,g=null!=(t=(0,r.useContext)(i.Z))?t:{},y=g.showTooltip,b=g.hideTooltip,x=(0,r.useCallback)((function(e){y(e),f&&f(e)}),[y,f]),k=(0,r.useCallback)((function(e){y(e),l&&l(e)}),[y,l]),w=(0,r.useCallback)((function(e){b(),e&&d&&d(e)}),[b,d]),_=(0,r.useCallback)((function(e){b(),e&&c&&c(e)}),[b,c]),S=(0,r.useCallback)((function(e){y(e),h&&h(e)}),[y,h]);return(0,o.ZP)({dataKey:n,findNearestDatum:u,onBlur:s?_:void 0,onFocus:s?k:void 0,onPointerMove:s?x:void 0,onPointerOut:s?w:void 0,onPointerUp:s?p:void 0,onPointerDown:s?S:void 0,allowedSources:m}),(0,a.Z)({source:v,onBlur:!!c&&s,onFocus:!!l&&s,onPointerMove:!!f&&s,onPointerOut:!!d&&s,onPointerUp:!!p&&s,onPointerDown:!!h&&s})}},65473:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(72791),i=n(37762);Array.prototype.slice;function a(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function o(e){return function(){return e}}function s(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function u(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function c(e,t){return e[t]}function l(e){var t=[];return t.key=e,t}var f=n(87104),d=n(26510),p=n(39562),h=n(20801),v=n(34876),m=function(e){var t;return null==e||null==(t=e.data)?void 0:t.stack},g=function(e){return((0,v.l8)(e)+(0,v.xf)(e))/2};var y=n(19781),b=n(52399);function x(e){var t=e.children,n=e.order,v=e.offset,x=(0,r.useContext)(h.Z),k=x.horizontal,w=x.registerData,_=x.unregisterData,S=(0,r.useMemo)((function(){return(0,b.Z)(t)}),[t]),T=(0,r.useMemo)((function(){return S.filter((function(e){return e.props.dataKey})).map((function(e){return e.props.dataKey}))}),[S]),E=(0,r.useMemo)((function(){return(0,y.Z)(S,k)}),[k,S]),C=(0,r.useMemo)((function(){var e=v?null:E.some((function(e){return e.negativeSum<0})),t=function(){var e=o([]),t=u,n=s,r=c;function f(o){var s,u,c,f=Array.from(e.apply(this,arguments),l),d=f.length,p=-1,h=(0,i.Z)(o);try{for(h.s();!(c=h.n()).done;){var v=c.value;for(s=0,++p;s<d;++s)(f[s][p]=[0,+r(v,f[s].key,p,o)]).data=v}}catch(m){h.e(m)}finally{h.f()}for(s=0,u=a(t(f));s<d;++s)f[u[s]].index=s;return n(f,u),f}return f.keys=function(t){return arguments.length?(e="function"===typeof t?t:o(Array.from(t)),f):e},f.value=function(e){return arguments.length?(r="function"===typeof e?e:o(+e),f):r},f.order=function(e){return arguments.length?(t=null==e?u:"function"===typeof e?e:o(Array.from(e)),f):t},f.offset=function(e){return arguments.length?(n=null==e?s:e,f):n},f}();return t.keys(T),n&&t.order((0,d.default)(n)),(v||e)&&t.offset((0,f.default)(v||"diverging")),t(E)}),[E,T,n,v]),O=(0,r.useMemo)((function(){return(0,p.Z)(C.reduce((function(e,t){return t.forEach((function(t){var n=t[0],r=t[1];e.push(n),e.push(r)})),e}),[]))}),[C]);return(0,r.useEffect)((function(){var e=function(e,t,n){var r=n?[g,m]:[m,g],i=r[0],a=r[1];return e.map((function(e,r){var o={key:e.key,data:e,xAccessor:i,yAccessor:a};return t.length>0&&0===r&&(n?o.xScale=function(e){return e.domain((0,p.Z)(e.domain().concat(t)))}:o.yScale=function(e){return e.domain((0,p.Z)(e.domain().concat(t)))}),o})).filter((function(e){return e}))}(C,O,k);return w(e),function(){return _(T)}}),[T,O,k,C,w,_,S]),{seriesChildren:S,dataKeys:T,stackedData:C}}},31253:function(e,t,n){"use strict";n.r(t),n.d(t,{AnimatedAnnotation:function(){return i.Z},AnimatedAreaSeries:function(){return w.Z},AnimatedAreaStack:function(){return _.Z},AnimatedAxis:function(){return c.Z},AnimatedBarGroup:function(){return E.Z},AnimatedBarSeries:function(){return S.Z},AnimatedBarStack:function(){return T.Z},AnimatedGlyphSeries:function(){return C.Z},AnimatedGrid:function(){return l.Z},AnimatedLineSeries:function(){return O.Z},Annotation:function(){return r.Z},AnnotationCircleSubject:function(){return s.Z},AnnotationConnector:function(){return o.Z},AnnotationLabel:function(){return a.Z},AnnotationLineSubject:function(){return u.Z},AreaSeries:function(){return v.Z},AreaStack:function(){return m.Z},Axis:function(){return f.Z},BarGroup:function(){return g.Z},BarSeries:function(){return y.Z},BarStack:function(){return b.Z},DataContext:function(){return A.Z},DataProvider:function(){return P.Z},EventEmitterContext:function(){return I.Z},EventEmitterProvider:function(){return M.Z},GlyphSeries:function(){return x.Z},Grid:function(){return d.Z},LineSeries:function(){return k.Z},ThemeContext:function(){return R.Z},ThemeProvider:function(){return D.Z},Tooltip:function(){return p.Z},TooltipContext:function(){return N.Z},TooltipProvider:function(){return L.Z},XYChart:function(){return h.Z},allColors:function(){return U.Qk},buildChartTheme:function(){return B.Z},darkTheme:function(){return Z.Z},defaultColors:function(){return U.B3},grayColors:function(){return U.ab},lightTheme:function(){return F.Z},useEventEmitter:function(){return j.Z}});var r=n(46867),i=n(14367),a=n(53943),o=n(91024),s=n(72317),u=n(77756),c=n(50381),l=n(7862),f=n(78057),d=n(74162),p=n(40884),h=n(7554),v=n(87704),m=n(34517),g=n(94958),y=n(51453),b=n(5665),x=n(10044),k=n(8417),w=n(87852),_=n(41900),S=n(59088),T=n(98559),E=n(17846),C=n(73781),O=n(84624),A=n(20801),I=n(38010),R=n(13187),N=n(27229),P=n(50833),M=n(68699),D=n(68028),L=n(40207),j=n(47702),F=n(75021),Z=n(35300),B=n(4506),U=n(76618),V=n(42478),z={};for(var W in V)["default","Annotation","AnimatedAnnotation","AnnotationLabel","AnnotationConnector","AnnotationCircleSubject","AnnotationLineSubject","AnimatedAxis","AnimatedGrid","Axis","Grid","Tooltip","XYChart","AreaSeries","AreaStack","BarGroup","BarSeries","BarStack","GlyphSeries","LineSeries","AnimatedAreaSeries","AnimatedAreaStack","AnimatedBarSeries","AnimatedBarStack","AnimatedBarGroup","AnimatedGlyphSeries","AnimatedLineSeries","DataContext","EventEmitterContext","ThemeContext","TooltipContext","DataProvider","EventEmitterProvider","ThemeProvider","TooltipProvider","useEventEmitter","lightTheme","darkTheme","buildChartTheme","allColors","grayColors","defaultColors"].indexOf(W)<0&&(z[W]=function(e){return V[e]}.bind(0,W));n.d(t,z)},50833:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(52007),i=n.n(r),a=n(72791),o=n(39175),s=n(13187),u=n(20801);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(){function e(){c(this,"registry",{}),c(this,"registryKeys",[])}var t=e.prototype;return t.registerData=function(e){var t=this;(Array.isArray(e)?e:[e]).forEach((function(e){e.key in t.registry&&null!=t.registry[e.key]&&console.debug("Overriding data registry key",e.key),t.registry[e.key]=e,t.registryKeys=Object.keys(t.registry)}))},t.unregisterData=function(e){var t=this;(Array.isArray(e)?e:[e]).forEach((function(e){delete t.registry[e],t.registryKeys=Object.keys(t.registry)}))},t.entries=function(){return Object.values(this.registry)},t.get=function(e){return this.registry[e]},t.keys=function(){return this.registryKeys},e}();var f={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}};var d=n(59632),p=n(31434),h=n(39562);function v(e){return"band"===(null==e?void 0:e.type)||"ordinal"===(null==e?void 0:e.type)||"point"===(null==e?void 0:e.type)}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function g(e){var t=e.initialDimensions,n=e.theme,r=e.xScale,i=e.yScale,c=e.children,g=e.horizontal,y=void 0===g?"auto":g,b=(0,a.useContext)(s.Z),x=n||b,k=function(e){var t=(0,a.useState)({width:null==(null==e?void 0:e.width)?f.width:e.width,height:null==(null==e?void 0:e.height)?f.height:e.height,margin:null==(null==e?void 0:e.margin)?f.margin:e.margin}),n=t[0],r=t[1],i=(0,a.useCallback)((function(e){e.width===n.width&&e.height===n.height&&e.margin.left===n.margin.left&&e.margin.right===n.margin.right&&e.margin.top===n.margin.top&&e.margin.bottom===n.margin.bottom||r(e)}),[n.width,n.height,n.margin.left,n.margin.right,n.margin.bottom,n.margin.top]);return[n,i]}(t),w=k[0],_=w.width,S=w.height,T=w.margin,E=k[1],C=Math.max(0,_-T.left-T.right),O=Math.max(0,S-T.top-T.bottom),A=function(){var e=(0,a.useState)(Math.random())[1],t=(0,a.useMemo)((function(){return new l}),[]);return(0,a.useMemo)((function(){return{registerData:function(){t.registerData.apply(t,arguments),e(Math.random())},unregisterData:function(){t.unregisterData.apply(t,arguments),e(Math.random())},entries:function(){return t.entries()},get:function(e){return t.get(e)},keys:function(){return t.keys()}}}),[t])}(),I=function(e){var t=e.dataRegistry,n=e.xRange,r=e.xScaleConfig,i=e.yRange,o=e.yScaleConfig,s=t.keys(),u=n[0],c=n[1],l=i[0],f=i[1];return{xScale:(0,a.useMemo)((function(){var e=s.map((function(e){return t.get(e)})),n=e.reduce((function(e,t){return t?e.concat(t.data.map((function(e){return t.xAccessor(e)}))):e}),[]);if(0!==n.length){var i=v(r)?n:(0,h.Z)(n),a=(0,d.Z)(r)?(0,p.Z)(m({range:[u,c],domain:i,zero:!0},r)):(0,p.Z)(m({range:[u,c],domain:i},r));return e.forEach((function(e){null!=e&&e.xScale&&(a=e.xScale(a))})),a}}),[t,r,s,u,c]),yScale:(0,a.useMemo)((function(){var e=s.map((function(e){return t.get(e)})),n=e.reduce((function(e,t){return t?e.concat(t.data.map((function(e){return t.yAccessor(e)}))):e}),[]);if(0!==n.length){var r=v(o)?n:(0,h.Z)(n),i=(0,d.Z)(o)?(0,p.Z)(m({range:[l,f],domain:r,zero:!0},o)):(0,p.Z)(m({range:[l,f],domain:r},o));return e.forEach((function(e){null!=e&&e.yScale&&(i=e.yScale(i))})),i}}),[t,o,s,l,f])}}({dataRegistry:A,xScaleConfig:r,yScaleConfig:i,xRange:[T.left,Math.max(0,_-T.right)],yRange:[Math.max(0,S-T.bottom),T.top]}),R=I.xScale,N=I.yScale,P=A.keys(),M=(0,a.useMemo)((function(){return(0,o.ZP)({domain:P,range:x.colors})}),[P,x.colors]),D="auto"===y?v(i)||"time"===i.type||"utc"===i.type:y;return a.createElement(u.Z.Provider,{value:{dataRegistry:A,registerData:A.registerData,unregisterData:A.unregisterData,xScale:R,yScale:N,colorScale:M,theme:x,width:_,height:S,margin:T,innerWidth:C,innerHeight:O,setDimensions:E,horizontal:D}},c)}g.propTypes={children:i().node.isRequired,horizontal:i().oneOfType([i().bool,i().oneOf(["auto"])])}},68699:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72791);var i=n(38010);function a(e){var t=e.children,n=(0,r.useMemo)((function(){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r&&r.push(n)||e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&r.splice(r.indexOf(n)>>>0,1)},emit:function(t,n){(e.get(t)||[]).slice().map((function(e){e(n)})),(e.get("*")||[]).slice().map((function(e){e(t,n)}))}};var e}),[]);return r.createElement(i.Z.Provider,{value:n},t)}},68028:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(72791),i=n(13187),a=n(75021);function o(e){var t=e.theme,n=void 0===t?a.Z:t,o=e.children;return r.createElement(i.Z.Provider,{value:n},o)}},40207:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(52007),i=n.n(r),a=n(72791),o=n(48573),s=n.n(o),u=["tooltipOpen"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e){var t=(0,a.useState)(c({tooltipOpen:!1},e)),n=t[0],r=t[1],i=(0,a.useCallback)((function(e){return r("function"===typeof e?function(t){t.tooltipOpen;var n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,u);return c({},e(n),{tooltipOpen:!0})}:{tooltipOpen:!0,tooltipLeft:e.tooltipLeft,tooltipTop:e.tooltipTop,tooltipData:e.tooltipData})}),[r]),o=(0,a.useCallback)((function(){return r({tooltipOpen:!1,tooltipLeft:void 0,tooltipTop:void 0,tooltipData:void 0})}),[r]);return{tooltipOpen:n.tooltipOpen,tooltipLeft:n.tooltipLeft,tooltipTop:n.tooltipTop,tooltipData:n.tooltipData,updateTooltip:r,showTooltip:i,hideTooltip:o}}var f=n(27229),d=n(26116);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function h(e){var t=e.hideTooltipDebounceMs,n=void 0===t?400:t,r=e.children,i=l(void 0),o=i.tooltipOpen,u=i.tooltipLeft,c=i.tooltipTop,h=i.tooltipData,v=i.updateTooltip,m=i.hideTooltip,g=(0,a.useRef)(null),y=(0,a.useRef)((function(e){var t=e.svgPoint,n=e.index,r=e.key,i=e.datum,a=e.distanceX,o=e.distanceY;g.current&&(g.current.cancel(),g.current=null);var s=(0,d.Z)(a)?a:1/0,u=(0,d.Z)(o)?o:1/0,c=Math.sqrt(Math.pow(s,2)+Math.pow(u,2));v((function(e){var a,o,s,u=e.tooltipData,l=null!=u&&u.nearestDatum&&(0,d.Z)(u.nearestDatum.distance)?u.nearestDatum.distance:1/0;return{tooltipOpen:!0,tooltipLeft:null==t?void 0:t.x,tooltipTop:null==t?void 0:t.y,tooltipData:{nearestDatum:(null!=(a=null==u||null==(o=u.nearestDatum)?void 0:o.key)?a:"")!==r&&l<c?null==u?void 0:u.nearestDatum:{key:r,index:n,datum:i,distance:c},datumByKey:p({},null==u?void 0:u.datumByKey,(s={},s[r]={datum:i,index:n,key:r},s))}}}))})),b=(0,a.useCallback)((function(){g.current=s()(m,n),g.current()}),[m,n]);return a.createElement(f.Z.Provider,{value:{tooltipOpen:o,tooltipLeft:u,tooltipTop:c,tooltipData:h,updateTooltip:v,showTooltip:y.current,hideTooltip:b}},r)}h.propTypes={hideTooltipDebounceMs:i().number,children:i().node.isRequired}},4506:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});n(72791);var r=n(76618);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}var a={fontFamily:"-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif",fontWeight:700,fontSize:12,textAnchor:"middle",pointerEvents:"none",letterSpacing:.4};function o(e){var t,n,o,s,u,c,l=i({},a,{fill:r.zP,stroke:"none"},e.svgLabelBig),f=i({},a,{fontWeight:200,fontSize:11,fill:r.zP,stroke:"none"},e.svgLabelSmall),d=i({color:null!=(t=null!=(n=null!=(o=null==(s=e.htmlLabel)?void 0:s.color)?o:null==(u=e.svgLabelBig)?void 0:u.fill)?n:null==(c=e.svgLabelSmall)?void 0:c.fill)?t:r.zP},a,e.htmlLabel);return{backgroundColor:e.backgroundColor,colors:[].concat(e.colors),htmlLabel:i({},d),svgLabelSmall:i({},f),svgLabelBig:i({},l),gridStyles:i({stroke:e.gridColor,strokeWidth:1},e.gridStyles),axisStyles:{x:{top:{axisLabel:i({},l,{dy:"-0.25em"}),axisLine:i({stroke:e.gridColorDark,strokeWidth:2},e.xAxisLineStyles),tickLabel:i({},f,{dy:"-0.25em"}),tickLength:e.tickLength,tickLine:i({strokeWidth:1,stroke:e.gridColor},e.xTickLineStyles)},bottom:{axisLabel:i({},l,{dy:"-0.25em"}),axisLine:i({stroke:e.gridColorDark,strokeWidth:2},e.xAxisLineStyles),tickLabel:i({},f,{dy:"0.125em"}),tickLength:e.tickLength,tickLine:i({strokeWidth:1,stroke:e.gridColor},e.xTickLineStyles)}},y:{left:{axisLabel:i({},l,{dx:"-1.25em"}),axisLine:i({stroke:e.gridColor,strokeWidth:1},e.yAxisLineStyles),tickLabel:i({},f,{textAnchor:"end",dx:"-0.25em",dy:"0.25em"}),tickLength:e.tickLength,tickLine:i({strokeWidth:1,stroke:e.gridColor},e.yTickLineStyles)},right:{axisLabel:i({},l,{dx:"1.25em"}),axisLine:i({stroke:e.gridColor,strokeWidth:1},e.yAxisLineStyles),tickLabel:i({},f,{textAnchor:"start",dx:"0.25em",dy:"0.25em"}),tickLength:e.tickLength,tickLine:i({strokeWidth:1,stroke:e.gridColor},e.yTickLineStyles)}}}}}},76618:function(e,t,n){"use strict";n.d(t,{B3:function(){return o},Qk:function(){return r},ab:function(){return i},zP:function(){return a}});var r={red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e8f7ff","#ccedff","#a3daff","#72c3fc","#4dadf7","#329af0","#228ae6","#1c7cd6","#1b6ec2","#1862ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"]},i=r.gray,a=i[7],o=[r.cyan[9],r.cyan[3],r.yellow[5],r.red[4],r.grape[8],r.grape[5],r.pink[9]]},35300:function(e,t,n){"use strict";var r=n(76618),i=n(4506);t.Z=(0,i.Z)({backgroundColor:"#222",colors:[r.Qk.cyan[4],r.Qk.teal[1],r.Qk.yellow[2],r.Qk.red[4],r.Qk.grape[3],r.Qk.grape[6],r.Qk.pink[3]],tickLength:4,svgLabelSmall:{fill:r.ab[2]},svgLabelBig:{fill:r.ab[0]},gridColor:r.ab[4],gridColorDark:r.ab[1]})},75021:function(e,t,n){"use strict";var r=n(76618),i=n(4506);t.Z=(0,i.Z)({backgroundColor:"#fff",colors:r.B3,tickLength:4,svgLabelSmall:{fill:r.ab[7]},svgLabelBig:{fill:r.ab[9]},gridColor:r.ab[5],gridColorDark:r.ab[9]})},26116:function(e,t,n){"use strict";function r(e){return null!=e&&"number"===typeof e&&!Number.isNaN(e)&&Number.isFinite(e)}n.d(t,{Z:function(){return r}})},42478:function(e,t,n){"use strict";n.r(t);var r=n(57645),i={};for(var a in r)"default"!==a&&(i[a]=function(e){return r[e]}.bind(0,a));n.d(t,i)},57645:function(){},32131:function(e,t,n){"use strict";n.d(t,{B:function(){return i},W:function(){return r}});var r=function(e){return Boolean(null==e?void 0:e.includes("url("))},i=function(e){return r(e)?"rgba(0,0,0,0.1)":e}},19781:function(e,t,n){"use strict";n.d(t,{N:function(){return r},Z:function(){return i}});var r=function(e){return e.stack};function i(e,t){var n={};return e.forEach((function(e){var r=e.props,i=r.dataKey,a=r.data,o=r.xAccessor,s=r.yAccessor;if(o&&s){var u=t?[s,o]:[o,s],c=u[0],l=u[1];a.forEach((function(e){var t=c(e),r=l(e),a=String(t);n[a]||(n[a]={stack:t,positiveSum:0,negativeSum:0}),n[a][i]=r,n[a][r>=0?"positiveSum":"negativeSum"]+=r}))}})),Object.values(n)}},43678:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(92267),i=n(41539),a=n(84181);function o(e){var t,n,o=e.scale,s=e.accessor,u=e.scaledValue,c=e.data,l=o;if("invert"in l&&"function"===typeof l.invert){var f=(0,r.Z)(s).left,d=Number(l.invert(u)),p=f(c,d),h=c[p-1],v=c[p];n=(t=!h||Math.abs(d-s(h))>Math.abs(d-s(v))?v:h)===h?p-1:p}else{if(!("step"in l)||"undefined"===typeof l.step)return console.warn("[visx/xychart/findNearestDatum] encountered incompatible scale type, bailing"),null;var m=o.domain(),g=o.range().map(Number),y=[].concat(g).sort((function(e,t){return e-t})),b=(0,i.Z)(y[0],y[1],l.step()),x=(0,a.Nw)(b,u),k=(g[0]<g[1]?m:m.reverse())[x-1],w=c.findIndex((function(e){return String(s(e))===String(k)}));t=c[w],n=w}return null==t||null==n?null:{datum:t,index:n,distance:Math.abs(Number(l(s(t)))-u)}}},47258:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(43678);function i(e){var t=e.xScale,n=e.xAccessor,i=e.yScale,a=e.yAccessor,o=e.point,s=e.data;if(!o)return null;var u=(0,r.Z)({scale:t,accessor:n,scaledValue:o.x,data:s});return u?{datum:u.datum,index:u.index,distanceX:u.distance,distanceY:Math.abs(Number(i(a(u.datum)))-o.y)}:null}},16267:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(43678);function i(e){var t=e.yScale,n=e.yAccessor,i=e.xScale,a=e.xAccessor,o=e.point,s=e.data;if(!o)return null;var u=(0,r.Z)({scale:t,accessor:n,scaledValue:o.y,data:s});return u?{datum:u.datum,index:u.index,distanceY:u.distance,distanceX:Math.abs(Number(i(a(u.datum)))-o.x)}:null}},88797:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(34876),i=n(16267),a=n(47258);function o(e,t,n){var o,s,u,c,l=e.xScale,f=e.yScale,d=e.point,p=(n?i.Z:a.Z)(e),h=null==(null==p?void 0:p.index)?null:t[p.index];return p&&h&&d?{index:p.index,datum:h,distanceX:n&&d.x>=(null!=(o=l((0,r.l8)(p.datum)))?o:1/0)&&d.x<=(null!=(s=l((0,r.xf)(p.datum)))?s:-1/0)?0:p.distanceX,distanceY:n?p.distanceY:d.y<=(null!=(u=f((0,r.l8)(p.datum)))?u:-1/0)&&d.y>=(null!=(c=f((0,r.xf)(p.datum)))?c:1/0)?0:p.distanceY}:null}},52399:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(72791);function i(e){return r.Children.toArray(e).flatMap((function(e){return"object"===typeof e&&"props"in e&&e.props.children?e.props.children:e})).filter((function(e){return function(e){return!!e&&"object"===typeof e&&"props"in e&&null!=e.props}(e)}))}},50851:function(e,t,n){"use strict";function r(e){var t;return e&&"bandwidth"in e&&null!=(t=null==e?void 0:e.bandwidth())?t:0}n.d(t,{Z:function(){return r}})},99915:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(64644),i=n(26116);function a(e){var t=e.range().map((function(e){var t;return null!=(t=(0,r.Z)(e))?t:0})),n=t[0],a=t[1],o=null!=n&&null!=a&&a<n,s=e(0),u=o?[a,n]:[n,a],c=u[0],l=u[1];return o?(0,i.Z)(s)?Math.min(Math.max(c,s),l):l:(0,i.Z)(s)?Math.max(s,c):c}},50281:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(26116),i=n(50851);function a(e,t,n){return void 0===n&&(n="center"),function(a){var o=e(t(a));return(0,r.Z)(o)?o+("start"===n?0:(0,i.Z)(e))/("center"===n?2:1):NaN}}},14249:function(e){"use strict";function t(e,t,i){e instanceof RegExp&&(e=n(e,i)),t instanceof RegExp&&(t=n(t,i));var a=r(e,t,i);return a&&{start:a[0],end:a[1],pre:i.slice(0,a[0]),body:i.slice(a[0]+e.length,a[1]),post:i.slice(a[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function r(e,t,n){var r,i,a,o,s,u=n.indexOf(e),c=n.indexOf(t,u+1),l=u;if(u>=0&&c>0){if(e===t)return[u,c];for(r=[],a=n.length;l>=0&&!s;)l==u?(r.push(l),u=n.indexOf(e,l+1)):1==r.length?s=[r.pop(),c]:((i=r.pop())<a&&(a=i,o=c),c=n.indexOf(t,l+1)),l=u<c&&u>=0?u:c;r.length&&(s=[a,o])}return s}e.exports=t,t.range=r},81694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},28182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.Z=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},66724:function(e,t,n){var r=n(39218),i=n(81772),a=TypeError;e.exports=function(e){if(r(e))return e;throw a(i(e)+" is not a function")}},10611:function(e,t,n){var r=n(51219),i=n(81772),a=TypeError;e.exports=function(e){if(r(e))return e;throw a(i(e)+" is not a constructor")}},56299:function(e,t,n){var r=n(39218),i=String,a=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw a("Can't set "+i(e)+" as a prototype")}},35715:function(e,t,n){var r=n(95028),i=n(4385),a=n(91592).f,o=r("unscopables"),s=Array.prototype;void 0==s[o]&&a(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},35466:function(e,t,n){"use strict";var r=n(18424).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},14817:function(e,t,n){var r=n(68946),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw i("Incorrect invocation")}},45884:function(e,t,n){var r=n(43931),i=String,a=TypeError;e.exports=function(e){if(r(e))return e;throw a(i(e)+" is not an object")}},16077:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},21531:function(e,t,n){var r=n(92837);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},93866:function(e,t,n){"use strict";var r,i,a,o=n(16077),s=n(31196),u=n(6840),c=n(39218),l=n(43931),f=n(73013),d=n(37205),p=n(81772),h=n(63873),v=n(17543),m=n(91592).f,g=n(68946),y=n(24305),b=n(4381),x=n(95028),k=n(24839),w=n(49671),_=w.enforce,S=w.get,T=u.Int8Array,E=T&&T.prototype,C=u.Uint8ClampedArray,O=C&&C.prototype,A=T&&y(T),I=E&&y(E),R=Object.prototype,N=u.TypeError,P=x("toStringTag"),M=k("TYPED_ARRAY_TAG"),D="TypedArrayConstructor",L=o&&!!b&&"Opera"!==d(u.opera),j=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Z={BigInt64Array:8,BigUint64Array:8},B=function(e){if(!l(e))return!1;var t=d(e);return f(F,t)||f(Z,t)};for(r in F)(a=(i=u[r])&&i.prototype)?_(a).TypedArrayConstructor=i:L=!1;for(r in Z)(a=(i=u[r])&&i.prototype)&&(_(a).TypedArrayConstructor=i);if((!L||!c(A)||A===Function.prototype)&&(A=function(){throw N("Incorrect invocation")},L))for(r in F)u[r]&&b(u[r],A);if((!L||!I||I===R)&&(I=A.prototype,L))for(r in F)u[r]&&b(u[r].prototype,I);if(L&&y(O)!==I&&b(O,I),s&&!f(I,P))for(r in j=!0,m(I,P,{get:function(){return l(this)?this[M]:void 0}}),F)u[r]&&h(u[r],M,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:L,TYPED_ARRAY_TAG:j&&M,aTypedArray:function(e){if(B(e))return e;throw N("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!b||g(A,e)))return e;throw N(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(s){if(n)for(var i in F){var a=u[i];if(a&&f(a.prototype,e))try{delete a.prototype[e]}catch(o){try{a.prototype[e]=t}catch(c){}}}I[e]&&!n||v(I,e,n?t:L&&E[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(s){if(b){if(n)for(r in F)if((i=u[r])&&f(i,e))try{delete i[e]}catch(a){}if(A[e]&&!n)return;try{return v(A,e,n?t:L&&A[e]||t)}catch(a){}}for(r in F)!(i=u[r])||i[e]&&!n||v(i,e,t)}},getTypedArrayConstructor:function e(t){var n=y(t);if(l(n)){var r=S(n);return r&&f(r,D)?r.TypedArrayConstructor:e(n)}},isView:function(e){if(!l(e))return!1;var t=d(e);return"DataView"===t||f(F,t)||f(Z,t)},isTypedArray:B,TypedArray:A,TypedArrayPrototype:I}},40865:function(e,t,n){"use strict";var r=n(6840),i=n(74932),a=n(31196),o=n(16077),s=n(23211),u=n(63873),c=n(7544),l=n(92837),f=n(14817),d=n(92128),p=n(62347),h=n(31143),v=n(29580),m=n(24305),g=n(4381),y=n(3772).f,b=n(91592).f,x=n(56012),k=n(43278),w=n(53370),_=n(49671),S=s.PROPER,T=s.CONFIGURABLE,E=_.get,C=_.set,O="ArrayBuffer",A="DataView",I="Wrong index",R=r.ArrayBuffer,N=R,P=N&&N.prototype,M=r.DataView,D=M&&M.prototype,L=Object.prototype,j=r.Array,F=r.RangeError,Z=i(x),B=i([].reverse),U=v.pack,V=v.unpack,z=function(e){return[255&e]},W=function(e){return[255&e,e>>8&255]},H=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},G=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},q=function(e){return U(e,23,4)},K=function(e){return U(e,52,8)},Y=function(e,t){b(e.prototype,t,{get:function(){return E(this)[t]}})},X=function(e,t,n,r){var i=h(n),a=E(e);if(i+t>a.byteLength)throw F(I);var o=E(a.buffer).bytes,s=i+a.byteOffset,u=k(o,s,s+t);return r?u:B(u)},Q=function(e,t,n,r,i,a){var o=h(n),s=E(e);if(o+t>s.byteLength)throw F(I);for(var u=E(s.buffer).bytes,c=o+s.byteOffset,l=r(+i),f=0;f<t;f++)u[c+f]=l[a?f:t-f-1]};if(o){var J=S&&R.name!==O;if(l((function(){R(1)}))&&l((function(){new R(-1)}))&&!l((function(){return new R,new R(1.5),new R(NaN),J&&!T})))J&&T&&u(R,"name",O);else{(N=function(e){return f(this,P),new R(h(e))}).prototype=P;for(var $,ee=y(R),te=0;ee.length>te;)($=ee[te++])in N||u(N,$,R[$]);P.constructor=N}g&&m(D)!==L&&g(D,L);var ne=new M(new N(2)),re=i(D.setInt8);ne.setInt8(0,2147483648),ne.setInt8(1,2147483649),!ne.getInt8(0)&&ne.getInt8(1)||c(D,{setInt8:function(e,t){re(this,e,t<<24>>24)},setUint8:function(e,t){re(this,e,t<<24>>24)}},{unsafe:!0})}else P=(N=function(e){f(this,P);var t=h(e);C(this,{bytes:Z(j(t),0),byteLength:t}),a||(this.byteLength=t)}).prototype,D=(M=function(e,t,n){f(this,D),f(e,P);var r=E(e).byteLength,i=d(t);if(i<0||i>r)throw F("Wrong offset");if(i+(n=void 0===n?r-i:p(n))>r)throw F("Wrong length");C(this,{buffer:e,byteLength:n,byteOffset:i}),a||(this.buffer=e,this.byteLength=n,this.byteOffset=i)}).prototype,a&&(Y(N,"byteLength"),Y(M,"buffer"),Y(M,"byteLength"),Y(M,"byteOffset")),c(D,{getInt8:function(e){return X(this,1,e)[0]<<24>>24},getUint8:function(e){return X(this,1,e)[0]},getInt16:function(e){var t=X(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=X(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return G(X(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return G(X(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return V(X(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return V(X(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Q(this,1,e,z,t)},setUint8:function(e,t){Q(this,1,e,z,t)},setInt16:function(e,t){Q(this,2,e,W,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Q(this,2,e,W,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Q(this,4,e,H,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Q(this,4,e,H,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Q(this,4,e,q,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Q(this,8,e,K,t,arguments.length>2?arguments[2]:void 0)}});w(N,O),w(M,A),e.exports={ArrayBuffer:N,DataView:M}},54739:function(e,t,n){"use strict";var r=n(28385),i=n(41823),a=n(23385),o=n(87820),s=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),u=a(n),c=i(e,u),l=i(t,u),f=arguments.length>2?arguments[2]:void 0,d=s((void 0===f?u:i(f,u))-l,u-c),p=1;for(l<c&&c<l+d&&(p=-1,l+=d-1,c+=d-1);d-- >0;)l in n?n[c]=n[l]:o(n,c),c+=p,l+=p;return n}},56012:function(e,t,n){"use strict";var r=n(28385),i=n(41823),a=n(23385);e.exports=function(e){for(var t=r(this),n=a(t),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)t[s++]=e;return t}},48129:function(e,t,n){"use strict";var r=n(5880).forEach,i=n(92241)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},11793:function(e,t,n){var r=n(23385);e.exports=function(e,t){for(var n=0,i=r(t),a=new e(i);i>n;)a[n]=t[n++];return a}},22422:function(e,t,n){"use strict";var r=n(5851),i=n(98513),a=n(28385),o=n(81940),s=n(38205),u=n(51219),c=n(23385),l=n(13055),f=n(78131),d=n(40443),p=Array;e.exports=function(e){var t=a(e),n=u(this),h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v;m&&(v=r(v,h>2?arguments[2]:void 0));var g,y,b,x,k,w,_=d(t),S=0;if(!_||this===p&&s(_))for(g=c(t),y=n?new this(g):p(g);g>S;S++)w=m?v(t[S],S):t[S],l(y,S,w);else for(k=(x=f(t,_)).next,y=n?new this:[];!(b=i(k,x)).done;S++)w=m?o(x,v,[b.value,S],!0):b.value,l(y,S,w);return y.length=S,y}},70488:function(e,t,n){var r=n(45770),i=n(41823),a=n(23385),o=function(e){return function(t,n,o){var s,u=r(t),c=a(u),l=i(o,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},5880:function(e,t,n){var r=n(5851),i=n(74932),a=n(71036),o=n(28385),s=n(23385),u=n(95491),c=i([].push),l=function(e){var t=1==e,n=2==e,i=3==e,l=4==e,f=6==e,d=7==e,p=5==e||f;return function(h,v,m,g){for(var y,b,x=o(h),k=a(x),w=r(v,m),_=s(k),S=0,T=g||u,E=t?T(h,_):n||d?T(h,0):void 0;_>S;S++)if((p||S in k)&&(b=w(y=k[S],S,x),e))if(t)E[S]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return S;case 2:c(E,y)}else switch(e){case 4:return!1;case 7:c(E,y)}return f?-1:i||l?l:E}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},2561:function(e,t,n){"use strict";var r=n(86339),i=n(45770),a=n(92128),o=n(23385),s=n(92241),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,f=s("lastIndexOf"),d=l||!f;e.exports=d?function(e){if(l)return r(c,this,arguments)||0;var t=i(this),n=o(t),s=n-1;for(arguments.length>1&&(s=u(s,a(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:c},81379:function(e,t,n){var r=n(92837),i=n(95028),a=n(65372),o=i("species");e.exports=function(e){return a>=51||!r((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},92241:function(e,t,n){"use strict";var r=n(92837);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},94512:function(e,t,n){var r=n(66724),i=n(28385),a=n(71036),o=n(23385),s=TypeError,u=function(e){return function(t,n,u,c){r(n);var l=i(t),f=a(l),d=o(l),p=e?d-1:0,h=e?-1:1;if(u<2)for(;;){if(p in f){c=f[p],p+=h;break}if(p+=h,e?p<0:d<=p)throw s("Reduce of empty array with no initial value")}for(;e?p>=0:d>p;p+=h)p in f&&(c=n(c,f[p],p,l));return c}};e.exports={left:u(!1),right:u(!0)}},43278:function(e,t,n){var r=n(41823),i=n(23385),a=n(13055),o=Array,s=Math.max;e.exports=function(e,t,n){for(var u=i(e),c=r(t,u),l=r(void 0===n?u:n,u),f=o(s(l-c,0)),d=0;c<l;c++,d++)a(f,d,e[c]);return f.length=d,f}},15618:function(e,t,n){var r=n(74932);e.exports=r([].slice)},47732:function(e,t,n){var r=n(43278),i=Math.floor,a=function(e,t){for(var n,r,i=e.length,a=1;a<i;){for(r=a,n=e[a];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==a++&&(e[r]=n)}return e},o=function(e,t,n,r){for(var i=t.length,a=n.length,o=0,s=0;o<i||s<a;)e[o+s]=o<i&&s<a?r(t[o],n[s])<=0?t[o++]:n[s++]:o<i?t[o++]:n[s++];return e};e.exports=function e(t,n){var s=t.length,u=i(s/2);return s<8?a(t,n):o(t,e(r(t,0,u),n),e(r(t,u),n),n)}},89026:function(e,t,n){var r=n(51941),i=n(51219),a=n(43931),o=n(95028)("species"),s=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(i(t)&&(t===s||r(t.prototype))||a(t)&&null===(t=t[o]))&&(t=void 0)),void 0===t?s:t}},95491:function(e,t,n){var r=n(89026);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},81940:function(e,t,n){var r=n(45884),i=n(9053);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(o){i(e,"throw",o)}}},6225:function(e,t,n){var r=n(95028)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(s){}return n}},82933:function(e,t,n){var r=n(74932),i=r({}.toString),a=r("".slice);e.exports=function(e){return a(i(e),8,-1)}},37205:function(e,t,n){var r=n(56042),i=n(39218),a=n(82933),o=n(95028)("toStringTag"),s=Object,u="Arguments"==a(function(){return arguments}());e.exports=r?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=s(e),o))?n:u?a(t):"Object"==(r=a(t))&&i(t.callee)?"Arguments":r}},13425:function(e,t,n){"use strict";var r=n(91592).f,i=n(4385),a=n(7544),o=n(5851),s=n(14817),u=n(54439),c=n(32170),l=n(52267),f=n(31196),d=n(12499).fastKey,p=n(49671),h=p.set,v=p.getterFor;e.exports={getConstructor:function(e,t,n,c){var l=e((function(e,r){s(e,p),h(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=r&&u(r,e[c],{that:e,AS_ENTRIES:n})})),p=l.prototype,m=v(t),g=function(e,t,n){var r,i,a=m(e),o=y(e,t);return o?o.value=n:(a.last=o={index:i=d(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),f?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},y=function(e,t){var n,r=m(e),i=d(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(p,{clear:function(){for(var e=m(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=this,n=m(t),r=y(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),f?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=m(this),r=o(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!y(this,e)}}),a(p,n?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),f&&r(p,"size",{get:function(){return m(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",i=v(t),a=v(r);c(e,t,(function(e,t){h(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},93309:function(e,t,n){"use strict";var r=n(67768),i=n(6840),a=n(74932),o=n(96673),s=n(17543),u=n(12499),c=n(54439),l=n(14817),f=n(39218),d=n(43931),p=n(92837),h=n(6225),v=n(53370),m=n(21527);e.exports=function(e,t,n){var g=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),b=g?"set":"add",x=i[e],k=x&&x.prototype,w=x,_={},S=function(e){var t=a(k[e]);s(k,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(y&&!d(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return y&&!d(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!d(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(o(e,!f(x)||!(y||k.forEach&&!p((function(){(new x).entries().next()})))))w=n.getConstructor(t,e,g,b),u.enable();else if(o(e,!0)){var T=new w,E=T[b](y?{}:-0,1)!=T,C=p((function(){T.has(1)})),O=h((function(e){new x(e)})),A=!y&&p((function(){for(var e=new x,t=5;t--;)e[b](t,t);return!e.has(-0)}));O||((w=t((function(e,t){l(e,k);var n=m(new x,e,w);return void 0!=t&&c(t,n[b],{that:n,AS_ENTRIES:g}),n}))).prototype=k,k.constructor=w),(C||A)&&(S("delete"),S("has"),g&&S("get")),(A||E)&&S(b),y&&k.clear&&delete k.clear}return _[e]=w,r({global:!0,constructor:!0,forced:w!=x},_),v(w,e),y||n.setStrong(w,e,g),w}},90189:function(e,t,n){var r=n(73013),i=n(17273),a=n(32573),o=n(91592);e.exports=function(e,t,n){for(var s=i(t),u=o.f,c=a.f,l=0;l<s.length;l++){var f=s[l];r(e,f)||n&&r(n,f)||u(e,f,c(t,f))}}},2525:function(e,t,n){var r=n(95028)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(i){}}return!1}},11586:function(e,t,n){var r=n(92837);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},41949:function(e,t,n){"use strict";var r=n(27022).IteratorPrototype,i=n(4385),a=n(72037),o=n(53370),s=n(29706),u=function(){return this};e.exports=function(e,t,n,c){var l=t+" Iterator";return e.prototype=i(r,{next:a(+!c,n)}),o(e,l,!1,!0),s[l]=u,e}},63873:function(e,t,n){var r=n(31196),i=n(91592),a=n(72037);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},72037:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},13055:function(e,t,n){"use strict";var r=n(54655),i=n(91592),a=n(72037);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},50695:function(e,t,n){var r=n(32557),i=n(91592);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},17543:function(e,t,n){var r=n(39218),i=n(91592),a=n(32557),o=n(19131);e.exports=function(e,t,n,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:t;if(r(n)&&a(n,c,s),s.global)u?e[t]=n:o(t,n);else{try{s.unsafe?e[t]&&(u=!0):delete e[t]}catch(l){}u?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},7544:function(e,t,n){var r=n(17543);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},19131:function(e,t,n){var r=n(6840),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},32170:function(e,t,n){"use strict";var r=n(67768),i=n(98513),a=n(23608),o=n(23211),s=n(39218),u=n(41949),c=n(24305),l=n(4381),f=n(53370),d=n(63873),p=n(17543),h=n(95028),v=n(29706),m=n(27022),g=o.PROPER,y=o.CONFIGURABLE,b=m.IteratorPrototype,x=m.BUGGY_SAFARI_ITERATORS,k=h("iterator"),w="keys",_="values",S="entries",T=function(){return this};e.exports=function(e,t,n,o,h,m,E){u(n,t,o);var C,O,A,I=function(e){if(e===h&&D)return D;if(!x&&e in P)return P[e];switch(e){case w:case _:case S:return function(){return new n(this,e)}}return function(){return new n(this)}},R=t+" Iterator",N=!1,P=e.prototype,M=P[k]||P["@@iterator"]||h&&P[h],D=!x&&M||I(h),L="Array"==t&&P.entries||M;if(L&&(C=c(L.call(new e)))!==Object.prototype&&C.next&&(a||c(C)===b||(l?l(C,b):s(C[k])||p(C,k,T)),f(C,R,!0,!0),a&&(v[R]=T)),g&&h==_&&M&&M.name!==_&&(!a&&y?d(P,"name",_):(N=!0,D=function(){return i(M,this)})),h)if(O={values:I(_),keys:m?D:I(w),entries:I(S)},E)for(A in O)(x||N||!(A in P))&&p(P,A,O[A]);else r({target:t,proto:!0,forced:x||N},O);return a&&!E||P[k]===D||p(P,k,D,{name:h}),v[t]=D,O}},84418:function(e,t,n){var r=n(34750),i=n(73013),a=n(21384),o=n(91592).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},87820:function(e,t,n){"use strict";var r=n(81772),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+r(t)+" of "+r(e))}},31196:function(e,t,n){var r=n(92837);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},90937:function(e,t,n){var r=n(6840),i=n(43931),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},96117:function(e){var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},50650:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},22752:function(e,t,n){var r=n(90937)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},58336:function(e,t,n){var r=n(84839).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},64163:function(e,t,n){var r=n(46681),i=n(31653);e.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},46681:function(e){e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},64891:function(e,t,n){var r=n(84839);e.exports=/MSIE|Trident/.test(r)},71070:function(e,t,n){var r=n(84839),i=n(6840);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},63929:function(e,t,n){var r=n(84839);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},31653:function(e,t,n){var r=n(82933),i=n(6840);e.exports="process"==r(i.process)},81785:function(e,t,n){var r=n(84839);e.exports=/web0s(?!.*chrome)/i.test(r)},84839:function(e,t,n){var r=n(1240);e.exports=r("navigator","userAgent")||""},65372:function(e,t,n){var r,i,a=n(6840),o=n(84839),s=a.process,u=a.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},24469:function(e,t,n){var r=n(84839).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},12080:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},67768:function(e,t,n){var r=n(6840),i=n(32573).f,a=n(63873),o=n(17543),s=n(19131),u=n(90189),c=n(96673);e.exports=function(e,t){var n,l,f,d,p,h=e.target,v=e.global,m=e.stat;if(n=v?r:m?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in t){if(d=t[l],f=e.dontCallGetSet?(p=i(n,l))&&p.value:n[l],!c(v?l:h+(m?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;u(d,f)}(e.sham||f&&f.sham)&&a(d,"sham",!0),o(n,l,d,e)}}},92837:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},58093:function(e,t,n){"use strict";n(20447);var r=n(74932),i=n(17543),a=n(94087),o=n(92837),s=n(95028),u=n(63873),c=s("species"),l=RegExp.prototype;e.exports=function(e,t,n,f){var d=s(e),p=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),h=p&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!p||!h||n){var v=r(/./[d]),m=t(d,""[e],(function(e,t,n,i,o){var s=r(e),u=t.exec;return u===a||u===l.exec?p&&!o?{done:!0,value:v(t,n,i)}:{done:!0,value:s(n,t,i)}:{done:!1}}));i(String.prototype,e,m[0]),i(l,d,m[1])}f&&u(l[d],"sham",!0)}},7914:function(e,t,n){var r=n(92837);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},86339:function(e,t,n){var r=n(54138),i=Function.prototype,a=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(a):function(){return o.apply(a,arguments)})},5851:function(e,t,n){var r=n(74932),i=n(66724),a=n(54138),o=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},54138:function(e,t,n){var r=n(92837);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},66448:function(e,t,n){"use strict";var r=n(74932),i=n(66724),a=n(43931),o=n(73013),s=n(15618),u=n(54138),c=Function,l=r([].concat),f=r([].join),d={},p=function(e,t,n){if(!o(d,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";d[t]=c("C,a","return new C("+f(r,",")+")")}return d[t](e,n)};e.exports=u?c.bind:function(e){var t=i(this),n=t.prototype,r=s(arguments,1),o=function(){var n=l(r,s(arguments));return this instanceof o?p(t,n.length,n):t.apply(e,n)};return a(n)&&(o.prototype=n),o}},98513:function(e,t,n){var r=n(54138),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},23211:function(e,t,n){var r=n(31196),i=n(73013),a=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,s=i(a,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&o(a,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},74932:function(e,t,n){var r=n(54138),i=Function.prototype,a=i.bind,o=i.call,s=r&&a.bind(o,o);e.exports=r?function(e){return e&&s(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},1240:function(e,t,n){var r=n(6840),i=n(39218),a=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e]):r[e]&&r[e][t]}},40443:function(e,t,n){var r=n(37205),i=n(23863),a=n(29706),o=n(95028)("iterator");e.exports=function(e){if(void 0!=e)return i(e,o)||i(e,"@@iterator")||a[r(e)]}},78131:function(e,t,n){var r=n(98513),i=n(66724),a=n(45884),o=n(81772),s=n(40443),u=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(i(n))return a(r(n,e));throw u(o(e)+" is not iterable")}},23863:function(e,t,n){var r=n(66724);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},17794:function(e,t,n){var r=n(74932),i=n(28385),a=Math.floor,o=r("".charAt),s=r("".replace),u=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,f,d){var p=n+e.length,h=r.length,v=l;return void 0!==f&&(f=i(f),v=c),s(d,v,(function(i,s){var c;switch(o(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,n);case"'":return u(t,p);case"<":c=f[u(s,1,-1)];break;default:var l=+s;if(0===l)return i;if(l>h){var d=a(l/10);return 0===d?i:d<=h?void 0===r[d-1]?o(s,1):r[d-1]+o(s,1):i}c=r[l-1]}return void 0===c?"":c}))}},6840:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},73013:function(e,t,n){var r=n(74932),i=n(28385),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},56196:function(e){e.exports={}},65995:function(e,t,n){var r=n(6840);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},62012:function(e,t,n){var r=n(1240);e.exports=r("document","documentElement")},36707:function(e,t,n){var r=n(31196),i=n(92837),a=n(90937);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},29580:function(e){var t=Array,n=Math.abs,r=Math.pow,i=Math.floor,a=Math.log,o=Math.LN2;e.exports={pack:function(e,s,u){var c,l,f,d=t(u),p=8*u-s-1,h=(1<<p)-1,v=h>>1,m=23===s?r(2,-24)-r(2,-77):0,g=e<0||0===e&&1/e<0?1:0,y=0;for((e=n(e))!=e||e===1/0?(l=e!=e?1:0,c=h):(c=i(a(e)/o),e*(f=r(2,-c))<1&&(c--,f*=2),(e+=c+v>=1?m/f:m*r(2,1-v))*f>=2&&(c++,f/=2),c+v>=h?(l=0,c=h):c+v>=1?(l=(e*f-1)*r(2,s),c+=v):(l=e*r(2,v-1)*r(2,s),c=0));s>=8;)d[y++]=255&l,l/=256,s-=8;for(c=c<<s|l,p+=s;p>0;)d[y++]=255&c,c/=256,p-=8;return d[--y]|=128*g,d},unpack:function(e,t){var n,i=e.length,a=8*i-t-1,o=(1<<a)-1,s=o>>1,u=a-7,c=i-1,l=e[c--],f=127&l;for(l>>=7;u>0;)f=256*f+e[c--],u-=8;for(n=f&(1<<-u)-1,f>>=-u,u+=t;u>0;)n=256*n+e[c--],u-=8;if(0===f)f=1-s;else{if(f===o)return n?NaN:l?-1/0:1/0;n+=r(2,t),f-=s}return(l?-1:1)*n*r(2,f-t)}}},71036:function(e,t,n){var r=n(74932),i=n(92837),a=n(82933),o=Object,s=r("".split);e.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?s(e,""):o(e)}:o},21527:function(e,t,n){var r=n(39218),i=n(43931),a=n(4381);e.exports=function(e,t,n){var o,s;return a&&r(o=t.constructor)&&o!==n&&i(s=o.prototype)&&s!==n.prototype&&a(e,s),e}},88589:function(e,t,n){var r=n(74932),i=n(39218),a=n(74460),o=r(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},12499:function(e,t,n){var r=n(67768),i=n(74932),a=n(56196),o=n(43931),s=n(73013),u=n(91592).f,c=n(3772),l=n(8910),f=n(86643),d=n(24839),p=n(7914),h=!1,v=d("meta"),m=0,g=function(e){u(e,v,{value:{objectID:"O"+m++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},h=!0;var e=c.f,t=i([].splice),n={};n[v]=1,e(n).length&&(c.f=function(n){for(var r=e(n),i=0,a=r.length;i<a;i++)if(r[i]===v){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,v)){if(!f(e))return"F";if(!t)return"E";g(e)}return e[v].objectID},getWeakData:function(e,t){if(!s(e,v)){if(!f(e))return!0;if(!t)return!1;g(e)}return e[v].weakData},onFreeze:function(e){return p&&h&&f(e)&&!s(e,v)&&g(e),e}};a[v]=!0},49671:function(e,t,n){var r,i,a,o=n(45242),s=n(6840),u=n(74932),c=n(43931),l=n(63873),f=n(73013),d=n(74460),p=n(89378),h=n(56196),v="Object already initialized",m=s.TypeError,g=s.WeakMap;if(o||d.state){var y=d.state||(d.state=new g),b=u(y.get),x=u(y.has),k=u(y.set);r=function(e,t){if(x(y,e))throw new m(v);return t.facade=e,k(y,e,t),t},i=function(e){return b(y,e)||{}},a=function(e){return x(y,e)}}else{var w=p("state");h[w]=!0,r=function(e,t){if(f(e,w))throw new m(v);return t.facade=e,l(e,w,t),t},i=function(e){return f(e,w)?e[w]:{}},a=function(e){return f(e,w)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}}}},38205:function(e,t,n){var r=n(95028),i=n(29706),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},51941:function(e,t,n){var r=n(82933);e.exports=Array.isArray||function(e){return"Array"==r(e)}},39218:function(e){e.exports=function(e){return"function"==typeof e}},51219:function(e,t,n){var r=n(74932),i=n(92837),a=n(39218),o=n(37205),s=n(1240),u=n(88589),c=function(){},l=[],f=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=r(d.exec),h=!d.exec(c),v=function(e){if(!a(e))return!1;try{return f(c,l,e),!0}catch(t){return!1}},m=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!p(d,u(e))}catch(t){return!0}};m.sham=!0,e.exports=!f||i((function(){var e;return v(v.call)||!v(Object)||!v((function(){e=!0}))||e}))?m:v},96673:function(e,t,n){var r=n(92837),i=n(39218),a=/#|\.prototype\./,o=function(e,t){var n=u[s(e)];return n==l||n!=c&&(i(t)?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},u=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},57724:function(e,t,n){var r=n(43931),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},43931:function(e,t,n){var r=n(39218);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},23608:function(e){e.exports=!1},10670:function(e,t,n){var r=n(43931),i=n(82933),a=n(95028)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},28287:function(e,t,n){var r=n(1240),i=n(39218),a=n(68946),o=n(47611),s=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&a(t.prototype,s(e))}},54439:function(e,t,n){var r=n(5851),i=n(98513),a=n(45884),o=n(81772),s=n(38205),u=n(23385),c=n(68946),l=n(78131),f=n(40443),d=n(9053),p=TypeError,h=function(e,t){this.stopped=e,this.result=t},v=h.prototype;e.exports=function(e,t,n){var m,g,y,b,x,k,w,_=n&&n.that,S=!(!n||!n.AS_ENTRIES),T=!(!n||!n.IS_RECORD),E=!(!n||!n.IS_ITERATOR),C=!(!n||!n.INTERRUPTED),O=r(t,_),A=function(e){return m&&d(m,"normal",e),new h(!0,e)},I=function(e){return S?(a(e),C?O(e[0],e[1],A):O(e[0],e[1])):C?O(e,A):O(e)};if(T)m=e.iterator;else if(E)m=e;else{if(!(g=f(e)))throw p(o(e)+" is not iterable");if(s(g)){for(y=0,b=u(e);b>y;y++)if((x=I(e[y]))&&c(v,x))return x;return new h(!1)}m=l(e,g)}for(k=T?e.next:m.next;!(w=i(k,m)).done;){try{x=I(w.value)}catch(R){d(m,"throw",R)}if("object"==typeof x&&x&&c(v,x))return x}return new h(!1)}},9053:function(e,t,n){var r=n(98513),i=n(45884),a=n(23863);e.exports=function(e,t,n){var o,s;i(e);try{if(!(o=a(e,"return"))){if("throw"===t)throw n;return n}o=r(o,e)}catch(u){s=!0,o=u}if("throw"===t)throw n;if(s)throw o;return i(o),n}},27022:function(e,t,n){"use strict";var r,i,a,o=n(92837),s=n(39218),u=n(4385),c=n(24305),l=n(17543),f=n(95028),d=n(23608),p=f("iterator"),h=!1;[].keys&&("next"in(a=[].keys())?(i=c(c(a)))!==Object.prototype&&(r=i):h=!0),void 0==r||o((function(){var e={};return r[p].call(e)!==e}))?r={}:d&&(r=u(r)),s(r[p])||l(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},29706:function(e){e.exports={}},23385:function(e,t,n){var r=n(62347);e.exports=function(e){return r(e.length)}},32557:function(e,t,n){var r=n(92837),i=n(39218),a=n(73013),o=n(31196),s=n(23211).CONFIGURABLE,u=n(88589),c=n(49671),l=c.enforce,f=c.get,d=Object.defineProperty,p=o&&!r((function(){return 8!==d((function(){}),"length",{value:8}).length})),h=String(String).split("String"),v=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||s&&e.name!==t)&&(o?d(e,"name",{value:t,configurable:!0}):e.name=t),p&&n&&a(n,"arity")&&e.length!==n.arity&&d(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?o&&d(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=l(e);return a(r,"source")||(r.source=h.join("string"==typeof t?t:"")),e};Function.prototype.toString=v((function(){return i(this)&&f(this).source||u(this)}),"toString")},21246:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},24410:function(e,t,n){var r,i,a,o,s,u,c,l,f=n(6840),d=n(5851),p=n(32573).f,h=n(91625).set,v=n(63929),m=n(71070),g=n(81785),y=n(31653),b=f.MutationObserver||f.WebKitMutationObserver,x=f.document,k=f.process,w=f.Promise,_=p(f,"queueMicrotask"),S=_&&_.value;S||(r=function(){var e,t;for(y&&(e=k.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(n){throw i?o():a=void 0,n}}a=void 0,e&&e.enter()},v||y||g||!b||!x?!m&&w&&w.resolve?((c=w.resolve(void 0)).constructor=w,l=d(c.then,c),o=function(){l(r)}):y?o=function(){k.nextTick(r)}:(h=d(h,f),o=function(){h(r)}):(s=!0,u=x.createTextNode(""),new b(r).observe(u,{characterData:!0}),o=function(){u.data=s=!s})),e.exports=S||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},94390:function(e,t,n){var r=n(63991);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},63991:function(e,t,n){var r=n(65372),i=n(92837);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},81887:function(e,t,n){var r=n(92837),i=n(95028),a=n(23608),o=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},45242:function(e,t,n){var r=n(6840),i=n(39218),a=n(88589),o=r.WeakMap;e.exports=i(o)&&/native code/.test(a(o))},30246:function(e,t,n){"use strict";var r=n(66724),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},79693:function(e,t,n){var r=n(10670),i=TypeError;e.exports=function(e){if(r(e))throw i("The method doesn't accept regular expressions");return e}},52526:function(e,t,n){"use strict";var r=n(31196),i=n(74932),a=n(98513),o=n(92837),s=n(18084),u=n(60400),c=n(28306),l=n(28385),f=n(71036),d=Object.assign,p=Object.defineProperty,h=i([].concat);e.exports=!d||o((function(){if(r&&1!==d({b:1},d(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||s(d({},t)).join("")!=i}))?function(e,t){for(var n=l(e),i=arguments.length,o=1,d=u.f,p=c.f;i>o;)for(var v,m=f(arguments[o++]),g=d?h(s(m),d(m)):s(m),y=g.length,b=0;y>b;)v=g[b++],r&&!a(p,m,v)||(n[v]=m[v]);return n}:d},4385:function(e,t,n){var r,i=n(45884),a=n(61697),o=n(12080),s=n(56196),u=n(62012),c=n(90937),l=n(89378),f=l("IE_PROTO"),d=function(){},p=function(e){return"<script>"+e+"</"+"script>"},h=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}v="undefined"!=typeof document?document.domain&&r?h(r):function(){var e,t=c("iframe");return t.style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F}():h(r);for(var e=o.length;e--;)delete v.prototype[o[e]];return v()};s[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[f]=e):n=v(),void 0===t?n:a.f(n,t)}},61697:function(e,t,n){var r=n(31196),i=n(26056),a=n(91592),o=n(45884),s=n(45770),u=n(18084);t.f=r&&!i?Object.defineProperties:function(e,t){o(e);for(var n,r=s(t),i=u(t),c=i.length,l=0;c>l;)a.f(e,n=i[l++],r[n]);return e}},91592:function(e,t,n){var r=n(31196),i=n(36707),a=n(26056),o=n(45884),s=n(54655),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",d="configurable",p="writable";t.f=r?a?function(e,t,n){if(o(e),t=s(t),o(n),"function"===typeof e&&"prototype"===t&&"value"in n&&p in n&&!n.writable){var r=l(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:d in n?n.configurable:r.configurable,enumerable:f in n?n.enumerable:r.enumerable,writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(o(e),t=s(t),o(n),i)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},32573:function(e,t,n){var r=n(31196),i=n(98513),a=n(28306),o=n(72037),s=n(45770),u=n(54655),c=n(73013),l=n(36707),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=s(e),t=u(t),l)try{return f(e,t)}catch(n){}if(c(e,t))return o(!i(a.f,e,t),e[t])}},8910:function(e,t,n){var r=n(82933),i=n(45770),a=n(3772).f,o=n(43278),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==r(e)?function(e){try{return a(e)}catch(t){return o(s)}}(e):a(i(e))}},3772:function(e,t,n){var r=n(63080),i=n(12080).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},60400:function(e,t){t.f=Object.getOwnPropertySymbols},24305:function(e,t,n){var r=n(73013),i=n(39218),a=n(28385),o=n(89378),s=n(11586),u=o("IE_PROTO"),c=Object,l=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=a(e);if(r(t,u))return t[u];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof c?l:null}},86643:function(e,t,n){var r=n(92837),i=n(43931),a=n(82933),o=n(21531),s=Object.isExtensible,u=r((function(){s(1)}));e.exports=u||o?function(e){return!!i(e)&&((!o||"ArrayBuffer"!=a(e))&&(!s||s(e)))}:s},68946:function(e,t,n){var r=n(74932);e.exports=r({}.isPrototypeOf)},63080:function(e,t,n){var r=n(74932),i=n(73013),a=n(45770),o=n(70488).indexOf,s=n(56196),u=r([].push);e.exports=function(e,t){var n,r=a(e),c=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&u(l,n);for(;t.length>c;)i(r,n=t[c++])&&(~o(l,n)||u(l,n));return l}},18084:function(e,t,n){var r=n(63080),i=n(12080);e.exports=Object.keys||function(e){return r(e,i)}},28306:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},4381:function(e,t,n){var r=n(74932),i=n(45884),a=n(56299);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(o){}return function(n,r){return i(n),a(r),t?e(n,r):n.__proto__=r,n}}():void 0)},19700:function(e,t,n){var r=n(31196),i=n(74932),a=n(18084),o=n(45770),s=i(n(28306).f),u=i([].push),c=function(e){return function(t){for(var n,i=o(t),c=a(i),l=c.length,f=0,d=[];l>f;)n=c[f++],r&&!s(i,n)||u(d,e?[n,i[n]]:i[n]);return d}};e.exports={entries:c(!0),values:c(!1)}},84289:function(e,t,n){"use strict";var r=n(56042),i=n(37205);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},67772:function(e,t,n){var r=n(98513),i=n(39218),a=n(43931),o=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!a(s=r(n,e)))return s;if(i(n=e.valueOf)&&!a(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!a(s=r(n,e)))return s;throw o("Can't convert object to primitive value")}},17273:function(e,t,n){var r=n(1240),i=n(74932),a=n(3772),o=n(60400),s=n(45884),u=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(s(e)),n=o.f;return n?u(t,n(e)):t}},34750:function(e,t,n){var r=n(6840);e.exports=r},63752:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},77426:function(e,t,n){var r=n(6840),i=n(31),a=n(39218),o=n(96673),s=n(88589),u=n(95028),c=n(64163),l=n(46681),f=n(23608),d=n(65372),p=i&&i.prototype,h=u("species"),v=!1,m=a(r.PromiseRejectionEvent),g=o("Promise",(function(){var e=s(i),t=e!==String(i);if(!t&&66===d)return!0;if(f&&(!p.catch||!p.finally))return!0;if(!d||d<51||!/native code/.test(e)){var n=new i((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[h]=r,!(v=n.then((function(){}))instanceof r))return!0}return!t&&(c||l)&&!m}));e.exports={CONSTRUCTOR:g,REJECTION_EVENT:m,SUBCLASSING:v}},31:function(e,t,n){var r=n(6840);e.exports=r.Promise},86321:function(e,t,n){var r=n(45884),i=n(43931),a=n(30246);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},71321:function(e,t,n){var r=n(31),i=n(6225),a=n(77426).CONSTRUCTOR;e.exports=a||!i((function(e){r.all(e).then(void 0,(function(){}))}))},9033:function(e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},22781:function(e,t,n){var r=n(98513),i=n(45884),a=n(39218),o=n(82933),s=n(94087),u=TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var c=r(n,e,t);return null!==c&&i(c),c}if("RegExp"===o(e))return r(s,e,t);throw u("RegExp#exec called on incompatible receiver")}},94087:function(e,t,n){"use strict";var r=n(98513),i=n(74932),a=n(86124),o=n(67687),s=n(8596),u=n(91778),c=n(4385),l=n(49671).get,f=n(12047),d=n(32063),p=u("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,v=h,m=i("".charAt),g=i("".indexOf),y=i("".replace),b=i("".slice),x=function(){var e=/a/,t=/b*/g;return r(h,e,"a"),r(h,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),k=s.BROKEN_CARET,w=void 0!==/()??/.exec("")[1];(x||w||k||f||d)&&(v=function(e){var t,n,i,s,u,f,d,_=this,S=l(_),T=a(e),E=S.raw;if(E)return E.lastIndex=_.lastIndex,t=r(v,E,T),_.lastIndex=E.lastIndex,t;var C=S.groups,O=k&&_.sticky,A=r(o,_),I=_.source,R=0,N=T;if(O&&(A=y(A,"y",""),-1===g(A,"g")&&(A+="g"),N=b(T,_.lastIndex),_.lastIndex>0&&(!_.multiline||_.multiline&&"\n"!==m(T,_.lastIndex-1))&&(I="(?: "+I+")",N=" "+N,R++),n=new RegExp("^(?:"+I+")",A)),w&&(n=new RegExp("^"+I+"$(?!\\s)",A)),x&&(i=_.lastIndex),s=r(h,O?n:_,N),O?s?(s.input=b(s.input,R),s[0]=b(s[0],R),s.index=_.lastIndex,_.lastIndex+=s[0].length):_.lastIndex=0:x&&s&&(_.lastIndex=_.global?s.index+s[0].length:i),w&&s&&s.length>1&&r(p,s[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)})),s&&C)for(s.groups=f=c(null),u=0;u<C.length;u++)f[(d=C[u])[0]]=s[d[1]];return s}),e.exports=v},67687:function(e,t,n){"use strict";var r=n(45884);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},97667:function(e,t,n){var r=n(98513),i=n(73013),a=n(68946),o=n(67687),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!a(s,e)?t:r(o,e)}},8596:function(e,t,n){var r=n(92837),i=n(6840).RegExp,a=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),o=a||r((function(){return!i("a","y").sticky})),s=a||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:o,UNSUPPORTED_Y:a}},12047:function(e,t,n){var r=n(92837),i=n(6840).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},32063:function(e,t,n){var r=n(92837),i=n(6840).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},2244:function(e){var t=TypeError;e.exports=function(e){if(void 0==e)throw t("Can't call method on "+e);return e}},58362:function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},52267:function(e,t,n){"use strict";var r=n(1240),i=n(91592),a=n(95028),o=n(31196),s=a("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},53370:function(e,t,n){var r=n(91592).f,i=n(73013),a=n(95028)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,a)&&r(e,a,{configurable:!0,value:t})}},89378:function(e,t,n){var r=n(91778),i=n(24839),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},74460:function(e,t,n){var r=n(6840),i=n(19131),a="__core-js_shared__",o=r[a]||i(a,{});e.exports=o},91778:function(e,t,n){var r=n(23608),i=n(74460);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.24.1",mode:r?"pure":"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})},917:function(e,t,n){var r=n(45884),i=n(10611),a=n(95028)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[a])?t:i(n)}},18424:function(e,t,n){var r=n(74932),i=n(92128),a=n(86124),o=n(2244),s=r("".charAt),u=r("".charCodeAt),c=r("".slice),l=function(e){return function(t,n){var r,l,f=a(o(t)),d=i(n),p=f.length;return d<0||d>=p?e?"":void 0:(r=u(f,d))<55296||r>56319||d+1===p||(l=u(f,d+1))<56320||l>57343?e?s(f,d):r:e?c(f,d,d+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},31649:function(e,t,n){"use strict";var r=n(74932),i=2147483647,a=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",u=RangeError,c=r(o.exec),l=Math.floor,f=String.fromCharCode,d=r("".charCodeAt),p=r([].join),h=r([].push),v=r("".replace),m=r("".split),g=r("".toLowerCase),y=function(e){return e+22+75*(e<26)},b=function(e,t,n){var r=0;for(e=n?l(e/700):e>>1,e+=l(e/t);e>455;)e=l(e/35),r+=36;return l(r+36*e/(e+38))},x=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=d(e,n++);if(i>=55296&&i<=56319&&n<r){var a=d(e,n++);56320==(64512&a)?h(t,((1023&i)<<10)+(1023&a)+65536):(h(t,i),n--)}else h(t,i)}return t}(e);var n,r,a=e.length,o=128,c=0,v=72;for(n=0;n<e.length;n++)(r=e[n])<128&&h(t,f(r));var m=t.length,g=m;for(m&&h(t,"-");g<a;){var x=i;for(n=0;n<e.length;n++)(r=e[n])>=o&&r<x&&(x=r);var k=g+1;if(x-o>l((i-c)/k))throw u(s);for(c+=(x-o)*k,o=x,n=0;n<e.length;n++){if((r=e[n])<o&&++c>i)throw u(s);if(r==o){for(var w=c,_=36;;){var S=_<=v?1:_>=v+26?26:_-v;if(w<S)break;var T=w-S,E=36-S;h(t,f(y(S+T%E))),w=l(T/E),_+=36}h(t,f(y(w))),v=b(c,k,g==m),c=0,g++}}c++,o++}return p(t,"")};e.exports=function(e){var t,n,r=[],i=m(v(g(e),o,"."),".");for(t=0;t<i.length;t++)n=i[t],h(r,c(a,n)?"xn--"+x(n):n);return p(r,".")}},56889:function(e,t,n){var r=n(74932),i=n(2244),a=n(86124),o=n(95450),s=r("".replace),u="["+o+"]",c=RegExp("^"+u+u+"*"),l=RegExp(u+u+"*$"),f=function(e){return function(t){var n=a(i(t));return 1&e&&(n=s(n,c,"")),2&e&&(n=s(n,l,"")),n}};e.exports={start:f(1),end:f(2),trim:f(3)}},32745:function(e,t,n){var r=n(98513),i=n(1240),a=n(95028),o=n(17543);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=a("toPrimitive");t&&!t[s]&&o(t,s,(function(e){return r(n,this)}),{arity:1})}},91625:function(e,t,n){var r,i,a,o,s=n(6840),u=n(86339),c=n(5851),l=n(39218),f=n(73013),d=n(92837),p=n(62012),h=n(15618),v=n(90937),m=n(34974),g=n(63929),y=n(31653),b=s.setImmediate,x=s.clearImmediate,k=s.process,w=s.Dispatch,_=s.Function,S=s.MessageChannel,T=s.String,E=0,C={},O="onreadystatechange";try{r=s.location}catch(P){}var A=function(e){if(f(C,e)){var t=C[e];delete C[e],t()}},I=function(e){return function(){A(e)}},R=function(e){A(e.data)},N=function(e){s.postMessage(T(e),r.protocol+"//"+r.host)};b&&x||(b=function(e){m(arguments.length,1);var t=l(e)?e:_(e),n=h(arguments,1);return C[++E]=function(){u(t,void 0,n)},i(E),E},x=function(e){delete C[e]},y?i=function(e){k.nextTick(I(e))}:w&&w.now?i=function(e){w.now(I(e))}:S&&!g?(o=(a=new S).port2,a.port1.onmessage=R,i=c(o.postMessage,o)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!d(N)?(i=N,s.addEventListener("message",R,!1)):i=O in v("script")?function(e){p.appendChild(v("script")).onreadystatechange=function(){p.removeChild(this),A(e)}}:function(e){setTimeout(I(e),0)}),e.exports={set:b,clear:x}},34748:function(e,t,n){var r=n(74932);e.exports=r(1..valueOf)},41823:function(e,t,n){var r=n(92128),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},69818:function(e,t,n){var r=n(66740),i=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw i("Can't convert number to bigint");return BigInt(t)}},31143:function(e,t,n){var r=n(92128),i=n(62347),a=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw a("Wrong length or index");return n}},45770:function(e,t,n){var r=n(71036),i=n(2244);e.exports=function(e){return r(i(e))}},92128:function(e,t,n){var r=n(21246);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},62347:function(e,t,n){var r=n(92128),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},28385:function(e,t,n){var r=n(2244),i=Object;e.exports=function(e){return i(r(e))}},25303:function(e,t,n){var r=n(8718),i=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw i("Wrong offset");return n}},8718:function(e,t,n){var r=n(92128),i=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw i("The argument can't be less than 0");return t}},66740:function(e,t,n){var r=n(98513),i=n(43931),a=n(28287),o=n(23863),s=n(67772),u=n(95028),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var n,u=o(e,l);if(u){if(void 0===t&&(t="default"),n=r(u,e,t),!i(n)||a(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},54655:function(e,t,n){var r=n(66740),i=n(28287);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},56042:function(e,t,n){var r={};r[n(95028)("toStringTag")]="z",e.exports="[object z]"===String(r)},86124:function(e,t,n){var r=n(37205),i=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},81772:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},2859:function(e,t,n){"use strict";var r=n(67768),i=n(6840),a=n(98513),o=n(31196),s=n(36255),u=n(93866),c=n(40865),l=n(14817),f=n(72037),d=n(63873),p=n(57724),h=n(62347),v=n(31143),m=n(25303),g=n(54655),y=n(73013),b=n(37205),x=n(43931),k=n(28287),w=n(4385),_=n(68946),S=n(4381),T=n(3772).f,E=n(44137),C=n(5880).forEach,O=n(52267),A=n(91592),I=n(32573),R=n(49671),N=n(21527),P=R.get,M=R.set,D=R.enforce,L=A.f,j=I.f,F=Math.round,Z=i.RangeError,B=c.ArrayBuffer,U=B.prototype,V=c.DataView,z=u.NATIVE_ARRAY_BUFFER_VIEWS,W=u.TYPED_ARRAY_TAG,H=u.TypedArray,G=u.TypedArrayPrototype,q=u.aTypedArrayConstructor,K=u.isTypedArray,Y="BYTES_PER_ELEMENT",X="Wrong length",Q=function(e,t){q(e);for(var n=0,r=t.length,i=new e(r);r>n;)i[n]=t[n++];return i},J=function(e,t){L(e,t,{get:function(){return P(this)[t]}})},$=function(e){var t;return _(U,e)||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},ee=function(e,t){return K(e)&&!k(t)&&t in e&&p(+t)&&t>=0},te=function(e,t){return t=g(t),ee(e,t)?f(2,e[t]):j(e,t)},ne=function(e,t,n){return t=g(t),!(ee(e,t)&&x(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?L(e,t,n):(e[t]=n.value,e)};o?(z||(I.f=te,A.f=ne,J(G,"buffer"),J(G,"byteOffset"),J(G,"byteLength"),J(G,"length")),r({target:"Object",stat:!0,forced:!z},{getOwnPropertyDescriptor:te,defineProperty:ne}),e.exports=function(e,t,n){var o=e.match(/\d+$/)[0]/8,u=e+(n?"Clamped":"")+"Array",c="get"+e,f="set"+e,p=i[u],g=p,y=g&&g.prototype,b={},k=function(e,t){L(e,t,{get:function(){return function(e,t){var n=P(e);return n.view[c](t*o+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var i=P(e);n&&(r=(r=F(r))<0?0:r>255?255:255&r),i.view[f](t*o+i.byteOffset,r,!0)}(this,t,e)},enumerable:!0})};z?s&&(g=t((function(e,t,n,r){return l(e,y),N(x(t)?$(t)?void 0!==r?new p(t,m(n,o),r):void 0!==n?new p(t,m(n,o)):new p(t):K(t)?Q(g,t):a(E,g,t):new p(v(t)),e,g)})),S&&S(g,H),C(T(p),(function(e){e in g||d(g,e,p[e])})),g.prototype=y):(g=t((function(e,t,n,r){l(e,y);var i,s,u,c=0,f=0;if(x(t)){if(!$(t))return K(t)?Q(g,t):a(E,g,t);i=t,f=m(n,o);var d=t.byteLength;if(void 0===r){if(d%o)throw Z(X);if((s=d-f)<0)throw Z(X)}else if((s=h(r)*o)+f>d)throw Z(X);u=s/o}else u=v(t),i=new B(s=u*o);for(M(e,{buffer:i,byteOffset:f,byteLength:s,length:u,view:new V(i)});c<u;)k(e,c++)})),S&&S(g,H),y=g.prototype=w(G)),y.constructor!==g&&d(y,"constructor",g),D(y).TypedArrayConstructor=g,W&&d(y,W,u);var _=g!=p;b[u]=g,r({global:!0,constructor:!0,forced:_,sham:!z},b),Y in g||d(g,Y,o),Y in y||d(y,Y,o),O(u)}):e.exports=function(){}},36255:function(e,t,n){var r=n(6840),i=n(92837),a=n(6225),o=n(93866).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,u=r.Int8Array;e.exports=!o||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!a((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},53702:function(e,t,n){var r=n(11793),i=n(87349);e.exports=function(e,t){return r(i(e),t)}},44137:function(e,t,n){var r=n(5851),i=n(98513),a=n(10611),o=n(28385),s=n(23385),u=n(78131),c=n(40443),l=n(38205),f=n(93866).aTypedArrayConstructor;e.exports=function(e){var t,n,d,p,h,v,m=a(this),g=o(e),y=arguments.length,b=y>1?arguments[1]:void 0,x=void 0!==b,k=c(g);if(k&&!l(k))for(v=(h=u(g,k)).next,g=[];!(p=i(v,h)).done;)g.push(p.value);for(x&&y>2&&(b=r(b,arguments[2])),n=s(g),d=new(f(m))(n),t=0;n>t;t++)d[t]=x?b(g[t],t):g[t];return d}},87349:function(e,t,n){var r=n(93866),i=n(917),a=r.aTypedArrayConstructor,o=r.getTypedArrayConstructor;e.exports=function(e){return a(i(e,o(e)))}},24839:function(e,t,n){var r=n(74932),i=0,a=Math.random(),o=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},47611:function(e,t,n){var r=n(63991);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},26056:function(e,t,n){var r=n(31196),i=n(92837);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},34974:function(e){var t=TypeError;e.exports=function(e,n){if(e<n)throw t("Not enough arguments");return e}},21384:function(e,t,n){var r=n(95028);t.f=r},95028:function(e,t,n){var r=n(6840),i=n(91778),a=n(73013),o=n(24839),s=n(63991),u=n(47611),c=i("wks"),l=r.Symbol,f=l&&l.for,d=u?l:l&&l.withoutSetter||o;e.exports=function(e){if(!a(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&a(l,e)?c[e]=l[e]:c[e]=u&&f?f(t):d(t)}return c[e]}},95450:function(e){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},4778:function(e,t,n){"use strict";var r=n(67768),i=n(92837),a=n(51941),o=n(43931),s=n(28385),u=n(23385),c=n(96117),l=n(13055),f=n(95491),d=n(81379),p=n(95028),h=n(65372),v=p("isConcatSpreadable"),m=h>=51||!i((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),g=d("concat"),y=function(e){if(!o(e))return!1;var t=e[v];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,arity:1,forced:!m||!g},{concat:function(e){var t,n,r,i,a,o=s(this),d=f(o,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(y(a=-1===t?o:arguments[t]))for(i=u(a),c(p+i),n=0;n<i;n++,p++)n in a&&l(d,p,a[n]);else c(p+1),l(d,p++,a);return d.length=p,d}})},33858:function(e,t,n){"use strict";var r=n(67768),i=n(5880).filter;r({target:"Array",proto:!0,forced:!n(81379)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},55269:function(e,t,n){"use strict";var r=n(67768),i=n(5880).find,a=n(35715),o="find",s=!0;o in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},89104:function(e,t,n){var r=n(67768),i=n(22422);r({target:"Array",stat:!0,forced:!n(6225)((function(e){Array.from(e)}))},{from:i})},68225:function(e,t,n){"use strict";var r=n(67768),i=n(70488).includes,a=n(92837),o=n(35715);r({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},18887:function(e,t,n){"use strict";var r=n(45770),i=n(35715),a=n(29706),o=n(49671),s=n(91592).f,u=n(32170),c=n(23608),l=n(31196),f="Array Iterator",d=o.set,p=o.getterFor(f);e.exports=u(Array,"Array",(function(e,t){d(this,{type:f,target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var h=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!c&&l&&"values"!==h.name)try{s(h,"name",{value:"values"})}catch(v){}},32463:function(e,t,n){"use strict";var r=n(67768),i=n(5880).map;r({target:"Array",proto:!0,forced:!n(81379)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},2603:function(e,t,n){"use strict";var r=n(67768),i=n(94512).left,a=n(92241),o=n(65372),s=n(31653);r({target:"Array",proto:!0,forced:!a("reduce")||!s&&o>79&&o<83},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},49258:function(e,t,n){"use strict";var r=n(67768),i=n(51941),a=n(51219),o=n(43931),s=n(41823),u=n(23385),c=n(45770),l=n(13055),f=n(95028),d=n(81379),p=n(15618),h=d("slice"),v=f("species"),m=Array,g=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var n,r,f,d=c(this),h=u(d),y=s(e,h),b=s(void 0===t?h:t,h);if(i(d)&&(n=d.constructor,(a(n)&&(n===m||i(n.prototype))||o(n)&&null===(n=n[v]))&&(n=void 0),n===m||void 0===n))return p(d,y,b);for(r=new(void 0===n?m:n)(g(b-y,0)),f=0;y<b;y++,f++)y in d&&l(r,f,d[y]);return r.length=f,r}})},78493:function(e,t,n){"use strict";var r=n(67768),i=n(74932),a=n(66724),o=n(28385),s=n(23385),u=n(87820),c=n(86124),l=n(92837),f=n(47732),d=n(92241),p=n(58336),h=n(64891),v=n(65372),m=n(24469),g=[],y=i(g.sort),b=i(g.push),x=l((function(){g.sort(void 0)})),k=l((function(){g.sort(null)})),w=d("sort"),_=!l((function(){if(v)return v<70;if(!(p&&p>3)){if(h)return!0;if(m)return m<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)g.push({k:t+r,v:n})}for(g.sort((function(e,t){return t.v-e.v})),r=0;r<g.length;r++)t=g[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:x||!k||!w||!_},{sort:function(e){void 0!==e&&a(e);var t=o(this);if(_)return void 0===e?y(t):y(t,e);var n,r,i=[],l=s(t);for(r=0;r<l;r++)r in t&&b(i,t[r]);for(f(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:c(t)>c(n)?1:-1}}(e)),n=i.length,r=0;r<n;)t[r]=i[r++];for(;r<l;)u(t,r++);return t}})},45327:function(e,t,n){"use strict";var r=n(67768),i=n(28385),a=n(41823),o=n(92128),s=n(23385),u=n(96117),c=n(95491),l=n(13055),f=n(87820),d=n(81379)("splice"),p=Math.max,h=Math.min;r({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var n,r,d,v,m,g,y=i(this),b=s(y),x=a(e,b),k=arguments.length;for(0===k?n=r=0:1===k?(n=0,r=b-x):(n=k-2,r=h(p(o(t),0),b-x)),u(b+n-r),d=c(y,r),v=0;v<r;v++)(m=x+v)in y&&l(d,v,y[m]);if(d.length=r,n<r){for(v=x;v<b-r;v++)g=v+n,(m=v+r)in y?y[g]=y[m]:f(y,g);for(v=b;v>b-r+n;v--)f(y,v-1)}else if(n>r)for(v=b-r;v>x;v--)g=v+n-1,(m=v+r-1)in y?y[g]=y[m]:f(y,g);for(v=0;v<n;v++)y[v+x]=arguments[v+2];return y.length=b-r+n,d}})},8344:function(e,t,n){var r=n(67768),i=n(1240),a=n(86339),o=n(98513),s=n(74932),u=n(92837),c=n(51941),l=n(39218),f=n(43931),d=n(28287),p=n(15618),h=n(63991),v=i("JSON","stringify"),m=s(/./.exec),g=s("".charAt),y=s("".charCodeAt),b=s("".replace),x=s(1..toString),k=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,_=/^[\uDC00-\uDFFF]$/,S=!h||u((function(){var e=i("Symbol")();return"[null]"!=v([e])||"{}"!=v({a:e})||"{}"!=v(Object(e))})),T=u((function(){return'"\\udf06\\ud834"'!==v("\udf06\ud834")||'"\\udead"'!==v("\udead")})),E=function(e,t){var n=p(arguments),r=t;if((f(t)||void 0!==e)&&!d(e))return c(t)||(t=function(e,t){if(l(r)&&(t=o(r,this,e,t)),!d(t))return t}),n[1]=t,a(v,null,n)},C=function(e,t,n){var r=g(n,t-1),i=g(n,t+1);return m(w,e)&&!m(_,i)||m(_,e)&&!m(w,r)?"\\u"+x(y(e,0),16):e};v&&r({target:"JSON",stat:!0,arity:3,forced:S||T},{stringify:function(e,t,n){var r=p(arguments),i=a(S?E:v,null,r);return T&&"string"==typeof i?b(i,k,C):i}})},41132:function(e,t,n){"use strict";n(93309)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(13425))},45742:function(e,t,n){n(41132)},30974:function(e,t,n){"use strict";var r=n(31196),i=n(6840),a=n(74932),o=n(96673),s=n(17543),u=n(73013),c=n(21527),l=n(68946),f=n(28287),d=n(66740),p=n(92837),h=n(3772).f,v=n(32573).f,m=n(91592).f,g=n(34748),y=n(56889).trim,b="Number",x=i.Number,k=x.prototype,w=i.TypeError,_=a("".slice),S=a("".charCodeAt),T=function(e){var t=d(e,"number");return"bigint"==typeof t?t:E(t)},E=function(e){var t,n,r,i,a,o,s,u,c=d(e,"number");if(f(c))throw w("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=y(c),43===(t=S(c,0))||45===t){if(88===(n=S(c,2))||120===n)return NaN}else if(48===t){switch(S(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(o=(a=_(c,2)).length,s=0;s<o;s++)if((u=S(a,s))<48||u>i)return NaN;return parseInt(a,r)}return+c};if(o(b,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var C,O=function(e){var t=arguments.length<1?0:x(T(e)),n=this;return l(k,n)&&p((function(){g(n)}))?c(Object(t),n,O):t},A=r?h(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),I=0;A.length>I;I++)u(x,C=A[I])&&!u(O,C)&&m(O,C,v(x,C));O.prototype=k,k.constructor=O,s(i,b,O,{constructor:!0})}},44105:function(e,t,n){n(67768)({target:"Number",stat:!0},{isInteger:n(57724)})},83265:function(e,t,n){var r=n(67768),i=n(52526);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},99238:function(e,t,n){var r=n(67768),i=n(19700).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},87264:function(e,t,n){var r=n(67768),i=n(92837),a=n(45770),o=n(32573).f,s=n(31196),u=i((function(){o(1)}));r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},58894:function(e,t,n){var r=n(67768),i=n(31196),a=n(17273),o=n(45770),s=n(32573),u=n(13055);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),i=s.f,c=a(r),l={},f=0;c.length>f;)void 0!==(n=i(r,t=c[f++]))&&u(l,t,n);return l}})},91565:function(e,t,n){var r=n(67768),i=n(63991),a=n(92837),o=n(60400),s=n(28385);r({target:"Object",stat:!0,forced:!i||a((function(){o.f(1)}))},{getOwnPropertySymbols:function(e){var t=o.f;return t?t(s(e)):[]}})},65084:function(e,t,n){var r=n(67768),i=n(28385),a=n(18084);r({target:"Object",stat:!0,forced:n(92837)((function(){a(1)}))},{keys:function(e){return a(i(e))}})},65202:function(e,t,n){var r=n(56042),i=n(17543),a=n(84289);r||i(Object.prototype,"toString",a,{unsafe:!0})},57506:function(e,t,n){"use strict";var r=n(67768),i=n(98513),a=n(66724),o=n(30246),s=n(63752),u=n(54439);r({target:"Promise",stat:!0,forced:n(71321)},{all:function(e){var t=this,n=o.f(t),r=n.resolve,c=n.reject,l=s((function(){var n=a(t.resolve),o=[],s=0,l=1;u(e,(function(e){var a=s++,u=!1;l++,i(n,t,e).then((function(e){u||(u=!0,o[a]=e,--l||r(o))}),c)})),--l||r(o)}));return l.error&&c(l.value),n.promise}})},90223:function(e,t,n){"use strict";var r=n(67768),i=n(23608),a=n(77426).CONSTRUCTOR,o=n(31),s=n(1240),u=n(39218),c=n(17543),l=o&&o.prototype;if(r({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&u(o)){var f=s("Promise").prototype.catch;l.catch!==f&&c(l,"catch",f,{unsafe:!0})}},95072:function(e,t,n){"use strict";var r,i,a,o=n(67768),s=n(23608),u=n(31653),c=n(6840),l=n(98513),f=n(17543),d=n(4381),p=n(53370),h=n(52267),v=n(66724),m=n(39218),g=n(43931),y=n(14817),b=n(917),x=n(91625).set,k=n(24410),w=n(65995),_=n(63752),S=n(9033),T=n(49671),E=n(31),C=n(77426),O=n(30246),A="Promise",I=C.CONSTRUCTOR,R=C.REJECTION_EVENT,N=C.SUBCLASSING,P=T.getterFor(A),M=T.set,D=E&&E.prototype,L=E,j=D,F=c.TypeError,Z=c.document,B=c.process,U=O.f,V=U,z=!!(Z&&Z.createEvent&&c.dispatchEvent),W="unhandledrejection",H=function(e){var t;return!(!g(e)||!m(t=e.then))&&t},G=function(e,t){var n,r,i,a=t.value,o=1==t.state,s=o?e.ok:e.fail,u=e.resolve,c=e.reject,f=e.domain;try{s?(o||(2===t.rejection&&Q(t),t.rejection=1),!0===s?n=a:(f&&f.enter(),n=s(a),f&&(f.exit(),i=!0)),n===e.promise?c(F("Promise-chain cycle")):(r=H(n))?l(r,n,u,c):u(n)):c(a)}catch(d){f&&!i&&f.exit(),c(d)}},q=function(e,t){e.notified||(e.notified=!0,k((function(){for(var n,r=e.reactions;n=r.get();)G(n,e);e.notified=!1,t&&!e.rejection&&Y(e)})))},K=function(e,t,n){var r,i;z?((r=Z.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!R&&(i=c["on"+e])?i(r):e===W&&w("Unhandled promise rejection",n)},Y=function(e){l(x,c,(function(){var t,n=e.facade,r=e.value;if(X(e)&&(t=_((function(){u?B.emit("unhandledRejection",r,n):K(W,n,r)})),e.rejection=u||X(e)?2:1,t.error))throw t.value}))},X=function(e){return 1!==e.rejection&&!e.parent},Q=function(e){l(x,c,(function(){var t=e.facade;u?B.emit("rejectionHandled",t):K("rejectionhandled",t,e.value)}))},J=function(e,t,n){return function(r){e(t,r,n)}},$=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,q(e,!0))},ee=function e(t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===n)throw F("Promise can't be resolved itself");var i=H(n);i?k((function(){var r={done:!1};try{l(i,n,J(e,r,t),J($,r,t))}catch(a){$(r,a,t)}})):(t.value=n,t.state=1,q(t,!1))}catch(a){$({done:!1},a,t)}}};if(I&&(j=(L=function(e){y(this,j),v(e),l(r,this);var t=P(this);try{e(J(ee,t),J($,t))}catch(n){$(t,n)}}).prototype,(r=function(e){M(this,{type:A,done:!1,notified:!1,parent:!1,reactions:new S,rejection:!1,state:0,value:void 0})}).prototype=f(j,"then",(function(e,t){var n=P(this),r=U(b(this,L));return n.parent=!0,r.ok=!m(e)||e,r.fail=m(t)&&t,r.domain=u?B.domain:void 0,0==n.state?n.reactions.add(r):k((function(){G(r,n)})),r.promise})),i=function(){var e=new r,t=P(e);this.promise=e,this.resolve=J(ee,t),this.reject=J($,t)},O.f=U=function(e){return e===L||undefined===e?new i(e):V(e)},!s&&m(E)&&D!==Object.prototype)){a=D.then,N||f(D,"then",(function(e,t){var n=this;return new L((function(e,t){l(a,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete D.constructor}catch(te){}d&&d(D,j)}o({global:!0,constructor:!0,wrap:!0,forced:I},{Promise:L}),p(L,A,!1,!0),h(A)},67675:function(e,t,n){n(95072),n(57506),n(90223),n(46522),n(38001),n(7510)},46522:function(e,t,n){"use strict";var r=n(67768),i=n(98513),a=n(66724),o=n(30246),s=n(63752),u=n(54439);r({target:"Promise",stat:!0,forced:n(71321)},{race:function(e){var t=this,n=o.f(t),r=n.reject,c=s((function(){var o=a(t.resolve);u(e,(function(e){i(o,t,e).then(n.resolve,r)}))}));return c.error&&r(c.value),n.promise}})},38001:function(e,t,n){"use strict";var r=n(67768),i=n(98513),a=n(30246);r({target:"Promise",stat:!0,forced:n(77426).CONSTRUCTOR},{reject:function(e){var t=a.f(this);return i(t.reject,void 0,e),t.promise}})},7510:function(e,t,n){"use strict";var r=n(67768),i=n(1240),a=n(23608),o=n(31),s=n(77426).CONSTRUCTOR,u=n(86321),c=i("Promise"),l=a&&!s;r({target:"Promise",stat:!0,forced:a||s},{resolve:function(e){return u(l&&this===c?o:this,e)}})},44584:function(e,t,n){var r=n(67768),i=n(1240),a=n(86339),o=n(66448),s=n(10611),u=n(45884),c=n(43931),l=n(4385),f=n(92837),d=i("Reflect","construct"),p=Object.prototype,h=[].push,v=f((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),m=!f((function(){d((function(){}))})),g=v||m;r({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(e,t){s(e),u(t);var n=arguments.length<3?e:s(arguments[2]);if(m&&!v)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return a(h,r,t),new(a(o,e,r))}var i=n.prototype,f=l(c(i)?i:p),g=a(e,f,t);return c(g)?g:f}})},20447:function(e,t,n){"use strict";var r=n(67768),i=n(94087);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},84208:function(e,t,n){"use strict";var r=n(23211).PROPER,i=n(17543),a=n(45884),o=n(86124),s=n(92837),u=n(97667),c="toString",l=RegExp.prototype.toString,f=s((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=r&&l.name!=c;(f||d)&&i(RegExp.prototype,c,(function(){var e=a(this);return"/"+o(e.source)+"/"+o(u(e))}),{unsafe:!0})},95012:function(e,t,n){"use strict";n(93309)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(13425))},36669:function(e,t,n){n(95012)},54121:function(e,t,n){"use strict";var r=n(67768),i=n(74932),a=n(79693),o=n(2244),s=n(86124),u=n(2525),c=i("".indexOf);r({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~c(s(o(this)),s(a(e)),arguments.length>1?arguments[1]:void 0)}})},59147:function(e,t,n){"use strict";var r=n(18424).charAt,i=n(86124),a=n(49671),o=n(32170),s="String Iterator",u=a.set,c=a.getterFor(s);o(String,"String",(function(e){u(this,{type:s,string:i(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},86245:function(e,t,n){"use strict";var r=n(98513),i=n(58093),a=n(45884),o=n(62347),s=n(86124),u=n(2244),c=n(23863),l=n(35466),f=n(22781);i("match",(function(e,t,n){return[function(t){var n=u(this),i=void 0==t?void 0:c(t,e);return i?r(i,t,n):new RegExp(t)[e](s(n))},function(e){var r=a(this),i=s(e),u=n(t,r,i);if(u.done)return u.value;if(!r.global)return f(r,i);var c=r.unicode;r.lastIndex=0;for(var d,p=[],h=0;null!==(d=f(r,i));){var v=s(d[0]);p[h]=v,""===v&&(r.lastIndex=l(i,o(r.lastIndex),c)),h++}return 0===h?null:p}]}))},54178:function(e,t,n){"use strict";var r=n(86339),i=n(98513),a=n(74932),o=n(58093),s=n(92837),u=n(45884),c=n(39218),l=n(92128),f=n(62347),d=n(86124),p=n(2244),h=n(35466),v=n(23863),m=n(17794),g=n(22781),y=n(95028)("replace"),b=Math.max,x=Math.min,k=a([].concat),w=a([].push),_=a("".indexOf),S=a("".slice),T="$0"==="a".replace(/./,"$0"),E=!!/./[y]&&""===/./[y]("a","$0");o("replace",(function(e,t,n){var a=E?"$":"$0";return[function(e,n){var r=p(this),a=void 0==e?void 0:v(e,y);return a?i(a,e,r,n):i(t,d(r),e,n)},function(e,i){var o=u(this),s=d(e);if("string"==typeof i&&-1===_(i,a)&&-1===_(i,"$<")){var p=n(t,o,s,i);if(p.done)return p.value}var v=c(i);v||(i=d(i));var y=o.global;if(y){var T=o.unicode;o.lastIndex=0}for(var E=[];;){var C=g(o,s);if(null===C)break;if(w(E,C),!y)break;""===d(C[0])&&(o.lastIndex=h(s,f(o.lastIndex),T))}for(var O,A="",I=0,R=0;R<E.length;R++){for(var N=d((C=E[R])[0]),P=b(x(l(C.index),s.length),0),M=[],D=1;D<C.length;D++)w(M,void 0===(O=C[D])?O:String(O));var L=C.groups;if(v){var j=k([N],M,P,s);void 0!==L&&w(j,L);var F=d(r(i,void 0,j))}else F=m(N,s,P,M,L,i);P>=I&&(A+=S(s,I,P)+F,I=P+N.length)}return A+S(s,I)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!T||E)},9994:function(e,t,n){"use strict";var r=n(98513),i=n(58093),a=n(45884),o=n(2244),s=n(58362),u=n(86124),c=n(23863),l=n(22781);i("search",(function(e,t,n){return[function(t){var n=o(this),i=void 0==t?void 0:c(t,e);return i?r(i,t,n):new RegExp(t)[e](u(n))},function(e){var r=a(this),i=u(e),o=n(t,r,i);if(o.done)return o.value;var c=r.lastIndex;s(c,0)||(r.lastIndex=0);var f=l(r,i);return s(r.lastIndex,c)||(r.lastIndex=c),null===f?-1:f.index}]}))},52872:function(e,t,n){"use strict";var r=n(86339),i=n(98513),a=n(74932),o=n(58093),s=n(10670),u=n(45884),c=n(2244),l=n(917),f=n(35466),d=n(62347),p=n(86124),h=n(23863),v=n(43278),m=n(22781),g=n(94087),y=n(8596),b=n(92837),x=y.UNSUPPORTED_Y,k=4294967295,w=Math.min,_=[].push,S=a(/./.exec),T=a(_),E=a("".slice),C=!b((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));o("split",(function(e,t,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var a=p(c(this)),o=void 0===n?k:n>>>0;if(0===o)return[];if(void 0===e)return[a];if(!s(e))return i(t,a,e,o);for(var u,l,f,d=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,y=new RegExp(e.source,h+"g");(u=i(g,y,a))&&!((l=y.lastIndex)>m&&(T(d,E(a,m,u.index)),u.length>1&&u.index<a.length&&r(_,d,v(u,1)),f=u[0].length,m=l,d.length>=o));)y.lastIndex===u.index&&y.lastIndex++;return m===a.length?!f&&S(y,"")||T(d,""):T(d,E(a,m)),d.length>o?v(d,0,o):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:i(t,this,e,n)}:t,[function(t,n){var r=c(this),o=void 0==t?void 0:h(t,e);return o?i(o,t,r,n):i(a,p(r),t,n)},function(e,r){var i=u(this),o=p(e),s=n(a,i,o,r,a!==t);if(s.done)return s.value;var c=l(i,RegExp),h=i.unicode,v=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(x?"g":"y"),g=new c(x?"^(?:"+i.source+")":i,v),y=void 0===r?k:r>>>0;if(0===y)return[];if(0===o.length)return null===m(g,o)?[o]:[];for(var b=0,_=0,S=[];_<o.length;){g.lastIndex=x?0:_;var C,O=m(g,x?E(o,_):o);if(null===O||(C=w(d(g.lastIndex+(x?_:0)),o.length))===b)_=f(o,_,h);else{if(T(S,E(o,b,_)),S.length===y)return S;for(var A=1;A<=O.length-1;A++)if(T(S,O[A]),S.length===y)return S;_=b=C}}return T(S,E(o,b)),S}]}),!C,x)},50288:function(e,t,n){"use strict";var r=n(67768),i=n(74932),a=n(32573).f,o=n(62347),s=n(86124),u=n(79693),c=n(2244),l=n(2525),f=n(23608),d=i("".startsWith),p=i("".slice),h=Math.min,v=l("startsWith");r({target:"String",proto:!0,forced:!(!f&&!v&&!!function(){var e=a(String.prototype,"startsWith");return e&&!e.writable}())&&!v},{startsWith:function(e){var t=s(c(this));u(e);var n=o(h(arguments.length>1?arguments[1]:void 0,t.length)),r=s(e);return d?d(t,r,n):p(t,n,n+r.length)===r}})},7550:function(e,t,n){"use strict";var r=n(67768),i=n(6840),a=n(98513),o=n(74932),s=n(23608),u=n(31196),c=n(63991),l=n(92837),f=n(73013),d=n(68946),p=n(45884),h=n(45770),v=n(54655),m=n(86124),g=n(72037),y=n(4385),b=n(18084),x=n(3772),k=n(8910),w=n(60400),_=n(32573),S=n(91592),T=n(61697),E=n(28306),C=n(17543),O=n(91778),A=n(89378),I=n(56196),R=n(24839),N=n(95028),P=n(21384),M=n(84418),D=n(32745),L=n(53370),j=n(49671),F=n(5880).forEach,Z=A("hidden"),B="Symbol",U=j.set,V=j.getterFor(B),z=Object.prototype,W=i.Symbol,H=W&&W.prototype,G=i.TypeError,q=i.QObject,K=_.f,Y=S.f,X=k.f,Q=E.f,J=o([].push),$=O("symbols"),ee=O("op-symbols"),te=O("wks"),ne=!q||!q.prototype||!q.prototype.findChild,re=u&&l((function(){return 7!=y(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=K(z,t);r&&delete z[t],Y(e,t,n),r&&e!==z&&Y(z,t,r)}:Y,ie=function(e,t){var n=$[e]=y(H);return U(n,{type:B,tag:e,description:t}),u||(n.description=t),n},ae=function(e,t,n){e===z&&ae(ee,t,n),p(e);var r=v(t);return p(n),f($,r)?(n.enumerable?(f(e,Z)&&e[Z][r]&&(e[Z][r]=!1),n=y(n,{enumerable:g(0,!1)})):(f(e,Z)||Y(e,Z,g(1,{})),e[Z][r]=!0),re(e,r,n)):Y(e,r,n)},oe=function(e,t){p(e);var n=h(t),r=b(n).concat(le(n));return F(r,(function(t){u&&!a(se,n,t)||ae(e,t,n[t])})),e},se=function(e){var t=v(e),n=a(Q,this,t);return!(this===z&&f($,t)&&!f(ee,t))&&(!(n||!f(this,t)||!f($,t)||f(this,Z)&&this[Z][t])||n)},ue=function(e,t){var n=h(e),r=v(t);if(n!==z||!f($,r)||f(ee,r)){var i=K(n,r);return!i||!f($,r)||f(n,Z)&&n[Z][r]||(i.enumerable=!0),i}},ce=function(e){var t=X(h(e)),n=[];return F(t,(function(e){f($,e)||f(I,e)||J(n,e)})),n},le=function(e){var t=e===z,n=X(t?ee:h(e)),r=[];return F(n,(function(e){!f($,e)||t&&!f(z,e)||J(r,$[e])})),r};c||(W=function(){if(d(H,this))throw G("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,t=R(e),n=function e(n){this===z&&a(e,ee,n),f(this,Z)&&f(this[Z],t)&&(this[Z][t]=!1),re(this,t,g(1,n))};return u&&ne&&re(z,t,{configurable:!0,set:n}),ie(t,e)},C(H=W.prototype,"toString",(function(){return V(this).tag})),C(W,"withoutSetter",(function(e){return ie(R(e),e)})),E.f=se,S.f=ae,T.f=oe,_.f=ue,x.f=k.f=ce,w.f=le,P.f=function(e){return ie(N(e),e)},u&&(Y(H,"description",{configurable:!0,get:function(){return V(this).description}}),s||C(z,"propertyIsEnumerable",se,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:W}),F(b(te),(function(e){M(e)})),r({target:B,stat:!0,forced:!c},{useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(e,t){return void 0===t?y(e):oe(y(e),t)},defineProperty:ae,defineProperties:oe,getOwnPropertyDescriptor:ue}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ce}),D(),L(W,B),I[Z]=!0},4772:function(e,t,n){"use strict";var r=n(67768),i=n(31196),a=n(6840),o=n(74932),s=n(73013),u=n(39218),c=n(68946),l=n(86124),f=n(91592).f,d=n(90189),p=a.Symbol,h=p&&p.prototype;if(i&&u(p)&&(!("description"in h)||void 0!==p().description)){var v={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=c(h,this)?new p(e):void 0===e?p():p(e);return""===e&&(v[t]=!0),t};d(m,p),m.prototype=h,h.constructor=m;var g="Symbol(test)"==String(p("test")),y=o(h.toString),b=o(h.valueOf),x=/^Symbol\((.*)\)[^)]+$/,k=o("".replace),w=o("".slice);f(h,"description",{configurable:!0,get:function(){var e=b(this),t=y(e);if(s(v,e))return"";var n=g?w(t,7,-1):k(t,x,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:m})}},50104:function(e,t,n){var r=n(67768),i=n(1240),a=n(73013),o=n(86124),s=n(91778),u=n(94390),c=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=o(e);if(a(c,t))return c[t];var n=i("Symbol")(t);return c[t]=n,l[n]=t,n}})},85625:function(e,t,n){n(84418)("iterator")},18116:function(e,t,n){n(7550),n(50104),n(57649),n(8344),n(91565)},57649:function(e,t,n){var r=n(67768),i=n(73013),a=n(28287),o=n(81772),s=n(91778),u=n(94390),c=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{keyFor:function(e){if(!a(e))throw TypeError(o(e)+" is not a symbol");if(i(c,e))return c[e]}})},55790:function(e,t,n){"use strict";var r=n(74932),i=n(93866),a=r(n(54739)),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(e,t){return a(o(this),e,t,arguments.length>2?arguments[2]:void 0)}))},56678:function(e,t,n){"use strict";var r=n(93866),i=n(5880).every,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},74847:function(e,t,n){"use strict";var r=n(93866),i=n(56012),a=n(69818),o=n(37205),s=n(98513),u=n(74932),c=n(92837),l=r.aTypedArray,f=r.exportTypedArrayMethod,d=u("".slice);f("fill",(function(e){var t=arguments.length;l(this);var n="Big"===d(o(this),0,3)?a(e):+e;return s(i,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},48884:function(e,t,n){"use strict";var r=n(93866),i=n(5880).filter,a=n(53702),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",(function(e){var t=i(o(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)}))},15669:function(e,t,n){"use strict";var r=n(93866),i=n(5880).findIndex,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},67582:function(e,t,n){"use strict";var r=n(93866),i=n(5880).find,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},40014:function(e,t,n){"use strict";var r=n(93866),i=n(5880).forEach,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(e){i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},45927:function(e,t,n){"use strict";var r=n(93866),i=n(70488).includes,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},78850:function(e,t,n){"use strict";var r=n(93866),i=n(70488).indexOf,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},697:function(e,t,n){"use strict";var r=n(6840),i=n(92837),a=n(74932),o=n(93866),s=n(18887),u=n(95028)("iterator"),c=r.Uint8Array,l=a(s.values),f=a(s.keys),d=a(s.entries),p=o.aTypedArray,h=o.exportTypedArrayMethod,v=c&&c.prototype,m=!i((function(){v[u].call([1])})),g=!!v&&v.values&&v[u]===v.values&&"values"===v.values.name,y=function(){return l(p(this))};h("entries",(function(){return d(p(this))}),m),h("keys",(function(){return f(p(this))}),m),h("values",y,m||!g,{name:"values"}),h(u,y,m||!g,{name:"values"})},53517:function(e,t,n){"use strict";var r=n(93866),i=n(74932),a=r.aTypedArray,o=r.exportTypedArrayMethod,s=i([].join);o("join",(function(e){return s(a(this),e)}))},68591:function(e,t,n){"use strict";var r=n(93866),i=n(86339),a=n(2561),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return i(a,o(this),t>1?[e,arguments[1]]:[e])}))},44516:function(e,t,n){"use strict";var r=n(93866),i=n(5880).map,a=n(87349),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("map",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(a(e))(t)}))}))},5977:function(e,t,n){"use strict";var r=n(93866),i=n(94512).right,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},51937:function(e,t,n){"use strict";var r=n(93866),i=n(94512).left,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)}))},71283:function(e,t,n){"use strict";var r=n(93866),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){for(var e,t=this,n=i(t).length,r=o(n/2),a=0;a<r;)e=t[a],t[a++]=t[--n],t[n]=e;return t}))},86332:function(e,t,n){"use strict";var r=n(6840),i=n(98513),a=n(93866),o=n(23385),s=n(25303),u=n(28385),c=n(92837),l=r.RangeError,f=r.Int8Array,d=f&&f.prototype,p=d&&d.set,h=a.aTypedArray,v=a.exportTypedArrayMethod,m=!c((function(){var e=new Uint8ClampedArray(2);return i(p,e,{length:1,0:3},1),3!==e[1]})),g=m&&a.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new f(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));v("set",(function(e){h(this);var t=s(arguments.length>1?arguments[1]:void 0,1),n=u(e);if(m)return i(p,this,n,t);var r=this.length,a=o(n),c=0;if(a+t>r)throw l("Wrong length");for(;c<a;)this[t+c]=n[c++]}),!m||g)},32040:function(e,t,n){"use strict";var r=n(93866),i=n(87349),a=n(92837),o=n(15618),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("slice",(function(e,t){for(var n=o(s(this),e,t),r=i(this),a=0,u=n.length,c=new r(u);u>a;)c[a]=n[a++];return c}),a((function(){new Int8Array(1).slice()})))},20718:function(e,t,n){"use strict";var r=n(93866),i=n(5880).some,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},54777:function(e,t,n){"use strict";var r=n(6840),i=n(74932),a=n(92837),o=n(66724),s=n(47732),u=n(93866),c=n(58336),l=n(64891),f=n(65372),d=n(24469),p=u.aTypedArray,h=u.exportTypedArrayMethod,v=r.Uint16Array,m=v&&i(v.prototype.sort),g=!!m&&!(a((function(){m(new v(2),null)}))&&a((function(){m(new v(2),{})}))),y=!!m&&!a((function(){if(f)return f<74;if(c)return c<67;if(l)return!0;if(d)return d<602;var e,t,n=new v(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(m(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));h("sort",(function(e){return void 0!==e&&o(e),y?m(this,e):s(p(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!==n?-1:t!==t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!y||g)},31447:function(e,t,n){"use strict";var r=n(6840),i=n(86339),a=n(93866),o=n(92837),s=n(15618),u=r.Int8Array,c=a.aTypedArray,l=a.exportTypedArrayMethod,f=[].toLocaleString,d=!!u&&o((function(){f.call(new u(1))}));l("toLocaleString",(function(){return i(f,d?s(c(this)):c(this),s(arguments))}),o((function(){return[1,2].toLocaleString()!=new u([1,2]).toLocaleString()}))||!o((function(){u.prototype.toLocaleString.call([1,2])})))},44319:function(e,t,n){"use strict";var r=n(93866).exportTypedArrayMethod,i=n(92837),a=n(6840),o=n(74932),s=a.Uint8Array,u=s&&s.prototype||{},c=[].toString,l=o([].join);i((function(){c.call({})}))&&(c=function(){return l(this)});var f=u.toString!=c;r("toString",c,f)},73966:function(e,t,n){n(2859)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},22583:function(e,t,n){var r=n(6840),i=n(50650),a=n(22752),o=n(48129),s=n(63873),u=function(e){if(e&&e.forEach!==o)try{s(e,"forEach",o)}catch(t){e.forEach=o}};for(var c in i)i[c]&&u(r[c]&&r[c].prototype);u(a)},81740:function(e,t,n){var r=n(6840),i=n(50650),a=n(22752),o=n(18887),s=n(63873),u=n(95028),c=u("iterator"),l=u("toStringTag"),f=o.values,d=function(e,t){if(e){if(e[c]!==f)try{s(e,c,f)}catch(r){e[c]=f}if(e[l]||s(e,l,t),i[t])for(var n in o)if(e[n]!==o[n])try{s(e,n,o[n])}catch(r){e[n]=o[n]}}};for(var p in i)d(r[p]&&r[p].prototype,p);d(a,"DOMTokenList")},21477:function(e,t,n){"use strict";n(18887);var r=n(67768),i=n(6840),a=n(98513),o=n(74932),s=n(31196),u=n(81887),c=n(17543),l=n(7544),f=n(53370),d=n(41949),p=n(49671),h=n(14817),v=n(39218),m=n(73013),g=n(5851),y=n(37205),b=n(45884),x=n(43931),k=n(86124),w=n(4385),_=n(72037),S=n(78131),T=n(40443),E=n(34974),C=n(95028),O=n(47732),A=C("iterator"),I="URLSearchParams",R="URLSearchParamsIterator",N=p.set,P=p.getterFor(I),M=p.getterFor(R),D=Object.getOwnPropertyDescriptor,L=function(e){if(!s)return i[e];var t=D(i,e);return t&&t.value},j=L("fetch"),F=L("Request"),Z=L("Headers"),B=F&&F.prototype,U=Z&&Z.prototype,V=i.RegExp,z=i.TypeError,W=i.decodeURIComponent,H=i.encodeURIComponent,G=o("".charAt),q=o([].join),K=o([].push),Y=o("".replace),X=o([].shift),Q=o([].splice),J=o("".split),$=o("".slice),ee=/\+/g,te=Array(4),ne=function(e){return te[e-1]||(te[e-1]=V("((?:%[\\da-f]{2}){"+e+"})","gi"))},re=function(e){try{return W(e)}catch(t){return e}},ie=function(e){var t=Y(e,ee," "),n=4;try{return W(t)}catch(r){for(;n;)t=Y(t,ne(n--),re);return t}},ae=/[!'()~]|%20/g,oe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},se=function(e){return oe[e]},ue=function(e){return Y(H(e),ae,se)},ce=d((function(e,t){N(this,{type:R,iterator:S(P(e).entries),kind:t})}),"Iterator",(function(){var e=M(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),le=function(e){this.entries=[],this.url=null,void 0!==e&&(x(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===G(e,0)?$(e,1):e:k(e)))};le.prototype={type:I,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,o,s,u,c=T(e);if(c)for(n=(t=S(e,c)).next;!(r=a(n,t)).done;){if(o=(i=S(b(r.value))).next,(s=a(o,i)).done||(u=a(o,i)).done||!a(o,i).done)throw z("Expected sequence with length 2");K(this.entries,{key:k(s.value),value:k(u.value)})}else for(var l in e)m(e,l)&&K(this.entries,{key:l,value:k(e[l])})},parseQuery:function(e){if(e)for(var t,n,r=J(e,"&"),i=0;i<r.length;)(t=r[i++]).length&&(n=J(t,"="),K(this.entries,{key:ie(X(n)),value:ie(q(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],K(n,ue(e.key)+"="+ue(e.value));return q(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var fe=function(){h(this,de);var e=arguments.length>0?arguments[0]:void 0;N(this,new le(e))},de=fe.prototype;if(l(de,{append:function(e,t){E(arguments.length,2);var n=P(this);K(n.entries,{key:k(e),value:k(t)}),n.updateURL()},delete:function(e){E(arguments.length,1);for(var t=P(this),n=t.entries,r=k(e),i=0;i<n.length;)n[i].key===r?Q(n,i,1):i++;t.updateURL()},get:function(e){E(arguments.length,1);for(var t=P(this).entries,n=k(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){E(arguments.length,1);for(var t=P(this).entries,n=k(e),r=[],i=0;i<t.length;i++)t[i].key===n&&K(r,t[i].value);return r},has:function(e){E(arguments.length,1);for(var t=P(this).entries,n=k(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){E(arguments.length,1);for(var n,r=P(this),i=r.entries,a=!1,o=k(e),s=k(t),u=0;u<i.length;u++)(n=i[u]).key===o&&(a?Q(i,u--,1):(a=!0,n.value=s));a||K(i,{key:o,value:s}),r.updateURL()},sort:function(){var e=P(this);O(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=P(this).entries,r=g(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new ce(this,"keys")},values:function(){return new ce(this,"values")},entries:function(){return new ce(this,"entries")}},{enumerable:!0}),c(de,A,de.entries,{name:"entries"}),c(de,"toString",(function(){return P(this).serialize()}),{enumerable:!0}),f(fe,I),r({global:!0,constructor:!0,forced:!u},{URLSearchParams:fe}),!u&&v(Z)){var pe=o(U.has),he=o(U.set),ve=function(e){if(x(e)){var t,n=e.body;if(y(n)===I)return t=e.headers?new Z(e.headers):new Z,pe(t,"content-type")||he(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),w(e,{body:_(0,k(n)),headers:_(0,t)})}return e};if(v(j)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return j(e,arguments.length>1?ve(arguments[1]):{})}}),v(F)){var me=function(e){return h(this,B),new F(e,arguments.length>1?ve(arguments[1]):{})};B.constructor=me,me.prototype=B,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:me})}}e.exports={URLSearchParams:fe,getState:P}},588:function(e,t,n){"use strict";n(59147);var r,i=n(67768),a=n(31196),o=n(81887),s=n(6840),u=n(5851),c=n(74932),l=n(17543),f=n(50695),d=n(14817),p=n(73013),h=n(52526),v=n(22422),m=n(43278),g=n(18424).codeAt,y=n(31649),b=n(86124),x=n(53370),k=n(34974),w=n(21477),_=n(49671),S=_.set,T=_.getterFor("URL"),E=w.URLSearchParams,C=w.getState,O=s.URL,A=s.TypeError,I=s.parseInt,R=Math.floor,N=Math.pow,P=c("".charAt),M=c(/./.exec),D=c([].join),L=c(1..toString),j=c([].pop),F=c([].push),Z=c("".replace),B=c([].shift),U=c("".split),V=c("".slice),z=c("".toLowerCase),W=c([].unshift),H="Invalid scheme",G="Invalid host",q="Invalid port",K=/[a-z]/i,Y=/[\d+-.a-z]/i,X=/\d/,Q=/^0x/i,J=/^[0-7]+$/,$=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,ie=/[\t\n\r]/g,ae=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)W(t,e%256),e=R(e/256);return D(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,a=0;a<8;a++)0!==e[a]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=L(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},oe={},se=h({},oe,{" ":1,'"':1,"<":1,">":1,"`":1}),ue=h({},se,{"#":1,"?":1,"{":1,"}":1}),ce=h({},ue,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),le=function(e,t){var n=g(e,0);return n>32&&n<127&&!p(t,e)?e:encodeURIComponent(e)},fe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},de=function(e,t){var n;return 2==e.length&&M(K,P(e,0))&&(":"==(n=P(e,1))||!t&&"|"==n)},pe=function(e){var t;return e.length>1&&de(V(e,0,2))&&(2==e.length||"/"===(t=P(e,2))||"\\"===t||"?"===t||"#"===t)},he=function(e){return"."===e||"%2e"===z(e)},ve={},me={},ge={},ye={},be={},xe={},ke={},we={},_e={},Se={},Te={},Ee={},Ce={},Oe={},Ae={},Ie={},Re={},Ne={},Pe={},Me={},De={},Le=function e(t,n,r){var i,a,o,s=b(t);if(n){if(a=this.parse(s))throw A(a);this.searchParams=null}else{if(void 0!==r&&(i=new e(r,!0)),a=this.parse(s,null,i))throw A(a);(o=C(new E)).bindURL(this),this.searchParams=o}};Le.prototype={type:"URL",parse:function(e,t,n){var i,a,o,s,u,c=this,l=t||ve,f=0,d="",h=!1,g=!1,y=!1;for(e=b(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=Z(e,re,"")),e=Z(e,ie,""),i=v(e);f<=i.length;){switch(a=i[f],l){case ve:if(!a||!M(K,a)){if(t)return H;l=ge;continue}d+=z(a),l=me;break;case me:if(a&&(M(Y,a)||"+"==a||"-"==a||"."==a))d+=z(a);else{if(":"!=a){if(t)return H;d="",l=ge,f=0;continue}if(t&&(c.isSpecial()!=p(fe,d)||"file"==d&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=d,t)return void(c.isSpecial()&&fe[c.scheme]==c.port&&(c.port=null));d="","file"==c.scheme?l=Oe:c.isSpecial()&&n&&n.scheme==c.scheme?l=ye:c.isSpecial()?l=we:"/"==i[f+1]?(l=be,f++):(c.cannotBeABaseURL=!0,F(c.path,""),l=Pe)}break;case ge:if(!n||n.cannotBeABaseURL&&"#"!=a)return H;if(n.cannotBeABaseURL&&"#"==a){c.scheme=n.scheme,c.path=m(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,l=De;break}l="file"==n.scheme?Oe:xe;continue;case ye:if("/"!=a||"/"!=i[f+1]){l=xe;continue}l=_e,f++;break;case be:if("/"==a){l=Se;break}l=Ne;continue;case xe:if(c.scheme=n.scheme,a==r)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.query=n.query;else if("/"==a||"\\"==a&&c.isSpecial())l=ke;else if("?"==a)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.query="",l=Me;else{if("#"!=a){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.path.length--,l=Ne;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.query=n.query,c.fragment="",l=De}break;case ke:if(!c.isSpecial()||"/"!=a&&"\\"!=a){if("/"!=a){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,l=Ne;continue}l=Se}else l=_e;break;case we:if(l=_e,"/"!=a||"/"!=P(d,f+1))continue;f++;break;case _e:if("/"!=a&&"\\"!=a){l=Se;continue}break;case Se:if("@"==a){h&&(d="%40"+d),h=!0,o=v(d);for(var x=0;x<o.length;x++){var k=o[x];if(":"!=k||y){var w=le(k,ce);y?c.password+=w:c.username+=w}else y=!0}d=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()){if(h&&""==d)return"Invalid authority";f-=v(d).length+1,d="",l=Te}else d+=a;break;case Te:case Ee:if(t&&"file"==c.scheme){l=Ie;continue}if(":"!=a||g){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()){if(c.isSpecial()&&""==d)return G;if(t&&""==d&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(d))return s;if(d="",l=Re,t)return;continue}"["==a?g=!0:"]"==a&&(g=!1),d+=a}else{if(""==d)return G;if(s=c.parseHost(d))return s;if(d="",l=Ce,t==Ee)return}break;case Ce:if(!M(X,a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&c.isSpecial()||t){if(""!=d){var _=I(d,10);if(_>65535)return q;c.port=c.isSpecial()&&_===fe[c.scheme]?null:_,d=""}if(t)return;l=Re;continue}return q}d+=a;break;case Oe:if(c.scheme="file","/"==a||"\\"==a)l=Ae;else{if(!n||"file"!=n.scheme){l=Ne;continue}if(a==r)c.host=n.host,c.path=m(n.path),c.query=n.query;else if("?"==a)c.host=n.host,c.path=m(n.path),c.query="",l=Me;else{if("#"!=a){pe(D(m(i,f),""))||(c.host=n.host,c.path=m(n.path),c.shortenPath()),l=Ne;continue}c.host=n.host,c.path=m(n.path),c.query=n.query,c.fragment="",l=De}}break;case Ae:if("/"==a||"\\"==a){l=Ie;break}n&&"file"==n.scheme&&!pe(D(m(i,f),""))&&(de(n.path[0],!0)?F(c.path,n.path[0]):c.host=n.host),l=Ne;continue;case Ie:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!t&&de(d))l=Ne;else if(""==d){if(c.host="",t)return;l=Re}else{if(s=c.parseHost(d))return s;if("localhost"==c.host&&(c.host=""),t)return;d="",l=Re}continue}d+=a;break;case Re:if(c.isSpecial()){if(l=Ne,"/"!=a&&"\\"!=a)continue}else if(t||"?"!=a)if(t||"#"!=a){if(a!=r&&(l=Ne,"/"!=a))continue}else c.fragment="",l=De;else c.query="",l=Me;break;case Ne:if(a==r||"/"==a||"\\"==a&&c.isSpecial()||!t&&("?"==a||"#"==a)){if(".."===(u=z(u=d))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(c.shortenPath(),"/"==a||"\\"==a&&c.isSpecial()||F(c.path,"")):he(d)?"/"==a||"\\"==a&&c.isSpecial()||F(c.path,""):("file"==c.scheme&&!c.path.length&&de(d)&&(c.host&&(c.host=""),d=P(d,0)+":"),F(c.path,d)),d="","file"==c.scheme&&(a==r||"?"==a||"#"==a))for(;c.path.length>1&&""===c.path[0];)B(c.path);"?"==a?(c.query="",l=Me):"#"==a&&(c.fragment="",l=De)}else d+=le(a,ue);break;case Pe:"?"==a?(c.query="",l=Me):"#"==a?(c.fragment="",l=De):a!=r&&(c.path[0]+=le(a,oe));break;case Me:t||"#"!=a?a!=r&&("'"==a&&c.isSpecial()?c.query+="%27":c.query+="#"==a?"%23":le(a,oe)):(c.fragment="",l=De);break;case De:a!=r&&(c.fragment+=le(a,se))}f++}},parseHost:function(e){var t,n,r;if("["==P(e,0)){if("]"!=P(e,e.length-1))return G;if(t=function(e){var t,n,r,i,a,o,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,d=function(){return P(e,f)};if(":"==d()){if(":"!=P(e,1))return;f+=2,l=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=n=0;n<4&&M(ee,d());)t=16*t+I(d(),16),f++,n++;if("."==d()){if(0==n)return;if(f-=n,c>6)return;for(r=0;d();){if(i=null,r>0){if(!("."==d()&&r<4))return;f++}if(!M(X,d()))return;for(;M(X,d());){if(a=I(d(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;f++}u[c]=256*u[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;u[c++]=t}else{if(null!==l)return;f++,l=++c}}if(null!==l)for(o=c-l,c=7;0!=c&&o>0;)s=u[c],u[c--]=u[l+o-1],u[l+--o]=s;else if(8!=c)return;return u}(V(e,1,-1)),!t)return G;this.host=t}else if(this.isSpecial()){if(e=y(e),M(te,e))return G;if(t=function(e){var t,n,r,i,a,o,s,u=U(e,".");if(u.length&&""==u[u.length-1]&&u.length--,(t=u.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=u[r]))return e;if(a=10,i.length>1&&"0"==P(i,0)&&(a=M(Q,i)?16:8,i=V(i,8==a?1:2)),""===i)o=0;else{if(!M(10==a?$:8==a?J:ee,i))return e;o=I(i,a)}F(n,o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=N(256,5-t))return null}else if(o>255)return null;for(s=j(n),r=0;r<n.length;r++)s+=n[r]*N(256,3-r);return s}(e),null===t)return G;this.host=t}else{if(M(ne,e))return G;for(t="",n=v(e),r=0;r<n.length;r++)t+=le(n[r],oe);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(fe,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&de(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,a=e.port,o=e.path,s=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",e.includesCredentials()&&(c+=n+(r?":"+r:"")+"@"),c+=ae(i),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+D(o,"/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},setHref:function(e){var t=this.parse(e);if(t)throw A(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new je(e.path[0]).origin}catch(n){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+ae(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",ve)},getUsername:function(){return this.username},setUsername:function(e){var t=v(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=le(t[n],ce)}},getPassword:function(){return this.password},setPassword:function(e){var t=v(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=le(t[n],ce)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ae(e):ae(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Te)},getHostname:function(){var e=this.host;return null===e?"":ae(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Ee)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=b(e))?this.port=null:this.parse(e,Ce))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+D(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Re))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=b(e))?this.query=null:("?"==P(e,0)&&(e=V(e,1)),this.query="",this.parse(e,Me)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=b(e))?("#"==P(e,0)&&(e=V(e,1)),this.fragment="",this.parse(e,De)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var je=function(e){var t=d(this,Fe),n=k(arguments.length,1)>1?arguments[1]:void 0,r=S(t,new Le(e,!1,n));a||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Fe=je.prototype,Ze=function(e,t){return{get:function(){return T(this)[e]()},set:t&&function(e){return T(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&(f(Fe,"href",Ze("serialize","setHref")),f(Fe,"origin",Ze("getOrigin")),f(Fe,"protocol",Ze("getProtocol","setProtocol")),f(Fe,"username",Ze("getUsername","setUsername")),f(Fe,"password",Ze("getPassword","setPassword")),f(Fe,"host",Ze("getHost","setHost")),f(Fe,"hostname",Ze("getHostname","setHostname")),f(Fe,"port",Ze("getPort","setPort")),f(Fe,"pathname",Ze("getPathname","setPathname")),f(Fe,"search",Ze("getSearch","setSearch")),f(Fe,"searchParams",Ze("getSearchParams")),f(Fe,"hash",Ze("getHash","setHash"))),l(Fe,"toJSON",(function(){return T(this).serialize()}),{enumerable:!0}),l(Fe,"toString",(function(){return T(this).serialize()}),{enumerable:!0}),O){var Be=O.createObjectURL,Ue=O.revokeObjectURL;Be&&l(je,"createObjectURL",u(Be,O)),Ue&&l(je,"revokeObjectURL",u(Ue,O))}x(je,"URL"),i({global:!0,constructor:!0,forced:!o,sham:!a},{URL:je})},49798:function(e,t,n){n(588)},65403:function(e,t,n){"use strict";function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}n.d(t,{Z:function(){return r}})},84181:function(e,t,n){"use strict";n.d(t,{Nw:function(){return u},ZR:function(){return c},ml:function(){return s}});var r=n(65403),i=n(92267),a=n(43996),o=(0,i.Z)(r.Z),s=o.right,u=o.left,c=(0,i.Z)(a.Z).center;t.ZP=s},92267:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(65403);function i(e){var t=e,n=e;function i(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;n(e[a],t)<0?r=a+1:i=a}return r}return 1===e.length&&(t=function(t,n){return e(t)-n},n=function(e){return function(t,n){return(0,r.Z)(e(t),n)}}(e)),{left:i,center:function(e,n,r,a){null==r&&(r=0),null==a&&(a=e.length);var o=i(e,n,r,a-1);return o>r&&t(e[o-1],n)>-t(e[o],n)?o-1:o},right:function(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;n(e[a],t)>0?i=a:r=a+1}return r}}}},39562:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(37762);function i(e,t){var n,i;if(void 0===t){var a,o=(0,r.Z)(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;null!=s&&(void 0===n?s>=s&&(n=i=s):(n>s&&(n=s),i<s&&(i=s)))}}catch(d){o.e(d)}finally{o.f()}}else{var u,c=-1,l=(0,r.Z)(e);try{for(l.s();!(u=l.n()).done;){var f=u.value;null!=(f=t(f,++c,e))&&(void 0===n?f>=f&&(n=i=f):(n>f&&(n=f),i<f&&(i=f)))}}catch(d){l.e(d)}finally{l.f()}}return[n,i]}},80617:function(e,t,n){"use strict";n.r(t),n.d(t,{Adder:function(){return k},InternMap:function(){return R},InternSet:function(){return N},ascending:function(){return i.Z},bin:function(){return te},bisect:function(){return r.ZP},bisectCenter:function(){return r.ZR},bisectLeft:function(){return r.Nw},bisectRight:function(){return r.ml},bisector:function(){return a.Z},count:function(){return s},cross:function(){return p},cumsum:function(){return h},descending:function(){return v},deviation:function(){return g},difference:function(){return Le},disjoint:function(){return je},every:function(){return Ie},extent:function(){return y.Z},fcumsum:function(){return _},filter:function(){return Ne},fsum:function(){return w},greatest:function(){return ke},greatestIndex:function(){return we},group:function(){return F},groupSort:function(){return K},groups:function(){return Z},histogram:function(){return te},index:function(){return V},indexes:function(){return z},intersection:function(){return Ze},least:function(){return be},leastIndex:function(){return xe},map:function(){return Pe},max:function(){return ae.Z},maxIndex:function(){return oe},mean:function(){return se},median:function(){return ue},merge:function(){return de},min:function(){return pe.Z},minIndex:function(){return he},nice:function(){return $},pairs:function(){return ve},permute:function(){return G},quantile:function(){return ne.Z},quantileSorted:function(){return ne.s},quickselect:function(){return ge.Z},range:function(){return ye.Z},reduce:function(){return Me},reverse:function(){return De},rollup:function(){return B},rollups:function(){return U},scan:function(){return _e},shuffle:function(){return Se},shuffler:function(){return Te},some:function(){return Re},sort:function(){return q},subset:function(){return Ue},sum:function(){return Ee},superset:function(){return Be},thresholdFreedmanDiaconis:function(){return re},thresholdScott:function(){return ie},thresholdSturges:function(){return ee},tickIncrement:function(){return J.G9},tickStep:function(){return J.ly},ticks:function(){return J.ZP},transpose:function(){return Ce},union:function(){return Ve},variance:function(){return m},zip:function(){return Ae}});var r=n(84181),i=n(65403),a=n(92267),o=n(37762);function s(e,t){var n=0;if(void 0===t){var r,i=(0,o.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(a=+a)>=a&&++n}}catch(f){i.e(f)}finally{i.f()}}else{var s,u=-1,c=(0,o.Z)(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;null!=(l=t(l,++u,e))&&(l=+l)>=l&&++n}}catch(f){c.e(f)}finally{c.f()}}return n}var u=n(93433);function c(e){return 0|e.length}function l(e){return!(e>0)}function f(e){return"object"!==typeof e||"length"in e?e:Array.from(e)}function d(e){return function(t){return e.apply(void 0,(0,u.Z)(t))}}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="function"===typeof t[t.length-1]&&d(t.pop()),i=(t=t.map(f)).map(c),a=t.length-1,o=new Array(a+1).fill(0),s=[];if(a<0||i.some(l))return s;for(;;){s.push(o.map((function(e,n){return t[n][e]})));for(var u=a;++o[u]===i[u];){if(0===u)return r?s.map(r):s;o[u--]=0}}}function h(e,t){var n=0,r=0;return Float64Array.from(e,void 0===t?function(e){return n+=+e||0}:function(i){return n+=+t(i,r++,e)||0})}function v(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function m(e,t){var n,r=0,i=0,a=0;if(void 0===t){var s,u=(0,o.Z)(e);try{for(u.s();!(s=u.n()).done;){var c=s.value;null!=c&&(c=+c)>=c&&(a+=(n=c-i)*(c-(i+=n/++r)))}}catch(h){u.e(h)}finally{u.f()}}else{var l,f=-1,d=(0,o.Z)(e);try{for(d.s();!(l=d.n()).done;){var p=l.value;null!=(p=t(p,++f,e))&&(p=+p)>=p&&(a+=(n=p-i)*(p-(i+=n/++r)))}}catch(h){d.e(h)}finally{d.f()}}if(r>1)return a/(r-1)}function g(e,t){var n=m(e,t);return n?Math.sqrt(n):n}var y=n(39562),b=n(15671),x=n(43144),k=function(){function e(){(0,b.Z)(this,e),this._partials=new Float64Array(32),this._n=0}return(0,x.Z)(e,[{key:"add",value:function(e){for(var t=this._partials,n=0,r=0;r<this._n&&r<32;r++){var i=t[r],a=e+i,o=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);o&&(t[n++]=o),e=a}return t[n]=e,this._n=n+1,this}},{key:"valueOf",value:function(){var e,t,n,r=this._partials,i=this._n,a=0;if(i>0){for(a=r[--i];i>0&&(e=a,!(n=(t=r[--i])-((a=e+t)-e))););i>0&&(n<0&&r[i-1]<0||n>0&&r[i-1]>0)&&(t=2*n)==(e=a+t)-a&&(a=e)}return a}}]),e}();function w(e,t){var n=new k;if(void 0===t){var r,i=(0,o.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;(a=+a)&&n.add(a)}}catch(f){i.e(f)}finally{i.f()}}else{var s,u=-1,c=(0,o.Z)(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;(l=+t(l,++u,e))&&n.add(l)}}catch(f){c.e(f)}finally{c.f()}}return+n}function _(e,t){var n=new k,r=-1;return Float64Array.from(e,void 0===t?function(e){return n.add(+e||0)}:function(i){return n.add(+t(i,++r,e)||0)})}var S=n(29439),T=n(97326),E=n(11752),C=n(61120),O=n(60136),A=n(29388),I=n(98737),R=function(e){(0,O.Z)(n,e);var t=(0,A.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L;if((0,b.Z)(this,n),r=t.call(this),Object.defineProperties((0,T.Z)(r),{_intern:{value:new Map},_key:{value:i}}),null!=e){var a,s=(0,o.Z)(e);try{for(s.s();!(a=s.n()).done;){var u=(0,S.Z)(a.value,2),c=u[0],l=u[1];r.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}return r}return(0,x.Z)(n,[{key:"get",value:function(e){return(0,E.Z)((0,C.Z)(n.prototype),"get",this).call(this,P(this,e))}},{key:"has",value:function(e){return(0,E.Z)((0,C.Z)(n.prototype),"has",this).call(this,P(this,e))}},{key:"set",value:function(e,t){return(0,E.Z)((0,C.Z)(n.prototype),"set",this).call(this,M(this,e),t)}},{key:"delete",value:function(e){return(0,E.Z)((0,C.Z)(n.prototype),"delete",this).call(this,D(this,e))}}]),n}((0,I.Z)(Map)),N=function(e){(0,O.Z)(n,e);var t=(0,A.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L;if((0,b.Z)(this,n),r=t.call(this),Object.defineProperties((0,T.Z)(r),{_intern:{value:new Map},_key:{value:i}}),null!=e){var a,s=(0,o.Z)(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;r.add(u)}}catch(c){s.e(c)}finally{s.f()}}return r}return(0,x.Z)(n,[{key:"has",value:function(e){return(0,E.Z)((0,C.Z)(n.prototype),"has",this).call(this,P(this,e))}},{key:"add",value:function(e){return(0,E.Z)((0,C.Z)(n.prototype),"add",this).call(this,M(this,e))}},{key:"delete",value:function(e){return(0,E.Z)((0,C.Z)(n.prototype),"delete",this).call(this,D(this,e))}}]),n}((0,I.Z)(Set));function P(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):t}function M(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function D(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)&&(t=n.get(t),n.delete(r)),t}function L(e){return null!==e&&"object"===typeof e?e.valueOf():e}function j(e){return e}function F(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return H(e,j,j,n)}function Z(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return H(e,Array.from,j,n)}function B(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return H(e,j,t,r)}function U(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return H(e,Array.from,t,r)}function V(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return H(e,j,W,n)}function z(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return H(e,Array.from,W,n)}function W(e){if(1!==e.length)throw new Error("duplicate key");return e[0]}function H(e,t,n,r){return function e(i,a){if(a>=r.length)return n(i);var s,u=new R,c=r[a++],l=-1,f=(0,o.Z)(i);try{for(f.s();!(s=f.n()).done;){var d=s.value,p=c(d,++l,i),h=u.get(p);h?h.push(d):u.set(p,[d])}}catch(x){f.e(x)}finally{f.f()}var v,m=(0,o.Z)(u);try{for(m.s();!(v=m.n()).done;){var g=(0,S.Z)(v.value,2),y=g[0],b=g[1];u.set(y,e(b,a))}}catch(x){m.e(x)}finally{m.f()}return t(u)}(e,0)}function G(e,t){return Array.from(t,(function(t){return e[t]}))}function q(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("function"!==typeof e[Symbol.iterator])throw new TypeError("values is not iterable");e=Array.from(e);var a=n,s=(0,S.Z)(a,1),u=s[0],c=void 0===u?i.Z:u;if(1===c.length||n.length>1){var l=Uint32Array.from(e,(function(e,t){return t}));return n.length>1?(n=n.map((function(t){return e.map(t)})),l.sort((function(e,t){var r,a=(0,o.Z)(n);try{for(a.s();!(r=a.n()).done;){var s=r.value,u=(0,i.Z)(s[e],s[t]);if(u)return u}}catch(c){a.e(c)}finally{a.f()}}))):(c=e.map(c),l.sort((function(e,t){return(0,i.Z)(c[e],c[t])}))),G(e,l)}return e.sort(c)}function K(e,t,n){return(1===t.length?q(B(e,t,n),(function(e,t){var n=(0,S.Z)(e,2),r=n[0],a=n[1],o=(0,S.Z)(t,2),s=o[0],u=o[1];return(0,i.Z)(a,u)||(0,i.Z)(r,s)})):q(F(e,n),(function(e,n){var r=(0,S.Z)(e,2),a=r[0],o=r[1],s=(0,S.Z)(n,2),u=s[0],c=s[1];return t(o,c)||(0,i.Z)(a,u)}))).map((function(e){return(0,S.Z)(e,1)[0]}))}var Y=Array.prototype,X=Y.slice;Y.map;function Q(e){return function(){return e}}var J=n(99571);function $(e,t,n){for(var r;;){var i=(0,J.G9)(e,t,n);if(i===r||0===i||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function ee(e){return Math.ceil(Math.log(s(e))/Math.LN2)+1}function te(){var e=j,t=y.Z,n=ee;function i(i){Array.isArray(i)||(i=Array.from(i));var a,o,s=i.length,u=new Array(s);for(a=0;a<s;++a)u[a]=e(i[a],a,i);var c=t(u),l=c[0],f=c[1],d=n(u,l,f);if(!Array.isArray(d)){var p=f,h=+d;if(t===y.Z){var v=$(l,f,h),m=(0,S.Z)(v,2);l=m[0],f=m[1]}if((d=(0,J.ZP)(l,f,h))[d.length-1]>=f)if(p>=f&&t===y.Z){var g=(0,J.G9)(l,f,h);isFinite(g)&&(g>0?f=(Math.floor(f/g)+1)*g:g<0&&(f=(Math.ceil(f*-g)+1)/-g))}else d.pop()}for(var b=d.length;d[0]<=l;)d.shift(),--b;for(;d[b-1]>f;)d.pop(),--b;var x,k=new Array(b+1);for(a=0;a<=b;++a)(x=k[a]=[]).x0=a>0?d[a-1]:l,x.x1=a<b?d[a]:f;for(a=0;a<s;++a)l<=(o=u[a])&&o<=f&&k[(0,r.ZP)(d,o,0,b)].push(i[a]);return k}return i.value=function(t){return arguments.length?(e="function"===typeof t?t:Q(t),i):e},i.domain=function(e){return arguments.length?(t="function"===typeof e?e:Q([e[0],e[1]]),i):t},i.thresholds=function(e){return arguments.length?(n="function"===typeof e?e:Array.isArray(e)?Q(X.call(e)):Q(e),i):n},i}var ne=n(1732);function re(e,t,n){return Math.ceil((n-t)/(2*((0,ne.Z)(e,.75)-(0,ne.Z)(e,.25))*Math.pow(s(e),-1/3)))}function ie(e,t,n){return Math.ceil((n-t)/(3.5*g(e)*Math.pow(s(e),-1/3)))}var ae=n(42382);function oe(e,t){var n,r=-1,i=-1;if(void 0===t){var a,s=(0,o.Z)(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;++i,null!=u&&(n<u||void 0===n&&u>=u)&&(n=u,r=i)}}catch(d){s.e(d)}finally{s.f()}}else{var c,l=(0,o.Z)(e);try{for(l.s();!(c=l.n()).done;){var f=c.value;null!=(f=t(f,++i,e))&&(n<f||void 0===n&&f>=f)&&(n=f,r=i)}}catch(d){l.e(d)}finally{l.f()}}return r}function se(e,t){var n=0,r=0;if(void 0===t){var i,a=(0,o.Z)(e);try{for(a.s();!(i=a.n()).done;){var s=i.value;null!=s&&(s=+s)>=s&&(++n,r+=s)}}catch(d){a.e(d)}finally{a.f()}}else{var u,c=-1,l=(0,o.Z)(e);try{for(l.s();!(u=l.n()).done;){var f=u.value;null!=(f=t(f,++c,e))&&(f=+f)>=f&&(++n,r+=f)}}catch(d){l.e(d)}finally{l.f()}}if(n)return r/n}function ue(e,t){return(0,ne.Z)(e,.5,t)}var ce=n(74165),le=(0,ce.Z)().mark(fe);function fe(e){var t,n,r;return(0,ce.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=(0,o.Z)(e),i.prev=1,t.s();case 3:if((n=t.n()).done){i.next=8;break}return r=n.value,i.delegateYield(r,"t0",6);case 6:i.next=3;break;case 8:i.next=13;break;case 10:i.prev=10,i.t1=i.catch(1),t.e(i.t1);case 13:return i.prev=13,t.f(),i.finish(13);case 16:case"end":return i.stop()}}),le,null,[[1,10,13,16]])}function de(e){return Array.from(fe(e))}var pe=n(75055);function he(e,t){var n,r=-1,i=-1;if(void 0===t){var a,s=(0,o.Z)(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;++i,null!=u&&(n>u||void 0===n&&u>=u)&&(n=u,r=i)}}catch(d){s.e(d)}finally{s.f()}}else{var c,l=(0,o.Z)(e);try{for(l.s();!(c=l.n()).done;){var f=c.value;null!=(f=t(f,++i,e))&&(n>f||void 0===n&&f>=f)&&(n=f,r=i)}}catch(d){l.e(d)}finally{l.f()}}return r}function ve(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:me,i=[],a=!1,s=(0,o.Z)(e);try{for(s.s();!(n=s.n()).done;){var u=n.value;a&&i.push(r(t,u)),t=u,a=!0}}catch(c){s.e(c)}finally{s.f()}return i}function me(e,t){return[e,t]}var ge=n(61914),ye=n(41539);function be(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Z,r=!1;if(1===n.length){var a,s,u=(0,o.Z)(e);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=n(c);(r?(0,i.Z)(l,a)<0:0===(0,i.Z)(l,l))&&(t=c,a=l,r=!0)}}catch(h){u.e(h)}finally{u.f()}}else{var f,d=(0,o.Z)(e);try{for(d.s();!(f=d.n()).done;){var p=f.value;(r?n(p,t)<0:0===n(p,p))&&(t=p,r=!0)}}catch(h){d.e(h)}finally{d.f()}}return t}function xe(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Z;if(1===n.length)return he(e,n);var r,a=-1,s=-1,u=(0,o.Z)(e);try{for(u.s();!(r=u.n()).done;){var c=r.value;++s,(a<0?0===n(c,c):n(c,t)<0)&&(t=c,a=s)}}catch(l){u.e(l)}finally{u.f()}return a}function ke(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Z,r=!1;if(1===n.length){var a,s,u=(0,o.Z)(e);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=n(c);(r?(0,i.Z)(l,a)>0:0===(0,i.Z)(l,l))&&(t=c,a=l,r=!0)}}catch(h){u.e(h)}finally{u.f()}}else{var f,d=(0,o.Z)(e);try{for(d.s();!(f=d.n()).done;){var p=f.value;(r?n(p,t)>0:0===n(p,p))&&(t=p,r=!0)}}catch(h){d.e(h)}finally{d.f()}}return t}function we(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Z;if(1===n.length)return oe(e,n);var r,a=-1,s=-1,u=(0,o.Z)(e);try{for(u.s();!(r=u.n()).done;){var c=r.value;++s,(a<0?0===n(c,c):n(c,t)>0)&&(t=c,a=s)}}catch(l){u.e(l)}finally{u.f()}return a}function _e(e,t){var n=xe(e,t);return n<0?void 0:n}var Se=Te(Math.random);function Te(e){return function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=r-(n=+n);i;){var a=e()*i--|0,o=t[i+n];t[i+n]=t[a+n],t[a+n]=o}return t}}function Ee(e,t){var n=0;if(void 0===t){var r,i=(0,o.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;(a=+a)&&(n+=a)}}catch(f){i.e(f)}finally{i.f()}}else{var s,u=-1,c=(0,o.Z)(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;(l=+t(l,++u,e))&&(n+=l)}}catch(f){c.e(f)}finally{c.f()}}return n}function Ce(e){if(!(i=e.length))return[];for(var t=-1,n=(0,pe.Z)(e,Oe),r=new Array(n);++t<n;)for(var i,a=-1,o=r[t]=new Array(i);++a<i;)o[a]=e[a][t];return r}function Oe(e){return e.length}function Ae(){return Ce(arguments)}function Ie(e,t){if("function"!==typeof t)throw new TypeError("test is not a function");var n,r=-1,i=(0,o.Z)(e);try{for(i.s();!(n=i.n()).done;){if(!t(n.value,++r,e))return!1}}catch(a){i.e(a)}finally{i.f()}return!0}function Re(e,t){if("function"!==typeof t)throw new TypeError("test is not a function");var n,r=-1,i=(0,o.Z)(e);try{for(i.s();!(n=i.n()).done;){if(t(n.value,++r,e))return!0}}catch(a){i.e(a)}finally{i.f()}return!1}function Ne(e,t){if("function"!==typeof t)throw new TypeError("test is not a function");var n,r=[],i=-1,a=(0,o.Z)(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;t(s,++i,e)&&r.push(s)}}catch(u){a.e(u)}finally{a.f()}return r}function Pe(e,t){if("function"!==typeof e[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof t)throw new TypeError("mapper is not a function");return Array.from(e,(function(n,r){return t(n,r,e)}))}function Me(e,t,n){if("function"!==typeof t)throw new TypeError("reducer is not a function");var r,i,a=e[Symbol.iterator](),o=-1;if(arguments.length<3){var s=a.next();if(r=s.done,n=s.value,r)return;++o}for(;r=(u=a.next()).done,i=u.value,!r;){var u;n=t(n,i,++o,e)}return n}function De(e){if("function"!==typeof e[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(e).reverse()}function Le(e){e=new Set(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var s,u=a[i],c=(0,o.Z)(u);try{for(c.s();!(s=c.n()).done;){var l=s.value;e.delete(l)}}catch(f){c.e(f)}finally{c.f()}}return e}function je(e,t){var n,r=t[Symbol.iterator](),i=new Set,a=(0,o.Z)(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(i.has(s))return!1;for(var u=void 0,c=void 0;u=(l=r.next()).value,c=l.done,l;){var l;if(c)break;if(Object.is(s,u))return!1;i.add(u)}}}catch(f){a.e(f)}finally{a.f()}return!0}function Fe(e){return e instanceof Set?e:new Set(e)}function Ze(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=new Set(e),n=n.map(Fe);var i,a=(0,o.Z)(e);try{e:for(a.s();!(i=a.n()).done;){var s,u=i.value,c=(0,o.Z)(n);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(!l.has(u)){e.delete(u);continue e}}}catch(f){c.e(f)}finally{c.f()}}}catch(f){a.e(f)}finally{a.f()}return e}function Be(e,t){var n,r=e[Symbol.iterator](),i=new Set,a=(0,o.Z)(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(!i.has(s))for(var u=void 0,c=void 0;u=(l=r.next()).value,c=l.done,l;){var l;if(c)return!1;if(i.add(u),Object.is(s,u))break}}}catch(f){a.e(f)}finally{a.f()}return!0}function Ue(e,t){return Be(t,e)}function Ve(){for(var e=new Set,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var s,u=a[i],c=(0,o.Z)(u);try{for(c.s();!(s=c.n()).done;){var l=s.value;e.add(l)}}catch(f){c.e(f)}finally{c.f()}}return e}},42382:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(37762);function i(e,t){var n;if(void 0===t){var i,a=(0,r.Z)(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(n<o||void 0===n&&o>=o)&&(n=o)}}catch(f){a.e(f)}finally{a.f()}}else{var s,u=-1,c=(0,r.Z)(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;null!=(l=t(l,++u,e))&&(n<l||void 0===n&&l>=l)&&(n=l)}}catch(f){c.e(f)}finally{c.f()}}return n}},75055:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(37762);function i(e,t){var n;if(void 0===t){var i,a=(0,r.Z)(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(n>o||void 0===n&&o>=o)&&(n=o)}}catch(f){a.e(f)}finally{a.f()}}else{var s,u=-1,c=(0,r.Z)(e);try{for(c.s();!(s=c.n()).done;){var l=s.value;null!=(l=t(l,++u,e))&&(n>l||void 0===n&&l>=l)&&(n=l)}}catch(f){c.e(f)}finally{c.f()}}return n}},43996:function(e,t,n){"use strict";n.d(t,{K:function(){return s},Z:function(){return o}});var r=n(74165),i=n(37762),a=(0,r.Z)().mark(s);function o(e){return null===e?NaN:+e}function s(e,t){var n,o,s,u,c,l,f;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t){r.next=21;break}n=(0,i.Z)(e),r.prev=2,n.s();case 4:if((o=n.n()).done){r.next=11;break}if(!(null!=(s=o.value)&&(s=+s)>=s)){r.next=9;break}return r.next=9,s;case 9:r.next=4;break;case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(2),n.e(r.t0);case 16:return r.prev=16,n.f(),r.finish(16);case 19:r.next=40;break;case 21:u=-1,c=(0,i.Z)(e),r.prev=23,c.s();case 25:if((l=c.n()).done){r.next=32;break}if(f=l.value,!(null!=(f=t(f,++u,e))&&(f=+f)>=f)){r.next=30;break}return r.next=30,f;case 30:r.next=25;break;case 32:r.next=37;break;case 34:r.prev=34,r.t1=r.catch(23),c.e(r.t1);case 37:return r.prev=37,c.f(),r.finish(37);case 40:case"end":return r.stop()}}),a,null,[[2,13,16,19],[23,34,37,40]])}},1732:function(e,t,n){"use strict";n.d(t,{Z:function(){return s},s:function(){return u}});var r=n(42382),i=n(75055),a=n(61914),o=n(43996);function s(e,t,n){if(s=(e=Float64Array.from((0,o.K)(e,n))).length){if((t=+t)<=0||s<2)return(0,i.Z)(e);if(t>=1)return(0,r.Z)(e);var s,u=(s-1)*t,c=Math.floor(u),l=(0,r.Z)((0,a.Z)(e,c).subarray(0,c+1));return l+((0,i.Z)(e.subarray(c+1))-l)*(u-c)}}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.Z;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),u=+n(e[a+1],a+1,e);return s+(u-s)*(i-a)}}},61914:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(65403);function i(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.Z;o>n;){if(o-n>600){var u=o-n+1,c=t-n+1,l=Math.log(u),f=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*f*(u-f)/u)*(c-u/2<0?-1:1),p=Math.max(n,Math.floor(t-c*f/u+d)),h=Math.min(o,Math.floor(t+(u-c)*f/u+d));i(e,t,p,h,s)}var v=e[t],m=n,g=o;for(a(e,n,t),s(e[o],v)>0&&a(e,n,o);m<g;){for(a(e,m,g),++m,--g;s(e[m],v)<0;)++m;for(;s(e[g],v)>0;)--g}0===s(e[n],v)?a(e,n,g):a(e,++g,o),g<=t&&(n=g+1),t<=g&&(o=g-1)}return e}function a(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}},41539:function(e,t,n){"use strict";function r(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}n.d(t,{Z:function(){return r}})},99571:function(e,t,n){"use strict";n.d(t,{G9:function(){return s},ZP:function(){return o},ly:function(){return u}});var r=Math.sqrt(50),i=Math.sqrt(10),a=Math.sqrt(2);function o(e,t,n){var r,i,a,o,u=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(o=s(e,t,n))||!isFinite(o))return[];if(o>0){var c=Math.round(e/o),l=Math.round(t/o);for(c*o<e&&++c,l*o>t&&--l,a=new Array(i=l-c+1);++u<i;)a[u]=(c+u)*o}else{o=-o;var f=Math.round(e*o),d=Math.round(t*o);for(f/o<e&&++f,d/o>t&&--d,a=new Array(i=d-f+1);++u<i;)a[u]=(f+u)/o}return r&&a.reverse(),a}function s(e,t,n){var o=(t-e)/Math.max(0,n),s=Math.floor(Math.log(o)/Math.LN10),u=o/Math.pow(10,s);return s>=0?(u>=r?10:u>=i?5:u>=a?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(u>=r?10:u>=i?5:u>=a?2:1)}function u(e,t,n){var o=Math.abs(t-e)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),u=o/s;return u>=r?s*=10:u>=i?s*=5:u>=a&&(s*=2),t<e?-s:s}},80419:function(e,t,n){"use strict";n.d(t,{B8:function(){return S},Il:function(){return i},J5:function(){return o},SU:function(){return _},Ss:function(){return T},Ym:function(){return R},ZP:function(){return x},xV:function(){return a}});var r=n(38814);function i(){}var a=.7,o=1/a,s="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3,8})$/,f=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),d=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),p=new RegExp("^rgba\\("+[s,s,s,u]+"\\)$"),h=new RegExp("^rgba\\("+[c,c,c,u]+"\\)$"),v=new RegExp("^hsl\\("+[u,c,c]+"\\)$"),m=new RegExp("^hsla\\("+[u,c,c,u]+"\\)$"),g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function b(){return this.rgb().formatRgb()}function x(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=l.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?k(t):3===n?new T(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?w(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?w(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=f.exec(e))?new T(t[1],t[2],t[3],1):(t=d.exec(e))?new T(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=p.exec(e))?w(t[1],t[2],t[3],t[4]):(t=h.exec(e))?w(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=v.exec(e))?A(t[1],t[2]/100,t[3]/100,1):(t=m.exec(e))?A(t[1],t[2]/100,t[3]/100,t[4]):g.hasOwnProperty(e)?k(g[e]):"transparent"===e?new T(NaN,NaN,NaN,0):null}function k(e){return new T(e>>16&255,e>>8&255,255&e,1)}function w(e,t,n,r){return r<=0&&(e=t=n=NaN),new T(e,t,n,r)}function _(e){return e instanceof i||(e=x(e)),e?new T((e=e.rgb()).r,e.g,e.b,e.opacity):new T}function S(e,t,n,r){return 1===arguments.length?_(e):new T(e,t,n,null==r?1:r)}function T(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function E(){return"#"+O(this.r)+O(this.g)+O(this.b)}function C(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function O(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function A(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new N(e,t,n,r)}function I(e){if(e instanceof N)return new N(e.h,e.s,e.l,e.opacity);if(e instanceof i||(e=x(e)),!e)return new N;if(e instanceof N)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,u=o-a,c=(o+a)/2;return u?(s=t===o?(n-r)/u+6*(n<r):n===o?(r-t)/u+2:(t-n)/u+4,u/=c<.5?o+a:2-o-a,s*=60):u=c>0&&c<1?0:s,new N(s,u,c,e.opacity)}function R(e,t,n,r){return 1===arguments.length?I(e):new N(e,t,n,null==r?1:r)}function N(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function P(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}(0,r.Z)(i,x,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:y,formatHex:y,formatHsl:function(){return I(this).formatHsl()},formatRgb:b,toString:b}),(0,r.Z)(T,S,(0,r.l)(i,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new T(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new T(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:E,formatHex:E,formatRgb:C,toString:C})),(0,r.Z)(N,R,(0,r.l)(i,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new N(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new N(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new T(P(e>=240?e-240:e+120,i,r),P(e,i,r),P(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))},38814:function(e,t,n){"use strict";function r(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}n.d(t,{Z:function(){return r},l:function(){return i}})},73352:function(e,t,n){"use strict";n.d(t,{Uc:function(){return b},ZP:function(){return d}});var r=n(38814),i=n(80419),a=n(31233),o=.96422,s=.82521,u=4/29,c=6/29,l=3*c*c;function f(e){if(e instanceof p)return new p(e.l,e.a,e.b,e.opacity);if(e instanceof x)return k(e);e instanceof i.Ss||(e=(0,i.SU)(e));var t,n,r=g(e.r),a=g(e.g),u=g(e.b),c=h((.2225045*r+.7168786*a+.0606169*u)/1);return r===a&&a===u?t=n=c:(t=h((.4360747*r+.3850649*a+.1430804*u)/o),n=h((.0139322*r+.0971045*a+.7141733*u)/s)),new p(116*c-16,500*(t-c),200*(c-n),e.opacity)}function d(e,t,n,r){return 1===arguments.length?f(e):new p(e,t,n,null==r?1:r)}function p(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function h(e){return e>.008856451679035631?Math.pow(e,1/3):e/l+u}function v(e){return e>c?e*e*e:l*(e-u)}function m(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function g(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function y(e){if(e instanceof x)return new x(e.h,e.c,e.l,e.opacity);if(e instanceof p||(e=f(e)),0===e.a&&0===e.b)return new x(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*a.B;return new x(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function b(e,t,n,r){return 1===arguments.length?y(e):new x(e,t,n,null==r?1:r)}function x(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function k(e){if(isNaN(e.h))return new p(e.l,0,0,e.opacity);var t=e.h*a.V;return new p(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}(0,r.Z)(p,d,(0,r.l)(i.Il,{brighter:function(e){return new p(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new p(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=o*v(t),e=1*v(e),n=s*v(n),new i.Ss(m(3.1338561*t-1.6168667*e-.4906146*n),m(-.9787684*t+1.9161415*e+.033454*n),m(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),(0,r.Z)(x,b,(0,r.l)(i.Il,{brighter:function(e){return new x(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new x(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return k(this).rgb()}}))},31233:function(e,t,n){"use strict";n.d(t,{B:function(){return i},V:function(){return r}});var r=Math.PI/180,i=180/Math.PI},57027:function(e,t,n){"use strict";n.d(t,{WU:function(){return f},jH:function(){return d}});var r=n(54751);var i=n(74111);var a,o=n(3469);function s(e,t){var n=(0,o.V)(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var u={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:o.Z,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return s(100*e,t)},r:s,s:function(e,t){var n=(0,o.V)(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(a=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return s===u?r:s>u?r+new Array(s-u+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+(0,o.V)(e,Math.max(0,t+s-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function c(e){return e}var l,f,d,p=Array.prototype.map,h=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function v(e){var t,n,o=void 0===e.grouping||void 0===e.thousands?c:(t=p.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),s=void 0===e.currency?"":e.currency[0]+"",l=void 0===e.currency?"":e.currency[1]+"",f=void 0===e.decimal?".":e.decimal+"",d=void 0===e.numerals?c:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(p.call(e.numerals,String)),v=void 0===e.percent?"%":e.percent+"",m=void 0===e.minus?"\u2212":e.minus+"",g=void 0===e.nan?"NaN":e.nan+"";function y(e){var t=(e=(0,i.Z)(e)).fill,n=e.align,r=e.sign,c=e.symbol,p=e.zero,y=e.width,b=e.comma,x=e.precision,k=e.trim,w=e.type;"n"===w?(b=!0,w="g"):u[w]||(void 0===x&&(x=12),k=!0,w="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var _="$"===c?s:"#"===c&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S="$"===c?l:/[%p]/.test(w)?v:"",T=u[w],E=/[defgprs%]/.test(w);function C(e){var i,s,u,c=_,l=S;if("c"===w)l=T(e)+l,e="";else{var v=(e=+e)<0||1/e<0;if(e=isNaN(e)?g:T(Math.abs(e),x),k&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),v&&0===+e&&"+"!==r&&(v=!1),c=(v?"("===r?r:m:"-"===r||"("===r?"":r)+c,l=("s"===w?h[8+a/3]:"")+l+(v&&"("===r?")":""),E)for(i=-1,s=e.length;++i<s;)if(48>(u=e.charCodeAt(i))||u>57){l=(46===u?f+e.slice(i+1):e.slice(i))+l,e=e.slice(0,i);break}}b&&!p&&(e=o(e,1/0));var C=c.length+e.length+l.length,O=C<y?new Array(y-C+1).join(t):"";switch(b&&p&&(e=o(O+e,O.length?y-l.length:1/0),O=""),n){case"<":e=c+e+l+O;break;case"=":e=c+O+e+l;break;case"^":e=O.slice(0,C=O.length>>1)+c+e+l+O.slice(C);break;default:e=O+c+e+l}return d(e)}return x=void 0===x?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),C.toString=function(){return e+""},C}return{format:y,formatPrefix:function(e,t){var n=y(((e=(0,i.Z)(e)).type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor((0,r.Z)(t)/3))),o=Math.pow(10,-a),s=h[8+a/3];return function(e){return n(o*e)+s}}}}l=v({thousands:",",grouping:[3],currency:["$",""]}),f=l.format,d=l.formatPrefix},54751:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3469);function i(e){return(e=(0,r.V)(Math.abs(e)))?e[1]:NaN}},3469:function(e,t,n){"use strict";function r(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function i(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}n.d(t,{V:function(){return i},Z:function(){return r}})},74111:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i(e){if(!(t=r.exec(e)))throw new Error("invalid format: "+e);var t;return new a({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function a(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}i.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},20654:function(e,t){!function(e){"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?r(Object(i),!0).forEach((function(n){t(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function u(e,t){var n=[],r=[];function i(e,t){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var a=Array(e.length-1),o=0;o<a.length;o++)0===o&&n.push(e[0]),o===a.length-1&&r.push(e[o+1]),a[o]=[(1-t)*e[o][0]+t*e[o+1][0],(1-t)*e[o][1]+t*e[o+1][1]];i(a,t)}}return e.length&&i(e,t),{left:n,right:r.reverse()}}function c(e){var t={};return 4===e.length&&(t.x2=e[2][0],t.y2=e[2][1]),e.length>=3&&(t.x1=e[1][0],t.y1=e[1][1]),t.x=e[e.length-1][0],t.y=e[e.length-1][1],4===e.length?t.type="C":3===e.length?t.type="Q":t.type="L",t}function l(e,t){for(var n=[],r=e,i=1/(t=t||2),a=0;a<t-1;a++){var o=u(r,i/(1-i*a));n.push(o.left),r=o.right}return n.push(r),n}function f(e,t,n){var r=[[e.x,e.y]];return null!=t.x1&&r.push([t.x1,t.y1]),null!=t.x2&&r.push([t.x2,t.y2]),r.push([t.x,t.y]),l(r,n).map(c)}var d=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,p={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};function h(e,t){for(var n=Array(e),r=0;r<e;r++)n[r]=t;return n}function v(e){return"".concat(e.type).concat(p[e.type].map((function(t){return e[t]})).join(","))}function m(e,t){var n={x1:"x",y1:"y",x2:"x",y2:"y"},r=["xAxisRotation","largeArcFlag","sweepFlag"];if(e.type!==t.type&&"M"!==t.type.toUpperCase()){var i={};Object.keys(t).forEach((function(a){var o=t[a],s=e[a];void 0===s&&(r.includes(a)?s=o:(void 0===s&&n[a]&&(s=e[n[a]]),void 0===s&&(s=0))),i[a]=s})),i.type=t.type,e=i}return e}function g(e,t,r){var i=[];if("L"===t.type||"Q"===t.type||"C"===t.type)i=i.concat(f(e,t,r));else{var a=n({},e);"M"===a.type&&(a.type="L"),(i=i.concat(h(r-1).map((function(){return a})))).push(t)}return i}function y(e,t,r){var i=e.length-1,a=t.length-1,o=i/a,s=h(a).reduce((function(t,n,i){var a=Math.floor(o*i);if(r&&a<e.length-1&&r(e[a],e[a+1])){var s=o*i%1<.5;t[a]&&(s?a>0?a-=1:a<e.length-1&&(a+=1):a<e.length-1?a+=1:a>0&&(a-=1))}return t[a]=(t[a]||0)+1,t}),[]).reduce((function(t,r,i){if(i===e.length-1){var a=h(r,n({},e[e.length-1]));return"M"===a[0].type&&a.forEach((function(e){e.type="L"})),t.concat(a)}return t.concat(g(e[i],e[i+1],r))}),[]);return s.unshift(e[0]),s}function b(e){for(var t,n,r=(e||"").match(d)||[],i=[],a=0;a<r.length;++a)if(t=p[r[a]]){n={type:r[a]};for(var o=0;o<t.length;++o)n[t[o]]=+r[a+o+1];a+=t.length,i.push(n)}return i}function x(e,t,n){var r=null==e?[]:e.slice(),a=null==t?[]:t.slice();if(!r.length&&!a.length)return function(){return[]};var o=(0===r.length||"Z"===r[r.length-1].type)&&(0===a.length||"Z"===a[a.length-1].type);r.length>0&&"Z"===r[r.length-1].type&&r.pop(),a.length>0&&"Z"===a[a.length-1].type&&a.pop(),r.length?a.length||a.push(r[0]):r.push(a[0]),0!==Math.abs(a.length-r.length)&&(a.length>r.length?r=y(r,a,n):a.length<r.length&&(a=y(a,r,n)));var u=(r=r.map((function(e,t){return m(e,a[t])}))).map((function(e){return i({},e)}));return o&&u.push({type:"Z"}),function(e){if(1===e)return null==t?[]:t;if(e>0)for(var n=0;n<u.length;++n){var i,o=r[n],c=a[n],l=u[n],f=s(p[l.type]);try{for(f.s();!(i=f.n()).done;){var d=i.value;l[d]=(1-e)*o[d]+e*c[d],"largeArcFlag"!==d&&"sweepFlag"!==d||(l[d]=Math.round(l[d]))}}catch(h){f.e(h)}finally{f.f()}}return u}}function k(e,t,n){var r=b(e),i=b(t);if(!r.length&&!i.length)return function(){return""};var a=x(r,i,n);return function(e){if(1===e)return null==t?"":t;var n,r="",i=s(a(e));try{for(i.s();!(n=i.n()).done;)r+=v(n.value)}catch(o){i.e(o)}finally{i.f()}return r}}Object.keys(p).forEach((function(e){p[e.toLowerCase()]=p[e]})),e.interpolatePath=k,e.interpolatePathCommands=x,e.pathCommandsFromString=b,Object.defineProperty(e,"__esModule",{value:!0})}(t)},99164:function(e,t,n){"use strict";n.d(t,{M:function(){return o},Z:function(){return a}});var r=n(27436),i=n(63722);function a(e,t){return((0,i.v)(t)?i.Z:o)(e,t)}function o(e,t){var n,i=t?t.length:0,a=e?Math.min(i,e.length):0,o=new Array(a),s=new Array(i);for(n=0;n<a;++n)o[n]=(0,r.Z)(e[n],t[n]);for(;n<i;++n)s[n]=t[n];return function(e){for(n=0;n<a;++n)s[n]=o[n](e);return s}}},99986:function(e,t,n){"use strict";function r(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function i(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[i],o=e[i+1],s=i>0?e[i-1]:2*a-o,u=i<t-1?e[i+2]:2*o-a;return r((n-i/t)*t,s,a,o,u)}}n.d(t,{Z:function(){return i},t:function(){return r}})},32313:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(99986);function i(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),a=e[(i+t-1)%t],o=e[i%t],s=e[(i+1)%t],u=e[(i+2)%t];return(0,r.t)((n-i/t)*t,a,o,s,u)}}},29412:function(e,t,n){"use strict";n.d(t,{ZP:function(){return s},wx:function(){return a},yi:function(){return o}});var r=n(1453);function i(e,t){return function(n){return e+n*t}}function a(e,t){var n=t-e;return n?i(e,n>180||n<-180?n-360*Math.round(n/360):n):(0,r.Z)(isNaN(e)?t:e)}function o(e){return 1===(e=+e)?s:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):(0,r.Z)(isNaN(t)?n:t)}}function s(e,t){var n=t-e;return n?i(e,n):(0,r.Z)(isNaN(e)?t:e)}},1453:function(e,t,n){"use strict";function r(e){return function(){return e}}n.d(t,{Z:function(){return r}})},92716:function(e,t,n){"use strict";n.d(t,{B:function(){return x},Z:function(){return b}});var r=n(38814),i=n(80419),a=n(31233),o=-.14861,s=1.78277,u=-.29227,c=-.90649,l=1.97294,f=l*c,d=l*s,p=s*u-c*o;function h(e){if(e instanceof m)return new m(e.h,e.s,e.l,e.opacity);e instanceof i.Ss||(e=(0,i.SU)(e));var t=e.r/255,n=e.g/255,r=e.b/255,o=(p*r+f*t-d*n)/(p+f-d),s=r-o,h=(l*(n-o)-u*s)/c,v=Math.sqrt(h*h+s*s)/(l*o*(1-o)),g=v?Math.atan2(h,s)*a.B-120:NaN;return new m(g<0?g+360:g,v,o,e.opacity)}function v(e,t,n,r){return 1===arguments.length?h(e):new m(e,t,n,null==r?1:r)}function m(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}(0,r.Z)(m,v,(0,r.l)(i.Il,{brighter:function(e){return e=null==e?i.J5:Math.pow(i.J5,e),new m(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?i.xV:Math.pow(i.xV,e),new m(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*a.V,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),f=Math.sin(e);return new i.Ss(255*(t+n*(o*r+s*f)),255*(t+n*(u*r+c*f)),255*(t+n*(l*r)),this.opacity)}}));var g=n(29412);function y(e){return function t(n){function r(t,r){var i=e((t=v(t)).h,(r=v(r)).h),a=(0,g.ZP)(t.s,r.s),o=(0,g.ZP)(t.l,r.l),s=(0,g.ZP)(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=o(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}var b=y(g.wx),x=y(g.ZP)},50108:function(e,t,n){"use strict";function r(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}n.d(t,{Z:function(){return r}})},10035:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(73352),i=n(29412);function a(e){return function(t,n){var a=e((t=(0,r.Uc)(t)).h,(n=(0,r.Uc)(n)).h),o=(0,i.ZP)(t.c,n.c),s=(0,i.ZP)(t.l,n.l),u=(0,i.ZP)(t.opacity,n.opacity);return function(e){return t.h=a(e),t.c=o(e),t.l=s(e),t.opacity=u(e),t+""}}}t.Z=a(i.wx);var o=a(i.ZP)},12061:function(e,t,n){"use strict";n.d(t,{q:function(){return o}});var r=n(80419),i=n(29412);function a(e){return function(t,n){var a=e((t=(0,r.Ym)(t)).h,(n=(0,r.Ym)(n)).h),o=(0,i.ZP)(t.s,n.s),s=(0,i.ZP)(t.l,n.l),u=(0,i.ZP)(t.opacity,n.opacity);return function(e){return t.h=a(e),t.s=o(e),t.l=s(e),t.opacity=u(e),t+""}}}t.Z=a(i.wx);var o=a(i.ZP)},57670:function(e,t,n){"use strict";n.r(t),n.d(t,{interpolate:function(){return r.Z},interpolateArray:function(){return i.Z},interpolateBasis:function(){return a.Z},interpolateBasisClosed:function(){return o.Z},interpolateCubehelix:function(){return P.Z},interpolateCubehelixLong:function(){return P.B},interpolateDate:function(){return s.Z},interpolateDiscrete:function(){return u},interpolateHcl:function(){return N.Z},interpolateHclLong:function(){return N.b},interpolateHsl:function(){return I.Z},interpolateHslLong:function(){return I.q},interpolateHue:function(){return l},interpolateLab:function(){return R.Z},interpolateNumber:function(){return v.Z},interpolateNumberArray:function(){return m.Z},interpolateObject:function(){return g.Z},interpolateRgb:function(){return A.ZP},interpolateRgbBasis:function(){return A.hD},interpolateRgbBasisClosed:function(){return A.YD},interpolateRound:function(){return y.Z},interpolateString:function(){return b.Z},interpolateTransformCss:function(){return S},interpolateTransformSvg:function(){return T},interpolateZoom:function(){return O},piecewise:function(){return M.Z},quantize:function(){return D}});var r=n(27436),i=n(99164),a=n(99986),o=n(32313),s=n(50108);function u(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var c=n(29412);function l(e,t){var n=(0,c.wx)(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}}var f,d,p,h,v=n(58765),m=n(63722),g=n(36261),y=n(66058),b=n(30514),x=180/Math.PI,k={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function w(e,t,n,r,i,a){var o,s,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*x,skewX:Math.atan(u)*x,scaleX:o,scaleY:s}}function _(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var s=[],u=[];return a=e(a),o=e(o),function(e,r,i,a,o,s){if(e!==i||r!==a){var u=o.push("translate(",null,t,null,n);s.push({i:u-4,x:(0,v.Z)(e,i)},{i:u-2,x:(0,v.Z)(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,u),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:(0,v.Z)(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,s,u),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:(0,v.Z)(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,s,u),function(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:(0,v.Z)(e,n)},{i:s-2,x:(0,v.Z)(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,u),a=o=null,function(e){for(var t,n=-1,r=u.length;++n<r;)s[(t=u[n]).i]=t.x(e);return s.join("")}}}var S=_((function(e){return"none"===e?k:(f||(f=document.createElement("DIV"),d=document.documentElement,p=document.defaultView),f.style.transform=e,e=p.getComputedStyle(d.appendChild(f),null).getPropertyValue("transform"),d.removeChild(f),w(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),T=_((function(e){return null==e?k:(h||(h=document.createElementNS("http://www.w3.org/2000/svg","g")),h.setAttribute("transform",e),(e=h.transform.baseVal.consolidate())?w((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):k)}),", ",")",")"),E=Math.SQRT2;function C(e){return((e=Math.exp(e))+1/e)/2}function O(e,t){var n,r,i=e[0],a=e[1],o=e[2],s=t[0],u=t[1],c=t[2],l=s-i,f=u-a,d=l*l+f*f;if(d<1e-12)r=Math.log(c/o)/E,n=function(e){return[i+e*l,a+e*f,o*Math.exp(E*e*r)]};else{var p=Math.sqrt(d),h=(c*c-o*o+4*d)/(2*o*2*p),v=(c*c-o*o-4*d)/(2*c*2*p),m=Math.log(Math.sqrt(h*h+1)-h),g=Math.log(Math.sqrt(v*v+1)-v);r=(g-m)/E,n=function(e){var t,n=e*r,s=C(m),u=o/(2*p)*(s*(t=E*n+m,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(m));return[i+u*l,a+u*f,o*s/C(E*n+m)]}}return n.duration=1e3*r,n}var A=n(86211),I=n(12061),R=n(26074),N=n(10035),P=n(92716),M=n(59364);function D(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}},26074:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(73352),i=n(29412);function a(e,t){var n=(0,i.ZP)((e=(0,r.ZP)(e)).l,(t=(0,r.ZP)(t)).l),a=(0,i.ZP)(e.a,t.a),o=(0,i.ZP)(e.b,t.b),s=(0,i.ZP)(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=a(t),e.b=o(t),e.opacity=s(t),e+""}}},58765:function(e,t,n){"use strict";function r(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}n.d(t,{Z:function(){return r}})},63722:function(e,t,n){"use strict";function r(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function i(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}n.d(t,{Z:function(){return r},v:function(){return i}})},36261:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(27436);function i(e,t){var n,i={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?i[n]=(0,r.Z)(e[n],t[n]):a[n]=t[n];return function(e){for(n in i)a[n]=i[n](e);return a}}},59364:function(e,t,n){"use strict";function r(e,t){for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}n.d(t,{Z:function(){return r}})},86211:function(e,t,n){"use strict";n.d(t,{YD:function(){return c},hD:function(){return u}});var r=n(80419),i=n(99986),a=n(32313),o=n(29412);function s(e){return function(t){var n,i,a=t.length,o=new Array(a),s=new Array(a),u=new Array(a);for(n=0;n<a;++n)i=(0,r.B8)(t[n]),o[n]=i.r||0,s[n]=i.g||0,u[n]=i.b||0;return o=e(o),s=e(s),u=e(u),i.opacity=1,function(e){return i.r=o(e),i.g=s(e),i.b=u(e),i+""}}}t.ZP=function e(t){var n=(0,o.yi)(t);function i(e,t){var i=n((e=(0,r.B8)(e)).r,(t=(0,r.B8)(t)).r),a=n(e.g,t.g),s=n(e.b,t.b),u=(0,o.ZP)(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=a(t),e.b=s(t),e.opacity=u(t),e+""}}return i.gamma=e,i}(1);var u=s(i.Z),c=s(a.Z)},66058:function(e,t,n){"use strict";function r(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}n.d(t,{Z:function(){return r}})},30514:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(58765),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a=new RegExp(i.source,"g");function o(e,t){var n,o,s,u=i.lastIndex=a.lastIndex=0,c=-1,l=[],f=[];for(e+="",t+="";(n=i.exec(e))&&(o=a.exec(t));)(s=o.index)>u&&(s=t.slice(u,s),l[c]?l[c]+=s:l[++c]=s),(n=n[0])===(o=o[0])?l[c]?l[c]+=o:l[++c]=o:(l[++c]=null,f.push({i:c,x:(0,r.Z)(n,o)})),u=a.lastIndex;return u<t.length&&(s=t.slice(u),l[c]?l[c]+=s:l[++c]=s),l.length<2?f[0]?function(e){return function(t){return e(t)+""}}(f[0].x):function(e){return function(){return e}}(t):(t=f.length,function(e){for(var n,r=0;r<t;++r)l[(n=f[r]).i]=n.x(e);return l.join("")})}},27436:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(80419),i=n(86211),a=n(99164),o=n(50108),s=n(58765),u=n(36261),c=n(30514),l=n(1453),f=n(63722);function d(e,t){var n,d=typeof t;return null==t||"boolean"===d?(0,l.Z)(t):("number"===d?s.Z:"string"===d?(n=(0,r.ZP)(t))?(t=n,i.ZP):c.Z:t instanceof r.ZP?i.ZP:t instanceof Date?o.Z:(0,f.v)(t)?f.Z:Array.isArray(t)?a.M:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?u.Z:s.Z)(e,t)}},73339:function(e,t){"use strict";var n=Math.PI,r=2*n,i=1e-6,a=r-i;function o(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function s(){return new o}o.prototype=s.prototype={constructor:o,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,t,r,a,o){e=+e,t=+t,r=+r,a=+a,o=+o;var s=this._x1,u=this._y1,c=r-e,l=a-t,f=s-e,d=u-t,p=f*f+d*d;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(p>i)if(Math.abs(d*c-l*f)>i&&o){var h=r-s,v=a-u,m=c*c+l*l,g=h*h+v*v,y=Math.sqrt(m),b=Math.sqrt(p),x=o*Math.tan((n-Math.acos((m+p-g)/(2*y*b)))/2),k=x/b,w=x/y;Math.abs(k-1)>i&&(this._+="L"+(e+k*f)+","+(t+k*d)),this._+="A"+o+","+o+",0,0,"+ +(d*h>f*v)+","+(this._x1=e+w*c)+","+(this._y1=t+w*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,o,s,u,c){e=+e,t=+t,c=!!c;var l=(o=+o)*Math.cos(s),f=o*Math.sin(s),d=e+l,p=t+f,h=1^c,v=c?s-u:u-s;if(o<0)throw new Error("negative radius: "+o);null===this._x1?this._+="M"+d+","+p:(Math.abs(this._x1-d)>i||Math.abs(this._y1-p)>i)&&(this._+="L"+d+","+p),o&&(v<0&&(v=v%r+r),v>a?this._+="A"+o+","+o+",0,1,"+h+","+(e-l)+","+(t-f)+"A"+o+","+o+",0,1,"+h+","+(this._x1=d)+","+(this._y1=p):v>i&&(this._+="A"+o+","+o+",0,"+ +(v>=n)+","+h+","+(this._x1=e+o*Math.cos(u))+","+(this._y1=t+o*Math.sin(u))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},t.Z=s},87570:function(e,t,n){"use strict";n.d(t,{Z:function(){return s},x:function(){return c}});var r=n(29439),i=n(41539),a=n(37924),o=n(51354);function s(){var e,t,n=(0,o.Z)().unknown(void 0),u=n.domain,c=n.range,l=0,f=1,d=!1,p=0,h=0,v=.5;function m(){var n=u().length,r=f<l,a=r?f:l,o=r?l:f;e=(o-a)/Math.max(1,n-p+2*h),d&&(e=Math.floor(e)),a+=(o-a-e*(n-p))*v,t=e*(1-p),d&&(a=Math.round(a),t=Math.round(t));var s=(0,i.Z)(n).map((function(t){return a+e*t}));return c(r?s.reverse():s)}return delete n.unknown,n.domain=function(e){return arguments.length?(u(e),m()):u()},n.range=function(e){var t;return arguments.length?(t=(0,r.Z)(e,2),l=t[0],f=t[1],l=+l,f=+f,m()):[l,f]},n.rangeRound=function(e){var t;return t=(0,r.Z)(e,2),l=t[0],f=t[1],l=+l,f=+f,d=!0,m()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(d=!!e,m()):d},n.padding=function(e){return arguments.length?(p=Math.min(1,h=+e),m()):p},n.paddingInner=function(e){return arguments.length?(p=Math.min(1,e),m()):p},n.paddingOuter=function(e){return arguments.length?(h=+e,m()):h},n.align=function(e){return arguments.length?(v=Math.max(0,Math.min(1,e)),m()):v},n.copy=function(){return s(u(),[l,f]).round(d).paddingInner(p).paddingOuter(h).align(v)},a.o.apply(m(),arguments)}function u(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return u(t())},e}function c(){return u(s.apply(null,arguments).paddingInner(1))}},76423:function(e,t,n){"use strict";n.d(t,{JG:function(){return p},ZP:function(){return v},yR:function(){return c},l4:function(){return h}});var r=n(84181),i=n(27436),a=n(58765),o=n(66058);var s=n(94696),u=[0,1];function c(e){return e}function l(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function f(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=l(i,r),a=n(o,a)):(r=l(r,i),a=n(a,o)),function(e){return a(r(e))}}function d(e,t,n){var i=Math.min(e.length,t.length)-1,a=new Array(i),o=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)a[s]=l(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(t){var n=(0,r.ZP)(e,t,1,i)-1;return o[n](a[n](t))}}function p(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function h(){var e,t,n,r,l,p,h=u,v=u,m=i.Z,g=c;function y(){var e=Math.min(h.length,v.length);return g!==c&&(g=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(h[0],h[e-1])),r=e>2?d:f,l=p=null,b}function b(t){return null==t||isNaN(t=+t)?n:(l||(l=r(h.map(e),v,m)))(e(g(t)))}return b.invert=function(n){return g(t((p||(p=r(v,h.map(e),a.Z)))(n)))},b.domain=function(e){return arguments.length?(h=Array.from(e,s.Z),y()):h.slice()},b.range=function(e){return arguments.length?(v=Array.from(e),y()):v.slice()},b.rangeRound=function(e){return v=Array.from(e),m=o.Z,y()},b.clamp=function(e){return arguments.length?(g=!!e||c,y()):g!==c},b.interpolate=function(e){return arguments.length?(m=e,y()):m},b.unknown=function(e){return arguments.length?(n=e,b):n},function(n,r){return e=n,t=r,y()}}function v(){return h()(c,c)}},44384:function(e,t,n){"use strict";n.r(t),n.d(t,{scaleBand:function(){return r.Z},scaleDiverging:function(){return L},scaleDivergingLog:function(){return j},scaleDivergingPow:function(){return Z},scaleDivergingSqrt:function(){return B},scaleDivergingSymlog:function(){return F},scaleIdentity:function(){return o},scaleImplicit:function(){return c.O},scaleLinear:function(){return i.Z},scaleLog:function(){return s.Z},scaleOrdinal:function(){return c.Z},scalePoint:function(){return r.x},scalePow:function(){return l.ZP},scaleQuantile:function(){return d.Z},scaleQuantize:function(){return p.Z},scaleRadial:function(){return f.Z},scaleSequential:function(){return S},scaleSequentialLog:function(){return T},scaleSequentialPow:function(){return C},scaleSequentialQuantile:function(){return P},scaleSequentialSqrt:function(){return O},scaleSequentialSymlog:function(){return E},scaleSqrt:function(){return l._b},scaleSymlog:function(){return u.Z},scaleThreshold:function(){return h.Z},scaleTime:function(){return v.Z},scaleUtc:function(){return m.Z},tickFormat:function(){return U.Z}});var r=n(87570),i=n(89737),a=n(94696);function o(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,a.Z),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return o(e).unknown(t)},e=arguments.length?Array.from(e,a.Z):[0,1],(0,i.Q)(n)}var s=n(47659),u=n(4310),c=n(51354),l=n(23147),f=n(78179),d=n(63688),p=n(1267),h=n(77419),v=n(96722),m=n(17322),g=n(29439),y=n(27436),b=n(66058),x=n(76423),k=n(37924);function w(){var e,t,n,r,i,a=0,o=1,s=x.yR,u=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,u?Math.max(0,Math.min(1,t)):t))}function l(e){return function(t){var n,r,i;return arguments.length?(r=(n=(0,g.Z)(t,2))[0],i=n[1],s=e(r,i),c):[s(0),s(1)]}}return c.domain=function(i){var s;return arguments.length?(s=(0,g.Z)(i,2),a=s[0],o=s[1],e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(u=!!e,c):u},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=l(y.Z),c.rangeRound=l(b.Z),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),c}}function _(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function S(){var e=(0,i.Q)(w()(x.yR));return e.copy=function(){return _(e,S())},k.O.apply(e,arguments)}function T(){var e=(0,s.Q)(w()).domain([1,10]);return e.copy=function(){return _(e,T()).base(e.base())},k.O.apply(e,arguments)}function E(){var e=(0,u.P)(w());return e.copy=function(){return _(e,E()).constant(e.constant())},k.O.apply(e,arguments)}function C(){var e=(0,l.Hh)(w());return e.copy=function(){return _(e,C()).exponent(e.exponent())},k.O.apply(e,arguments)}function O(){return C.apply(null,arguments).exponent(.5)}var A=n(37762),I=n(84181),R=n(65403),N=n(1732);function P(){var e=[],t=x.yR;function n(n){if(null!=n&&!isNaN(n=+n))return t(((0,I.ZP)(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];var r,i=(0,A.Z)(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;null==a||isNaN(a=+a)||e.push(a)}}catch(o){i.e(o)}finally{i.f()}return e.sort(R.Z),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((function(n,r){return t(r/(e.length-1))}))},n.quantiles=function(t){return Array.from({length:t+1},(function(n,r){return(0,N.Z)(e,r/t)}))},n.copy=function(){return P(t).domain(e)},k.O.apply(n,arguments)}var M=n(59364);function D(){var e,t,n,r,i,a,o,s=0,u=.5,c=1,l=1,f=x.yR,d=!1;function p(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(l*e<l*t?r:i),f(d?Math.max(0,Math.min(1,e)):e))}function h(e){return function(t){var n,r,i,a;return arguments.length?(r=(n=(0,g.Z)(t,3))[0],i=n[1],a=n[2],f=(0,M.Z)(e,[r,i,a]),p):[f(0),f(.5),f(1)]}}return p.domain=function(o){var f;return arguments.length?(f=(0,g.Z)(o,3),s=f[0],u=f[1],c=f[2],e=a(s=+s),t=a(u=+u),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,p):[s,u,c]},p.clamp=function(e){return arguments.length?(d=!!e,p):d},p.interpolator=function(e){return arguments.length?(f=e,p):f},p.range=h(y.Z),p.rangeRound=h(b.Z),p.unknown=function(e){return arguments.length?(o=e,p):o},function(o){return a=o,e=o(s),t=o(u),n=o(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,p}}function L(){var e=(0,i.Q)(D()(x.yR));return e.copy=function(){return _(e,L())},k.O.apply(e,arguments)}function j(){var e=(0,s.Q)(D()).domain([.1,1,10]);return e.copy=function(){return _(e,j()).base(e.base())},k.O.apply(e,arguments)}function F(){var e=(0,u.P)(D());return e.copy=function(){return _(e,F()).constant(e.constant())},k.O.apply(e,arguments)}function Z(){var e=(0,l.Hh)(D());return e.copy=function(){return _(e,Z()).exponent(e.exponent())},k.O.apply(e,arguments)}function B(){return Z.apply(null,arguments).exponent(.5)}var U=n(92172)},37924:function(e,t,n){"use strict";function r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function i(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}n.d(t,{O:function(){return i},o:function(){return r}})},89737:function(e,t,n){"use strict";n.d(t,{Q:function(){return s},Z:function(){return u}});var r=n(99571),i=n(76423),a=n(37924),o=n(92172);function s(e){var t=e.domain;return e.ticks=function(e){var n=t();return(0,r.ZP)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return(0,o.Z)(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,a,o=t(),s=0,u=o.length-1,c=o[s],l=o[u],f=10;for(l<c&&(a=c,c=l,l=a,a=s,s=u,u=a);f-- >0;){if((a=(0,r.G9)(c,l,n))===i)return o[s]=c,o[u]=l,t(o);if(a>0)c=Math.floor(c/a)*a,l=Math.ceil(l/a)*a;else{if(!(a<0))break;c=Math.ceil(c*a)/a,l=Math.floor(l*a)/a}i=a}return e},e}function u(){var e=(0,i.ZP)();return e.copy=function(){return(0,i.JG)(e,u())},a.o.apply(e,arguments),s(e)}},47659:function(e,t,n){"use strict";n.d(t,{Q:function(){return h},Z:function(){return v}});var r=n(99571),i=n(57027),a=n(85897),o=n(76423),s=n(37924);function u(e){return Math.log(e)}function c(e){return Math.exp(e)}function l(e){return-Math.log(-e)}function f(e){return-Math.exp(-e)}function d(e){return isFinite(e)?+("1e"+e):e<0?0:e}function p(e){return function(t){return-e(-t)}}function h(e){var t,n,o=e(u,c),s=o.domain,h=10;function v(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(h),n=function(e){return 10===e?d:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(h),s()[0]<0?(t=p(t),n=p(n),e(l,f)):e(u,c),o}return o.base=function(e){return arguments.length?(h=+e,v()):h},o.domain=function(e){return arguments.length?(s(e),v()):s()},o.ticks=function(e){var i,a=s(),o=a[0],u=a[a.length-1];(i=u<o)&&(d=o,o=u,u=d);var c,l,f,d=t(o),p=t(u),v=null==e?10:+e,m=[];if(!(h%1)&&p-d<v){if(d=Math.floor(d),p=Math.ceil(p),o>0){for(;d<=p;++d)for(l=1,c=n(d);l<h;++l)if(!((f=c*l)<o)){if(f>u)break;m.push(f)}}else for(;d<=p;++d)for(l=h-1,c=n(d);l>=1;--l)if(!((f=c*l)<o)){if(f>u)break;m.push(f)}2*m.length<v&&(m=(0,r.ZP)(o,u,v))}else m=(0,r.ZP)(d,p,Math.min(p-d,v)).map(n);return i?m.reverse():m},o.tickFormat=function(e,r){if(null==r&&(r=10===h?".0e":","),"function"!==typeof r&&(r=(0,i.WU)(r)),e===1/0)return r;null==e&&(e=10);var a=Math.max(1,h*e/o.ticks().length);return function(e){var i=e/n(Math.round(t(e)));return i*h<h-.5&&(i*=h),i<=a?r(e):""}},o.nice=function(){return s((0,a.Z)(s(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},o}function v(){var e=h((0,o.l4)()).domain([1,10]);return e.copy=function(){return(0,o.JG)(e,v()).base(e.base())},s.o.apply(e,arguments),e}},85897:function(e,t,n){"use strict";function r(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}n.d(t,{Z:function(){return r}})},94696:function(e,t,n){"use strict";function r(e){return+e}n.d(t,{Z:function(){return r}})},51354:function(e,t,n){"use strict";n.d(t,{O:function(){return a},Z:function(){return o}});var r=n(37762),i=n(37924),a=Symbol("implicit");function o(){var e=new Map,t=[],n=[],s=a;function u(r){var i=r+"",o=e.get(i);if(!o){if(s!==a)return s;e.set(i,o=t.push(r))}return n[(o-1)%n.length]}return u.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var i,a=(0,r.Z)(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o+"";e.has(s)||e.set(s,t.push(o))}}catch(c){a.e(c)}finally{a.f()}return u},u.range=function(e){return arguments.length?(n=Array.from(e),u):n.slice()},u.unknown=function(e){return arguments.length?(s=e,u):s},u.copy=function(){return o(t,n).unknown(s)},i.o.apply(u,arguments),u}},23147:function(e,t,n){"use strict";n.d(t,{Hh:function(){return c},ZP:function(){return l},_b:function(){return f}});var r=n(89737),i=n(76423),a=n(37924);function o(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function s(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function u(e){return e<0?-e*e:e*e}function c(e){var t=e(i.yR,i.yR),n=1;function a(){return 1===n?e(i.yR,i.yR):.5===n?e(s,u):e(o(n),o(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,a()):n},(0,r.Q)(t)}function l(){var e=c((0,i.l4)());return e.copy=function(){return(0,i.JG)(e,l()).exponent(e.exponent())},a.o.apply(e,arguments),e}function f(){return l.apply(null,arguments).exponent(.5)}},63688:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(37762),i=n(1732),a=n(84181),o=n(65403),s=n(37924);function u(){var e,t=[],n=[],c=[];function l(){var e=0,r=Math.max(1,n.length);for(c=new Array(r-1);++e<r;)c[e-1]=(0,i.s)(t,e/r);return f}function f(t){return null==t||isNaN(t=+t)?e:n[(0,a.ZP)(c,t)]}return f.invertExtent=function(e){var r=n.indexOf(e);return r<0?[NaN,NaN]:[r>0?c[r-1]:t[0],r<c.length?c[r]:t[t.length-1]]},f.domain=function(e){if(!arguments.length)return t.slice();t=[];var n,i=(0,r.Z)(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;null==a||isNaN(a=+a)||t.push(a)}}catch(s){i.e(s)}finally{i.f()}return t.sort(o.Z),l()},f.range=function(e){return arguments.length?(n=Array.from(e),l()):n.slice()},f.unknown=function(t){return arguments.length?(e=t,f):e},f.quantiles=function(){return c.slice()},f.copy=function(){return u().domain(t).range(n).unknown(e)},s.o.apply(f,arguments)}},1267:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(29439),i=n(84181),a=n(89737),o=n(37924);function s(){var e,t=0,n=1,u=1,c=[.5],l=[0,1];function f(t){return null!=t&&t<=t?l[(0,i.ZP)(c,t,0,u)]:e}function d(){var e=-1;for(c=new Array(u);++e<u;)c[e]=((e+1)*n-(e-u)*t)/(u+1);return f}return f.domain=function(e){var i;return arguments.length?(i=(0,r.Z)(e,2),t=i[0],n=i[1],t=+t,n=+n,d()):[t,n]},f.range=function(e){return arguments.length?(u=(l=Array.from(e)).length-1,d()):l.slice()},f.invertExtent=function(e){var r=l.indexOf(e);return r<0?[NaN,NaN]:r<1?[t,c[0]]:r>=u?[c[u-1],n]:[c[r-1],c[r]]},f.unknown=function(t){return arguments.length?(e=t,f):f},f.thresholds=function(){return c.slice()},f.copy=function(){return s().domain([t,n]).range(l).unknown(e)},o.o.apply((0,a.Q)(f),arguments)}},78179:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(76423),i=n(37924),a=n(89737),o=n(94696);function s(e){return Math.sign(e)*e*e}function u(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function c(){var e,t=(0,r.ZP)(),n=[0,1],l=!1;function f(n){var r=u(t(n));return isNaN(r)?e:l?Math.round(r):r}return f.invert=function(e){return t.invert(s(e))},f.domain=function(e){return arguments.length?(t.domain(e),f):t.domain()},f.range=function(e){return arguments.length?(t.range((n=Array.from(e,o.Z)).map(s)),f):n.slice()},f.rangeRound=function(e){return f.range(e).round(!0)},f.round=function(e){return arguments.length?(l=!!e,f):l},f.clamp=function(e){return arguments.length?(t.clamp(e),f):t.clamp()},f.unknown=function(t){return arguments.length?(e=t,f):e},f.copy=function(){return c(t.domain(),n).round(l).clamp(t.clamp()).unknown(e)},i.o.apply(f,arguments),(0,a.Q)(f)}},4310:function(e,t,n){"use strict";n.d(t,{P:function(){return u},Z:function(){return c}});var r=n(89737),i=n(76423),a=n(37924);function o(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function s(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function u(e){var t=1,n=e(o(t),s(t));return n.constant=function(n){return arguments.length?e(o(t=+n),s(t)):t},(0,r.Q)(n)}function c(){var e=u((0,i.l4)());return e.copy=function(){return(0,i.JG)(e,c()).constant(e.constant())},a.o.apply(e,arguments)}},77419:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(84181),i=n(37924);function a(){var e,t=[.5],n=[0,1],o=1;function s(i){return null!=i&&i<=i?n[(0,r.ZP)(t,i,0,o)]:e}return s.domain=function(e){return arguments.length?(t=Array.from(e),o=Math.min(t.length,n.length-1),s):t.slice()},s.range=function(e){return arguments.length?(n=Array.from(e),o=Math.min(t.length,n.length-1),s):n.slice()},s.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},s.unknown=function(t){return arguments.length?(e=t,s):e},s.copy=function(){return a().domain(t).range(n).unknown(e)},i.o.apply(s,arguments)}},92172:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(99571),i=n(74111),a=n(54751);var o=n(57027);function s(e,t,n,s){var u,c=(0,r.ly)(e,t,n);switch((s=(0,i.Z)(null==s?",f":s)).type){case"s":var l=Math.max(Math.abs(e),Math.abs(t));return null!=s.precision||isNaN(u=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,a.Z)(t)/3)))-(0,a.Z)(Math.abs(e)))}(c,l))||(s.precision=u),(0,o.jH)(s,l);case"":case"e":case"g":case"p":case"r":null!=s.precision||isNaN(u=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,(0,a.Z)(t)-(0,a.Z)(e))+1}(c,Math.max(Math.abs(e),Math.abs(t))))||(s.precision=u-("e"===s.type));break;case"f":case"%":null!=s.precision||isNaN(u=function(e){return Math.max(0,-(0,a.Z)(Math.abs(e)))}(c))||(s.precision=u-2*("%"===s.type))}return(0,o.WU)(s)}},96722:function(e,t,n){"use strict";n.d(t,{Y:function(){return g},Z:function(){return y}});var r=n(80783),i=n(36243),a=n(44870),o=n(6817),s=n(24527),u=n(37568),c=n(40020),l=n(4495),f=n(70985),d=n(76423),p=n(37924),h=n(85897);function v(e){return new Date(e)}function m(e){return e instanceof Date?+e:+new Date(+e)}function g(e,t,n,r,i,a,o,s,u,c){var l=(0,d.ZP)(),f=l.invert,p=l.domain,y=c(".%L"),b=c(":%S"),x=c("%I:%M"),k=c("%I %p"),w=c("%a %d"),_=c("%b %d"),S=c("%B"),T=c("%Y");function E(e){return(u(e)<e?y:s(e)<e?b:o(e)<e?x:a(e)<e?k:r(e)<e?i(e)<e?w:_:n(e)<e?S:T)(e)}return l.invert=function(e){return new Date(f(e))},l.domain=function(e){return arguments.length?p(Array.from(e,m)):p().map(v)},l.ticks=function(t){var n=p();return e(n[0],n[n.length-1],null==t?10:t)},l.tickFormat=function(e,t){return null==t?E:c(t)},l.nice=function(e){var n=p();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?p((0,h.Z)(n,e)):l},l.copy=function(){return(0,d.JG)(l,g(e,t,n,r,i,a,o,s,u,c))},l}function y(){return p.o.apply(g(r.jK,r._g,i.Z,a.Z,o.OM,s.Z,u.Z,c.Z,l.Z,f.i$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}},17322:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(80783),i=n(13608),a=n(86570),o=n(80438),s=n(7171),u=n(63854),c=n(632),l=n(4495),f=n(70985),d=n(96722),p=n(37924);function h(){return p.o.apply((0,d.Y)(r.WG,r.jo,i.Z,a.Z,o.Ox,s.Z,u.Z,c.Z,l.Z,f.g0).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}},21561:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(73339),i=n(76817),a=n(47226);function o(e){return e.innerRadius}function s(e){return e.outerRadius}function u(e){return e.startAngle}function c(e){return e.endAngle}function l(e){return e&&e.padAngle}function f(e,t,n,r,i,o,s,u){var c=n-e,l=r-t,f=s-i,d=u-o,p=d*c-f*l;if(!(p*p<a.Ho))return[e+(p=(f*(t-o)-d*(e-i))/p)*c,t+p*l]}function d(e,t,n,r,i,o,s){var u=e-n,c=t-r,l=(s?o:-o)/(0,a._b)(u*u+c*c),f=l*c,d=-l*u,p=e+f,h=t+d,v=n+f,m=r+d,g=(p+v)/2,y=(h+m)/2,b=v-p,x=m-h,k=b*b+x*x,w=i-o,_=p*m-v*h,S=(x<0?-1:1)*(0,a._b)((0,a.Fp)(0,w*w*k-_*_)),T=(_*x-b*S)/k,E=(-_*b-x*S)/k,C=(_*x+b*S)/k,O=(-_*b+x*S)/k,A=T-g,I=E-y,R=C-g,N=O-y;return A*A+I*I>R*R+N*N&&(T=C,E=O),{cx:T,cy:E,x01:-f,y01:-d,x11:T*(i/w-1),y11:E*(i/w-1)}}function p(){var e=o,t=s,n=(0,i.Z)(0),p=null,h=u,v=c,m=l,g=null;function y(){var i,o,s=+e.apply(this,arguments),u=+t.apply(this,arguments),c=h.apply(this,arguments)-a.ou,l=v.apply(this,arguments)-a.ou,y=(0,a.Wn)(l-c),b=l>c;if(g||(g=i=(0,r.Z)()),u<s&&(o=u,u=s,s=o),u>a.Ho)if(y>a.BZ-a.Ho)g.moveTo(u*(0,a.mC)(c),u*(0,a.O$)(c)),g.arc(0,0,u,c,l,!b),s>a.Ho&&(g.moveTo(s*(0,a.mC)(l),s*(0,a.O$)(l)),g.arc(0,0,s,l,c,b));else{var x,k,w=c,_=l,S=c,T=l,E=y,C=y,O=m.apply(this,arguments)/2,A=O>a.Ho&&(p?+p.apply(this,arguments):(0,a._b)(s*s+u*u)),I=(0,a.VV)((0,a.Wn)(u-s)/2,+n.apply(this,arguments)),R=I,N=I;if(A>a.Ho){var P=(0,a.ZR)(A/s*(0,a.O$)(O)),M=(0,a.ZR)(A/u*(0,a.O$)(O));(E-=2*P)>a.Ho?(S+=P*=b?1:-1,T-=P):(E=0,S=T=(c+l)/2),(C-=2*M)>a.Ho?(w+=M*=b?1:-1,_-=M):(C=0,w=_=(c+l)/2)}var D=u*(0,a.mC)(w),L=u*(0,a.O$)(w),j=s*(0,a.mC)(T),F=s*(0,a.O$)(T);if(I>a.Ho){var Z,B=u*(0,a.mC)(_),U=u*(0,a.O$)(_),V=s*(0,a.mC)(S),z=s*(0,a.O$)(S);if(y<a.pi&&(Z=f(D,L,V,z,B,U,j,F))){var W=D-Z[0],H=L-Z[1],G=B-Z[0],q=U-Z[1],K=1/(0,a.O$)((0,a.Kh)((W*G+H*q)/((0,a._b)(W*W+H*H)*(0,a._b)(G*G+q*q)))/2),Y=(0,a._b)(Z[0]*Z[0]+Z[1]*Z[1]);R=(0,a.VV)(I,(s-Y)/(K-1)),N=(0,a.VV)(I,(u-Y)/(K+1))}}C>a.Ho?N>a.Ho?(x=d(V,z,D,L,u,N,b),k=d(B,U,j,F,u,N,b),g.moveTo(x.cx+x.x01,x.cy+x.y01),N<I?g.arc(x.cx,x.cy,N,(0,a.fv)(x.y01,x.x01),(0,a.fv)(k.y01,k.x01),!b):(g.arc(x.cx,x.cy,N,(0,a.fv)(x.y01,x.x01),(0,a.fv)(x.y11,x.x11),!b),g.arc(0,0,u,(0,a.fv)(x.cy+x.y11,x.cx+x.x11),(0,a.fv)(k.cy+k.y11,k.cx+k.x11),!b),g.arc(k.cx,k.cy,N,(0,a.fv)(k.y11,k.x11),(0,a.fv)(k.y01,k.x01),!b))):(g.moveTo(D,L),g.arc(0,0,u,w,_,!b)):g.moveTo(D,L),s>a.Ho&&E>a.Ho?R>a.Ho?(x=d(j,F,B,U,s,-R,b),k=d(D,L,V,z,s,-R,b),g.lineTo(x.cx+x.x01,x.cy+x.y01),R<I?g.arc(x.cx,x.cy,R,(0,a.fv)(x.y01,x.x01),(0,a.fv)(k.y01,k.x01),!b):(g.arc(x.cx,x.cy,R,(0,a.fv)(x.y01,x.x01),(0,a.fv)(x.y11,x.x11),!b),g.arc(0,0,s,(0,a.fv)(x.cy+x.y11,x.cx+x.x11),(0,a.fv)(k.cy+k.y11,k.cx+k.x11),b),g.arc(k.cx,k.cy,R,(0,a.fv)(k.y11,k.x11),(0,a.fv)(k.y01,k.x01),!b))):g.arc(0,0,s,T,S,b):g.lineTo(j,F)}else g.moveTo(0,0);if(g.closePath(),i)return g=null,i+""||null}return y.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+h.apply(this,arguments)+ +v.apply(this,arguments))/2-a.pi/2;return[(0,a.mC)(r)*n,(0,a.O$)(r)*n]},y.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:(0,i.Z)(+t),y):e},y.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:(0,i.Z)(+e),y):t},y.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:(0,i.Z)(+e),y):n},y.padRadius=function(e){return arguments.length?(p=null==e?null:"function"===typeof e?e:(0,i.Z)(+e),y):p},y.startAngle=function(e){return arguments.length?(h="function"===typeof e?e:(0,i.Z)(+e),y):h},y.endAngle=function(e){return arguments.length?(v="function"===typeof e?e:(0,i.Z)(+e),y):v},y.padAngle=function(e){return arguments.length?(m="function"===typeof e?e:(0,i.Z)(+e),y):m},y.context=function(e){return arguments.length?(g=null==e?null:e,y):g},y}},85520:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(73339),i=n(76817),a=n(38146),o=n(86344),s=n(15402);function u(){var e=s.x,t=null,n=(0,i.Z)(0),u=s.y,c=(0,i.Z)(!0),l=null,f=a.Z,d=null;function p(i){var a,o,s,p,h,v=i.length,m=!1,g=new Array(v),y=new Array(v);for(null==l&&(d=f(h=(0,r.Z)())),a=0;a<=v;++a){if(!(a<v&&c(p=i[a],a,i))===m)if(m=!m)o=a,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),s=a-1;s>=o;--s)d.point(g[s],y[s]);d.lineEnd(),d.areaEnd()}m&&(g[a]=+e(p,a,i),y[a]=+n(p,a,i),d.point(t?+t(p,a,i):g[a],u?+u(p,a,i):y[a]))}if(h)return d=null,h+""||null}function h(){return(0,o.Z)().defined(c).curve(f).context(l)}return p.x=function(n){return arguments.length?(e="function"===typeof n?n:(0,i.Z)(+n),t=null,p):e},p.x0=function(t){return arguments.length?(e="function"===typeof t?t:(0,i.Z)(+t),p):e},p.x1=function(e){return arguments.length?(t=null==e?null:"function"===typeof e?e:(0,i.Z)(+e),p):t},p.y=function(e){return arguments.length?(n="function"===typeof e?e:(0,i.Z)(+e),u=null,p):n},p.y0=function(e){return arguments.length?(n="function"===typeof e?e:(0,i.Z)(+e),p):n},p.y1=function(e){return arguments.length?(u=null==e?null:"function"===typeof e?e:(0,i.Z)(+e),p):u},p.lineX0=p.lineY0=function(){return h().x(e).y(n)},p.lineY1=function(){return h().x(e).y(u)},p.lineX1=function(){return h().x(t).y(n)},p.defined=function(e){return arguments.length?(c="function"===typeof e?e:(0,i.Z)(!!e),p):c},p.curve=function(e){return arguments.length?(f=e,null!=l&&(d=f(l)),p):f},p.context=function(e){return arguments.length?(null==e?l=d=null:d=f(l=e),p):l},p}},5803:function(e,t,n){"use strict";n.d(t,{t:function(){return r}});var r=Array.prototype.slice},76817:function(e,t,n){"use strict";function r(e){return function(){return e}}n.d(t,{Z:function(){return r}})},76314:function(e,t,n){"use strict";function r(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function i(e){this._context=e}function a(e){return new i(e)}n.d(t,{ZP:function(){return a},fE:function(){return i},xm:function(){return r}}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:r(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:r(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},6066:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(42447),i=n(76314);function a(e){this._context=e}function o(e){return new a(e)}a.prototype={areaStart:r.Z,areaEnd:r.Z,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:(0,i.xm)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},54404:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(76314);function i(e){this._context=e}function a(e){return new i(e)}i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:(0,r.xm)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},4493:function(e,t,n){"use strict";var r=n(76314);function i(e,t){this._basis=new r.fE(e),this._beta=t}i.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],a=t[0],o=e[n]-i,s=t[n]-a,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(i+r*o),this._beta*t[u]+(1-this._beta)*(a+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}},t.Z=function e(t){function n(e){return 1===t?new r.fE(e):new i(e,t)}return n.beta=function(t){return e(+t)},n}(.85)},21804:function(e,t,n){"use strict";function r(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function i(e,t){this._context=e,this._k=(1-t)/6}n.d(t,{pC:function(){return i},xm:function(){return r}}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:r(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:r(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.ZP=function e(t){function n(e){return new i(e,t)}return n.tension=function(t){return e(+t)},n}(0)},43328:function(e,t,n){"use strict";n.d(t,{U:function(){return a}});var r=n(42447),i=n(21804);function a(e,t){this._context=e,this._k=(1-t)/6}a.prototype={areaStart:r.Z,areaEnd:r.Z,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:(0,i.xm)(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.Z=function e(t){function n(e){return new a(e,t)}return n.tension=function(t){return e(+t)},n}(0)},27273:function(e,t,n){"use strict";n.d(t,{T:function(){return i}});var r=n(21804);function i(e,t){this._context=e,this._k=(1-t)/6}i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:(0,r.xm)(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.Z=function e(t){function n(e){return new i(e,t)}return n.tension=function(t){return e(+t)},n}(0)},8147:function(e,t,n){"use strict";n.d(t,{x:function(){return a}});var r=n(47226),i=n(21804);function a(e,t,n){var i=e._x1,a=e._y1,o=e._x2,s=e._y2;if(e._l01_a>r.Ho){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,a=(a*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>r.Ho){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,f=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*l+e._x1*e._l23_2a-t*e._l12_2a)/f,s=(s*l+e._y1*e._l23_2a-n*e._l12_2a)/f}e._context.bezierCurveTo(i,a,o,s,e._x2,e._y2)}function o(e,t){this._context=e,this._alpha=t}o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:a(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.Z=function e(t){function n(e){return t?new o(e,t):new i.pC(e,0)}return n.alpha=function(t){return e(+t)},n}(.5)},6449:function(e,t,n){"use strict";var r=n(43328),i=n(42447),a=n(8147);function o(e,t){this._context=e,this._alpha=t}o.prototype={areaStart:i.Z,areaEnd:i.Z,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:(0,a.x)(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.Z=function e(t){function n(e){return t?new o(e,t):new r.U(e,0)}return n.alpha=function(t){return e(+t)},n}(.5)},92314:function(e,t,n){"use strict";var r=n(27273),i=n(8147);function a(e,t){this._context=e,this._alpha=t}a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:(0,i.x)(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.Z=function e(t){function n(e){return t?new a(e,t):new r.T(e,0)}return n.alpha=function(t){return e(+t)},n}(.5)},38146:function(e,t,n){"use strict";function r(e){this._context=e}function i(e){return new r(e)}n.d(t,{Z:function(){return i}}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}}},19199:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(42447);function i(e){this._context=e}function a(e){return new i(e)}i.prototype={areaStart:r.Z,areaEnd:r.Z,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}}},55856:function(e,t,n){"use strict";function r(e){return e<0?-1:1}function i(e,t,n){var i=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(i||a<0&&-0),s=(n-e._y1)/(a||i<0&&-0),u=(o*a+s*i)/(i+a);return(r(o)+r(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(u))||0}function a(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function o(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function s(e){this._context=e}function u(e){this._context=new c(e)}function c(e){this._context=e}function l(e){return new s(e)}function f(e){return new u(e)}n.d(t,{Z:function(){return l},s:function(){return f}}),s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o(this,this._t0,a(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,o(this,a(this,n=i(this,e,t)),n);break;default:o(this,this._t0,n=i(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(u.prototype=Object.create(s.prototype)).point=function(e,t){s.prototype.point.call(this,t,e)},c.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}}},41828:function(e,t,n){"use strict";function r(e){this._context=e}function i(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function a(e){return new r(e)}n.d(t,{Z:function(){return a}}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=i(e),a=i(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],a[0][o],r[1][o],a[1][o],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}}},89875:function(e,t,n){"use strict";n.d(t,{Z:function(){return a},j:function(){return r}});var r=a(n(38146).Z);function i(e){this._curve=e}function a(e){function t(t){return new i(e(t))}return t._curve=e,t}i.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}}},19943:function(e,t,n){"use strict";function r(e,t){this._context=e,this._t=t}function i(e){return new r(e,.5)}function a(e){return new r(e,0)}function o(e){return new r(e,1)}n.d(t,{RN:function(){return a},ZP:function(){return i},cD:function(){return o}}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}}},29100:function(e,t,n){"use strict";n.r(t),n.d(t,{arc:function(){return r.Z},area:function(){return i.Z},areaRadial:function(){return c},curveBasis:function(){return L.ZP},curveBasisClosed:function(){return M.Z},curveBasisOpen:function(){return D.Z},curveBundle:function(){return j.Z},curveCardinal:function(){return B.ZP},curveCardinalClosed:function(){return F.Z},curveCardinalOpen:function(){return Z.Z},curveCatmullRom:function(){return z.Z},curveCatmullRomClosed:function(){return U.Z},curveCatmullRomOpen:function(){return V.Z},curveLinear:function(){return H.Z},curveLinearClosed:function(){return W.Z},curveMonotoneX:function(){return G.Z},curveMonotoneY:function(){return G.s},curveNatural:function(){return q.Z},curveStep:function(){return K.ZP},curveStepAfter:function(){return K.cD},curveStepBefore:function(){return K.RN},line:function(){return a.Z},lineRadial:function(){return u.Z},linkHorizontal:function(){return f.h5},linkRadial:function(){return f.M4},linkVertical:function(){return f.rR},pie:function(){return o.Z},pointRadial:function(){return l.Z},radialArea:function(){return c},radialLine:function(){return u.Z},stack:function(){return Y.Z},stackOffsetDiverging:function(){return Q.Z},stackOffsetExpand:function(){return X.Z},stackOffsetNone:function(){return J.Z},stackOffsetSilhouette:function(){return $.Z},stackOffsetWiggle:function(){return ee.Z},stackOrderAppearance:function(){return te.Z},stackOrderAscending:function(){return ne.Z},stackOrderDescending:function(){return re.Z},stackOrderInsideOut:function(){return ie.Z},stackOrderNone:function(){return ae.Z},stackOrderReverse:function(){return oe.Z},symbol:function(){return P},symbolCircle:function(){return h},symbolCross:function(){return v},symbolDiamond:function(){return y},symbolSquare:function(){return _},symbolStar:function(){return w},symbolTriangle:function(){return T},symbolWye:function(){return I},symbols:function(){return N}});var r=n(21561),i=n(85520),a=n(86344),o=n(54321),s=n(89875),u=n(19509);function c(){var e=(0,i.Z)().curve(s.j),t=e.curve,n=e.lineX0,r=e.lineX1,a=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return(0,u.X)(n())},delete e.lineX0,e.lineEndAngle=function(){return(0,u.X)(r())},delete e.lineX1,e.lineInnerRadius=function(){return(0,u.X)(a())},delete e.lineY0,e.lineOuterRadius=function(){return(0,u.X)(o())},delete e.lineY1,e.curve=function(e){return arguments.length?t((0,s.Z)(e)):t()._curve},e}var l=n(84687),f=n(6274),d=n(73339),p=n(47226),h={draw:function(e,t){var n=Math.sqrt(t/p.pi);e.moveTo(n,0),e.arc(0,0,n,0,p.BZ)}},v={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},m=Math.sqrt(1/3),g=2*m,y={draw:function(e,t){var n=Math.sqrt(t/g),r=n*m;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},b=Math.sin(p.pi/10)/Math.sin(7*p.pi/10),x=Math.sin(p.BZ/10)*b,k=-Math.cos(p.BZ/10)*b,w={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=x*n,i=k*n;e.moveTo(0,-n),e.lineTo(r,i);for(var a=1;a<5;++a){var o=p.BZ*a/5,s=Math.cos(o),u=Math.sin(o);e.lineTo(u*n,-s*n),e.lineTo(s*r-u*i,u*r+s*i)}e.closePath()}},_={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},S=Math.sqrt(3),T={draw:function(e,t){var n=-Math.sqrt(t/(3*S));e.moveTo(0,2*n),e.lineTo(-S*n,-n),e.lineTo(S*n,-n),e.closePath()}},E=-.5,C=Math.sqrt(3)/2,O=1/Math.sqrt(12),A=3*(O/2+1),I={draw:function(e,t){var n=Math.sqrt(t/A),r=n/2,i=n*O,a=r,o=n*O+n,s=-a,u=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,u),e.lineTo(E*r-C*i,C*r+E*i),e.lineTo(E*a-C*o,C*a+E*o),e.lineTo(E*s-C*u,C*s+E*u),e.lineTo(E*r+C*i,E*i-C*r),e.lineTo(E*a+C*o,E*o-C*a),e.lineTo(E*s+C*u,E*u-C*s),e.closePath()}},R=n(76817),N=[h,v,y,_,w,T,I];function P(){var e=(0,R.Z)(h),t=(0,R.Z)(64),n=null;function r(){var r;if(n||(n=r=(0,d.Z)()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(t){return arguments.length?(e="function"===typeof t?t:(0,R.Z)(t),r):e},r.size=function(e){return arguments.length?(t="function"===typeof e?e:(0,R.Z)(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}var M=n(6066),D=n(54404),L=n(76314),j=n(4493),F=n(43328),Z=n(27273),B=n(21804),U=n(6449),V=n(92314),z=n(8147),W=n(19199),H=n(38146),G=n(55856),q=n(41828),K=n(19943),Y=n(3650),X=n(96720),Q=n(96557),J=n(50724),$=n(16126),ee=n(63852),te=n(97298),ne=n(39912),re=n(92889),ie=n(24362),ae=n(16542),oe=n(20659)},86344:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(73339),i=n(76817),a=n(38146),o=n(15402);function s(){var e=o.x,t=o.y,n=(0,i.Z)(!0),s=null,u=a.Z,c=null;function l(i){var a,o,l,f=i.length,d=!1;for(null==s&&(c=u(l=(0,r.Z)())),a=0;a<=f;++a)!(a<f&&n(o=i[a],a,i))===d&&((d=!d)?c.lineStart():c.lineEnd()),d&&c.point(+e(o,a,i),+t(o,a,i));if(l)return c=null,l+""||null}return l.x=function(t){return arguments.length?(e="function"===typeof t?t:(0,i.Z)(+t),l):e},l.y=function(e){return arguments.length?(t="function"===typeof e?e:(0,i.Z)(+e),l):t},l.defined=function(e){return arguments.length?(n="function"===typeof e?e:(0,i.Z)(!!e),l):n},l.curve=function(e){return arguments.length?(u=e,null!=s&&(c=u(s)),l):u},l.context=function(e){return arguments.length?(null==e?s=c=null:c=u(s=e),l):s},l}},19509:function(e,t,n){"use strict";n.d(t,{X:function(){return a},Z:function(){return o}});var r=n(89875),i=n(86344);function a(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t((0,r.Z)(e)):t()._curve},e}function o(){return a((0,i.Z)().curve(r.j))}},6274:function(e,t,n){"use strict";n.d(t,{M4:function(){return m},h5:function(){return h},rR:function(){return v}});var r=n(73339),i=n(5803),a=n(76817),o=n(15402),s=n(84687);function u(e){return e.source}function c(e){return e.target}function l(e){var t=u,n=c,s=o.x,l=o.y,f=null;function d(){var a,o=i.t.call(arguments),u=t.apply(this,o),c=n.apply(this,o);if(f||(f=a=(0,r.Z)()),e(f,+s.apply(this,(o[0]=u,o)),+l.apply(this,o),+s.apply(this,(o[0]=c,o)),+l.apply(this,o)),a)return f=null,a+""||null}return d.source=function(e){return arguments.length?(t=e,d):t},d.target=function(e){return arguments.length?(n=e,d):n},d.x=function(e){return arguments.length?(s="function"===typeof e?e:(0,a.Z)(+e),d):s},d.y=function(e){return arguments.length?(l="function"===typeof e?e:(0,a.Z)(+e),d):l},d.context=function(e){return arguments.length?(f=null==e?null:e,d):f},d}function f(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function d(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+i)/2,r,n,r,i)}function p(e,t,n,r,i){var a=(0,s.Z)(t,n),o=(0,s.Z)(t,n=(n+i)/2),u=(0,s.Z)(r,n),c=(0,s.Z)(r,i);e.moveTo(a[0],a[1]),e.bezierCurveTo(o[0],o[1],u[0],u[1],c[0],c[1])}function h(){return l(f)}function v(){return l(d)}function m(){var e=l(p);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}},47226:function(e,t,n){"use strict";n.d(t,{BZ:function(){return p},Fp:function(){return o},Ho:function(){return l},Kh:function(){return h},O$:function(){return u},VV:function(){return s},Wn:function(){return r},ZR:function(){return v},_b:function(){return c},fv:function(){return i},mC:function(){return a},ou:function(){return d},pi:function(){return f}});var r=Math.abs,i=Math.atan2,a=Math.cos,o=Math.max,s=Math.min,u=Math.sin,c=Math.sqrt,l=1e-12,f=Math.PI,d=f/2,p=2*f;function h(e){return e>1?0:e<-1?f:Math.acos(e)}function v(e){return e>=1?d:e<=-1?-d:Math.asin(e)}},42447:function(e,t,n){"use strict";function r(){}n.d(t,{Z:function(){return r}})},96557:function(e,t,n){"use strict";function r(e,t){if((s=e.length)>0)for(var n,r,i,a,o,s,u=0,c=e[t[0]].length;u<c;++u)for(a=o=0,n=0;n<s;++n)(i=(r=e[t[n]][u])[1]-r[0])>0?(r[0]=a,r[1]=a+=i):i<0?(r[1]=o,r[0]=o+=i):(r[0]=0,r[1]=i)}n.d(t,{Z:function(){return r}})},96720:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(50724);function i(e,t){if((i=e.length)>0){for(var n,i,a,o=0,s=e[0].length;o<s;++o){for(a=n=0;n<i;++n)a+=e[n][o][1]||0;if(a)for(n=0;n<i;++n)e[n][o][1]/=a}(0,r.Z)(e,t)}}},50724:function(e,t,n){"use strict";function r(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}n.d(t,{Z:function(){return r}})},16126:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(50724);function i(e,t){if((n=e.length)>0){for(var n,i=0,a=e[t[0]],o=a.length;i<o;++i){for(var s=0,u=0;s<n;++s)u+=e[s][i][1]||0;a[i][1]+=a[i][0]=-u/2}(0,r.Z)(e,t)}}},63852:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(50724);function i(e,t){if((a=e.length)>0&&(i=(n=e[t[0]]).length)>0){for(var n,i,a,o=0,s=1;s<i;++s){for(var u=0,c=0,l=0;u<a;++u){for(var f=e[t[u]],d=f[s][1]||0,p=(d-(f[s-1][1]||0))/2,h=0;h<u;++h){var v=e[t[h]];p+=(v[s][1]||0)-(v[s-1][1]||0)}c+=d,l+=p*d}n[s-1][1]+=n[s-1][0]=o,c&&(o-=l/c)}n[s-1][1]+=n[s-1][0]=o,(0,r.Z)(e,t)}}},97298:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(16542);function i(e){var t=e.map(a);return(0,r.Z)(e).sort((function(e,n){return t[e]-t[n]}))}function a(e){for(var t,n=-1,r=0,i=e.length,a=-1/0;++n<i;)(t=+e[n][1])>a&&(a=t,r=n);return r}},39912:function(e,t,n){"use strict";n.d(t,{S:function(){return a},Z:function(){return i}});var r=n(16542);function i(e){var t=e.map(a);return(0,r.Z)(e).sort((function(e,n){return t[e]-t[n]}))}function a(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}},92889:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(39912);function i(e){return(0,r.Z)(e).reverse()}},24362:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(97298),i=n(39912);function a(e){var t,n,a=e.length,o=e.map(i.S),s=(0,r.Z)(e),u=0,c=0,l=[],f=[];for(t=0;t<a;++t)n=s[t],u<c?(u+=o[n],l.push(n)):(c+=o[n],f.push(n));return f.reverse().concat(l)}},16542:function(e,t,n){"use strict";function r(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}n.d(t,{Z:function(){return r}})},20659:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(16542);function i(e){return(0,r.Z)(e).reverse()}},54321:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(76817);function i(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function a(e){return e}var o=n(47226);function s(){var e=a,t=i,n=null,s=(0,r.Z)(0),u=(0,r.Z)(o.BZ),c=(0,r.Z)(0);function l(r){var i,a,l,f,d,p=r.length,h=0,v=new Array(p),m=new Array(p),g=+s.apply(this,arguments),y=Math.min(o.BZ,Math.max(-o.BZ,u.apply(this,arguments)-g)),b=Math.min(Math.abs(y)/p,c.apply(this,arguments)),x=b*(y<0?-1:1);for(i=0;i<p;++i)(d=m[v[i]=i]=+e(r[i],i,r))>0&&(h+=d);for(null!=t?v.sort((function(e,n){return t(m[e],m[n])})):null!=n&&v.sort((function(e,t){return n(r[e],r[t])})),i=0,l=h?(y-p*x)/h:0;i<p;++i,g=f)a=v[i],f=g+((d=m[a])>0?d*l:0)+x,m[a]={data:r[a],index:i,value:d,startAngle:g,endAngle:f,padAngle:b};return m}return l.value=function(t){return arguments.length?(e="function"===typeof t?t:(0,r.Z)(+t),l):e},l.sortValues=function(e){return arguments.length?(t=e,n=null,l):t},l.sort=function(e){return arguments.length?(n=e,t=null,l):n},l.startAngle=function(e){return arguments.length?(s="function"===typeof e?e:(0,r.Z)(+e),l):s},l.endAngle=function(e){return arguments.length?(u="function"===typeof e?e:(0,r.Z)(+e),l):u},l.padAngle=function(e){return arguments.length?(c="function"===typeof e?e:(0,r.Z)(+e),l):c},l}},15402:function(e,t,n){"use strict";function r(e){return e[0]}function i(e){return e[1]}n.d(t,{x:function(){return r},y:function(){return i}})},84687:function(e,t,n){"use strict";function r(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}n.d(t,{Z:function(){return r}})},3650:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(5803),i=n(76817),a=n(50724),o=n(16542);function s(e,t){return e[t]}function u(){var e=(0,i.Z)([]),t=o.Z,n=a.Z,u=s;function c(r){var i,a,o=e.apply(this,arguments),s=r.length,c=o.length,l=new Array(c);for(i=0;i<c;++i){for(var f,d=o[i],p=l[i]=new Array(s),h=0;h<s;++h)p[h]=f=[0,+u(r[h],d,h,r)],f.data=r[h];p.key=d}for(i=0,a=t(l);i<c;++i)l[a[i]].index=i;return n(l,a),l}return c.keys=function(t){return arguments.length?(e="function"===typeof t?t:(0,i.Z)(r.t.call(t)),c):e},c.value=function(e){return arguments.length?(u="function"===typeof e?e:(0,i.Z)(+e),c):u},c.order=function(e){return arguments.length?(t=null==e?o.Z:"function"===typeof e?e:(0,i.Z)(r.t.call(e)),c):t},c.offset=function(e){return arguments.length?(n=null==e?a.Z:e,c):n},c}},70985:function(e,t,n){"use strict";n.d(t,{i$:function(){return p},g0:function(){return h}});var r=n(80438),i=n(7171),a=n(6817),o=n(24527),s=n(36243),u=n(13608);function c(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function l(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function f(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var d,p,h,v={"-":"",_:" ",0:"0"},m=/^\s*\d+/,g=/^%/,y=/[\\^$*+?|[\]().{}]/g;function b(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function x(e){return e.replace(y,"\\$&")}function k(e){return new RegExp("^(?:"+e.map(x).join("|")+")","i")}function w(e){return new Map(e.map((function(e,t){return[e.toLowerCase(),t]})))}function _(e,t,n){var r=m.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function S(e,t,n){var r=m.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function T(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function E(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function C(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function O(e,t,n){var r=m.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function A(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function I(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function R(e,t,n){var r=m.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function N(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function P(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function M(e,t,n){var r=m.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function D(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function L(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function j(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function F(e,t,n){var r=m.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Z(e,t,n){var r=m.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function B(e,t,n){var r=g.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function U(e,t,n){var r=m.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function V(e,t,n){var r=m.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function z(e,t){return b(e.getDate(),t,2)}function W(e,t){return b(e.getHours(),t,2)}function H(e,t){return b(e.getHours()%12||12,t,2)}function G(e,t){return b(1+o.Z.count((0,s.Z)(e),e),t,3)}function q(e,t){return b(e.getMilliseconds(),t,3)}function K(e,t){return q(e,t)+"000"}function Y(e,t){return b(e.getMonth()+1,t,2)}function X(e,t){return b(e.getMinutes(),t,2)}function Q(e,t){return b(e.getSeconds(),t,2)}function J(e){var t=e.getDay();return 0===t?7:t}function $(e,t){return b(a.OM.count((0,s.Z)(e)-1,e),t,2)}function ee(e){var t=e.getDay();return t>=4||0===t?(0,a.bL)(e):a.bL.ceil(e)}function te(e,t){return e=ee(e),b(a.bL.count((0,s.Z)(e),e)+(4===(0,s.Z)(e).getDay()),t,2)}function ne(e){return e.getDay()}function re(e,t){return b(a.wA.count((0,s.Z)(e)-1,e),t,2)}function ie(e,t){return b(e.getFullYear()%100,t,2)}function ae(e,t){return b((e=ee(e)).getFullYear()%100,t,2)}function oe(e,t){return b(e.getFullYear()%1e4,t,4)}function se(e,t){var n=e.getDay();return b((e=n>=4||0===n?(0,a.bL)(e):a.bL.ceil(e)).getFullYear()%1e4,t,4)}function ue(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+b(t/60|0,"0",2)+b(t%60,"0",2)}function ce(e,t){return b(e.getUTCDate(),t,2)}function le(e,t){return b(e.getUTCHours(),t,2)}function fe(e,t){return b(e.getUTCHours()%12||12,t,2)}function de(e,t){return b(1+i.Z.count((0,u.Z)(e),e),t,3)}function pe(e,t){return b(e.getUTCMilliseconds(),t,3)}function he(e,t){return pe(e,t)+"000"}function ve(e,t){return b(e.getUTCMonth()+1,t,2)}function me(e,t){return b(e.getUTCMinutes(),t,2)}function ge(e,t){return b(e.getUTCSeconds(),t,2)}function ye(e){var t=e.getUTCDay();return 0===t?7:t}function be(e,t){return b(r.Ox.count((0,u.Z)(e)-1,e),t,2)}function xe(e){var t=e.getUTCDay();return t>=4||0===t?(0,r.hB)(e):r.hB.ceil(e)}function ke(e,t){return e=xe(e),b(r.hB.count((0,u.Z)(e),e)+(4===(0,u.Z)(e).getUTCDay()),t,2)}function we(e){return e.getUTCDay()}function _e(e,t){return b(r.l6.count((0,u.Z)(e)-1,e),t,2)}function Se(e,t){return b(e.getUTCFullYear()%100,t,2)}function Te(e,t){return b((e=xe(e)).getUTCFullYear()%100,t,2)}function Ee(e,t){return b(e.getUTCFullYear()%1e4,t,4)}function Ce(e,t){var n=e.getUTCDay();return b((e=n>=4||0===n?(0,r.hB)(e):r.hB.ceil(e)).getUTCFullYear()%1e4,t,4)}function Oe(){return"+0000"}function Ae(){return"%"}function Ie(e){return+e}function Re(e){return Math.floor(+e/1e3)}d=function(e){var t=e.dateTime,n=e.date,s=e.time,u=e.periods,d=e.days,p=e.shortDays,h=e.months,m=e.shortMonths,g=k(u),y=w(u),b=k(d),x=w(d),ee=k(p),xe=w(p),Ne=k(h),Pe=w(h),Me=k(m),De=w(m),Le={a:function(e){return p[e.getDay()]},A:function(e){return d[e.getDay()]},b:function(e){return m[e.getMonth()]},B:function(e){return h[e.getMonth()]},c:null,d:z,e:z,f:K,g:ae,G:se,H:W,I:H,j:G,L:q,m:Y,M:X,p:function(e){return u[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Ie,s:Re,S:Q,u:J,U:$,V:te,w:ne,W:re,x:null,X:null,y:ie,Y:oe,Z:ue,"%":Ae},je={a:function(e){return p[e.getUTCDay()]},A:function(e){return d[e.getUTCDay()]},b:function(e){return m[e.getUTCMonth()]},B:function(e){return h[e.getUTCMonth()]},c:null,d:ce,e:ce,f:he,g:Te,G:Ce,H:le,I:fe,j:de,L:pe,m:ve,M:me,p:function(e){return u[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Ie,s:Re,S:ge,u:ye,U:be,V:ke,w:we,W:_e,x:null,X:null,y:Se,Y:Ee,Z:Oe,"%":Ae},Fe={a:function(e,t,n){var r=ee.exec(t.slice(n));return r?(e.w=xe.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=b.exec(t.slice(n));return r?(e.w=x.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=Me.exec(t.slice(n));return r?(e.m=De.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=Ne.exec(t.slice(n));return r?(e.m=Pe.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return Ue(e,t,n,r)},d:P,e:P,f:Z,g:A,G:O,H:D,I:D,j:M,L:F,m:N,M:L,p:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.p=y.get(r[0].toLowerCase()),n+r[0].length):-1},q:R,Q:U,s:V,S:j,u:S,U:T,V:E,w:_,W:C,x:function(e,t,r){return Ue(e,n,t,r)},X:function(e,t,n){return Ue(e,s,t,n)},y:A,Y:O,Z:I,"%":B};function Ze(e,t){return function(n){var r,i,a,o=[],s=-1,u=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(u,s)),null!=(i=v[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),u=s+1);return o.push(e.slice(u,s)),o.join("")}}function Be(e,t){return function(n){var s,u,d=f(1900,void 0,1);if(Ue(d,e,n+="",0)!=n.length)return null;if("Q"in d)return new Date(d.Q);if("s"in d)return new Date(1e3*d.s+("L"in d?d.L:0));if(t&&!("Z"in d)&&(d.Z=0),"p"in d&&(d.H=d.H%12+12*d.p),void 0===d.m&&(d.m="q"in d?d.q:0),"V"in d){if(d.V<1||d.V>53)return null;"w"in d||(d.w=1),"Z"in d?(u=(s=l(f(d.y,0,1))).getUTCDay(),s=u>4||0===u?r.l6.ceil(s):(0,r.l6)(s),s=i.Z.offset(s,7*(d.V-1)),d.y=s.getUTCFullYear(),d.m=s.getUTCMonth(),d.d=s.getUTCDate()+(d.w+6)%7):(u=(s=c(f(d.y,0,1))).getDay(),s=u>4||0===u?a.wA.ceil(s):(0,a.wA)(s),s=o.Z.offset(s,7*(d.V-1)),d.y=s.getFullYear(),d.m=s.getMonth(),d.d=s.getDate()+(d.w+6)%7)}else("W"in d||"U"in d)&&("w"in d||(d.w="u"in d?d.u%7:"W"in d?1:0),u="Z"in d?l(f(d.y,0,1)).getUTCDay():c(f(d.y,0,1)).getDay(),d.m=0,d.d="W"in d?(d.w+6)%7+7*d.W-(u+5)%7:d.w+7*d.U-(u+6)%7);return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,l(d)):c(d)}}function Ue(e,t,n,r){for(var i,a,o=0,s=t.length,u=n.length;o<s;){if(r>=u)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=Fe[i in v?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return Le.x=Ze(n,Le),Le.X=Ze(s,Le),Le.c=Ze(t,Le),je.x=Ze(n,je),je.X=Ze(s,je),je.c=Ze(t,je),{format:function(e){var t=Ze(e+="",Le);return t.toString=function(){return e},t},parse:function(e){var t=Be(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=Ze(e+="",je);return t.toString=function(){return e},t},utcParse:function(e){var t=Be(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),p=d.format,d.parse,h=d.utcFormat,d.utcParse},24527:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var r=n(97914),i=n(20601),a=(0,r.Z)((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.yB)/i.UD}),(function(e){return e.getDate()-1}));t.Z=a;var o=a.range},20601:function(e,t,n){"use strict";n.d(t,{UD:function(){return o},Y2:function(){return a},Ym:function(){return r},iM:function(){return s},jz:function(){return u},qz:function(){return c},yB:function(){return i}});var r=1e3,i=60*r,a=60*i,o=24*a,s=7*o,u=30*o,c=365*o},37568:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});var r=n(97914),i=n(20601),a=(0,r.Z)((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*i.Ym-e.getMinutes()*i.yB)}),(function(e,t){e.setTime(+e+t*i.Y2)}),(function(e,t){return(t-e)/i.Y2}),(function(e){return e.getHours()}));t.Z=a;var o=a.range},14957:function(e,t,n){"use strict";n.r(t),n.d(t,{timeDay:function(){return u.Z},timeDays:function(){return u.a},timeFriday:function(){return c.mC},timeFridays:function(){return c.b$},timeHour:function(){return s.Z},timeHours:function(){return s.i},timeInterval:function(){return r.Z},timeMillisecond:function(){return i.Z},timeMilliseconds:function(){return i.m},timeMinute:function(){return o.Z},timeMinutes:function(){return o.L},timeMonday:function(){return c.wA},timeMondays:function(){return c.bJ},timeMonth:function(){return l.Z},timeMonths:function(){return l.e},timeSaturday:function(){return c.EY},timeSaturdays:function(){return c.Ff},timeSecond:function(){return a.Z},timeSeconds:function(){return a.m},timeSunday:function(){return c.OM},timeSundays:function(){return c.vm},timeThursday:function(){return c.bL},timeThursdays:function(){return c.$t},timeTickInterval:function(){return y._g},timeTicks:function(){return y.jK},timeTuesday:function(){return c.sy},timeTuesdays:function(){return c.aU},timeWednesday:function(){return c.zg},timeWednesdays:function(){return c.Ld},timeWeek:function(){return c.OM},timeWeeks:function(){return c.vm},timeYear:function(){return f.Z},timeYears:function(){return f.g},utcDay:function(){return h.Z},utcDays:function(){return h.y},utcFriday:function(){return v.QQ},utcFridays:function(){return v.fz},utcHour:function(){return p.Z},utcHours:function(){return p.X},utcMillisecond:function(){return i.Z},utcMilliseconds:function(){return i.m},utcMinute:function(){return d.Z},utcMinutes:function(){return d.N},utcMonday:function(){return v.l6},utcMondays:function(){return v.$3},utcMonth:function(){return m.Z},utcMonths:function(){return m.K},utcSaturday:function(){return v.g4},utcSaturdays:function(){return v.Q_},utcSecond:function(){return a.Z},utcSeconds:function(){return a.m},utcSunday:function(){return v.Ox},utcSundays:function(){return v.SU},utcThursday:function(){return v.hB},utcThursdays:function(){return v.xj},utcTickInterval:function(){return y.jo},utcTicks:function(){return y.WG},utcTuesday:function(){return v.J1},utcTuesdays:function(){return v.DK},utcWednesday:function(){return v.b3},utcWednesdays:function(){return v.uy},utcWeek:function(){return v.Ox},utcWeeks:function(){return v.SU},utcYear:function(){return g.Z},utcYears:function(){return g.D}});var r=n(97914),i=n(40165),a=n(4495),o=n(40020),s=n(37568),u=n(24527),c=n(6817),l=n(44870),f=n(36243),d=n(632),p=n(63854),h=n(7171),v=n(80438),m=n(86570),g=n(13608),y=n(80783)},97914:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=new Date,i=new Date;function a(e,t,n,o){function s(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=function(t){return e(t=new Date(+t)),t},s.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},s.round=function(e){var t=s(e),n=s.ceil(e);return e-t<n-e?t:n},s.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},s.range=function(n,r,i){var a,o=[];if(n=s.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return o;do{o.push(a=new Date(+n)),t(n,i),e(n)}while(a<n&&n<r);return o},s.filter=function(n){return a((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(s.count=function(t,a){return r.setTime(+t),i.setTime(+a),e(r),e(i),Math.floor(n(r,i))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?s.filter(o?function(t){return o(t)%e===0}:function(t){return s.count(0,t)%e===0}):s:null}),s}},40165:function(e,t,n){"use strict";n.d(t,{m:function(){return a}});var r=n(97914),i=(0,r.Z)((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?(0,r.Z)((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):i:null},t.Z=i;var a=i.range},40020:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var r=n(97914),i=n(20601),a=(0,r.Z)((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*i.Ym)}),(function(e,t){e.setTime(+e+t*i.yB)}),(function(e,t){return(t-e)/i.yB}),(function(e){return e.getMinutes()}));t.Z=a;var o=a.range},44870:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});var r=(0,n(97914).Z)((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}));t.Z=r;var i=r.range},4495:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var r=n(97914),i=n(20601),a=(0,r.Z)((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*i.Ym)}),(function(e,t){return(t-e)/i.Ym}),(function(e){return e.getUTCSeconds()}));t.Z=a;var o=a.range},80783:function(e,t,n){"use strict";n.d(t,{WG:function(){return _},_g:function(){return O},jK:function(){return C},jo:function(){return S}});var r=n(29439),i=n(92267),a=n(99571),o=n(20601),s=n(40165),u=n(4495),c=n(40020),l=n(37568),f=n(24527),d=n(6817),p=n(44870),h=n(36243),v=n(632),m=n(63854),g=n(7171),y=n(80438),b=n(86570);function x(e,t,n,c,l,f){var d=[[u.Z,1,o.Ym],[u.Z,5,5*o.Ym],[u.Z,15,15*o.Ym],[u.Z,30,30*o.Ym],[f,1,o.yB],[f,5,5*o.yB],[f,15,15*o.yB],[f,30,30*o.yB],[l,1,o.Y2],[l,3,3*o.Y2],[l,6,6*o.Y2],[l,12,12*o.Y2],[c,1,o.UD],[c,2,2*o.UD],[n,1,o.iM],[t,1,o.jz],[t,3,3*o.jz],[e,1,o.qz]];function p(t,n,u){var c=Math.abs(n-t)/u,l=(0,i.Z)((function(e){return(0,r.Z)(e,3)[2]})).right(d,c);if(l===d.length)return e.every((0,a.ly)(t/o.qz,n/o.qz,u));if(0===l)return s.Z.every(Math.max((0,a.ly)(t,n,u),1));var f=(0,r.Z)(d[c/d[l-1][2]<d[l][2]/c?l-1:l],2),p=f[0],h=f[1];return p.every(h)}return[function(e,t,n){var r=t<e;if(r){var i=[t,e];e=i[0],t=i[1]}var a=n&&"function"===typeof n.range?n:p(e,t,n),o=a?a.range(e,+t+1):[];return r?o.reverse():o},p]}var k=x(n(13608).Z,b.Z,y.Ox,g.Z,m.Z,v.Z),w=(0,r.Z)(k,2),_=w[0],S=w[1],T=x(h.Z,p.Z,d.OM,f.Z,l.Z,c.Z),E=(0,r.Z)(T,2),C=E[0],O=E[1]},7171:function(e,t,n){"use strict";n.d(t,{y:function(){return o}});var r=n(97914),i=n(20601),a=(0,r.Z)((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/i.UD}),(function(e){return e.getUTCDate()-1}));t.Z=a;var o=a.range},63854:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(97914),i=n(20601),a=(0,r.Z)((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*i.Y2)}),(function(e,t){return(t-e)/i.Y2}),(function(e){return e.getUTCHours()}));t.Z=a;var o=a.range},632:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var r=n(97914),i=n(20601),a=(0,r.Z)((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*i.yB)}),(function(e,t){return(t-e)/i.yB}),(function(e){return e.getUTCMinutes()}));t.Z=a;var o=a.range},86570:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var r=(0,n(97914).Z)((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}));t.Z=r;var i=r.range},80438:function(e,t,n){"use strict";n.d(t,{$3:function(){return h},DK:function(){return v},J1:function(){return u},Ox:function(){return o},QQ:function(){return f},Q_:function(){return b},SU:function(){return p},b3:function(){return c},fz:function(){return y},g4:function(){return d},hB:function(){return l},l6:function(){return s},uy:function(){return m},xj:function(){return g}});var r=n(97914),i=n(20601);function a(e){return(0,r.Z)((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/i.iM}))}var o=a(0),s=a(1),u=a(2),c=a(3),l=a(4),f=a(5),d=a(6),p=o.range,h=s.range,v=u.range,m=c.range,g=l.range,y=f.range,b=d.range},13608:function(e,t,n){"use strict";n.d(t,{D:function(){return a}});var r=n(97914),i=(0,r.Z)((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?(0,r.Z)((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null},t.Z=i;var a=i.range},6817:function(e,t,n){"use strict";n.d(t,{$t:function(){return g},EY:function(){return d},Ff:function(){return b},Ld:function(){return m},OM:function(){return o},aU:function(){return v},b$:function(){return y},bJ:function(){return h},bL:function(){return l},mC:function(){return f},sy:function(){return u},vm:function(){return p},wA:function(){return s},zg:function(){return c}});var r=n(97914),i=n(20601);function a(e){return(0,r.Z)((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.yB)/i.iM}))}var o=a(0),s=a(1),u=a(2),c=a(3),l=a(4),f=a(5),d=a(6),p=o.range,h=s.range,v=u.range,m=c.range,g=l.range,y=f.range,b=d.range},36243:function(e,t,n){"use strict";n.d(t,{g:function(){return a}});var r=n(97914),i=(0,r.Z)((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?(0,r.Z)((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null},t.Z=i;var a=i.range},27494:function(e){function t(e,t,n){var r,i,a,o,s;function u(){var c=Date.now()-o;c<t&&c>=0?r=setTimeout(u,t-c):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var c=function(){a=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(u,t)),c&&(s=e.apply(a,i),a=i=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},c}t.debounce=t,e.exports=t},97143:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,a||e,o),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,a),!0;case 6:return l.fn.call(l.context,t,r,i,a,o),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,i);break;default:if(!u)for(d=1,u=new Array(f-1);d<f;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==t||i&&!s[u].once||r&&s[u].context!==r)&&c.push(s[u]);c.length?this._events[a]=1===c.length?c[0]:c:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},47465:function(e){"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&v(e,"error",t,n)}(e,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,a,o;if(s(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=u(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,function(e){console&&console.warn&&console.warn(e)}(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):h(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){r.once&&e.removeEventListener(t,i),n(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=a[e];if(void 0===u)return!1;if("function"===typeof u)r(u,this,t);else{var c=u.length,l=h(u,c);for(n=0;n<c;++n)r(l[n],this,t)}return!0},a.prototype.addListener=function(e,t){return c(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return c(this,e,t,!0)},a.prototype.once=function(e,t){return s(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,a,o;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return d(this,e,!0)},a.prototype.rawListeners=function(e){return d(this,e,!1)},a.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},62110:function(e,t,n){"use strict";var r=n(48309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=d(n,g);try{c(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case u:return e;default:return t}}case i:return t}}}function w(e){return k(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||k(e)===l},t.isConcurrentMode=w,t.isContextConsumer=function(e){return k(e)===c},t.isContextProvider=function(e){return k(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return k(e)===d},t.isFragment=function(e){return k(e)===a},t.isLazy=function(e){return k(e)===m},t.isMemo=function(e){return k(e)===v},t.isPortal=function(e){return k(e)===i},t.isProfiler=function(e){return k(e)===s},t.isStrictMode=function(e){return k(e)===o},t.isSuspense=function(e){return k(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===p||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===g)},t.typeOf=k},48309:function(e,t,n){"use strict";e.exports=n(746)},82764:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["weeks","years","months","days","hours","minutes","seconds"],r=t.pattern=new RegExp("P(?:(\\d+(?:[\\.,]\\d+)?W)|(\\d+(?:[\\.,]\\d+)?Y)?(\\d+(?:[\\.,]\\d+)?M)?(\\d+(?:[\\.,]\\d+)?D)?(?:T(\\d+(?:[\\.,]\\d+)?H)?(\\d+(?:[\\.,]\\d+)?M)?(\\d+(?:[\\.,]\\d+)?S)?)?)"),i=t.parse=function(e){return e.match(r).slice(1).reduce((function(e,t,r){return e[n[r]]=parseFloat(t)||0,e}),{})},a=t.end=function(e,t){var n=t?t.getTime():Date.now(),r=new Date(n);return r.setFullYear(r.getFullYear()+e.years),r.setMonth(r.getMonth()+e.months),r.setDate(r.getDate()+e.days),r.setHours(r.getHours()+e.hours),r.setMinutes(r.getMinutes()+e.minutes),r.setMilliseconds(r.getMilliseconds()+1e3*e.seconds),r.setDate(r.getDate()+7*e.weeks),r},o=t.toSeconds=function(e,t){var n=t?t.getTime():Date.now(),r=new Date(n);return(a(e,r).getTime()-r.getTime())/1e3};t.default={end:a,toSeconds:o,pattern:r,parse:i}},1583:function(e){e.exports=window.FormData},78566:function(e){var t;t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i;for(n=1;n<arguments.length;n++)for(i in r=arguments[n])r.hasOwnProperty(i)&&(e[i]=r[i]);return e}},function(e,t,n){"use strict";var r=n(0);e.exports={build:function(e,t){var n,i,a,o=t.plugins;for(n=0,i=o.length;n<i;n++)(a=o[n]).methods&&r(e,a.methods),a.properties&&Object.defineProperties(e,a.properties)},hook:function(e,t,n){var r,i,a,o,s=e.config.plugins,u=[e.context];for(n&&(u=u.concat(n)),r=0,i=s.length;r<i;r++)o=s[r],(a=s[r][t])&&a.apply(o,u)}}},function(e,t,n){"use strict";function r(e){if(0===e.length)return e;var t,n,r=e.split(/[_-]/);if(1===r.length&&r[0][0].toLowerCase()===r[0][0])return e;for(n=r[0].toLowerCase(),t=1;t<r.length;t++)n=n+r[t].charAt(0).toUpperCase()+r[t].substring(1).toLowerCase();return n}r.prepended=function(e,t){return e+(t=r(t))[0].toUpperCase()+t.substring(1)},e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(2);function a(e,t){e=e||{},this.options=e,this.defaults=t.defaults,this.states=[],this.transitions=[],this.map={},this.lifecycle=this.configureLifecycle(),this.init=this.configureInitTransition(e.init),this.data=this.configureData(e.data),this.methods=this.configureMethods(e.methods),this.map[this.defaults.wildcard]={},this.configureTransitions(e.transitions||[]),this.plugins=this.configurePlugins(e.plugins,t.plugin)}r(a.prototype,{addState:function(e){this.map[e]||(this.states.push(e),this.addStateLifecycleNames(e),this.map[e]={})},addStateLifecycleNames:function(e){this.lifecycle.onEnter[e]=i.prepended("onEnter",e),this.lifecycle.onLeave[e]=i.prepended("onLeave",e),this.lifecycle.on[e]=i.prepended("on",e)},addTransition:function(e){this.transitions.indexOf(e)<0&&(this.transitions.push(e),this.addTransitionLifecycleNames(e))},addTransitionLifecycleNames:function(e){this.lifecycle.onBefore[e]=i.prepended("onBefore",e),this.lifecycle.onAfter[e]=i.prepended("onAfter",e),this.lifecycle.on[e]=i.prepended("on",e)},mapTransition:function(e){var t=e.name,n=e.from,r=e.to;return this.addState(n),"function"!==typeof r&&this.addState(r),this.addTransition(t),this.map[n][t]=e,e},configureLifecycle:function(){return{onBefore:{transition:"onBeforeTransition"},onAfter:{transition:"onAfterTransition"},onEnter:{state:"onEnterState"},onLeave:{state:"onLeaveState"},on:{transition:"onTransition"}}},configureInitTransition:function(e){return"string"===typeof e?this.mapTransition(r({},this.defaults.init,{to:e,active:!0})):"object"===typeof e?this.mapTransition(r({},this.defaults.init,e,{active:!0})):(this.addState(this.defaults.init.from),this.defaults.init)},configureData:function(e){return"function"===typeof e?e:"object"===typeof e?function(){return e}:function(){return{}}},configureMethods:function(e){return e||{}},configurePlugins:function(e,t){var n,r,i;for(n=0,r=(e=e||[]).length;n<r;n++)"function"===typeof(i=e[n])&&(e[n]=i=i()),i.configure&&i.configure(this);return e},configureTransitions:function(e){var t,n,r,i,a,o=this.defaults.wildcard;for(n=0;n<e.length;n++)for(r=e[n],i=Array.isArray(r.from)?r.from:[r.from||o],a=r.to||o,t=0;t<i.length;t++)this.mapTransition({name:r.name,from:i[t],to:a})},transitionFor:function(e,t){var n=this.defaults.wildcard;return this.map[e][t]||this.map[n][t]},transitionsFor:function(e){var t=this.defaults.wildcard;return Object.keys(this.map[e]).concat(Object.keys(this.map[t]))},allStates:function(){return this.states},allTransitions:function(){return this.transitions}}),e.exports=a},function(e,t,n){var r=n(0),i=n(6),a=n(1),o=[null,[]];function s(e,t){this.context=e,this.config=t,this.state=t.init.from,this.observers=[e]}r(s.prototype,{init:function(e){if(r(this.context,this.config.data.apply(this.context,e)),a.hook(this,"init"),this.config.init.active)return this.fire(this.config.init.name,[])},is:function(e){return Array.isArray(e)?e.indexOf(this.state)>=0:this.state===e},isPending:function(){return this.pending},can:function(e){return!this.isPending()&&!!this.seek(e)},cannot:function(e){return!this.can(e)},allStates:function(){return this.config.allStates()},allTransitions:function(){return this.config.allTransitions()},transitions:function(){return this.config.transitionsFor(this.state)},seek:function(e,t){var n=this.config.defaults.wildcard,r=this.config.transitionFor(this.state,e),i=r&&r.to;return"function"===typeof i?i.apply(this.context,t):i===n?this.state:i},fire:function(e,t){return this.transit(e,this.state,this.seek(e,t),t)},transit:function(e,t,n,r){var i=this.config.lifecycle,a=this.config.options.observeUnchangedState||t!==n;return n?this.isPending()?this.context.onPendingTransition(e,t,n):(this.config.addState(n),this.beginTransit(),r.unshift({transition:e,from:t,to:n,fsm:this.context}),this.observeEvents([this.observersForEvent(i.onBefore.transition),this.observersForEvent(i.onBefore[e]),a?this.observersForEvent(i.onLeave.state):o,a?this.observersForEvent(i.onLeave[t]):o,this.observersForEvent(i.on.transition),a?["doTransit",[this]]:o,a?this.observersForEvent(i.onEnter.state):o,a?this.observersForEvent(i.onEnter[n]):o,a?this.observersForEvent(i.on[n]):o,this.observersForEvent(i.onAfter.transition),this.observersForEvent(i.onAfter[e]),this.observersForEvent(i.on[e])],r)):this.context.onInvalidTransition(e,t,n)},beginTransit:function(){this.pending=!0},endTransit:function(e){return this.pending=!1,e},failTransit:function(e){throw this.pending=!1,e},doTransit:function(e){this.state=e.to},observe:function(e){if(2===e.length){var t={};t[e[0]]=e[1],this.observers.push(t)}else this.observers.push(e[0])},observersForEvent:function(e){for(var t,n=0,r=this.observers.length,i=[];n<r;n++)(t=this.observers[n])[e]&&i.push(t);return[e,i,!0]},observeEvents:function(e,t,n,r){if(0===e.length)return this.endTransit(void 0===r||r);var i=e[0][0],o=e[0][1],s=e[0][2];if(t[0].event=i,i&&s&&i!==n&&a.hook(this,"lifecycle",t),0===o.length)return e.shift(),this.observeEvents(e,t,i,r);var u=o.shift(),c=u[i].apply(u,t);return c&&"function"===typeof c.then?c.then(this.observeEvents.bind(this,e,t,i)).catch(this.failTransit.bind(this)):!1===c?this.endTransit(!1):this.observeEvents(e,t,i,c)},onInvalidTransition:function(e,t,n){throw new i("transition is invalid in current state",e,t,n,this.state)},onPendingTransition:function(e,t,n){throw new i("transition is invalid while previous transition is still in progress",e,t,n,this.state)}}),e.exports=s},function(e,t,n){"use strict";var r=n(0),i=n(2),a=n(1),o=n(3),s=n(4),u={is:function(e){return this._fsm.is(e)},can:function(e){return this._fsm.can(e)},cannot:function(e){return this._fsm.cannot(e)},observe:function(){return this._fsm.observe(arguments)},transitions:function(){return this._fsm.transitions()},allTransitions:function(){return this._fsm.allTransitions()},allStates:function(){return this._fsm.allStates()},onInvalidTransition:function(e,t,n){return this._fsm.onInvalidTransition(e,t,n)},onPendingTransition:function(e,t,n){return this._fsm.onPendingTransition(e,t,n)}},c={state:{configurable:!1,enumerable:!0,get:function(){return this._fsm.state},set:function(e){throw Error("use transitions to change state")}}};function l(e){return f(this||{},e)}function f(e,t){return d(e,new o(t,l)),e._fsm(),e}function d(e,t){if("object"!==typeof e||Array.isArray(e))throw Error("StateMachine can only be applied to objects");a.build(e,t),Object.defineProperties(e,c),r(e,u),r(e,t.methods),t.allTransitions().forEach((function(t){e[i(t)]=function(){return this._fsm.fire(t,[].slice.call(arguments))}})),e._fsm=function(){this._fsm=new s(this,t),this._fsm.init(arguments)}}l.version="3.0.1",l.factory=function(){var e,t;"function"===typeof arguments[0]?(e=arguments[0],t=arguments[1]||{}):(e=function(){this._fsm.apply(this,arguments)},t=arguments[0]||{});var n=new o(t,l);return d(e.prototype,n),e.prototype._fsm.config=n,e},l.apply=f,l.defaults={wildcard:"*",init:{name:"init",from:"none"}},e.exports=l},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){this.message=e,this.transition=t,this.from=n,this.to=r,this.current=i}}])},e.exports=t()},46927:function(e,t,n){"use strict";function r(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function i(e){return Object.prototype.toString.call(e)}function a(e){return"[object Function]"===i(e)}function o(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var u={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},c="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function l(e){var t=e.re=n(81875)(e.__opts__),r=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");var u=[];function c(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===i(n))return!function(e){return"[object RegExp]"===i(e)}(n.validate)?a(n.validate)?r.validate=n.validate:c(t,n):r.validate=function(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(a(n.normalize)?r.normalize=n.normalize:n.normalize?c(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===i(e)}(n)?c(t,n):u.push(t)}})),u.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var l=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(o).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><\uff5c]|"+t.src_ZPCc+"))("+l+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><\uff5c]|"+t.src_ZPCc+"))("+l+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function f(e,t){var n=e.__index__,r=e.__last_index__,i=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=i,this.text=i,this.url=i}function d(e,t){var n=new f(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function p(e,t){if(!(this instanceof p))return new p(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||s.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=r({},s,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},u,e),this.__compiled__={},this.__tlds__=c,this.__tlds_replaced__=!1,this.re={},l(this)}p.prototype.add=function(e,t){return this.__schemas__[e]=t,l(this),this},p.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},p.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,i,a,o,s,u;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(i=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||u<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(a=n.index+n[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(a=r.index+r[1].length,o=r.index+r[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&o>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=o)),this.__index__>=0},p.prototype.pretest=function(e){return this.re.pretest.test(e)},p.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},p.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(d(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(d(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},p.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),l(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,l(this),this)},p.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},p.prototype.onCompile=function(){},e.exports=p},81875:function(e,t,n){"use strict";e.exports=function(e){var t={};t.src_Any=n(65510).source,t.src_Cc=n(70538).source,t.src_Z=n(92426).source,t.src_P=n(13741).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><\uff5c]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><\uff5c]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+"[><\uff5c]|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+").|;(?!"+t.src_ZCc+").|\\!+(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><\uff5c]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+t.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+t.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},32467:function(e,t,n){e=n.nmd(e);var r="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",o="[object Array]",s="[object Boolean]",u="[object Date]",c="[object Error]",l="[object Function]",f="[object Map]",d="[object Number]",p="[object Object]",h="[object Promise]",v="[object RegExp]",m="[object Set]",g="[object String]",y="[object Symbol]",b="[object WeakMap]",x="[object ArrayBuffer]",k="[object DataView]",w=/^\[object .+?Constructor\]$/,_=/^(?:0|[1-9]\d*)$/,S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S[a]=S[o]=S[x]=S[s]=S[k]=S[u]=S[c]=S[l]=S[f]=S[d]=S[p]=S[v]=S[m]=S[g]=S[b]=!1;var T="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,E="object"==typeof self&&self&&self.Object===Object&&self,C=T||E||Function("return this")(),O=t&&!t.nodeType&&t,A=O&&e&&!e.nodeType&&e,I=A&&A.exports===O,R=I&&T.process,N=function(){try{return R&&R.binding&&R.binding("util")}catch(e){}}(),P=N&&N.isTypedArray;function M(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function D(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function L(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var j,F,Z=Array.prototype,B=Function.prototype,U=Object.prototype,V=C["__core-js_shared__"],z=B.toString,W=U.hasOwnProperty,H=function(){var e=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),G=U.toString,q=RegExp("^"+z.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=I?C.Buffer:void 0,Y=C.Symbol,X=C.Uint8Array,Q=U.propertyIsEnumerable,J=Z.splice,$=Y?Y.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=K?K.isBuffer:void 0,ne=(j=Object.keys,F=Object,function(e){return j(F(e))}),re=Re(C,"DataView"),ie=Re(C,"Map"),ae=Re(C,"Promise"),oe=Re(C,"Set"),se=Re(C,"WeakMap"),ue=Re(Object,"create"),ce=De(re),le=De(ie),fe=De(ae),de=De(oe),pe=De(se),he=Y?Y.prototype:void 0,ve=he?he.valueOf:void 0;function me(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ye;++t<n;)this.add(e[t])}function xe(e){var t=this.__data__=new ge(e);this.size=t.size}function ke(e,t){var n=Fe(e),r=!n&&je(e),i=!n&&!r&&Ze(e),a=!n&&!r&&!i&&We(e),o=n||r||i||a,s=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!W.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Me(c,u))||s.push(c);return s}function we(e,t){for(var n=e.length;n--;)if(Le(e[n][0],t))return n;return-1}function _e(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":$&&$ in Object(e)?function(e){var t=W.call(e,$),n=e[$];try{e[$]=void 0;var r=!0}catch(a){}var i=G.call(e);r&&(t?e[$]=n:delete e[$]);return i}(e):function(e){return G.call(e)}(e)}function Se(e){return ze(e)&&_e(e)==a}function Te(e,t,n,r,i){return e===t||(null==e||null==t||!ze(e)&&!ze(t)?e!==e&&t!==t:function(e,t,n,r,i,l){var h=Fe(e),b=Fe(t),w=h?o:Pe(e),_=b?o:Pe(t),S=(w=w==a?p:w)==p,T=(_=_==a?p:_)==p,E=w==_;if(E&&Ze(e)){if(!Ze(t))return!1;h=!0,S=!1}if(E&&!S)return l||(l=new xe),h||We(e)?Oe(e,t,n,r,i,l):function(e,t,n,r,i,a,o){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!a(new X(e),new X(t)));case s:case u:case d:return Le(+e,+t);case c:return e.name==t.name&&e.message==t.message;case v:case g:return e==t+"";case f:var l=D;case m:var p=1&r;if(l||(l=L),e.size!=t.size&&!p)return!1;var h=o.get(e);if(h)return h==t;r|=2,o.set(e,t);var b=Oe(l(e),l(t),r,i,a,o);return o.delete(e),b;case y:if(ve)return ve.call(e)==ve.call(t)}return!1}(e,t,w,n,r,i,l);if(!(1&n)){var C=S&&W.call(e,"__wrapped__"),O=T&&W.call(t,"__wrapped__");if(C||O){var A=C?e.value():e,I=O?t.value():t;return l||(l=new xe),i(A,I,n,r,l)}}if(!E)return!1;return l||(l=new xe),function(e,t,n,r,i,a){var o=1&n,s=Ae(e),u=s.length,c=Ae(t).length;if(u!=c&&!o)return!1;var l=u;for(;l--;){var f=s[l];if(!(o?f in t:W.call(t,f)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var p=!0;a.set(e,t),a.set(t,e);var h=o;for(;++l<u;){var v=e[f=s[l]],m=t[f];if(r)var g=o?r(m,v,f,t,e,a):r(v,m,f,e,t,a);if(!(void 0===g?v===m||i(v,m,n,r,a):g)){p=!1;break}h||(h="constructor"==f)}if(p&&!h){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return a.delete(e),a.delete(t),p}(e,t,n,r,i,l)}(e,t,n,r,Te,i))}function Ee(e){return!(!Ve(e)||function(e){return!!H&&H in e}(e))&&(Be(e)?q:w).test(De(e))}function Ce(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||U;return e===n}(e))return ne(e);var t=[];for(var n in Object(e))W.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Oe(e,t,n,r,i,a){var o=1&n,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var c=a.get(e);if(c&&a.get(t))return c==t;var l=-1,f=!0,d=2&n?new be:void 0;for(a.set(e,t),a.set(t,e);++l<s;){var p=e[l],h=t[l];if(r)var v=o?r(h,p,l,t,e,a):r(p,h,l,e,t,a);if(void 0!==v){if(v)continue;f=!1;break}if(d){if(!M(t,(function(e,t){if(o=t,!d.has(o)&&(p===e||i(p,e,n,r,a)))return d.push(t);var o}))){f=!1;break}}else if(p!==h&&!i(p,h,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function Ae(e){return function(e,t,n){var r=t(e);return Fe(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,He,Ne)}function Ie(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Re(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ee(n)?n:void 0}me.prototype.clear=function(){this.__data__=ue?ue(null):{},this.size=0},me.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},me.prototype.get=function(e){var t=this.__data__;if(ue){var n=t[e];return n===r?void 0:n}return W.call(t,e)?t[e]:void 0},me.prototype.has=function(e){var t=this.__data__;return ue?void 0!==t[e]:W.call(t,e)},me.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ue&&void 0===t?r:t,this},ge.prototype.clear=function(){this.__data__=[],this.size=0},ge.prototype.delete=function(e){var t=this.__data__,n=we(t,e);return!(n<0)&&(n==t.length-1?t.pop():J.call(t,n,1),--this.size,!0)},ge.prototype.get=function(e){var t=this.__data__,n=we(t,e);return n<0?void 0:t[n][1]},ge.prototype.has=function(e){return we(this.__data__,e)>-1},ge.prototype.set=function(e,t){var n=this.__data__,r=we(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ye.prototype.clear=function(){this.size=0,this.__data__={hash:new me,map:new(ie||ge),string:new me}},ye.prototype.delete=function(e){var t=Ie(this,e).delete(e);return this.size-=t?1:0,t},ye.prototype.get=function(e){return Ie(this,e).get(e)},ye.prototype.has=function(e){return Ie(this,e).has(e)},ye.prototype.set=function(e,t){var n=Ie(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},be.prototype.add=be.prototype.push=function(e){return this.__data__.set(e,r),this},be.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.clear=function(){this.__data__=new ge,this.size=0},xe.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},xe.prototype.get=function(e){return this.__data__.get(e)},xe.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ge){var r=n.__data__;if(!ie||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ye(r)}return n.set(e,t),this.size=n.size,this};var Ne=ee?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}(ee(e),(function(t){return Q.call(e,t)})))}:function(){return[]},Pe=_e;function Me(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||_.test(e))&&e>-1&&e%1==0&&e<t}function De(e){if(null!=e){try{return z.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Le(e,t){return e===t||e!==e&&t!==t}(re&&Pe(new re(new ArrayBuffer(1)))!=k||ie&&Pe(new ie)!=f||ae&&Pe(ae.resolve())!=h||oe&&Pe(new oe)!=m||se&&Pe(new se)!=b)&&(Pe=function(e){var t=_e(e),n=t==p?e.constructor:void 0,r=n?De(n):"";if(r)switch(r){case ce:return k;case le:return f;case fe:return h;case de:return m;case pe:return b}return t});var je=Se(function(){return arguments}())?Se:function(e){return ze(e)&&W.call(e,"callee")&&!Q.call(e,"callee")},Fe=Array.isArray;var Ze=te||function(){return!1};function Be(e){if(!Ve(e))return!1;var t=_e(e);return t==l||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ue(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Ve(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ze(e){return null!=e&&"object"==typeof e}var We=P?function(e){return function(t){return e(t)}}(P):function(e){return ze(e)&&Ue(e.length)&&!!S[_e(e)]};function He(e){return null!=(t=e)&&Ue(t.length)&&!Be(t)?ke(e):Ce(e);var t}e.exports=function(e,t){return Te(e,t)}},33881:function(e,t,n){var r="Expected a function",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,f=c||l||Function("return this")(),d=Object.prototype.toString,p=Math.max,h=Math.min,v=function(){return f.Date.now()};function m(e,t,n){var i,a,o,s,u,c,l=0,f=!1,d=!1,m=!0;if("function"!=typeof e)throw new TypeError(r);function b(t){var n=i,r=a;return i=a=void 0,l=t,s=e.apply(r,n)}function x(e){return l=e,u=setTimeout(w,t),f?b(e):s}function k(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-l>=o}function w(){var e=v();if(k(e))return _(e);u=setTimeout(w,function(e){var n=t-(e-c);return d?h(n,o-(e-l)):n}(e))}function _(e){return u=void 0,m&&i?b(e):(i=a=void 0,s)}function S(){var e=v(),n=k(e);if(i=arguments,a=this,c=e,n){if(void 0===u)return x(c);if(d)return u=setTimeout(w,t),b(c)}return void 0===u&&(u=setTimeout(w,t)),s}return t=y(t)||0,g(n)&&(f=!!n.leading,o=(d="maxWait"in n)?p(y(n.maxWait)||0,t):o,m="trailing"in n?!!n.trailing:m),S.cancel=function(){void 0!==u&&clearTimeout(u),l=0,i=c=a=u=void 0},S.flush=function(){return void 0===u?s:_(v())},S}function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=o.test(e);return n||s.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError(r);return g(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),m(e,t,{leading:i,maxWait:t,trailing:a})}},50908:function(e,t,n){var r=n(68136)(n(97009),"DataView");e.exports=r},29676:function(e,t,n){var r=n(85403),i=n(62747),a=n(16037),o=n(94154),s=n(77728);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},38384:function(e,t,n){var r=n(43894),i=n(8699),a=n(64957),o=n(87184),s=n(87109);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},95797:function(e,t,n){var r=n(68136)(n(97009),"Map");e.exports=r},78059:function(e,t,n){var r=n(34086),i=n(9255),a=n(29186),o=n(13423),s=n(73739);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},78319:function(e,t,n){var r=n(68136)(n(97009),"Promise");e.exports=r},23924:function(e,t,n){var r=n(68136)(n(97009),"Set");e.exports=r},22854:function(e,t,n){var r=n(38384),i=n(20511),a=n(50835),o=n(90707),s=n(18832),u=n(35077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=u,e.exports=c},87197:function(e,t,n){var r=n(97009).Symbol;e.exports=r},46219:function(e,t,n){var r=n(97009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(68136)(n(97009),"WeakMap");e.exports=r},4550:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},84903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},47538:function(e,t,n){var r=n(86478),i=n(34963),a=n(93629),o=n(5174),s=n(26800),u=n(19102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&i(e),f=!n&&!l&&o(e),d=!n&&!l&&!f&&u(e),p=n||l||f||d,h=p?r(e.length,String):[],v=h.length;for(var m in e)!t&&!c.call(e,m)||p&&("length"==m||f&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||h.push(m);return h}},41705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},18463:function(e,t,n){var r=n(32526),i=n(29231),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];a.call(e,t)&&i(o,n)&&(void 0!==n||t in e)||r(e,t,n)}},27112:function(e,t,n){var r=n(29231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},11855:function(e,t,n){var r=n(64503),i=n(12742);e.exports=function(e,t){return e&&r(t,i(t),e)}},95076:function(e,t,n){var r=n(64503),i=n(73961);e.exports=function(e,t){return e&&r(t,i(t),e)}},32526:function(e,t,n){var r=n(48528);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},31905:function(e,t,n){var r=n(22854),i=n(4550),a=n(18463),o=n(11855),s=n(95076),u=n(94523),c=n(10291),l=n(52455),f=n(57636),d=n(38248),p=n(55341),h=n(88383),v=n(39243),m=n(39759),g=n(40548),y=n(93629),b=n(5174),x=n(60103),k=n(8092),w=n(36995),_=n(12742),S=n(73961),T="[object Arguments]",E="[object Function]",C="[object Object]",O={};O[T]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O[C]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[E]=O["[object WeakMap]"]=!1,e.exports=function e(t,n,A,I,R,N){var P,M=1&n,D=2&n,L=4&n;if(A&&(P=R?A(t,I,R,N):A(t)),void 0!==P)return P;if(!k(t))return t;var j=y(t);if(j){if(P=v(t),!M)return c(t,P)}else{var F=h(t),Z=F==E||"[object GeneratorFunction]"==F;if(b(t))return u(t,M);if(F==C||F==T||Z&&!R){if(P=D||Z?{}:g(t),!M)return D?f(t,s(P,t)):l(t,o(P,t))}else{if(!O[F])return R?t:{};P=m(t,F,M)}}N||(N=new r);var B=N.get(t);if(B)return B;N.set(t,P),w(t)?t.forEach((function(r){P.add(e(r,n,A,r,t,N))})):x(t)&&t.forEach((function(r,i){P.set(i,e(r,n,A,i,t,N))}));var U=j?void 0:(L?D?p:d:D?S:_)(t);return i(U||t,(function(r,i){U&&(r=t[i=r]),a(P,i,e(r,n,A,i,t,N))})),P}},65763:function(e,t,n){var r=n(8092),i=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},61986:function(e,t,n){var r=n(41705),i=n(93629);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},39066:function(e,t,n){var r=n(87197),i=n(81587),a=n(43581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},4906:function(e,t,n){var r=n(39066),i=n(43141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},53085:function(e,t,n){var r=n(88383),i=n(43141);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},26703:function(e,t,n){var r=n(74786),i=n(257),a=n(8092),o=n(27907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?d:s).test(o(e))}},48680:function(e,t,n){var r=n(88383),i=n(43141);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},68150:function(e,t,n){var r=n(39066),i=n(24635),a=n(43141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},43654:function(e,t,n){var r=n(62936),i=n(75964),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},8664:function(e,t,n){var r=n(8092),i=n(62936),a=n(4221),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&n.push(s);return n}},86478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},20821:function(e,t,n){var r=n(26050),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},16194:function(e){e.exports=function(e){return function(t){return e(t)}}},7010:function(e,t,n){var r=n(46219);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},94523:function(e,t,n){e=n.nmd(e);var r=n(97009),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},61022:function(e,t,n){var r=n(7010);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},18503:function(e){var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},64720:function(e,t,n){var r=n(87197),i=r?r.prototype:void 0,a=i?i.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},40613:function(e,t,n){var r=n(7010);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},10291:function(e){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},64503:function(e,t,n){var r=n(18463),i=n(32526);e.exports=function(e,t,n,a){var o=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=a?a(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),o?i(n,c,l):r(n,c,l)}return n}},52455:function(e,t,n){var r=n(64503),i=n(65918);e.exports=function(e,t){return r(e,i(e),t)}},57636:function(e,t,n){var r=n(64503),i=n(38487);e.exports=function(e,t){return r(e,i(e),t)}},65525:function(e,t,n){var r=n(97009)["__core-js_shared__"];e.exports=r},48528:function(e,t,n){var r=n(68136),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},31032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},38248:function(e,t,n){var r=n(61986),i=n(65918),a=n(12742);e.exports=function(e){return r(e,a,i)}},55341:function(e,t,n){var r=n(61986),i=n(38487),a=n(73961);e.exports=function(e){return r(e,a,i)}},32799:function(e,t,n){var r=n(55964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},68136:function(e,t,n){var r=n(26703),i=n(30040);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},31137:function(e,t,n){var r=n(12709)(Object.getPrototypeOf,Object);e.exports=r},81587:function(e,t,n){var r=n(87197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},65918:function(e,t,n){var r=n(84903),i=n(68174),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=s},38487:function(e,t,n){var r=n(41705),i=n(31137),a=n(65918),o=n(68174),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,a(e)),e=i(e);return t}:o;e.exports=s},88383:function(e,t,n){var r=n(50908),i=n(95797),a=n(78319),o=n(23924),s=n(7091),u=n(39066),c=n(27907),l="[object Map]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",h="[object DataView]",v=c(r),m=c(i),g=c(a),y=c(o),b=c(s),x=u;(r&&x(new r(new ArrayBuffer(1)))!=h||i&&x(new i)!=l||a&&x(a.resolve())!=f||o&&x(new o)!=d||s&&x(new s)!=p)&&(x=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return h;case m:return l;case g:return f;case y:return d;case b:return p}return t}),e.exports=x},30040:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},85403:function(e,t,n){var r=n(49620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},62747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},16037:function(e,t,n){var r=n(49620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},94154:function(e,t,n){var r=n(49620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},77728:function(e,t,n){var r=n(49620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},39243:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},39759:function(e,t,n){var r=n(7010),i=n(61022),a=n(18503),o=n(64720),s=n(40613);e.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return a(e);case"[object Symbol]":return o(e)}}},40548:function(e,t,n){var r=n(65763),i=n(31137),a=n(62936);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:r(i(e))}},26800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},55964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(65525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},62936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},43894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(27112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},64957:function(e,t,n){var r=n(27112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},87184:function(e,t,n){var r=n(27112);e.exports=function(e){return r(this.__data__,e)>-1}},87109:function(e,t,n){var r=n(27112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},34086:function(e,t,n){var r=n(29676),i=n(38384),a=n(95797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(e,t,n){var r=n(32799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},29186:function(e,t,n){var r=n(32799);e.exports=function(e){return r(this,e).get(e)}},13423:function(e,t,n){var r=n(32799);e.exports=function(e){return r(this,e).has(e)}},73739:function(e,t,n){var r=n(32799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},49620:function(e,t,n){var r=n(68136)(Object,"create");e.exports=r},75964:function(e,t,n){var r=n(12709)(Object.keys,Object);e.exports=r},4221:function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},49494:function(e,t,n){e=n.nmd(e);var r=n(31032),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},43581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},12709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},97009:function(e,t,n){var r=n(31032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},20511:function(e,t,n){var r=n(38384);e.exports=function(){this.__data__=new r,this.size=0}},50835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},90707:function(e){e.exports=function(e){return this.__data__.get(e)}},18832:function(e){e.exports=function(e){return this.__data__.has(e)}},35077:function(e,t,n){var r=n(38384),i=n(95797),a=n(78059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},27907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},26050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},30093:function(e,t,n){var r=n(31905);e.exports=function(e,t){return r(e,5,t="function"==typeof t?t:void 0)}},48573:function(e,t,n){var r=n(8092),i=n(50072),a=n(42582),o=Math.max,s=Math.min;e.exports=function(e,t,n){var u,c,l,f,d,p,h=0,v=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=u,r=c;return u=c=void 0,h=t,f=e.apply(r,n)}function b(e){return h=e,d=setTimeout(k,t),v?y(e):f}function x(e){var n=e-p;return void 0===p||n>=t||n<0||m&&e-h>=l}function k(){var e=i();if(x(e))return w(e);d=setTimeout(k,function(e){var n=t-(e-p);return m?s(n,l-(e-h)):n}(e))}function w(e){return d=void 0,g&&u?y(e):(u=c=void 0,f)}function _(){var e=i(),n=x(e);if(u=arguments,c=this,p=e,n){if(void 0===d)return b(p);if(m)return clearTimeout(d),d=setTimeout(k,t),y(p)}return void 0===d&&(d=setTimeout(k,t)),f}return t=a(t)||0,r(n)&&(v=!!n.leading,l=(m="maxWait"in n)?o(a(n.maxWait)||0,t):l,g="trailing"in n?!!n.trailing:g),_.cancel=function(){void 0!==d&&clearTimeout(d),h=0,u=p=c=d=void 0},_.flush=function(){return void 0===d?f:w(i())},_}},29231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},34963:function(e,t,n){var r=n(4906),i=n(43141),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},93629:function(e){var t=Array.isArray;e.exports=t},21473:function(e,t,n){var r=n(74786),i=n(24635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(97009),i=n(49488),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},74786:function(e,t,n){var r=n(39066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},24635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},60103:function(e,t,n){var r=n(53085),i=n(16194),a=n(49494),o=a&&a.isMap,s=o?i(o):r;e.exports=s},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},43141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},36995:function(e,t,n){var r=n(48680),i=n(16194),a=n(49494),o=a&&a.isSet,s=o?i(o):r;e.exports=s},70152:function(e,t,n){var r=n(39066),i=n(43141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},19102:function(e,t,n){var r=n(68150),i=n(16194),a=n(49494),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},12742:function(e,t,n){var r=n(47538),i=n(43654),a=n(21473);e.exports=function(e){return a(e)?r(e):i(e)}},73961:function(e,t,n){var r=n(47538),i=n(8664),a=n(21473);e.exports=function(e){return a(e)?r(e,!0):i(e)}},49151:function(e,t,n){var r=n(78059);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},50072:function(e,t,n){var r=n(97009);e.exports=function(){return r.Date.now()}},68174:function(e){e.exports=function(){return[]}},49488:function(e){e.exports=function(){return!1}},42582:function(e,t,n){var r=n(20821),i=n(8092),a=n(70152),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},62895:function(e,t,n){var r,i;!function(a,o){"use strict";r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"===typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(r){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?a:void 0!==console[r]?i(console,r):void 0!==console.log?i(console,"log"):e)}function s(t,n){for(var i=0;i<r.length;i++){var a=r[i];this[a]=i<t?e:this.methodFactory(a,t,n)}this.log=this.debug}function u(e,n,r){return function(){typeof console!==t&&(s.call(this,n,r),this[e].apply(this,arguments))}}function c(e,t,n){return o(e)||u.apply(this,arguments)}function l(e,n,i){var a,o=this;n=null==n?"WARN":n;var u="loglevel";function l(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&u){try{return void(window.localStorage[u]=n)}catch(i){}try{window.document.cookie=encodeURIComponent(u)+"="+n+";"}catch(i){}}}function f(){var e;if(typeof window!==t&&u){try{e=window.localStorage[u]}catch(i){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(u)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(i){}return void 0===o.levels[e]&&(e=void 0),e}}function d(){if(typeof window!==t&&u){try{return void window.localStorage.removeItem(u)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}"string"===typeof e?u+=":"+e:"symbol"===typeof e&&(u=void 0),o.name=e,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=i||c,o.getLevel=function(){return a},o.setLevel=function(n,r){if("string"===typeof n&&void 0!==o.levels[n.toUpperCase()]&&(n=o.levels[n.toUpperCase()]),!("number"===typeof n&&n>=0&&n<=o.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(a=n,!1!==r&&l(n),s.call(o,n,e),typeof console===t&&n<o.levels.SILENT)return"No console available for logging"},o.setDefaultLevel=function(e){n=e,f()||o.setLevel(e,!1)},o.resetLevel=function(){o.setLevel(n,!1),d()},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)};var p=f();null==p&&(p=n),o.setLevel(p,!1)}var f=new l,d={};f.getLogger=function(e){if("symbol"!==typeof e&&"string"!==typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new l(e,f.getLevel(),f.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return f.noConflict=function(){return typeof window!==t&&window.log===f&&(window.log=p),f},f.getLoggers=function(){return d},f.default=f,f},void 0===(i="function"===typeof r?r.call(t,n,t,e):r)||(e.exports=i)}()},18987:function(e){e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(T){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var i={},a={};function o(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=u(e,(0|e)<0?-1:0,!0),o&&(a[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=u(e,e<0?-1:0,!1),o&&(i[e]=n),n)}function s(e,t){if(isNaN(e))return t?g:m;if(t){if(e<0)return g;if(e>=p)return w}else{if(e<=-h)return _;if(e+1>=h)return k}return e<0?s(-e,t).neg():u(e%d|0,e/d|0,t)}function u(e,t,r){return new n(e,t,r)}n.fromInt=o,n.fromNumber=s,n.fromBits=u;var c=Math.pow;function l(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return m;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return l(e.substring(1),t,n).neg();for(var i=s(c(n,8)),a=m,o=0;o<e.length;o+=8){var u=Math.min(8,e.length-o),f=parseInt(e.substring(o,o+u),n);if(u<8){var d=s(c(n,u));a=a.mul(d).add(s(f))}else a=(a=a.mul(i)).add(s(f))}return a.unsigned=t,a}function f(e,t){return"number"===typeof e?s(e,t):"string"===typeof e?l(e,t):u(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=l,n.fromValue=f;var d=4294967296,p=d*d,h=p/2,v=o(1<<24),m=o(0);n.ZERO=m;var g=o(0,!0);n.UZERO=g;var y=o(1);n.ONE=y;var b=o(1,!0);n.UONE=b;var x=o(-1);n.NEG_ONE=x;var k=u(-1,2147483647,!1);n.MAX_VALUE=k;var w=u(-1,-1,!0);n.MAX_UNSIGNED_VALUE=w;var _=u(0,-2147483648,!1);n.MIN_VALUE=_;var S=n.prototype;S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},S.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(_)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=s(c(e,6),this.unsigned),a=this,o="";;){var u=a.div(i),l=(a.sub(u.mul(i)).toInt()>>>0).toString(e);if((a=u).isZero())return l+o;for(;l.length<6;)l="0"+l;o=""+l+o}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},S.isZero=function(){return 0===this.high&&0===this.low},S.eqz=S.isZero,S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return 1===(1&this.low)},S.isEven=function(){return 0===(1&this.low)},S.equals=function(e){return r(e)||(e=f(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},S.eq=S.equals,S.notEquals=function(e){return!this.eq(e)},S.neq=S.notEquals,S.ne=S.notEquals,S.lessThan=function(e){return this.comp(e)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(e){return this.comp(e)<=0},S.lte=S.lessThanOrEqual,S.le=S.lessThanOrEqual,S.greaterThan=function(e){return this.comp(e)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(e){return this.comp(e)>=0},S.gte=S.greaterThanOrEqual,S.ge=S.greaterThanOrEqual,S.compare=function(e){if(r(e)||(e=f(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(_)?_:this.not().add(y)},S.neg=S.negate,S.add=function(e){r(e)||(e=f(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,a=65535&this.low,o=e.high>>>16,s=65535&e.high,c=e.low>>>16,l=0,d=0,p=0,h=0;return p+=(h+=a+(65535&e.low))>>>16,d+=(p+=i+c)>>>16,l+=(d+=n+s)>>>16,l+=t+o,u((p&=65535)<<16|(h&=65535),(l&=65535)<<16|(d&=65535),this.unsigned)},S.subtract=function(e){return r(e)||(e=f(e)),this.add(e.neg())},S.sub=S.subtract,S.multiply=function(e){if(this.isZero())return m;if(r(e)||(e=f(e)),t)return u(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return m;if(this.eq(_))return e.isOdd()?_:m;if(e.eq(_))return this.isOdd()?_:m;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(v)&&e.lt(v))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,a=this.low>>>16,o=65535&this.low,c=e.high>>>16,l=65535&e.high,d=e.low>>>16,p=65535&e.low,h=0,g=0,y=0,b=0;return y+=(b+=o*p)>>>16,g+=(y+=a*p)>>>16,y&=65535,g+=(y+=o*d)>>>16,h+=(g+=i*p)>>>16,g&=65535,h+=(g+=a*d)>>>16,g&=65535,h+=(g+=o*l)>>>16,h+=n*p+i*d+a*l+o*c,u((y&=65535)<<16|(b&=65535),(h&=65535)<<16|(g&=65535),this.unsigned)},S.mul=S.multiply,S.divide=function(e){if(r(e)||(e=f(e)),e.isZero())throw Error("division by zero");var n,i,a;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?g:m;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return b;a=g}else{if(this.eq(_))return e.eq(y)||e.eq(x)?_:e.eq(_)?y:(n=this.shr(1).div(e).shl(1)).eq(m)?e.isNegative()?y:x:(i=this.sub(e.mul(n)),a=n.add(i.div(e)));if(e.eq(_))return this.unsigned?g:m;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=m}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),l=o<=48?1:c(2,o-48),d=s(n),p=d.mul(e);p.isNegative()||p.gt(i);)p=(d=s(n-=l,this.unsigned)).mul(e);d.isZero()&&(d=y),a=a.add(d),i=i.sub(p)}return a},S.div=S.divide,S.modulo=function(e){return r(e)||(e=f(e)),t?u((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},S.mod=S.modulo,S.rem=S.modulo,S.not=function(){return u(~this.low,~this.high,this.unsigned)},S.and=function(e){return r(e)||(e=f(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},S.or=function(e){return r(e)||(e=f(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},S.xor=function(e){return r(e)||(e=f(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},S.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?u(this.low>>>e|t<<32-e,t>>>e,this.unsigned):u(32===e?t:t>>>e-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.shr_u=S.shiftRightUnsigned,S.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},S.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},S.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},27711:function(e,t,n){var r=n(96616);r.prototype.formulaEval=function(){"use strict";for(var e,t,n,r=[],i=this.value,a=0;a<i.length;a++)1===i[a].type||3===i[a].type?r.push({value:3===i[a].type?i[a].show:i[a].value,type:1}):13===i[a].type?r.push({value:i[a].show,type:1}):0===i[a].type?r[r.length-1]={value:i[a].show+("-"!=i[a].show?"(":"")+r[r.length-1].value+("-"!=i[a].show?")":""),type:0}:7===i[a].type?r[r.length-1]={value:(1!=r[r.length-1].type?"(":"")+r[r.length-1].value+(1!=r[r.length-1].type?")":"")+i[a].show,type:7}:10===i[a].type?(e=r.pop(),t=r.pop(),"P"===i[a].show||"C"===i[a].show?r.push({value:"<sup>"+t.value+"</sup>"+i[a].show+"<sub>"+e.value+"</sub>",type:10}):r.push({value:(1!=t.type?"(":"")+t.value+(1!=t.type?")":"")+"<sup>"+e.value+"</sup>",type:1})):2===i[a].type||9===i[a].type?(e=r.pop(),t=r.pop(),r.push({value:(1!=t.type?"(":"")+t.value+(1!=t.type?")":"")+i[a].show+(1!=e.type?"(":"")+e.value+(1!=e.type?")":""),type:i[a].type})):12===i[a].type&&(e=r.pop(),t=r.pop(),n=r.pop(),r.push({value:i[a].show+"("+n.value+","+t.value+","+e.value+")",type:12}));return r[0].value},e.exports=r},50015:function(e,t,n){"use strict";var r=n(19585);function i(e,t){for(var n=0;n<e.length;n++)e[n]+=t;return e}for(var a=[{token:"sin",show:"sin",type:0,value:r.math.sin},{token:"cos",show:"cos",type:0,value:r.math.cos},{token:"tan",show:"tan",type:0,value:r.math.tan},{token:"pi",show:"&pi;",type:3,value:"PI"},{token:"(",show:"(",type:4,value:"("},{token:")",show:")",type:5,value:")"},{token:"P",show:"P",type:10,value:r.math.P},{token:"C",show:"C",type:10,value:r.math.C},{token:" ",show:" ",type:14,value:" ".anchor},{token:"asin",show:"asin",type:0,value:r.math.asin},{token:"acos",show:"acos",type:0,value:r.math.acos},{token:"atan",show:"atan",type:0,value:r.math.atan},{token:"7",show:"7",type:1,value:"7"},{token:"8",show:"8",type:1,value:"8"},{token:"9",show:"9",type:1,value:"9"},{token:"int",show:"Int",type:0,value:Math.floor},{token:"cosh",show:"cosh",type:0,value:r.math.cosh},{token:"acosh",show:"acosh",type:0,value:r.math.acosh},{token:"ln",show:" ln",type:0,value:Math.log},{token:"^",show:"^",type:10,value:Math.pow},{token:"root",show:"root",type:0,value:Math.sqrt},{token:"4",show:"4",type:1,value:"4"},{token:"5",show:"5",type:1,value:"5"},{token:"6",show:"6",type:1,value:"6"},{token:"/",show:"&divide;",type:2,value:r.math.div},{token:"!",show:"!",type:7,value:r.math.fact},{token:"tanh",show:"tanh",type:0,value:r.math.tanh},{token:"atanh",show:"atanh",type:0,value:r.math.atanh},{token:"Mod",show:" Mod ",type:2,value:r.math.mod},{token:"1",show:"1",type:1,value:"1"},{token:"2",show:"2",type:1,value:"2"},{token:"3",show:"3",type:1,value:"3"},{token:"*",show:"&times;",type:2,value:r.math.mul},{token:"sinh",show:"sinh",type:0,value:r.math.sinh},{token:"asinh",show:"asinh",type:0,value:r.math.asinh},{token:"e",show:"e",type:3,value:"E"},{token:"log",show:" log",type:0,value:r.math.log},{token:"0",show:"0",type:1,value:"0"},{token:".",show:".",type:6,value:"."},{token:"+",show:"+",type:9,value:r.math.add},{token:"-",show:"-",type:9,value:r.math.sub},{token:",",show:",",type:11,value:","},{token:"Sigma",show:"&Sigma;",type:12,value:r.math.sigma},{token:"n",show:"n",type:13,value:"n"},{token:"Pi",show:"&Pi;",type:12,value:r.math.Pi},{token:"pow",show:"pow",type:8,value:Math.pow,numberOfArguments:2},{token:"&",show:"&",type:9,value:r.math.and}],o={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0,14:-1,15:11},s=0;s<a.length;s++)a[s].precedence=o[a[s].type];var u={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0,14:!0,15:!0},c={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0,15:!0},l={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0,15:!0},f={},d={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0,15:!0},p={1:!0},h=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"," ","&"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function v(e,t,n,r){for(var i=0;i<r;i++)if(e[n+i]!==t[i])return!1;return!0}function m(e,t){for(var n=0;n<t.length;n++)if(t[n].token===e)return n;return-1}function g(e){for(var t,n,i,o=[],s=e.length,u=0;u<s;u++)if(!(u<s-1&&" "===e[u]&&" "===e[u+1])){for(t="",n=e.length-u>h.length-2?h.length-1:e.length-u;n>0;n--)if(void 0!==h[n])for(i=0;i<h[n].length;i++)v(e,h[n][i],u,n)&&(t=h[n][i],i=h[n].length,n=0);if(u+=t.length-1,""===t)throw new r.Exception("Can't understand after "+e.slice(u));o.push(a[m(t,a)])}return o}r.tokenTypes={FUNCTION_WITH_ONE_ARG:0,NUMBER:1,BINARY_OPERATOR_HIGH_PRECENDENCE:2,CONSTANT:3,OPENING_PARENTHESIS:4,CLOSING_PARENTHESIS:5,DECIMAL:6,POSTFIX_FUNCTION_WITH_ONE_ARG:7,FUNCTION_WITH_N_ARGS:8,BINARY_OPERATOR_LOW_PRECENDENCE:9,BINARY_OPERATOR_PERMUTATION:10,COMMA:11,EVALUATED_FUNCTION:12,EVALUATED_FUNCTION_PARAMETER:13,SPACE:14},r.addToken=function(e){for(var t=0;t<e.length;t++){var n=e[t].token.length,i=-1;e[t].type===r.tokenTypes.FUNCTION_WITH_N_ARGS&&void 0===e[t].numberOfArguments&&(e[t].numberOfArguments=2),h[n]=h[n]||[];for(var s=0;s<h[n].length;s++)if(e[t].token===h[n][s]){i=m(h[n][s],a);break}-1===i?(a.push(e[t]),e[t].precedence=o[e[t].type],h.length<=e[t].token.length&&(h[e[t].token.length]=[]),h[e[t].token.length].push(e[t].token)):(a[i]=e[t],e[t].precedence=o[e[t].type])}};var y={value:r.math.changeSign,type:0,pre:21,show:"-"},b={value:")",show:")",type:5,pre:0},x={value:"(",type:4,pre:0,show:"("};r.lex=function(e,t){var n,a=[x],o=[],s=e,h=u,v=0,m=f,k="";"undefined"!==typeof t&&r.addToken(t);var w={},_=g(s);for(n=0;n<_.length;n++){var S=_[n];if(14!==S.type){var T,E=S.token,C=S.type,O=S.value,A=S.precedence,I=S.show,R=a[a.length-1];for(T=o.length;T--&&0===o[T];)if(-1!==[0,2,3,4,5,9,11,12,13].indexOf(C)){if(!0!==h[C])throw new r.Exception(E+" is not allowed after "+k);a.push(b),h=c,m=d,o.pop()}if(!0!==h[C])throw new r.Exception(E+" is not allowed after "+k);if(!0===m[C]&&(C=2,O=r.math.mul,I="&times;",A=3,n-=1),w={value:O,type:C,pre:A,show:I,numberOfArguments:S.numberOfArguments},0===C)h=u,m=f,i(o,2),a.push(w),4!==_[n+1].type&&(a.push(x),o.push(2));else if(1===C)1===R.type?(R.value+=O,i(o,1)):a.push(w),h=c,m=l;else if(2===C)h=u,m=f,i(o,2),a.push(w);else if(3===C)a.push(w),h=c,m=d;else if(4===C)i(o,1),v++,h=u,m=f,a.push(w);else if(5===C){if(!v)throw new r.Exception("Closing parenthesis are more than opening one, wait What!!!");v--,h=c,m=d,a.push(w),i(o,1)}else if(6===C){if(R.hasDec)throw new r.Exception("Two decimals are not allowed in one number");1!==R.type&&(R={value:0,type:1,pre:0},a.push(R)),h=p,i(o,1),m=f,R.value+=O,R.hasDec=!0}else 7===C&&(h=c,m=d,i(o,1),a.push(w));8===C?(h=u,m=f,i(o,S.numberOfArguments+2),a.push(w),4!==_[n+1].type&&(a.push(x),o.push(S.numberOfArguments+2))):9===C?(9===R.type?R.value===r.math.add?(R.value=O,R.show=I,i(o,1)):R.value===r.math.sub&&"-"===I&&(R.value=r.math.add,R.show="+",i(o,1)):5!==R.type&&7!==R.type&&1!==R.type&&3!==R.type&&13!==R.type?"-"===E&&(h=u,m=f,i(o,2).push(2),a.push(y),a.push(x)):(a.push(w),i(o,2)),h=u,m=f):10===C?(h=u,m=f,i(o,2),a.push(w)):11===C?(h=u,m=f,a.push(w)):12===C?(h=u,m=f,i(o,6),a.push(w),4!==_[n+1].type&&(a.push(x),o.push(6))):13===C&&(h=c,m=d,a.push(w)),i(o,-1),k=E}else if(n>0&&n<_.length-1&&1===_[n+1].type&&(1===_[n-1].type||6===_[n-1].type))throw new r.Exception("Unexpected Space")}for(T=o.length;T--;)a.push(b);if(!0!==h[5])throw new r.Exception("complete the expression");for(;v--;)a.push(b);return a.push(b),new r(a)},e.exports=r},19585:function(e){"use strict";var t=function(e){this.value=e};t.math={isDegree:!0,acos:function(e){return t.math.isDegree?180/Math.PI*Math.acos(e):Math.acos(e)},add:function(e,t){return e+t},asin:function(e){return t.math.isDegree?180/Math.PI*Math.asin(e):Math.asin(e)},atan:function(e){return t.math.isDegree?180/Math.PI*Math.atan(e):Math.atan(e)},acosh:function(e){return Math.log(e+Math.sqrt(e*e-1))},asinh:function(e){return Math.log(e+Math.sqrt(e*e+1))},atanh:function(e){return Math.log((1+e)/(1-e))},C:function(e,n){var r=1,i=e-n,a=n;a<i&&(a=i,i=n);for(var o=a+1;o<=e;o++)r*=o;return r/t.math.fact(i)},changeSign:function(e){return-e},cos:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.cos(e)},cosh:function(e){return(Math.pow(Math.E,e)+Math.pow(Math.E,-1*e))/2},div:function(e,t){return e/t},fact:function(e){if(e%1!==0)return"NaN";for(var t=1,n=2;n<=e;n++)t*=n;return t},inverse:function(e){return 1/e},log:function(e){return Math.log(e)/Math.log(10)},mod:function(e,t){return e%t},mul:function(e,t){return e*t},P:function(e,t){for(var n=1,r=Math.floor(e)-Math.floor(t)+1;r<=Math.floor(e);r++)n*=r;return n},Pi:function(e,t,n){for(var r=1,i=e;i<=t;i++)r*=Number(n.postfixEval({n:i}));return r},pow10x:function(e){for(var t=1;e--;)t*=10;return t},sigma:function(e,t,n){for(var r=0,i=e;i<=t;i++)r+=Number(n.postfixEval({n:i}));return r},sin:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.sin(e)},sinh:function(e){return(Math.pow(Math.E,e)-Math.pow(Math.E,-1*e))/2},sub:function(e,t){return e-t},tan:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.tan(e)},tanh:function(e){return t.sinha(e)/t.cosha(e)},toRadian:function(e){return e*Math.PI/180},and:function(e,t){return e&t}},t.Exception=function(e){this.message=e},e.exports=t},16928:function(e,t,n){var r=n(50015);r.prototype.toPostfix=function(){"use strict";for(var e,t,n,i,a,o=[],s=[{value:"(",type:4,pre:0}],u=this.value,c=1;c<u.length;c++)if(1===u[c].type||3===u[c].type||13===u[c].type)1===u[c].type&&(u[c].value=Number(u[c].value)),o.push(u[c]);else if(4===u[c].type)s.push(u[c]);else if(5===u[c].type)for(;4!==(t=s.pop()).type;)o.push(t);else if(11===u[c].type){for(;4!==(t=s.pop()).type;)o.push(t);s.push(t)}else{i=(e=u[c]).pre,n=(a=s[s.length-1]).pre;var l="Math.pow"==a.value&&"Math.pow"==e.value;if(i>n)s.push(e);else{for(;n>=i&&!l||l&&i<n;)t=s.pop(),a=s[s.length-1],o.push(t),n=a.pre,l="Math.pow"==e.value&&"Math.pow"==a.value;s.push(e)}}return new r(o)},e.exports=r},96616:function(e,t,n){var r=n(16928);r.prototype.postfixEval=function(e){"use strict";(e=e||{}).PI=Math.PI,e.E=Math.E;for(var t,n,i,a=[],o=this.value,s="undefined"!==typeof e.n,u=0;u<o.length;u++)if(1===o[u].type)a.push({value:o[u].value,type:1});else if(3===o[u].type)a.push({value:e[o[u].value],type:1});else if(0===o[u].type)"undefined"===typeof a[a.length-1].type?a[a.length-1].value.push(o[u]):a[a.length-1].value=o[u].value(a[a.length-1].value);else if(7===o[u].type)"undefined"===typeof a[a.length-1].type?a[a.length-1].value.push(o[u]):a[a.length-1].value=o[u].value(a[a.length-1].value);else if(8===o[u].type){for(var c=[],l=0;l<o[u].numberOfArguments;l++)c.push(a.pop().value);a.push({type:1,value:o[u].value.apply(o[u],c.reverse())})}else 10===o[u].type?(t=a.pop(),"undefined"===typeof(n=a.pop()).type?(n.value=n.concat(t),n.value.push(o[u]),a.push(n)):"undefined"===typeof t.type?(t.unshift(n),t.push(o[u]),a.push(t)):a.push({type:1,value:o[u].value(n.value,t.value)})):2===o[u].type||9===o[u].type?(t=a.pop(),"undefined"===typeof(n=a.pop()).type?((n=n.concat(t)).push(o[u]),a.push(n)):"undefined"===typeof t.type?(t.unshift(n),t.push(o[u]),a.push(t)):a.push({type:1,value:o[u].value(n.value,t.value)})):12===o[u].type?("undefined"!==typeof(t=a.pop()).type&&(t=[t]),n=a.pop(),i=a.pop(),a.push({type:1,value:o[u].value(i.value,n.value,new r(t))})):13===o[u].type&&(s?a.push({value:e[o[u].value],type:3}):a.push([o[u]]));if(a.length>1)throw new r.Exception("Uncaught Syntax error");return a[0].value>1e15?"Infinity":parseFloat(a[0].value.toFixed(15))},r.eval=function(e,t,n){return"undefined"===typeof t?this.lex(e).toPostfix().postfixEval():"undefined"===typeof n?"undefined"!==typeof t.length?this.lex(e,t).toPostfix().postfixEval():this.lex(e).toPostfix().postfixEval(t):this.lex(e,t).toPostfix().postfixEval(n)},e.exports=r},31725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},53912:function(e,t,n){var r;e=n.nmd(e),function(){"use strict";var i={function:!0,object:!0},a=i[typeof window]&&window||this,o=i[typeof t]&&t,s=i.object&&e&&!e.nodeType&&e,u=o&&s&&"object"==typeof n.g&&n.g;!u||u.global!==u&&u.window!==u&&u.self!==u||(a=u);var c=Math.pow(2,53)-1,l=/\bOpera/,f=Object.prototype,d=f.hasOwnProperty,p=f.toString;function h(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function v(e){return e=x(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:h(e)}function m(e,t){for(var n in e)d.call(e,n)&&t(e[n],n,e)}function g(e){return null==e?h(e):p.call(e).slice(8,-1)}function y(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function b(e,t){var n=null;return function(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=c)for(;++n<r;)t(e[n],n,e);else m(e,t)}(e,(function(r,i){n=t(n,r,i,e)})),n}function x(e){return String(e).replace(/^ +| +$/g,"")}var k=function e(t){var n=a,r=t&&"object"==typeof t&&"String"!=g(t);r&&(n=t,t=null);var i=n.navigator||{},o=i.userAgent||"";t||(t=o);var s,u,c=r?!!i.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(p.toString()),f="Object",d=r?f:"ScriptBridgingProxyObject",h=r?f:"Environment",k=r&&n.java?"JavaPackage":g(n.java),w=r?f:"RuntimeObject",_=/\bJava/.test(k)&&n.java,S=_&&g(n.environment)==h,T=_?"a":"\u03b1",E=_?"b":"\u03b2",C=n.document||{},O=n.operamini||n.opera,A=l.test(A=r&&O?O["[[Class]]"]:g(O))?A:O=null,I=t,R=[],N=null,P=t==o,M=P&&O&&"function"==typeof O.version&&O.version(),D=b([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,n){return e||RegExp("\\b"+(n.pattern||y(n))+"\\b","i").exec(t)&&(n.label||n)})),L=function(e){return b(e,(function(e,n){return e||RegExp("\\b"+(n.pattern||y(n))+"\\b","i").exec(t)&&(n.label||n)}))}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),j=B([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),F=function(e){return b(e,(function(e,n,r){return e||(n[j]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(j)]||RegExp("\\b"+y(r)+"(?:\\b|\\w*\\d)","i").exec(t))&&r}))}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),Z=function(e){return b(e,(function(e,n){var r=n.pattern||y(n);return!e&&(e=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),v(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,r,n.label||n)),e}))}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function B(e){return b(e,(function(e,n){var r=n.pattern||y(n);return!e&&(e=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=v(e[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function U(e){return b(e,(function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))}if(D&&(D=[D]),/\bAndroid\b/.test(Z)&&!j&&(s=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(j=x(s[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),F&&!j?j=B([F]):F&&j&&(j=j.replace(RegExp("^("+y(F)+")[-_.\\s]","i"),F+" ").replace(RegExp("^("+y(F)+")[-_.]?(\\w)","i"),F+" $2")),(s=/\bGoogle TV\b/.exec(j))&&(j=s[0]),/\bSimulator\b/i.test(t)&&(j=(j?j+" ":"")+"Simulator"),"Opera Mini"==L&&/\bOPiOS\b/.test(t)&&R.push("running in Turbo/Uncompressed mode"),"IE"==L&&/\blike iPhone OS\b/.test(t)?(F=(s=e(t.replace(/like iPhone OS/,""))).manufacturer,j=s.product):/^iP/.test(j)?(L||(L="Safari"),Z="iOS"+((s=/ OS ([\d_]+)/i.exec(t))?" "+s[1].replace(/_/g,"."):"")):"Konqueror"==L&&/^Linux\b/i.test(Z)?Z="Kubuntu":F&&"Google"!=F&&(/Chrome/.test(L)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(j))||/\bAndroid\b/.test(Z)&&/^Chrome/.test(L)&&/\bVersion\//i.test(t)?(L="Android Browser",Z=/\bAndroid\b/.test(Z)?Z:"Android"):"Silk"==L?(/\bMobi/i.test(t)||(Z="Android",R.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&R.unshift("accelerated")):"UC Browser"==L&&/\bUCWEB\b/.test(t)?R.push("speed mode"):"PaleMoon"==L&&(s=/\bFirefox\/([\d.]+)\b/.exec(t))?R.push("identifying as Firefox "+s[1]):"Firefox"==L&&(s=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(Z||(Z="Firefox OS"),j||(j=s[1])):!L||(s=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(L))?(L&&!j&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(s+"/")+8))&&(L=null),(s=j||F||Z)&&(j||F||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(Z))&&(L=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(Z)?Z:s)+" Browser")):"Electron"==L&&(s=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&R.push("Chromium "+s),M||(M=U(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",y(L),"(?:Firefox|Minefield|NetFront)"])),(s=("iCab"==D&&parseFloat(M)>3?"WebKit":/\bOpera\b/.test(L)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(D)&&"WebKit"||!D&&/\bMSIE\b/i.test(t)&&("Mac OS"==Z?"Tasman":"Trident")||"WebKit"==D&&/\bPlayStation\b(?! Vita\b)/i.test(L)&&"NetFront")&&(D=[s]),"IE"==L&&(s=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(L+=" Mobile",Z="Windows Phone "+(/\+$/.test(s)?s:s+".x"),R.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(L="IE Mobile",Z="Windows Phone 8.x",R.unshift("desktop mode"),M||(M=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=L&&"Trident"==D&&(s=/\brv:([\d.]+)/.exec(t))&&(L&&R.push("identifying as "+L+(M?" "+M:"")),L="IE",M=s[1]),P){if(function(e,t){var n=null!=e?typeof e[t]:"number";return!/^(?:boolean|number|string|undefined)$/.test(n)&&("object"!=n||!!e[t])}(n,"global"))if(_&&(I=(s=_.lang.System).getProperty("os.arch"),Z=Z||s.getProperty("os.name")+" "+s.getProperty("os.version")),S){try{M=n.require("ringo/engine").version.join("."),L="RingoJS"}catch(z){(s=n.system)&&s.global.system==n.system&&(L="Narwhal",Z||(Z=s[0].os||null))}L||(L="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(s=n.process)&&("object"==typeof s.versions&&("string"==typeof s.versions.electron?(R.push("Node "+s.versions.node),L="Electron",M=s.versions.electron):"string"==typeof s.versions.nw&&(R.push("Chromium "+M,"Node "+s.versions.node),L="NW.js",M=s.versions.nw)),L||(L="Node.js",I=s.arch,Z=s.platform,M=(M=/[\d.]+/.exec(s.version))?M[0]:null));else g(s=n.runtime)==d?(L="Adobe AIR",Z=s.flash.system.Capabilities.os):g(s=n.phantom)==w?(L="PhantomJS",M=(s=s.version||null)&&s.major+"."+s.minor+"."+s.patch):"number"==typeof C.documentMode&&(s=/\bTrident\/(\d+)/i.exec(t))?(M=[M,C.documentMode],(s=+s[1]+4)!=M[1]&&(R.push("IE "+M[1]+" mode"),D&&(D[1]=""),M[1]=s),M="IE"==L?String(M[1].toFixed(1)):M[0]):"number"==typeof C.documentMode&&/^(?:Chrome|Firefox)\b/.test(L)&&(R.push("masking as "+L+" "+M),L="IE",M="11.0",D=["Trident"],Z="Windows");Z=Z&&v(Z)}if(M&&(s=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(M)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(P&&i.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(N=/b/i.test(s)?"beta":"alpha",M=M.replace(RegExp(s+"\\+?$"),"")+("beta"==N?E:T)+(/\d+\+?/.exec(s)||"")),"Fennec"==L||"Firefox"==L&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(Z))L="Firefox Mobile";else if("Maxthon"==L&&M)M=M.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(j))"Xbox 360"==j&&(Z=null),"Xbox 360"==j&&/\bIEMobile\b/.test(t)&&R.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(L)&&(!L||j||/Browser|Mobi/.test(L))||"Windows CE"!=Z&&!/Mobi/i.test(t))if("IE"==L&&P)try{null===n.external&&R.unshift("platform preview")}catch(z){R.unshift("embedded")}else(/\bBlackBerry\b/.test(j)||/\bBB10\b/.test(t))&&(s=(RegExp(j.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||M)?(Z=((s=[s,/BB10/.test(t)])[1]?(j=null,F="BlackBerry"):"Device Software")+" "+s[0],M=null):this!=m&&"Wii"!=j&&(P&&O||/Opera/.test(L)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==L&&/\bOS X (?:\d+\.){2,}/.test(Z)||"IE"==L&&(Z&&!/^Win/.test(Z)&&M>5.5||/\bWindows XP\b/.test(Z)&&M>8||8==M&&!/\bTrident\b/.test(t)))&&!l.test(s=e.call(m,t.replace(l,"")+";"))&&s.name&&(s="ing as "+s.name+((s=s.version)?" "+s:""),l.test(L)?(/\bIE\b/.test(s)&&"Mac OS"==Z&&(Z=null),s="identify"+s):(s="mask"+s,L=A?v(A.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(s)&&(Z=null),P||(M=null)),D=["Presto"],R.push(s));else L+=" Mobile";(s=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(s=[parseFloat(s.replace(/\.(\d)$/,".0$1")),s],"Safari"==L&&"+"==s[1].slice(-1)?(L="WebKit Nightly",N="alpha",M=s[1].slice(0,-1)):M!=s[1]&&M!=(s[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(M=null),s[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==s[0]&&537.36==s[2]&&parseFloat(s[1])>=28&&"WebKit"==D&&(D=["Blink"]),P&&(c||s[1])?(D&&(D[1]="like Chrome"),s=s[1]||((s=s[0])<530?1:s<532?2:s<532.05?3:s<533?4:s<534.03?5:s<534.07?6:s<534.1?7:s<534.13?8:s<534.16?9:s<534.24?10:s<534.3?11:s<535.01?12:s<535.02?"13+":s<535.07?15:s<535.11?16:s<535.19?17:s<536.05?18:s<536.1?19:s<537.01?20:s<537.11?"21+":s<537.13?23:s<537.18?24:s<537.24?25:s<537.36?26:"Blink"!=D?"27":"28")):(D&&(D[1]="like Safari"),s=(s=s[0])<400?1:s<500?2:s<526?3:s<533?4:s<534?"4+":s<535?5:s<537?6:s<538?7:s<601?8:s<602?9:s<604?10:s<606?11:s<608?12:"12"),D&&(D[1]+=" "+(s+="number"==typeof s?".x":/[.+]/.test(s)?"":"+")),"Safari"==L&&(!M||parseInt(M)>45)?M=s:"Chrome"==L&&/\bHeadlessChrome/i.test(t)&&R.unshift("headless")),"Opera"==L&&(s=/\bzbov|zvav$/.exec(Z))?(L+=" ",R.unshift("desktop mode"),"zvav"==s?(L+="Mini",M=null):L+="Mobile",Z=Z.replace(RegExp(" *"+s+"$"),"")):"Safari"==L&&/\bChrome\b/.exec(D&&D[1])?(R.unshift("desktop mode"),L="Chrome Mobile",M=null,/\bOS X\b/.test(Z)?(F="Apple",Z="iOS 4.3+"):Z=null):/\bSRWare Iron\b/.test(L)&&!M&&(M=U("Chrome")),M&&0==M.indexOf(s=/[\d.]+$/.exec(Z))&&t.indexOf("/"+s+"-")>-1&&(Z=x(Z.replace(s,""))),Z&&-1!=Z.indexOf(L)&&!RegExp(L+" OS").test(Z)&&(Z=Z.replace(RegExp(" *"+y(L)+" *"),"")),D&&!/\b(?:Avant|Nook)\b/.test(L)&&(/Browser|Lunascape|Maxthon/.test(L)||"Safari"!=L&&/^iOS/.test(Z)&&/\bSafari\b/.test(D[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(L)&&D[1])&&(s=D[D.length-1])&&R.push(s),R.length&&(R=["("+R.join("; ")+")"]),F&&j&&j.indexOf(F)<0&&R.push("on "+F),j&&R.push((/^on /.test(R[R.length-1])?"":"on ")+j),Z&&(s=/ ([\d.+]+)$/.exec(Z),u=s&&"/"==Z.charAt(Z.length-s[0].length-1),Z={architecture:32,family:s&&!u?Z.replace(s[0],""):Z,version:s?s[1]:null,toString:function(){var e=this.version;return this.family+(e&&!u?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(s=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(I))&&!/\bi686\b/i.test(I)?(Z&&(Z.architecture=64,Z.family=Z.family.replace(RegExp(" *"+s),"")),L&&(/\bWOW64\b/i.test(t)||P&&/\w(?:86|32)$/.test(i.cpuClass||i.platform)&&!/\bWin64; x64\b/i.test(t))&&R.unshift("32-bit")):Z&&/^OS X/.test(Z.family)&&"Chrome"==L&&parseFloat(M)>=39&&(Z.architecture=64),t||(t=null);var V={};return V.description=t,V.layout=D&&D[0],V.manufacturer=F,V.name=L,V.prerelease=N,V.product=j,V.ua=t,V.version=L&&M,V.os=Z||{architecture:null,family:null,version:null,toString:function(){return"null"}},V.parse=e,V.toString=function(){return this.description||""},V.version&&R.unshift(M),V.name&&R.unshift(L),Z&&L&&(Z!=String(Z).split(" ")[0]||Z!=L.split(" ")[0]&&!j)&&R.push(j?"("+Z+")":"on "+Z),R.length&&(V.description=R.join(" ")),V}();a.platform=k,void 0===(r=function(){return k}.call(t,n,t,e))||(e.exports=r)}.call(this)},80888:function(e,t,n){"use strict";var r=n(79047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},52007:function(e,t,n){e.exports=n(80888)()},79047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},34463:function(e,t,n){"use strict";var r=n(72791),i=n(31725),a=n(45296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function s(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var u=!1,c=null,l=!1,f=null,d={onError:function(e){u=!0,c=e}};function p(e,t,n,r,i,a,o,l,f){u=!1,c=null,s.apply(d,arguments)}var h=null,v=null,m=null;function g(e,t,n){var r=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,r,i,a,s,d,h){if(p.apply(this,arguments),u){if(!u)throw Error(o(198));var v=c;u=!1,c=null,l||(l=!0,f=v)}}(r,t,void 0,e),e.currentTarget=null}var y=null,b={};function x(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!w[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in w[n]=t,n=t.eventTypes){var i=void 0,a=n[r],s=t,u=r;if(_.hasOwnProperty(u))throw Error(o(99,u));_[u]=a;var c=a.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&k(c[i],s,u);i=!0}else a.registrationName?(k(a.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function k(e,t,n){if(S[e])throw Error(o(100,e));S[e]=t,T[e]=t.eventTypes[n].dependencies}var w=[],_={},S={},T={};function E(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(o(102,t));b[t]=r,n=!0}}n&&x()}var C=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),O=null,A=null,I=null;function R(e){if(e=v(e)){if("function"!==typeof O)throw Error(o(280));var t=e.stateNode;t&&(t=h(t),O(e.stateNode,e.type,t))}}function N(e){A?I?I.push(e):I=[e]:A=e}function P(){if(A){var e=A,t=I;if(I=A=null,R(e),t)for(e=0;e<t.length;e++)R(t[e])}}function M(e,t){return e(t)}function D(e,t,n,r,i){return e(t,n,r,i)}function L(){}var j=M,F=!1,Z=!1;function B(){null===A&&null===I||(L(),P())}function U(e,t,n){if(Z)return e(t,n);Z=!0;try{return j(e,t,n)}finally{Z=!1,B()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z=Object.prototype.hasOwnProperty,W={},H={};function G(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){q[e]=new G(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];q[t]=new G(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){q[e]=new G(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){q[e]=new G(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){q[e]=new G(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){q[e]=new G(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){q[e]=new G(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){q[e]=new G(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){q[e]=new G(e,5,!1,e.toLowerCase(),null,!1)}));var K=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(K,Y);q[t]=new G(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(K,Y);q[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(K,Y);q[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){q[e]=new G(e,1,!1,e.toLowerCase(),null,!1)})),q.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){q[e]=new G(e,1,!1,e.toLowerCase(),null,!0)}));var X=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Q(e,t,n,r){var i=q.hasOwnProperty(t)?q[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!z.call(H,e)||!z.call(W,e)&&(V.test(e)?H[e]=!0:(W[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,$="function"===typeof Symbol&&Symbol.for,ee=$?Symbol.for("react.element"):60103,te=$?Symbol.for("react.portal"):60106,ne=$?Symbol.for("react.fragment"):60107,re=$?Symbol.for("react.strict_mode"):60108,ie=$?Symbol.for("react.profiler"):60114,ae=$?Symbol.for("react.provider"):60109,oe=$?Symbol.for("react.context"):60110,se=$?Symbol.for("react.concurrent_mode"):60111,ue=$?Symbol.for("react.forward_ref"):60112,ce=$?Symbol.for("react.suspense"):60113,le=$?Symbol.for("react.suspense_list"):60120,fe=$?Symbol.for("react.memo"):60115,de=$?Symbol.for("react.lazy"):60116,pe=$?Symbol.for("react.block"):60121,he="function"===typeof Symbol&&Symbol.iterator;function ve(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=he&&e[he]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case le:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case ue:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return me(e.type);case pe:return me(e.render);case de:if(e=1===e._status?e._result:null)return me(e)}return null}function ge(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=me(e.type);n=null,r&&(n=me(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function xe(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ke(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function we(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function _e(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Se(e,t){null!=(t=t.checked)&&Q(e,"checked",t,!1)}function Te(e,t){Se(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ce(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ce(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ee(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ce(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Ne(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Pe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Me="http://www.w3.org/1999/xhtml",De="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Ze,Be=(Ze=function(e,t){if(e.namespaceURI!==De||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Ze(e,t)}))}:Ze);function Ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ve(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ze={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},We={},He={};function Ge(e){if(We[e])return We[e];if(!ze[e])return e;var t,n=ze[e];for(t in n)if(n.hasOwnProperty(t)&&t in He)return We[e]=n[t];return e}C&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete ze.animationend.animation,delete ze.animationiteration.animation,delete ze.animationstart.animation),"TransitionEvent"in window||delete ze.transitionend.transition);var qe=Ge("animationend"),Ke=Ge("animationiteration"),Ye=Ge("animationstart"),Xe=Ge("transitionend"),Qe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"===typeof WeakMap?WeakMap:Map);function $e(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(o(188))}function rt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return nt(i),e;if(a===r)return nt(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function at(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function st(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)g(e,t[r],n[r]);else t&&g(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ut(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(at(e,st),ot)throw Error(o(95));if(l)throw e=f,l=!1,f=null,e}}function ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function lt(e){if(!C)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ft=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ft.length&&ft.push(e)}function pt(e,t,n,r){if(ft.length){var i=ft.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ht(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Rn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ct(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var s=null,u=0;u<w.length;u++){var c=w[u];c&&(c=c.extractEvents(r,t,a,i,o))&&(s=it(s,c))}ut(s)}}function vt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Yt(t,"scroll",!0);break;case"focus":case"blur":Yt(t,"focus",!0),Yt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":lt(e)&&Yt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Qe.indexOf(e)&&Kt(e,t)}n.set(e,null)}}var mt,gt,yt,bt=!1,xt=[],kt=null,wt=null,_t=null,St=new Map,Tt=new Map,Et=[],Ct="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ot="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function At(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function It(e,t){switch(e){case"focus":case"blur":kt=null;break;case"dragenter":case"dragleave":wt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Rt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=At(t,n,r,i,a),null!==t&&(null!==(t=Nn(t))&&gt(t)),e):(e.eventSystemFlags|=r,e)}function Nt(e){var t=Rn(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){yt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Pt(e){if(null!==e.blockedOn)return!1;var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Nn(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function Mt(e,t,n){Pt(e)&&n.delete(t)}function Dt(){for(bt=!1;0<xt.length;){var e=xt[0];if(null!==e.blockedOn){null!==(e=Nn(e.blockedOn))&&mt(e);break}var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:xt.shift()}null!==kt&&Pt(kt)&&(kt=null),null!==wt&&Pt(wt)&&(wt=null),null!==_t&&Pt(_t)&&(_t=null),St.forEach(Mt),Tt.forEach(Mt)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,bt||(bt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Dt)))}function jt(e){function t(t){return Lt(t,e)}if(0<xt.length){Lt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kt&&Lt(kt,e),null!==wt&&Lt(wt,e),null!==_t&&Lt(_t,e),St.forEach(t),Tt.forEach(t),n=0;n<Et.length;n++)(r=Et[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Et.length&&null===(n=Et[0]).blockedOn;)Nt(n),null===n.blockedOn&&Et.shift()}var Ft={},Zt=new Map,Bt=new Map,Ut=["abort","abort",qe,"animationEnd",Ke,"animationIteration",Ye,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xe,"transitionEnd","waiting","waiting"];function Vt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},Bt.set(r,t),Zt.set(r,a),Ft[i]=a}}Vt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Vt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Vt(Ut,2);for(var zt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Wt=0;Wt<zt.length;Wt++)Bt.set(zt[Wt],0);var Ht=a.unstable_UserBlockingPriority,Gt=a.unstable_runWithPriority,qt=!0;function Kt(e,t){Yt(t,e,!1)}function Yt(e,t,n){var r=Bt.get(t);switch(void 0===r?2:r){case 0:r=Xt.bind(null,t,1,e);break;case 1:r=Qt.bind(null,t,1,e);break;default:r=Jt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Xt(e,t,n,r){F||L();var i=Jt,a=F;F=!0;try{D(i,e,t,n,r)}finally{(F=a)||B()}}function Qt(e,t,n,r){Gt(Ht,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){if(qt)if(0<xt.length&&-1<Ct.indexOf(e))e=At(null,e,t,n,r),xt.push(e);else{var i=$t(e,t,n,r);if(null===i)It(e,r);else if(-1<Ct.indexOf(e))e=At(i,e,t,n,r),xt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return kt=Rt(kt,e,t,n,r,i),!0;case"dragenter":return wt=Rt(wt,e,t,n,r,i),!0;case"mouseover":return _t=Rt(_t,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return St.set(a,Rt(St.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Tt.set(a,Rt(Tt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){It(e,r),e=pt(e,r,null,t);try{U(ht,e)}finally{dt(e)}}}}function $t(e,t,n,r){if(null!==(n=Rn(n=ct(r)))){var i=et(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(null!==(n=tt(i)))return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=pt(e,r,n,t);try{U(ht,e)}finally{dt(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var an=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(an[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function sn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=Me;function cn(e,t){var n=$e(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=T[t];for(var r=0;r<t.length;r++)vt(t[r],e,n)}function ln(){}function fn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pn(e,t){var n,r=dn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dn(r)}}function hn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vn(){for(var e=window,t=fn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=fn((e=t.contentWindow).document)}return t}function mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gn="$?",yn="$!",bn=null,xn=null;function kn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function wn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var _n="function"===typeof setTimeout?setTimeout:void 0,Sn="function"===typeof clearTimeout?clearTimeout:void 0;function Tn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function En(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||n===yn||n===gn){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Cn=Math.random().toString(36).slice(2),On="__reactInternalInstance$"+Cn,An="__reactEventHandlers$"+Cn,In="__reactContainere$"+Cn;function Rn(e){var t=e[On];if(t)return t;for(var n=e.parentNode;n;){if(t=n[In]||n[On]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=En(e);null!==e;){if(n=e[On])return n;e=En(e)}return t}n=(e=n).parentNode}return null}function Nn(e){return!(e=e[On]||e[In])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Pn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Mn(e){return e[An]||null}function Dn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Ln(e,t){var n=e.stateNode;if(!n)return null;var r=h(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}function jn(e,t,n){(t=Ln(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Fn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Dn(t);for(t=n.length;0<t--;)jn(n[t],"captured",e);for(t=0;t<n.length;t++)jn(n[t],"bubbled",e)}}function Zn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Ln(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Bn(e){e&&e.dispatchConfig.registrationName&&Zn(e._targetInst,null,e)}function Un(e){at(e,Fn)}var Vn=null,zn=null,Wn=null;function Hn(){if(Wn)return Wn;var e,t,n=zn,r=n.length,i="value"in Vn?Vn.value:Vn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Wn=i.slice(e,1<t?1-t:void 0)}function Gn(){return!0}function qn(){return!1}function Kn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Gn:qn,this.isPropagationStopped=qn,this}function Yn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Xn(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Qn(e){e.eventPool=[],e.getPooled=Yn,e.release=Xn}i(Kn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){this.isPersistent=Gn},isPersistent:qn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=qn,this._dispatchInstances=this._dispatchListeners=null}}),Kn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Kn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Qn(n),n},Qn(Kn);var Jn=Kn.extend({data:null}),$n=Kn.extend({data:null}),er=[9,13,27,32],tr=C&&"CompositionEvent"in window,nr=null;C&&"documentMode"in document&&(nr=document.documentMode);var rr=C&&"TextEvent"in window&&!nr,ir=C&&(!tr||nr&&8<nr&&11>=nr),ar=String.fromCharCode(32),or={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},sr=!1;function ur(e,t){switch(e){case"keyup":return-1!==er.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function cr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var lr=!1;var fr={eventTypes:or,extractEvents:function(e,t,n,r){var i;if(tr)e:{switch(e){case"compositionstart":var a=or.compositionStart;break e;case"compositionend":a=or.compositionEnd;break e;case"compositionupdate":a=or.compositionUpdate;break e}a=void 0}else lr?ur(e,n)&&(a=or.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=or.compositionStart);return a?(ir&&"ko"!==n.locale&&(lr||a!==or.compositionStart?a===or.compositionEnd&&lr&&(i=Hn()):(zn="value"in(Vn=r)?Vn.value:Vn.textContent,lr=!0)),a=Jn.getPooled(a,t,n,r),i?a.data=i:null!==(i=cr(n))&&(a.data=i),Un(a),i=a):i=null,(e=rr?function(e,t){switch(e){case"compositionend":return cr(t);case"keypress":return 32!==t.which?null:(sr=!0,ar);case"textInput":return(e=t.data)===ar&&sr?null:e;default:return null}}(e,n):function(e,t){if(lr)return"compositionend"===e||!tr&&ur(e,t)?(e=Hn(),Wn=zn=Vn=null,lr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ir&&"ko"!==t.locale?null:t.data}}(e,n))?((t=$n.getPooled(or.beforeInput,t,n,r)).data=e,Un(t)):t=null,null===i?t:null===t?i:[i,t]}},dr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!dr[e.type]:"textarea"===t}var hr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function vr(e,t,n){return(e=Kn.getPooled(hr.change,e,t,n)).type="change",N(n),Un(e),e}var mr=null,gr=null;function yr(e){ut(e)}function br(e){if(ke(Pn(e)))return e}function xr(e,t){if("change"===e)return t}var kr=!1;function wr(){mr&&(mr.detachEvent("onpropertychange",_r),gr=mr=null)}function _r(e){if("value"===e.propertyName&&br(gr))if(e=vr(gr,e,ct(e)),F)ut(e);else{F=!0;try{M(yr,e)}finally{F=!1,B()}}}function Sr(e,t,n){"focus"===e?(wr(),gr=n,(mr=t).attachEvent("onpropertychange",_r)):"blur"===e&&wr()}function Tr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return br(gr)}function Er(e,t){if("click"===e)return br(t)}function Cr(e,t){if("input"===e||"change"===e)return br(t)}C&&(kr=lt("input")&&(!document.documentMode||9<document.documentMode));var Or={eventTypes:hr,_isInputEventSupported:kr,extractEvents:function(e,t,n,r){var i=t?Pn(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=xr;else if(pr(i))if(kr)o=Cr;else{o=Tr;var s=Sr}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Er);if(o&&(o=o(e,t)))return vr(o,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ce(i,"number",i.value)}},Ar=Kn.extend({view:null,detail:null}),Ir={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ir[e])&&!!t[e]}function Nr(){return Rr}var Pr=0,Mr=0,Dr=!1,Lr=!1,jr=Ar.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Nr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Pr;return Pr=e.screenX,Dr?"mousemove"===e.type?e.screenX-t:0:(Dr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Mr;return Mr=e.screenY,Lr?"mousemove"===e.type?e.screenY-t:0:(Lr=!0,0)}}),Fr=jr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Zr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Br={eventTypes:Zr,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?Rn(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var s=jr,u=Zr.mouseLeave,c=Zr.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Fr,u=Zr.pointerLeave,c=Zr.pointerEnter,l="pointer");if(e=null==o?a:Pn(o),a=null==t?a:Pn(t),(u=s.getPooled(u,o,n,r)).type=l+"leave",u.target=e,u.relatedTarget=a,(n=s.getPooled(c,t,n,r)).type=l+"enter",n.target=a,n.relatedTarget=e,l=t,(r=o)&&l)e:{for(c=l,o=0,e=s=r;e;e=Dn(e))o++;for(e=0,t=c;t;t=Dn(t))e++;for(;0<o-e;)s=Dn(s),o--;for(;0<e-o;)c=Dn(c),e--;for(;o--;){if(s===c||s===c.alternate)break e;s=Dn(s),c=Dn(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(o=r.alternate)||o!==c);)s.push(r),r=Dn(r);for(r=[];l&&l!==c&&(null===(o=l.alternate)||o!==c);)r.push(l),l=Dn(l);for(l=0;l<s.length;l++)Zn(s[l],"bubbled",u);for(l=r.length;0<l--;)Zn(r[l],"captured",n);return 0===(64&i)?[u]:[u,n]}};var Ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Vr=Object.prototype.hasOwnProperty;function zr(e,t){if(Ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Vr.call(t,n[r])||!Ur(e[n[r]],t[n[r]]))return!1;return!0}var Wr=C&&"documentMode"in document&&11>=document.documentMode,Hr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Gr=null,qr=null,Kr=null,Yr=!1;function Xr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Yr||null==Gr||Gr!==fn(n)?null:("selectionStart"in(n=Gr)&&mn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Kr&&zr(Kr,n)?null:(Kr=n,(e=Kn.getPooled(Hr.select,qr,e,t)).type="select",e.target=Gr,Un(e),e))}var Qr={eventTypes:Hr,extractEvents:function(e,t,n,r,i,a){if(!(a=!(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=$e(i),a=T.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?Pn(t):window,e){case"focus":(pr(i)||"true"===i.contentEditable)&&(Gr=i,qr=t,Kr=null);break;case"blur":Kr=qr=Gr=null;break;case"mousedown":Yr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Yr=!1,Xr(n,r);case"selectionchange":if(Wr)break;case"keydown":case"keyup":return Xr(n,r)}return null}},Jr=Kn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),$r=Kn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ei=Ar.extend({relatedTarget:null});function ti(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ii=Ar.extend({key:function(e){if(e.key){var t=ni[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ti(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ri[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Nr,charCode:function(e){return"keypress"===e.type?ti(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ti(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ai=jr.extend({dataTransfer:null}),oi=Ar.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Nr}),si=Kn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ui=jr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ci={eventTypes:Ft,extractEvents:function(e,t,n,r){var i=Zt.get(e);if(!i)return null;switch(e){case"keypress":if(0===ti(n))return null;case"keydown":case"keyup":e=ii;break;case"blur":case"focus":e=ei;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=jr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ai;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=oi;break;case qe:case Ke:case Ye:e=Jr;break;case Xe:e=si;break;case"scroll":e=Ar;break;case"wheel":e=ui;break;case"copy":case"cut":case"paste":e=$r;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Fr;break;default:e=Kn}return Un(t=e.getPooled(i,t,n,r)),t}};if(y)throw Error(o(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x(),h=Mn,v=Nn,m=Pn,E({SimpleEventPlugin:ci,EnterLeaveEventPlugin:Br,ChangeEventPlugin:Or,SelectEventPlugin:Qr,BeforeInputEventPlugin:fr});var li=[],fi=-1;function di(e){0>fi||(e.current=li[fi],li[fi]=null,fi--)}function pi(e,t){fi++,li[fi]=e.current,e.current=t}var hi={},vi={current:hi},mi={current:!1},gi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function bi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function xi(){di(mi),di(vi)}function ki(e,t,n){if(vi.current!==hi)throw Error(o(168));pi(vi,t),pi(mi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,me(t)||"Unknown",a));return i({},n,{},r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,gi=vi.current,pi(vi,e),pi(mi,mi.current),!0}function Si(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,gi),r.__reactInternalMemoizedMergedChildContext=e,di(mi),di(vi),pi(vi,e)):di(mi),pi(mi,n)}var Ti=a.unstable_runWithPriority,Ei=a.unstable_scheduleCallback,Ci=a.unstable_cancelCallback,Oi=a.unstable_requestPaint,Ai=a.unstable_now,Ii=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Ni=a.unstable_UserBlockingPriority,Pi=a.unstable_NormalPriority,Mi=a.unstable_LowPriority,Di=a.unstable_IdlePriority,Li={},ji=a.unstable_shouldYield,Fi=void 0!==Oi?Oi:function(){},Zi=null,Bi=null,Ui=!1,Vi=Ai(),zi=1e4>Vi?Ai:function(){return Ai()-Vi};function Wi(){switch(Ii()){case Ri:return 99;case Ni:return 98;case Pi:return 97;case Mi:return 96;case Di:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Ri;case 98:return Ni;case 97:return Pi;case 96:return Mi;case 95:return Di;default:throw Error(o(332))}}function Gi(e,t){return e=Hi(e),Ti(e,t)}function qi(e,t,n){return e=Hi(e),Ei(e,t,n)}function Ki(e){return null===Zi?(Zi=[e],Bi=Ei(Ri,Xi)):Zi.push(e),Li}function Yi(){if(null!==Bi){var e=Bi;Bi=null,Ci(e)}Xi()}function Xi(){if(!Ui&&null!==Zi){Ui=!0;var e=0;try{var t=Zi;Gi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Zi=null}catch(n){throw null!==Zi&&(Zi=Zi.slice(e+1)),Ei(Ri,Yi),n}finally{Ui=!1}}}function Qi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Ji(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var $i={current:null},ea=null,ta=null,na=null;function ra(){na=ta=ea=null}function ia(e){var t=$i.current;di($i),e.type._context._currentValue=t}function aa(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function oa(e,t){ea=e,na=ta=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Mo=!0),e.firstContext=null)}function sa(e,t){if(na!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(na=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ta){if(null===ea)throw Error(o(308));ta=t,ea.dependencies={expirationTime:0,firstContext:t,responders:null}}else ta=ta.next=t;return e._currentValue}var ua=!1;function ca(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function la(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function fa(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function da(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function pa(e,t){var n=e.alternate;null!==n&&la(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function ha(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.baseQueue,s=a.shared.pending;if(null!==s){if(null!==o){var u=o.next;o.next=s.next,s.next=u}o=s,a.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==o){u=o.next;var c=a.baseState,l=0,f=null,d=null,p=null;if(null!==u)for(var h=u;;){if((s=h.expirationTime)<r){var v={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===p?(d=p=v,f=c):p=p.next=v,s>l&&(l=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),pu(s,h.suspenseConfig);e:{var m=e,g=h;switch(s=t,v=n,g.tag){case 1:if("function"===typeof(m=g.payload)){c=m.call(v,c,s);break e}c=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(s="function"===typeof(m=g.payload)?m.call(v,c,s):m)||void 0===s)break e;c=i({},c,s);break e;case 2:ua=!0}}null!==h.callback&&(e.effectTag|=32,null===(s=a.effects)?a.effects=[h]:s.push(h))}if(null===(h=h.next)||h===u){if(null===(s=a.shared.pending))break;h=o.next=s.next,s.next=u,a.baseQueue=o=s,a.shared.pending=null}}null===p?f=c:p.next=d,a.baseState=f,a.baseQueue=p,hu(l),e.expirationTime=l,e.memoizedState=c}}function va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var ma=X.ReactCurrentBatchConfig,ga=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var ba={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=eu(),i=ma.suspense;(i=fa(r=tu(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),da(e,i),nu(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=eu(),i=ma.suspense;(i=fa(r=tu(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),da(e,i),nu(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=eu(),r=ma.suspense;(r=fa(n=tu(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),da(e,r),nu(e,n)}};function xa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!zr(n,r)||!zr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=sa(a):(i=bi(t)?gi:vi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ba,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ba.enqueueReplaceState(t,t.state,null)}function _a(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ga,ca(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=sa(a):(a=bi(t)?gi:vi.current,i.context=yi(e,a)),ha(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ba.enqueueReplaceState(i,i.state,null),ha(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Sa=Array.isArray;function Ta(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ga&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ca(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=ju(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ta(e,t,n),r.return=e,r):((r=Du(n.type,n.key,n.props,null,e.mode,r)).ref=Ta(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Du(t.type,t.key,t.props,null,e.mode,n)).ref=Ta(e,null,t),n.return=e,n;case te:return(t=Fu(t,e.mode,n)).return=e,t}if(Sa(t)||ve(t))return(t=Lu(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case te:return n.key===i?l(e,t,n,r):null}if(Sa(n)||ve(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case te:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Sa(r)||ve(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=p(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=h(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=ve(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=p(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=d(i,y.value,c))&&(s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=h(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===ne&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case ee:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===ne){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ta(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===ne?((r=Lu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Du(a.type,a.key,a.props,null,e.mode,u)).ref=Ta(e,r,a),u.return=e,e=u)}return s(e);case te:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Fu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=ju(a,e.mode,u)).return=e,e=r),s(e);if(Sa(a))return v(e,r,a,u);if(ve(a))return m(e,r,a,u);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Oa=Ca(!0),Aa=Ca(!1),Ia={},Ra={current:Ia},Na={current:Ia},Pa={current:Ia};function Ma(e){if(e===Ia)throw Error(o(174));return e}function Da(e,t){switch(pi(Pa,t),pi(Na,e),pi(Ra,Ia),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:je(null,"");break;default:t=je(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}di(Ra),pi(Ra,t)}function La(){di(Ra),di(Na),di(Pa)}function ja(e){Ma(Pa.current);var t=Ma(Ra.current),n=je(t,e.type);t!==n&&(pi(Na,e),pi(Ra,n))}function Fa(e){Na.current===e&&(di(Ra),di(Na))}var Za={current:0};function Ba(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===gn||n.data===yn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ua(e,t){return{responder:e,props:t}}var Va=X.ReactCurrentDispatcher,za=X.ReactCurrentBatchConfig,Wa=0,Ha=null,Ga=null,qa=null,Ka=!1;function Ya(){throw Error(o(321))}function Xa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ur(e[n],t[n]))return!1;return!0}function Qa(e,t,n,r,i,a){if(Wa=a,Ha=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Va.current=null===e||null===e.memoizedState?ko:wo,e=n(r,i),t.expirationTime===Wa){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,qa=Ga=null,t.updateQueue=null,Va.current=_o,e=n(r,i)}while(t.expirationTime===Wa)}if(Va.current=xo,t=null!==Ga&&null!==Ga.next,Wa=0,qa=Ga=Ha=null,Ka=!1,t)throw Error(o(300));return e}function Ja(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qa?Ha.memoizedState=qa=e:qa=qa.next=e,qa}function $a(){if(null===Ga){var e=Ha.alternate;e=null!==e?e.memoizedState:null}else e=Ga.next;var t=null===qa?Ha.memoizedState:qa.next;if(null!==t)qa=t,Ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Ga=e).memoizedState,baseState:Ga.baseState,baseQueue:Ga.baseQueue,queue:Ga.queue,next:null},null===qa?Ha.memoizedState=qa=e:qa=qa.next=e}return qa}function eo(e,t){return"function"===typeof t?t(e):t}function to(e){var t=$a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.expirationTime;if(l<Wa){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,l>Ha.expirationTime&&(Ha.expirationTime=l,hu(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),pu(l,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,Ur(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function no(e){var t=$a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Ur(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ro(e){var t=Ja();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:eo,lastRenderedState:e}).dispatch=bo.bind(null,Ha,e),[t.memoizedState,e]}function io(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ha.updateQueue)?(t={lastEffect:null},Ha.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ao(){return $a().memoizedState}function oo(e,t,n,r){var i=Ja();Ha.effectTag|=e,i.memoizedState=io(1|t,n,void 0,void 0===r?null:r)}function so(e,t,n,r){var i=$a();r=void 0===r?null:r;var a=void 0;if(null!==Ga){var o=Ga.memoizedState;if(a=o.destroy,null!==r&&Xa(r,o.deps))return void io(t,n,a,r)}Ha.effectTag|=e,i.memoizedState=io(1|t,n,a,r)}function uo(e,t){return oo(516,4,e,t)}function co(e,t){return so(516,4,e,t)}function lo(e,t){return so(4,2,e,t)}function fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function po(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,so(4,2,fo.bind(null,t,e),n)}function ho(){}function vo(e,t){return Ja().memoizedState=[e,void 0===t?null:t],e}function mo(e,t){var n=$a();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Xa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function go(e,t){var n=$a();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Xa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function yo(e,t,n){var r=Wi();Gi(98>r?98:r,(function(){e(!0)})),Gi(97<r?97:r,(function(){var r=za.suspense;za.suspense=void 0===t?null:t;try{e(!1),n()}finally{za.suspense=r}}))}function bo(e,t,n){var r=eu(),i=ma.suspense;i={expirationTime:r=tu(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Ha||null!==a&&a===Ha)Ka=!0,i.expirationTime=Wa,Ha.expirationTime=Wa;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.eagerReducer=a,i.eagerState=s,Ur(s,o))return}catch(u){}nu(e,r)}}var xo={readContext:sa,useCallback:Ya,useContext:Ya,useEffect:Ya,useImperativeHandle:Ya,useLayoutEffect:Ya,useMemo:Ya,useReducer:Ya,useRef:Ya,useState:Ya,useDebugValue:Ya,useResponder:Ya,useDeferredValue:Ya,useTransition:Ya},ko={readContext:sa,useCallback:vo,useContext:sa,useEffect:uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,oo(4,2,fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oo(4,2,e,t)},useMemo:function(e,t){var n=Ja();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ja();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=bo.bind(null,Ha,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ja().memoizedState=e},useState:ro,useDebugValue:ho,useResponder:Ua,useDeferredValue:function(e,t){var n=ro(e),r=n[0],i=n[1];return uo((function(){var n=za.suspense;za.suspense=void 0===t?null:t;try{i(e)}finally{za.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ro(!1),n=t[0];return t=t[1],[vo(yo.bind(null,t,e),[t,e]),n]}},wo={readContext:sa,useCallback:mo,useContext:sa,useEffect:co,useImperativeHandle:po,useLayoutEffect:lo,useMemo:go,useReducer:to,useRef:ao,useState:function(){return to(eo)},useDebugValue:ho,useResponder:Ua,useDeferredValue:function(e,t){var n=to(eo),r=n[0],i=n[1];return co((function(){var n=za.suspense;za.suspense=void 0===t?null:t;try{i(e)}finally{za.suspense=n}}),[e,t]),r},useTransition:function(e){var t=to(eo),n=t[0];return t=t[1],[mo(yo.bind(null,t,e),[t,e]),n]}},_o={readContext:sa,useCallback:mo,useContext:sa,useEffect:co,useImperativeHandle:po,useLayoutEffect:lo,useMemo:go,useReducer:no,useRef:ao,useState:function(){return no(eo)},useDebugValue:ho,useResponder:Ua,useDeferredValue:function(e,t){var n=no(eo),r=n[0],i=n[1];return co((function(){var n=za.suspense;za.suspense=void 0===t?null:t;try{i(e)}finally{za.suspense=n}}),[e,t]),r},useTransition:function(e){var t=no(eo),n=t[0];return t=t[1],[mo(yo.bind(null,t,e),[t,e]),n]}},So=null,To=null,Eo=!1;function Co(e,t){var n=Nu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Oo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ao(e){if(Eo){var t=To;if(t){var n=t;if(!Oo(e,t)){if(!(t=Tn(n.nextSibling))||!Oo(e,t))return e.effectTag=-1025&e.effectTag|2,Eo=!1,void(So=e);Co(So,n)}So=e,To=Tn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Eo=!1,So=e}}function Io(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;So=e}function Ro(e){if(e!==So)return!1;if(!Eo)return Io(e),Eo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!wn(t,e.memoizedProps))for(t=To;t;)Co(e,t),t=Tn(t.nextSibling);if(Io(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){To=Tn(e.nextSibling);break e}t--}else"$"!==n&&n!==yn&&n!==gn||t++}e=e.nextSibling}To=null}}else To=So?Tn(e.stateNode.nextSibling):null;return!0}function No(){To=So=null,Eo=!1}var Po=X.ReactCurrentOwner,Mo=!1;function Do(e,t,n,r){t.child=null===e?Aa(t,null,n,r):Oa(t,e.child,n,r)}function Lo(e,t,n,r,i){n=n.render;var a=t.ref;return oa(t,i),r=Qa(e,t,n,r,a,i),null===e||Mo?(t.effectTag|=1,Do(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Jo(e,t,i))}function jo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Pu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Du(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Fo(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:zr)(i,r)&&e.ref===t.ref)?Jo(e,t,a):(t.effectTag|=1,(e=Mu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Fo(e,t,n,r,i,a){return null!==e&&zr(e.memoizedProps,r)&&e.ref===t.ref&&(Mo=!1,i<a)?(t.expirationTime=e.expirationTime,Jo(e,t,a)):Bo(e,t,n,r,a)}function Zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Bo(e,t,n,r,i){var a=bi(n)?gi:vi.current;return a=yi(t,a),oa(t,i),n=Qa(e,t,n,r,a,i),null===e||Mo?(t.effectTag|=1,Do(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Jo(e,t,i))}function Uo(e,t,n,r,i){if(bi(n)){var a=!0;_i(t)}else a=!1;if(oa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),ka(t,n,r),_a(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=sa(c):c=yi(t,c=bi(n)?gi:vi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&wa(t,o,r,c),ua=!1;var d=t.memoizedState;o.state=d,ha(t,r,o,i),u=t.memoizedState,s!==r||d!==u||mi.current||ua?("function"===typeof l&&(ya(t,n,l,r),u=t.memoizedState),(s=ua||xa(t,n,s,r,d,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,la(e,t),s=t.memoizedProps,o.props=t.type===t.elementType?s:Ji(t.type,s),u=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=sa(c):c=yi(t,c=bi(n)?gi:vi.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&wa(t,o,r,c),ua=!1,u=t.memoizedState,o.state=u,ha(t,r,o,i),d=t.memoizedState,s!==r||u!==d||mi.current||ua?("function"===typeof l&&(ya(t,n,l,r),d=t.memoizedState),(l=ua||xa(t,n,s,r,u,d,c))?(f||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,d,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,d,c)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),o.props=r,o.state=d,o.context=c,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Vo(e,t,n,r,a,i)}function Vo(e,t,n,r,i,a){Zo(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&Si(t,n,!1),Jo(e,t,a);r=t.stateNode,Po.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Oa(t,e.child,null,a),t.child=Oa(t,null,s,a)):Do(e,t,s,a),t.memoizedState=r.state,i&&Si(t,n,!0),t.child}function zo(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Da(e,t.containerInfo)}var Wo,Ho,Go,qo={dehydrated:null,retryTime:0};function Ko(e,t,n){var r,i=t.mode,a=t.pendingProps,o=Za.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),pi(Za,1&o),null===e){if(void 0!==a.fallback&&Ao(t),s){if(s=a.fallback,(a=Lu(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Lu(s,i,n,null)).return=t,a.sibling=n,t.memoizedState=qo,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=Aa(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(a=a.fallback,(n=Mu(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Mu(i,a)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=qo,t.child=n,i}return n=Oa(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=a.fallback,(a=Lu(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Lu(s,i,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=qo,t.child=a,n}return t.memoizedState=null,t.child=Oa(t,e,a.children,n)}function Yo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),aa(e.return,t)}function Xo(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function Qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Do(e,t,r.children,n),0!==(2&(r=Za.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Yo(e,n);else if(19===e.tag)Yo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pi(Za,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ba(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xo(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ba(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xo(t,!0,n,null,a,t.lastEffect);break;case"together":Xo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Jo(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&hu(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Mu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $o(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function es(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return bi(t.type)&&xi(),null;case 3:return La(),di(mi),di(vi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ro(t)||(t.effectTag|=4),null;case 5:Fa(t),n=Ma(Pa.current);var a=t.type;if(null!==e&&null!=t.stateNode)Ho(e,t,a,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ma(Ra.current),Ro(t)){r=t.stateNode,a=t.type;var s=t.memoizedProps;switch(r[On]=t,r[An]=s,a){case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(e=0;e<Qe.length;e++)Kt(Qe[e],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"form":Kt("reset",r),Kt("submit",r);break;case"details":Kt("toggle",r);break;case"input":_e(r,s),Kt("invalid",r),cn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",r),cn(n,"onChange");break;case"textarea":Re(r,s),Kt("invalid",r),cn(n,"onChange")}for(var u in on(a,s),e=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"===typeof c?r.textContent!==c&&(e=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(e=["children",""+c]):S.hasOwnProperty(u)&&null!=c&&cn(n,u)}switch(a){case"input":xe(r),Ee(r,s,!0);break;case"textarea":xe(r),Pe(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=ln)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===un&&(e=Le(a)),e===un?"script"===a?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(a,{is:r.is}):(e=u.createElement(a),"select"===a&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,a),e[On]=t,e[An]=r,Wo(e,t),t.stateNode=e,u=sn(a,r),a){case"iframe":case"object":case"embed":Kt("load",e),c=r;break;case"video":case"audio":for(c=0;c<Qe.length;c++)Kt(Qe[c],e);c=r;break;case"source":Kt("error",e),c=r;break;case"img":case"image":case"link":Kt("error",e),Kt("load",e),c=r;break;case"form":Kt("reset",e),Kt("submit",e),c=r;break;case"details":Kt("toggle",e),c=r;break;case"input":_e(e,r),c=we(e,r),Kt("invalid",e),cn(n,"onChange");break;case"option":c=Oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Kt("invalid",e),cn(n,"onChange");break;case"textarea":Re(e,r),c=Ie(e,r),Kt("invalid",e),cn(n,"onChange");break;default:c=r}on(a,c);var l=c;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?rn(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&Be(e,f):"children"===s?"string"===typeof f?("textarea"!==a||""!==f)&&Ue(e,f):"number"===typeof f&&Ue(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?null!=f&&cn(n,s):null!=f&&Q(e,s,f,u))}switch(a){case"input":xe(e),Ee(e,r,!1);break;case"textarea":xe(e),Pe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ae(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=ln)}kn(a,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Go(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ma(Pa.current),Ma(Ra.current),Ro(t)?(n=t.stateNode,r=t.memoizedProps,n[On]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[On]=t,t.stateNode=n)}return null;case 13:return di(Za),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ro(t):(r=null!==(a=e.memoizedState),n||null===a||null!==(a=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=a,a.nextEffect=s):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Za.current)?Ds===Os&&(Ds=As):(Ds!==Os&&Ds!==As||(Ds=Is),0!==Bs&&null!==Ns&&(Uu(Ns,Ms),Vu(Ns,Bs)))),(n||r)&&(t.effectTag|=4),null);case 4:return La(),null;case 10:return ia(t),null;case 19:if(di(Za),null===(r=t.memoizedState))return null;if(a=0!==(64&t.effectTag),null===(s=r.rendering)){if(a)$o(r,!1);else if(Ds!==Os||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Ba(s))){for(t.effectTag|=64,$o(r,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return pi(Za,1&Za.current|2),t.child}s=s.sibling}}else{if(!a)if(null!==(e=Ba(s))){if(t.effectTag|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),$o(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,$o(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=zi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Za.current,pi(Za,a?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function ts(e){switch(e.tag){case 1:bi(e.type)&&xi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(La(),di(mi),di(vi),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Fa(e),null;case 13:return di(Za),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return di(Za),null;case 4:return La(),null;case 10:return ia(e),null;default:return null}}function ns(e,t){return{value:e,source:t,stack:ge(t)}}Wo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ho=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var s,u,c=t.stateNode;switch(Ma(Ra.current),e=null,n){case"input":o=we(c,o),r=we(c,r),e=[];break;case"option":o=Oe(c,o),r=Oe(c,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=Ie(c,o),r=Ie(c,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(c.onclick=ln)}for(s in on(n,r),n=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(u in c=o[s])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var l=r[s];if(c=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(e||(e=[]),e.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(s,l)):"children"===s?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(S.hasOwnProperty(s)?(null!=l&&cn(a,s),e||c===l||(e=[])):(e=e||[]).push(s,l))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},Go=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var rs="function"===typeof WeakSet?WeakSet:Set;function is(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ge(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function as(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Eu(e,n)}else t.current=null}function os(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(o(163))}function ss(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function us(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void us(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&va(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}va(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&kn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&jt(n)))))}throw Error(o(163))}function ls(e,t,n){switch("function"===typeof Iu&&Iu(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Gi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(a){Eu(i,a)}}e=e.next}while(e!==r)}))}break;case 1:as(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Eu(e,n)}}(t,n);break;case 5:as(t);break;case 4:ms(e,t,n)}}function fs(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&fs(t)}function ds(e){return 5===e.tag||3===e.tag||4===e.tag}function ps(e){e:{for(var t=e.return;null!==t;){if(ds(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Ue(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ds(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?hs(e,n,t):vs(e,n,t)}function hs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ln));else if(4!==r&&null!==(e=e.child))for(hs(e,t,n),e=e.sibling;null!==e;)hs(e,t,n),e=e.sibling}function vs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(vs(e,t,n),e=e.sibling;null!==e;)vs(e,t,n),e=e.sibling}function ms(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var u=e,c=a,l=n,f=c;;)if(ls(u,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=r,c=a.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(ls(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function gs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ss(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[An]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Se(n,r),sn(e,i),t=sn(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?rn(n,u):"dangerouslySetInnerHTML"===s?Be(n,u):"children"===s?Ue(n,u):Q(n,s,u,t)}switch(e){case"input":Te(n,r);break;case"textarea":Ne(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,jt(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Vs=zi()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ys(t);case 19:return void ys(t)}throw Error(o(163))}function ys(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new rs),t.forEach((function(t){var r=Ou.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var bs="function"===typeof WeakMap?WeakMap:Map;function xs(e,t,n){(n=fa(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Hs=r),is(e,t)},n}function ks(e,t,n){(n=fa(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return is(e,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this),is(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ws,_s=Math.ceil,Ss=X.ReactCurrentDispatcher,Ts=X.ReactCurrentOwner,Es=16,Cs=32,Os=0,As=3,Is=4,Rs=0,Ns=null,Ps=null,Ms=0,Ds=Os,Ls=null,js=1073741823,Fs=1073741823,Zs=null,Bs=0,Us=!1,Vs=0,zs=null,Ws=!1,Hs=null,Gs=null,qs=!1,Ks=null,Ys=90,Xs=null,Qs=0,Js=null,$s=0;function eu(){return 0!==(48&Rs)?1073741821-(zi()/10|0):0!==$s?$s:$s=1073741821-(zi()/10|0)}function tu(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Wi();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(Rs&Es))return Ms;if(null!==n)e=Qi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Qi(e,150,100);break;case 97:case 96:e=Qi(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==Ns&&e===Ms&&--e,e}function nu(e,t){if(50<Qs)throw Qs=0,Js=null,Error(o(185));if(null!==(e=ru(e,t))){var n=Wi();1073741823===t?0!==(8&Rs)&&0===(48&Rs)?su(e):(au(e),0===Rs&&Yi()):au(e),0===(4&Rs)||98!==n&&99!==n||(null===Xs?Xs=new Map([[e,t]]):(void 0===(n=Xs.get(e))||n>t)&&Xs.set(e,t))}}function ru(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ns===i&&(hu(t),Ds===Is&&Uu(i,Ms)),Vu(i,t)),i}function iu(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Bu(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function au(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Ki(su.bind(null,e));else{var t=iu(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=eu();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Li&&Ci(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Ki(su.bind(null,e)):qi(r,ou.bind(null,e),{timeout:10*(1073741821-t)-zi()}),e.callbackNode=t}}}function ou(e,t){if($s=0,t)return zu(e,t=eu()),au(e),null;var n=iu(e);if(0!==n){if(t=e.callbackNode,0!==(48&Rs))throw Error(o(327));if(_u(),e===Ns&&n===Ms||lu(e,n),null!==Ps){var r=Rs;Rs|=Es;for(var i=du();;)try{mu();break}catch(u){fu(e,u)}if(ra(),Rs=r,Ss.current=i,1===Ds)throw t=Ls,lu(e,n),Uu(e,n),au(e),t;if(null===Ps)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Ds,Ns=null,r){case Os:case 1:throw Error(o(345));case 2:zu(e,2<n?2:n);break;case As:if(Uu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=bu(i)),1073741823===js&&10<(i=Vs+500-zi())){if(Us){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,lu(e,n);break}}if(0!==(a=iu(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=_n(xu.bind(null,e),i);break}xu(e);break;case Is:if(Uu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=bu(i)),Us&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,lu(e,n);break}if(0!==(i=iu(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Fs?r=10*(1073741821-Fs)-zi():1073741823===js?r=0:(r=10*(1073741821-js)-5e3,0>(r=(i=zi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_s(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=_n(xu.bind(null,e),r);break}xu(e);break;case 5:if(1073741823!==js&&null!==Zs){a=js;var s=Zs;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(a=zi()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=i?0:i+r-a),10<r){Uu(e,n),e.timeoutHandle=_n(xu.bind(null,e),r);break}}xu(e);break;default:throw Error(o(329))}if(au(e),e.callbackNode===t)return ou.bind(null,e)}}return null}function su(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Rs))throw Error(o(327));if(_u(),e===Ns&&t===Ms||lu(e,t),null!==Ps){var n=Rs;Rs|=Es;for(var r=du();;)try{vu();break}catch(i){fu(e,i)}if(ra(),Rs=n,Ss.current=r,1===Ds)throw n=Ls,lu(e,t),Uu(e,t),au(e),n;if(null!==Ps)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ns=null,xu(e),au(e)}return null}function uu(e,t){var n=Rs;Rs|=1;try{return e(t)}finally{0===(Rs=n)&&Yi()}}function cu(e,t){var n=Rs;Rs&=-2,Rs|=8;try{return e(t)}finally{0===(Rs=n)&&Yi()}}function lu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Sn(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&xi();break;case 3:La(),di(mi),di(vi);break;case 5:Fa(r);break;case 4:La();break;case 13:case 19:di(Za);break;case 10:ia(r)}n=n.return}Ns=e,Ps=Mu(e.current,null),Ms=t,Ds=Os,Ls=null,Fs=js=1073741823,Zs=null,Bs=0,Us=!1}function fu(e,t){for(;;){try{if(ra(),Va.current=xo,Ka)for(var n=Ha.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Wa=0,qa=Ga=Ha=null,Ka=!1,null===Ps||null===Ps.return)return Ds=1,Ls=t,Ps=null;e:{var i=e,a=Ps.return,o=Ps,s=t;if(t=Ms,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&o.mode)){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.expirationTime=c.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var l=0!==(1&Za.current),f=a;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var h=f.memoizedProps;d=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!l)}}if(d){var v=f.updateQueue;if(null===v){var m=new Set;m.add(u),f.updateQueue=m}else v.add(u);if(0===(2&f.mode)){if(f.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var g=fa(1073741823,null);g.tag=2,da(o,g)}o.expirationTime=1073741823;break e}s=void 0,o=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new bs,s=new Set,y.set(u,s)):void 0===(s=y.get(u))&&(s=new Set,y.set(u,s)),!s.has(o)){s.add(o);var b=Cu.bind(null,i,u,o);u.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((me(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ge(o))}5!==Ds&&(Ds=2),s=ns(s,o),f=a;do{switch(f.tag){case 3:u=s,f.effectTag|=4096,f.expirationTime=t,pa(f,xs(f,u,t));break e;case 1:u=s;var x=f.type,k=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof x.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){f.effectTag|=4096,f.expirationTime=t,pa(f,ks(f,u,t));break e}}f=f.return}while(null!==f)}Ps=yu(Ps)}catch(w){t=w;continue}break}}function du(){var e=Ss.current;return Ss.current=xo,null===e?xo:e}function pu(e,t){e<js&&2<e&&(js=e),null!==t&&e<Fs&&2<e&&(Fs=e,Zs=t)}function hu(e){e>Bs&&(Bs=e)}function vu(){for(;null!==Ps;)Ps=gu(Ps)}function mu(){for(;null!==Ps&&!ji();)Ps=gu(Ps)}function gu(e){var t=ws(e.alternate,e,Ms);return e.memoizedProps=e.pendingProps,null===t&&(t=yu(e)),Ts.current=null,t}function yu(e){Ps=e;do{var t=Ps.alternate;if(e=Ps.return,0===(2048&Ps.effectTag)){if(t=es(t,Ps,Ms),1===Ms||1!==Ps.childExpirationTime){for(var n=0,r=Ps.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}Ps.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ps.firstEffect),null!==Ps.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ps.firstEffect),e.lastEffect=Ps.lastEffect),1<Ps.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ps:e.firstEffect=Ps,e.lastEffect=Ps))}else{if(null!==(t=ts(Ps)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ps.sibling))return t;Ps=e}while(null!==Ps);return Ds===Os&&(Ds=5),null}function bu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function xu(e){var t=Wi();return Gi(99,ku.bind(null,e,t)),null}function ku(e,t){do{_u()}while(null!==Ks);if(0!==(48&Rs))throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=bu(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ns&&(Ps=Ns=null,Ms=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=Rs;Rs|=Cs,Ts.current=null,bn=qt;var s=vn();if(mn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(E){u=null;break e}var d=0,p=-1,h=-1,v=0,m=0,g=s,y=null;t:for(;;){for(var b;g!==u||0!==l&&3!==g.nodeType||(p=d+l),g!==f||0!==c&&3!==g.nodeType||(h=d+c),3===g.nodeType&&(d+=g.nodeValue.length),null!==(b=g.firstChild);)y=g,g=b;for(;;){if(g===s)break t;if(y===u&&++v===l&&(p=d),y===f&&++m===c&&(h=d),null!==(b=g.nextSibling))break;y=(g=y).parentNode}g=b}u=-1===p||-1===h?null:{start:p,end:h}}else u=null}u=u||{start:0,end:0}}else u=null;xn={activeElementDetached:null,focusedElem:s,selectionRange:u},qt=!1,zs=i;do{try{wu()}catch(E){if(null===zs)throw Error(o(330));Eu(zs,E),zs=zs.nextEffect}}while(null!==zs);zs=i;do{try{for(s=e,u=t;null!==zs;){var x=zs.effectTag;if(16&x&&Ue(zs.stateNode,""),128&x){var k=zs.alternate;if(null!==k){var w=k.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&x){case 2:ps(zs),zs.effectTag&=-3;break;case 6:ps(zs),zs.effectTag&=-3,gs(zs.alternate,zs);break;case 1024:zs.effectTag&=-1025;break;case 1028:zs.effectTag&=-1025,gs(zs.alternate,zs);break;case 4:gs(zs.alternate,zs);break;case 8:ms(s,l=zs,u),fs(l)}zs=zs.nextEffect}}catch(E){if(null===zs)throw Error(o(330));Eu(zs,E),zs=zs.nextEffect}}while(null!==zs);if(w=xn,k=vn(),x=w.focusedElem,u=w.selectionRange,k!==x&&x&&x.ownerDocument&&hn(x.ownerDocument.documentElement,x)){null!==u&&mn(x)&&(k=u.start,void 0===(w=u.end)&&(w=k),"selectionStart"in x?(x.selectionStart=k,x.selectionEnd=Math.min(w,x.value.length)):(w=(k=x.ownerDocument||document)&&k.defaultView||window).getSelection&&(w=w.getSelection(),l=x.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!w.extend&&s>u&&(l=u,u=s,s=l),l=pn(x,s),f=pn(x,u),l&&f&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==f.node||w.focusOffset!==f.offset)&&((k=k.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),s>u?(w.addRange(k),w.extend(f.node,f.offset)):(k.setEnd(f.node,f.offset),w.addRange(k))))),k=[];for(w=x;w=w.parentNode;)1===w.nodeType&&k.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof x.focus&&x.focus(),x=0;x<k.length;x++)(w=k[x]).element.scrollLeft=w.left,w.element.scrollTop=w.top}qt=!!bn,xn=bn=null,e.current=n,zs=i;do{try{for(x=e;null!==zs;){var _=zs.effectTag;if(36&_&&cs(x,zs.alternate,zs),128&_){k=void 0;var S=zs.ref;if(null!==S){var T=zs.stateNode;zs.tag,k=T,"function"===typeof S?S(k):S.current=k}}zs=zs.nextEffect}}catch(E){if(null===zs)throw Error(o(330));Eu(zs,E),zs=zs.nextEffect}}while(null!==zs);zs=null,Fi(),Rs=a}else e.current=n;if(qs)qs=!1,Ks=e,Ys=t;else for(zs=i;null!==zs;)t=zs.nextEffect,zs.nextEffect=null,zs=t;if(0===(t=e.firstPendingTime)&&(Gs=null),1073741823===t?e===Js?Qs++:(Qs=0,Js=e):Qs=0,"function"===typeof Au&&Au(n.stateNode,r),au(e),Ws)throw Ws=!1,e=Hs,Hs=null,e;return 0!==(8&Rs)||Yi(),null}function wu(){for(;null!==zs;){var e=zs.effectTag;0!==(256&e)&&os(zs.alternate,zs),0===(512&e)||qs||(qs=!0,qi(97,(function(){return _u(),null}))),zs=zs.nextEffect}}function _u(){if(90!==Ys){var e=97<Ys?97:Ys;return Ys=90,Gi(e,Su)}}function Su(){if(null===Ks)return!1;var e=Ks;if(Ks=null,0!==(48&Rs))throw Error(o(331));var t=Rs;for(Rs|=Cs,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ss(5,n),us(5,n)}}catch(r){if(null===e)throw Error(o(330));Eu(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Rs=t,Yi(),!0}function Tu(e,t,n){da(e,t=xs(e,t=ns(n,t),1073741823)),null!==(e=ru(e,1073741823))&&au(e)}function Eu(e,t){if(3===e.tag)Tu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Tu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){da(n,e=ks(n,e=ns(t,e),1073741823)),null!==(n=ru(n,1073741823))&&au(n);break}}n=n.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Ns===e&&Ms===n?Ds===Is||Ds===As&&1073741823===js&&zi()-Vs<500?lu(e,Ms):Us=!0:Bu(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,au(e)))}function Ou(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=tu(t=eu(),e,null)),null!==(e=ru(e,t))&&au(e)}ws=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||mi.current)Mo=!0;else{if(r<n){switch(Mo=!1,t.tag){case 3:zo(t),No();break;case 5:if(ja(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:bi(t.type)&&_i(t);break;case 4:Da(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,pi($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ko(e,t,n):(pi(Za,1&Za.current),null!==(t=Jo(e,t,n))?t.sibling:null);pi(Za,1&Za.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return Qo(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),pi(Za,Za.current),!r)return null}return Jo(e,t,n)}Mo=!1}}else Mo=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=yi(t,vi.current),oa(t,n),i=Qa(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,bi(r)){var a=!0;_i(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ca(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ya(t,r,s,e),i.updater=ba,t.stateNode=i,i._reactInternalFiber=t,_a(t,r,e,n),t=Vo(null,t,r,!0,a,n)}else t.tag=0,Do(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"===typeof e)return Pu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ue)return 11;if(e===fe)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Bo(null,t,i,e,n);break e;case 1:t=Uo(null,t,i,e,n);break e;case 11:t=Lo(null,t,i,e,n);break e;case 14:t=jo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Bo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(zo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,la(e,t),ha(t,r,null,n),(r=t.memoizedState.element)===i)No(),t=Jo(e,t,n);else{if((i=t.stateNode.hydrate)&&(To=Tn(t.stateNode.containerInfo.firstChild),So=t,i=Eo=!0),i)for(n=Aa(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Do(e,t,r,n),No();t=t.child}return t;case 5:return ja(t),null===e&&Ao(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,wn(r,i)?s=null:null!==a&&wn(r,a)&&(t.effectTag|=16),Zo(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Do(e,t,s,n),t=t.child),t;case 6:return null===e&&Ao(t),null;case 13:return Ko(e,t,n);case 4:return Da(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Oa(t,null,r,n):Do(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Lo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Do(e,t,t.pendingProps,n),t.child;case 8:case 12:return Do(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(pi($i,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=Ur(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!mi.current){t=Jo(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=fa(n,null)).tag=2,da(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),aa(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Do(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,oa(t,n),r=r(i=sa(i,a.unstable_observedBits)),t.effectTag|=1,Do(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),jo(e,t,i,a=Ji(i.type,a),r,n);case 15:return Fo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,bi(r)?(e=!0,_i(t)):e=!1,oa(t,n),ka(t,r,i),_a(t,r,i,n),Vo(null,t,r,!0,e,n);case 19:return Qo(e,t,n)}throw Error(o(156,t.tag))};var Au=null,Iu=null;function Ru(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Nu(e,t,n,r){return new Ru(e,t,n,r)}function Pu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mu(e,t){var n=e.alternate;return null===n?((n=Nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Du(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Pu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return Lu(n.children,i,a,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=Nu(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=a,e;case ce:return(e=Nu(13,n,t,i)).type=ce,e.elementType=ce,e.expirationTime=a,e;case le:return(e=Nu(19,n,t,i)).elementType=le,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ae:s=10;break e;case oe:s=9;break e;case ue:s=11;break e;case fe:s=14;break e;case de:s=16,r=null;break e;case pe:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nu(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function Lu(e,t,n,r){return(e=Nu(7,e,r,t)).expirationTime=n,e}function ju(e,t,n){return(e=Nu(6,e,null,t)).expirationTime=n,e}function Fu(e,t,n){return(t=Nu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zu(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Bu(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Uu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Vu(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function zu(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Wu(e,t,n,r){var i=t.current,a=eu(),s=ma.suspense;a=tu(a,i,s);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(bi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(bi(c)){n=wi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=fa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),da(i,t),nu(i,a),a}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gu(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function qu(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}function Ku(e,t,n){var r=new Zu(e,t,n=null!=n&&!0===n.hydrate),i=Nu(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,ca(i),e[In]=r.current,n&&0!==t&&function(e,t){var n=$e(t);Ct.forEach((function(e){vt(e,t,n)})),Ot.forEach((function(e){vt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Hu(o);s.call(e)}}Wu(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ku(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Hu(o);u.call(e)}}cu((function(){Wu(t,o,e,i)}))}return Hu(o)}function Qu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ju(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(o(200));return Qu(e,t,null,n)}Ku.prototype.render=function(e){Wu(e,this._internalRoot,null,null)},Ku.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Wu(null,e,null,(function(){t[In]=null}))},mt=function(e){if(13===e.tag){var t=Qi(eu(),150,100);nu(e,t),qu(e,t)}},gt=function(e){13===e.tag&&(nu(e,3),qu(e,3))},yt=function(e){if(13===e.tag){var t=eu();nu(e,t=tu(t,e,null)),qu(e,t)}},O=function(e,t,n){switch(t){case"input":if(Te(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Mn(r);if(!i)throw Error(o(90));ke(r),Te(r,i)}}}break;case"textarea":Ne(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},M=uu,D=function(e,t,n,r,i){var a=Rs;Rs|=4;try{return Gi(98,e.bind(null,t,n,r,i))}finally{0===(Rs=a)&&Yi()}},L=function(){0===(49&Rs)&&(function(){if(null!==Xs){var e=Xs;Xs=null,e.forEach((function(e,t){zu(t,e),au(t)})),Yi()}}(),_u())},j=function(e,t){var n=Rs;Rs|=2;try{return e(t)}finally{0===(Rs=n)&&Yi()}};var $u={Events:[Nn,Pn,Mn,E,_,Un,function(e){at(e,Bn)},N,P,Jt,ut,_u,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Au=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Iu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Rn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$u,t.createPortal=Ju,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Rs))throw Error(o(187));var n=Rs;Rs|=1;try{return Gi(99,e.bind(null,t))}finally{Rs=n,Yi()}},t.hydrate=function(e,t,n){if(!Yu(t))throw Error(o(200));return Xu(null,e,t,!0,n)},t.render=function(e,t,n){if(!Yu(t))throw Error(o(200));return Xu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(o(40));return!!e._reactRootContainer&&(cu((function(){Xu(null,null,e,!1,(function(){e._reactRootContainer=null,e[In]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_createPortal=function(e,t){return Ju(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yu(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return Xu(e,t,n,!1,r)},t.version="16.14.0"},54164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(34463)},11372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,u=60110,c=60112,l=60113,f=60120,d=60115,p=60116,h=60121,v=60122,m=60117,g=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),o=b("react.profiler"),s=b("react.provider"),u=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),f=b("react.suspense_list"),d=b("react.memo"),p=b("react.lazy"),h=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),g=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case p:case d:case s:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===g||e===a||e===l||e===f||e===y||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===d||e.$$typeof===s||e.$$typeof===u||e.$$typeof===c||e.$$typeof===m||e.$$typeof===h||e[0]===v)},t.typeOf=x},57441:function(e,t,n){"use strict";e.exports=n(11372)},73381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},53813:function(e,t,n){var r=n(73381);e.exports=p,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=d;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],d=n[1],p=n.index;if(s+=e.slice(o,p),o=p+f.length,d)s+=d[1];else{var h=e[o],v=n[2],m=n[3],g=n[4],y=n[5],b=n[6],x=n[7];s&&(r.push(s),s="");var k=null!=v&&null!=h&&h!==v,w="+"===b||"*"===b,_="?"===b||"*"===b,S=n[2]||l,T=g||y;r.push({name:m||a++,prefix:v||"",delimiter:S,optional:_,repeat:w,partial:k,asterisk:!!x,pattern:T?c(T):x?".*":"[^"+u(S)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",s=t||{},u=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,d=s[l.name];if(null==d){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<d.length;p++){if(f=u(d[p]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===p?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(d),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)o+=u(c);else{var d=u(c.prefix),p="(?:"+c.pattern+")";t.push(c),c.repeat&&(p+="(?:"+d+p+")*"),o+=p=c.optional?c.partial?d+"("+p+")?":"(?:"+d+"("+p+"))?":d+"("+p+")"}}var h=u(n.delimiter||"/"),v=o.slice(-h.length)===h;return i||(o=(v?o.slice(0,-h.length):o)+"(?:"+h+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+h+"|$)",l(new RegExp("^"+o,f(n)),t)}function p(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(p(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return d(a(e,n),t,n)}(e,t,n)}},29195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case u:return e;default:return t}}case i:return t}}}function w(e){return k(e)===f}},28228:function(e,t,n){"use strict";n(29195)},47332:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(93433),i=n(29439),a=n(43144),o=n(15671),s=n(72791),u=n(27494),c=n.n(u);function l(e){var t=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,n=t.debounce,r=t.scroll,u=t.polyfill,l=t.offsetSize,d=u||("undefined"===typeof window?(0,a.Z)((function e(){(0,o.Z)(this,e)})):window.ResizeObserver);if(!d)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var h=(0,s.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),v=(0,i.Z)(h,2),m=v[0],g=v[1],y=(0,s.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:m}),b=n?"number"===typeof n?n:n.scroll:null,x=n?"number"===typeof n?n:n.resize:null,k=(0,s.useRef)(!1);(0,s.useEffect)((function(){return k.current=!0,function(){k.current=!1}}));var w=(0,s.useMemo)((function(){var e=function(){if(y.current.element){var e=y.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};y.current.element instanceof HTMLElement&&l&&(t.height=y.current.element.offsetHeight,t.width=y.current.element.offsetWidth),Object.freeze(t),k.current&&!p(y.current.lastBounds,t)&&g(y.current.lastBounds=t)}};return[e,x?c()(e,x):e,b?c()(e,b):e]}),[g,l,b,x]),_=(0,i.Z)(w,3),S=_[0],T=_[1],E=_[2];function C(){y.current.scrollContainers&&(y.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",E,!0)})),y.current.scrollContainers=null),y.current.resizeObserver&&(y.current.resizeObserver.disconnect(),y.current.resizeObserver=null)}function O(){y.current.element&&(y.current.resizeObserver=new d(E),y.current.resizeObserver.observe(y.current.element),r&&y.current.scrollContainers&&y.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",E,{capture:!0,passive:!0})})))}var A,I,R;return A=E,I=Boolean(r),(0,s.useEffect)((function(){if(I){var e=A;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",e,!0)}}}),[A,I]),R=T,(0,s.useEffect)((function(){var e=R;return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[R]),(0,s.useEffect)((function(){C(),O()}),[r,E,T]),(0,s.useEffect)((function(){return C}),[]),[function(e){e&&e!==y.current.element&&(C(),y.current.element=e,y.current.scrollContainers=f(e),O())},m,S]}function f(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,(0,r.Z)(f(e.parentElement)))}var d=["x","y","top","bottom","left","right","width","height"],p=function(e,t){return d.every((function(n){return e[n]===t[n]}))}},66374:function(e,t,n){"use strict";var r=n(72791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},59117:function(e,t,n){"use strict";var r=n(31725),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,h=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function k(){}function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=x.prototype;var _=w.prototype=new k;_.constructor=w,r(_,x.prototype),_.isPureReactComponent=!0;var S={current:null},T=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)T.call(t,r)&&!E.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:S.current}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var A=/\/+/g,I=[];function R(e,t,n,r){if(I.length){var i=I.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function N(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function P(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case a:case o:s=!0}}if(s)return n(r,e,""===t?"."+D(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=t+D(i=e[u],u);s+=P(i,c,n,r)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=m&&e[m]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),u=0;!(i=e.next()).done;)s+=P(i=i.value,c=t+D(i,u++),n,r);else if("object"===i)throw n=""+e,Error(g(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return s}function M(e,t,n){return null==e?0:P(e,"",t,n)}function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function j(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,r,n,(function(e){return e})):null!=e&&(O(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function F(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(A,"$&/")+"/"),M(e,j,t=R(t,a,r,i)),N(t)}var Z={current:null};function B(){var e=Z.current;if(null===e)throw Error(g(321));return e}var U={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;M(e,L,t=R(null,null,t,n)),N(t)},count:function(e){return M(e,(function(){return null}),null)},toArray:function(e){var t=[];return F(e,t,null,(function(e){return e})),t},only:function(e){if(!O(e))throw Error(g(143));return e}},t.Component=x,t.Fragment=s,t.Profiler=c,t.PureComponent=w,t.StrictMode=u,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(g(267,e));var i=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)T.call(t,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return B().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,n){return B().useReducer(e,t,n)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="16.14.0"},72791:function(e,t,n){"use strict";e.exports=n(59117)},80184:function(e,t,n){"use strict";e.exports=n(66374)},72296:function(e,t,n){var r,i=n(20056),a=n(88688),o=n(27711),s=/(\+|\-|\*|\\|[^a-z]|)(\s*)(\()/g;e.exports=function(e,t){function n(e,a,u){if(r++>100)throw r=0,new Error("Call stack overflow for "+u);if(""===e)throw new Error(a+"(): '"+u+"' must contain a non-whitespace string");e=function(e,t){e=e.replace(/((?:\-[a-z]+\-)?calc)/g,"");var r,a="",o=e;for(;r=s.exec(o);){r[0].index>0&&(a+=o.substring(0,r[0].index));var u=i("(",")",o.substring([0].index));if(""===u.body)throw new Error("'"+e+"' must contain a non-whitespace string");var c=n(u.body,"",t);a+=u.pre+c,o=u.post}return a+o}(e,u);var c=function(e){var t=[],n=[],r=/[\.0-9]([%a-z]+)/gi,i=r.exec(e);for(;i;)i&&i[1]&&(-1===n.indexOf(i[1].toLowerCase())&&(t.push(i[1]),n.push(i[1].toLowerCase())),i=r.exec(e));return t}(e);if(c.length>1||e.indexOf("var(")>-1)return a+"("+e+")";var l=c[0]||"";"%"===l&&(e=e.replace(/\b[0-9\.]+%/g,(function(e){return.01*parseFloat(e.slice(0,-1))})));var f,d=e.replace(new RegExp(l,"gi"),"");try{f=o.eval(d)}catch(p){return a+"("+e+")"}return"%"===l&&(f*=100),(a.length||"%"===l)&&(f=Math.round(f*t)/t),f+=l}return r=0,t=Math.pow(10,void 0===t?5:t),e=e.replace(/\n+/g," "),a(e,/((?:\-[a-z]+\-)?calc)\(/,n)}},20056:function(e){function t(e,t,i){e instanceof RegExp&&(e=n(e,i)),t instanceof RegExp&&(t=n(t,i));var a=r(e,t,i);return a&&{start:a[0],end:a[1],pre:i.slice(0,a[0]),body:i.slice(a[0]+e.length,a[1]),post:i.slice(a[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function r(e,t,n){var r,i,a,o,s,u=n.indexOf(e),c=n.indexOf(t,u+1),l=u;if(u>=0&&c>0){for(r=[],a=n.length;l>=0&&!s;)l==u?(r.push(l),u=n.indexOf(e,l+1)):1==r.length?s=[r.pop(),c]:((i=r.pop())<a&&(a=i,o=c),c=n.indexOf(t,l+1)),l=u<c&&u>=0?u:c;r.length&&(s=[a,o])}return s}e.exports=t,t.range=r},88688:function(e,t,n){var r=n(14249);function i(e,t,n){var a=e;return function(e,t){var n=[],i="string"===typeof t?new RegExp("\\b("+t+")\\("):t;do{var a=i.exec(e);if(!a)return n;if(void 0===a[1])throw new Error("Missing the first couple of parenthesis to get the function identifier in "+t);var o=a[1],s=a.index,u=r("(",")",e.substring(s));if(!u||u.start!==a[0].length-1)throw new SyntaxError(o+"(): missing closing ')' in the value '"+e+"'");n.push({matches:u,functionIdentifier:o}),e=u.post}while(i.test(e));return n}(e,t).reduce((function(e,r){return e.replace(r.functionIdentifier+"("+r.matches.body+")",function(e,t,n,r,a){return n(i(e,a,n),t,r)}(r.matches.body,r.functionIdentifier,n,a,t))}),e)}e.exports=i},36813:function(e,t){"use strict";var n,r,i,a,o;if("undefined"===typeof window||"function"!==typeof MessageChannel){var s=null,u=null,c=function e(){if(null!==s)try{var n=t.unstable_now();s(!0,n),s=null}catch(r){throw setTimeout(e,0),r}},l=Date.now();t.unstable_now=function(){return Date.now()-l},n=function(e){null!==s?setTimeout(n,0,e):(s=e,setTimeout(c,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},a=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,d=window.Date,p=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)t.unstable_now=function(){return f.now()};else{var m=d.now();t.unstable_now=function(){return d.now()-m}}var g=!1,y=null,b=-1,x=5,k=0;a=function(){return t.unstable_now()>=k},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+x;try{y(!0,e)?_.postMessage(null):(g=!1,y=null)}catch(n){throw _.postMessage(null),n}}else g=!1},n=function(e){y=e,g||(g=!0,_.postMessage(null))},r=function(e,n){b=p((function(){e(t.unstable_now())}),n)},i=function(){h(b),b=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function T(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>C(o,n))void 0!==u&&0>C(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>C(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var O=[],A=[],I=1,R=null,N=3,P=!1,M=!1,D=!1;function L(e){for(var t=T(A);null!==t;){if(null===t.callback)E(A);else{if(!(t.startTime<=e))break;E(A),t.sortIndex=t.expirationTime,S(O,t)}t=T(A)}}function j(e){if(D=!1,L(e),!M)if(null!==T(O))M=!0,n(F);else{var t=T(A);null!==t&&r(j,t.startTime-e)}}function F(e,n){M=!1,D&&(D=!1,i()),P=!0;var o=N;try{for(L(n),R=T(O);null!==R&&(!(R.expirationTime>n)||e&&!a());){var s=R.callback;if(null!==s){R.callback=null,N=R.priorityLevel;var u=s(R.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?R.callback=u:R===T(O)&&E(O),L(n)}else E(O);R=T(O)}if(null!==R)var c=!0;else{var l=T(A);null!==l&&r(j,l.startTime-n),c=!1}return c}finally{R=null,N=o,P=!1}}function Z(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||P||(M=!0,n(F))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return T(O)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();if("object"===typeof o&&null!==o){var u=o.delay;u="number"===typeof u&&0<u?s+u:s,o="number"===typeof o.timeout?o.timeout:Z(e)}else o=Z(e),u=s;return e={id:I++,callback:a,priorityLevel:e,startTime:u,expirationTime:o=u+o,sortIndex:-1},u>s?(e.sortIndex=u,S(A,e),null===T(O)&&e===T(A)&&(D?i():D=!0,r(j,u-s))):(e.sortIndex=o,S(O,e),M||P||(M=!0,n(F))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();L(e);var n=T(O);return n!==R&&null!==R&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<R.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},45296:function(e,t,n){"use strict";e.exports=n(36813)},96699:function(e,t,n){var r=n(22501),i=n(69112),a=n(92132),o=n(20890),s=n(94113),u=n(91725),c=n(63411);c.alea=r,c.xor128=i,c.xorwow=a,c.xorshift7=o,c.xor4096=s,c.tychei=u,e.exports=c},22501:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n=function(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var n=new o(e),r=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.alea=u}(0,e=n.nmd(e),n.amdD)},91725:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.tychei=u}(0,e=n.nmd(e),n.amdD)},69112:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xor128=u}(0,e=n.nmd(e),n.amdD)},94113:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,a=t.i;return t.w=r=r+1640531527|0,n=i[a+34&127],e=i[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,i,a,o,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),i=0,a=-32;a<u;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,i=0==(n=s[127&a]^=r+o)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=o,e.X=s,e.i=i}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.X&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xor4096=u}(0,e=n.nmd(e),n.amdD)},20890:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.x&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xorshift7=u}(0,e=n.nmd(e),n.amdD)},92132:function(e,t,n){var r;!function(e,i,a){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var n=new o(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xorwow=u}(0,e=n.nmd(e),n.amdD)},63411:function(e,t,n){var r;!function(i,a){var o,s=this,u=256,c=a.pow(u,6),l=a.pow(2,52),f=2*l,d=255;function p(e,t,n){var r=[],d=g(m((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(i)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(u):(e=new Uint8Array(u),(s.crypto||s.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=s.navigator,n=t&&t.plugins;return[+new Date,s,n,s.screen,y(i)]}}():e,3),r),p=new h(r),b=function(){for(var e=p.g(6),t=c,n=0;e<l;)e=(e+n)*u,t*=u,n=p.g(1);for(;e>=f;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|p.g(4)},b.quick=function(){return p.g(4)/4294967296},b.double=b,g(y(p.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&v(r,p),e.state=function(){return v(p,{})}),n?(a.random=e,t):e})(b,d,"global"in t?t.global:this==a,t.state)}function h(e){var t,n=e.length,r=this,i=0,a=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);i<u;)o[i]=i++;for(i=0;i<u;i++)o[i]=o[a=d&a+e[i%n]+(t=o[i])],o[a]=t;(r.g=function(e){for(var t,n=0,i=r.i,a=r.j,o=r.S;e--;)t=o[i=d&i+1],n=n*u+o[d&(o[i]=o[a=d&a+t])+(o[a]=t)];return r.i=i,r.j=a,n})(u)}function v(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){var n,r=[],i=typeof e;if(t&&"object"==i)for(n in e)try{r.push(m(e[n],t-1))}catch(a){}return r.length?r:"string"==i?e:e+"\0"}function g(e,t){for(var n,r=e+"",i=0;i<r.length;)t[d&i]=d&(n^=19*t[d&i])+r.charCodeAt(i++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(a.seedrandom=p,g(a.random(),i),e.exports){e.exports=p;try{o=n(75042)}catch(b){}}else void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}([],Math)},79613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},36031:function(e,t,n){"use strict";n.r(t),n.d(t,{ServerStyleSheet:function(){return Be},StyleSheetConsumer:function(){return ie},StyleSheetContext:function(){return re},StyleSheetManager:function(){return le},ThemeConsumer:function(){return Ne},ThemeContext:function(){return Re},ThemeProvider:function(){return Pe},__PRIVATE__:function(){return ze},createGlobalStyle:function(){return Fe},css:function(){return xe},default:function(){return We},isStyledComponent:function(){return x},keyframes:function(){return Ze},useTheme:function(){return Ve},version:function(){return w},withTheme:function(){return Ue}});var r=n(57441),i=n(72791),a=n(79613),o=n.n(a);var s=function(e){function t(e,r,u,c,d){for(var p,h,v,m,x,w=0,_=0,S=0,T=0,E=0,N=0,M=v=p=0,L=0,j=0,F=0,Z=0,B=u.length,U=B-1,V="",z="",W="",H="";L<B;){if(h=u.charCodeAt(L),L===U&&0!==_+T+S+w&&(0!==_&&(h=47===_?10:47),T=S=w=0,B++,U++),0===_+T+S+w){if(L===U&&(0<j&&(V=V.replace(f,"")),0<V.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:V+=u.charAt(L)}h=59}switch(h){case 123:for(p=(V=V.trim()).charCodeAt(0),v=1,Z=++L;L<B;){switch(h=u.charCodeAt(L)){case 123:v++;break;case 125:v--;break;case 47:switch(h=u.charCodeAt(L+1)){case 42:case 47:e:{for(M=L+1;M<U;++M)switch(u.charCodeAt(M)){case 47:if(42===h&&42===u.charCodeAt(M-1)&&L+2!==M){L=M+1;break e}break;case 10:if(47===h){L=M+1;break e}}L=M}}break;case 91:h++;case 40:h++;case 34:case 39:for(;L++<U&&u.charCodeAt(L)!==h;);}if(0===v)break;L++}if(v=u.substring(Z,L),0===p&&(p=(V=V.replace(l,"").trim()).charCodeAt(0)),64===p){switch(0<j&&(V=V.replace(f,"")),h=V.charCodeAt(1)){case 100:case 109:case 115:case 45:j=r;break;default:j=R}if(Z=(v=t(r,j,v,h,d+1)).length,0<P&&(x=s(3,v,j=n(R,V,F),r,O,C,Z,h,d,c),V=j.join(""),void 0!==x&&0===(Z=(v=x.trim()).length)&&(h=0,v="")),0<Z)switch(h){case 115:V=V.replace(k,o);case 100:case 109:case 45:v=V+"{"+v+"}";break;case 107:v=(V=V.replace(g,"$1 $2"))+"{"+v+"}",v=1===I||2===I&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=V+v,112===c&&(z+=v,v="")}else v=""}else v=t(r,n(r,V,F),v,c,d+1);W+=v,v=F=j=M=p=0,V="",h=u.charCodeAt(++L);break;case 125:case 59:if(1<(Z=(V=(0<j?V.replace(f,""):V).trim()).length))switch(0===M&&(p=V.charCodeAt(0),45===p||96<p&&123>p)&&(Z=(V=V.replace(" ",":")).length),0<P&&void 0!==(x=s(1,V,r,e,O,C,z.length,c,d,c))&&0===(Z=(V=x.trim()).length)&&(V="\0\0"),p=V.charCodeAt(0),h=V.charCodeAt(1),p){case 0:break;case 64:if(105===h||99===h){H+=V+u.charAt(L);break}default:58!==V.charCodeAt(Z-1)&&(z+=i(V,p,h,V.charCodeAt(2)))}F=j=M=p=0,V="",h=u.charCodeAt(++L)}}switch(h){case 13:case 10:47===_?_=0:0===1+p&&107!==c&&0<V.length&&(j=1,V+="\0"),0<P*D&&s(0,V,r,e,O,C,z.length,c,d,c),C=1,O++;break;case 59:case 125:if(0===_+T+S+w){C++;break}default:switch(C++,m=u.charAt(L),h){case 9:case 32:if(0===T+w+_)switch(E){case 44:case 58:case 9:case 32:m="";break;default:32!==h&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===T+_+w&&(j=F=1,m="\f"+m);break;case 108:if(0===T+_+w+A&&0<M)switch(L-M){case 2:112===E&&58===u.charCodeAt(L-3)&&(A=E);case 8:111===N&&(A=N)}break;case 58:0===T+_+w&&(M=L);break;case 44:0===_+S+T+w&&(j=1,m+="\r");break;case 34:case 39:0===_&&(T=T===h?0:0===T?h:T);break;case 91:0===T+_+S&&w++;break;case 93:0===T+_+S&&w--;break;case 41:0===T+_+w&&S--;break;case 40:if(0===T+_+w){if(0===p)if(2*E+3*N===533);else p=1;S++}break;case 64:0===_+S+T+w+M+v&&(v=1);break;case 42:case 47:if(!(0<T+w+S))switch(_){case 0:switch(2*h+3*u.charCodeAt(L+1)){case 235:_=47;break;case 220:Z=L,_=42}break;case 42:47===h&&42===E&&Z+2!==L&&(33===u.charCodeAt(Z+2)&&(z+=u.substring(Z,L+1)),m="",_=0)}}0===_&&(V+=m)}N=E,E=h,L++}if(0<(Z=z.length)){if(j=r,0<P&&(void 0!==(x=s(2,z,j,e,O,C,Z,c,d,c))&&0===(z=x).length))return H+z+W;if(z=j.join(",")+"{"+z+"}",0!==I*A){switch(2!==I||a(z,2)||(A=0),A){case 111:z=z.replace(b,":-moz-$1")+z;break;case 112:z=z.replace(y,"::-webkit-input-$1")+z.replace(y,"::-moz-$1")+z.replace(y,":-ms-input-$1")+z}A=0}}return H+z+W}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===I||2===I&&a(u,1)?"-webkit-"+u+u:u}if(0===I||2===I&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return p.test(o)?o.replace(d,":-webkit-")+o.replace(d,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(x,"tb");break;case 232:u=o.replace(x,"tb-rl");break;case 220:u=o.replace(x,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===T.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),M(2!==t?r:r.replace(S,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,l){for(var f,d=0,p=t;d<P;++d)switch(f=N[d].call(c,e,p,n,r,i,a,o,s,u,l)){case void 0:case!1:case!0:case null:break;default:p=f}if(p!==t)return p}function u(e){return void 0!==(e=e.prefix)&&(M=null,e?"function"!==typeof e?I=1:(I=2,M=e):I=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<P){var i=s(-1,n,r,r,O,C,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(R,r,n,0,0);return 0<P&&(void 0!==(i=s(-2,a,r,r,O,C,a.length,0,0,0))&&(a=i)),"",A=0,C=O=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,d=/: */g,p=/zoo|gra/,h=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,x=/[svh]\w+-[tblr]{2}/,k=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,_=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,C=1,O=1,A=0,I=1,R=[],N=[],P=0,M=null,D=0;return c.use=function e(t){switch(t){case void 0:case null:P=N.length=0;break;default:if("function"===typeof t)N[P++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else D=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},u={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var c=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,l=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return c.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),f=n(62110),d=n.n(f);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},v=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,r.typeOf)(e)},m=Object.freeze([]),g=Object.freeze({});function y(e){return"function"==typeof e}function b(e){return e.displayName||e.name||"Component"}function x(e){return e&&"string"==typeof e.styledComponentId}var k="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.SC_ATTR)||"data-styled",w="5.3.5",_="undefined"!=typeof window&&"HTMLElement"in window,S=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.SC_DISABLE_SPEEDY)),T={};function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var C=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&E(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),O=new Map,A=new Map,I=1,R=function(e){if(O.has(e))return O.get(e);for(;A.has(I);)I++;var t=I++;return O.set(e,t),A.set(t,e),t},N=function(e){return A.get(e)},P=function(e,t){t>=I&&(I=t+1),O.set(e,t),A.set(t,e)},M="style["+k+'][data-styled-version="5.3.5"]',D=new RegExp("^"+k+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),L=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},j=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(D);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(P(c,u),L(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},F=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},Z=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(k))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(k,"active"),r.setAttribute("data-styled-version","5.3.5");var o=F();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},B=function(){function e(e){var t=this.element=Z(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}E(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),U=function(){function e(e){var t=this.element=Z(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),V=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),z=_,W={isServer:!_,useCSSOMInjection:!S},H=function(){function e(e,t,n){void 0===e&&(e=g),void 0===t&&(t={}),this.options=p({},W,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&_&&z&&(z=!1,function(e){for(var t=document.querySelectorAll(M),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(k)&&(j(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return R(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(p({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new V(i):r?new B(i):new U(i),new C(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(R(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(R(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(R(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=N(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=k+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),G=/(a)(d)/gi,q=function(e){return String.fromCharCode(e+(e>25?39:97))};function K(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=q(t%52)+n;return(q(t%52)+n).replace(G,"$1-$2")}var Y=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},X=function(e){return Y(5381,e)};function Q(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(y(n)&&!x(n))return!1}return!0}var J=X("5.3.5"),$=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Q(e),this.componentId=t,this.baseHash=Y(J,t),this.baseStyle=n,H.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=ye(this.rules,e,t,n).join(""),o=K(Y(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,c=Y(this.baseHash,n.hash),l="",f=0;f<u;f++){var d=this.rules[f];if("string"==typeof d)l+=d;else if(d){var p=ye(d,e,t,n),h=Array.isArray(p)?p.join(""):p;c=Y(c,h+f),l+=h}}if(l){var v=K(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),ee=/^\s*\/\/.*$/gm,te=[":","[",".","#"];function ne(e){var t,n,r,i,a=void 0===e?g:e,o=a.options,u=void 0===o?g:o,c=a.plugins,l=void 0===c?m:c,f=new s(u),d=[],p=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){d.push(e)})),h=function(e,r,a){return 0===r&&-1!==te.indexOf(a[n.length])||a.match(i)?e:"."+t};function v(e,a,o,s){void 0===s&&(s="&");var u=e.replace(ee,""),c=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),f(o||!a?"":a,c)}return f.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,h))},p,function(e){if(-2===e){var t=d;return d=[],t}}])),v.hash=l.length?l.reduce((function(e,t){return t.name||E(15),Y(e,t.name)}),5381).toString():"",v}var re=i.createContext(),ie=re.Consumer,ae=i.createContext(),oe=(ae.Consumer,new H),se=ne();function ue(){return(0,i.useContext)(re)||oe}function ce(){return(0,i.useContext)(ae)||se}function le(e){var t=(0,i.useState)(e.stylisPlugins),n=t[0],r=t[1],a=ue(),s=(0,i.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,i.useMemo)((function(){return ne({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,i.useEffect)((function(){o()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),i.createElement(re.Provider,{value:s},i.createElement(ae.Provider,{value:u},e.children))}var fe=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=se);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return E(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=se),this.name+e.hash},e}(),de=/([A-Z])/,pe=/([A-Z])/g,he=/^ms-/,ve=function(e){return"-"+e.toLowerCase()};function me(e){return de.test(e)?e.replace(pe,ve).replace(he,"-ms-"):e}var ge=function(e){return null==e||!1===e||""===e};function ye(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=ye(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return ge(e)?"":x(e)?"."+e.styledComponentId:y(e)?"function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!t?e:ye(e(t),t,n,r):e instanceof fe?n?(e.inject(n,r),e.getName(r)):e:v(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!ge(t[o])&&(Array.isArray(t[o])&&t[o].isCss||y(t[o])?a.push(me(o)+":",t[o],";"):v(t[o])?a.push.apply(a,e(t[o],o)):a.push(me(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in u?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var c}var be=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function xe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return y(e)||v(e)?be(ye(h(m,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:be(ye(h(e,n)))}new Set;var ke=function(e,t,n){return void 0===n&&(n=g),e.theme!==n.theme&&e.theme||t||n.theme},we=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,_e=/(^-|-$)/g;function Se(e){return e.replace(we,"-").replace(_e,"")}var Te=function(e){return K(X(e)>>>0)};function Ee(e){return"string"==typeof e&&!0}var Ce=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Oe=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Ae(e,t,n){var r=e[n];Ce(t)&&Ce(r)?Ie(r,t):e[n]=t}function Ie(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Ce(o))for(var s in o)Oe(s)&&Ae(e,o[s],s)}return e}var Re=i.createContext(),Ne=Re.Consumer;function Pe(e){var t=(0,i.useContext)(Re),n=(0,i.useMemo)((function(){return function(e,t){return e?y(e)?e(t):Array.isArray(e)||"object"!=typeof e?E(8):t?p({},t,{},e):e:E(14)}(e.theme,t)}),[e.theme,t]);return e.children?i.createElement(Re.Provider,{value:n},e.children):null}var Me={};function De(e,t,n){var r=x(e),a=!Ee(e),o=t.attrs,s=void 0===o?m:o,u=t.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":Se(e);Me[n]=(Me[n]||0)+1;var r=n+"-"+Te("5.3.5"+n+Me[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,f=t.displayName,h=void 0===f?function(e){return Ee(e)?"styled."+e:"Styled("+b(e)+")"}(e):f,v=t.displayName&&t.componentId?Se(t.displayName)+"-"+t.componentId:t.componentId||c,k=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,w=t.shouldForwardProp;r&&e.shouldForwardProp&&(w=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var _,S=new $(n,v,r?e.componentStyle:void 0),T=S.isStatic&&0===s.length,E=function(e,t){return function(e,t,n,r){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,f=e.styledComponentId,d=e.target,h=function(e,t,n){void 0===e&&(e=g);var r=p({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in y(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(ke(t,(0,i.useContext)(Re),s)||g,t,a),v=h[0],m=h[1],b=function(e,t,n,r){var i=ue(),a=ce();return t?e.generateAndInjectStyles(g,i,a):e.generateAndInjectStyles(n,i,a)}(o,r,v),x=n,k=m.$as||t.$as||m.as||t.as||d,w=Ee(k),_=m!==t?p({},t,{},m):t,S={};for(var T in _)"$"!==T[0]&&"as"!==T&&("forwardedAs"===T?S.as=_[T]:(c?c(T,l,k):!w||l(T))&&(S[T]=_[T]));return t.style&&m.style!==t.style&&(S.style=p({},t.style,{},m.style)),S.className=Array.prototype.concat(u,f,b!==f?b:null,t.className,m.className).filter(Boolean).join(" "),S.ref=x,(0,i.createElement)(k,S)}(_,e,t,T)};return E.displayName=h,(_=i.forwardRef(E)).attrs=k,_.componentStyle=S,_.displayName=h,_.shouldForwardProp=w,_.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):m,_.styledComponentId=v,_.target=r?e.target:e,_.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(Ee(e)?e:Se(b(e)));return De(e,p({},i,{attrs:k,componentId:a}),n)},Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Ie({},e.defaultProps,t):t}}),_.toString=function(){return"."+_.styledComponentId},a&&d()(_,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),_}var Le=function(e){return function e(t,n,i){if(void 0===i&&(i=g),!(0,r.isValidElementType)(n))return E(1,String(n));var a=function(){return t(n,i,xe.apply(void 0,arguments))};return a.withConfig=function(r){return e(t,n,p({},i,{},r))},a.attrs=function(r){return e(t,n,p({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},a}(De,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Le[e]=Le(e)}));var je=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Q(e),H.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(ye(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&H.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Fe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=xe.apply(void 0,[e].concat(n)),o="sc-global-"+Te(JSON.stringify(a)),s=new je(a,o);function u(e){var t=ue(),n=ce(),r=(0,i.useContext)(Re),a=(0,i.useRef)(t.allocateGSInstance(o)).current;return t.server&&c(a,e,t,r,n),(0,i.useLayoutEffect)((function(){if(!t.server)return c(a,e,t,r,n),function(){return s.removeStyles(a,t)}}),[a,e,t,r,n]),null}function c(e,t,n,r,i){if(s.isStatic)s.renderStyles(e,T,n,i);else{var a=p({},t,{theme:ke(t,r,u.defaultProps)});s.renderStyles(e,a,n,i)}}return i.memo(u)}function Ze(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=xe.apply(void 0,[e].concat(n)).join(""),a=Te(i);return new fe(a,i)}var Be=function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=F();return"<style "+[n&&'nonce="'+n+'"',k+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?E(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return E(2);var n=((t={})[k]="",t["data-styled-version"]="5.3.5",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=F();return r&&(n.nonce=r),[i.createElement("style",p({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new H({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(e){return this.sealed?E(2):i.createElement(le,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return E(3)},e}(),Ue=function(e){var t=i.forwardRef((function(t,n){var r=(0,i.useContext)(Re),a=e.defaultProps,o=ke(t,r,a);return i.createElement(e,p({},t,{theme:o,ref:n}))}));return d()(t,e),t.displayName="WithTheme("+b(e)+")",t},Ve=function(){return(0,i.useContext)(Re)},ze={StyleSheet:H,masterSheet:oe},We=Le},94774:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(65084),n(18116),n(33858),n(87264),n(22583),n(58894),n(44584);var r=n(17156),i=n(56690),a=n(89728),o=n(66115),s=n(61655),u=n(94993),c=n(73808),l=n(38416);n(32463),n(65202),n(67675);var f=n(64687),d=n(18698),p=n(1263),h=n(58868),v=n(33496);n(4778),n(68225),n(89104),n(59147);var m=n(62895);n(49258),n(4772),n(85625);var g=n(27424);n(18887),n(45742),n(81740),n(83265),n(20447),n(86245);var y=n(8645);n(54178);var b=n(24610),x=n(41588);n(30974);var k=n(53912);function w(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var S=w(r),T=w(i),E=w(a),C=w(o),O=w(s),A=w(u),I=w(c),R=w(l),N=w(f),P=w(d),M=w(v),D=_(m),L=w(g),j=_(b),F=w(x),Z=_(k);function B(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":P.default(Reflect))&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function U(e,t){if("object"===("undefined"===typeof Reflect?"undefined":P.default(Reflect))&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function V(){}function z(){z.init.call(this)}function W(e){return void 0===e._maxListeners?z.defaultMaxListeners:e._maxListeners}function H(e,t,n){if(t)e.call(n);else for(var r=e.length,i=$(e,r),a=0;a<r;++a)i[a].call(n)}function G(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,a=$(e,i),o=0;o<i;++o)a[o].call(n,r)}function q(e,t,n,r,i){if(t)e.call(n,r,i);else for(var a=e.length,o=$(e,a),s=0;s<a;++s)o[s].call(n,r,i)}function K(e,t,n,r,i,a){if(t)e.call(n,r,i,a);else for(var o=e.length,s=$(e,o),u=0;u<o;++u)s[u].call(n,r,i,a)}function Y(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,a=$(e,i),o=0;o<i;++o)a[o].apply(n,r)}function X(e,t,n,r){var i,a,o,s;if("function"!==typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]):(a=e._events=new V,e._eventsCount=0),o){if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=W(e))&&i>0&&o.length>i){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,"function"===typeof console.warn?console.warn(s):console.log(s)}}else o=a[t]=n,++e._eventsCount;return e}function Q(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function J(e){var t=this._events;if(t){var n=t[e];if("function"===typeof n)return 1;if(n)return n.length}return 0}function $(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}V.prototype=Object.create(null),z.EventEmitter=z,z.usingDomains=!1,z.prototype.domain=void 0,z.prototype._events=void 0,z.prototype._maxListeners=void 0,z.defaultMaxListeners=10,z.init=function(){this.domain=null,z.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new V,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},z.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},z.prototype.getMaxListeners=function(){return W(this)},z.prototype.emit=function(e){var t,n,r,i,a,o,s,u="error"===e;if(o=this._events)u=u&&null==o.error;else if(!u)return!1;if(s=this.domain,u){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(n=o[e]))return!1;var l="function"===typeof n;switch(r=arguments.length){case 1:H(n,l,this);break;case 2:G(n,l,this,arguments[1]);break;case 3:q(n,l,this,arguments[1],arguments[2]);break;case 4:K(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),a=1;a<r;a++)i[a-1]=arguments[a];Y(n,l,this,i)}return!0},z.prototype.addListener=function(e,t){return X(this,e,t,!1)},z.prototype.on=z.prototype.addListener,z.prototype.prependListener=function(e,t){return X(this,e,t,!0)},z.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,Q(this,e,t)),this},z.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,Q(this,e,t)),this},z.prototype.removeListener=function(e,t){var n,r,i,a,o;if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0===--this._eventsCount?this._events=new V:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0===--this._eventsCount)return this._events=new V,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,o||t)}return this},z.prototype.off=function(e,t){return this.removeListener(e,t)},z.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new V,this._eventsCount=0):n[e]&&(0===--this._eventsCount?this._events=new V:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),a=0;a<i.length;++a)"removeListener"!==(r=i[a])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new V,this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},z.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"===typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},z.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):J.call(e,t)},z.prototype.listenerCount=J,z.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var ee=function(){function e(t){T.default(this,e),this.base=t,this.args=new Array,this.paths=new Array}return E.default(e,[{key:"pathSegment",value:function(e){return this.paths.push(encodeURIComponent(e)),this}},{key:"queryParam",value:function(e,t){return"undefined"!==typeof t&&this.args.push(encodeURIComponent(e)+"="+encodeURIComponent(t)),this}},{key:"build",value:function(){var e=this.base;return this.paths.length&&(e+="/"+this.paths.join("/")),this.args.length&&(e+="?"+this.args.join("&")),e}}]),e}();function te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var ne=function(e){O.default(n,e);var t=te(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return T.default(this,n),(r=t.call(this)).name=r.constructor.name,r.message="".concat(e," (status: ").concat(i,", code: ").concat(a,")"),r.status=i,r.code=a,r}return n}(M.default(Error)),re=function(e){O.default(n,e);var t=te(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0;return T.default(this,n),(r=t.call(this,e,i,a)).body=o,r}return n}(ne);function ie(e){return JSON.parse(JSON.stringify(e))}function ae(e){if(!(void 0===e||oe(e)))throw new ne("Invalid pageSize parameter. Expected a positive integer, was '".concat(e,"'."),400,20007)}function oe(e){return function(e){return!isNaN(parseInt(e))&&isFinite(e)}(e)&&e>0}var se=D.getLogger("twilio-sync");function ue(e,t){return["".concat((new Date).toISOString()," Sync ").concat(e,":")].concat(Array.from(t))}var ce=function(e){se.setLevel(e)},le=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];se.trace.apply(null,ue("T",t))},fe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];se.debug.apply(null,ue("D",t))},de=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];se.warn.apply(null,ue("W",t))},pe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];se.error.apply(null,ue("E",t))},he="/v4/Subscriptions",ve="/v3/Maps",me="/v3/Lists",ge="/v3/Documents",ye="/v3/Streams",be="/v3/Insights";function xe(e,t,n){return e&&"undefined"!==typeof e[t]?e[t]:n}var ke=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};T.default(this,e);var n=t.region||"us1",r="https://cds.".concat(n,".twilio.com"),i=t.cdsUri||r;this.settings={subscriptionsUri:i+he,documentsUri:i+ge,listsUri:i+me,mapsUri:i+ve,streamsUri:i+ye,insightsUri:i+be,sessionStorageEnabled:xe(t.Sync,"enableSessionStorage",!0),productId:t.productId}}return E.default(e,[{key:"subscriptionsUri",get:function(){return this.settings.subscriptionsUri}},{key:"documentsUri",get:function(){return this.settings.documentsUri}},{key:"listsUri",get:function(){return this.settings.listsUri}},{key:"mapsUri",get:function(){return this.settings.mapsUri}},{key:"streamsUri",get:function(){return this.settings.streamsUri}},{key:"insightsUri",get:function(){return this.settings.insightsUri}},{key:"backoffConfig",get:function(){return this.settings.backoffConfig||{}}},{key:"sessionStorageEnabled",get:function(){return this.settings.sessionStorageEnabled}},{key:"productId",get:function(){return this.settings.productId}}]),e}();function we(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Se=function(){function e(t){T.default(this,e),this.localObject=t,this.pendingCorrelationId=null,this.pendingAction=null,this.established=!1,this.retryCount=0}return E.default(e,[{key:"sid",get:function(){return this.localObject.sid}},{key:"type",get:function(){return this.localObject.type}},{key:"lastEventId",get:function(){return this.localObject.lastEventId}},{key:"indexName",get:function(){return this.localObject.indexName}},{key:"queryString",get:function(){return this.localObject.queryString}},{key:"isEstablished",get:function(){return this.established}},{key:"update",value:function(e,t){this.localObject._update(e,t)}},{key:"updatePending",value:function(e,t){this.pendingAction=e,this.pendingCorrelationId=t}},{key:"reset",value:function(){this.updatePending(null,null),this.retryCount=0,this.established=!1,this.setSubscriptionState("none")}},{key:"markAsFailed",value:function(e){this.rejectedWithError=e.error,this.updatePending(null,null),this.localObject.reportFailure(new ne("Failed to subscribe on service events: ".concat(e.error.message),e.error.status,e.error.code))}},{key:"complete",value:function(e){this.updatePending(null,null),this.established=!0,this.localObject._advanceLastEventId(e)}},{key:"setSubscriptionState",value:function(e){this.localObject._setSubscriptionState(e)}}]),e}(),Te=function(){function e(t){var n=this;T.default(this,e),R.default(this,"isConnected",!1),R.default(this,"maxBatchSize",100),R.default(this,"subscriptionTtlTimer",null),R.default(this,"pendingPokeReason",null),this.services=t,this.subscriptions=new Map,this.persisted=new Map,this.latestPokeResponseArrivalTimestampByCorrelationId=new Map;this.backoff=y.Backoff.exponential(Object.assign({randomisationFactor:.2,initialDelay:100,maxDelay:12e4},this.services.config.backoffConfig)),this.backoff.on("ready",(function(){var e=n.getSubscriptionUpdateBatch(),t=e.action,r=e.subscriptions;t?n.applyNewSubscriptionUpdateBatch(t,r):(n.backoff.reset(),fe("All subscriptions resolved."))}))}return E.default(e,[{key:"getSubscriptionUpdateBatch",value:function(){function e(e,t,n,r){var i,a=[],o=we(e);try{for(o.s();!(i=o.n()).done;){var s=L.default(i.value,2),u=s[0],c=s[1];if(!t.get(u)&&n!==c.pendingAction&&!c.rejectedWithError&&(a.push(c),r&&a.length>=r))break}}catch(l){o.e(l)}finally{o.f()}return a}var t=e(this.subscriptions,this.persisted,"establish",this.maxBatchSize);if(t.length>0)return{action:"establish",subscriptions:t};var n=e(this.persisted,this.subscriptions,"cancel",this.maxBatchSize);return n.length>0?{action:"cancel",subscriptions:n}:{action:null,subscriptions:null}}},{key:"persist",value:function(){this.backoff.backoff()}},{key:"applyNewSubscriptionUpdateBatch",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i,a,o,s,u,c,l,f,d,p,v,m,g,y=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isConnected){e.next=4;break}return fe("Twilsock connection (required for subscription) not ready; waiting\u2026"),this.backoff.reset(),e.abrupt("return");case 4:n=this.processLocalActions(t,n),r=(new Date).getTime(),i=we(n);try{for(i.s();!(a=i.n()).done;)o=a.value,this.recordActionAttemptOn(o,t,r)}catch(b){i.e(b)}finally{i.f()}return s=this.pendingPokeReason,this.pendingPokeReason=null,e.prev=10,e.next=13,this.request(t,r,s,n);case 13:u=e.sent,c=u.body.max_batch_size,!isNaN(parseInt(c))&&isFinite(c)&&c>0&&(this.maxBatchSize=c),this.subscriptionTtlTimer||(l=u.body.ttl_in_s,f=!isNaN(parseFloat(l))&&isFinite(l),f&&l>0&&(this.subscriptionTtlTimer=setTimeout((function(){return y.onSubscriptionTtlElapsed()}),1e3*l))),"establish"===t&&(d=u.body.estimated_delivery_in_ms,p=!isNaN(parseFloat(d))&&isFinite(d),p&&d>0?setTimeout((function(){return y.verifyPokeDelivery(r,d,n)}),d):pe("Invalid timeout: ".concat(d)),n.filter((function(e){return e.pendingCorrelationId===r})).forEach((function(e){return e.setSubscriptionState("response_in_flight")}))),this.backoff.reset(),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(10),v=we(n);try{for(v.s();!(m=v.n()).done;)g=m.value,this.recordActionFailureOn(g,t)}catch(b){v.e(b)}finally{v.f()}e.t0 instanceof h.TransportUnavailableError?(fe("Twilsock connection (required for subscription) not ready (c:".concat(r,"); waiting\u2026")),this.backoff.reset()):(fe("Failed an attempt to ".concat(t," subscriptions (c:").concat(r,"); retrying"),e.t0),this.persist());case 26:case"end":return e.stop()}}),e,this,[[10,21]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"verifyPokeDelivery",value:function(e,t,n){var r=this,i=this.latestPokeResponseArrivalTimestampByCorrelationId.get(e),a=i?(new Date).getTime()-i:t;a>=t?(n.filter((function(t){return t.pendingCorrelationId===e})).forEach((function(e){e.updatePending(null,null),e.retryCount++,r.persisted.delete(e.sid)})),this.persist(),this.latestPokeResponseArrivalTimestampByCorrelationId.delete(e)):setTimeout((function(){return r.verifyPokeDelivery(e,t,n)}),t-a)}},{key:"processLocalActions",value:function(e,t){return"cancel"===e?t.filter((function(e){return!e.rejectedWithError})):t}},{key:"recordActionAttemptOn",value:function(e,t,n){if(e.setSubscriptionState("request_in_flight"),"establish"===t)this.persisted.set(e.sid,e),e.updatePending(t,n);else{var r=this.persisted.get(e.sid);r&&r.updatePending(t,n)}}},{key:"recordActionFailureOn",value:function(e,t){e.setSubscriptionState("none"),e.updatePending(null,null),"establish"===t&&this.persisted.delete(e.sid)}},{key:"request",value:function(e,t,n,r){var i=r.map((function(t){return{object_sid:t.sid,object_type:t.type,last_event_id:"establish"===e?t.lastEventId:void 0,index_name:"establish"===e?t.indexName:void 0,query_string:"establish"===e?t.queryString:void 0}})),a=r.filter((function(e){return e.retryCount>0})).length;fe("Attempting '".concat(e,"' request (c:").concat(t,"):"),i);var o={event_protocol_version:4,action:e,correlation_id:t,retried_requests:a,ttl_in_s:-1,requests:i};return"ttl"===n&&(o.reason=n),this.services.network.post(this.services.config.subscriptionsUri,o)}},{key:"add",value:function(e,t){fe("Establishing intent to subscribe to ".concat(e));var n=this.subscriptions.get(e);n&&t&&n.lastEventId===t.lastEventId||(this.persisted.delete(e),this.subscriptions.set(e,new Se(t)),this.persist())}},{key:"remove",value:function(e){fe("Establishing intent to unsubscribe from ".concat(e)),this.subscriptions.delete(e)&&this.persist()}},{key:"acceptMessage",value:function(e,t){le("Subscriptions received",e);var n=e.event_type,r="undefined"!==typeof e.events?e.events:[e.event],i=e.correlation_id;i&&this.latestPokeResponseArrivalTimestampByCorrelationId.set(i,(new Date).getTime());var a,o=we(r);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=void 0;switch(e.event_type){case"subscription_established":this.applySubscriptionEstablishedMessage(s,i);break;case"subscription_canceled":this.applySubscriptionCancelledMessage(s,i);break;case"subscription_failed":this.applySubscriptionFailedMessage(s,i);break;case(u=n.match(/^(?:map|list|document|stream|live_query)_/)||{}).input:var c=void 0;switch(u[0]){case"map_":c=s.map_sid;break;case"list_":c=s.list_sid;break;case"document_":c=s.document_sid;break;case"stream_":c=s.stream_sid;break;case"live_query_":c=s.query_id,t=!1,!0===e.strictly_ordered&&(t=!0);break;default:c=void 0}this.applyEventToSubscribedEntity(c,s,n,t);break;default:fe("Dropping unknown message type ".concat(n))}}}catch(l){o.e(l)}finally{o.f()}}},{key:"applySubscriptionEstablishedMessage",value:function(e,t){var n=e.object_sid,r=this.persisted.get(e.object_sid);r&&r.pendingCorrelationId===t?"interrupted"===e.replay_status?(fe("Event Replay for subscription to ".concat(n," (c:").concat(t,") interrupted; continuing eagerly.")),r.updatePending(null,null),this.persisted.delete(r.sid),this.backoff.reset()):"completed"===e.replay_status&&(fe("Event Replay for subscription to ".concat(n," (c:").concat(t,") completed. Subscription is ready.")),r.complete(e.last_event_id),this.persisted.set(e.object_sid,r),r.setSubscriptionState("established"),this.backoff.reset()):fe("Late message for ".concat(e.object_sid," (c:").concat(t,") dropped.")),this.persist()}},{key:"applySubscriptionCancelledMessage",value:function(e,t){var n=this.persisted.get(e.object_sid);n&&n.pendingCorrelationId===t?(n.updatePending(null,null),n.setSubscriptionState("none"),this.persisted.delete(e.object_sid)):fe("Late message for ".concat(e.object_sid," (c:").concat(t,") dropped.")),this.persist()}},{key:"applySubscriptionFailedMessage",value:function(e,t){var n=e.object_sid,r=this.subscriptions.get(n),i=this.persisted.get(n);r&&i?i.pendingCorrelationId===t&&(pe("Failed to subscribe on ".concat(i.sid),e.error),i.markAsFailed(e),i.setSubscriptionState("none")):!r&&i&&(this.persisted.delete(n),i.setSubscriptionState("none")),this.persist()}},{key:"applyEventToSubscribedEntity",value:function(e,t,n,r){var i=this;if(e){r=r||function(){var t=i.persisted.get(e);return t&&t.isEstablished}();var a=this.subscriptions.get(e);a?(t.type=n,a.update(t,r)):fe("Message dropped for SID '".concat(e,"', for which there is no subscription."))}}},{key:"onConnectionStateChanged",value:function(e){this.isConnected=e,e&&this.poke("reconnect")}},{key:"onSubscriptionTtlElapsed",value:function(){this.isConnected&&this.poke("ttl")}},{key:"poke",value:function(e){fe("Triggering event replay for all subscriptions, reason=".concat(e)),this.pendingPokeReason=e,this.subscriptionTtlTimer&&(clearTimeout(this.subscriptionTtlTimer),this.subscriptionTtlTimer=null);var t,n=[],r=we(this.persisted.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.reset(),i.rejectedWithError&&n.push(i)}}catch(u){r.e(u)}finally{r.f()}this.persisted.clear();for(var a=0,o=n;a<o.length;a++){var s=o[a];this.persisted.set(s.sid,s)}this.persist()}},{key:"shutdown",value:function(){this.backoff.reset(),this.subscriptions.clear()}}]),e}();function Ee(e){if(e.body&&e.body.message)return e.body.message;switch(e.status){case 429:return"Throttled by server";case 404:return"Not found from server";default:return"Error from server"}}function Ce(e){return e.body?e.body.code:0}function Oe(e){return 409===e.status?new re(Ee(e),e.status,Ce(e),e.body):e.status?new ne(Ee(e),e.status,Ce(e)):e instanceof h.TransportUnavailableError?e:new ne(e.message,0,0)}var Ae=function(){function e(t,n,r){T.default(this,e),this.clientInfo=t,this.config=n,this.transport=r}return E.default(e,[{key:"createHeaders",value:function(){return{"Content-Type":"application/json","Twilio-Sync-Client-Info":JSON.stringify(this.clientInfo),"Twilio-Request-Id":"RQ"+j.v4().replace(/-/g,"")}}},{key:"backoffConfig",value:function(){return Object.assign({min:4e3,max:6e4,maxAttemptsTime:9e4,randomness:.2},this.config.backoffConfig)}},{key:"executeWithRetry",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(r,i){var a=[502,503,504];n&&a.push(429);var o=new y.Retrier(t.backoffConfig());o.on("attempt",(function(){e().then((function(e){return o.succeeded(e)})).catch((function(e){if(a.includes(e.status)){var t=parseInt(e.headers?e.headers["Retry-After"]:null);o.failed(Oe(e),isNaN(t)?null:1e3*t)}else"Twilsock disconnected"===e.message?o.failed(Oe(e)):(o.removeAllListeners(),o.cancel(),i(Oe(e)))}))})),o.on("succeeded",(function(e){r(e)})),o.on("cancelled",(function(e){return i(Oe(e))})),o.on("failed",(function(e){return i(Oe(e))})),o.start()}))}},{key:"get",value:function(e){var t=this,n=this.createHeaders();return fe("GET",e,"ID:",n["Twilio-Request-Id"]),this.executeWithRetry((function(){return t.transport.get(e,n,t.config.productId)}),!0)}},{key:"post",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=this.createHeaders();return"undefined"!==typeof n&&null!==n&&(a["If-Match"]=n),fe("POST",e,"ID:",a["Twilio-Request-Id"]),this.executeWithRetry((function(){return r.transport.post(e,a,t,r.config.productId)}),i)}},{key:"put",value:function(e,t,n){var r=this,i=this.createHeaders();return"undefined"!==typeof n&&null!==n&&(i["If-Match"]=n),fe("PUT",e,"ID:",i["Twilio-Request-Id"]),this.executeWithRetry((function(){return r.transport.put(e,i,t,r.config.productId)}),!1)}},{key:"delete",value:function(e){var t=this,n=this.createHeaders();return fe("DELETE",e,"ID:",n["Twilio-Request-Id"]),this.executeWithRetry((function(){return t.transport.delete(e,n,t.config.productId)}),!1)}}]),e}(),Ie=function(){function e(t,n){T.default(this,e),this.config=t,this.storageId=null;try{this.storage=n||sessionStorage}catch(r){}}return E.default(e,[{key:"storageKey",value:function(e,t){return"".concat(this.storageId,"::").concat(e,"::").concat(t)}},{key:"isReady",get:function(){return this.config.sessionStorageEnabled&&!!this.storageId}},{key:"updateStorageId",value:function(e){this.storageId=e}},{key:"store",value:function(e,t,n){return this.isReady?this._store(this.storageKey(e,t),n):null}},{key:"read",value:function(e,t){return this.isReady?this._read(this.storageKey(e,t)):null}},{key:"remove",value:function(e,t,n){if(!this.isReady)return null;try{this.storage.removeItem(this.storageKey(e,t)),n&&this.storage.removeItem(this.storageKey(e,n))}catch(r){}}},{key:"update",value:function(e,t,n,r){if(!this.isReady)return null;this._apply(this.storageKey(e,t),r),n&&this._apply(this.storageKey(e,n),r)}},{key:"_store",value:function(e,t){try{this.storage.setItem(e,JSON.stringify(t))}catch(n){}}},{key:"_read",value:function(e){try{var t=this.storage.getItem(e);if(t)return JSON.parse(t)}catch(n){}return null}},{key:"_apply",value:function(e,t){var n=this._read(e);if(!n)return!1;this._store(e,Object.assign(n,t))}}]),e}();function Re(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pe=function(){function e(t,n){T.default(this,e),this.services=t,this.removalHandler=n,this.subscriptionState="none",this._attachedListeners=new Map}return E.default(e,[{key:"_advanceLastEventId",value:function(e,t){}},{key:"reportFailure",value:function(e){404===e.status?this.onRemoved(!1):this.broadcastEventToListeners("failure",e)}},{key:"_subscribe",value:function(){this.services.router._subscribe(this.sid,this)}},{key:"_unsubscribe",value:function(){this.services.router._unsubscribe(this.sid)}},{key:"_setSubscriptionState",value:function(e){this.subscriptionState=e,this.broadcastEventToListeners("_subscriptionStateChanged",e)}},{key:"close",value:function(){this._unsubscribe(),null!=this.removalHandler&&this.removalHandler(this.type,this.sid,this.uniqueName)}},{key:"attach",value:function(e){var t=e.listenerUuid;this._attachedListeners.get(t)||(this._attachedListeners.size||this._subscribe(),this._attachedListeners.set(t,e))}},{key:"detach",value:function(e){this._attachedListeners.delete(e),this._attachedListeners.size||this.close()}},{key:"broadcastEventToListeners",value:function(e,t){var n,r=Re(this._attachedListeners.values());try{for(r.s();!(n=r.n()).done;){n.value.emit(e,t)}}catch(i){r.e(i)}finally{r.f()}}}]),e}(),Me=function(){function e(t){T.default(this,e),R.default(this,"queuedRequests",[]),R.default(this,"isRequestInFlight",!1),this.inputMergingFunction=t}return E.default(e,[{key:"add",value:function(e,t){var n=this,r=new Promise((function(r,i){return n.queuedRequests.push({input:e,requestFunction:t,resolve:r,reject:i})}));return this.wakeupQueue(),r}},{key:"squashAndAdd",value:function(e,t){var n,r=this.queuedRequests;this.queuedRequests=[],r.length>0?(n=r.map((function(e){return e.input})).reduce(this.inputMergingFunction),n=this.inputMergingFunction(n,e)):n=e;var i=this.add(n,t);return r.forEach((function(e){return i.then(e.resolve,e.reject)})),i}},{key:"isEmpty",value:function(){return 0===this.queuedRequests.length&&!this.isRequestInFlight}},{key:"wakeupQueue",value:function(){var e=this;if(0!==this.queuedRequests.length&&!this.isRequestInFlight){var t=this.queuedRequests.shift();this.isRequestInFlight=!0,t.requestFunction(t.input).then(t.resolve,t.reject).then((function(t){e.isRequestInFlight=!1,e.wakeupQueue()}))}}}]),e}(),De=function(){function e(t){T.default(this,e),R.default(this,"queueByNamespaceKey",new Map),this.inputReducer=t}return E.default(e,[{key:"add",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.invokeQueueMethod(t,(function(e){return e.add(n,r)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"squashAndAdd",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.invokeQueueMethod(t,(function(e){return e.squashAndAdd(n,r)})));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"invokeQueueMethod",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.queueByNamespaceKey.has(t)||this.queueByNamespaceKey.set(t,new Me(this.inputReducer)),r=this.queueByNamespaceKey.get(t),i=n(r),this.queueByNamespaceKey.get(t).isEmpty()&&this.queueByNamespaceKey.delete(t),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var je=function(e){O.default(n,e);var t=Le(n);function n(){var e;return T.default(this,n),(e=t.call(this)).closed=!1,e.uuid=b.v4(),e}return E.default(n,[{key:"listenerUuid",get:function(){return this.uuid}},{key:"close",value:function(){this.removeAllListeners(),this.closed=!0}},{key:"ensureNotClosed",value:function(){if(this.closed)throw new Error("Invalid operation on closed object")}}]),n}(z);function Fe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var Ze=function(e){O.default(n,e);var t=Fe(n);function n(e,r,i){var a;T.default(this,n),a=t.call(this,e,i),R.default(C.default(a),"isDeleted",!1);return a.updateMergingQueue=new Me((function(e,t){return"number"===typeof t.ttl?{ttl:t.ttl}:e})),a.descriptor=r,a.descriptor.data=a.descriptor.data||{},a.descriptor.date_updated=new Date(a.descriptor.date_updated),a}return E.default(n,[{key:"uri",get:function(){return this.descriptor.url}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"type",get:function(){return"document"}},{key:"indexName",get:function(){}},{key:"queryString",get:function(){}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"data",get:function(){return this.descriptor.data}},{key:"dateUpdated",get:function(){return this.descriptor.date_updated}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}},{key:"_update",value:function(e){switch(e.date_created=new Date(e.date_created),e.type){case"document_updated":if(e.id<=this.lastEventId){le("Document update skipped, current:",this.lastEventId,", remote:",e.id);break}var t=void 0!==this.descriptor.data?ie(this.descriptor.data):null;this.descriptor.last_event_id=e.id,this.descriptor.revision=e.document_revision,this.descriptor.date_updated=e.date_created,this.descriptor.data=e.document_data,this.broadcastEventToListeners("updated",{data:e.document_data,isLocal:!1,previousData:t}),this.services.storage.update(this.type,this.sid,this.uniqueName,{last_event_id:e.id,revision:e.document_revision,date_updated:e.date_created,data:e.document_data});break;case"document_removed":this.onRemoved(!1)}}},{key:"set",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n||{},e.abrupt("return",this.updateMergingQueue.squashAndAdd(r,(function(e){return i._setUnconditionally(t,e.ttl)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mutate",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n||{},e.abrupt("return",this.updateMergingQueue.add(r,(function(e){return i._setWithIfMatch(t,e.ttl)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=S.default(N.default.mark((function e(t,n){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutate((function(e){return Object.assign(e,t)}),n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){var n;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._postUpdateToServer({ttl:t});case 2:n=e.sent,this.descriptor.date_expires=n.date_expires;case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_setUnconditionally",value:function(){var e=S.default(N.default.mark((function e(t,n){var r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._postUpdateToServer({data:t,revision:void 0,ttl:n});case 2:return r=e.sent,this._handleSuccessfulUpdateResult(r),e.abrupt("return",this.descriptor.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_setWithIfMatch",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i,a;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t(ie(this.descriptor.data)))){e.next=22;break}return i=this.revision,e.prev=3,e.next=6,this._postUpdateToServer({data:r,revision:i,ttl:n});case 6:return a=e.sent,this._handleSuccessfulUpdateResult(a),e.abrupt("return",this.descriptor.data);case 11:if(e.prev=11,e.t0=e.catch(3),412!==e.t0.status){e.next=19;break}return e.next=16,this._softSync();case 16:return e.abrupt("return",this._setWithIfMatch(t));case 19:throw e.t0;case 20:e.next=23;break;case 22:return e.abrupt("return",this.descriptor.data);case 23:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_handleSuccessfulUpdateResult",value:function(e){if(!(e.last_event_id<=this.descriptor.last_event_id)){var t=void 0!==this.descriptor.data?ie(this.descriptor.data):null;this.descriptor.revision=e.revision,this.descriptor.data=e.data,this.descriptor.last_event_id=e.last_event_id,this.descriptor.date_expires=e.date_expires,this.descriptor.date_updated=new Date(e.date_updated),this.services.storage.update(this.type,this.sid,this.uniqueName,{last_event_id:e.last_event_id,revision:e.revision,date_updated:e.date_updated,data:e.data}),this.broadcastEventToListeners("updated",{data:this.descriptor.data,isLocal:!0,previousData:t})}}},{key:"_postUpdateToServer",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isDeleted){e.next=17;break}return n={data:t.data},void 0!==t.ttl&&(n.ttl=t.ttl),r=t.revision,e.prev=4,e.next=7,this.services.network.post(this.uri,n,r);case 7:return i=e.sent,e.abrupt("return",{revision:i.body.revision,data:t.data,last_event_id:i.body.last_event_id,date_updated:i.body.date_updated,date_expires:i.body.date_expires});case 11:throw e.prev=11,e.t0=e.catch(4),404===e.t0.status&&this.onRemoved(!1),e.t0;case 15:e.next=18;break;case 17:return e.abrupt("return",Promise.reject(new ne("The Document has been removed",404,54100)));case 18:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_softSync",value:function(){var e=S.default(N.default.mark((function e(){var t=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.services.network.get(this.uri).then((function(e){var n={type:"document_updated",id:e.body.last_event_id,document_revision:e.body.revision,document_data:e.body.data,date_created:e.body.date_updated};return t._update(n),t})).catch((function(e){404===e.status?t.onRemoved(!1):pe("Can't get updates for ".concat(t.sid,":"),e)})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onRemoved",value:function(e){if(!this.isDeleted){var t=void 0!==this.descriptor.data?ie(this.descriptor.data):null;this.isDeleted=!0,this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.broadcastEventToListeners("removed",{isLocal:e,previousData:t})}}},{key:"removeDocument",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isDeleted){e.next=6;break}return e.next=3,this.services.network.delete(this.uri);case 3:this.onRemoved(!0),e.next=7;break;case 6:return e.abrupt("return",Promise.reject(new ne("The Document has been removed",404,54100)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"type",get:function(){return"document"}}]),n}(Pe),Be=function(e){O.default(n,e);var t=Fe(n);function n(e){var r;return T.default(this,n),(r=t.call(this)).syncDocumentImpl=e,r.syncDocumentImpl.attach(C.default(r)),r}return E.default(n,[{key:"uri",get:function(){return this.syncDocumentImpl.uri}},{key:"revision",get:function(){return this.syncDocumentImpl.revision}},{key:"lastEventId",get:function(){return this.syncDocumentImpl.lastEventId}},{key:"dateExpires",get:function(){return this.syncDocumentImpl.dateExpires}},{key:"type",get:function(){return Ze.type}},{key:"sid",get:function(){return this.syncDocumentImpl.sid}},{key:"data",get:function(){return this.syncDocumentImpl.data}},{key:"dateUpdated",get:function(){return this.syncDocumentImpl.dateUpdated}},{key:"uniqueName",get:function(){return this.syncDocumentImpl.uniqueName}},{key:"set",value:function(){var e=S.default(N.default.mark((function e(t,n){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.set(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mutate",value:function(){var e=S.default(N.default.mark((function e(t,n){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.mutate(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=S.default(N.default.mark((function e(t,n){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.update(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.setTtl(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeDocument",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncDocumentImpl.removeDocument());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"close",value:function(){F.default(I.default(n.prototype),"close",this).call(this),this.syncDocumentImpl.detach(this.listenerUuid)}}],[{key:"type",get:function(){return Ze.type}}]),n}(je);R.default(Be,"removed","removed"),R.default(Be,"updated","updated"),B([p.validateTypesAsync(p.pureObject,["undefined",p.objectSchema("document metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),U("design:type",Function),U("design:paramtypes",[Object,Object]),U("design:returntype",Promise)],Be.prototype,"set",null),B([p.validateTypesAsync("function",["undefined",p.objectSchema("document metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),U("design:type",Function),U("design:paramtypes",[Function,Object]),U("design:returntype",Promise)],Be.prototype,"mutate",null),B([p.validateTypesAsync(p.pureObject,["undefined",p.objectSchema("document metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),U("design:type",Function),U("design:paramtypes",[Object,Object]),U("design:returntype",Promise)],Be.prototype,"update",null),B([p.validateTypesAsync(p.nonNegativeInteger),U("design:type",Function),U("design:paramtypes",[Number]),U("design:returntype",Promise)],Be.prototype,"setTtl",null);var Ue=function(){function e(t){T.default(this,e),this.descriptor=t}return E.default(e,[{key:"uri",get:function(){return this.descriptor.uri}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.lastEventId}},{key:"dateUpdated",get:function(){return this.descriptor.dateUpdated}},{key:"dateExpires",get:function(){return this.descriptor.dateExpires}},{key:"index",get:function(){return this.descriptor.index}},{key:"data",get:function(){return this.descriptor.data}},{key:"update",value:function(e,t,n,r){return this.descriptor.lastEventId=e,this.descriptor.revision=t,this.descriptor.data=n,this.descriptor.dateUpdated=r,this}},{key:"updateDateExpires",value:function(e){this.descriptor.dateExpires=e}}]),e}(),Ve=function(){function e(t,n,r,i){T.default(this,e),this.prevToken=r,this.nextToken=i,this.items=t,this.source=n}return E.default(e,[{key:"hasNextPage",get:function(){return!!this.nextToken}},{key:"hasPrevPage",get:function(){return!!this.prevToken}},{key:"nextPage",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasNextPage){e.next=2;break}throw new Error("No next page");case 2:return e.abrupt("return",this.source(this.nextToken));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"prevPage",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasPrevPage){e.next=2;break}throw new Error("No previous page");case 2:return e.abrupt("return",this.source(this.prevToken));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ze(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return We(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var He=function(){function e(t,n){T.default(this,e),this.balanceFactor=0,this.key=t,this.value=n,this.parent=null,this.left=null,this.right=null}return E.default(e,[{key:"isRoot",get:function(){return null===this.parent}},{key:"isLeaf",get:function(){return null===this.left&&null===this.right}},{key:"isLeftChild",get:function(){return this.parent.left===this}},{key:"update",value:function(e){this.value=e}},{key:"replace",value:function(e,t){e&&(this.left===t?this.left=t:this.right===t&&(this.right=t))}}]),e}(),Ge=function(){function e(t,n){T.default(this,e),this.isLessThan=t||function(e,t){return e<t},this.isEqual=n||function(e,t){return e===t},this.root=null,this.count=null}return E.default(e,[{key:"size",get:function(){return this.count}},{key:"clear",value:function(){this.root=null,this.count=0}},{key:"set",value:function(e,t){var n=this.getNode(e);n?n.update(t):this.insert(e,t)}},{key:"insert",value:function(e,t){var n=new He(e,t);if(this.count++,this.root){for(var r=this.root;;)if(this.isLessThan(e,r.key)){if(!r.left){r.left=n;break}r=r.left}else{if(!r.right){r.right=n;break}r=r.right}for(n.parent=r,r=n;r.parent;){var i=r.parent,a=i.balanceFactor;if(r.isLeftChild?i.balanceFactor++:i.balanceFactor--,Math.abs(i.balanceFactor)<Math.abs(a))break;if(i.balanceFactor<-1||i.balanceFactor>1){this.rebalance(i);break}r=i}}else this.root=n}},{key:"get",value:function(e){for(var t=this.root;t;){if(this.isEqual(e,t.key))return t.value;t=this.isLessThan(e,t.key)?t.left:t.right}return null}},{key:"delete",value:function(e){var t=this.getNode(e);if(!t||t.key!==e)return null;var n=t.parent,r=t.left,i=t.right;if(!!r!==!!i){var a=r||i;n||a?n&&!a?this.root=a:(n.replace(t,null),this.rebalance(n)):this.root=null}else{for(var o=t.left;o.right;)o=o.right;if(t.left===o)t.isRoot?(this.root=o,o.parent=null):(t.isLeftChild?t.parent.left=o:t.parent.right=o,o.parent=t.parent),o.right=t.right,o.right.parent=o,o.balanceFactor=t.balanceFactor,t={parent:o,isLeftChild:!0};else{var s=o.parent,u=o.left;s.right=u,u&&(u.parent=s),t.isRoot?(this.root=o,o.parent=null):(t.isLeftChild?t.parent.left=o:t.parent.right=o,o.parent=t.parent),o.right=t.right,o.right.parent=o,o.left=t.left,o.left.parent=o,o.balanceFactor=t.balanceFactor,t={parent:s,isLeftChild:!1}}}for(this.count--;t.parent;){var c=t.parent,l=c.balanceFactor;if(t.isLeftChild?c.balanceFactor-=1:c.balanceFactor+=1,Math.abs(c.balanceFactor)>Math.abs(l)){if(!(c.balanceFactor<-1||c.balanceFactor>1))break;if(this.rebalance(c),0!==c.parent.balanceFactor)break;t=c.parent}else t=c}return null}},{key:"getNode",value:function(e){for(var t=this.root;t;){if(this.isEqual(e,t.key))return t;t=this.isLessThan(e,t.key)?t.left:t.right}return null}},{key:"rebalance",value:function(e){e.balanceFactor<0?e.right.balanceFactor>0?(this.rotateRight(e.right),this.rotateLeft(e)):this.rotateLeft(e):e.balanceFactor>0&&(e.left.balanceFactor<0?(this.rotateLeft(e.left),this.rotateRight(e)):this.rotateRight(e))}},{key:"rotateLeft",value:function(e){var t=e.right;e.right=t.left,null!==t.left&&(t.left.parent=e),t.parent=e.parent,null===t.parent?this.root=t:e.isLeftChild?t.parent.left=t:t.parent.right=t,t.left=e,e.parent=t,e.balanceFactor=e.balanceFactor+1-Math.min(t.balanceFactor,0),t.balanceFactor=t.balanceFactor+1-Math.max(e.balanceFactor,0)}},{key:"rotateRight",value:function(e){var t=e.left;e.left=t.right,null!==t.right&&(t.right.parent=e),t.parent=e.parent,null===t.parent?this.root=t:e.isLeftChild?t.parent.left=t:t.parent.right=t,t.right=e,e.parent=t,e.balanceFactor=e.balanceFactor-1-Math.min(t.balanceFactor,0),t.balanceFactor=t.balanceFactor-1-Math.max(e.balanceFactor,0)}},{key:Symbol.iterator,value:N.default.mark((function e(){var t,n,r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ze(this.getIterator()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"getIterator",value:N.default.mark((function e(){var t,n,r,i=arguments;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:null,n=this.root;case 2:if(!n){e.next=8;break}if(!this.isEqual(t,n.key)&&(null!==t||n.left)){e.next=5;break}return e.abrupt("break",8);case 5:n=this.isLessThan(t,n.key)||null===t?n.left:n.right,e.next=2;break;case 8:if(n){e.next=10;break}return e.abrupt("return",null);case 10:r=!0;case 11:if(!r){e.next=29;break}return e.next=14,[n.key,n.value];case 14:if(r=!1,!n.right){e.next=21;break}for(n=n.right;n.left;)n=n.left;r=!0,e.next=27;break;case 21:if(!n.parent){e.next=26;break}r=n.parent.left===n,n=n.parent,e.next=27;break;case 26:return e.abrupt("break",37);case 27:e.next=35;break;case 29:if(!n.parent){e.next=34;break}r=n.parent.left===n,n=n.parent,e.next=35;break;case 34:return e.abrupt("break",37);case 35:e.next=11;break;case 37:return e.abrupt("return",null);case 38:case"end":return e.stop()}}),e,this)}))},{key:"getReverseIterator",value:N.default.mark((function e(){var t,n,r,i=arguments;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:null,n=this.root;case 2:if(!n){e.next=8;break}if(!this.isEqual(t,n.key)&&(null!==t||n.right)){e.next=5;break}return e.abrupt("break",8);case 5:n=this.isLessThan(t,n.key)&&null!==t?n.left:n.right,e.next=2;break;case 8:if(n){e.next=10;break}return e.abrupt("return",null);case 10:r=!0;case 11:if(!r){e.next=29;break}return e.next=14,[n.key,n.value];case 14:if(r=!1,!n.left){e.next=21;break}for(n=n.left;n.right;)n=n.right;r=!0,e.next=27;break;case 21:if(!n.parent){e.next=26;break}r=n.parent.right===n,n=n.parent,e.next=27;break;case 26:return e.abrupt("break",37);case 27:e.next=35;break;case 29:if(!n.parent){e.next=34;break}r=n.parent.right===n,n=n.parent,e.next=35;break;case 34:return e.abrupt("break",37);case 35:e.next=11;break;case 37:return e.abrupt("return",null);case 38:case"end":return e.stop()}}),e,this)}))}]),e}();function qe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ke(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ye=function(){function e(t,n){T.default(this,e),this.value=t,this.revision=n||0}return E.default(e,[{key:"isValid",get:function(){return!0}}]),e}(),Xe=function(){function e(t){T.default(this,e),this.revision=t}return E.default(e,[{key:"isValid",get:function(){return!1}}]),e}(),Qe=function(){function e(){T.default(this,e),this.items=new Ge}return E.default(e,[{key:"store",value:function(e,t,n){var r=this.items.get(e);return r&&r.revision>n?r.isValid?r.value:null:(this.items.set(e,new Ye(t,n)),t)}},{key:"delete",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.items.get(e);(!r||r.revision<t||r&&!0===n)&&this.items.set(e,new Xe(t))}},{key:"isKnown",value:function(e,t){var n=this.items.get(e);return n&&n.revision>=t}},{key:"get",value:function(e){var t=this.items.get(e);return t&&t.isValid?t.value:null}},{key:"has",value:function(e){var t=this.items.get(e);return t&&t.isValid}},{key:"forEach",value:function(e){if(this.items){var t,n=qe(this.items);try{for(n.s();!(t=n.n()).done;){var r=L.default(t.value,2),i=r[0],a=r[1];a.isValid&&e(i,a.value)}}catch(o){n.e(o)}finally{n.f()}}}}]),e}();function Je(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var $e=function(e){O.default(n,e);var t=Je(n);function n(e,r,i){var a;T.default(this,n);return(a=t.call(this,e,i)).updateMergingQueue=new De((function(e,t){return"number"===typeof t.ttl?{ttl:t.ttl}:e})),a.cache=new Qe,a.descriptor=r,a.descriptor.date_updated=new Date(a.descriptor.date_updated),a}return E.default(n,[{key:"uri",get:function(){return this.descriptor.url}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"links",get:function(){return this.descriptor.links}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"type",get:function(){return"list"}},{key:"indexName",get:function(){}},{key:"queryString",get:function(){}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}},{key:"dateUpdated",get:function(){return this.descriptor.date_updated}},{key:"_addOrUpdateItemOnServer",value:function(){var e=S.default(N.default.mark((function e(t,n,r,i){var a,o;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={data:n},void 0!==i&&(a.ttl=i),e.next=4,this.services.network.post(t,a,r);case 4:return(o=e.sent).body.data=n,o.body.date_updated=new Date(o.body.date_updated),e.abrupt("return",o.body);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"push",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i,a;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n||{}).ttl,e.next=3,this._addOrUpdateItemOnServer(this.links.items,t,void 0,r);case 3:return i=e.sent,a=Number(i.index),this._handleItemMutated(a,i.url,i.last_event_id,i.revision,t,i.date_updated,i.date_expires,!0,!1),e.abrupt("return",this.cache.get(a));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||{},e.abrupt("return",this.updateMergingQueue.squashAndAdd(t,i,(function(e){return a._updateItemUnconditionally(t,n,e.ttl)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_updateItemUnconditionally",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return i=e.sent,e.next=5,this._addOrUpdateItemOnServer(i.uri,n,void 0,r);case 5:return a=e.sent,this._handleItemMutated(t,a.url,a.last_event_id,a.revision,a.data,a.date_updated,a.date_expires,!1,!1),e.abrupt("return",this.cache.get(t));case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_updateItemWithIfMatch",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a,o,s;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:if(i=e.sent,!(a=n(ie(i.data)))){e.next=25;break}return o=i.revision,e.prev=6,e.next=9,this._addOrUpdateItemOnServer(i.uri,a,o,r);case 9:return s=e.sent,this._handleItemMutated(t,s.url,s.last_event_id,s.revision,s.data,s.date_updated,s.date_expires,!1,!1),e.abrupt("return",this.cache.get(t));case 14:if(e.prev=14,e.t0=e.catch(6),412!==e.t0.status){e.next=22;break}return e.next=19,this._getItemFromServer(t);case 19:return e.abrupt("return",this._updateItemWithIfMatch(t,n,r));case 22:throw e.t0;case 23:e.next=26;break;case 25:return e.abrupt("return",i);case 26:case"end":return e.stop()}}),e,this,[[6,14]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"mutate",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||{},e.abrupt("return",this.updateMergingQueue.add(t,i,(function(e){return a._updateItemWithIfMatch(t,n,e.ttl)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutate(t,(function(e){return Object.assign(e,n)}),r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return n=e.sent,r=ie(n.data),e.next=6,this.services.network.delete(n.uri);case 6:i=e.sent,this._handleItemRemoved(t,i.body.last_event_id,r,new Date(i.body.date_updated),!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=S.default(N.default.mark((function e(t){var n;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.cache.get(t))){e.next=5;break}return e.abrupt("return",n);case 5:return e.abrupt("return",this._getItemFromServer(t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getItemFromServer",value:function(){var e=S.default(N.default.mark((function e(t){var n;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queryItems({index:t});case 2:if(!((n=e.sent).items.length<1)){e.next=7;break}throw new ne("No item with index ".concat(t," found"),404,54151);case 7:return e.abrupt("return",n.items[0]);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryItems",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i,a,o=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||{},n=new ee(this.links.items).queryParam("From",t.from).queryParam("PageSize",t.limit).queryParam("Index",t.index).queryParam("PageToken",t.pageToken).queryParam("Order",t.order).build(),e.next=4,this.services.network.get(n);case 4:return r=e.sent,i=r.body.items.map((function(e){return e.date_updated=new Date(e.date_updated),o.cache.get(e.index)?o._handleItemMutated(e.index,e.url,e.last_event_id,e.revision,e.data,e.date_updated,e.date_expires,!1,!0):o.cache.store(Number(e.index),new Ue({index:Number(e.index),uri:e.url,revision:e.revision,lastEventId:e.last_event_id,dateUpdated:e.date_updated,dateExpires:e.date_expires,data:e.data}),e.last_event_id),o.cache.get(e.index)})),a=r.body.meta,e.abrupt("return",new Ve(i,(function(e){return o.queryItems({pageToken:e})}),a.previous_token,a.next_token));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getItems",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae((t=t||{}).pageSize),t.limit=t.pageSize||t.limit||50,t.order=t.order||"asc",e.abrupt("return",this.queryItems(t));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getContext",value:function(){var e=S.default(N.default.mark((function e(){var t;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.context){e.next=5;break}return e.next=3,this.services.network.get(this.links.context);case 3:t=e.sent,this._updateContextIfRequired(t.body.data,t.body.last_event_id);case 5:return e.abrupt("return",this.context);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){var n,r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={ttl:t},e.next=4,this.services.network.post(this.uri,n);case 4:r=e.sent,this.descriptor.date_expires=r.body.date_expires,e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(0),404===e.t0.status&&this.onRemoved(!1),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setItemTtl",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i,a;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return r=e.sent,i={ttl:n},e.next=6,this.services.network.post(r.uri,i);case 6:a=e.sent,r.updateDateExpires(a.body.date_expires);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeList",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.network.delete(this.uri);case 2:this.onRemoved(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onRemoved",value:function(e){this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.broadcastEventToListeners("removed",{isLocal:e})}},{key:"shouldIgnoreEvent",value:function(e,t){return this.cache.isKnown(e,t)}},{key:"_update",value:function(e,t){var n=Number(e.item_index);switch(e.date_created=new Date(e.date_created),e.type){case"list_item_added":case"list_item_updated":this._handleItemMutated(n,e.item_url,e.id,e.item_revision,e.item_data,e.date_created,void 0,"list_item_added"===e.type,!0);break;case"list_item_removed":this._handleItemRemoved(n,e.id,e.item_data,e.date_created,!0);break;case"list_context_updated":this._handleContextUpdate(e.context_data,e.id,e.date_created);break;case"list_removed":this.onRemoved(!1)}t&&this._advanceLastEventId(e.id,e.list_revision)}},{key:"_advanceLastEventId",value:function(e,t){this.lastEventId<e&&(this.descriptor.last_event_id=e,t&&(this.descriptor.revision=t))}},{key:"_updateRootDateUpdated",value:function(e){(!this.descriptor.date_updated||e.getTime()>this.descriptor.date_updated.getTime())&&(this.descriptor.date_updated=e,this.services.storage.update(this.type,this.sid,this.uniqueName,{date_updated:e}))}},{key:"_handleItemMutated",value:function(e,t,n,r,i,a,o,s,u){if(this.shouldIgnoreEvent(e,n))le("Item ".concat(e," update skipped, current: ").concat(this.lastEventId,", remote: ").concat(n));else{this._updateRootDateUpdated(a);var c=this.cache.get(e);if(!c){var l=new Ue({index:e,uri:t,lastEventId:n,revision:r,data:i,dateUpdated:a,dateExpires:o});return this.cache.store(e,l,n),void this.emitItemMutationEvent(l,u,s)}var f=ie(c.data);c.update(n,r,i,a),this.cache.store(e,c,n),void 0!==o&&c.updateDateExpires(o),this.emitItemMutationEvent(c,u,!1,f)}}},{key:"emitItemMutationEvent",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=n?"itemAdded":"itemUpdated",a={item:e,isLocal:!t};n||(a.previousItemData=r),this.broadcastEventToListeners(i,a)}},{key:"_handleItemRemoved",value:function(e,t,n,r,i){this._updateRootDateUpdated(r),this.cache.delete(e,t),this.broadcastEventToListeners("itemRemoved",{index:e,isLocal:!i,previousItemData:n})}},{key:"_handleContextUpdate",value:function(e,t,n){this._updateRootDateUpdated(n),this._updateContextIfRequired(e,t)&&this.broadcastEventToListeners("contextUpdated",{context:e,isLocal:!1})}},{key:"_updateContextIfRequired",value:function(e,t){return!this.contextEventId||t>this.contextEventId?(this.context=e,this.contextEventId=t,!0):(le("Context update skipped, current:",this.lastEventId,", remote:",t),!1)}}],[{key:"type",get:function(){return"list"}}]),n}(Pe),et=function(e){O.default(n,e);var t=Je(n);function n(e){var r;return T.default(this,n),(r=t.call(this)).syncListImpl=e,r.syncListImpl.attach(C.default(r)),r}return E.default(n,[{key:"uri",get:function(){return this.syncListImpl.uri}},{key:"revision",get:function(){return this.syncListImpl.revision}},{key:"lastEventId",get:function(){return this.syncListImpl.lastEventId}},{key:"links",get:function(){return this.syncListImpl.links}},{key:"dateExpires",get:function(){return this.syncListImpl.dateExpires}},{key:"type",get:function(){return $e.type}},{key:"sid",get:function(){return this.syncListImpl.sid}},{key:"uniqueName",get:function(){return this.syncListImpl.uniqueName}},{key:"dateUpdated",get:function(){return this.syncListImpl.dateUpdated}},{key:"push",value:function(){var e=S.default(N.default.mark((function e(t,n){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.push(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.set(t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"mutate",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.mutate(t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.update(t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.remove(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.get(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getContext",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.getContext());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getItems",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.getItems(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.setTtl(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setItemTtl",value:function(){var e=S.default(N.default.mark((function e(t,n){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.setItemTtl(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeList",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncListImpl.removeList());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"close",value:function(){F.default(I.default(n.prototype),"close",this).call(this),this.syncListImpl.detach(this.listenerUuid)}}],[{key:"type",get:function(){return $e.type}}]),n}(je);R.default(et,"itemAdded","itemAdded"),R.default(et,"itemUpdated","itemUpdated"),R.default(et,"itemRemoved","itemRemoved"),R.default(et,"removed","removed"),B([p.validateTypesAsync(p.pureObject,["undefined",p.objectSchema("item metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),U("design:type",Function),U("design:paramtypes",[Object,Object]),U("design:returntype",Promise)],et.prototype,"push",null),B([p.validateTypesAsync(p.nonNegativeInteger,p.pureObject,["undefined",p.objectSchema("item metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),U("design:type",Function),U("design:paramtypes",[Number,Object,Object]),U("design:returntype",Promise)],et.prototype,"set",null),B([p.validateTypesAsync(p.nonNegativeInteger,"function",["undefined",p.objectSchema("item metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),U("design:type",Function),U("design:paramtypes",[Number,Function,Object]),U("design:returntype",Promise)],et.prototype,"mutate",null),B([p.validateTypesAsync(p.nonNegativeInteger,p.pureObject,["undefined",p.objectSchema("item metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),U("design:type",Function),U("design:paramtypes",[Number,Object,Object]),U("design:returntype",Promise)],et.prototype,"update",null),B([p.validateTypesAsync(p.nonNegativeInteger),U("design:type",Function),U("design:paramtypes",[Number]),U("design:returntype",Promise)],et.prototype,"remove",null),B([p.validateTypesAsync(p.nonNegativeInteger),U("design:type",Function),U("design:paramtypes",[Number]),U("design:returntype",Promise)],et.prototype,"get",null),B([p.validateTypesAsync(["undefined",p.objectSchema("query options",{from:[p.nonNegativeInteger,"undefined"],pageSize:[p.custom((function(e){return[oe(e),"a positive integer"]})),"undefined"]})]),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",Promise)],et.prototype,"getItems",null),B([p.validateTypesAsync(p.nonNegativeInteger),U("design:type",Function),U("design:paramtypes",[Number]),U("design:returntype",Promise)],et.prototype,"setTtl",null),B([p.validateTypesAsync(p.nonNegativeInteger,p.nonNegativeInteger),U("design:type",Function),U("design:paramtypes",[Number,Number]),U("design:returntype",Promise)],et.prototype,"setItemTtl",null);var tt=function(){function e(t){T.default(this,e),this.descriptor=t}return E.default(e,[{key:"uri",get:function(){return this.descriptor.url}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"key",get:function(){return this.descriptor.key}},{key:"data",get:function(){return this.descriptor.data}},{key:"dateUpdated",get:function(){return this.descriptor.date_updated}},{key:"update",value:function(e,t,n,r){return this.descriptor.last_event_id=e,this.descriptor.revision=t,this.descriptor.data=n,this.descriptor.date_updated=r,this}},{key:"updateDateExpires",value:function(e){this.descriptor.date_expires=e}}]),e}();function nt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var rt=function(e){O.default(n,e);var t=nt(n);function n(e,r,i){var a;T.default(this,n);return(a=t.call(this,e,i)).updateMergingQueue=new De((function(e,t){return"number"===typeof t.ttl?{ttl:t.ttl}:e})),a.cache=new Qe,a.descriptor=r,a.descriptor.date_updated=new Date(a.descriptor.date_updated),r.items&&r.items.forEach((function(e){e.date_updated=new Date(e.date_updated),a.cache.store(e.key,new tt(e),e.last_event_id)})),a}return E.default(n,[{key:"uri",get:function(){return this.descriptor.url}},{key:"links",get:function(){return this.descriptor.links}},{key:"revision",get:function(){return this.descriptor.revision}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"type",get:function(){return"map"}},{key:"indexName",get:function(){}},{key:"queryString",get:function(){}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}},{key:"dateUpdated",get:function(){return this.descriptor.date_updated}},{key:"set",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||{},e.abrupt("return",this.updateMergingQueue.squashAndAdd(t,i,(function(e){return a._putItemUnconditionally(t,n,e.ttl)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t&&void 0!==t){e.next=2;break}throw new ne("SyncMapItem key may not be empty",400,54209);case 2:if(!this.cache.has(t)){e.next=6;break}return e.abrupt("return",this.cache.get(t));case 6:return e.abrupt("return",this._getItemFromServer(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getItemFromServer",value:function(){var e=S.default(N.default.mark((function e(t){var n;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queryItems({key:t});case 2:if(!((n=e.sent).items.length<1)){e.next=7;break}throw new ne("The specified Map Item does not exist",404,54201);case 7:return e.abrupt("return",n.items[0]);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mutate",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||{},e.abrupt("return",this.updateMergingQueue.add(t,i,(function(e){return a._putItemWithIfMatch(t,n,e.ttl)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutate(t,(function(e){return Object.assign(e,n)}),r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_putItemUnconditionally",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._putItemToServer(t,n,void 0,r);case 2:return i=e.sent,a=i.item,this._handleItemMutated(a.key,a.url,a.last_event_id,a.revision,a.data,a.date_updated,a.date_expires,i.added,!1),e.abrupt("return",this.cache.get(a.key));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_putItemWithIfMatch",value:function(){var e=S.default(N.default.mark((function e(t,n,r){var i,a,o,s,u;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t).catch((function(e){if(404===e.status)return new tt({key:t,data:{},last_event_id:-1,revision:"-1",url:null,date_updated:null,date_expires:null});throw e}));case 2:if(i=e.sent,!(a=n(ie(i.data)))){e.next=26;break}return o=i.revision,e.prev=6,e.next=9,this._putItemToServer(t,a,o,r);case 9:return s=e.sent,u=s.item,this._handleItemMutated(u.key,u.url,u.last_event_id,u.revision,u.data,u.date_updated,u.date_expires,s.added,!1),e.abrupt("return",this.cache.get(u.key));case 15:if(e.prev=15,e.t0=e.catch(6),412!==e.t0.status){e.next=23;break}return e.next=20,this._getItemFromServer(t);case 20:return e.abrupt("return",this._putItemWithIfMatch(t,n,r));case 23:throw e.t0;case 24:e.next=27;break;case 26:return e.abrupt("return",i);case 27:case"end":return e.stop()}}),e,this,[[6,15]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_putItemToServer",value:function(){var e=S.default(N.default.mark((function e(t,n,r,i){var a,o,s,u,c;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new ee(this.links.items).pathSegment(t).build(),o={data:n},void 0!==i&&(o.ttl=i),e.prev=3,e.next=6,this.services.network.put(a,o,r);case 6:return s=e.sent,(u=s.body).data=n,u.date_updated=new Date(u.date_updated),c=201===s.status.code,e.abrupt("return",{added:c,item:u});case 14:throw e.prev=14,e.t0=e.catch(3),404===e.t0.status&&this.onRemoved(!1),e.t0;case 18:case"end":return e.stop()}}),e,this,[[3,14]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return n=e.sent,r=ie(n.data),e.next=6,this.services.network.delete(n.uri);case 6:i=e.sent,this._handleItemRemoved(t,i.body.last_event_id,r,new Date(i.body.date_updated),!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryItems",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i,a,o=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||{},n=new ee(this.links.items).queryParam("From",t.from).queryParam("PageSize",t.limit).queryParam("Key",t.key).queryParam("PageToken",t.pageToken).queryParam("Order",t.order).build(),e.next=4,this.services.network.get(n);case 4:return r=e.sent,i=r.body.items.map((function(e){return e.date_updated=new Date(e.date_updated),o.cache.get(e.key)?o._handleItemMutated(e.key,e.url,e.last_event_id,e.revision,e.data,e.date_updated,e.date_expires,!1,!0):o.cache.store(e.key,new tt(e),e.last_event_id),o.cache.get(e.key)})),a=r.body.meta,e.abrupt("return",new Ve(i,(function(e){return o.queryItems({pageToken:e})}),a.previous_token,a.next_token));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getItems",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae((t=t||{}).pageSize),t.limit=t.pageSize||t.limit||50,t.order=t.order||"asc",e.abrupt("return",this.queryItems(t));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"shouldIgnoreEvent",value:function(e,t){return this.cache.isKnown(e,t)}},{key:"_update",value:function(e,t){switch(e.date_created=new Date(e.date_created),e.type){case"map_item_added":case"map_item_updated":this._handleItemMutated(e.item_key,e.item_url,e.id,e.item_revision,e.item_data,e.date_created,void 0,"map_item_added"===e.type,!0);break;case"map_item_removed":this._handleItemRemoved(e.item_key,e.id,e.item_data,e.date_created,!0);break;case"map_removed":this.onRemoved(!1)}t&&this._advanceLastEventId(e.id,e.map_revision)}},{key:"_advanceLastEventId",value:function(e,t){this.lastEventId<e&&(this.descriptor.last_event_id=e,t&&(this.descriptor.revision=t))}},{key:"_updateRootDateUpdated",value:function(e){(!this.descriptor.date_updated||e.getTime()>this.descriptor.date_updated.getTime())&&(this.descriptor.date_updated=e,this.services.storage.update(this.type,this.sid,this.uniqueName,{date_updated:e}))}},{key:"_handleItemMutated",value:function(e,t,n,r,i,a,o,s,u){if(this.shouldIgnoreEvent(e,n))le("SyncMapItem ",e," update skipped, current:",this.lastEventId,", remote:",n);else{this._updateRootDateUpdated(a);var c=this.cache.get(e);if(!c){var l=new tt({key:e,url:t,last_event_id:n,revision:r,data:i,date_updated:a,date_expires:o});return this.cache.store(e,l,n),void this.emitItemMutationEvent(l,u,s)}var f=ie(c.data);c.update(n,r,i,a),this.cache.store(e,c,n),void 0!==o&&c.updateDateExpires(o),this.emitItemMutationEvent(c,u,!1,f)}}},{key:"emitItemMutationEvent",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=n?"itemAdded":"itemUpdated",a={item:e,isLocal:!t};n||(a.previousItemData=r),this.broadcastEventToListeners(i,a)}},{key:"_handleItemRemoved",value:function(e,t,n,r,i){this._updateRootDateUpdated(r),this.cache.delete(e,t),this.broadcastEventToListeners("itemRemoved",{key:e,isLocal:!i,previousItemData:n})}},{key:"onRemoved",value:function(e){this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.broadcastEventToListeners("removed",{isLocal:e})}},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){var n,r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={ttl:t},e.next=4,this.services.network.post(this.uri,n);case 4:r=e.sent,this.descriptor.date_expires=r.body.date_expires,e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(0),404===e.t0.status&&this.onRemoved(!1),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setItemTtl",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i,a;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return r=e.sent,i={ttl:n},e.next=6,this.services.network.post(r.uri,i);case 6:a=e.sent,r.updateDateExpires(a.body.date_expires);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeMap",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.network.delete(this.uri);case 2:this.onRemoved(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"type",get:function(){return"map"}}]),n}(Pe),it=function(e){O.default(n,e);var t=nt(n);function n(e){var r;return T.default(this,n),(r=t.call(this)).syncMapImpl=e,r.syncMapImpl.attach(C.default(r)),r}return E.default(n,[{key:"uri",get:function(){return this.syncMapImpl.uri}},{key:"links",get:function(){return this.syncMapImpl.links}},{key:"revision",get:function(){return this.syncMapImpl.revision}},{key:"lastEventId",get:function(){return this.syncMapImpl.lastEventId}},{key:"dateExpires",get:function(){return this.syncMapImpl.dateExpires}},{key:"type",get:function(){return rt.type}},{key:"sid",get:function(){return this.syncMapImpl.sid}},{key:"uniqueName",get:function(){return this.syncMapImpl.uniqueName}},{key:"dateUpdated",get:function(){return this.syncMapImpl.dateUpdated}},{key:"set",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.set(t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.get(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mutate",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.mutate(t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=S.default(N.default.mark((function e(t,n,r){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.update(t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.remove(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getItems",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.getItems(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.setTtl(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setItemTtl",value:function(){var e=S.default(N.default.mark((function e(t,n){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncMapImpl.setItemTtl(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeMap",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.next=3,this.syncMapImpl.removeMap();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"close",value:function(){F.default(I.default(n.prototype),"close",this).call(this),this.syncMapImpl.detach(this.listenerUuid)}}],[{key:"type",get:function(){return rt.type}}]),n}(je);function at(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}R.default(it,"itemAdded","itemAdded"),R.default(it,"itemUpdated","itemUpdated"),R.default(it,"itemRemoved","itemRemoved"),R.default(it,"removed","removed"),B([p.validateTypesAsync("string",p.pureObject,["undefined",p.objectSchema("item metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),U("design:type",Function),U("design:paramtypes",[String,Object,Object]),U("design:returntype",Promise)],it.prototype,"set",null),B([p.validateTypesAsync("string"),U("design:type",Function),U("design:paramtypes",[String]),U("design:returntype",Promise)],it.prototype,"get",null),B([p.validateTypesAsync("string","function",["undefined",p.objectSchema("item metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),U("design:type",Function),U("design:paramtypes",[String,Function,Object]),U("design:returntype",Promise)],it.prototype,"mutate",null),B([p.validateTypesAsync("string",p.pureObject,["undefined",p.objectSchema("item metadata",{ttl:[p.nonNegativeInteger,"undefined"]})]),U("design:type",Function),U("design:paramtypes",[String,Object,Object]),U("design:returntype",Promise)],it.prototype,"update",null),B([p.validateTypesAsync("string"),U("design:type",Function),U("design:paramtypes",[String]),U("design:returntype",Promise)],it.prototype,"remove",null),B([p.validateTypesAsync(["undefined",p.objectSchema("query options",{from:["string","undefined"],pageSize:[p.custom((function(e){return[oe(e),"a positive integer"]})),"undefined"]})]),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",Promise)],it.prototype,"getItems",null),B([p.validateTypesAsync(p.nonNegativeInteger),U("design:type",Function),U("design:paramtypes",[Number]),U("design:returntype",Promise)],it.prototype,"setTtl",null),B([p.validateTypesAsync("string",p.nonNegativeInteger),U("design:type",Function),U("design:paramtypes",[String,Number]),U("design:returntype",Promise)],it.prototype,"setItemTtl",null);var ot=function(e){O.default(n,e);var t=at(n);function n(e,r,i){var a;return T.default(this,n),(a=t.call(this,e,i)).descriptor=r,a}return E.default(n,[{key:"uri",get:function(){return this.descriptor.url}},{key:"links",get:function(){return this.descriptor.links}},{key:"dateExpires",get:function(){return this.descriptor.date_expires}},{key:"type",get:function(){return"stream"}},{key:"lastEventId",get:function(){return null}},{key:"indexName",get:function(){}},{key:"queryString",get:function(){}},{key:"sid",get:function(){return this.descriptor.sid}},{key:"uniqueName",get:function(){return this.descriptor.unique_name||null}},{key:"publishMessage",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i,a;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={data:t},e.next=3,this.services.network.post(this.links.messages,n);case 3:return r=e.sent,i=r.body,a=this._handleMessagePublished(i.sid,t,!1),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){var n,r;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={ttl:t},e.next=4,this.services.network.post(this.uri,n);case 4:r=e.sent,this.descriptor.date_expires=r.body.date_expires,e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(0),404===e.t0.status&&this.onRemoved(!1),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"removeStream",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.network.delete(this.uri);case 2:this.onRemoved(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_update",value:function(e){switch(e.type){case"stream_message_published":this._handleMessagePublished(e.message_sid,e.message_data,!0);break;case"stream_removed":this.onRemoved(!1)}}},{key:"_handleMessagePublished",value:function(e,t,n){var r={sid:e,data:t};return this.broadcastEventToListeners("messagePublished",{message:r,isLocal:!n}),r}},{key:"onRemoved",value:function(e){this._unsubscribe(),this.removalHandler(this.type,this.sid,this.uniqueName),this.broadcastEventToListeners("removed",{isLocal:e})}}],[{key:"type",get:function(){return"stream"}}]),n}(Pe);B([p.validateTypesAsync(p.pureObject),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",Promise)],ot.prototype,"publishMessage",null),B([p.validateTypesAsync(p.nonNegativeInteger),U("design:type",Function),U("design:paramtypes",[Number]),U("design:returntype",Promise)],ot.prototype,"setTtl",null);var st=function(e){O.default(n,e);var t=at(n);function n(e){var r;return T.default(this,n),(r=t.call(this)).syncStreamImpl=e,r.syncStreamImpl.attach(C.default(r)),r}return E.default(n,[{key:"uri",get:function(){return this.syncStreamImpl.uri}},{key:"links",get:function(){return this.syncStreamImpl.links}},{key:"dateExpires",get:function(){return this.syncStreamImpl.dateExpires}},{key:"type",get:function(){return ot.type}},{key:"lastEventId",get:function(){return null}},{key:"sid",get:function(){return this.syncStreamImpl.sid}},{key:"uniqueName",get:function(){return this.syncStreamImpl.uniqueName}},{key:"publishMessage",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncStreamImpl.publishMessage(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTtl",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncStreamImpl.setTtl(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeStream",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ensureNotClosed(),e.abrupt("return",this.syncStreamImpl.removeStream());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"close",value:function(){F.default(I.default(n.prototype),"close",this).call(this),this.syncStreamImpl.detach(this.listenerUuid)}}],[{key:"type",get:function(){return ot.type}}]),n}(je);R.default(st,"messagePublished","messagePublished"),R.default(st,"removed","removed"),B([p.validateTypesAsync(p.pureObject),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",Promise)],st.prototype,"publishMessage",null),B([p.validateTypesAsync(p.nonNegativeInteger),U("design:type",Function),U("design:paramtypes",[Number]),U("design:returntype",Promise)],st.prototype,"setTtl",null);var ut=function e(t){T.default(this,e),this.sdk="js",this.sdkVer=t,this.os=Z.os.family,this.osVer=Z.os.version,this.pl=Z.name,this.plVer=Z.version},ct=function(){function e(){T.default(this,e),this.names=new Map,this.entities=new Map}return E.default(e,[{key:"store",value:function(e){var t=this.entities.get(e.sid);return t||(this.entities.set(e.sid,e),e.uniqueName&&this.names.set(e.type+"::"+e.uniqueName,e.sid),e)}},{key:"getResolved",value:function(e,t){var n=this.names.get(t+"::"+e);return n?this.entities.get(n):null}},{key:"get",value:function(e,t){return this.entities.get(e)||this.getResolved(e,t)||null}},{key:"remove",value:function(e){var t=this.entities.get(e);t&&(this.entities.delete(e),t.uniqueName&&this.names.delete(t.type+"::"+t.uniqueName))}}]),e}();function lt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var ft=function(e){O.default(n,e);var t=lt(n);function n(e,r,i,a){var o;return T.default(this,n),(o=t.call(this,r,i)).descriptor=e,o.cache=new Qe,a&&a.forEach((function(e){o.cache.store(e.key,{key:e.key,value:e.data},e.revision)})),o}return E.default(n,[{key:"sid",get:function(){return this.descriptor.sid}},{key:"uniqueName",get:function(){return null}},{key:"type",get:function(){return n.type}},{key:"lastEventId",get:function(){return this.descriptor.last_event_id}},{key:"indexName",get:function(){return this.descriptor.indexName}},{key:"queryString",get:function(){return this.descriptor.queryExpression}},{key:"queryUri",get:function(){return this.descriptor.queryUri}},{key:"liveQueryDescriptor",get:function(){return this.descriptor}},{key:"onRemoved",value:function(){}},{key:"getItems",value:function(){var e={};return this.cache.forEach((function(t,n){e[t]=n.value})),e}},{key:"_update",value:function(e,t){switch(e.type){case"live_query_item_updated":this.handleItemMutated(e.item_key,e.item_data,e.item_revision);break;case"live_query_item_removed":this.handleItemRemoved(e.item_key,e.item_revision);break;case"live_query_updated":this.handleBatchUpdate(e.items)}t&&this._advanceLastEventId(e.last_event_id)}},{key:"handleItemMutated",value:function(e,t,n){if(this.shouldIgnoreEvent(e,n))le("Item ".concat(e," update skipped, revision: ").concat(n));else{var r={key:e,value:t};this.cache.store(e,r,n),this.broadcastEventToListeners("itemUpdated",r)}}},{key:"handleItemRemoved",value:function(e,t){var n=null===t;this.shouldIgnoreEvent(e,t)?le("Item ".concat(e," delete skipped, revision: ").concat(t)):(this.cache.delete(e,t,n),this.broadcastEventToListeners("itemRemoved",{key:e}))}},{key:"handleBatchUpdate",value:function(e){var t=this,n={};for(var r in null!=e&&e.forEach((function(e){n[e.key]={data:e.data,revision:e.revision}})),this.cache.forEach((function(e,r){var i=n[e];null!=i?t.handleItemMutated(e,i.data,i.revision):t.handleItemRemoved(e,null),delete n[e]})),n)this.handleItemMutated(r,n[r].data,n[r].revision)}},{key:"shouldIgnoreEvent",value:function(e,t){return null!=e&&null!=t&&this.cache.isKnown(e,t)}},{key:"_advanceLastEventId",value:function(e,t){this.lastEventId<e&&(this.descriptor.last_event_id=e)}}],[{key:"type",get:function(){return"live_query"}}]),n}(Pe);function dt(e){return pt.apply(this,arguments)}function pt(){return(pt=S.default(N.default.mark((function e(t){var n,r,i,a,o,s;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.network,r=t.queryString,i=t.uri,a=t.type,null!=r){e.next=3;break}throw new ne("Invalid query",400,54507);case 3:return o={query_string:r},a===ht.type&&(o.type=a),e.next=7,n.post(i,o,void 0,!0);case 7:return s=e.sent,e.abrupt("return",s.body);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ht=function(e){O.default(n,e);var t=lt(n);function n(e){var r;return T.default(this,n),(r=t.call(this)).liveQueryImpl=e,r.liveQueryImpl.attach(C.default(r)),r}return E.default(n,[{key:"type",get:function(){return ft.type}},{key:"lastEventId",get:function(){return this.liveQueryImpl.lastEventId}},{key:"sid",get:function(){return this.liveQueryImpl.sid}},{key:"close",value:function(){F.default(I.default(n.prototype),"close",this).call(this),this.liveQueryImpl.detach(this.listenerUuid)}},{key:"getItems",value:function(){return this.ensureNotClosed(),this.liveQueryImpl.getItems()}}],[{key:"type",get:function(){return ft.type}}]),n}(je);R.default(ht,"itemUpdated","itemUpdated"),R.default(ht,"itemRemoved","itemRemoved");var vt=function(e){O.default(n,e);var t=lt(n);function n(e){var r;return T.default(this,n),r=t.call(this),R.default(C.default(r),"queryExpression",null),R.default(C.default(r),"items",{}),Object.assign(C.default(r),e),r.updateIndexName(e.indexName),r}return E.default(n,[{key:"type",get:function(){return n.type}},{key:"search",value:function(){var e=S.default(N.default.mark((function e(t){var n=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.items={},e.abrupt("return",dt({network:this.network,uri:this.queryUri,queryString:t}).then((function(e){n.queryExpression=t,e.items&&e.items.forEach((function(e){n.items[e.key]=e.data})),n.emit("searchResult",n.getItems())})).catch((function(e){throw pe("Error '".concat(e.message,"' while executing query '").concat(t,"'")),n.queryExpression=null,e})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.queryExpression){e.next=2;break}return e.abrupt("return",Promise.reject(new ne("Invalid query",400,54507)));case 2:return e.abrupt("return",this.liveQueryCreator(this.indexName,this.queryExpression));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getItems",value:function(){return this.items}},{key:"updateIndexName",value:function(e){this.indexName=e,this.queryUri=this.generateQueryUri(this.indexName)}},{key:"generateQueryUri",value:function(e){return new ee(this.insightsUri).pathSegment(e).pathSegment("Items").build()}}],[{key:"type",get:function(){return"instant_query"}}]),n}(z);R.default(vt,"searchResult","searchResult"),B([p.validateTypesAsync("string"),U("design:type",Function),U("design:paramtypes",[String]),U("design:returntype",Promise)],vt.prototype,"search",null),B([p.validateTypes(p.nonEmptyString),U("design:type",Function),U("design:paramtypes",[String]),U("design:returntype",void 0)],vt.prototype,"updateIndexName",null);function mt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){R.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bt="data_sync",xt="3.1.0";function kt(e){if(e){if("string"===typeof e)return{id:e,mode:"open_or_create"};var t=e.mode||(e.id?"open_or_create":"create_new");return yt(yt({},e),{},{mode:t})}return{mode:"create_new"}}var wt="com.twilio.rtd.cds.document",_t="com.twilio.rtd.cds.list",St="com.twilio.rtd.cds.map",Tt="twilio.sync.event",Et=function(e){O.default(n,e);var t=mt(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(T.default(this,n),r=t.call(this),!e)throw new Error("Sync library needs a valid Twilio token to be passed");i.hasOwnProperty("logLevel")?ce(i.logLevel):ce("silent");var a=i.productId=i.productId||bt;i.clientMetadata=i.clientMetadata||{},i.clientMetadata.hasOwnProperty("type")||(i.clientMetadata.type="sync"),i.clientMetadata.hasOwnProperty("sdk")||(i.clientMetadata.sdk="JS",i.clientMetadata.sdkv=xt);var o=!i.twilsockClient;if(!i.initRegistrations){var s=new h.InitRegistration(a);n.populateInitRegistrations(s),i.initRegistrations=[s]}var u=i.twilsockClient=i.twilsockClient||new h.Twilsock(e,a,i);u.on("tokenAboutToExpire",(function(e){return r.emit("tokenAboutToExpire",e)})),u.on("tokenExpired",(function(){return r.emit("tokenExpired")})),u.on("connectionError",(function(e){return r.emit("connectionError",e)})),u.on("stateChanged",(function(e){r.emit("connectionStateChanged",e),r.services.subscriptions.onConnectionStateChanged("connected"===e)})),u.on("message",(function(e,t){return r._routeMessage(e,t)}));var c=new ke(i),l=new Ae(new ut(xt),c,u),f=new Ie(c);return r.services={config:c,twilsock:u,network:l,storage:f,router:C.default(r),subscriptions:null},r.services.subscriptions=new Te(r.services),r.entities=new ct,o&&u.connect(),r}return E.default(n,[{key:"_routeMessage",value:function(e,t){switch(le("Notification type:",e,"content:",t),e){case wt:case _t:case St:this.services.subscriptions.acceptMessage(t,!1);break;case Tt:this.services.subscriptions.acceptMessage(t,!0)}}},{key:"_subscribe",value:function(e,t){this.services.subscriptions.add(e,t)}},{key:"_unsubscribe",value:function(e){this.services.subscriptions.remove(e)}},{key:"connectionState",get:function(){return this.services.twilsock.state}},{key:"ensureReady",value:function(){var e=S.default(N.default.mark((function e(){var t;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.services.config.sessionStorageEnabled){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.services.twilsock.storageId();case 5:t=e.sent,this.services.storage.updateStorageId(t.id),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),de("Failed to initialize storage",e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"storeRootInSessionCache",value:function(e,t,n){if(this.services.config.sessionStorageEnabled&&t){var r=ie(n);e!==et.type&&e!==it.type||(r.last_event_id=null,delete r.items),this.services.storage.store(e,t,r)}}},{key:"readRootFromSessionCache",value:function(e,t){return this.services.config.sessionStorageEnabled&&t?this.services.storage.read(e,t):null}},{key:"_get",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i,a,o=arguments;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>2&&void 0!==o[2]&&o[2],n){e.next=3;break}throw new ne("Cannot get entity without id",404);case 3:return i=new ee(t).pathSegment(n).queryParam("Include",r?"items":void 0).build(),e.next=6,this.services.network.get(i);case 6:return a=e.sent,e.abrupt("return",a.body);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_createDocument",value:function(e,t,n){var r={unique_name:e,data:t||{}};return void 0!==n&&(r.ttl=n),this.services.network.post(this.services.config.documentsUri,r).then((function(e){return e.body.data=r.data,e.body}))}},{key:"_getDocument",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readRootFromSessionCache(Be.type,t)||this._get(this.services.config.documentsUri,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createList",value:function(e,t,n,r){var i={unique_name:e,purpose:t,context:n};return void 0!==r&&(i.ttl=r),this.services.network.post(this.services.config.listsUri,i).then((function(e){return e.body}))}},{key:"_getList",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readRootFromSessionCache(et.type,t)||this._get(this.services.config.listsUri,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createMap",value:function(e,t){var n={unique_name:e};return void 0!==t&&(n.ttl=t),this.services.network.post(this.services.config.mapsUri,n).then((function(e){return e.body}))}},{key:"_getMap",value:function(){var e=S.default(N.default.mark((function e(t){var n,r=arguments;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.abrupt("return",this.readRootFromSessionCache(it.type,t)||this._get(this.services.config.mapsUri,t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getStream",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readRootFromSessionCache(st.type,t)||this._get(this.services.config.streamsUri,t,!1));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createStream",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={unique_name:t},void 0!==n&&(r.ttl=n),e.next=4,this.services.network.post(this.services.config.streamsUri,r);case 4:return i=e.sent,e.abrupt("return",i.body);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getLiveQuery",value:function(e){return this.readRootFromSessionCache(ht.type,e)}},{key:"getCached",value:function(e,t){return e&&this.entities.get(e,t)||null}},{key:"removeFromCacheAndSession",value:function(e,t,n){this.entities.remove(t),this.services.config.sessionStorageEnabled&&this.services.storage.remove(e,t,n)}},{key:"document",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i,a,o=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:if("create_new"!==(n=kt(t)).mode){e.next=9;break}return e.next=6,this._createDocument(n.id,n.data,n.ttl);case 6:case 17:case 29:r=e.sent,e.next=39;break;case 9:if(!(i=this.getCached(n.id,Be.type))){e.next=14;break}return e.abrupt("return",new Be(i));case 14:return e.prev=14,e.next=17,this._getDocument(n.id);case 20:if(e.prev=20,e.t0=e.catch(14),404===e.t0.status&&"open_existing"!==n.mode){e.next=26;break}throw e.t0;case 26:return e.prev=26,e.next=29,this._createDocument(n.id,n.data,n.ttl);case 32:if(e.prev=32,e.t1=e.catch(26),409!==e.t1.status){e.next=38;break}return e.abrupt("return",this.document(t));case 38:throw e.t1;case 39:return this.storeRootInSessionCache(Be.type,n.id,r),a=new Ze(this.services,r,(function(e,t,n){return o.removeFromCacheAndSession(e,t,n)})),a=this.entities.store(a),e.abrupt("return",new Be(a));case 43:case"end":return e.stop()}}),e,this,[[14,20],[26,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"map",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i,a,o=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:if("create_new"!==(n=kt(t)).mode){e.next=9;break}return e.next=6,this._createMap(n.id,n.ttl);case 6:case 17:case 29:r=e.sent,e.next=39;break;case 9:if(!(i=this.getCached(n.id,it.type))){e.next=14;break}return e.abrupt("return",new it(i));case 14:return e.prev=14,e.next=17,this._getMap(n.id,n.includeItems);case 20:if(e.prev=20,e.t0=e.catch(14),404===e.t0.status&&"open_existing"!==n.mode){e.next=26;break}throw e.t0;case 26:return e.prev=26,e.next=29,this._createMap(n.id,n.ttl);case 32:if(e.prev=32,e.t1=e.catch(26),409!==e.t1.status){e.next=38;break}return e.abrupt("return",this.map(t));case 38:throw e.t1;case 39:return this.storeRootInSessionCache(it.type,n.id,r),a=new rt(this.services,r,(function(e,t,n){return o.removeFromCacheAndSession(e,t,n)})),a=this.entities.store(a),e.abrupt("return",new it(a));case 43:case"end":return e.stop()}}),e,this,[[14,20],[26,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"list",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i,a,o=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:if("create_new"!==(n=kt(t)).mode){e.next=9;break}return e.next=6,this._createList(n.id,n.purpose,n.context,n.ttl);case 6:case 17:case 29:r=e.sent,e.next=39;break;case 9:if(!(i=this.getCached(n.id,et.type))){e.next=14;break}return e.abrupt("return",new et(i));case 14:return e.prev=14,e.next=17,this._getList(n.id);case 20:if(e.prev=20,e.t0=e.catch(14),404===e.t0.status&&"open_existing"!==n.mode){e.next=26;break}throw e.t0;case 26:return e.prev=26,e.next=29,this._createList(n.id,n.purpose,n.context,n.ttl);case 32:if(e.prev=32,e.t1=e.catch(26),409!==e.t1.status){e.next=38;break}return e.abrupt("return",this.list(t));case 38:throw e.t1;case 39:return this.storeRootInSessionCache(et.type,n.id,r),a=new $e(this.services,r,(function(e,t,n){return o.removeFromCacheAndSession(e,t,n)})),a=this.entities.store(a),e.abrupt("return",new et(a));case 43:case"end":return e.stop()}}),e,this,[[14,20],[26,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stream",value:function(){var e=S.default(N.default.mark((function e(t){var n,r,i,a,o,s=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:if("create_new"!==(n=kt(t)).mode){e.next=9;break}return e.next=6,this._createStream(n.id,n.ttl);case 6:case 17:case 29:r=e.sent,e.next=39;break;case 9:if(!(i=this.getCached(n.id,st.type))){e.next=14;break}return e.abrupt("return",new st(i));case 14:return e.prev=14,e.next=17,this._getStream(n.id);case 20:if(e.prev=20,e.t0=e.catch(14),404===e.t0.status&&"open_existing"!==n.mode){e.next=26;break}throw e.t0;case 26:return e.prev=26,e.next=29,this._createStream(n.id,n.ttl);case 32:if(e.prev=32,e.t1=e.catch(26),409!==e.t1.status){e.next=38;break}return e.abrupt("return",this.stream(t));case 38:throw e.t1;case 39:return this.storeRootInSessionCache(st.type,n.id,r),a=function(e,t,n){return s.removeFromCacheAndSession(e,t,n)},o=new ot(this.services,r,a),o=this.entities.store(o),e.abrupt("return",new st(o));case 44:case"end":return e.stop()}}),e,this,[[14,20],[26,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"shutdown",value:function(){var e=S.default(N.default.mark((function e(){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.services.subscriptions.shutdown();case 2:return e.next=4,this.services.twilsock.disconnect();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateToken",value:function(){var e=S.default(N.default.mark((function e(t){return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.services.twilsock.updateToken(t).catch((function(e){var t,n=null===e||void 0===e||null===(t=e.reply)||void 0===t?void 0:t.status;if(401===(null===n||void 0===n?void 0:n.code)&&"UNAUTHORIZED"===(null===n||void 0===n?void 0:n.status))throw new ne("Updated token was rejected by server",400,51130);throw e})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"liveQuery",value:function(){var e=S.default(N.default.mark((function e(t,n){var r,i,a,o,s,u=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:return r=new ee(this.services.config.insightsUri).pathSegment(t).pathSegment("Items").build(),e.next=5,dt({network:this.services.network,uri:r,queryString:n,type:ht.type});case 5:return i=e.sent,(a=this.getCached(i.query_id,ht.type))||((o=this._getLiveQuery(i.query_id))||(o={indexName:t,queryExpression:n,sid:i.query_id,queryUri:r,last_event_id:i.last_event_id}),s=function(e,t,n){return u.removeFromCacheAndSession(e,t,n)},a=new ft(o,this.services,s,i.items)),this.storeRootInSessionCache(ht.type,i.query_id,a.liveQueryDescriptor),a=this.entities.store(a),e.abrupt("return",new ht(a));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"instantQuery",value:function(){var e=S.default(N.default.mark((function e(t){var n,r=this;return N.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureReady();case 2:return n=function(e,t){return r.liveQuery(e,t)},e.abrupt("return",new vt({indexName:t,network:this.services.network,insightsUri:this.services.config.insightsUri,liveQueryCreator:n}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"populateInitRegistrations",value:function(e){e.populateInitRegistrations([Tt,wt,_t,St])}},{key:"version",get:function(){return xt}}]),n}(z);R.default(Et,"connectionStateChanged","connectionStateChanged"),R.default(Et,"connectionError","connectionError"),R.default(Et,"tokenAboutToExpire","tokenAboutToExpire"),R.default(Et,"tokenExpired","tokenExpired"),B([p.validateTypesAsync(["undefined","string",p.objectSchema("open document options",{id:["string","undefined"],mode:[p.literal("open_or_create","open_existing","create_new"),"undefined"],ttl:[p.nonNegativeInteger,"undefined"],data:[p.pureObject,"undefined",p.literal(null)]})]),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",Promise)],Et.prototype,"document",null),B([p.validateTypesAsync(["undefined","string",p.objectSchema("open map options",{id:["string","undefined"],mode:[p.literal("open_or_create","open_existing","create_new"),"undefined"],ttl:[p.nonNegativeInteger,"undefined"],data:[p.pureObject,"undefined",p.literal(null)],includeItems:["boolean","undefined"]})]),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",Promise)],Et.prototype,"map",null),B([p.validateTypesAsync(["undefined","string",p.objectSchema("open list options",{id:["string","undefined"],mode:[p.literal("open_or_create","open_existing","create_new"),"undefined"],ttl:[p.nonNegativeInteger,"undefined"],data:[p.pureObject,"undefined",p.literal(null)],purpose:["string","undefined"],context:[p.pureObject,"undefined"],includeItems:["boolean","undefined"]})]),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",Promise)],Et.prototype,"list",null),B([p.validateTypesAsync(["undefined","string",p.objectSchema("open stream options",{id:["string","undefined"],mode:[p.literal("open_or_create","open_existing","create_new"),"undefined"],ttl:[p.nonNegativeInteger,"undefined"],data:[p.pureObject,"undefined",p.literal(null)]})]),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",Promise)],Et.prototype,"stream",null),B([p.validateTypesAsync(p.nonEmptyString),U("design:type",Function),U("design:paramtypes",[String]),U("design:returntype",Promise)],Et.prototype,"updateToken",null),B([p.validateTypesAsync(p.nonEmptyString,"string"),U("design:type",Function),U("design:paramtypes",[String,String]),U("design:returntype",Promise)],Et.prototype,"liveQuery",null),B([p.validateTypesAsync(p.nonEmptyString),U("design:type",Function),U("design:paramtypes",[String]),U("design:returntype",Promise)],Et.prototype,"instantQuery",null),t.Client=Et,t.InsightsItem=function e(){T.default(this,e)},t.InstantQuery=vt,t.LiveQuery=ht,t.Paginator=Ve,t.SyncClient=Et,t.SyncDocument=Be,t.SyncList=et,t.SyncListItem=Ue,t.SyncMap=it,t.SyncMapItem=tt,t.SyncStream=st},57335:function(e,t,n){"use strict";var r=n(38156);e.exports=function(e,t,n,i){var a,o=new Error("Canceled");return new r((function(s,u,c){var l;e((function(e){return c()?r.reject(o):(l=t(e),n(l).then((function(e){if(c())throw o;return a=e()})))})).then((function(e){if(c())throw e.disconnect(),o;s(i(l,e))})).catch((function(e){u(e)}))}),(function(){a&&a.cancel()}))}},70146:function(e,t,n){"use strict";var r=n(25409).MediaStreamTrack,i=n(73348),a=i.guessBrowser,o=i.guessBrowserVersion,s=n(57335),u=n(74905),c=n(63675),l=n(33512),f=n(3137),d=n(66512),p=d.LocalAudioTrack,h=d.LocalDataTrack,v=d.LocalVideoTrack,m=n(42580),g=n(87981),y=n(68179),b=n(58242),x=b.asLocalTrack,k=b.buildLogLevels,w=b.filterObject,_=b.isNonArrayObject,S=n(24657),T=S.DEFAULT_ENVIRONMENT,E=S.DEFAULT_LOG_LEVEL,C=S.DEFAULT_LOGGER_NAME,O=S.DEFAULT_REALM,A=S.DEFAULT_REGION,I=S.WS_SERVER,R=S.SDK_NAME,N=S.SDK_VERSION,P=S.typeErrors,M=n(38156),D=n(16820),L=n(41547),j=n(96340).kG,F="safari"===a()&&o(),Z=0,B=!1,U=!1;if(F){var V=F.major,z=F.minor;U=V<12||12===V&&z<1}var W=new Set([{didWarn:!1,shouldDelete:!0,name:"abortOnIceServersTimeout"},{didWarn:!1,shouldDelete:!0,name:"dscpTagging",newName:"enableDscp"},{didWarn:!1,shouldDelete:!0,name:"iceServersTimeout"},{didWarn:!1,shouldDelete:!1,name:"eventListener",newName:"Video.Logger"},{didWarn:!1,shouldDelete:!1,name:"logLevel",newName:"Video.Logger"}]),H=new Set([{didWarn:!1,shouldDelete:!1,name:"maxTracks",newName:"bandwidthProfile.video.clientTrackSwitchOffControl"},{didWarn:!1,shouldDelete:!1,name:"renderDimensions",newName:"bandwidthProfile.video.contentPreferencesMode"}]);function G(e,t,n){n.forEach((function(n){var r=n.didWarn,i=n.name,a=n.newName,o=n.shouldDelete;i in e&&"undefined"!==typeof e[i]&&(a&&o&&(e[a]=e[i]),o&&delete e[i],r||["error","off"].includes(t.level)||(t.warn('The ConnectOptions "'+i+'" is '+(a?'deprecated and scheduled for removal. Please use "'+a+'" instead.':"no longer applicable and will be ignored.")),n.didWarn=!0))}))}function q(e,t,n,r,i,a){var o=e.createLocalParticipantSignaling(n,r);return t.debug("Creating a new LocalParticipant:",o),new i.LocalParticipant(o,a,i)}function K(e,t,n){var r=new g(t,n,e),i=e.log;return i.debug("Creating a new Room:",r),n.on("stateChanged",(function e(t){"disconnected"===t&&(i.info("Disconnected from Room:",r.toString()),n.removeListener("stateChanged",e))})),r}function Y(e,t,n,r,i,a){return t.log.debug("Creating a new RoomSignaling"),n.connect(a._signaling,e,r,i,t)}function X(e,t){var n=e.log;return e.shouldStopLocalTracks=!e.tracks,e.shouldStopLocalTracks?n.info("LocalTracks were not provided, so they will be acquired automatically before connecting to the Room. LocalTracks will be released if connecting to the Room fails or if the Room is disconnected"):(n.info("Getting LocalTracks"),n.debug("Options:",e)),e.createLocalTracks(e).then((function(r){var i=t(r);return i.catch((function(){e.shouldStopLocalTracks&&(n.info("The automatically acquired LocalTracks will now be stopped"),r.forEach((function(e){e.stop()})))})),i}))}function Q(e){var t="string"===typeof e?{codec:e}:e;switch(t.codec.toLowerCase()){case"opus":return Object.assign({dtx:!0},t);case"vp8":return Object.assign({simulcast:!1},t);default:return t}}e.exports=function(e,t){if("undefined"===typeof t&&(t={}),!_(t))return M.reject(P.INVALID_TYPE("options","object"));var n,i=t.Log||L,a=t.loggerName||C,o=t.logLevel||E,d=k(o),g="[connect #"+ ++Z+"]";try{n=new i("default",g,d,a)}catch($){return M.reject($)}G(t,n,W);var b="auto"===t.preferredVideoCodecs;if(b&&(t.preferredVideoCodecs=[{codec:"VP8",simulcast:!0,adaptiveSimulcast:!0}]),t.maxVideoBitrate&&b)return n.error('ConnectOptions "maxVideoBitrate" is not compatible with "preferredVideoCodecs=auto"'),M.reject(P.ILLEGAL_INVOKE("connect",'ConnectOptions "maxVideoBitrate" is not compatible with "preferredVideoCodecs=auto"'));var S={};"string"===typeof(t=Object.assign({automaticSubscription:!0,dominantSpeaker:!1,enableDscp:!1,environment:T,eventListener:null,insights:!0,LocalAudioTrack:p,LocalDataTrack:h,LocalParticipant:c,LocalVideoTrack:v,Log:i,MediaStreamTrack:r,loggerName:a,logLevel:o,maxAudioBitrate:null,maxVideoBitrate:null,name:null,networkMonitor:!0,networkQuality:!1,preferredAudioCodecs:[],preferredVideoCodecs:[],realm:O,region:A,signaling:y},w(t))).wsServerInsights&&(S.gateway=t.wsServerInsights);var F=new(t.insights?l:f)(e,R,N,t.environment,t.realm,S),V=I(t.environment,t.region),z=new D(F,Date.now(),n,t.eventListener);if((t=Object.assign({eventObserver:z,wsServer:V},t)).log=n,U&&!B&&"error"!==n.logLevel&&"off"!==n.logLevel&&(B=!0,n.warn(["Support for Safari 12.0 and below is limited because it does not support VP8.","This means you may experience codec issues in Group Rooms. You may also","experience codec issues in Peer-to-Peer (P2P) Rooms containing Android- or","iOS-based Participants who do not support H.264. However, P2P Rooms","with browser-based Participants should work. For more information, please","refer to this guide: https://www.twilio.com/docs/video/javascript-v2-developing-safari-11"].join(" "))),"string"!==typeof e)return M.reject(P.INVALID_TYPE("token","string"));var J=Object.assign({},t);if(delete J.name,"tracks"in t){if(!Array.isArray(t.tracks))return M.reject(P.INVALID_TYPE("options.tracks","Array of LocalAudioTrack, LocalVideoTrack or MediaStreamTrack"));try{t.tracks=t.tracks.map((function(e){return x(e,J)}))}catch($){return M.reject($)}}var $=j(t.bandwidthProfile);if($)return M.reject($);t.clientTrackSwitchOffControl="disabled",t.contentPreferencesMode="disabled",t.bandwidthProfile&&(t.clientTrackSwitchOffControl="auto",t.contentPreferencesMode="auto",t.bandwidthProfile.video&&(G(t.bandwidthProfile.video,n,H),"maxTracks"in t.bandwidthProfile.video?t.clientTrackSwitchOffControl="disabled":"manual"===t.bandwidthProfile.video.clientTrackSwitchOffControl?t.clientTrackSwitchOffControl="manual":t.clientTrackSwitchOffControl="auto","renderDimensions"in t.bandwidthProfile.video?t.contentPreferencesMode="disabled":"manual"===t.bandwidthProfile.video.contentPreferencesMode?t.contentPreferencesMode="manual":t.contentPreferencesMode="auto"));var ee=new(0,t.signaling)(t.wsServer,t);n.info("Connecting to a Room"),n.debug("Options:",t);var te=new u({maxAudioBitrate:t.maxAudioBitrate,maxVideoBitrate:t.maxVideoBitrate},b),ne={audio:t.preferredAudioCodecs.map(Q),video:t.preferredVideoCodecs.map(Q)},re=new m(_(t.networkQuality)?t.networkQuality:{}),ie=s(X.bind(null,t),q.bind(null,ee,n,te,re,t),Y.bind(null,e,t,ee,te,ne),K.bind(null,t));return ie.then((function(e){return F.connect(e.sid,e.localParticipant.sid),n.info("Connected to Room:",e.toString()),n.info("Room name:",e.name),n.debug("Room:",e),e.once("disconnected",(function(){return F.disconnect()})),e}),(function(e){F.disconnect(),ie._isCanceled?n.info("Attempt to connect to a Room was canceled"):n.info("Error while connecting to a Room:",e)})),ie}},12804:function(e,t,n){"use strict";var r=n(24657),i=r.DEFAULT_LOG_LEVEL,a=r.DEFAULT_LOGGER_NAME;function o(e,t){t=Object.assign({loggerName:a,logLevel:i},t);var n={};n.loggerName=t.loggerName,n.logLevel=t.logLevel,delete t.loggerName,delete t.logLevel;var r=t.createLocalTracks;return delete t.createLocalTracks,n[e]=!(Object.keys(t).length>0)||t,r(n).then((function(e){return e[0]}))}e.exports={audio:function(e){return o("audio",e)},video:function(e){return o("video",e)}}},35166:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},s=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.createLocalTracks=void 0;var u=n(6727),c=n(58242).buildLogLevels,l=n(25409),f=l.getUserMedia,d=l.MediaStreamTrack,p=n(66512),h=p.LocalAudioTrack,v=p.LocalDataTrack,m=p.LocalVideoTrack,g=n(41547),y=n(24657),b=y.DEFAULT_LOG_LEVEL,x=y.DEFAULT_LOGGER_NAME,k=y.typeErrors.INVALID_VALUE,w=n(21268),_=0;t.createLocalTracks=function(e){return i(this,void 0,void 0,(function(){var t,n,l,p,y,S,T,E,C,O,A,I,R,N=this;return a(this,(function(P){switch(P.label){case 0:if(n=r({audio:t=!(e&&("audio"in e||"video"in e)),getUserMedia:f,loggerName:x,logLevel:b,LocalAudioTrack:h,LocalDataTrack:v,LocalVideoTrack:m,MediaStreamTrack:d,Log:g,video:t},e),l="[createLocalTracks #"+ ++_+"]",p=c(n.logLevel),y=new n.Log("default",l,p,n.loggerName),delete(S=Object.assign({log:y},n)).name,!1===n.audio&&!1===n.video)return y.info("Neither audio nor video requested, so returning empty LocalTracks"),[2,[]];if(n.tracks)return y.info("Adding user-provided LocalTracks"),y.debug("LocalTracks:",n.tracks),[2,n.tracks];if((T={audio:"object"===typeof n.audio&&n.audio.name?{name:n.audio.name}:{defaultDeviceCaptureMode:"auto"},video:"object"===typeof n.video&&n.video.name?{name:n.video.name}:{}}).audio.isCreatedByCreateLocalTracks=!0,T.video.isCreatedByCreateLocalTracks=!0,"object"===typeof n.audio)if("boolean"===typeof n.audio.workaroundWebKitBug1208516&&(T.audio.workaroundWebKitBug1208516=n.audio.workaroundWebKitBug1208516),"noiseCancellationOptions"in n.audio&&(E=n.audio.noiseCancellationOptions,delete n.audio.noiseCancellationOptions),"defaultDeviceCaptureMode"in n.audio){if(["auto","manual"].every((function(e){return e!==n.audio.defaultDeviceCaptureMode})))throw k("CreateLocalAudioTrackOptions.defaultDeviceCaptureMode",["auto","manual"]);T.audio.defaultDeviceCaptureMode=n.audio.defaultDeviceCaptureMode}else T.audio.defaultDeviceCaptureMode="auto";"object"===typeof n.video&&"boolean"===typeof n.video.workaroundWebKitBug1208516&&(T.video.workaroundWebKitBug1208516=n.video.workaroundWebKitBug1208516),"object"===typeof n.audio&&delete n.audio.name,"object"===typeof n.video&&delete n.video.name,C={audio:n.audio,video:n.video},O="object"===typeof n.audio&&n.audio.workaroundWebKitBug180748,P.label=1;case 1:return P.trys.push([1,4,,5]),[4,O?w(y,n.getUserMedia,C):n.getUserMedia(C)];case 2:return A=P.sent(),I=s(s([],o(A.getAudioTracks())),o(A.getVideoTracks())),y.info("Call to getUserMedia successful; got tracks:",I),[4,Promise.all(I.map((function(e){return i(N,void 0,void 0,(function(){var t,n,i;return a(this,(function(a){switch(a.label){case 0:return"audio"===e.kind&&E?[4,u.applyNoiseCancellation(e,E,y)]:[3,2];case 1:return t=a.sent(),n=t.cleanTrack,i=t.noiseCancellation,[2,new S.LocalAudioTrack(n,r(r(r({},T.audio),S),{noiseCancellation:i}))];case 2:if("audio"===e.kind)return[2,new S.LocalAudioTrack(e,r(r({},T.audio),S))];a.label=3;case 3:return[2,new S.LocalVideoTrack(e,r(r({},T.video),S))]}}))}))})))];case 3:return[2,P.sent()];case 4:throw R=P.sent(),y.warn("Call to getUserMedia failed:",R),R;case 5:return[2]}}))}))}},34103:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(95187),a=n(20465),o=function(e){function t(t){var n=e.call(this,t.label,t.maxPacketLifeTime,t.maxRetransmits,t.ordered)||this;return Object.defineProperties(n,{_dataChannel:{value:t}}),t.binaryType="arraybuffer",t.addEventListener("message",(function(e){n.emit("message",e.data)})),t.addEventListener("close",(function(){n.emit("close")})),n}return r(t,e),t.prototype.stop=function(){this._dataChannel.close(),e.prototype.stop.call(this)},t.prototype.toDataTransport=function(){return new a(this._dataChannel)},t}(i);e.exports=o},29701:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(95187),a=n(58242).makeUUID,o=function(e){function t(t,n,r){var i=e.call(this,a(),t,n,r)||this;return Object.defineProperties(i,{_clones:{value:new Set},_dataChannels:{value:new Set}}),i}return r(t,e),t.prototype._addClone=function(e){this._clones.add(e)},t.prototype.removeClone=function(e){this._clones.delete(e)},t.prototype.addDataChannel=function(e){return this._dataChannels.add(e),this},t.prototype.clone=function(){var e=this,n=new t(this.maxPacketLifeTime,this.maxRetransmits,this.ordered);return this._addClone(n),n.once("stopped",(function(){return e.removeClone(n)})),n},t.prototype.removeDataChannel=function(e){return this._dataChannels.delete(e),this},t.prototype.send=function(e){return this._dataChannels.forEach((function(t){try{t.send(e)}catch(n){}})),this._clones.forEach((function(t){try{t.send(e)}catch(n){}})),this},t.prototype.stop=function(){this._dataChannels.forEach((function(e){return e.close()})),this._clones.forEach((function(e){return e.stop()})),e.prototype.stop.call(this)},t}(i);e.exports=o},95187:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r,i){var a=e.call(this,t,"data")||this;return Object.defineProperties(a,{maxPacketLifeTime:{enumerable:!0,value:n},maxRetransmits:{enumerable:!0,value:r},ordered:{enumerable:!0,value:i}}),a}return r(t,e),t}(n(97952));e.exports=i},20465:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t){var n=e.call(this)||this;return Object.defineProperties(n,{_dataChannel:{value:t},_messageQueue:{value:[]}}),t.addEventListener("open",(function(){n._messageQueue.splice(0).forEach((function(e){return n._publish(e)}))})),t.addEventListener("message",(function(e){var t=e.data;try{var r=JSON.parse(t);n.emit("message",r)}catch(i){}})),n.publish({type:"ready"}),n}return r(t,e),t.prototype._publish=function(e){var t=JSON.stringify(e);try{this._dataChannel.send(t)}catch(n){}},t.prototype.publish=function(e){var t=this._dataChannel;return"closing"!==t.readyState&&"closed"!==t.readyState&&("connecting"===t.readyState?(this._messageQueue.push(e),!0):(this._publish(e),!0))},t}(n(47465).EventEmitter);e.exports=i},74905:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this)||this;return t=Object.assign({maxAudioBitrate:null,maxVideoBitrate:null},t),Object.defineProperties(r,{maxAudioBitrate:{value:t.maxAudioBitrate,writable:!0},maxVideoBitrate:{value:t.maxVideoBitrate,writable:!0},adaptiveSimulcast:{value:n}}),r}return r(t,e),t.prototype.toJSON=function(){return{maxAudioBitrate:this.maxAudioBitrate,maxVideoBitrate:this.maxVideoBitrate}},t.prototype.update=function(e){var t=this;e=Object.assign({maxAudioBitrate:this.maxAudioBitrate,maxVideoBitrate:this.maxVideoBitrate},e),["maxAudioBitrate","maxVideoBitrate"].reduce((function(n,r){return t[r]!==e[r]&&(t[r]=e[r],n=!0),n}),!1)&&this.emit("changed")},t}(n(47465).EventEmitter);e.exports=i},5887:function(e,t,n){"use strict";var r=n(47465).EventEmitter,i=n(58242).hidePrivateAndCertainPublicPropertiesInClass;e.exports=i(r,["domain"])},22478:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(35166),a=n(49707),o={connect:n(70146),createLocalAudioTrack:n(12804).audio,createLocalVideoTrack:n(12804).video,isSupported:n(96415)(),version:n(1730).version,Logger:n(48489),LocalAudioTrack:n(66512).LocalAudioTrack,LocalDataTrack:n(66512).LocalDataTrack,LocalVideoTrack:n(66512).LocalVideoTrack};var s=o.isSupported,u=o.version,c=o.Logger,l=o.LocalAudioTrack,f=o.LocalVideoTrack,d=o.LocalDataTrack;e.exports={connect:function(e,t){var n=r({createLocalTracks:i.createLocalTracks},t);return o.connect(e,n)},createLocalAudioTrack:function(e){var t=r({createLocalTracks:i.createLocalTracks},e);return o.createLocalAudioTrack(t)},createLocalVideoTrack:function(e){var t=r({createLocalTracks:i.createLocalTracks},e);return o.createLocalVideoTrack(t)},createLocalTracks:i.createLocalTracks,runPreflight:a.runPreflight,isSupported:s,version:u,Logger:c,LocalAudioTrack:l,LocalVideoTrack:f,LocalDataTrack:d}},63675:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(25409).MediaStreamTrack,a=n(58242),o=a.asLocalTrack,s=a.asLocalTrackPublication,u=a.trackClass,c=n(24657),l=c.typeErrors,f=c.trackPriority,d=n(96340).Wv,p=n(66512),h=p.LocalAudioTrack,v=p.LocalDataTrack,m=p.LocalVideoTrack,g=n(79674),y=n(44977),b=n(53091),x=function(e){function t(t,n,r){var a=this,o=(r=Object.assign({LocalAudioTrack:h,LocalVideoTrack:m,LocalDataTrack:v,MediaStreamTrack:i,LocalAudioTrackPublication:g,LocalVideoTrackPublication:b,LocalDataTrackPublication:y,shouldStopLocalTracks:!1,tracks:n},r)).shouldStopLocalTracks?new Set(n.filter((function(e){return"data"!==e.kind}))):new Set;return a=e.call(this,t,r)||this,Object.defineProperties(a,{_eventObserver:{value:r.eventObserver},_LocalAudioTrack:{value:r.LocalAudioTrack},_LocalDataTrack:{value:r.LocalDataTrack},_LocalVideoTrack:{value:r.LocalVideoTrack},_MediaStreamTrack:{value:r.MediaStreamTrack},_LocalAudioTrackPublication:{value:r.LocalAudioTrackPublication},_LocalDataTrackPublication:{value:r.LocalDataTrackPublication},_LocalVideoTrackPublication:{value:r.LocalVideoTrackPublication},_tracksToStop:{value:o},signalingRegion:{enumerable:!0,get:function(){return t.signalingRegion}}}),a._handleTrackSignalingEvents(),a}return r(t,e),t.prototype._addTrack=function(t,n,r){var i=e.prototype._addTrack.call(this,t,n);return i&&"disconnected"!==this.state&&this._addLocalTrack(t,r),i},t.prototype._addLocalTrack=function(e,t){var n,r=null===(n=e.noiseCancellation)||void 0===n?void 0:n.vendor;this._signaling.addTrack(e._trackSender,e.name,t,r),this._log.info("Added a new "+u(e,!0)+":",e.id),this._log.debug(u(e,!0)+":",e)},t.prototype._removeTrack=function(t,n){var r=e.prototype._removeTrack.call(this,t,n);return r&&"disconnected"!==this.state&&(this._signaling.removeTrack(t._trackSender),this._log.info("Removed a "+u(t,!0)+":",t.id),this._log.debug(u(t,!0)+":",t)),r},t.prototype._getTrackEvents=function(){return e.prototype._getTrackEvents.call(this).concat([["disabled","trackDisabled"],["enabled","trackEnabled"],["stopped","trackStopped"]])},t.prototype.toString=function(){return"[LocalParticipant #"+this._instanceId+(this.sid?": "+this.sid:"")+"]"},t.prototype._handleTrackSignalingEvents=function(){var e=this,t=this._log;if("disconnected"!==this.state){var n=function(n){var r=e._signaling.getPublication(n._trackSender);r&&(r.disable(),t.debug("Disabled the "+u(n,!0)+":",n.id))},r=function(n){var r=e._signaling.getPublication(n._trackSender);r&&(r.enable(),t.debug("Enabled the "+u(n,!0)+":",n.id))},i=function(t){var n=e._signaling.getPublication(t._trackSender);return n&&n.stop(),n};this.on("trackDisabled",n),this.on("trackEnabled",r),this.on("trackStopped",i),this._signaling.on("stateChanged",(function a(o){t.debug("Transitioned to state:",o),"disconnected"===o?(t.debug("Removing LocalTrack event listeners"),e._signaling.removeListener("stateChanged",a),e.removeListener("trackDisabled",n),e.removeListener("trackEnabled",r),e.removeListener("trackStopped",i),e._tracks.forEach((function(e){var t=i(e);t&&e._trackSender.removeClone(t._trackTransceiver)})),t.info("LocalParticipant disconnected. Stopping "+e._tracksToStop.size+" automatically-acquired LocalTracks"),e._tracksToStop.forEach((function(e){e.stop()}))):"connected"===o&&(t.info("reconnected"),setTimeout((function(){return e.emit("reconnected")}),0))})),this._tracks.forEach((function(n){e._addLocalTrack(n,f.PRIORITY_STANDARD),e._getOrCreateLocalTrackPublication(n).catch((function(e){t.warn("Failed to get or create LocalTrackPublication for "+n+":",e)}))}))}},t.prototype._getOrCreateLocalTrackPublication=function(e){var t=k(this.tracks,e);if(t)return Promise.resolve(t);var n=this._log,r=this,i=this._signaling.getPublication(e._trackSender);return i?new Promise((function(a,o){i.on("updated",(function c(){var l=i.error;if(l)return i.removeListener("updated",c),n.warn("Failed to publish the "+u(e,!0)+": "+l.message),r._removeTrack(e,e.id),setTimeout((function(){r.emit("trackPublicationFailed",l,e)})),void o(l);if(!r._tracks.has(e.id))return i.removeListener("updated",c),void o(new Error("The "+e+" was unpublished"));if(i.sid){i.removeListener("updated",c);var f={log:n,LocalAudioTrackPublication:r._LocalAudioTrackPublication,LocalDataTrackPublication:r._LocalDataTrackPublication,LocalVideoTrackPublication:r._LocalVideoTrackPublication};t=k(r.tracks,e);var d=function(e){return r.emit("trackWarning",e,t)},p=function(){return r.emit("trackWarningsCleared",t)};t||(t=s(e,i,(function(e){t.removeListener("trackWarning",d),t.removeListener("trackWarningsCleared",p),r.unpublishTrack(e.track)}),f),r._addTrackPublication(t)),t.on("warning",d),t.on("warningsCleared",p);var h=r._signaling.state;"connected"!==h&&"connecting"!==h||(e._processorEventObserver&&e._processorEventObserver.on("event",(function(e){r._eventObserver.emit("event",{name:e.name,payload:e.data,group:"video-processor",level:"info"})})),e.processedTrack&&(e._captureFrames(),e._setSenderMediaStreamTrack(!0))),"connected"===h&&setTimeout((function(){r.emit("trackPublished",t)})),a(t)}}))})):Promise.reject(new Error("Unexpected error: The "+e+" cannot be published"))},t.prototype.publishTrack=function(e,t){var n,r=k(this.tracks,e);if(r)return Promise.resolve(r);t=Object.assign({log:this._log,priority:f.PRIORITY_STANDARD,LocalAudioTrack:this._LocalAudioTrack,LocalDataTrack:this._LocalDataTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack},t);try{n=o(e,t)}catch(c){return Promise.reject(c)}var i=n.noiseCancellation,a=this._signaling.audioProcessors;i&&!a.includes(i.vendor)&&(this._log.warn(i.vendor+" is not supported in this room. disabling it permanently"),i.disablePermanently());var s=Object.values(f);if(!s.includes(t.priority))return Promise.reject(l.INVALID_VALUE("LocalTrackPublishOptions.priority",s));var u=this._addTrack(n,n.id,t.priority)||this._tracks.get(n.id);return this._getOrCreateLocalTrackPublication(u)},t.prototype.publishTracks=function(e){if(!Array.isArray(e))throw l.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack");return Promise.all(e.map(this.publishTrack,this))},t.prototype.setBandwidthProfile=function(){this._log.warn("setBandwidthProfile is not implemented yet and may be available in future versions of twilio-video.js")},t.prototype.setNetworkQualityConfiguration=function(e){if("object"!==typeof e||null===e)throw l.INVALID_TYPE("networkQualityConfiguration","NetworkQualityConfiguration");return["local","remote"].forEach((function(t){if(t in e&&("number"!==typeof e[t]||isNaN(e[t])))throw l.INVALID_TYPE("networkQualityConfiguration."+t,"number")})),this._signaling.setNetworkQualityConfiguration(e),this},t.prototype.setParameters=function(e){if("undefined"!==typeof e&&"object"!==typeof e)throw l.INVALID_TYPE("encodingParameters","EncodingParameters, null or undefined");if(e){if(this._signaling.getParameters().adaptiveSimulcast&&e.maxVideoBitrate)throw l.INVALID_TYPE("encodingParameters",'encodingParameters.maxVideoBitrate is not compatible with "preferredVideoCodecs=auto"');["maxAudioBitrate","maxVideoBitrate"].forEach((function(t){if("undefined"!==typeof e[t]&&"number"!==typeof e[t]&&null!==e[t])throw l.INVALID_TYPE("encodingParameters."+t,"number, null or undefined")}))}else null===e&&(e={maxAudioBitrate:null,maxVideoBitrate:null});return this._signaling.setParameters(e),this},t.prototype.unpublishTrack=function(e){d(e,{LocalAudioTrack:this._LocalAudioTrack,LocalDataTrack:this._LocalDataTrack,LocalVideoTrack:this._LocalVideoTrack,MediaStreamTrack:this._MediaStreamTrack});var t=this._tracks.get(e.id);if(!t)return null;if(this._signaling.getPublication(t._trackSender).publishFailed(new Error("The "+t+" was unpublished")),!(t=this._removeTrack(t,t.id)))return null;var n=k(this.tracks,t);return n&&this._removeTrackPublication(n),n},t.prototype.unpublishTracks=function(e){var t=this;if(!Array.isArray(e))throw l.INVALID_TYPE("tracks","Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack");return e.reduce((function(e,n){var r=t.unpublishTrack(n);return r?e.concat(r):e}),[])},t}(n(241));function k(e,t){return Array.from(e.values()).find((function(e){return e.track===t||e.track.mediaStreamTrack===t}))||null}e.exports=x},64591:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.attach=function(){return e.prototype.attach.apply(this,arguments)},t.prototype.detach=function(){return e.prototype.detach.apply(this,arguments)},t}(n(63592));e.exports=i},66512:function(e,t,n){"use strict";e.exports={LocalAudioTrack:n(47825),LocalVideoTrack:n(19826),LocalDataTrack:n(19571)}},47825:function(e,t,n){"use strict";var r=n(78812),i=n(69595);function a(e,t){var n=new i(e,t);return Object.setPrototypeOf(n,a.prototype),n}r(a,i),e.exports=a},19571:function(e,t,n){"use strict";var r=n(78812),i=n(41378);function a(e){var t=new i(e);return Object.setPrototypeOf(t,a.prototype),t}r(a,i),e.exports=a},19826:function(e,t,n){"use strict";var r=n(78812),i=n(36950);function a(e,t){var n=new i(e,t);return Object.setPrototypeOf(n,a.prototype),n}r(a,i),e.exports=a},16753:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(5887),a=n(58242),o=a.buildLogLevels,s=a.valueToJSON,u=n(24657).DEFAULT_LOG_LEVEL,c=n(41547),l=0,f=function(e){function t(t,n,r){var i;r=Object.assign({name:t,log:null,logLevel:u},r),i=e.call(this)||this;var a=String(r.name),s=o(r.logLevel),f=r.log?r.log.createLog("media",i):new c("media",i,s,r.loggerName);return Object.defineProperties(i,{_instanceId:{value:++l},_log:{value:f},kind:{enumerable:!0,value:n},name:{enumerable:!0,value:a}}),i}return r(t,e),t.prototype.toJSON=function(){return s(this)},t}(i);e.exports=f},69595:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(39091).isIOS,a=n(64591),o=function(e){function t(t,n){var r=this,a=(null===n||void 0===n?void 0:n.noiseCancellation)||null,o=(r=e.call(this,t,n)||this)._log,s=t.label,u=void 0===s?"":s,c=t.getSettings(),l=c.deviceId,f=void 0===l?"":l,d=c.groupId,p=void 0===d?"":d;return Object.defineProperties(r,{_currentDefaultDeviceInfo:{value:{deviceId:f,groupId:p,label:u},writable:!0},_defaultDeviceCaptureMode:{value:!i()&&r._isCreatedByCreateLocalTracks&&"object"===typeof navigator&&"object"===typeof navigator.mediaDevices&&"function"===typeof navigator.mediaDevices.addEventListener&&"function"===typeof navigator.mediaDevices.enumerateDevices?(null===n||void 0===n?void 0:n.defaultDeviceCaptureMode)||"auto":"manual"},_onDeviceChange:{value:function(){navigator.mediaDevices.enumerateDevices().then((function(e){var t=e.find((function(e){var t=e.deviceId;return"audioinput"===e.kind&&"default"!==t}));t&&["deviceId","groupId"].some((function(e){return t[e]!==r._currentDefaultDeviceInfo[e]}))&&(o.info("Default device changed, restarting the LocalAudioTrack"),o.debug('Old default device: "'+r._currentDefaultDeviceInfo.deviceId+'" => "'+r._currentDefaultDeviceInfo.label+'"'),o.debug('New default device: "'+t.deviceId+'" => "'+t.label+'"'),r._currentDefaultDeviceInfo=t,r._restartDefaultDevice().catch((function(e){return o.warn("Failed to restart: "+e.message)})))}),(function(e){o.warn("Failed to run enumerateDevices(): "+e.message)}))}},_restartOnDefaultDeviceChangeCleanup:{value:null,writable:!0},noiseCancellation:{enumerable:!0,value:a,writable:!1}}),o.debug("defaultDeviceCaptureMode:",r._defaultDeviceCaptureMode),r._maybeRestartOnDefaultDeviceChange(),r}return r(t,e),t.prototype.toString=function(){return"[LocalAudioTrack #"+this._instanceId+": "+this.id+"]"},t.prototype.attach=function(t){return(t=e.prototype.attach.call(this,t)).muted=!0,t},t.prototype._end=function(){return e.prototype._end.apply(this,arguments)},t.prototype._maybeRestartOnDefaultDeviceChange=function(){var e=this,t=this,n=t._constraints,r=t._defaultDeviceCaptureMode,i=t._log,a=(this.noiseCancellation?this.noiseCancellation.sourceTrack:this.mediaStreamTrack).getSettings().deviceId,o=function(e){return e!==a||"default"===e},s=function e(t){return void 0===t&&(t={}),"string"===typeof t?o(t):Array.isArray(t)?t.every(o):t.exact?e(t.exact):!t.ideal||e(t.ideal)}(n.deviceId);"auto"===r&&s?this._restartOnDefaultDeviceChangeCleanup||(i.info("LocalAudioTrack will be restarted if the default device changes"),navigator.mediaDevices.addEventListener("devicechange",this._onDeviceChange),this._restartOnDefaultDeviceChangeCleanup=function(){i.info("Cleaning up the listener to restart the LocalAudioTrack if the default device changes"),navigator.mediaDevices.removeEventListener("devicechange",e._onDeviceChange),e._restartOnDefaultDeviceChangeCleanup=null}):(i.info("LocalAudioTrack will NOT be restarted if the default device changes"),this._restartOnDefaultDeviceChangeCleanup&&this._restartOnDefaultDeviceChangeCleanup())},t.prototype._reacquireTrack=function(t){var n=this;return this._log.debug("_reacquireTrack: ",t),this.noiseCancellation?this.noiseCancellation.reacquireTrack((function(){return e.prototype._reacquireTrack.call(n,t)})):e.prototype._reacquireTrack.call(this,t)},t.prototype._restartDefaultDevice=function(){var e=this,t=Object.assign({},this._constraints),n=Object.assign({},t,{deviceId:this._currentDefaultDeviceInfo.deviceId});return this.restart(n).then((function(){e._constraints=t,e._maybeRestartOnDefaultDeviceChange()}))},t.prototype.disable=function(){return e.prototype.disable.apply(this,arguments)},t.prototype.enable=function(){return e.prototype.enable.apply(this,arguments)},t.prototype.restart=function(){return e.prototype.restart.apply(this,arguments)},t.prototype.stop=function(){return this.noiseCancellation&&this.noiseCancellation.stop(),this._restartOnDefaultDeviceChangeCleanup&&this._restartOnDefaultDeviceChangeCleanup(),e.prototype.stop.apply(this,arguments)},t}(n(21760)(a));e.exports=o},79674:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r,i){return e.call(this,t,n,r,i)||this}return r(t,e),t.prototype.toString=function(){return"[LocalAudioTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(2918));e.exports=i},41378:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(16753),a=n(29701),o=function(e){function t(t){var n,r=new(0,(t=Object.assign({DataTrackSender:a,maxPacketLifeTime:null,maxRetransmits:null,ordered:!0},t)).DataTrackSender)(t.maxPacketLifeTime,t.maxRetransmits,t.ordered);return n=e.call(this,r.id,"data",t)||this,Object.defineProperties(n,{_trackSender:{value:r},id:{enumerable:!0,value:r.id},maxPacketLifeTime:{enumerable:!0,value:t.maxPacketLifeTime},maxRetransmits:{enumerable:!0,value:t.maxRetransmits},ordered:{enumerable:!0,value:t.ordered},reliable:{enumerable:!0,value:null===t.maxPacketLifeTime&&null===t.maxRetransmits}}),n}return r(t,e),t.prototype.send=function(e){this._trackSender.send(e)},t}(i);e.exports=o},44977:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r,i){return e.call(this,t,n,r,i)||this}return r(t,e),t.prototype.toString=function(){return"[LocalDataTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(2918));e.exports=i},21760:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(25409).getUserMedia,a=n(39091).isIOS,o=n(58242),s=o.capitalize,u=o.defer,c=o.isUserMediaTrack,l=o.waitForSometime,f=o.waitForEvent,d=n(24657).typeErrors.ILLEGAL_INVOKE,p=n(11060),h=n(43377),v=n(72217),m=n(39271),g=n(21268),y=n(4742);function b(e){var t=e._log,n=e.kind,r={audio:p,video:h}[n],i=e._dummyEl,a=e.mediaStreamTrack,o=null;function s(){var n=e._workaroundWebKitBug1208516Cleanup,a=e.isStopped,s=e.mediaStreamTrack.muted,u=a&&!!n;return Promise.resolve().then((function(){return"visible"===document.visibilityState&&!o&&(s||u||i.play().then((function(){return r(i)})).then((function(e){return e?t.warn("Silence detected"):t.info("Non-silence detected"),e})).catch((function(e){t.warn("Failed to detect silence:",e)})).finally((function(){i.pause()})))}))}function c(){return Promise.race([f(a,"unmute"),l(50)]).then((function(){return s()})).then((function(r){return r&&!o&&(o=u(),e._restart().finally((function(){i=e._dummyEl,y(),a=e.mediaStreamTrack,g(),o.resolve(),o=null})).catch((function(e){t.error("failed to restart track: ",e)}))),(o&&o.promise||Promise.resolve()).finally((function(){return m.resolveDeferred(n)}))})).catch((function(e){t.error("error in maybeRestart: "+e.message)}))}function d(){var t=e._log,n=e.kind;t.info("Muted"),t.debug("LocalMediaTrack:",e),m.startDeferred(n)}function g(){a.addEventListener("ended",c),a.addEventListener("mute",d),a.addEventListener("unmute",c)}function y(){a.removeEventListener("ended",c),a.removeEventListener("mute",d),a.removeEventListener("unmute",c)}var b=function(e){return!!e&&c()};return v.onVisibilityChange(1,b),g(),function(){v.offVisibilityChange(1,b),y()}}e.exports=function(e){return function(e){function t(t,n){var r=this,o=a()&&c(t)&&"object"===typeof document&&"function"===typeof document.addEventListener&&"string"===typeof document.visibilityState;n=Object.assign({getUserMedia:i,isCreatedByCreateLocalTracks:!1,workaroundWebKitBug1208516:o,gUMSilentTrackWorkaround:g},n);var s=new y(t),u=s.kind;return r=e.call(this,s,n)||this,Object.defineProperties(r,{_constraints:{value:"object"===typeof n[u]?n[u]:{},writable:!0},_getUserMedia:{value:n.getUserMedia},_gUMSilentTrackWorkaround:{value:n.gUMSilentTrackWorkaround},_workaroundWebKitBug1208516:{value:n.workaroundWebKitBug1208516},_workaroundWebKitBug1208516Cleanup:{value:null,writable:!0},_didCallEnd:{value:!1,writable:!0},_isCreatedByCreateLocalTracks:{value:n.isCreatedByCreateLocalTracks},_trackSender:{value:s},id:{enumerable:!0,value:s.id},isEnabled:{enumerable:!0,get:function(){return s.enabled}},isStopped:{enumerable:!0,get:function(){return"ended"===s.readyState}}}),r._workaroundWebKitBug1208516&&(r._workaroundWebKitBug1208516Cleanup=b(r)),r}return r(t,e),t.prototype._end=function(){this._didCallEnd||(e.prototype._end.call(this),this._didCallEnd=!0,this.emit("stopped",this))},t.prototype._initialize=function(){this._didCallEnd&&(this._didCallEnd=!1),e.prototype._initialize.call(this)},t.prototype._reacquireTrack=function(e){var t,n=this,r=n._getUserMedia,i=n._gUMSilentTrackWorkaround,a=n._log,o=n.mediaStreamTrack.kind;a.info("Re-acquiring the MediaStreamTrack"),a.debug("Constraints:",e);var s=Object.assign({audio:!1,video:!1},((t={})[o]=e,t));return(this._workaroundWebKitBug1208516Cleanup?i(a,r,s):r(s)).then((function(e){return e.getTracks()[0]}))},t.prototype._restart=function(e){var t=this,n=this._log;return e=e||this._constraints,this._stop(),this._reacquireTrack(e).catch((function(t){throw n.error("Failed to re-acquire the MediaStreamTrack:",{error:t,constraints:e}),t})).then((function(r){return n.info("Re-acquired the MediaStreamTrack"),n.debug("MediaStreamTrack:",r),t._constraints=Object.assign({},e),t._setMediaStreamTrack(r)}))},t.prototype._setMediaStreamTrack=function(e){var t=this;return e.enabled=this.mediaStreamTrack.enabled,this._stop(),(this._unprocessedTrack?Promise.resolve().then((function(){t._unprocessedTrack=e})):this._trackSender.setMediaStreamTrack(e).catch((function(n){t._log.warn("setMediaStreamTrack failed:",{error:n,mediaStreamTrack:e})}))).then((function(){t._initialize(),t._getAllAttachedElements().forEach((function(e){return t._attach(e)}))}))},t.prototype._stop=function(){return this.mediaStreamTrack.stop(),this._end(),this},t.prototype.enable=function(e){return(e="boolean"!==typeof e||e)!==this.mediaStreamTrack.enabled&&(this._log.info((e?"En":"Dis")+"abling"),this.mediaStreamTrack.enabled=e,this.emit(e?"enabled":"disabled",this)),this},t.prototype.disable=function(){return this.enable(!1)},t.prototype.restart=function(e){var t=this,n=this.kind;if(!this._isCreatedByCreateLocalTracks)return Promise.reject(d("restart","can only be called on a Local"+s(n)+"Track that is created using createLocalTracks or createLocal"+s(n)+"Track."));this._workaroundWebKitBug1208516Cleanup&&(this._workaroundWebKitBug1208516Cleanup(),this._workaroundWebKitBug1208516Cleanup=null);var r=this._restart(e);return this._workaroundWebKitBug1208516&&(r=r.finally((function(){t._workaroundWebKitBug1208516Cleanup=b(t)}))),r},t.prototype.stop=function(){return this._log.info("Stopping"),this._workaroundWebKitBug1208516Cleanup&&(this._workaroundWebKitBug1208516Cleanup(),this._workaroundWebKitBug1208516Cleanup=null),this._stop()},t}(e)}},2918:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(54067),s=n(24657),u=s.typeErrors,c=s.trackPriority,l=function(e){function t(t,n,r,o){var s=e.call(this,n.name,t.sid,o)||this;return Object.defineProperties(s,{_reemitSignalingEvent:{value:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.emit.apply(s,a([e&&e.length?"warning":"warningsCleared"],i(e)))}},_reemitTrackEvent:{value:function(){return s.emit(s.isTrackEnabled?"trackEnabled":"trackDisabled")}},_signaling:{value:t},_unpublish:{value:r},isTrackEnabled:{enumerable:!0,get:function(){return"data"===this.track.kind||this.track.isEnabled}},kind:{enumerable:!0,value:n.kind},priority:{enumerable:!0,get:function(){return t.updatedPriority}},track:{enumerable:!0,value:n}}),["disabled","enabled"].forEach((function(e){return n.on(e,s._reemitTrackEvent)})),["warning","warningsCleared"].forEach((function(e){return t.on(e,s._reemitSignalingEvent)})),s}return r(t,e),t.prototype.toString=function(){return"[LocalTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t.prototype.setPriority=function(e){var t=Object.values(c);if(!t.includes(e))throw u.INVALID_VALUE("priority",t);return this._signaling.setPriority(e),this},t.prototype.unpublish=function(){var e=this;return["disabled","enabled"].forEach((function(t){return e.track.removeListener(t,e._reemitTrackEvent)})),["warning","warningsCleared"].forEach((function(t){return e._signaling.removeListener(t,e._reemitSignalingEvent)})),this._unpublish(this),this},t}(o);e.exports=l},36950:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(39091).isIOS,a=n(43377),o=n(21760),s=n(79161),u=n(58242).isUserMediaTrack,c=function(e){function t(t,n){var r=this;return n=Object.assign({workaroundSilentLocalVideo:i()&&u(t)&&"undefined"!==typeof document&&"function"===typeof document.createElement},n),r=e.call(this,t,n)||this,Object.defineProperties(r,{_workaroundSilentLocalVideo:{value:n.workaroundSilentLocalVideo?l:null},_workaroundSilentLocalVideoCleanup:{value:null,writable:!0}}),r._workaroundSilentLocalVideo&&(r._workaroundSilentLocalVideoCleanup=r._workaroundSilentLocalVideo(r,document)),r}return r(t,e),t.prototype.toString=function(){return"[LocalVideoTrack #"+this._instanceId+": "+this.id+"]"},t.prototype._checkIfCanCaptureFrames=function(){return e.prototype._checkIfCanCaptureFrames.call(this,this._trackSender.isPublishing)},t.prototype._end=function(){return e.prototype._end.apply(this,arguments)},t.prototype._setSenderMediaStreamTrack=function(e){var t=this,n=this.mediaStreamTrack,r=e?this.processedTrack:n;return this._trackSender.setMediaStreamTrack(r).catch((function(e){return t._log.warn("setMediaStreamTrack failed on LocalVideoTrack RTCRtpSender",{error:e,mediaStreamTrack:r})})).then((function(){t._unprocessedTrack=e?n:null}))},t.prototype.addProcessor=function(){this._log.debug("Adding VideoProcessor to the LocalVideoTrack");var t=e.prototype.addProcessor.apply(this,arguments);return this.processedTrack?(this._log.debug("Updating LocalVideoTrack's MediaStreamTrack with the processed MediaStreamTrack",this.processedTrack),this._setSenderMediaStreamTrack(!0),t):this._log.warn("Unable to add a VideoProcessor to the LocalVideoTrack")},t.prototype.removeProcessor=function(){var t=this;this._log.debug("Removing VideoProcessor from the LocalVideoTrack");var n=e.prototype.removeProcessor.apply(this,arguments);return this._log.debug("Updating LocalVideoTrack's MediaStreamTrack with the original MediaStreamTrack"),this._setSenderMediaStreamTrack().then((function(){return t._updateElementsMediaStreamTrack()})),n},t.prototype.disable=function(){var t=e.prototype.disable.apply(this,arguments);return this.processedTrack&&(this.processedTrack.enabled=!1),t},t.prototype.enable=function(t){void 0===t&&(t=!0);var n=e.prototype.enable.apply(this,arguments);return this.processedTrack&&(this.processedTrack.enabled=t,t&&(this._captureFrames(),this._log.debug("Updating LocalVideoTrack's MediaStreamTrack with the processed MediaStreamTrack",this.processedTrack),this._setSenderMediaStreamTrack(!0))),n},t.prototype.restart=function(){var t=this;this._workaroundSilentLocalVideoCleanup&&(this._workaroundSilentLocalVideoCleanup(),this._workaroundSilentLocalVideoCleanup=null);var n=e.prototype.restart.apply(this,arguments);return this.processor&&n.then((function(){t._restartProcessor()})),this._workaroundSilentLocalVideo&&n.finally((function(){t._workaroundSilentLocalVideoCleanup=t._workaroundSilentLocalVideo(t,document)})),n},t.prototype.stop=function(){return this._workaroundSilentLocalVideoCleanup&&(this._workaroundSilentLocalVideoCleanup(),this._workaroundSilentLocalVideoCleanup=null),e.prototype.stop.apply(this,arguments)},t}(o(s));function l(e,t){var n=e._log,r=e._dummyEl,i=e.mediaStreamTrack;function o(){e.isEnabled&&(n.info("Unmuted, checking silence"),r.play().then((function(){return a(r,t)})).then((function(t){if(t)return n.warn("Silence detected, restarting"),e._stop(),e._restart();n.info("Non-silent frames detected, so no need to restart")})).catch((function(e){n.warn("Failed to detect silence and restart:",e)})).finally((function(){(r=e._dummyEl)&&!r.paused&&r.pause(),i.removeEventListener("unmute",o),(i=e.mediaStreamTrack).addEventListener("unmute",o)})))}return i.addEventListener("unmute",o),function(){i.removeEventListener("unmute",o)}}e.exports=c},53091:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r,i){return e.call(this,t,n,r,i)||this}return r(t,e),t.prototype.toString=function(){return"[LocalVideoTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(2918));e.exports=i},63592:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(39091).isIOS,a=n(25409).MediaStream,o=n(58242),s=o.waitForEvent,u=o.waitForSometime,c=n(39271),l=function(e){function t(t,n){var r=this;n=Object.assign({playPausedElementsIfNotBackgrounded:i()&&"object"===typeof document&&"function"===typeof document.addEventListener&&"string"===typeof document.visibilityState},n),r=e.call(this,t.id,t.kind,n)||this;var o=!1;return n=Object.assign({MediaStream:a},n),Object.defineProperties(r,{_attachments:{value:new Set},_dummyEl:{value:null,writable:!0},_elShims:{value:new WeakMap},_isStarted:{get:function(){return o},set:function(e){o=e}},_playPausedElementsIfNotBackgrounded:{value:n.playPausedElementsIfNotBackgrounded},_shouldShimAttachedElements:{value:n.workaroundWebKitBug212780||n.playPausedElementsIfNotBackgrounded},_unprocessedTrack:{value:null,writable:!0},_MediaStream:{value:n.MediaStream},isStarted:{enumerable:!0,get:function(){return o}},mediaStreamTrack:{enumerable:!0,get:function(){return this._unprocessedTrack||t.track}},processedTrack:{enumerable:!0,value:null,writable:!0}}),r._initialize(),r}return r(t,e),t.prototype._start=function(){this._log.debug("Started"),this._isStarted=!0,this._dummyEl&&(this._dummyEl.oncanplay=null),this.emit("started",this)},t.prototype._initialize=function(){var e=this;this._log.debug("Initializing"),this._dummyEl=this._createElement(),this.mediaStreamTrack.addEventListener("ended",(function t(){e._end(),e.mediaStreamTrack.removeEventListener("ended",t)})),this._dummyEl&&(this._dummyEl.muted=!0,this._dummyEl.oncanplay=this._start.bind(this,this._dummyEl),this._attach(this._dummyEl,this.mediaStreamTrack),this._attachments.delete(this._dummyEl))},t.prototype._end=function(){this._log.debug("Ended"),this._dummyEl&&(this._dummyEl.remove(),this._dummyEl.srcObject=null,this._dummyEl.oncanplay=null,this._dummyEl=null)},t.prototype.attach=function(e){var t=this;if("string"===typeof e?e=this._selectElement(e):e||(e=this._createElement()),this._log.debug("Attempting to attach to element:",e),e=this._attach(e),this._shouldShimAttachedElements&&!this._elShims.has(e)){var n=this._playPausedElementsIfNotBackgrounded?function(){return function(e,t){var n=e.tagName.toLowerCase();t.warn("Unintentionally paused:",e),Promise.race([s(document,"visibilitychange"),u(1e3)]).then((function(){"visible"===document.visibilityState&&c.whenResolved("audio").then((function(){return t.info("Playing unintentionally paused <"+n+"> element"),t.debug("Element:",e),e.play()})).then((function(){t.info("Successfully played unintentionally paused <"+n+"> element"),t.debug("Element:",e)})).catch((function(r){t.warn("Error while playing unintentionally paused <"+n+"> element:",{error:r,el:e})}))}))}(e,t._log)}:null;this._elShims.set(e,function(e,t){void 0===t&&(t=null);var n=e.pause,r=e.play,i=!1;e.pause=function(){return i=!0,n.call(e)},e.play=function(){return i=!1,r.call(e)};var a=t?function(){i||t()}:null;a&&e.addEventListener("pause",a);return{pausedIntentionally:function(){return i},unShim:function(){e.pause=n,e.play=r,a&&e.removeEventListener("pause",a)}}}(e,n))}return e},t.prototype._attach=function(e,t){void 0===t&&(t=this.processedTrack||this.mediaStreamTrack);var n=e.srcObject;n instanceof this._MediaStream||(n=new this._MediaStream);var r="audio"===t.kind?"getAudioTracks":"getVideoTracks";return n[r]().forEach((function(e){n.removeTrack(e)})),n.addTrack(t),e.srcObject=n,e.autoplay=!0,e.playsInline=!0,this._attachments.has(e)||this._attachments.add(e),e},t.prototype._selectElement=function(e){var t=document.querySelector(e);if(!t)throw new Error("Selector matched no element: "+e);return t},t.prototype._updateElementsMediaStreamTrack=function(){var e=this;this._log.debug("Reattaching all elements to update mediaStreamTrack"),this._getAllAttachedElements().forEach((function(t){return e._attach(t)}))},t.prototype._createElement=function(){return"undefined"!==typeof document?document.createElement(this.kind):null},t.prototype.detach=function(e){var t;return t="string"===typeof e?[this._selectElement(e)]:e?[e]:this._getAllAttachedElements(),this._log.debug("Attempting to detach from elements:",t),this._detachElements(t),e?t[0]:t},t.prototype._detachElements=function(e){return e.map(this._detachElement.bind(this))},t.prototype._detachElement=function(e){if(!this._attachments.has(e))return e;var t=e.srcObject;(t instanceof this._MediaStream&&t.removeTrack(this.processedTrack||this.mediaStreamTrack),this._attachments.delete(e),this._shouldShimAttachedElements&&this._elShims.has(e))&&(this._elShims.get(e).unShim(),this._elShims.delete(e));return e},t.prototype._getAllAttachedElements=function(){var e=[];return this._attachments.forEach((function(t){e.push(t)})),e},t}(n(16753));e.exports=l},6727:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.applyNoiseCancellation=t.NoiseCancellationImpl=void 0;var a=n(53143),o=(n(41547),function(){function e(e,t){this._processor=e,this._sourceTrack=t,this._disabledPermanent=!1}return Object.defineProperty(e.prototype,"vendor",{get:function(){return this._processor.vendor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sourceTrack",{get:function(){return this._sourceTrack},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this._processor.isEnabled()},enumerable:!1,configurable:!0}),e.prototype.enable=function(){if(this._disabledPermanent)throw new Error(this.vendor+" noise cancellation is disabled permanently for this track");return this._processor.enable(),Promise.resolve()},e.prototype.disable=function(){return this._processor.disable(),Promise.resolve()},e.prototype.reacquireTrack=function(e){return r(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return t=this._processor.isEnabled(),this._processor.disconnect(),[4,e()];case 1:return n=i.sent(),this._sourceTrack=n,[4,this._processor.connect(n)];case 2:return r=i.sent(),t?this._processor.enable():this._processor.disable(),[2,r]}}))}))},e.prototype.disablePermanently=function(){return this._disabledPermanent=!0,this.disable()},e.prototype.stop=function(){this._processor.disconnect(),this._sourceTrack.stop()},e}());t.NoiseCancellationImpl=o,t.applyNoiseCancellation=function(e,t,n){return r(this,void 0,void 0,(function(){var r,s,u,c;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,a.createNoiseCancellationAudioProcessor(t,n)];case 1:return r=i.sent(),s=r.connect(e),u=new o(r,e),[2,{cleanTrack:s,noiseCancellation:u}];case 2:return c=i.sent(),n.warn("Failed to create noise cancellation. Returning normal audio track: "+c),[2,{cleanTrack:e}];case 3:return[2]}}))}))}},19811:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t}(n(33536));e.exports=i},76439:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(64591),a=function(e){function t(t,n,r,i,a,o,s){return e.call(this,t,n,r,i,a,o,s)||this}return r(t,e),t.prototype.toString=function(){return"[RemoteAudioTrack #"+this._instanceId+": "+this.sid+"]"},t.prototype._start=function(){e.prototype._start.call(this),this._dummyEl&&(this._dummyEl.srcObject=null,this._dummyEl=null)},t.prototype.setPriority=function(t){return e.prototype.setPriority.call(this,t)},t}(n(9212)(i));e.exports=a},37505:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.toString=function(){return"[RemoteAudioTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(63788));e.exports=i},2897:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(16753),s=n(24657),u=s.typeErrors,c=s.trackPriority,l=function(e){function t(t,n,r){var i=e.call(this,n.id,"data",r)||this;return Object.defineProperties(i,{_isSwitchedOff:{value:!1,writable:!0},_priority:{value:null,writable:!0},isEnabled:{enumerable:!0,value:!0},isSwitchedOff:{enumerable:!0,get:function(){return this._isSwitchedOff}},maxPacketLifeTime:{enumerable:!0,value:n.maxPacketLifeTime},maxRetransmits:{enumerable:!0,value:n.maxRetransmits},ordered:{enumerable:!0,value:n.ordered},priority:{enumerable:!0,get:function(){return this._priority}},reliable:{enumerable:!0,value:null===n.maxPacketLifeTime&&null===n.maxRetransmits},sid:{enumerable:!0,value:t}}),n.on("message",(function(e){i.emit("message",e,i)})),i}return r(t,e),t.prototype.setPriority=function(e){var t=a([null],i(Object.values(c)));if(!t.includes(e))throw u.INVALID_VALUE("priority",t);return this._priority=e,this},t.prototype._setEnabled=function(){},t.prototype._setSwitchedOff=function(e){this._isSwitchedOff!==e&&(this._isSwitchedOff=e,this.emit(e?"switchedOff":"switchedOn",this))},t}(o);e.exports=l},73494:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.toString=function(){return"[RemoteDataTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(63788));e.exports=i},9212:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(24657),s=o.typeErrors,u=o.trackPriority,c=n(39091).isIOS,l=n(72217);e.exports=function(e){return function(e){function t(t,n,r,i,a,o,s){var u=this;return s=Object.assign({workaroundWebKitBug212780:c()&&"object"===typeof document&&"function"===typeof document.addEventListener&&"string"===typeof document.visibilityState},s),u=e.call(this,n,s)||this,Object.defineProperties(u,{_isEnabled:{value:r,writable:!0},_isSwitchedOff:{value:i,writable:!0},_priority:{value:null,writable:!0},_setPriority:{value:a},_setRenderHint:{value:function(e){u._log.debug("updating render hint:",e),o(e)}},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}},isSwitchedOff:{enumerable:!0,get:function(){return this._isSwitchedOff}},priority:{enumerable:!0,get:function(){return this._priority}},sid:{enumerable:!0,value:t},_workaroundWebKitBug212780:{value:s.workaroundWebKitBug212780},_workaroundWebKitBug212780Cleanup:{value:null,writable:!0}}),u}return r(t,e),t.prototype.setPriority=function(e){var t=a([null],i(Object.values(u)));if(!t.includes(e))throw s.INVALID_VALUE("priority",t);return this._priority!==e&&(this._priority=e,this._setPriority(e)),this},t.prototype._setEnabled=function(e){this._isEnabled!==e&&(this._isEnabled=e,this.emit(this._isEnabled?"enabled":"disabled",this))},t.prototype._setSwitchedOff=function(e){this._isSwitchedOff!==e&&(this._isSwitchedOff=e,this.emit(e?"switchedOff":"switchedOn",this))},t.prototype.attach=function(t){var n=e.prototype.attach.call(this,t);return!0!==this.mediaStreamTrack.enabled&&(this.mediaStreamTrack.enabled=!0,this.processedTrack&&(this.processedTrack.enabled=!0),this.processor&&this._captureFrames()),this._workaroundWebKitBug212780&&(this._workaroundWebKitBug212780Cleanup=this._workaroundWebKitBug212780Cleanup||function(e){var t=e._log,n=e.kind;function r(r){r&&e._attachments.forEach((function(r){var i=e._elShims.get(r);r.paused&&i&&!i.pausedIntentionally()&&(t.info("Playing inadvertently paused <"+n+"> element"),t.debug("Element:",r),t.debug("RemoteMediaTrack:",e),r.play().then((function(){t.info("Successfully played inadvertently paused <"+n+"> element"),t.debug("Element:",r),t.debug("RemoteMediaTrack:",e)})).catch((function(i){t.warn("Error while playing inadvertently paused <"+n+"> element:",{err:i,el:r,remoteMediaTrack:e})})))}))}return l.onVisibilityChange(2,r),function(){l.offVisibilityChange(2,r)}}(this)),n},t.prototype.detach=function(t){var n=e.prototype.detach.call(this,t);return 0===this._attachments.size&&(this.mediaStreamTrack.enabled=!1,this.processedTrack&&(this.processedTrack.enabled=!1),this._workaroundWebKitBug212780Cleanup&&(this._workaroundWebKitBug212780Cleanup(),this._workaroundWebKitBug212780Cleanup=null)),n},t}(e)}},63788:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t.name,t.sid,n)||this;Object.defineProperties(r,{_signaling:{value:t},_track:{value:null,writable:!0},isSubscribed:{enumerable:!0,get:function(){return!!this._track}},isTrackEnabled:{enumerable:!0,get:function(){return t.isEnabled}},kind:{enumerable:!0,value:t.kind},publishPriority:{enumerable:!0,get:function(){return t.priority}},track:{enumerable:!0,get:function(){return this._track}}});var i=t.error,a=t.isEnabled,o=t.isSwitchedOff,s=t.priority;return t.on("updated",(function(){if(i!==t.error)return i=t.error,void r.emit("subscriptionFailed",t.error);a!==t.isEnabled&&(a=t.isEnabled,r.track&&r.track._setEnabled(t.isEnabled),r.emit(t.isEnabled?"trackEnabled":"trackDisabled")),o!==t.isSwitchedOff&&(r._log.debug(r.trackSid+": "+(o?"OFF":"ON")+" => "+(t.isSwitchedOff?"OFF":"ON")),o=t.isSwitchedOff,r.track?(r.track._setSwitchedOff(t.isSwitchedOff),r.emit(o?"trackSwitchedOff":"trackSwitchedOn",r.track)):o&&r._log.warn("Track was not subscribed when switched Off.")),s!==t.priority&&(s=t.priority,r.emit("publishPriorityChanged",s))})),r}return r(t,e),t.prototype.toString=function(){return"[RemoteTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t.prototype._subscribed=function(e){!this._track&&e&&(this._track=e,this.emit("subscribed",e))},t.prototype._unsubscribe=function(){if(this._track){var e=this._track;this._track=null,this.emit("unsubscribed",e)}},t}(n(54067));e.exports=i},12512:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=n(9212),o=n(79161),s=n(72217),u=n(76770).NullObserver,c=n(91149),l=a(o),f=function(e){function t(t,n,r,i,a,o,s){var l=this;return s=Object.assign({clientTrackSwitchOffControl:"auto",contentPreferencesMode:"auto",enableDocumentVisibilityTurnOff:!0},s),s=Object.assign({IntersectionObserver:"undefined"===typeof IntersectionObserver||"auto"!==s.clientTrackSwitchOffControl?u:IntersectionObserver,ResizeObserver:"undefined"===typeof ResizeObserver||"auto"!==s.contentPreferencesMode?u:ResizeObserver},s),l=e.call(this,t,n,r,i,a,o,s)||this,Object.defineProperties(l,{_enableDocumentVisibilityTurnOff:{value:!0===s.enableDocumentVisibilityTurnOff&&"auto"===s.clientTrackSwitchOffControl},_documentVisibilityTurnOffCleanup:{value:null,writable:!0},_clientTrackSwitchOffControl:{value:s.clientTrackSwitchOffControl},_contentPreferencesMode:{value:s.contentPreferencesMode},_invisibleElements:{value:new WeakSet},_elToPipCallbacks:{value:new WeakMap},_elToPipWindows:{value:new WeakMap},_turnOffTimer:{value:new c((function(){l._setRenderHint({enabled:!1})}),50,!1)},_resizeObserver:{value:new s.ResizeObserver((function(e){e.find((function(e){return!l._invisibleElements.has(e.target)}))&&p(l)}))},_intersectionObserver:{value:new s.IntersectionObserver((function(e){var t=!1;e.forEach((function(e){!l._invisibleElements.has(e.target)!==e.isIntersecting&&(e.isIntersecting?(l._log.debug("intersectionObserver detected: Off => On"),l._invisibleElements.delete(e.target)):(l._log.debug("intersectionObserver detected: On => Off"),l._invisibleElements.add(e.target)),t=!0)})),t&&(d(l),p(l))}),{threshold:.25})}}),l}return r(t,e),t.prototype._start=function(t){var n=e.prototype._start.call(this,t);return d(this),n},t.prototype.switchOn=function(){if("manual"!==this._clientTrackSwitchOffControl)throw new Error('Invalid state. You can call switchOn only when bandwidthProfile.video.clientTrackSwitchOffControl is set to "manual"');return this._setRenderHint({enabled:!0}),this},t.prototype.switchOff=function(){if("manual"!==this._clientTrackSwitchOffControl)throw new Error('Invalid state. You can call switchOff only when bandwidthProfile.video.clientTrackSwitchOffControl is set to "manual"');return this._setRenderHint({enabled:!1}),this},t.prototype.setContentPreferences=function(e){if("manual"!==this._contentPreferencesMode)throw new Error('Invalid state. You can call switchOn only when bandwidthProfile.video.contentPreferencesMode is set to "manual"');return e.renderDimensions&&this._setRenderHint({renderDimensions:e.renderDimensions}),this},t.prototype._unObservePip=function(e){var t=this._elToPipCallbacks.get(e);t&&(e.removeEventListener("enterpictureinpicture",t.onEnterPip),e.removeEventListener("leavepictureinpicture",t.onLeavePip),this._elToPipCallbacks.delete(e))},t.prototype._observePip=function(e){var t=this;if(!this._elToPipCallbacks.get(e)){var n=function(n){return t._onEnterPip(n,e)},r=function(n){return t._onLeavePip(n,e)};e.addEventListener("enterpictureinpicture",n),e.addEventListener("leavepictureinpicture",r),this._elToPipCallbacks.set(e,{onEnterPip:n,onLeavePip:r,onResizePip:function(n){return t._onResizePip(n,e)}})}},t.prototype._onEnterPip=function(e,t){this._log.debug("onEnterPip");var n=e.pictureInPictureWindow;this._elToPipWindows.set(t,n);var r=this._elToPipCallbacks.get(t).onResizePip;n.addEventListener("resize",r),d(this)},t.prototype._onLeavePip=function(e,t){this._log.debug("onLeavePip"),this._elToPipWindows.delete(t);var n=this._elToPipCallbacks.get(t).onResizePip;e.pictureInPictureWindow.removeEventListener("resize",n),d(this)},t.prototype._onResizePip=function(){p(this)},t.prototype.attach=function(t){var n=e.prototype.attach.call(this,t);return"auto"===this._clientTrackSwitchOffControl&&this._invisibleElements.add(n),this._intersectionObserver.observe(n),this._resizeObserver.observe(n),this._enableDocumentVisibilityTurnOff&&(this._documentVisibilityTurnOffCleanup=this._documentVisibilityTurnOffCleanup||function(e){function t(){d(e)}return s.onVisibilityChange(1,t),function(){s.offVisibilityChange(1,t)}}(this)),this._observePip(n),n},t.prototype.detach=function(t){var n=this,r=e.prototype.detach.call(this,t);return(Array.isArray(r)?r:[r]).forEach((function(e){n._intersectionObserver.unobserve(e),n._resizeObserver.unobserve(e),n._invisibleElements.delete(e),n._unObservePip(e)})),0===this._attachments.size&&this._documentVisibilityTurnOffCleanup&&(this._documentVisibilityTurnOffCleanup(),this._documentVisibilityTurnOffCleanup=null),d(this),p(this),r},t.prototype.addProcessor=function(){return e.prototype.addProcessor.apply(this,arguments)},t.prototype.removeProcessor=function(){return e.prototype.removeProcessor.apply(this,arguments)},t.prototype.toString=function(){return"[RemoteVideoTrack #"+this._instanceId+": "+this.sid+"]"},t.prototype.setPriority=function(t){return e.prototype.setPriority.call(this,t)},t}(l);function d(e){if("auto"===e._clientTrackSwitchOffControl){var t=e._getAllAttachedElements().filter((function(t){return!e._invisibleElements.has(t)}));!0===(e._getAllAttachedElements().filter((function(t){return e._elToPipWindows.has(t)})).length>0||"visible"===document.visibilityState&&t.length>0)?(e._turnOffTimer.clear(),e._setRenderHint({enabled:!0})):e._turnOffTimer.isSet||e._turnOffTimer.start()}}function p(e){if("auto"===e._contentPreferencesMode){var t=e._getAllAttachedElements().filter((function(t){return!e._invisibleElements.has(t)})),n=e._getAllAttachedElements().map((function(t){var n=e._elToPipWindows.get(t);return n?{clientHeight:n.height,clientWidth:n.width}:{clientHeight:0,clientWidth:0}})),r=t.concat(n);if(r.length>0){var a=i(r.sort((function(e,t){return t.clientHeight+t.clientWidth-e.clientHeight-e.clientWidth-1})),1)[0],o={height:a.clientHeight,width:a.clientWidth};e._setRenderHint({renderDimensions:o})}}}e.exports=f},60667:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){return e.call(this,t,n)||this}return r(t,e),t.prototype.toString=function(){return"[RemoteVideoTrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(n(63788));e.exports=i},4742:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=function(e){function t(t){var n=e.call(this,t.id,t)||this;return Object.defineProperties(n,{_clones:{value:new Set},_senders:{value:new Set},_senderToPublisherHintCallbacks:{value:new Map},isPublishing:{get:function(){return!!this._clones.size}}}),n}return r(t,e),t.prototype.clone=function(){var e=new t(this.track.clone());return this._clones.add(e),e},t.prototype.removeClone=function(e){this._clones.delete(e)},t.prototype.setMediaStreamTrack=function(e){var t=this,n=Array.from(this._clones),r=Array.from(this._senders);return Promise.all(n.map((function(t){return t.setMediaStreamTrack(e.clone())})).concat(r.map((function(n){return t._replaceTrack(n,e)})))).finally((function(){t._track=e}))},t.prototype.addSender=function(e,t){return this._senders.add(e),t&&this._senderToPublisherHintCallbacks.set(e,t),this},t.prototype.removeSender=function(e){return this._senders.delete(e),this._senderToPublisherHintCallbacks.delete(e),this},t.prototype.setPublisherHint=function(e){var t=i(Array.from(this._senderToPublisherHintCallbacks.values()),1)[0];return t?t(e):Promise.resolve("COULD_NOT_APPLY_HINT")},t.prototype._replaceTrack=function(e,t){var n=this;return e.replaceTrack(t).then((function(e){return n.setPublisherHint(null).catch((function(){})),n.emit("replaced"),e}))},t}(n(33536));e.exports=a},54067:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(5887),a=n(58242),o=a.buildLogLevels,s=a.valueToJSON,u=n(24657).DEFAULT_LOG_LEVEL,c=n(41547),l=0,f=function(e){function t(t,n,r){var i=e.call(this)||this;r=Object.assign({logLevel:u},r);var a=o(r.logLevel);return Object.defineProperties(i,{_instanceId:{value:l++},_log:{value:r.log?r.log.createLog("default",i):new c("default",i,a,r.loggerName)},trackName:{enumerable:!0,value:t},trackSid:{enumerable:!0,value:n}}),i}return r(t,e),t.prototype.toJSON=function(){return s(this)},t.prototype.toString=function(){return"[TrackPublication #"+this._instanceId+": "+this.trackSid+"]"},t}(i);e.exports=f},33536:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t,n.kind)||this;return Object.defineProperties(r,{_track:{value:n,writable:!0},enabled:{enumerable:!0,get:function(){return this._track.enabled}},readyState:{enumerable:!0,get:function(){return this._track.readyState}},track:{enumerable:!0,get:function(){return this._track}}}),r}return r(t,e),t.prototype.stop=function(){this.track.stop(),e.prototype.stop.call(this)},t}(n(97952));e.exports=i},74380:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(47465).EventEmitter,a=n(24657).DEFAULT_VIDEO_PROCESSOR_STATS_INTERVAL_MS,o=function(e){function t(t){var n=e.call(this)||this;return Object.defineProperties(n,{_lastStatsSaveTime:{value:null,writable:!0},_lastStatsPublishTime:{value:null,writable:!0},_log:{value:t},_processorInfo:{value:null,writable:!0},_stats:{value:null,writable:!0}}),n.on("add",(function(e){n._lastStatsSaveTime=Date.now(),n._lastStatsPublishTime=Date.now(),n._processorInfo=e,n._stats=[],n._reemitEvent("add",n._getEventData())})),n.on("remove",(function(){var e=n._getEventData();n._lastStatsSaveTime=null,n._lastStatsPublishTime=null,n._processorInfo=null,n._stats=null,n._reemitEvent("remove",e)})),n.on("start",(function(){n._reemitEvent("start",n._getEventData())})),n.on("stop",(function(e){n._reemitEvent("stop",Object.assign({message:e},n._getEventData()))})),n.on("stats",(function(){return n._maybeEmitStats()})),n}return r(t,e),t.prototype._getEventData=function(){if(!this._processorInfo)return{};var e=this._processorInfo,t=e.processor,n={captureHeight:e.captureHeight,captureWidth:e.captureWidth,inputFrameRate:e.inputFrameRate,isRemoteVideoTrack:e.isRemoteVideoTrack};return n.name=t._name||"VideoProcessor",["assetsPath","blurFilterRadius","fitType","isSimdEnabled","maskBlurRadius","version"].forEach((function(e){var r=t["_"+e];"undefined"!==typeof r&&(n[e]=r)})),Object.keys(n).forEach((function(e){var t=n[e];"boolean"===typeof t&&(n[e]=t?"true":"false")})),n},t.prototype._maybeEmitStats=function(){if(this._stats&&this._processorInfo){var e=this._processorInfo.processor._benchmark;if(e){var t=Date.now();if(!(t-this._lastStatsSaveTime<1e3)){var n={outputFrameRate:e.getRate("totalProcessingDelay")};if(["captureFrameDelay","imageCompositionDelay","inputImageResizeDelay","processFrameDelay","segmentationDelay"].forEach((function(t){n[t]=e.getAverageDelay(t)})),this._lastStatsSaveTime=t,this._stats.push(n),!(t-this._lastStatsPublishTime<a)){this._lastStatsPublishTime=t;var r=this._stats.splice(0).reduce((function(e,t,r){return Object.keys(n).forEach((function(n){e[n]||(e[n]=0),e[n]=(e[n]*r+t[n])/(r+1)})),e}),{});Object.keys(r).forEach((function(e){r[e]=parseFloat(r[e].toFixed(2))})),this._reemitEvent("stats",Object.assign({},r,this._getEventData()))}}}}},t.prototype._reemitEvent=function(e,t){this._log.debug("VideoProcessor:"+e,t),this.emit("event",{name:e,data:t})},t}(i);e.exports=o},79161:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(63592),a=n(74380),o=n(24657).DEFAULT_FRAME_RATE,s=function(e){function t(t,n){var r=e.call(this,t,n)||this;return Object.defineProperties(r,{_captureTimeoutId:{value:null,writable:!0},_isCapturing:{value:!1,writable:!0},_inputFrame:{value:null,writable:!0},_outputFrame:{value:null,writable:!0},_processorEventObserver:{value:null,writable:!0},_unmuteHandler:{value:null,writable:!0},dimensions:{enumerable:!0,value:{width:null,height:null}},processor:{enumerable:!0,value:null,writable:!0}}),r._processorEventObserver=new(n.VideoProcessorEventObserver||a)(r._log),r}return r(t,e),t.prototype._checkIfCanCaptureFrames=function(e){void 0===e&&(e=!1);var t=!0,n="",r=this.mediaStreamTrack;return r.enabled||(t=!1,n="MediaStreamTrack is disabled"),"ended"===r.readyState&&(t=!1,n="MediaStreamTrack is ended"),this.processor||(t=!1,n="VideoProcessor not detected."),this._attachments.size||e||(t=!1,n="VideoTrack is not publishing and there is no attached element."),n&&this._log.debug(n),{canCaptureFrames:t,message:n}},t.prototype._captureFrames=function(){var e=this;if(this._isCapturing)this._log.debug("Ignoring captureFrames call. Capture is already in progress");else{if(!this._checkIfCanCaptureFrames().canCaptureFrames)return this._isCapturing=!1,void this._log.debug("Cannot capture frames. Ignoring captureFrames call.");this._isCapturing=!0,this._processorEventObserver.emit("start"),this._log.debug("Start capturing frames");var t,n=Date.now();this._dummyEl.play().then((function(){var r=function(n){clearTimeout(e._captureTimeoutId);var r=e.mediaStreamTrack.getSettings().frameRate,i=void 0===r?o:r,a=Math.floor(1e3/i)-t;(a<0||"number"!==typeof t)&&(a=0),e._captureTimeoutId=setTimeout(n,a)};r((function i(){var a=e._checkIfCanCaptureFrames();if(!a.canCaptureFrames)return e._isCapturing=!1,e._processorEventObserver.emit("stop",a.message),void e._log.debug("Cannot capture frames. Stopping capturing frames.");n=Date.now();var o=e.mediaStreamTrack.getSettings(),s=o.width,u=void 0===s?0:s,c=o.height,l=void 0===c?0:c;e._inputFrame.width!==u&&(e._inputFrame.width=u,e._inputFrame.height=l,e._outputFrame&&(e._outputFrame.width=u,e._outputFrame.height=l)),e._inputFrame.getContext("2d").drawImage(e._dummyEl,0,0,u,l);var f=null;try{f=e.processor.processFrame(e._inputFrame,e._outputFrame)}catch(d){e._log.debug("Exception detected after calling processFrame.",d)}(f instanceof Promise?f:Promise.resolve(f)).then((function(){e._outputFrame&&(e.processedTrack.requestFrame(),e._processorEventObserver.emit("stats"))})).finally((function(){t=Date.now()-n,r(i)}))}))})).catch((function(t){return e._log.error("Video element cannot be played",{error:t,track:e})}))}},t.prototype._initialize=function(){var n=this;e.prototype._initialize.call(this),this._dummyEl&&(this._dummyEl.onloadedmetadata=function(){u(n,n._dummyEl)&&(n.dimensions.width=n._dummyEl.videoWidth,n.dimensions.height=n._dummyEl.videoHeight)},this._dummyEl.onresize=function(){u(n,n._dummyEl)&&(n.dimensions.width=n._dummyEl.videoWidth,n.dimensions.height=n._dummyEl.videoHeight,n.isStarted&&(n._log.debug("Dimensions changed:",n.dimensions),n.emit(t.DIMENSIONS_CHANGED,n)))})},t.prototype._restartProcessor=function(){var e=this.processor;e&&(this.removeProcessor(e),this.addProcessor(e))},t.prototype._start=function(n){return this.dimensions.width=n.videoWidth,this.dimensions.height=n.videoHeight,this._log.debug("Dimensions:",this.dimensions),this.emit(t.DIMENSIONS_CHANGED,this),e.prototype._start.call(this,n)},t.prototype.addProcessor=function(e){var t=this;if("function"!==typeof OffscreenCanvas)return this._log.warn("Adding a VideoProcessor is not supported in this browser.");if(!e||"function"!==typeof e.processFrame)throw new Error("Received an invalid VideoProcessor from addProcessor.");if(this.processor)throw new Error("A VideoProcessor has already been added.");if(!this._dummyEl)throw new Error("VideoTrack has not been initialized.");this._log.debug("Adding VideoProcessor to the VideoTrack",e),this._unmuteHandler||(this._unmuteHandler=function(){t._log.debug("mediaStreamTrack unmuted"),t.processedTrack.muted&&(t._log.debug("mediaStreamTrack is unmuted but processedTrack is muted. Restarting processor."),t._restartProcessor())},this.mediaStreamTrack.addEventListener("unmute",this._unmuteHandler));var n=this.mediaStreamTrack.getSettings(),r=n.width,i=void 0===r?0:r,a=n.height,s=void 0===a?0:a,u=n.frameRate,c=void 0===u?o:u;return this._inputFrame=new OffscreenCanvas(i,s),this._outputFrame=document.createElement("canvas"),this._outputFrame.width=i,this._outputFrame.height=s,this.processedTrack=this._outputFrame.captureStream(0).getTracks()[0],this.processedTrack.enabled=this.mediaStreamTrack.enabled,this.processor=e,this._processorEventObserver.emit("add",{processor:e,captureHeight:s,captureWidth:i,inputFrameRate:c,isRemoteVideoTrack:this.toString().includes("RemoteVideoTrack")}),this._updateElementsMediaStreamTrack(),this._captureFrames(),this},t.prototype.attach=function(){var t=e.prototype.attach.apply(this,arguments);return this.processor&&this._captureFrames(),t},t.prototype.detach=function(){return e.prototype.detach.apply(this,arguments)},t.prototype.removeProcessor=function(e){if(!e)throw new Error("Received an invalid VideoProcessor from removeProcessor.");if(!this.processor)throw new Error("No existing VideoProcessor detected.");if(e!==this.processor)throw new Error("The provided VideoProcessor is different than the existing one.");return this._processorEventObserver.emit("remove"),this._log.debug("Removing VideoProcessor from the VideoTrack",e),clearTimeout(this._captureTimeoutId),this.mediaStreamTrack.removeEventListener("unmute",this._unmuteHandler),this._unmuteHandler=null,this._isCapturing=!1,this.processor=null,this.processedTrack=null,this._inputFrame.getContext("2d").clearRect(0,0,this._inputFrame.width,this._inputFrame.height),this._outputFrame.getContext("2d").clearRect(0,0,this._outputFrame.width,this._outputFrame.height),this._inputFrame=null,this._outputFrame=null,this._updateElementsMediaStreamTrack(),this},t}(i);function u(e,t){return e.dimensions.width!==t.videoWidth||e.dimensions.height!==t.videoHeight}s.DIMENSIONS_CHANGED="dimensionsChanged",e.exports=s},42580:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=n(47465).EventEmitter,o=n(24657),s=o.DEFAULT_NQ_LEVEL_LOCAL,u=o.DEFAULT_NQ_LEVEL_REMOTE,c=o.MAX_NQ_LEVEL,l=n(58242).inRange,f=function(e){function t(t){var n=e.call(this)||this;return t=Object.assign({local:s,remote:u},t),Object.defineProperties(n,{local:{value:l(t.local,s,c)?t.local:s,writable:!0},remote:{value:l(t.remote,u,c)?t.remote:u,writable:!0}}),n}return r(t,e),t.prototype.update=function(e){var t=this;e=Object.assign({local:this.local,remote:this.remote},e),[["local",s,3],["remote",u,3]].forEach((function(n){var r=i(n,3),a=r[0],o=r[1],s=r[2];t[a]="number"===typeof e[a]&&l(e[a],o,s)?e[a]:o}))},t}(a);e.exports=f},53143:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.createNoiseCancellationAudioProcessor=void 0;var a=n(3035),o=(n(41547),{krisp:{supportedVersion:"1.0.0",pluginFile:"krispsdk.mjs"},rnnoise:{supportedVersion:"0.6.0",pluginFile:"rnnoise_sdk.mjs"}}),s=new Map;t.createNoiseCancellationAudioProcessor=function(e,t){return r(this,void 0,void 0,(function(){var n,r,u,c,l,f,d,p,h;return i(this,(function(i){switch(i.label){case 0:if(n=s.get(e.vendor))return[3,6];if(!(r=o[e.vendor]))throw new Error("Unsupported NoiseCancellationOptions.vendor: "+e.vendor);u=r.supportedVersion,c=r.pluginFile,l=e.sdkAssetsPath,f=l+"/"+c,i.label=1;case 1:return i.trys.push([1,5,,6]),t.debug("loading noise cancellation sdk: ",f),[4,a(f)];case 2:return d=i.sent(),t.debug("Loaded noise cancellation sdk:",d),p=d.default,function(e){var t=e.supportedVersion,n=e.plugin,r=e.log;if(!n.getVersion||!n.isSupported)throw new Error("Plugin does not export getVersion/isSupported api. Are you using old version of the plugin ?");var i=n.getVersion();r.debug("Plugin Version = "+i);var a=t.split(".").map((function(e){return Number(e)})),o=i.split(".").map((function(e){return Number(e)}));if(3!==a.length||3!==o.length)throw new Error("Unsupported Plugin version format: "+t+", "+i);if(a[0]!==o[0])throw new Error("Major version mismatch: [Plugin version "+i+"],  [Supported Version "+t+"]");if(o[1]<a[1])throw new Error("Minor version mismatch: [Plugin version "+i+"] < [Supported Version "+t+"]");var s=new AudioContext,u=n.isSupported(s);if(s.close(),!u)throw new Error("Noise Cancellation plugin is not supported on your browser")}({supportedVersion:u,plugin:p,log:t}),p.isInitialized()?[3,4]:(t.debug("initializing noise cancellation sdk: ",l),[4,p.init({rootDir:l})]);case 3:i.sent(),t.debug("noise cancellation sdk initialized!"),i.label=4;case 4:return n={vendor:e.vendor,isInitialized:function(){return p.isInitialized()},isConnected:function(){return p.isConnected()},isEnabled:function(){return p.isEnabled()},disconnect:function(){return p.disconnect()},enable:function(){return p.enable()},disable:function(){return p.disable()},destroy:function(){return p.destroy()},setLogging:function(e){return p.setLogging(e)},connect:function(e){t.debug("connect: ",e.id),p.isConnected()&&p.disconnect();var n=p.connect(new MediaStream([e]));if(!n)throw new Error("Error connecting with noise cancellation sdk");var r=n.getAudioTracks()[0];if(!r)throw new Error("Error getting clean track from noise cancellation sdk");return p.enable(),r}},s.set(e.vendor,n),[3,6];case 5:throw h=i.sent(),t.error("Error loading noise cancellation sdk:"+f,h),h;case 6:return[2,n]}}))}))}},241:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(5887),s=n(76439),u=n(37505),c=n(2897),l=n(73494),f=n(12512),d=n(60667),p=n(58242),h=0,v=function(e){function t(t,n){var r=e.call(this)||this,i=function(e){var t=e.map((function(e){return[e.id,e]})),n=t.filter((function(e){return"audio"===e[1].kind})),r=t.filter((function(e){return"video"===e[1].kind})),i=t.filter((function(e){return"data"===e[1].kind}));return{audioTracks:n,dataTracks:i,tracks:t,videoTracks:r}}((n=Object.assign({RemoteAudioTrack:s,RemoteAudioTrackPublication:u,RemoteDataTrack:c,RemoteDataTrackPublication:l,RemoteVideoTrack:f,RemoteVideoTrackPublication:d,tracks:[]},n)).tracks),a=n.log.createLog("default",r),o=new Map(i.audioTracks),p=new Map(i.dataTracks),v=new Map(i.tracks),g=new Map(i.videoTracks);return Object.defineProperties(r,{_RemoteAudioTrack:{value:n.RemoteAudioTrack},_RemoteAudioTrackPublication:{value:n.RemoteAudioTrackPublication},_RemoteDataTrack:{value:n.RemoteDataTrack},_RemoteDataTrackPublication:{value:n.RemoteDataTrackPublication},_RemoteVideoTrack:{value:n.RemoteVideoTrack},_RemoteVideoTrackPublication:{value:n.RemoteVideoTrackPublication},_audioTracks:{value:o},_dataTracks:{value:p},_instanceId:{value:++h},_clientTrackSwitchOffControl:{value:n.clientTrackSwitchOffControl},_contentPreferencesMode:{value:n.contentPreferencesMode},_log:{value:a},_signaling:{value:t},_tracks:{value:v},_trackEventReemitters:{value:new Map},_trackPublicationEventReemitters:{value:new Map},_trackSignalingUpdatedEventCallbacks:{value:new Map},_videoTracks:{value:g},audioTracks:{enumerable:!0,value:new Map},dataTracks:{enumerable:!0,value:new Map},identity:{enumerable:!0,get:function(){return t.identity}},networkQualityLevel:{enumerable:!0,get:function(){return t.networkQualityLevel}},networkQualityStats:{enumerable:!0,get:function(){return t.networkQualityStats}},sid:{enumerable:!0,get:function(){return t.sid}},state:{enumerable:!0,get:function(){return t.state}},tracks:{enumerable:!0,value:new Map},videoTracks:{enumerable:!0,value:new Map}}),r._tracks.forEach(m.bind(null,r)),t.on("networkQualityLevelChanged",(function(){return r.emit("networkQualityLevelChanged",r.networkQualityLevel,r.networkQualityStats&&(r.networkQualityStats.audio||r.networkQualityStats.video)?r.networkQualityStats:null)})),function(e,t){var n=e._log;if("disconnected"===e.state)return;t.on("stateChanged",(function r(i){n.debug("Transitioned to state:",i),e.emit(i,e),"disconnected"===i&&(n.debug("Removing Track event reemitters"),t.removeListener("stateChanged",r),e._tracks.forEach((function(t){var n=e._trackEventReemitters.get(t.id);t&&n&&n.forEach((function(e,n){t.removeListener(n,e)}))})),t.tracks.forEach((function(t){var n=e._tracks.get(t.id),r=e._trackEventReemitters.get(t.id);n&&r&&r.forEach((function(e,t){n.removeListener(t,e)}))})),e._trackEventReemitters.clear(),e.tracks.forEach((function(t){e._trackPublicationEventReemitters.get(t.trackSid).forEach((function(e,n){t.removeListener(n,e)}))})),e._trackPublicationEventReemitters.clear())}))}(r,t),a.info("Created a new Participant"+(r.identity?": "+r.identity:"")),r}return r(t,e),t.prototype._getTrackEvents=function(){return[["dimensionsChanged","trackDimensionsChanged"],["message","trackMessage"],["started","trackStarted"]]},t.prototype._getTrackPublicationEvents=function(){return[]},t.prototype.toString=function(){return"[Participant #"+this._instanceId+": "+this.sid+"]"},t.prototype._addTrack=function(e,t){var n=this._log;return this._tracks.has(t)?null:(this._tracks.set(t,e),{audio:this._audioTracks,video:this._videoTracks,data:this._dataTracks}[e.kind].set(t,e),m(this,e,t),n.info("Added a new "+p.trackClass(e)+":",t),n.debug(p.trackClass(e)+":",e),e)},t.prototype._addTrackPublication=function(e){var t=this._log;return this.tracks.has(e.trackSid)?null:(this.tracks.set(e.trackSid,e),{audio:this.audioTracks,data:this.dataTracks,video:this.videoTracks}[e.kind].set(e.trackSid,e),function(e,t){var n=new Map;if("disconnected"===e.state)return;e._getTrackPublicationEvents().forEach((function(r){var o=i(r,2),s=o[0],u=o[1];n.set(s,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.emit.apply(e,a(a([u],i(n)),[t]))})),t.on(s,n.get(s))})),e._trackPublicationEventReemitters.set(t.trackSid,n)}(this,e),t.info("Added a new "+p.trackPublicationClass(e)+":",e.trackSid),t.debug(p.trackPublicationClass(e)+":",e),e)},t.prototype._handleTrackSignalingEvents=function(){var e=this,t=e._log,n=e._clientTrackSwitchOffControl,r=e._contentPreferencesMode,a=this;if("disconnected"!==this.state){var o=this._RemoteAudioTrack,s=this._RemoteAudioTrackPublication,u=this._RemoteVideoTrack,c=this._RemoteVideoTrackPublication,l=this._RemoteDataTrack,f=this._RemoteDataTrackPublication,d=this._signaling;d.on("trackAdded",p),d.on("trackRemoved",h),d.tracks.forEach(p),d.on("stateChanged",(function e(n){"disconnected"===n?(t.debug("Removing event listeners"),d.removeListener("stateChanged",e),d.removeListener("trackAdded",p),d.removeListener("trackRemoved",h)):"connected"===n&&(t.info("reconnected"),setTimeout((function(){return a.emit("reconnected")}),0))}))}function p(e){var n=new(0,{audio:s,data:f,video:c}[e.kind])(e,{log:t});a._addTrackPublication(n);var r=e.isSubscribed;r&&v(e),a._trackSignalingUpdatedEventCallbacks.set(e.sid,(function(){if(r!==e.isSubscribed){if(r=e.isSubscribed)return void v(e);!function(e){var t=i(Array.from(a._tracks.entries()).find((function(t){return i(t,2)[1].sid===e.sid})),2),n=t[0],r=t[1],o=a.tracks.get(e.sid);r&&a._removeTrack(r,o,n)}(e)}})),e.on("updated",a._trackSignalingUpdatedEventCallbacks.get(e.sid))}function h(e){e.isSubscribed&&e.setTrackTransceiver(null);var t=a._trackSignalingUpdatedEventCallbacks.get(e.sid);t&&(e.removeListener("updated",t),a._trackSignalingUpdatedEventCallbacks.delete(e.sid));var n=a.tracks.get(e.sid);n&&a._removeTrackPublication(n)}function v(e){var i=e.isEnabled,s=e.name,c=e.kind,f=e.sid,p=e.trackTransceiver,h=e.isSwitchedOff,v={audio:o,video:u,data:l}[c],m=a.tracks.get(f);if(v&&c===p.kind){var g={log:t,name:s,clientTrackSwitchOffControl:n,contentPreferencesMode:r},y="data"===c?new v(f,p,g):new v(f,p,i,h,(function(e){return d.updateSubscriberTrackPriority(f,e)}),(function(t){e.isSubscribed&&d.updateTrackRenderHint(f,t)}),g);a._addTrack(y,m,p.id)}}},t.prototype._removeTrack=function(e,t){if(!this._tracks.has(t))return null;this._tracks.delete(t),{audio:this._audioTracks,video:this._videoTracks,data:this._dataTracks}[e.kind].delete(t),(this._trackEventReemitters.get(t)||new Map).forEach((function(t,n){e.removeListener(n,t)}));var n=this._log;return n.info("Removed a "+p.trackClass(e)+":",t),n.debug(p.trackClass(e)+":",e),e},t.prototype._removeTrackPublication=function(e){if(!(e=this.tracks.get(e.trackSid)))return null;this.tracks.delete(e.trackSid),{audio:this.audioTracks,data:this.dataTracks,video:this.videoTracks}[e.kind].delete(e.trackSid),(this._trackPublicationEventReemitters.get(e.trackSid)||new Map).forEach((function(t,n){e.removeListener(n,t)}));var t=this._log;return t.info("Removed a "+p.trackPublicationClass(e)+":",e.trackSid),t.debug(p.trackPublicationClass(e)+":",e),e},t.prototype.toJSON=function(){return p.valueToJSON(this)},t}(o);function m(e,t,n){var r=new Map;"disconnected"!==e.state&&(e._getTrackEvents().forEach((function(n){var o=n[0],s=n[1];r.set(o,(function(){var t=[s].concat([].slice.call(arguments));return e.emit.apply(e,a([],i(t)))})),t.on(o,r.get(o))})),e._trackEventReemitters.set(n,r))}e.exports=v},12364:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};function a(e,t,n,r){var i=[];return e.forEach((function(e){0!==r.length&&!r.includes(e.type)||0!==n.length&&!n.includes(e.kind)||"number"!==typeof e[t]||i.push(e[t])})),i}function o(e){return[{key:"transportId",type:"string"},{key:"candidateType",type:"string"},{key:"port",altKeys:["portNumber"],type:"number"},{key:"address",altKeys:["ip","ipAddress"],type:"string"},{key:"priority",type:"number"},{key:"protocol",altKeys:["transport"],type:"string"},{key:"url",type:"string"},{key:"relayProtocol",type:"string"}].reduce((function(t,n){var r=[n.key];n.altKeys&&(r=r.concat(n.altKeys));var i=r.find((function(t){return t in e}));return i&&typeof e[i]===n.type&&(t[n.key]=e[i]),t}),{})}Object.defineProperty(t,"__esModule",{value:!0}),t.getCombinedConnectionStats=void 0,t.getCombinedConnectionStats=function(e){var t=e.publisher,s=e.subscriber;return n(this,void 0,void 0,(function(){var e,n,u,c,l,f,d,p,h,v,m,g,y,b,x;return r(this,(function(r){switch(r.label){case 0:return[4,Promise.all([t,s].map((function(e){return e.getStats()})))];case 1:return e=i.apply(void 0,[r.sent(),2]),n=e[0],u=e[1],c=a(u,"timestamp",["audio"],["inbound-rtp"]),l=c.length>0?c[0]:0,f=a(u,"jitter",["audio"],["inbound-rtp"]).reduce((function(e,t){return Math.max(e,t)}),0),d=a(u,"packetsReceived",["audio","video"],["inbound-rtp"]).reduce((function(e,t){return e+t}),0),p=a(u,"packetsLost",["audio","video"],["inbound-rtp"]).reduce((function(e,t){return e+t}),0),h=a(n,"roundTripTime",["audio","video"],["remote-inbound-rtp"]).reduce((function(e,t){return Math.max(e,t)}),0),v=a(u,"currentRoundTripTime",[],["candidate-pair"]).reduce((function(e,t){return Math.max(e,t)}),0),m=1e3*(v||h),g=a(n,"bytesSent",[],["candidate-pair"]).reduce((function(e,t){return e+t}),0),y=a(u,"bytesReceived",[],["candidate-pair"]).reduce((function(e,t){return e+t}),0),b=function(e){var t=null,n=[];e.forEach((function(e){"transport"===e.type&&e.selectedCandidatePairId?t=e.selectedCandidatePairId:"candidate-pair"===e.type&&n.push(e)}));var r=n.find((function(e){return e.selected||t&&e.id===t}));if(!r)return null;var i=r,a=e.get(i.localCandidateId),s=e.get(i.remoteCandidateId);if(!a||!s)return null;return{localCandidate:o(a),remoteCandidate:o(s)}}(u),x=[],u.forEach((function(e){"local-candidate"!==e.type&&"remote-candidate"!==e.type||x.push(o(e))})),[2,{timestamp:l,jitter:f,packets:d,packetsLost:p,roundTripTime:m,bytesSent:g,bytesReceived:y,selectedIceCandidatePairStats:b,iceCandidateStats:x}]}}))}))}},29816:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTurnCredentials=void 0;var r=n(49536),i=n(24657).ICE_VERSION,a=n(89752),o=a.createTwilioError,s=a.SignalingConnectionError,u=n(47465);t.getTurnCredentials=function(e,t){return new Promise((function(n,a){var c=new u.EventEmitter,l=new r(t,{networkMonitor:null,eventObserver:c,helloBody:{edge:"roaming",preflight:!0,token:e,type:"ice",version:i}}),f=!1;l.once("close",(function(){f||(f=!0,a(new s))})),l.on("message",(function(e){var t=e.code,r=e.message,i=e.ice_servers,s=e.type;"iced"!==s&&"error"!==s||f||(f=!0,"iced"===s?n(i):a(o(t,r)),l.close())}))}))}},41358:function(e,t){"use strict";var n=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.makeStat=void 0,t.makeStat=function(e){return e&&e.length?{min:Math.min.apply(Math,r([],n(e))),max:Math.max.apply(Math,r([],n(e))),average:e.reduce((function(e,t){return e+t}),0)/e.length}:null}},22167:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mosToScore=t.calculateMOS=void 0;var n=94.768;t.calculateMOS=function(e,t,r){var i=e+2*t+10,a=0;switch(!0){case i<160:a=n-i/40;break;case i<1e3:a=n-(i-120)/10}if(!0===r<=a/2.5)a=Math.max(a-2.5*r,6.52);else a=0;return 1+.035*a+7e-6*a*(a-60)*(100-a)},t.mosToScore=function(e){return e?e>4.2?5:e>4?4:e>3.6?3:e>3?2:1:0}},49707:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.runPreflight=t.PreflightTest=void 0;var s=n(24657),u=n(38756),c=n(22167),l=n(12364),f=n(29816),d=n(41358),p=n(38678),h=n(47554),v=n(58242),m=n(24657).WS_SERVER,g=n(41547),y=n(5887),b=n(21288),x=n(16820),k=n(33512),w=n(22243),_=w.createSID,S=w.sessionSID,T=n(89752),E=T.SignalingConnectionTimeoutError,C=T.MediaConnectionError,O="mediaAcquired",A="connected",I="mediaSubscribed",R="mediaStarted",N="dtlsConnected",P="peerConnectionConnected",M="iceConnected";function D(e){return null!==e&&"undefined"!==typeof e}var L=0,j=function(e){function t(t,n){var r=e.call(this)||this;r._testTiming=new u.Timer,r._dtlsTiming=new u.Timer,r._iceTiming=new u.Timer,r._peerConnectionTiming=new u.Timer,r._mediaTiming=new u.Timer,r._connectTiming=new u.Timer,r._sentBytesMovingAverage=new b,r._packetLossMovingAverage=new b,r._progressEvents=[],r._receivedBytesMovingAverage=new b;var i=n,a=i.environment,o=void 0===a?"prod":a,c=i.region,l=void 0===c?"gll":c,f=i.duration,d=void 0===f?1e4:f,p=i.wsServer||m(o,l);return r._log=new g("default",r,s.DEFAULT_LOG_LEVEL,s.DEFAULT_LOGGER_NAME),r._testDuration=d,r._instanceId=L++,r._testTiming.start(),r._runPreflightTest(t,o,p),r}return r(t,e),t.prototype.toString=function(){return"[Preflight #"+this._instanceId+"]"},t.prototype.stop=function(){this._stopped=!0},t.prototype._generatePreflightReport=function(e){return this._testTiming.stop(),{testTiming:this._testTiming.getTimeMeasurement(),networkTiming:{dtls:this._dtlsTiming.getTimeMeasurement(),ice:this._iceTiming.getTimeMeasurement(),peerConnection:this._peerConnectionTiming.getTimeMeasurement(),connect:this._connectTiming.getTimeMeasurement(),media:this._mediaTiming.getTimeMeasurement()},stats:{jitter:d.makeStat(null===e||void 0===e?void 0:e.jitter),rtt:d.makeStat(null===e||void 0===e?void 0:e.rtt),packetLoss:d.makeStat(null===e||void 0===e?void 0:e.packetLoss)},selectedIceCandidatePairStats:e?e.selectedIceCandidatePairStats:null,iceCandidateStats:e?e.iceCandidateStats:[],progressEvents:this._progressEvents,mos:d.makeStat(null===e||void 0===e?void 0:e.mos)}},t.prototype._executePreflightStep=function(e,t,n){return a(this,void 0,void 0,(function(){var r,i,a,s;return o(this,(function(o){switch(o.label){case 0:if(this._log.debug("Executing step: ",e),r=this._testDuration+1e4,this._stopped)throw new Error("stopped");i=Promise.resolve().then(t),a=null,s=new Promise((function(t,i){a=setTimeout((function(){i(n||new Error(e+" timeout."))}),r)})),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,Promise.race([s,i])];case 2:return[2,o.sent()];case 3:return null!==a&&clearTimeout(a),[7];case 4:return[2]}}))}))},t.prototype._collectNetworkTimings=function(e){var t=this;return new Promise((function(n){var r;e.addEventListener("iceconnectionstatechange",(function(){"checking"===e.iceConnectionState&&t._iceTiming.start(),"connected"===e.iceConnectionState&&(t._iceTiming.stop(),t._updateProgress(M),(!r||r&&"connected"===r.state)&&n())})),e.addEventListener("connectionstatechange",(function(){"connecting"===e.connectionState&&t._peerConnectionTiming.start(),"connected"===e.connectionState&&(t._peerConnectionTiming.stop(),t._updateProgress(P))}));var i=e.getSenders().map((function(e){return e.transport})).find(D);"undefined"!==typeof i&&(r=i).addEventListener("statechange",(function(){"connecting"===r.state&&t._dtlsTiming.start(),"connected"===r.state&&(t._dtlsTiming.stop(),t._updateProgress(N),"connected"===e.iceConnectionState&&n())}))}))},t.prototype._setupInsights=function(e){var t=e.token,n=e.environment,r=void 0===n?s.DEFAULT_ENVIRONMENT:n,i=e.realm,a=void 0===i?s.DEFAULT_REALM:i,o=new k(t,s.SDK_NAME,s.SDK_VERSION,r,a,{});o.connect("PREFLIGHT_ROOM_SID","PREFLIGHT_PARTICIPANT");var u=new x(o,Date.now(),this._log),c=void 0;return{reportToInsights:function(e){var t,n,r=e.report,i=r.stats.jitter||c,a=r.stats.rtt||c,s=r.stats.packetLoss||c,l=r.mos||c,f=new Map;r.iceCandidateStats.forEach((function(e){if(e.candidateType&&e.protocol){var t=f.get(e.candidateType)||[];t.indexOf(e.protocol)<0&&t.push(e.protocol),f.set(e.candidateType,t)}}));var d=JSON.stringify(Object.fromEntries(f)),p={name:"report",group:"preflight",level:r.error?"error":"info",payload:{sessionSID:S,preflightSID:_("PF"),progressEvents:JSON.stringify(r.progressEvents),testTiming:r.testTiming,dtlsTiming:r.networkTiming.dtls,iceTiming:r.networkTiming.ice,peerConnectionTiming:r.networkTiming.peerConnection,connectTiming:r.networkTiming.connect,mediaTiming:r.networkTiming.media,selectedLocalCandidate:null===(t=r.selectedIceCandidatePairStats)||void 0===t?void 0:t.localCandidate,selectedRemoteCandidate:null===(n=r.selectedIceCandidatePairStats)||void 0===n?void 0:n.remoteCandidate,iceCandidateStats:d,jitterStats:i,rttStats:a,packetLossStats:s,mosStats:l,error:r.error}};u.emit("event",p),setTimeout((function(){return o.disconnect()}),2e3)}}},t.prototype._runPreflightTest=function(e,t,n){return a(this,void 0,void 0,(function(){var r,s,u,c,l,d,v,m,g,y,b,x,k=this;return o(this,(function(w){switch(w.label){case 0:r=[],s=[],u=this._setupInsights({token:e,environment:t}).reportToInsights,w.label=1;case 1:return w.trys.push([1,8,9,10]),c=[],[4,this._executePreflightStep("Acquire media",(function(){return[p.syntheticAudio(),h.syntheticVideo({width:640,height:480})]}))];case 2:return r=w.sent(),this._updateProgress(O),this.emit("debug",{localTracks:r}),this._connectTiming.start(),[4,this._executePreflightStep("Get turn credentials",(function(){return f.getTurnCredentials(e,n)}),new E)];case 3:return l=w.sent(),this._connectTiming.stop(),this._updateProgress(A),d=new RTCPeerConnection({iceServers:l,iceTransportPolicy:"relay",bundlePolicy:"max-bundle"}),v=new RTCPeerConnection({iceServers:l,bundlePolicy:"max-bundle"}),s.push(d),s.push(v),this._mediaTiming.start(),[4,this._executePreflightStep("Setup Peer Connections",(function(){return a(k,void 0,void 0,(function(){var e,t,n,i;return o(this,(function(a){switch(a.label){case 0:return d.addEventListener("icecandidate",(function(e){return e.candidate&&v.addIceCandidate(e.candidate)})),v.addEventListener("icecandidate",(function(e){return e.candidate&&d.addIceCandidate(e.candidate)})),r.forEach((function(e){return d.addTrack(e)})),e=new Promise((function(e){var t=[];v.addEventListener("track",(function(n){t.push(n.track),t.length===r.length&&e(t)}))})),[4,d.createOffer()];case 1:return t=a.sent(),n=t,[4,d.setLocalDescription(n)];case 2:return a.sent(),[4,v.setRemoteDescription(n)];case 3:return a.sent(),[4,v.createAnswer()];case 4:return i=a.sent(),[4,v.setLocalDescription(i)];case 5:return a.sent(),[4,d.setRemoteDescription(i)];case 6:return a.sent(),[4,this._collectNetworkTimings(d)];case 7:return a.sent(),[2,e]}}))}))}),new C)];case 4:return m=w.sent(),this.emit("debug",{remoteTracks:m}),m.forEach((function(e){e.addEventListener("ended",(function(){return k._log.warn(e.kind+":ended")})),e.addEventListener("mute",(function(){return k._log.warn(e.kind+":muted")})),e.addEventListener("unmute",(function(){return k._log.warn(e.kind+":unmuted")}))})),this._updateProgress(I),[4,this._executePreflightStep("Wait for tracks to start",(function(){return new Promise((function(e){var t=document.createElement("video");t.autoplay=!0,t.playsInline=!0,t.muted=!0,t.srcObject=new MediaStream(m),c.push(t),k.emit("debugElement",t),t.oncanplay=e}))}),new C)];case 5:return w.sent(),this._mediaTiming.stop(),this._updateProgress(R),[4,this._executePreflightStep("Collect stats for duration",(function(){return k._collectRTCStatsForDuration(k._testDuration,{mos:[],jitter:[],rtt:[],outgoingBitrate:[],incomingBitrate:[],packetLoss:[],selectedIceCandidatePairStats:null,iceCandidateStats:[]},d,v)}))];case 6:return g=w.sent(),[4,this._executePreflightStep("Generate report",(function(){return k._generatePreflightReport(g)}))];case 7:return y=w.sent(),u({report:y}),this.emit("completed",y),[3,10];case 8:return b=w.sent(),x=this._generatePreflightReport(),u({report:i(i({},x),{error:null===b||void 0===b?void 0:b.toString()})}),this.emit("failed",b,x),[3,10];case 9:return s.forEach((function(e){return e.close()})),r.forEach((function(e){return e.stop()})),[7];case 10:return[2]}}))}))},t.prototype._collectRTCStats=function(e,t,n){return a(this,void 0,void 0,(function(){var r,i,a,s,u,f,d,p,h,v,m,g,y,b;return o(this,(function(o){switch(o.label){case 0:return[4,l.getCombinedConnectionStats({publisher:t,subscriber:n})];case 1:return r=o.sent(),i=r.timestamp,a=r.bytesSent,s=r.bytesReceived,u=r.packets,f=r.packetsLost,d=r.roundTripTime,p=r.jitter,h=r.selectedIceCandidatePairStats,v=r.iceCandidateStats,m=e.jitter.length>0,e.jitter.push(p),e.rtt.push(d),this._sentBytesMovingAverage.putSample(a,i),this._receivedBytesMovingAverage.putSample(s,i),this._packetLossMovingAverage.putSample(f,u),m&&(e.outgoingBitrate.push(1e3*this._sentBytesMovingAverage.get()*8),e.incomingBitrate.push(1e3*this._receivedBytesMovingAverage.get()*8),g=this._packetLossMovingAverage.get(),y=Math.min(100,100*g),e.packetLoss.push(y),b=c.calculateMOS(d,p,g),e.mos.push(b)),e.selectedIceCandidatePairStats||(e.selectedIceCandidatePairStats=h),0===e.iceCandidateStats.length&&(e.iceCandidateStats=v),[2]}}))}))},t.prototype._collectRTCStatsForDuration=function(e,t,n,r){return a(this,void 0,void 0,(function(){var i,a,s;return o(this,(function(o){switch(o.label){case 0:return i=Date.now(),a=Math.min(1e3,e),[4,v.waitForSometime(a)];case 1:return o.sent(),[4,this._collectRTCStats(t,n,r)];case 2:return o.sent(),(s=e-(Date.now()-i))>0?[4,this._collectRTCStatsForDuration(s,t,n,r)]:[3,4];case 3:t=o.sent(),o.label=4;case 4:return[2,t]}}))}))},t.prototype._updateProgress=function(e){var t=Date.now()-this._testTiming.getTimeMeasurement().start;this._progressEvents.push({duration:t,name:e}),this.emit("progress",e)},t}(y);t.PreflightTest=j,t.runPreflight=function(e,t){return void 0===t&&(t={}),new j(e,t)}},38678:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syntheticAudio=void 0,t.syntheticAudio=function(){var e=n(63074),t={},r=e.getOrCreate(t),i=r.createOscillator(),a=i.connect(r.createMediaStreamDestination());i.start();var o=a.stream.getAudioTracks()[0],s=o.stop;return o.stop=function(){s.call(o),e.release(t)},o}},47554:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.syntheticVideo=void 0,t.syntheticVideo=function(e){var t=void 0===e?{}:e,n=t.width,r=void 0===n?640:n,i=t.height,a=void 0===i?480:i,o=Object.assign(document.createElement("canvas"),{width:r,height:a}),s=o.getContext("2d");s.fillStyle="green",s.fillRect(0,0,o.width,o.height);var u=!1;requestAnimationFrame((function e(){if(!u){var t=Math.round(255*Math.random()),n=Math.round(255*Math.random()),i=Math.round(255*Math.random()),o=Math.round(255*Math.random());s.fillStyle="rgba("+t+", "+n+", "+i+", "+o+")",s.fillRect(Math.random()*r,Math.random()*a,50,50),requestAnimationFrame(e)}}));var c=o.captureStream(30).getTracks()[0],l=c.stop;return c.stop=function(){u=!0,l.call(c)},c}},38756:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var n=function(){function e(){this._end=void 0,this.start()}return e.prototype.start=function(){return this._start=Date.now(),this},e.prototype.stop=function(){return this._end=Date.now(),this},e.prototype.getTimeMeasurement=function(){return{start:this._start,end:this._end,duration:void 0===this._end?void 0:this._end-this._start}},e}();t.Timer=n},16233:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=function(e){function t(){var t=e.call(this)||this;return Object.defineProperties(t,{_queuedEvents:{value:new Map}}),t}return r(t,e),t.prototype.dequeue=function(e){var t=this,n=!0;if(!e)return this._queuedEvents.forEach((function(e,t){n=this.dequeue(t)&&n}),this),n;var r=this._queuedEvents.get(e)||[];return this._queuedEvents.delete(e),r.reduce((function(n,r){return t.emit.apply(t,a([],i([e].concat(r))))&&n}),n)},t.prototype.queue=function(){var e=[].slice.call(arguments);if(this.emit.apply(this,a([],i(e))))return!0;var t=e[0];return this._queuedEvents.has(t)||this._queuedEvents.set(t,[]),this._queuedEvents.get(t).push(e.slice(1)),!1},t}(n(47465).EventEmitter);e.exports=o},75856:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._handleTrackSignalingEvents(),r.once("disconnected",r._unsubscribeTracks.bind(r)),r}return r(t,e),t.prototype.toString=function(){return"[RemoteParticipant #"+this._instanceId+(this.sid?": "+this.sid:"")+"]"},t.prototype._addTrack=function(t,n,r){return e.prototype._addTrack.call(this,t,r)?(n._subscribed(t),this.emit("trackSubscribed",t,n),t):null},t.prototype._addTrackPublication=function(t){var n=e.prototype._addTrackPublication.call(this,t);return n?(this.emit("trackPublished",n),n):null},t.prototype._getTrackPublicationEvents=function(){return a(a([],i(e.prototype._getTrackPublicationEvents.call(this))),[["subscriptionFailed","trackSubscriptionFailed"],["trackDisabled","trackDisabled"],["trackEnabled","trackEnabled"],["publishPriorityChanged","trackPublishPriorityChanged"],["trackSwitchedOff","trackSwitchedOff"],["trackSwitchedOn","trackSwitchedOn"]])},t.prototype._unsubscribeTracks=function(){var e=this;this.tracks.forEach((function(t){if(t.isSubscribed){var n=t.track;t._unsubscribe(),e.emit("trackUnsubscribed",n,t)}}))},t.prototype._removeTrack=function(t,n,r){var i=this._tracks.get(r);return i?(e.prototype._removeTrack.call(this,i,r),n._unsubscribe(),this.emit("trackUnsubscribed",i,n),i):null},t.prototype._removeTrackPublication=function(t){this._signaling.clearTrackHint(t.trackSid);var n=e.prototype._removeTrackPublication.call(this,t);return n?(this.emit("trackUnpublished",n),n):null},t}(n(241));e.exports=o},87981:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(5887),s=n(75856),u=n(68182),c=n(58242).valueToJSON,l=0,f=function(e){function t(t,n,r){var o,s,u=e.call(this)||this,c=r.log.createLog("default",u),f=new Map;return Object.defineProperties(u,{_log:{value:c},_clientTrackSwitchOffControl:{value:r.clientTrackSwitchOffControl||"disabled"},_contentPreferencesMode:{value:r.contentPreferencesMode||"disabled"},_instanceId:{value:++l},_options:{value:r},_participants:{value:f},_signaling:{value:n},dominantSpeaker:{enumerable:!0,get:function(){return this.participants.get(n.dominantSpeakerSid)||null}},isRecording:{enumerable:!0,get:function(){return n.recording.isEnabled||!1}},localParticipant:{enumerable:!0,value:t},name:{enumerable:!0,value:n.name},participants:{enumerable:!0,value:f},sid:{enumerable:!0,value:n.sid},state:{enumerable:!0,get:function(){return n.state}},mediaRegion:{enumerable:!0,value:n.mediaRegion}}),function(e,t){var n=["trackWarning","trackWarningsCleared"].map((function(n){return{eventName:n,handler:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e.emit.apply(e,a([n],i(a(a([],i(r)),[t]))))}}}));n.forEach((function(e){var n=e.eventName,r=e.handler;return t.on(n,r)})),e.once("disconnected",(function(){return n.forEach((function(e){var n=e.eventName,r=e.handler;return t.removeListener(n,r)}))}))}(u,t),o=u,(s=n.recording).on("updated",(function(){var e=s.isEnabled;o._log.info("Recording "+(e?"started":"stopped")),o.emit("recording"+(e?"Started":"Stopped"))})),function(e,t){var n=e._log;n.debug("Creating a new RemoteParticipant for each ParticipantSignaling in the RoomSignaling"),t.participants.forEach(p.bind(null,e)),n.debug("Setting up RemoteParticipant creation for all subsequent ParticipantSignalings that connect to the RoomSignaling"),t.on("participantConnected",p.bind(null,e)),t.on("dominantSpeakerChanged",(function(){return e.emit("dominantSpeakerChanged",e.dominantSpeaker)})),t.on("stateChanged",(function r(i,a){switch(n.info("Transitioned to state:",i),i){case"disconnected":e.participants.forEach((function(e){e._unsubscribeTracks()})),e.emit(i,e,a),e.localParticipant.tracks.forEach((function(e){e.unpublish()})),t.removeListener("stateChanged",r);break;case"reconnecting":setTimeout((function(){return e.emit("reconnecting",a)}),0);break;default:setTimeout((function(){return e.emit("reconnected")}),0)}}))}(u,n),function(e){var t=e.localParticipant._signaling.audioProcessors;e.localParticipant.audioTracks.forEach((function(n){var r=n.track.noiseCancellation;r&&!t.includes(r.vendor)&&(e._log.warn(r.vendor+" is not supported in this room. disabling it permanently"),r.disablePermanently())}))}(u),c.info("Created a new Room:",u.name),c.debug("Initial RemoteParticipants:",Array.from(u._participants.values())),u}return r(t,e),t.prototype.toString=function(){return"[Room #"+this._instanceId+": "+this.sid+"]"},t.prototype.disconnect=function(){return this._log.info("Disconnecting"),this._signaling.disconnect(),this},t.prototype.getStats=function(){var e=this;return this._signaling.getStats().then((function(t){return Array.from(t).map((function(t){var n=i(t,2),r=n[0],a=n[1];return new u(r,Object.assign({},a,{localAudioTrackStats:d(e,a.localAudioTrackStats),localVideoTrackStats:d(e,a.localVideoTrackStats)}))}))}))},t.prototype.toJSON=function(){return c(this)},t}(o);function d(e,t){var n=e.localParticipant._signaling;return t.reduce((function(e,t){var r=n.tracks.get(t.trackId),i=n.getSender(r);return i?[Object.assign({},t,{trackId:i.id})].concat(e):e}),[])}function p(e,t){var n=e._log,r=e._clientTrackSwitchOffControl,o=e._contentPreferencesMode,u=new s(t,{log:n,clientTrackSwitchOffControl:r,contentPreferencesMode:o});n.info("A new RemoteParticipant connected:",u),e._participants.set(u.sid,u),e.emit("participantConnected",u);var c=[["reconnected","participantReconnected"],["reconnecting","participantReconnecting"],"trackDimensionsChanged","trackDisabled","trackEnabled","trackMessage","trackPublished","trackPublishPriorityChanged","trackStarted","trackSubscribed","trackSubscriptionFailed","trackSwitchedOff","trackSwitchedOn","trackUnpublished","trackUnsubscribed"].map((function(t){var n=i(Array.isArray(t)?t:[t,t],2),r=n[0],o=n[1];function s(){var t=[].slice.call(arguments);t.unshift(o),t.push(u),e.emit.apply(e,a([],i(t)))}return u.on(r,s),[r,s]}));u.once("disconnected",(function(){var t=e.dominantSpeaker;n.info("RemoteParticipant disconnected:",u),e._participants.delete(u.sid),c.forEach((function(e){u.removeListener(e[0],e[1])})),e.emit("participantDisconnected",u),u===t&&e.emit("dominantSpeakerChanged",e.dominantSpeaker)}))}e.exports=f},32472:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(85166),a=n(7590),o=n(68021),s={closed:["opening"],opening:["closed","open"],open:["closed","closing"],closing:["closed","open"]},u=function(e){function t(){return e.call(this,"closed",s)||this}return r(t,e),t.prototype._close=function(e){return this.transition("closing",e),this.transition("closed",e),Promise.resolve(this)},t.prototype._connect=function(e,t,n,r,i){e.connect("PA00000000000000000000000000000000","test");var o=Promise.resolve(new a(e,"RM00000000000000000000000000000000",i));return o.cancel=function(){},o},t.prototype._open=function(e){return this.transition("opening",e),this.transition("open",e),Promise.resolve(this)},t.prototype.close=function(){var e=this;return this.bracket("close",(function(t){switch(e.state){case"closed":return e;case"open":return e._close(t);default:throw new Error('Unexpected Signaling state "'+e.state+'"')}}))},t.prototype.connect=function(e,t,n,r,i){var a=this;return this.bracket("connect",(function o(s){switch(a.state){case"closed":return a._open(s).then(o.bind(null,s));case"open":return a.releaseLockCompletely(s),a._connect(e,t,n,r,i);default:throw new Error('Unexpected Signaling state "'+a.state+'"')}}))},t.prototype.createLocalParticipantSignaling=function(){return new i},t.prototype.open=function(){var e=this;return this.bracket("open",(function(t){switch(e.state){case"closed":return e._open(t);case"open":return e;default:throw new Error('Unexpected Signaling state "'+e.state+'"')}}))},t}(o);e.exports=u},23544:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(){var t=e.call(this)||this;return Object.defineProperties(t,{_publicationsToTrackSenders:{value:new Map},_trackSendersToPublications:{value:new Map}}),t}return r(t,e),t.prototype.addTrack=function(t,n,r,i){void 0===i&&(i=null);var a=this._createLocalTrackPublicationSignaling(t,n,r,i);return this._trackSendersToPublications.set(t,a),this._publicationsToTrackSenders.set(a,t),e.prototype.addTrack.call(this,a),this},t.prototype.getPublication=function(e){return this._trackSendersToPublications.get(e)||null},t.prototype.getSender=function(e){return this._publicationsToTrackSenders.get(e)||null},t.prototype.removeTrack=function(t){var n=this._trackSendersToPublications.get(t);return n?(this._trackSendersToPublications.delete(t),this._publicationsToTrackSenders.delete(n),e.prototype.removeTrack.call(this,n)&&n.stop(),n):null},t}(n(85166));e.exports=i},50402:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r){var i=this,a="data"===(t=t.clone()).kind||t.track.enabled;return(i=e.call(this,n,t.kind,a,r)||this).setTrackTransceiver(t),Object.defineProperties(i,{_updatedPriority:{value:r,writable:!0},id:{enumerable:!0,value:t.id}}),i}return r(t,e),Object.defineProperty(t.prototype,"updatedPriority",{get:function(){return this._updatedPriority},enumerable:!1,configurable:!0}),t.prototype.enable=function(t){return t="boolean"!==typeof t||t,this.trackTransceiver.track.enabled=t,e.prototype.enable.call(this,t)},t.prototype.publishFailed=function(e){return function(e,t){if(null!==e._sid||e._error)return!1;return e._error=t,!0}(this,e)&&this.emit("updated"),this},t.prototype.setPriority=function(e){return this._updatedPriority!==e&&(this._updatedPriority=e,this.emit("updated")),this},t.prototype.setSid=function(t){return this._error?this:e.prototype.setSid.call(this,t)},t.prototype.stop=function(){this.trackTransceiver.stop()},t}(n(68837));e.exports=i},85166:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(68021),a=n(7427),o={connecting:["connected"],connected:["disconnected","reconnecting"],reconnecting:["connected","disconnected"],disconnected:[]},s=function(e){function t(){var t=e.call(this,"connecting",o)||this;return Object.defineProperties(t,{_identity:{writable:!0,value:null},_networkQualityLevel:{value:null,writable:!0},_networkQualityStats:{value:null,writable:!0},_sid:{writable:!0,value:null},identity:{enumerable:!0,get:function(){return this._identity}},sid:{enumerable:!0,get:function(){return this._sid}},tracks:{enumerable:!0,value:new Map}}),t}return r(t,e),Object.defineProperty(t.prototype,"networkQualityLevel",{get:function(){return this._networkQualityLevel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"networkQualityStats",{get:function(){return this._networkQualityStats},enumerable:!1,configurable:!0}),t.prototype.addTrack=function(e){return this.tracks.set(e.id||e.sid,e),this.emit("trackAdded",e),this},t.prototype.disconnect=function(){return"disconnected"!==this.state&&(this.preempt("disconnected"),!0)},t.prototype.removeTrack=function(e){var t=this.tracks.get(e.id||e.sid);return this.tracks.delete(e.id||e.sid),t&&this.emit("trackRemoved",e),t||null},t.prototype.setNetworkQualityLevel=function(e,t){this._networkQualityLevel!==e&&(this._networkQualityLevel=e,this._networkQualityStats=t&&(t.audio||t.video)?new a(t):null,this.emit("networkQualityLevelChanged"))},t.prototype.connect=function(e,t){return("connecting"===this.state||"reconnecting"===this.state)&&(this._sid||(this._sid=e),this._identity||(this._identity=t),this.preempt("connected"),!0)},t.prototype.reconnecting=function(){return("connecting"===this.state||"connected"===this.state)&&(this.preempt("reconnecting"),!0)},t}(i);e.exports=s},9330:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(){var t=e.call(this)||this;return Object.defineProperties(t,{_isEnabled:{value:null,writable:!0},isEnabled:{enumerable:!0,get:function(){return this._isEnabled}}}),t}return r(t,e),t.prototype.disable=function(){return this.enable(!1)},t.prototype.enable=function(e){return e="boolean"!==typeof e||e,this.isEnabled!==e&&(this._isEnabled=e,this.emit("updated")),this},t}(n(47465).EventEmitter);e.exports=i},72502:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this)||this;return r.connect(t,n),r}return r(t,e),t}(n(85166));e.exports=i},27534:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r,i,a,o){var s=e.call(this,n,r,i,a)||this;return Object.defineProperties(s,{_isSwitchedOff:{value:o,writable:!0}}),s.setSid(t),s}return r(t,e),Object.defineProperty(t.prototype,"isSubscribed",{get:function(){return!!this.trackTransceiver},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSwitchedOff",{get:function(){return this._isSwitchedOff},enumerable:!1,configurable:!0}),t.prototype.subscribeFailed=function(e){return this.error||(this._error=e,this.emit("updated")),this},t.prototype.setPriority=function(e){return this._priority!==e&&(this._priority=e,this.emit("updated")),this},t.prototype.setSwitchedOff=function(e){return this._isSwitchedOff!==e&&(this._isSwitchedOff=e,this.emit("updated")),this},t}(n(68837));e.exports=i},7590:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(9330),a=n(68021),o=n(91149),s=n(58242).buildLogLevels,u=n(24657).DEFAULT_LOG_LEVEL,c=n(41547),l=n(89752),f=l.MediaConnectionError,d=l.MediaDTLSTransportFailedError,p=l.SignalingConnectionDisconnectedError,h=0,v={connected:["reconnecting","disconnected"],reconnecting:["connected","disconnected"],disconnected:[]},m=function(e){function t(t,n,r,a){var l=this;a=Object.assign({logLevel:u,RecordingSignaling:i,Timeout:o},a);var f=s(a.logLevel);l=e.call(this,"connected",v)||this;var p=a.RecordingSignaling,m=new a.Timeout((function(){l._disconnect(l._reconnectingError)}),a.sessionTimeout,!1);return Object.defineProperties(l,{_instanceId:{value:h++},_log:{value:a.log?a.log.createLog("default",l):new c("default",l,f,a.loggerName)},_mediaConnectionIsReconnecting:{writable:!0,value:!1},_options:{value:a},_reconnectingError:{value:null,writable:!0},_sessionTimeout:{value:m},dominantSpeakerSid:{enumerable:!0,value:null,writable:!0},localParticipant:{enumerable:!0,value:t},name:{enumerable:!0,value:r},participants:{enumerable:!0,value:new Map},recording:{enumerable:!0,value:new p},sid:{enumerable:!0,value:n}}),l.on("connectionStateChanged",(function(){"failed"!==l.connectionState||["disconnected","failed"].includes(l.iceConnectionState)||l._disconnect(new d)})),l.on("iceConnectionStateChanged",(function(){return g(l)})),l.on("signalingConnectionStateChanged",(function(){return g(l)})),setTimeout((function(){return g(l)})),l}return r(t,e),t.prototype._disconnect=function(e){return"disconnected"!==this.state&&(this.preempt("disconnected",null,[e]),!0)},t.prototype.toString=function(){return"[RoomSignaling #"+this._instanceId+": "+(this.localParticipant?this.localParticipant.sid:"null")+"]"},t.prototype.connectParticipant=function(e){var t=this;return"disconnected"!==e.state&&(!this.participants.has(e.sid)&&(this.participants.set(e.sid,e),e.on("stateChanged",(function n(r){"disconnected"===r&&(e.removeListener("stateChanged",n),t.participants.delete(e.sid),t.emit("participantDisconnected",e))})),this.emit("participantConnected",e),!0))},t.prototype.disconnect=function(){return this._disconnect()},t.prototype.setDominantSpeaker=function(e){this.dominantSpeakerSid=e,this.emit("dominantSpeakerChanged")},t}(a);function g(e){var t;"disconnected"!==e.state&&"disconnected"!==e.signalingConnectionState?("reconnecting"===e.signalingConnectionState?t=e.signalingConnectionState:"failed"===e.iceConnectionState?(e._mediaConnectionIsReconnecting=!0,t="reconnecting"):"new"===e.iceConnectionState||"checking"===e.iceConnectionState?t=e._mediaConnectionIsReconnecting?"reconnecting":"connected":(e._mediaConnectionIsReconnecting=!1,e._reconnectingError=null,e._sessionTimeout.clear(),t="connected"),t!==e.state&&("reconnecting"===t?(e._reconnectingError="reconnecting"===e.signalingConnectionState?new p:new f,e._sessionTimeout.start(),e.preempt(t,null,[e._reconnectingError])):e.preempt(t))):e._sessionTimeout.clear()}e.exports=m},68837:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r,i){var a=e.call(this)||this,o=null;return Object.defineProperties(a,{_error:{value:null,writable:!0},_isEnabled:{value:r,writable:!0},_priority:{value:i,writable:!0},_trackTransceiver:{value:null,writable:!0},_sid:{get:function(){return o},set:function(e){null===o&&(o=e)}},kind:{enumerable:!0,value:n},name:{enumerable:!0,value:t}}),a}return r(t,e),Object.defineProperty(t.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this._isEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"priority",{get:function(){return this._priority},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sid",{get:function(){return this._sid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackTransceiver",{get:function(){return this._trackTransceiver},enumerable:!1,configurable:!0}),t.prototype.disable=function(){return this.enable(!1)},t.prototype.enable=function(e){return e="boolean"!==typeof e||e,this.isEnabled!==e&&(this._isEnabled=e,this.emit("updated")),this},t.prototype.setTrackTransceiver=function(e){return e=e||null,this.trackTransceiver!==e&&(this._trackTransceiver=e,this.emit("updated")),this},t.prototype.setSid=function(e){return null===this.sid&&(this._sid=e,this.emit("updated")),this},t}(n(47465).EventEmitter);e.exports=i},49220:function(e,t,n){"use strict";var r=n(38156),i=n(52051),a=n(49609),o=n(1963),s=n(89752),u=s.SignalingConnectionDisconnectedError,c=s.SignalingIncomingMessageInvalidError,l=n(58242),f=l.flatMap,d=l.createRoomConnectEventPayload;e.exports=function(e,t,n,s,l,p){p=Object.assign({PeerConnectionManager:i,RoomV2:a,Transport:o},p);var h=l.video[0]&&!0===l.video[0].adaptiveSimulcast,v=p.PeerConnectionManager,m=p.RoomV2,g=p.Transport,y=p.iceServers,b=p.log,x=new v(s,l,p),k=f(n.tracks,(function(e){return[e.trackTransceiver]}));x.setTrackSenders(k);var w,_=new Error("Canceled"),S=new r((function(r,i,a){var o=p.automaticSubscription,s=p.bandwidthProfile,l=p.dominantSpeaker,f=p.environment,v=p.eventObserver,k=p.loggerName,S=p.logLevel,T=p.name,E=p.networkMonitor,C=p.networkQuality,O=p.notifyWarnings,A=p.realm,I=p.sdpSemantics,R=!!s,N=!!s,P=!!s&&("disabled"!==p.clientTrackSwitchOffControl||"disabled"!==p.contentPreferencesMode),M=Object.assign({adaptiveSimulcast:h,automaticSubscription:o,dominantSpeaker:l,environment:f,eventObserver:v,loggerName:k,logLevel:S,networkMonitor:E,networkQuality:C,notifyWarnings:O,iceServers:y,onIced:function(e){return a()?(i(_),Promise.reject(_)):(b.debug("Got ICE servers:",e),p.iceServers=e,x.setConfiguration(p),x.createAndOffer().then((function(){if(a())throw i(_),_;b.debug("createAndOffer() succeeded."),x.dequeue("description")})).catch((function(e){throw b.error("createAndOffer() failed:",e),i(e),e})))},realm:A,renderHints:P,sdpSemantics:I,trackPriority:R,trackSwitchOff:N},s?{bandwidthProfile:s}:{});w=new g(T,e,n,x,t,M);var D=d(p);v.emit("event",D),w.once("connected",(function(e){(b.debug("Transport connected:",e),a())?i(_):e.participant?r(new m(n,e,w,x,p)):i(new c)})),w.once("stateChanged",(function(e,t){"disconnected"===e?(w=null,i(t||new u)):b.debug("Transport state changed:",e)}))}),(function(){w&&(w.disconnect(),w=null)}));return S.catch((function(){w&&(w.disconnect(),w=null),x.close()})),S}},84253:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t,"active_speaker",n)||this;return Object.defineProperties(r,{_loudestParticipantSid:{value:null,writable:!0}}),r.on("ready",(function(e){e.on("message",(function(e){if("active_speaker"===e.type)r._setLoudestParticipantSid(e.participant)}))})),r}return r(t,e),Object.defineProperty(t.prototype,"loudestParticipantSid",{get:function(){return this._loudestParticipantSid},enumerable:!1,configurable:!0}),t.prototype._setLoudestParticipantSid=function(e){this.loudestParticipantSid!==e&&(this._loudestParticipantSid=e,this.emit("updated"))},t}(n(85663));e.exports=i},82034:function(e,t,n){"use strict";var r=n(93307),i=function(){function e(){Object.defineProperties(this,{_filter:{value:new r({getKey:function(e){return e.ufrag},isLessThanOrEqualTo:function(e,t){return e.revision<=t.revision}})},_ufrag:{writable:!0,value:null},ufrag:{enumerable:!0,get:function(){return this._ufrag}}})}return e.prototype.setUfrag=function(e){this._ufrag=e;var t=this._filter.toMap().get(e);return t?t.candidates:[]},e.prototype.update=function(e){e.candidates=e.candidates||[];var t=this._filter.toMap().get(e.ufrag),n=t?t.candidates:[];return this._filter.update(e)&&this._ufrag===e.ufrag?e.candidates.slice(n.length):[]},e}();e.exports=i},50474:function(e,t,n){"use strict";var r=n(24657),i=r.ICE_ACTIVITY_CHECK_PERIOD_MS,a=r.ICE_INACTIVITY_THRESHOLD_MS,o=function(){function e(e,t){t=Object.assign({activityCheckPeriodMs:i,inactivityThresholdMs:a},t),Object.defineProperties(this,{_activityCheckPeriodMs:{value:t.activityCheckPeriodMs},_inactivityThresholdMs:{value:t.inactivityThresholdMs},_lastActivity:{value:null,writable:!0},_peerConnection:{value:e},_timer:{value:null,writable:!0},_onIceConnectionStateChanged:{value:null,writable:!0}})}return e.prototype._getActivePairStat=function(e){return Array.from(e.values()).find((function(e){return"candidate-pair"===e.type&&e.nominated}))||{bytesReceived:0,timestamp:Math.round((new Date).getTime())}},e.prototype._getIceConnectionStats=function(){var e=this;return this._peerConnection.getStats().then((function(t){return e._getActivePairStat(t)})).catch((function(){return null}))},e.prototype._scheduleInactivityCallback=function(e){var t=this;e&&null===this._onIceConnectionStateChanged?(this._onIceConnectionStateChanged=function(){"disconnected"===t._peerConnection.iceConnectionState&&e()},this._peerConnection.addEventListener("iceconnectionstatechange",this._onIceConnectionStateChanged)):!e&&this._onIceConnectionStateChanged&&(this._peerConnection.removeEventListener("iceconnectionstatechange",this._onIceConnectionStateChanged),this._onIceConnectionStateChanged=null)},e.prototype.start=function(e){var t=this;this.stop(),this._timer=setInterval((function(){t._getIceConnectionStats().then((function(n){n&&(t._lastActivity&&t._lastActivity.bytesReceived===n.bytesReceived||(t._lastActivity=n,t._scheduleInactivityCallback(null)),n.timestamp-t._lastActivity.timestamp>=t._inactivityThresholdMs&&("disconnected"===t._peerConnection.iceConnectionState?e():null===t._onIceConnectionStateChanged&&t._scheduleInactivityCallback(e)))}))}),this._activityCheckPeriodMs)},e.prototype.stop=function(){this._scheduleInactivityCallback(null),null!==this._timer&&(clearInterval(this._timer),this._timer=null,this._lastActivity=null)},e}();e.exports=o},68179:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(49220),a=n(57175),o=function(e){function t(t,n){var r;return n=Object.assign({createCancelableRoomSignalingPromise:i},n),r=e.call(this)||this,Object.defineProperties(r,{_createCancelableRoomSignalingPromise:{value:n.createCancelableRoomSignalingPromise},_options:{value:n},_wsServer:{value:t}}),r}return r(t,e),t.prototype._connect=function(e,t,n,r,i){return i=Object.assign({},this._options,i),this._createCancelableRoomSignalingPromise.bind(null,t,this._wsServer,e,n,r,i)},t.prototype.createLocalParticipantSignaling=function(e,t){return new a(e,t)},t}(n(32472));e.exports=o},57175:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(23544),a=n(98803),o=n(24657).DEFAULT_LOG_LEVEL,s=n(41547),u=n(58242),c=u.buildLogLevels,l=u.isDeepEqual,f=function(e){function t(t,n,r){var i;r=Object.assign({logLevel:o,LocalTrackPublicationV2:a},r),i=e.call(this)||this;var u=c(r.logLevel);return Object.defineProperties(i,{_bandwidthProfile:{value:null,writable:!0},_bandwidthProfileRevision:{value:0,writable:!0},_encodingParameters:{value:t},_removeListeners:{value:new Map},_LocalTrackPublicationV2:{value:r.LocalTrackPublicationV2},_log:{value:r.log?r.log.createLog("default",i):new s("default",i,u,r.loggerName)},_publishedRevision:{writable:!0,value:0},_revision:{writable:!0,value:1},_signalingRegion:{value:null,writable:!0},audioProcessors:{value:[],writable:!0},bandwidthProfile:{enumerable:!0,get:function(){return this._bandwidthProfile}},bandwidthProfileRevision:{enumerable:!0,get:function(){return this._bandwidthProfileRevision}},networkQualityConfiguration:{enumerable:!0,value:n},revision:{enumerable:!0,get:function(){return this._revision}},signalingRegion:{enumerable:!0,get:function(){return this._signalingRegion}}}),i}return r(t,e),t.prototype.toString=function(){return"[LocalParticipantSignaling: "+this.sid+"]"},t.prototype.setSignalingRegion=function(e){this._signalingRegion||(this._signalingRegion=e)},t.prototype.setBandwidthProfile=function(e){l(this._bandwidthProfile,e)||(this._bandwidthProfile=JSON.parse(JSON.stringify(e)),this._bandwidthProfileRevision++,this.didUpdate())},t.prototype.setAudioProcessors=function(e){this.audioProcessors=e},t.prototype.getParameters=function(){return this._encodingParameters},t.prototype.setParameters=function(e){return this._encodingParameters.update(e),this},t.prototype.update=function(e){return this._publishedRevision>=e.revision||(this._publishedRevision=e.revision,e.tracks.forEach((function(e){var t=this.tracks.get(e.id);t&&t.update(e)}),this)),this},t.prototype.updateMediaStates=function(e){return e&&e.tracks?(Array.from(this.tracks.values()).forEach((function(t){var n=e.tracks[t.sid];n&&t.updateMediaStates(n)})),this):this},t.prototype._createLocalTrackPublicationSignaling=function(e,t,n,r){return new this._LocalTrackPublicationV2(e,t,n,r,{log:this._log})},t.prototype.addTrack=function(t,n,r,i){var a=this;e.prototype.addTrack.call(this,t,n,r,i);var o=this.getPublication(t),s=o.isEnabled,u=o.updatedPriority,c=function(){s===o.isEnabled&&u===o.updatedPriority||(a.didUpdate(),s=o.isEnabled,u=o.updatedPriority)};return o.on("updated",c),this._removeListener(o),this._removeListeners.set(o,(function(){return o.removeListener("updated",c)})),this.didUpdate(),this},t.prototype._removeListener=function(e){var t=this._removeListeners.get(e);t&&t()},t.prototype.getState=function(){return{revision:this.revision,tracks:Array.from(this.tracks.values()).map((function(e){return e.getState()}))}},t.prototype.didUpdate=function(){this._revision++,this.emit("updated")},t.prototype.removeTrack=function(t){var n=e.prototype.removeTrack.call(this,t);return n&&(t.removeClone(n.trackTransceiver),this._removeListener(n),this.didUpdate()),n},t.prototype.setNetworkQualityConfiguration=function(e){this.networkQualityConfiguration.update(e)},t.prototype.setPublisherHint=function(e,t){var n=Array.from(this.tracks.values()).find((function(t){return t.sid===e}));return n?n.trackTransceiver.setPublisherHint(t):(this._log.warn("track:"+e+" not found"),Promise.resolve("UNKNOWN_TRACK"))},t}(i);e.exports=f},98803:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(50402),a=n(94438),o=n(89752).createTwilioError,s=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r)||this;return Object.defineProperties(o,{_log:{value:a.log.createLog("default",o)},_mediaStates:{value:{recordings:null},writable:!0},_noiseCancellationVendor:{value:i}}),o}return r(t,e),t.prototype.getState=function(){var e={enabled:this.isEnabled,id:this.id,kind:this.kind,name:this.name,priority:this.updatedPriority};return this._noiseCancellationVendor&&(e.audio_processor=this._noiseCancellationVendor),e},t.prototype.toString=function(){return"[LocalTrackPublicationV2: "+this.sid+"]"},t.prototype.update=function(e){switch(e.state){case"ready":this.setSid(e.sid);break;case"failed":var t=e.error;this.publishFailed(o(t.code,t.message))}return this},t.prototype.updateMediaStates=function(e){if(!e||!e.recordings||this._mediaStates.recordings===e.recordings)return this;switch(this._mediaStates.recordings=e.recordings,this._mediaStates.recordings){case"OK":this._log.info("Warnings have cleared."),this.emit("warningsCleared");break;case"NO_MEDIA":this._log.warn("Recording media lost."),this.emit("warning",a.recordingMediaLost);break;default:this._log.warn("Unknown media state detected: "+this._mediaStates.recordings)}return this},t}(i);e.exports=s},85663:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(47465),a=0,o=function(e){function t(t,n,r){var i=e.call(this)||this;return Object.defineProperties(i,{_instanceId:{value:a++},channel:{value:n},_log:{value:r.log.createLog("default",i)},_getReceiver:{value:t},_receiverPromise:{value:null,writable:!0},_transport:{value:null,writable:!0}}),i}return r(t,e),Object.defineProperty(t.prototype,"isSetup",{get:function(){return!!this._receiverPromise},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[MediaSignaling #"+this._instanceId+":"+this.channel+"]"},t.prototype.setup=function(e){var t=this;this._teardown(),this._log.info("setting up msp transport for id:",e);var n=this._getReceiver(e).then((function(e){if("data"!==e.kind&&t._log.error("Expected a DataTrackReceiver"),t._receiverPromise===n){try{t._transport=e.toDataTransport(),t.emit("ready",t._transport)}catch(r){t._log.error("Failed to toDataTransport: "+r.message)}e.once("close",(function(){return t._teardown()}))}}));this._receiverPromise=n},t.prototype._teardown=function(){this._transport&&(this._log.info("Tearing down"),this._transport=null,this._receiverPromise=null,this.emit("teardown"))},t}(i);e.exports=o},11330:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=n(47465),o=n(37809),s=function(e){function t(t,n){var r=e.call(this)||this;return Object.defineProperties(r,{_factories:{value:new WeakMap},_manager:{value:t},_signaling:{value:n}}),n.on("updated",(function(){return r.emit("updated")})),r}return r(t,e),Object.defineProperty(t.prototype,"level",{get:function(){return this._signaling.level},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"levels",{get:function(){return this._signaling.levels},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteLevels",{get:function(){return this._signaling.remoteLevels},enumerable:!1,configurable:!0}),t.prototype.start=function(){var e=this;this.stop();var t=setTimeout((function(){e._timeout===t&&function(e){var t=(e._manager._peerConnections?Array.from(e._manager._peerConnections.values()):[]).map((function(e){return e._peerConnection})).filter((function(e){return"closed"!==e.signalingState})).map((function(t){if(e._factories.has(t))return e._factories.get(t);var n=new o(t);return e._factories.set(t,n),n})).map((function(e){return e.next().catch((function(){return null}))}));return Promise.all(t).then((function(e){return e.filter((function(e){return e})).map((function(e){return e.summarize()}))}))}(e).then((function(n){if(e._timeout===t){if(n.length){var r=i(n,1)[0];e._signaling.put(r)}e.start()}}))}),200);this._timeout=t},t.prototype.stop=function(){clearTimeout(this._timeout),this._timeout=null},t}(a);e.exports=s},4721:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(85663),a=n(14477),o=n(91149),s=function(e){function t(t,n,r){var i=e.call(this,t,"network_quality",r)||this;return Object.defineProperties(i,{_level:{value:null,writable:!0},_levels:{value:null,writable:!0},_remoteLevels:{value:new Map,writable:!0},_networkQualityInputs:{value:new a},_resendTimer:{value:new o((function(){i._resendTimer.setDelay(1.5*i._resendTimer.delay),i._sendNetworkQualityInputs()}),5e3,!1)},_networkQualityReportLevels:{get:function(){return{reportLevel:n.local,remoteReportLevel:n.remote}}}}),i.on("ready",(function(e){e.on("message",(function(e){if(i._log.debug("Incoming: ",e),"network_quality"===e.type)i._handleNetworkQualityMessage(e)}))})),i._sendNetworkQualityInputs(),i}return r(t,e),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"levels",{get:function(){return this._levels},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteLevels",{get:function(){return this._remoteLevels},enumerable:!1,configurable:!0}),t.prototype._handleNetworkQualityMessage=function(e){var t=this,n=!1,r=null,i=e?e.local:null;"number"===typeof i?(r=i,this._levels=null):"object"===typeof i&&i&&(this._levels=i,r="number"===typeof i.level?i.level:Math.min(i.audio.send,i.audio.recv,i.video.send,i.video.recv)),null!==r&&this.level!==r&&(this._level=r,n=!0),this._remoteLevels=e&&e.remotes?e.remotes.reduce((function(e,r){return(t._remoteLevels.get(r.sid)||{}).level!==r.level&&(n=!0),e.set(r.sid,r)}),new Map):this._remoteLevels,n&&this.emit("updated"),this._resendTimer.setDelay(5e3),this._resendTimer.isSet&&setTimeout((function(){return t._sendNetworkQualityInputs()}),1e3)},t.prototype._sendNetworkQualityInputs=function(){var e=this;return this._resendTimer.clear(),this._networkQualityInputs.take().then((function(t){e._transport&&e._transport.publish(function(e,t){return Object.assign({type:"network_quality"},e,t)}(t,e._networkQualityReportLevels))})).finally((function(){e._resendTimer.start()}))},t.prototype.put=function(e){this._networkQualityInputs.put(e)},t}(i);e.exports=s},14014:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(26937),s=n(25409),u=s.RTCIceCandidate,c=s.RTCPeerConnection,l=s.RTCSessionDescription,f=s.getStats,d=n(73348),p=n(24657),h=p.DEFAULT_ICE_GATHERING_TIMEOUT_MS,v=p.DEFAULT_LOG_LEVEL,m=p.DEFAULT_SESSION_TIMEOUT_SEC,g=p.iceRestartBackoffConfig,y=n(2283),b=y.addOrRewriteNewTrackIds,x=y.addOrRewriteTrackIds,k=y.createCodecMapForMediaSection,w=y.disableRtx,_=y.enableDtxForOpus,S=y.filterLocalCodecs,T=y.getMediaSections,E=y.removeSSRCAttributes,C=y.revertSimulcast,O=y.setCodecPreferences,A=y.setSimulcast,I=n(91149),R=n(89752),N=R.MediaClientLocalDescFailedError,P=R.MediaClientRemoteDescFailedError,M=n(58242),D=M.buildLogLevels,L=M.getPlatform,j=M.isChromeScreenShareTrack,F=M.oncePerTick,Z=M.defer,B=n(82034),U=n(50474),V=n(34103),z=n(19811),W=n(68021),H=n(41547),G=n(51173),q=n(93202),K=d.guessBrowser(),Y=L(),X=/android/.test(Y),Q="chrome"===K,J="firefox"===K,$="safari"===K,ee=0,te={open:["closed","updating"],updating:["closed","open"],closed:[]},ne=function(e){function t(t,n,r,i){var a=e.call(this,"open",te)||this,s=oe(i=Object.assign({enableDscp:!1,dummyAudioMediaStreamTrack:null,isChromeScreenShareTrack:j,iceServers:[],logLevel:v,offerOptions:{},revertSimulcast:C,sessionTimeout:1e3*m,setCodecPreferences:O,setSimulcast:A,Backoff:o,IceConnectionMonitor:U,RTCIceCandidate:u,RTCPeerConnection:c,RTCSessionDescription:l,Timeout:I},i)),f=D(i.logLevel),d=i.RTCPeerConnection;!0===i.enableDscp&&(i.chromeSpecificConstraints=i.chromeSpecificConstraints||{},i.chromeSpecificConstraints.optional=i.chromeSpecificConstraints.optional||[],i.chromeSpecificConstraints.optional.push({googDscp:!0}));var p=i.log?i.log.createLog("webrtc",a):new H("webrtc",a,f,i.loggerName),y=new d(s,i.chromeSpecificConstraints);i.dummyAudioMediaStreamTrack&&y.addTrack(i.dummyAudioMediaStreamTrack),Object.defineProperties(a,{_appliedTrackIdsToAttributes:{value:new Map,writable:!0},_dataChannels:{value:new Map},_dataTrackReceivers:{value:new Set},_descriptionRevision:{writable:!0,value:0},_didGenerateLocalCandidates:{writable:!0,value:!1},_enableDscp:{value:i.enableDscp},_encodingParameters:{value:n},_isChromeScreenShareTrack:{value:i.isChromeScreenShareTrack},_iceGatheringFailed:{value:!1,writable:!0},_iceGatheringTimeout:{value:new i.Timeout((function(){return a._handleIceGatheringTimeout()}),h,!1)},_iceRestartBackoff:{value:new i.Backoff(g)},_instanceId:{value:++ee},_isIceConnectionInactive:{writable:!0,value:!1},_isIceLite:{writable:!0,value:!1},_isIceRestartBackoffInProgress:{writable:!0,value:!1},_isRestartingIce:{writable:!0,value:!1},_lastIceConnectionState:{writable:!0,value:null},_lastStableDescriptionRevision:{writable:!0,value:0},_localCandidates:{writable:!0,value:[]},_localCodecs:{value:new Set},_localCandidatesRevision:{writable:!0,value:1},_localDescriptionWithoutSimulcast:{writable:!0,value:null},_localDescription:{writable:!0,value:null},_localUfrag:{writable:!0,value:null},_log:{value:p},_eventObserver:{value:i.eventObserver},_remoteCodecMaps:{value:new Map},_rtpSenders:{value:new Map},_rtpNewSenders:{value:new Set},_iceConnectionMonitor:{value:new i.IceConnectionMonitor(y)},_mediaTrackReceivers:{value:new Set},_needsAnswer:{writable:!0,value:!1},_negotiationRole:{writable:!0,value:null},_offerOptions:{writable:!0,value:i.offerOptions},_onEncodingParametersChanged:{value:F((function(){a._needsAnswer||ce(a)}))},_peerConnection:{value:y},_preferredAudioCodecs:{value:r.audio},_preferredVideoCodecs:{value:r.video},_shouldApplyDtx:{value:r.audio.every((function(e){return"opus"!==e.codec}))||r.audio.some((function(e){var t=e.codec,n=e.dtx;return"opus"===t&&n}))},_queuedDescription:{writable:!0,value:null},_iceReconnectTimeout:{value:new i.Timeout((function(){p.debug("ICE reconnect timed out"),a.close()}),i.sessionTimeout,!1)},_recycledTransceivers:{value:{audio:[],video:[]}},_replaceTrackPromises:{value:new Map},_remoteCandidates:{writable:!0,value:new B},_setCodecPreferences:{value:J&&X&&r.video[0]&&"h264"!==r.video[0].codec.toLowerCase()?function(e){return e}:i.setCodecPreferences},_setSimulcast:{value:i.setSimulcast},_revertSimulcast:{value:i.revertSimulcast},_RTCIceCandidate:{value:i.RTCIceCandidate},_RTCPeerConnection:{value:i.RTCPeerConnection},_RTCSessionDescription:{value:i.RTCSessionDescription},_shouldOffer:{writable:!0,value:!1},_shouldRestartIce:{writable:!0,value:!1},_trackIdsToAttributes:{value:new Map,writable:!0},_trackMatcher:{writable:!0,value:null},_mediaTrackSenderToPublisherHints:{value:new Map},id:{enumerable:!0,value:t}}),n.on("changed",a._onEncodingParametersChanged),y.addEventListener("connectionstatechange",a._handleConnectionStateChange.bind(a)),y.addEventListener("datachannel",a._handleDataChannelEvent.bind(a)),y.addEventListener("icecandidate",a._handleIceCandidateEvent.bind(a)),y.addEventListener("iceconnectionstatechange",a._handleIceConnectionStateChange.bind(a)),y.addEventListener("icegatheringstatechange",a._handleIceGatheringStateChange.bind(a)),y.addEventListener("signalingstatechange",a._handleSignalingStateChange.bind(a)),y.addEventListener("track",a._handleTrackEvent.bind(a));var b=a;return a.on("stateChanged",(function e(t){"closed"===t&&(b.removeListener("stateChanged",e),b._dataChannels.forEach((function(e,t){b.removeDataTrackSender(t)})))})),a}return r(t,e),t.prototype.toString=function(){return"[PeerConnectionV2 #"+this._instanceId+": "+this.id+"]"},t.prototype.setEffectiveAdaptiveSimulcast=function(e){this._log.debug("Setting setEffectiveAdaptiveSimulcast: ",e),this._preferredVideoCodecs.forEach((function(t){"adaptiveSimulcast"in t&&(t.adaptiveSimulcast=e)}))},Object.defineProperty(t.prototype,"_shouldApplySimulcast",{get:function(){return!(!Q&&!$)&&this._preferredVideoCodecs.some((function(e){return"vp8"===e.codec.toLowerCase()&&e.simulcast&&!1!==e.adaptiveSimulcast}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connectionState",{get:function(){return"failed"===this.iceConnectionState?"failed":this._peerConnection.connectionState||this.iceConnectionState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iceConnectionState",{get:function(){return this._isIceConnectionInactive&&"disconnected"===this._peerConnection.iceConnectionState||this._iceGatheringFailed?"failed":this._peerConnection.iceConnectionState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isApplicationSectionNegotiated",{get:function(){return"closed"===this._peerConnection.signalingState||!!this._peerConnection.localDescription&&T(this._peerConnection.localDescription.sdp,"application").length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_isAdaptiveSimulcastEnabled",{get:function(){var e=this._preferredVideoCodecs.find((function(e){return"adaptiveSimulcast"in e}));return e&&!0===e.adaptiveSimulcast},enumerable:!1,configurable:!0}),t.prototype._maybeUpdateEncodings=function(e,t,n){if(void 0===n&&(n=!1),"video"!==e.kind||"ended"===e.readyState)return!1;var r=e.getSettings(),i=r.height,a=r.width;if("number"!==typeof i||"number"!==typeof a)return!1;var o=d.guessBrowser();return!!("safari"===o||"chrome"===o&&this._isAdaptiveSimulcastEnabled)&&(this._updateEncodings(e,t,n),!0)},t.prototype._updateEncodings=function(e,t,n){if(this._isChromeScreenShareTrack(e)){var r=[{scaleResolutionDownBy:1},{scaleResolutionDownBy:1}];t.forEach((function(e,t){var i=r[t];i?(e.scaleResolutionDownBy=i.scaleResolutionDownBy,n&&delete e.active):(e.active=!1,delete e.scaleResolutionDownBy)}))}else{var i=e.getSettings(),a=i.width*i.height,o=[{pixels:518400,maxActiveLayers:3},{pixels:129600,maxActiveLayers:2},{pixels:0,maxActiveLayers:1}].find((function(e){return a>=e.pixels})),s=Math.min(t.length,o.maxActiveLayers);t.forEach((function(e,t){t<s?(e.scaleResolutionDownBy=1<<s-t-1,n&&(e.active=!0)):(e.active=!1,delete e.scaleResolutionDownBy)}))}this._log.debug("_updateEncodings:",t.map((function(e,t){return"["+t+": "+e.active+", "+(e.scaleResolutionDownBy||0)+"]"})).join(", "))},t.prototype._addIceCandidate=function(e){var t=this;return Promise.resolve().then((function(){return e=new t._RTCIceCandidate(e),t._peerConnection.addIceCandidate(e)})).catch((function(n){t._log.warn("Failed to add RTCIceCandidate "+(e?'"'+e.candidate+'"':"null")+": "+n.message)}))},t.prototype._addIceCandidates=function(e){return Promise.all(e.map(this._addIceCandidate,this)).then((function(){}))},t.prototype._addOrUpdateTransceiver=function(e){var t=this,n=function(e,t){var n={audio:e._preferredAudioCodecs.map((function(e){return e.codec.toLowerCase()})),video:e._preferredVideoCodecs.map((function(e){return e.codec.toLowerCase()}))}[t],r=e._recycledTransceivers[t],i=n.find((function(t){return e._localCodecs.has(t)}));if(!i)return r.shift();var a=r.find((function(t){var n=e._remoteCodecMaps.get(t.mid);return n&&n.has(i)}));a&&r.splice(r.indexOf(a),1);return a}(this,e.kind);if(n&&n.sender){var r=n.sender.track?n.sender.track.id:null;return r&&this._log.warn("Reusing transceiver: "+n.mid+"] "+r+" => "+e.id),this._replaceTrackPromises.set(n,n.sender.replaceTrack(e).then((function(){n.direction="sendrecv"}),(function(){})).finally((function(){t._replaceTrackPromises.delete(n)}))),n}return this._peerConnection.addTransceiver(e)},t.prototype._checkIceBox=function(e){var t=ae(e);if(!t)return Promise.resolve();var n=this._remoteCandidates.setUfrag(t);return this._addIceCandidates(n)},t.prototype._answer=function(e){var t=this;return Promise.resolve().then((function(){return t._negotiationRole||(t._negotiationRole="answerer"),t._setRemoteDescription(e)})).catch((function(){throw new P})).then((function(){return t._peerConnection.createAnswer()})).then((function(n){n=J?new t._RTCSessionDescription({sdp:w(n.sdp),type:n.type}):q(n);var r=E(n.sdp,["mslabel","label"]);if(t._shouldApplySimulcast){var i=r;r=t._setSimulcast(i,t._trackIdsToAttributes),r=t._revertSimulcast(r,i,e.sdp)}return r=r.replace(/42e015/g,"42e01f"),t._setLocalDescription({type:n.type,sdp:r})})).then((function(){return t._checkIceBox(e)})).then((function(){return t._queuedDescription&&t._updateDescription(t._queuedDescription)})).then((function(){return t._queuedDescription=null,t._maybeReoffer(t._peerConnection.localDescription)})).catch((function(e){var n=e instanceof P?e:new N;throw t._publishMediaWarning({message:"Failed to _answer",code:n.code,error:e}),n}))},t.prototype._close=function(){return this._iceConnectionMonitor.stop(),"closed"!==this._peerConnection.signalingState&&(this._peerConnection.close(),this.preempt("closed"),this._encodingParameters.removeListener("changed",this._onEncodingParametersChanged),!0)},t.prototype._handleConnectionStateChange=function(){this.emit("connectionStateChanged")},t.prototype._handleDataChannelEvent=function(e){var t=this,n=e.channel,r=new V(n);this._dataTrackReceivers.add(r),n.addEventListener("close",(function(){t._dataTrackReceivers.delete(r)})),this.emit("trackAdded",r)},t.prototype._handleGlare=function(e){var t=this;return this._log.debug("Glare detected; rolling back"),this._isRestartingIce&&(this._log.debug("An ICE restart was in progress; we'll need to restart ICE again after rolling back"),this._isRestartingIce=!1,this._shouldRestartIce=!0),Promise.resolve().then((function(){return t._trackIdsToAttributes=new Map(t._appliedTrackIdsToAttributes),t._setLocalDescription({type:"rollback"})})).then((function(){return t._needsAnswer=!1,t._answer(e)})).then((function(e){return e?Promise.resolve():t._offer()}))},t.prototype._publishMediaWarning=function(e){var t=e.message,n=e.code,r=e.error,i=e.sdp;this._eventObserver.emit("event",{level:"warning",name:"error",group:"media",payload:{message:t,code:n,context:JSON.stringify({error:r.message,sdp:i})}})},t.prototype._handleIceCandidateEvent=function(e){e.candidate&&(this._log.debug("Clearing ICE gathering timeout"),this._didGenerateLocalCandidates=!0,this._iceGatheringTimeout.clear(),this._localCandidates.push(e.candidate));var t={ice:{candidates:this._isIceLite?[]:this._localCandidates.slice(),ufrag:this._localUfrag},id:this.id};e.candidate||(t.ice.complete=!0),this._isIceLite&&e.candidate||(t.ice.revision=this._localCandidatesRevision++,this.emit("candidates",t))},t.prototype._handleIceConnectionStateChange=function(){var e=this,t=this._peerConnection.iceConnectionState,n=["connected","completed"].includes(t),r=this._log;r.debug('ICE connection state is "'+t+'"'),n&&(this._iceReconnectTimeout.clear(),this._iceRestartBackoff.reset()),"failed"===this._lastIceConnectionState||"failed"!==t||this._shouldRestartIce||this._isRestartingIce?["disconnected","failed"].includes(this._lastIceConnectionState)&&n&&r.debug("ICE reconnected"):(r.warn("ICE failed"),this._initiateIceRestartBackoff()),"connected"===t?(this._isIceConnectionInactive=!1,this._iceConnectionMonitor.start((function(){e._iceConnectionMonitor.stop(),e._shouldRestartIce||e._isRestartingIce||(r.warn("ICE Connection Monitor detected inactivity"),e._isIceConnectionInactive=!0,e._initiateIceRestartBackoff(),e.emit("iceConnectionStateChanged"),e.emit("connectionStateChanged"))}))):["disconnected","completed"].includes(t)||(this._iceConnectionMonitor.stop(),this._isIceConnectionInactive=!1),this._lastIceConnectionState=t,this.emit("iceConnectionStateChanged")},t.prototype._handleIceGatheringTimeout=function(){this._log.warn("ICE failed to gather any local candidates"),this._iceGatheringFailed=!0,this._initiateIceRestartBackoff(),this.emit("iceConnectionStateChanged"),this.emit("connectionStateChanged")},t.prototype._handleIceGatheringStateChange=function(){var e=this._peerConnection.iceGatheringState,t=this._log;t.debug('ICE gathering state is "'+e+'"');var n=this._iceGatheringTimeout,r=n.delay,i=n.isSet;"gathering"!==e||this._didGenerateLocalCandidates||i||(t.debug("Starting ICE gathering timeout: "+r),this._iceGatheringFailed=!1,this._iceGatheringTimeout.start())},t.prototype._handleSignalingStateChange=function(){"stable"===this._peerConnection.signalingState&&(this._appliedTrackIdsToAttributes=new Map(this._trackIdsToAttributes))},t.prototype._handleTrackEvent=function(e){var t=this,n=this._peerConnection.remoteDescription?this._peerConnection.remoteDescription.sdp:null;this._trackMatcher=this._trackMatcher||new G,this._trackMatcher.update(n);var r=e.track,i=this._trackMatcher.match(e)||r.id,a=new z(i,r);this._mediaTrackReceivers.forEach((function(e){e.track.id===a.track.id&&t._mediaTrackReceivers.delete(e)})),this._mediaTrackReceivers.add(a),r.addEventListener("ended",(function(){return t._mediaTrackReceivers.delete(a)})),this.emit("trackAdded",a)},t.prototype._initiateIceRestart=function(){if("closed"!==this._peerConnection.signalingState){var e=this._log;e.warn("Attempting to restart ICE"),this._didGenerateLocalCandidates=!1,this._isIceRestartBackoffInProgress=!1,this._shouldRestartIce=!0;var t=this._iceReconnectTimeout,n=t.delay;t.isSet||(e.debug("Starting ICE reconnect timeout: "+n),this._iceReconnectTimeout.start()),this.offer().catch((function(t){e.error("offer failed in _initiateIceRestart with: "+t.message)}))}},t.prototype._initiateIceRestartBackoff=function(){var e=this;"closed"===this._peerConnection.signalingState||this._isIceRestartBackoffInProgress||(this._log.warn("An ICE restart has been scheduled"),this._isIceRestartBackoffInProgress=!0,this._iceRestartBackoff.backoff((function(){return e._initiateIceRestart()})))},t.prototype._maybeReoffer=function(e){var t=this._shouldOffer;if(e&&e.sdp){var n=this._peerConnection.getSenders().filter((function(e){return e.track}));t=["audio","video"].reduce((function(t,r){var i=T(e.sdp,r,"(sendrecv|sendonly)"),a=n.filter(se.bind(null,r));return t||i.length<a.length}),t);var r=this._dataChannels.size>0,i=T(e.sdp,"application").length>0;t=t||r&&!i}return(t?this._offer():Promise.resolve()).then((function(){return t}))},t.prototype._offer=function(){var e=this,t=Object.assign({},this._offerOptions);return this._needsAnswer=!0,this._shouldRestartIce&&(this._shouldRestartIce=!1,this._isRestartingIce=!0,t.iceRestart=!0),Promise.all(this._replaceTrackPromises.values()).then((function(){return e._peerConnection.createOffer(t)})).catch((function(t){var n=new N;throw e._publishMediaWarning({message:"Failed to create offer",code:n.code,error:t}),n})).then((function(t){t=J?new e._RTCSessionDescription({sdp:w(t.sdp),type:t.type}):q(t);var n=E(t.sdp,["mslabel","label"]);n=e._peerConnection.remoteDescription?S(n,e._peerConnection.remoteDescription.sdp):n;var r=e._setCodecPreferences(n,e._preferredAudioCodecs,e._preferredVideoCodecs);return e._shouldOffer=!1,e._negotiationRole||(e._negotiationRole="offerer"),e._shouldApplySimulcast&&(e._localDescriptionWithoutSimulcast={type:"offer",sdp:r},r=e._setSimulcast(r,e._trackIdsToAttributes)),e._setLocalDescription({type:"offer",sdp:r})}))},t.prototype._getMediaTrackSenderId=function(e){var t=Array.from(this._rtpSenders.keys()).find((function(t){return t.track.id===e}));return t?t.id:e},t.prototype._addOrRewriteLocalTrackIds=function(e){var t=this,n=this._peerConnection.getTransceivers().filter((function(e){var t=e.sender;return!e.stopped&&t&&t.track})),r=n.filter((function(e){return e.mid})),i=new Map(r.map((function(e){var n=e.mid,r=e.sender;return[n,t._getMediaTrackSenderId(r.track.id)]}))),a=x(e.sdp,i),o=n.filter((function(e){return!e.mid})),s=new Map(["audio","video"].map((function(e){return[e,o.filter((function(t){return t.sender.track.kind===e})).map((function(e){var n=e.sender;return t._getMediaTrackSenderId(n.track.id)}))]}))),u=b(a,i,s);return new this._RTCSessionDescription({sdp:u,type:e.type})},t.prototype._rollbackAndApplyOffer=function(e){var t=this;return this._setLocalDescription({type:"rollback"}).then((function(){return t._setLocalDescription(e)}))},t.prototype._setLocalDescription=function(e){var t=this;return"rollback"!==e.type&&this._shouldApplyDtx&&(e=new this._RTCSessionDescription({sdp:_(e.sdp),type:e.type})),this._peerConnection.setLocalDescription(e).catch((function(n){t._log.warn('Calling setLocalDescription with an RTCSessionDescription of type "'+e.type+'" failed with the error "'+n.message+'".',n);var r=new N,i={message:'Calling setLocalDescription with an RTCSessionDescription of type "'+e.type+'" failed',code:r.code,error:n};throw e.sdp&&(t._log.warn("The SDP was "+e.sdp),i.sdp=e.sdp),t._publishMediaWarning(i),r})).then((function(){"rollback"!==e.type&&(t._localDescription=t._addOrRewriteLocalTrackIds(e),t._shouldApplyDtx&&(t._localDescription=new t._RTCSessionDescription({sdp:_(t._localDescription.sdp,[]),type:t._localDescription.type})),t._localCandidates=[],"offer"===e.type?t._descriptionRevision++:"answer"===e.type&&(t._lastStableDescriptionRevision=t._descriptionRevision,ue(t)),t._localUfrag=ae(e),t.emit("description",t.getState()))}))},t.prototype._setRemoteDescription=function(e){var t=this;return e.sdp&&(e.sdp=this._setCodecPreferences(e.sdp,this._preferredAudioCodecs,this._preferredVideoCodecs),this._shouldApplyDtx?e.sdp=_(e.sdp):e.sdp=_(e.sdp,[]),J&&(e.sdp=e.sdp.replace(/a=msid:[^ ]+ /g,"a=msid:- ")),this._peerConnection.remoteDescription||(this._isIceLite=/a=ice-lite/.test(e.sdp))),e=new this._RTCSessionDescription(e),Promise.resolve().then((function(){if("answer"===e.type&&t._localDescriptionWithoutSimulcast){var n=t._preferredVideoCodecs.find((function(e){return"adaptiveSimulcast"in e})),r=!!n&&!1===n.adaptiveSimulcast,i=t._revertSimulcast(t._localDescription.sdp,t._localDescriptionWithoutSimulcast.sdp,e.sdp,r);if(t._localDescriptionWithoutSimulcast=null,i!==t._localDescription.sdp)return t._rollbackAndApplyOffer({type:t._localDescription.type,sdp:i})}})).then((function(){return t._peerConnection.setRemoteDescription(e)})).then((function(){"answer"===e.type&&(t._isRestartingIce&&(t._log.debug("An ICE restart was in-progress and is now completed"),t._isRestartingIce=!1),ue(t))}),(function(n){throw t._log.warn('Calling setRemoteDescription with an RTCSessionDescription of type "'+e.type+'" failed with the error "'+n.message+'".',n),e.sdp&&t._log.warn("The SDP was "+e.sdp),n}))},t.prototype._updateDescription=function(e){var t=this;switch(e.type){case"answer":case"pranswer":if(e.revision!==this._descriptionRevision||"have-local-offer"!==this._peerConnection.signalingState)return Promise.resolve();this._descriptionRevision=e.revision;break;case"close":return this._close();case"create-offer":return e.revision<=this._lastStableDescriptionRevision?Promise.resolve():this._needsAnswer?(this._queuedDescription=e,Promise.resolve()):(this._descriptionRevision=e.revision,this._offer());case"offer":return e.revision<=this._lastStableDescriptionRevision||"closed"===this._peerConnection.signalingState?Promise.resolve():"have-local-offer"===this._peerConnection.signalingState?this._needsAnswer&&0===this._lastStableDescriptionRevision?(this._queuedDescription=e,Promise.resolve()):(this._descriptionRevision=e.revision,this._handleGlare(e)):(this._descriptionRevision=e.revision,this._answer(e).then((function(){})))}var n=e.revision;return Promise.resolve().then((function(){return t._setRemoteDescription(e)})).catch((function(n){var r=new P;throw t._publishMediaWarning({message:'Calling setRemoteDescription with an RTCSessionDescription of type "'+e.type+'" failed',code:r.code,error:n,sdp:e.sdp}),r})).then((function(){return t._lastStableDescriptionRevision=n,t._needsAnswer=!1,t._checkIceBox(e)})).then((function(){return t._queuedDescription&&t._updateDescription(t._queuedDescription)})).then((function(){return t._queuedDescription=null,t._maybeReoffer(t._peerConnection.localDescription).then((function(){}))}))},t.prototype._updateIce=function(e){var t=this._remoteCandidates.update(e);return this._addIceCandidates(t)},t.prototype.addDataTrackSender=function(e){if(!this._dataChannels.has(e))try{var t={ordered:e.ordered};null!==e.maxPacketLifeTime&&(t.maxPacketLifeTime=e.maxPacketLifeTime),null!==e.maxRetransmits&&(t.maxRetransmits=e.maxRetransmits);var n=this._peerConnection.createDataChannel(e.id,t);e.addDataChannel(n),this._dataChannels.set(e,n)}catch(r){this._log.warn('Error creating an RTCDataChannel for DataTrack "'+e.id+'": '+r.message)}},t.prototype._handleQueuedPublisherHints=function(){var e=this;"stable"===this._peerConnection.signalingState&&this._mediaTrackSenderToPublisherHints.forEach((function(t,n){var r=t.deferred,i=t.encodings;e._mediaTrackSenderToPublisherHints.delete(n),e._setPublisherHint(n,i).then((function(e){return r.resolve(e)})).catch((function(e){return r.reject(e)}))}))},t.prototype._setPublisherHint=function(e,t){var n=this;if(J)return Promise.resolve("COULD_NOT_APPLY_HINT");this._mediaTrackSenderToPublisherHints.has(e)&&(this._mediaTrackSenderToPublisherHints.get(e).deferred.resolve("REQUEST_SKIPPED"),this._mediaTrackSenderToPublisherHints.delete(e));var r=this._rtpSenders.get(e);if(!r)return this._log.warn("Could not apply publisher hint because RTCRtpSender was not found"),Promise.resolve("UNKNOWN_TRACK");if("closed"===this._peerConnection.signalingState)return this._log.warn('Could not apply publisher hint because signalingState was "closed"'),Promise.resolve("COULD_NOT_APPLY_HINT");if("stable"!==this._peerConnection.signalingState){this._log.debug("Queuing up publisher hint because signalingState:",this._peerConnection.signalingState);var i=Z();return this._mediaTrackSenderToPublisherHints.set(e,{deferred:i,encodings:t}),i.promise}var a=r.getParameters();return null!==t&&t.forEach((function(e){var t=e.enabled,r=e.layer_index;a.encodings.length>r?(n._log.debug("layer:"+r+", active:"+a.encodings[r].active+" => "+t),a.encodings[r].active=t):n._log.warn("invalid layer:"+r+", active:"+t)})),this._maybeUpdateEncodings(r.track,a.encodings,null===t),r.setParameters(a).then((function(){return"OK"})).catch((function(e){return n._log.error("Failed to apply publisher hints:",e),"COULD_NOT_APPLY_HINT"}))},t.prototype.addMediaTrackSender=function(e){var t=this;if("closed"!==this._peerConnection.signalingState&&!this._rtpSenders.has(e)){var n=this._addOrUpdateTransceiver(e.track).sender;e.addSender(n,(function(n){return t._setPublisherHint(e,n)})),this._rtpNewSenders.add(n),this._rtpSenders.set(e,n)}},t.prototype.close=function(){this._close()&&(this._descriptionRevision++,this._localDescription={type:"close"},this.emit("description",this.getState()))},t.prototype.getTrackReceivers=function(){return Array.from(this._dataTrackReceivers).concat(Array.from(this._mediaTrackReceivers))},t.prototype.getState=function(){if(!this._localDescription)return null;var e="answer"===this._localDescription.type?this._lastStableDescriptionRevision:this._descriptionRevision,t={type:this._localDescription.type,revision:e};return this._localDescription.sdp&&(t.sdp=this._localDescription.sdp),{description:t,id:this.id}},t.prototype.offer=function(){var e=this;return this._needsAnswer||this._isRestartingIce?(this._shouldOffer=!0,Promise.resolve()):this.bracket("offering",(function(t){return e.transition("updating",t),(e._needsAnswer||e._isRestartingIce?Promise.resolve():e._offer()).then((function(){e.tryTransition("open",t)}),(function(n){throw e.tryTransition("open",t),n}))}))},t.prototype.removeDataTrackSender=function(e){var t=this._dataChannels.get(e);t&&(e.removeDataChannel(t),this._dataChannels.delete(e),t.close())},t.prototype.removeMediaTrackSender=function(e){var t=this._rtpSenders.get(e);if(t){if("closed"!==this._peerConnection.signalingState&&this._peerConnection.removeTrack(t),e.removeSender(t),this._mediaTrackSenderToPublisherHints.has(e))this._mediaTrackSenderToPublisherHints.get(e).deferred.resolve("UNKNOWN_TRACK"),this._mediaTrackSenderToPublisherHints.delete(e);this._rtpNewSenders.delete(t),this._rtpSenders.delete(e)}},t.prototype.setConfiguration=function(e){"function"===typeof this._peerConnection.setConfiguration&&this._peerConnection.setConfiguration(oe(e))},t.prototype.setIceReconnectTimeout=function(e){return this._iceReconnectTimeout.setDelay(e),this._log.debug("Updated ICE reconnection timeout period:",this._iceReconnectTimeout.delay),this},t.prototype.update=function(e){var t=this;return this.bracket("updating",(function(n){if("closed"===t.state)return Promise.resolve();t.transition("updating",n);var r=[];return e.ice&&r.push(t._updateIce(e.ice)),e.description&&r.push(t._updateDescription(e.description)),Promise.all(r).then((function(){t.tryTransition("open",n)}),(function(e){throw t.tryTransition("open",n),e}))}))},t.prototype.getStats=function(){var e=this;return f(this._peerConnection).then((function(t){return function(e,t){return Object.assign(t,{remoteAudioTrackStats:t.remoteAudioTrackStats.map((function(t){return ie(e,t)})),remoteVideoTrackStats:t.remoteVideoTrackStats.map((function(t){return ie(e,t)})),localAudioTrackStats:t.localAudioTrackStats.map((function(t){return re(e,t)})),localVideoTrackStats:t.localVideoTrackStats.map((function(t){return re(e,t)}))})}(e,t)}))},t}(W);function re(e,t){var n=e._getMediaTrackSenderId(t.trackId);return Object.assign(t,{trackId:n})}function ie(e,t){var n=a([],i(e._mediaTrackReceivers)).find((function(e){return e.track.id===t.trackId})),r=n?n.id:null;return Object.assign(t,{trackId:r})}function ae(e){if(e.sdp){var t=e.sdp.match(/^a=ice-ufrag:([a-zA-Z0-9+/]+)/m);if(t)return t[1]}return null}function oe(e){return Object.assign({bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},e)}function se(e,t){var n=t.track;return n&&n.kind===e&&"ended"!==n.readyState}function ue(e){!function(e){e._recycledTransceivers.audio=[],e._recycledTransceivers.video=[],e._peerConnection.getTransceivers().forEach((function(t){if(function(e,t){return!e.stopped&&!t._replaceTrackPromises.has(e)&&["inactive","recvonly"].includes(e.direction)}(t,e)){var n=t.receiver.track;e._recycledTransceivers[n.kind].push(t)}}))}(e),function(e){var t=e._peerConnection.localDescription;t&&t.sdp&&T(t.sdp).forEach((function(t){k(t).forEach((function(t,n){return e._localCodecs.add(n)}))}))}(e),function(e){var t=e._peerConnection.remoteDescription;t&&t.sdp&&T(t.sdp).forEach((function(t){var n=t.match(/^a=mid:(.+)$/m);if(n&&n[1]){var r=n[1],i=k(t);e._remoteCodecMaps.set(r,i)}}))}(e),ce(e).then((function(){e._handleQueuedPublisherHints()}))}function ce(e){var t=e._encodingParameters,n=t.maxAudioBitrate,r=t.maxVideoBitrate,i=new Map([["audio",n],["video",r]]),a=[];return e._peerConnection.getSenders().filter((function(e){return e.track})).forEach((function(t){var n=i.get(t.track.kind),r=t.getParameters();null===n||0===n?function(e){Array.isArray(e.encodings)&&e.encodings.forEach((function(e){return delete e.maxBitrate}))}(r):e._isChromeScreenShareTrack(t.track)?e._log.warn("Not setting maxBitrate for "+t.track.kind+" Track "+t.track.id+" because it appears to be screen share track: "+t.track.label):function(e,t){J?e.encodings=[{maxBitrate:t}]:e.encodings.forEach((function(e){e.maxBitrate=t}))}(r,n),!J&&r.encodings.length>0&&("audio"===t.track.kind?r.encodings[0].priority="high":e._isChromeScreenShareTrack(t.track)&&(r.encodings[0].priority="medium"),e._enableDscp&&(r.encodings[0].networkPriority="high"));var o=e._rtpNewSenders.has(t);e._maybeUpdateEncodings(t.track,r.encodings,o),e._rtpNewSenders.delete(t);var s=t.setParameters(r).catch((function(n){e._log.warn("Error while setting encodings parameters for "+t.track.kind+" Track "+t.track.id+": "+(n.message||n.name))}));a.push(s)})),Promise.all(a)}e.exports=ne},52051:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(73348).guessBrowser,s=n(14014),u=n(4742),c=n(16233),l=n(58242),f=n(89752).MediaConnectionError,d="firefox"===o(),p=function(e){function t(t,r,i){var a=e.call(this)||this,o=(i=Object.assign({audioContextFactory:d?n(63074):null,PeerConnectionV2:s},i)).audioContextFactory?i.audioContextFactory.getOrCreate(a):null,c=o?{offerToReceiveVideo:!0}:{offerToReceiveAudio:!0,offerToReceiveVideo:!0};return Object.defineProperties(a,{_audioContextFactory:{value:i.audioContextFactory},_closedPeerConnectionIds:{value:new Set},_configuration:{writable:!0,value:null},_configurationDeferred:{writable:!0,value:l.defer()},_connectionState:{value:"new",writable:!0},_dummyAudioTrackSender:{value:o?new u(h(o)):null},_encodingParameters:{value:t},_iceConnectionState:{writable:!0,value:"new"},_dataTrackSenders:{writable:!0,value:new Set},_lastConnectionState:{value:"new",writable:!0},_lastIceConnectionState:{writable:!0,value:"new"},_mediaTrackSenders:{writable:!0,value:new Set},_offerOptions:{value:c},_peerConnections:{value:new Map},_preferredCodecs:{value:r},_sessionTimeout:{value:null,writable:!0},_PeerConnectionV2:{value:i.PeerConnectionV2}}),a}return r(t,e),t.prototype.setEffectiveAdaptiveSimulcast=function(e){this._peerConnections.forEach((function(t){return t.setEffectiveAdaptiveSimulcast(e)})),this._preferredCodecs.video.forEach((function(t){"adaptiveSimulcast"in t&&(t.adaptiveSimulcast=e)}))},Object.defineProperty(t.prototype,"connectionState",{get:function(){return this._connectionState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iceConnectionState",{get:function(){return this._iceConnectionState},enumerable:!1,configurable:!0}),t.prototype._closeAbsentPeerConnections=function(e){var t=new Set(e.map((function(e){return e.id})));return this._peerConnections.forEach((function(e){t.has(e.id)||e._close()})),this},t.prototype._getConfiguration=function(){return this._configurationDeferred.promise},t.prototype._getOrCreate=function(e,t){var n=this,r=this,i=this._peerConnections.get(e);if(!i){var a=this._PeerConnectionV2,o=Object.assign({dummyAudioMediaStreamTrack:this._dummyAudioTrackSender?this._dummyAudioTrackSender.track:null,offerOptions:this._offerOptions},this._sessionTimeout?{sessionTimeout:this._sessionTimeout}:{},t);try{i=new a(e,this._encodingParameters,this._preferredCodecs,o)}catch(s){throw new f}this._peerConnections.set(i.id,i),i.on("candidates",this.queue.bind(this,"candidates")),i.on("description",this.queue.bind(this,"description")),i.on("trackAdded",this.queue.bind(this,"trackAdded")),i.on("stateChanged",(function e(t){"closed"===t&&(i.removeListener("stateChanged",e),r._dataTrackSenders.forEach((function(e){return i.removeDataTrackSender(e)})),r._mediaTrackSenders.forEach((function(e){return i.removeMediaTrackSender(e)})),r._peerConnections.delete(i.id),r._closedPeerConnectionIds.add(i.id),k(r),x(r))})),i.on("connectionStateChanged",(function(){return k(n)})),i.on("iceConnectionStateChanged",(function(){return x(n)})),this._dataTrackSenders.forEach(i.addDataTrackSender,i),this._mediaTrackSenders.forEach(i.addMediaTrackSender,i),x(this)}return i},t.prototype.close=function(){return this._peerConnections.forEach((function(e){e.close()})),this._dummyAudioTrackSender&&this._dummyAudioTrackSender.stop(),this._audioContextFactory&&this._audioContextFactory.release(this),x(this),this},t.prototype.createAndOffer=function(){var e=this;return this._getConfiguration().then((function(t){var n;do{n=l.makeUUID()}while(e._peerConnections.has(n));return e._getOrCreate(n,t)})).then((function(e){return e.offer()})).then((function(){return e}))},t.prototype.getTrackReceivers=function(){return l.flatMap(this._peerConnections,(function(e){return e.getTrackReceivers()}))},t.prototype.getStates=function(){var e=[];return this._peerConnections.forEach((function(t){var n=t.getState();n&&e.push(n)})),e},t.prototype.setConfiguration=function(e){return this._configuration&&(this._configurationDeferred=l.defer(),this._peerConnections.forEach((function(t){t.setConfiguration(e)}))),this._configuration=e,this._configurationDeferred.resolve(e),this},t.prototype.setIceReconnectTimeout=function(e){return null===this._sessionTimeout&&(this._peerConnections.forEach((function(t){t.setIceReconnectTimeout(e)})),this._sessionTimeout=e),this},t.prototype.setTrackSenders=function(e){var t=new Set(e.filter((function(e){return"data"===e.kind}))),n=new Set(e.filter((function(e){return e&&("audio"===e.kind||"video"===e.kind)}))),r=function(e,t,n){return{data:v(e,t),media:m(e,n)}}(this,t,n);return this._dataTrackSenders=t,this._mediaTrackSenders=n,function(e,t){(t.data.add.size||t.data.remove.size||t.media.add.size||t.media.remove.size)&&e._peerConnections.forEach((function(e){t.data.remove.forEach(e.removeDataTrackSender,e),t.media.remove.forEach(e.removeMediaTrackSender,e),t.data.add.forEach(e.addDataTrackSender,e),t.media.add.forEach(e.addMediaTrackSender,e),(t.media.add.size||t.media.remove.size||t.data.add.size&&!e.isApplicationSectionNegotiated)&&e.offer()}))}(this,r),this},t.prototype.update=function(e,t){var n=this;return void 0===t&&(t=!1),t&&this._closeAbsentPeerConnections(e),this._getConfiguration().then((function(t){return Promise.all(e.map((function(e){return n._closedPeerConnectionIds.has(e.id)?null:n._getOrCreate(e.id,t).update(e)})))})).then((function(){return n}))},t.prototype.getStats=function(){var e=Array.from(this._peerConnections.values());return Promise.all(e.map((function(e){return e.getStats().then((function(t){return[e.id,t]}))}))).then((function(e){return new Map(e)}))},t}(c);function h(e){return e.createMediaStreamDestination().stream.getAudioTracks()[0]}function v(e,t){return{add:l.difference(t,e._dataTrackSenders),remove:l.difference(e._dataTrackSenders,t)}}function m(e,t){return{add:l.difference(t,e._mediaTrackSenders),remove:l.difference(e._mediaTrackSenders,t)}}var g,y={new:0,checking:1,connecting:2,connected:3,completed:4,disconnected:-1,failed:-2,closed:-3};function b(e){return e.length?(g=g||Object.keys(y).reduce((function(e,t){var n;return Object.assign(e,((n={})[y[t]]=t,n))}),{}),e.reduce((function(e,t){return g[Math.max(y[e],y[t])]}))):"new"}function x(e){e._lastIceConnectionState=e.iceConnectionState,e._iceConnectionState=b(a([],i(e._peerConnections.values())).map((function(e){return e.iceConnectionState}))),e.iceConnectionState!==e._lastIceConnectionState&&e.emit("iceConnectionStateChanged")}function k(e){e._lastConnectionState=e.connectionState,e._connectionState=b(a([],i(e._peerConnections.values())).map((function(e){return e.connectionState}))),e.connectionState!==e._lastConnectionState&&e.emit("connectionStateChanged")}e.exports=p},7684:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(85663),a=1,o=function(e){function t(t,n){var r=e.call(this,t,"publisher_hints",n)||this;return r.on("ready",(function(e){r._log.debug("publisher_hints transport ready:",e),e.on("message",(function(e){if(r._log.debug("Incoming: ",e),"publisher_hints"===e.type)e.publisher&&e.publisher.hints&&e.publisher.id&&r._processPublisherHints(e.publisher.hints,e.publisher.id);else r._log.warn("Unknown message type: ",e.type)}))})),r}return r(t,e),t.prototype.sendTrackReplaced=function(e){var t=e.trackSid;if(this._transport){var n={type:"client_reset",track:t,id:a++};this._log.debug("Outgoing: ",n),this._transport.publish(n)}},t.prototype.sendHintResponse=function(e){var t=e.id,n=e.hints;if(this._transport){var r={type:"publisher_hints",id:t,hints:n};this._log.debug("Outgoing: ",r),this._transport.publish(r)}},t.prototype._processPublisherHints=function(e,t){try{this.emit("updated",e,t)}catch(n){this._log.error("error processing hints:",n)}},t}(i);e.exports=o},20437:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(){var t=e.call(this)||this;return Object.defineProperties(t,{_revision:{value:1,writable:!0}}),t}return r(t,e),t.prototype.update=function(e){return e.revision<this._revision?this:(this._revision=e.revision,this.enable(e.is_recording))},t}(n(9330));e.exports=i},46061:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(72502),a=n(88439),o=function(e){function t(t,n,r,i,o,s){var u=e.call(this,t.sid,t.identity)||this;return s=Object.assign({RemoteTrackPublicationV2:a},s),Object.defineProperties(u,{_revision:{writable:!0,value:null},_RemoteTrackPublicationV2:{value:s.RemoteTrackPublicationV2},_getInitialTrackSwitchOffState:{value:n},updateSubscriberTrackPriority:{value:function(e,t){return r(e,t)}},updateTrackRenderHint:{value:function(e,t){return i(e,t)}},clearTrackHint:{value:function(e){return o(e)}},revision:{enumerable:!0,get:function(){return this._revision}}}),u.update(t)}return r(t,e),t.prototype._getOrCreateTrack=function(e){var t=this._RemoteTrackPublicationV2,n=this.tracks.get(e.sid);n||(n=new t(e,this._getInitialTrackSwitchOffState(e.sid)),this.addTrack(n));return n},t.prototype.update=function(e){var t=this;if(null!==this.revision&&e.revision<=this.revision)return this;this._revision=e.revision;var n=new Set;switch(e.tracks.forEach((function(e){var r=t._getOrCreateTrack(e);r.update(e),n.add(r)})),this.tracks.forEach((function(e){n.has(e)||t.removeTrack(e)})),e.state){case"disconnected":this.disconnect();break;case"reconnecting":this.reconnecting();break;case"connected":this.connect(this.sid,this.identity)}return this},t}(i);e.exports=o},88439:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){return e.call(this,t.sid,t.name,t.kind,t.enabled,t.priority,n)||this}return r(t,e),t.prototype.update=function(e){return this.enable(e.enabled),this.setPriority(e.priority),this},t}(n(27534));e.exports=i},97309:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(85663),a=n(91149),o=n(58242).isDeepEqual,s=1,u=function(e){function t(t,n){var r=e.call(this,t,"render_hints",n)||this;return Object.defineProperties(r,{_trackSidsToRenderHints:{value:new Map},_responseTimer:{value:new a((function(){r._sendAllHints(),r._responseTimer.setDelay(2*r._responseTimer.delay)}),2e3,!1)}}),r.on("ready",(function(e){e.on("message",(function(e){if(r._log.debug("Incoming: ",e),"render_hints"===e.type)r._processHintResults(e&&e.subscriber&&e.subscriber.hints||[]);else r._log.warn("Unknown message type: ",e.type)})),r._sendAllHints()})),r}return r(t,e),t.prototype._sendAllHints=function(){var e=this;Array.from(this._trackSidsToRenderHints.keys()).forEach((function(t){var n=e._trackSidsToRenderHints.get(t);n.renderDimensions&&(n.isDimensionDirty=!0),"enabled"in n&&(n.isEnabledDirty=!0)})),this._sendHints()},t.prototype._processHintResults=function(e){var t=this;this._responseTimer.clear(),this._responseTimer.setDelay(2e3),e.forEach((function(e){"OK"!==e.result&&t._log.debug("Server error processing hint:",e)})),this._sendHints()},t.prototype._sendHints=function(){var e=this;if(this._transport&&!this._responseTimer.isSet){var t=[];if(Array.from(this._trackSidsToRenderHints.keys()).forEach((function(n){var r=e._trackSidsToRenderHints.get(n);if(r.isEnabledDirty||r.isDimensionDirty){var i={track:n};r.isEnabledDirty&&(i.enabled=r.enabled,r.isEnabledDirty=!1),r.isDimensionDirty&&(i.render_dimensions=r.renderDimensions,r.isDimensionDirty=!1),t.push(i)}})),t.length>0){var n={type:"render_hints",subscriber:{id:s++,hints:t}};this._log.debug("Outgoing: ",n),this._transport.publish(n),this._responseTimer.start()}}},t.prototype.setTrackHint=function(e,t){var n=this._trackSidsToRenderHints.get(e)||{isEnabledDirty:!1,isDimensionDirty:!1};"enabled"in t&&n.enabled!==t.enabled&&(n.enabled=!!t.enabled,n.isEnabledDirty=!0),t.renderDimensions&&!o(t.renderDimensions,n.renderDimensions)&&(n.renderDimensions=t.renderDimensions,n.isDimensionDirty=!0),this._trackSidsToRenderHints.set(e,n),this._sendHints()},t.prototype.clearTrackHint=function(e){this._trackSidsToRenderHints.delete(e)},t}(i);e.exports=u},49609:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=n(84253),o=n(11330),s=n(4721),u=n(20437),c=n(7590),l=n(46061),f=n(68182),d=n(52442),p=n(86775),h=n(97309),v=n(7684),m=n(58242),g=m.constants.DEFAULT_SESSION_TIMEOUT_SEC,y=m.createBandwidthProfilePayload,b=m.defer,x=m.difference,k=m.filterObject,w=m.flatMap,_=m.oncePerTick,S=n(21288),T=n(89752).createTwilioError,E=function(e){function t(t,n,r,i,c){var m=this;n.options=Object.assign({session_timeout:g},n.options),c=Object.assign({DominantSpeakerSignaling:a,NetworkQualityMonitor:o,NetworkQualitySignaling:s,RecordingSignaling:u,RemoteParticipantV2:l,TrackPrioritySignaling:d,TrackSwitchOffSignaling:p,bandwidthProfile:null,sessionTimeout:1e3*n.options.session_timeout,statsPublishIntervalMs:1e4},c),t.setBandwidthProfile(c.bandwidthProfile);var y=n.options,b=y.signaling_region,S=y.audio_processors,T=void 0===S?[]:S;t.setSignalingRegion(b),T.includes("krisp")&&T.push("rnnoise"),t.setAudioProcessors(T),i.setIceReconnectTimeout(c.sessionTimeout);var E=function(e){return m._getTrackReceiver(e)},C=(m=e.call(this,t,n.sid,n.name,c)||this)._log;return Object.defineProperties(m,{_disconnectedParticipantRevisions:{value:new Map},_NetworkQualityMonitor:{value:c.NetworkQualityMonitor},_lastBandwidthProfileRevision:{value:t.bandwidthProfileRevision,writable:!0},_mediaStatesWarningsRevision:{value:0,writable:!0},_networkQualityMonitor:{value:null,writable:!0},_networkQualityConfiguration:{value:t.networkQualityConfiguration},_peerConnectionManager:{value:i},_published:{value:new Map},_publishedRevision:{value:0,writable:!0},_RemoteParticipantV2:{value:c.RemoteParticipantV2},_subscribed:{value:new Map},_subscribedRevision:{value:0,writable:!0},_subscriptionFailures:{value:new Map},_dominantSpeakerSignaling:{value:new c.DominantSpeakerSignaling(E,{log:C})},_networkQualitySignaling:{value:new c.NetworkQualitySignaling(E,t.networkQualityConfiguration,{log:C})},_renderHintsSignaling:{value:new h(E,{log:C})},_publisherHintsSignaling:{value:new v(E,{log:C})},_trackPrioritySignaling:{value:new c.TrackPrioritySignaling(E,{log:C})},_trackSwitchOffSignaling:{value:new c.TrackSwitchOffSignaling(E,{log:C})},_pendingSwitchOffStates:{value:new Map},_transport:{value:r},_trackReceiverDeferreds:{value:new Map},mediaRegion:{enumerable:!0,value:n.options.media_region||null}}),m._initTrackSwitchOffSignaling(),m._initDominantSpeakerSignaling(),m._initNetworkQualityMonitorSignaling(),m._initPublisherHintSignaling(),function(e,t){var n=_((function(){e._publishNewLocalParticipantState()})),r=_((function(){var n=w(t.tracks,(function(e){return e.trackTransceiver}));e._peerConnectionManager.setTrackSenders(n)}));t.on("trackAdded",r),t.on("trackRemoved",r),t.on("updated",n),e.on("stateChanged",(function i(a){"disconnected"===a&&(t.removeListener("trackAdded",r),t.removeListener("trackRemoved",r),t.removeListener("updated",n),e.removeListener("stateChanged",i),t.disconnect())})),e.on("signalingConnectionStateChanged",(function(){var t=e.localParticipant,n=e.signalingConnectionState,r=t.identity,i=t.sid;switch(n){case"connected":t.connect(i,r);break;case"reconnecting":t.reconnecting()}}))}(m,t),function(e,t){t.on("description",(function(t){e._publishPeerConnectionState(t)})),t.dequeue("description"),t.on("candidates",(function(t){e._publishPeerConnectionState(t)})),t.dequeue("candidates"),t.on("trackAdded",e._addTrackReceiver.bind(e)),t.dequeue("trackAdded"),t.getTrackReceivers().forEach(e._addTrackReceiver,e),t.on("connectionStateChanged",(function(){e.emit("connectionStateChanged")})),t.on("iceConnectionStateChanged",(function(){e.emit("iceConnectionStateChanged"),"failed"===e.iceConnectionState&&(null!==e.localParticipant.networkQualityLevel&&e.localParticipant.setNetworkQualityLevel(0),e.participants.forEach((function(e){null!==e.networkQualityLevel&&e.setNetworkQualityLevel(0)})))}))}(m,i),function(e,t){t.on("message",e._update.bind(e)),t.on("stateChanged",(function n(r,i){"disconnected"===r&&("disconnected"!==e.state&&e._disconnect(i),t.removeListener("stateChanged",n)),e.emit("signalingConnectionStateChanged")}))}(m,r),function(e,t,n){var r=new Map,i=!1,a=setInterval((function(){e.getStats().then((function(e){i=!i,e.forEach((function(e,n){var a=new f(n,e,!0);t.publishEvent("quality","stats-report","info",{audioTrackStats:a.remoteAudioTrackStats.map((function(t,n){return R(t,e.remoteAudioTrackStats[n],r)})),localAudioTrackStats:a.localAudioTrackStats.map((function(t,n){return I(t,e.localAudioTrackStats[n],r)})),localVideoTrackStats:a.localVideoTrackStats.map((function(t,n){return I(t,e.localVideoTrackStats[n],r)})),peerConnectionId:a.peerConnectionId,videoTrackStats:a.remoteVideoTrackStats.map((function(t,n){return R(t,e.remoteVideoTrackStats[n],r)}))});var o=w(["localAudioTrackStats","localVideoTrackStats","remoteAudioTrackStats","remoteVideoTrackStats"],(function(e){return a[e].map((function(e){var t=e.ssrc;return e.trackSid+"+"+t}))}));if(x(Array.from(r.keys()),o).forEach((function(e){return r.delete(e)})),i){var s=function(e,t){return(e=Object.assign({availableIncomingBitrate:0,availableOutgoingBitrate:0,bytesReceived:0,bytesSent:0,consentRequestsSent:0,currentRoundTripTime:0,lastPacketReceivedTimestamp:0,lastPacketSentTimestamp:0,nominated:!1,peerConnectionId:t,priority:0,readable:!1,requestsReceived:0,requestsSent:0,responsesReceived:0,responsesSent:0,retransmissionsReceived:0,retransmissionsSent:0,state:"failed",totalRoundTripTime:0,transportId:"",writable:!1},k(e||{},null))).localCandidate=Object.assign({candidateType:"host",deleted:!1,ip:"",port:0,priority:0,protocol:"udp",url:""},k(e.localCandidate||{},null)),e.remoteCandidate=Object.assign({candidateType:"host",ip:"",port:0,priority:0,protocol:"udp",url:""},k(e.remoteCandidate||{},null)),e}(e.activeIceCandidatePair,a.peerConnectionId);t.publishEvent("quality","active-ice-candidate-pair","info",s)}}))}),(function(){}))}),n);e.on("stateChanged",(function t(n){"disconnected"===n&&(clearInterval(a),e.removeListener("stateChanged",t))}))}(m,r,c.statsPublishIntervalMs),m._update(n),m._peerConnectionManager.setEffectiveAdaptiveSimulcast(m._publisherHintsSignaling.isSetup),m}return r(t,e),Object.defineProperty(t.prototype,"connectionState",{get:function(){return this._peerConnectionManager.connectionState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signalingConnectionState",{get:function(){return"syncing"===this._transport.state?"reconnecting":this._transport.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iceConnectionState",{get:function(){return this._peerConnectionManager.iceConnectionState},enumerable:!1,configurable:!0}),t.prototype._deleteTrackReceiverDeferred=function(e){return this._trackReceiverDeferreds.delete(e)},t.prototype._getOrCreateTrackReceiverDeferred=function(e){var t=this._trackReceiverDeferreds.get(e)||b(),n=this._peerConnectionManager.getTrackReceivers().find((function(t){return t.id===e&&"ended"!==t.readyState}));return n?t.resolve(n):this._trackReceiverDeferreds.set(e,t),t},t.prototype._addTrackReceiver=function(e){return this._getOrCreateTrackReceiverDeferred(e.id).resolve(e),this},t.prototype._disconnect=function(t){var n=e.prototype._disconnect.call(this,t);return n&&(this._teardownNetworkQualityMonitor(),this._transport.disconnect(),this._peerConnectionManager.close()),this.localParticipant.tracks.forEach((function(e){e.publishFailed(t||new Error("LocalParticipant disconnected"))})),n},t.prototype._getTrackReceiver=function(e){var t=this;return this._getOrCreateTrackReceiverDeferred(e).promise.then((function(n){return t._deleteTrackReceiverDeferred(e),n}))},t.prototype._getInitialTrackSwitchOffState=function(e){var t=this._pendingSwitchOffStates.get(e)||!1;return this._pendingSwitchOffStates.delete(e),t&&this._log.warn("["+e+"] was initially switched off! "),t},t.prototype._getTrackSidsToTrackSignalings=function(){var e=w(this.participants,(function(e){return Array.from(e.tracks)}));return new Map(e)},t.prototype._getOrCreateRemoteParticipant=function(e){var t=this,n=this._RemoteParticipantV2,r=this.participants.get(e.sid),i=this;return r||((r=new n(e,(function(e){return t._getInitialTrackSwitchOffState(e)}),(function(e,n){return t._trackPrioritySignaling.sendTrackPriorityUpdate(e,"subscribe",n)}),(function(e,n){return t._renderHintsSignaling.setTrackHint(e,n)}),(function(e){return t._renderHintsSignaling.clearTrackHint(e)}))).on("stateChanged",(function e(t){"disconnected"===t&&(r.removeListener("stateChanged",e),i.participants.delete(r.sid),i._disconnectedParticipantRevisions.set(r.sid,r.revision))})),this.connectParticipant(r)),r},t.prototype._getState=function(){return{participant:this.localParticipant.getState()}},t.prototype._maybeAddBandwidthProfile=function(e){var t=this.localParticipant,n=t.bandwidthProfile,r=t.bandwidthProfileRevision;return n&&this._lastBandwidthProfileRevision<r?(this._lastBandwidthProfileRevision=r,Object.assign({bandwidth_profile:y(n)},e)):e},t.prototype._publishNewLocalParticipantState=function(){this._transport.publish(this._maybeAddBandwidthProfile(this._getState()))},t.prototype._publishPeerConnectionState=function(e){this._transport.publish(Object.assign({peer_connections:[e]},this._getState()))},t.prototype._update=function(e){var t=this;if(e.subscribed&&e.subscribed.revision>this._subscribedRevision){this._subscribedRevision=e.subscribed.revision,e.subscribed.tracks.forEach((function(e){e.id?(t._subscriptionFailures.delete(e.sid),t._subscribed.set(e.sid,e.id)):e.error&&!t._subscriptionFailures.has(e.sid)&&t._subscriptionFailures.set(e.sid,e.error)}));var n=new Set(e.subscribed.tracks.filter((function(e){return!!e.id})).map((function(e){return e.sid})));this._subscribed.forEach((function(e,r){n.has(r)||t._subscribed.delete(r)}))}var r=new Set;return(e.participants||[]).forEach((function(e){if(e.sid!==t.localParticipant.sid){var n=t._disconnectedParticipantRevisions.get(e.sid);if(!(n&&e.revision<=n)){n&&t._disconnectedParticipantRevisions.delete(e.sid);var i=t._getOrCreateRemoteParticipant(e);i.update(e),r.add(i)}}})),"synced"===e.type&&this.participants.forEach((function(e){r.has(e)||e.disconnect()})),function(e){var t=e._getTrackSidsToTrackSignalings();e._subscriptionFailures.forEach((function(n,r){var i=t.get(r);i&&(e._subscriptionFailures.delete(r),i.subscribeFailed(T(n.code,n.message)))})),t.forEach((function(t){var n=e._subscribed.get(t.sid);(!n||t.isSubscribed&&t.trackTransceiver.id!==n)&&t.setTrackTransceiver(null),n&&e._getTrackReceiver(n).then((function(e){return t.setTrackTransceiver(e)}))}))}(this),e.peer_connections&&this._peerConnectionManager.update(e.peer_connections,"synced"===e.type),e.recording&&this.recording.update(e.recording),e.published&&e.published.revision>this._publishedRevision&&(this._publishedRevision=e.published.revision,e.published.tracks.forEach((function(e){e.sid&&t._published.set(e.id,e.sid)})),this.localParticipant.update(e.published)),e.participant&&this.localParticipant.connect(e.participant.sid,e.participant.identity),[this._dominantSpeakerSignaling,this._networkQualitySignaling,this._trackPrioritySignaling,this._trackSwitchOffSignaling,this._renderHintsSignaling,this._publisherHintsSignaling].forEach((function(t){var n=t.channel;!t.isSetup&&e.media_signaling&&e.media_signaling[n]&&e.media_signaling[n].transport&&"data-channel"===e.media_signaling[n].transport.type&&t.setup(e.media_signaling[n].transport.label)})),"warning"===e.type&&e.states&&e.states.revision>this._mediaStatesWarningsRevision&&(this._mediaStatesWarningsRevision=e.states.revision,this.localParticipant.updateMediaStates(e.states)),this},t.prototype._initPublisherHintSignaling=function(){var e=this;this._publisherHintsSignaling.on("updated",(function(t,n){Promise.all(t.map((function(t){return e.localParticipant.setPublisherHint(t.track,t.encodings).then((function(e){return{track:t.track,result:e}}))}))).then((function(t){e._publisherHintsSignaling.sendHintResponse({id:n,hints:t})}))}));var t=function(t){"video"===t.kind&&t.trackTransceiver.on("replaced",(function(){e._publisherHintsSignaling.sendTrackReplaced({trackSid:t.sid})}))};Array.from(this.localParticipant.tracks.values()).forEach((function(e){return t(e)})),this.localParticipant.on("trackAdded",(function(e){return t(e)}))},t.prototype._initTrackSwitchOffSignaling=function(){var e=this;this._trackSwitchOffSignaling.on("updated",(function(t,n){try{e._log.debug("received trackSwitch: ",{tracksOn:n,tracksOff:t});var r=new Map;n.forEach((function(e){return r.set(e,!0)})),t.forEach((function(t){r.get(t)&&e._log.warn(t+" is DUPLICATED in both tracksOff and tracksOn list"),r.set(t,!1)})),e.participants.forEach((function(e){e.tracks.forEach((function(e){var t=r.get(e.sid);"undefined"!==typeof t&&(e.setSwitchedOff(!t),r.delete(e.sid))}))})),r.forEach((function(t,n){return e._pendingSwitchOffStates.set(n,!t)}))}catch(i){e._log.error("error processing track switch off:",i)}}))},t.prototype._initDominantSpeakerSignaling=function(){var e=this;this._dominantSpeakerSignaling.on("updated",(function(){return e.setDominantSpeaker(e._dominantSpeakerSignaling.loudestParticipantSid)}))},t.prototype._initNetworkQualityMonitorSignaling=function(){var e=this;this._networkQualitySignaling.on("ready",(function(){var t=new e._NetworkQualityMonitor(e._peerConnectionManager,e._networkQualitySignaling);e._networkQualityMonitor=t,t.on("updated",(function(){"failed"!==e.iceConnectionState&&(e.localParticipant.setNetworkQualityLevel(t.level,t.levels),e.participants.forEach((function(e){var n=t.remoteLevels.get(e.sid);n&&e.setNetworkQualityLevel(n.level,n)})))})),t.start()})),this._networkQualitySignaling.on("teardown",(function(){return e._teardownNetworkQualityMonitor()}))},t.prototype._teardownNetworkQualityMonitor=function(){this._networkQualityMonitor&&(this._networkQualityMonitor.stop(),this._networkQualityMonitor=null)},t.prototype.getStats=function(){var e=this;return this._peerConnectionManager.getStats().then((function(t){return new Map(Array.from(t).map((function(t){var n=i(t,2),r=n[0],a=n[1];return[r,Object.assign({},a,{localAudioTrackStats:O(e,a.localAudioTrackStats),localVideoTrackStats:O(e,a.localVideoTrackStats),remoteAudioTrackStats:A(e,a.remoteAudioTrackStats),remoteVideoTrackStats:A(e,a.remoteVideoTrackStats)})]})))}))},t}(c);function C(e,t){return t.reduce((function(t,n){var r=e.get(n.trackId);return r?[Object.assign({},n,{trackSid:r})].concat(t):t}),[])}function O(e,t){return C(e._published,t)}function A(e,t){var n=new Map(Array.from(e._subscribed.entries()).map((function(e){var t=i(e,2),n=t[0];return[t[1],n]})));return C(n,t)}function I(e,t,n){var r=t.framesEncoded,i=t.packetsSent,a=t.totalEncodeTime,o=t.totalPacketSendDelay,s=Object.assign({},e),u=e.trackSid+"+"+e.ssrc,c=n.get(u)||new Map;if("number"===typeof a&&"number"===typeof r){var l=c.get("avgEncodeDelay")||new S;l.putSample(1e3*a,r),s.avgEncodeDelay=Math.round(l.get()),c.set("avgEncodeDelay",l)}if("number"===typeof o&&"number"===typeof i){var f=c.get("avgPacketSendDelay")||new S;f.putSample(1e3*o,i),s.avgPacketSendDelay=Math.round(f.get()),c.set("avgPacketSendDelay",f)}return n.set(u,c),s}function R(e,t,n){var r=t.estimatedPlayoutTimestamp,i=t.framesDecoded,a=t.jitterBufferDelay,o=t.jitterBufferEmittedCount,s=t.totalDecodeTime,u=Object.assign({},e),c=e.trackSid+"+"+e.ssrc,l=n.get(c)||new Map;if("number"===typeof r&&(u.estimatedPlayoutTimestamp=r),"number"===typeof i&&"number"===typeof s){var f=l.get("avgDecodeDelay")||new S;f.putSample(1e3*s,i),u.avgDecodeDelay=Math.round(f.get()),l.set("avgDecodeDelay",f)}if("number"===typeof a&&"number"===typeof o){var d=l.get("avgJitterBufferDelay")||new S;d.putSample(1e3*a,o),u.avgJitterBufferDelay=Math.round(d.get()),l.set("avgJitterBufferDelay",d)}return n.set(c,l),u}e.exports=E},52442:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t,"track_priority",n)||this;return Object.defineProperties(r,{_enqueuedPriorityUpdates:{value:new Map}}),r.on("ready",(function(e){Array.from(r._enqueuedPriorityUpdates.keys()).forEach((function(t){e.publish({type:"track_priority",track:t,subscribe:r._enqueuedPriorityUpdates.get(t)})}))})),r}return r(t,e),t.prototype.sendTrackPriorityUpdate=function(e,t,n){if("subscribe"!==t)throw new Error("only subscribe priorities are supported, found: "+t);this._enqueuedPriorityUpdates.set(e,n),this._transport&&this._transport.publish({type:"track_priority",track:e,subscribe:n})},t}(n(85663));e.exports=i},86775:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t,"track_switch_off",n)||this;return r.on("ready",(function(e){e.on("message",(function(e){if("track_switch_off"===e.type)r._setTrackSwitchOffUpdates(e.off||[],e.on||[])}))})),r}return r(t,e),t.prototype._setTrackSwitchOffUpdates=function(e,t){this.emit("updated",e,t)},t}(n(85663));e.exports=i},1963:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(68021),a=n(49536),o=n(26937),s=n(24657).reconnectBackoffConfig,u=n(91149),c=n(24657),l=c.SDK_NAME,f=c.SDK_VERSION,d=c.SDP_FORMAT,p=n(58242),h=p.createBandwidthProfilePayload,v=p.createMediaSignalingPayload,m=p.createMediaWarningsPayload,g=p.createSubscribePayload,y=p.getUserAgent,b=p.isNonArrayObject,x=n(89752),k=x.createTwilioError,w=x.RoomCompletedError,_=x.SignalingConnectionError,S=x.SignalingServerBusyError,T={connecting:["connected","disconnected"],connected:["disconnected","syncing"],syncing:["connected","disconnected"],disconnected:[]},E=function(e){function t(t,n,r,i,u,c){var l;return c=Object.assign({Backoff:o,TwilioConnection:a,iceServers:null,trackPriority:!0,trackSwitchOff:!0,renderHints:!0,userAgent:y()},c),l=e.call(this,"connecting",T)||this,Object.defineProperties(l,{_accessToken:{value:n},_automaticSubscription:{value:c.automaticSubscription},_bandwidthProfile:{value:c.bandwidthProfile},_dominantSpeaker:{value:c.dominantSpeaker},_adaptiveSimulcast:{value:c.adaptiveSimulcast},_eventObserver:{value:c.eventObserver,writable:!1},_renderHints:{value:c.renderHints},_iceServersStatus:{value:Array.isArray(c.iceServers)?"overrode":"acquire"},_localParticipant:{value:r},_name:{value:t},_networkQuality:{value:b(c.networkQuality)||c.networkQuality},_notifyWarnings:{value:c.notifyWarnings},_options:{value:c},_peerConnectionManager:{value:i},_sessionTimer:{value:null,writable:!0},_sessionTimeoutMS:{value:0,writable:!0},_reconnectBackoff:{value:new c.Backoff(s)},_session:{value:null,writable:!0},_trackPriority:{value:c.trackPriority},_trackSwitchOff:{value:c.trackSwitchOff},_twilioConnection:{value:null,writable:!0},_updatesReceived:{value:[]},_updatesToSend:{value:[]},_userAgent:{value:c.userAgent},_wsServer:{value:u}}),function(e){function t(){if("disconnected"!==e.state){e._twilioConnection&&e._twilioConnection.removeListener("message",r);var t=e._iceServersStatus,i=e._options,a=e._wsServer,o=e.state,s=i.TwilioConnection,u=new s(a,Object.assign({helloBody:"connecting"===o&&"acquire"===t?e._createIceMessage():e._createConnectOrSyncOrDisconnectMessage()},i));u.once("close",(function(e){e===s.CloseReason.LOCAL?n():n(new Error(e))})),u.on("message",r),e._twilioConnection=u}}function n(n){if("disconnected"!==e.state)if(n){var r=e._getReconnectTimer();if(r)"connected"===e.state&&e.preempt("syncing"),r.then(t);else{var i=n.message===a.CloseReason.BUSY?new S:new _;e.disconnect(i)}}else e.disconnect()}function r(t){if("disconnected"!==e.state)if("error"!==t.type)switch(e.state){case"connected":switch(t.type){case"connected":case"synced":case"update":case"warning":return void e.emit("message",t);case"disconnected":return void e.disconnect("completed"===t.status?new w:null);default:return}case"connecting":switch(t.type){case"iced":return void e._options.onIced(t.ice_servers).then((function(){e._sendConnectOrSyncOrDisconnectMessage()}));case"connected":return e._setSession(t.session,t.options.session_timeout),e.emit("connected",t),void e.preempt("connected");case"synced":case"update":return void e._updatesReceived.push(t);case"disconnected":return void e.disconnect("completed"===t.status?new w:null);default:return}case"syncing":switch(t.type){case"connected":case"update":return void e._updatesReceived.push(t);case"synced":return e._clearReconnectTimer(),e.emit("message",t),void e.preempt("connected");case"disconnected":return void e.disconnect("completed"===t.status?new w:null);default:return}default:return}else e.disconnect(k(t.code,t.message))}e.on("stateChanged",(function t(n){switch(n){case"connected":var i=e._updatesToSend.splice(0);return i.length&&e.publish(function(e){return e.reduce((function(e,t){return(!e.participant&&t.participant||e.participant&&t.participant&&t.participant.revision>e.participant.revision)&&(e.participant=t.participant),!e.peer_connections&&t.peer_connections?e.peer_connections=C(t.peer_connections):e.peer_connections&&t.peer_connections&&(e.peer_connections=C(e.peer_connections.concat(t.peer_connections))),e}),{})}(i)),void e._updatesReceived.splice(0).forEach((function(t){return e.emit("message",t)}));case"disconnected":return e._twilioConnection.removeListener("message",r),void e.removeListener("stateChanged",t);default:return}}));var i=e._options,o=e._iceServersStatus,s=i.iceServers,u=i.onIced;"overrode"===o?u(s).then(t):t()}(l),l}return r(t,e),t.prototype._createConnectOrSyncOrDisconnectMessage=function(){if("connected"===this.state)return null;if("disconnected"===this.state)return{session:this._session,type:"disconnect",version:2};var e={connecting:"connect",syncing:"sync"}[this.state],t={name:this._name,participant:this._localParticipant.getState(),peer_connections:this._peerConnectionManager.getStates(),type:e,version:2};return"connect"===t.type?(t.ice_servers=this._iceServersStatus,t.publisher={name:l,sdk_version:f,user_agent:this._userAgent},this._bandwidthProfile&&(t.bandwidth_profile=h(this._bandwidthProfile)),this._notifyWarnings&&(t.participant.media_warnings=m(this._notifyWarnings)),t.media_signaling=v(this._dominantSpeaker,this._networkQuality,this._trackPriority,this._trackSwitchOff,this._adaptiveSimulcast,this._renderHints),t.subscribe=g(this._automaticSubscription),t.format=d,t.token=this._accessToken):"sync"===t.type?(t.session=this._session,t.token=this._accessToken):"update"===t.type&&(t.session=this._session),t},t.prototype._createIceMessage=function(){return{edge:"roaming",token:this._accessToken,type:"ice",version:1}},t.prototype._sendConnectOrSyncOrDisconnectMessage=function(){var e=this._createConnectOrSyncOrDisconnectMessage();e&&this._twilioConnection.sendMessage(e)},t.prototype.disconnect=function(e){return"disconnected"!==this.state&&(this.preempt("disconnected",null,[e]),this._sendConnectOrSyncOrDisconnectMessage(),this._twilioConnection.close(),!0)},t.prototype.publish=function(e){switch(this.state){case"connected":return this._twilioConnection.sendMessage(Object.assign({session:this._session,type:"update",version:2},e)),!0;case"connecting":case"syncing":return this._updatesToSend.push(e),!0;default:return!1}},t.prototype.publishEvent=function(e,t,n,r){this._eventObserver.emit("event",{group:e,name:t,level:n,payload:r})},t.prototype.sync=function(){return"connected"===this.state&&(this.preempt("syncing"),this._sendConnectOrSyncOrDisconnectMessage(),!0)},t.prototype._setSession=function(e,t){this._session=e,this._sessionTimeoutMS=1e3*t},t.prototype._getReconnectTimer=function(){var e=this;return 0===this._sessionTimeoutMS?null:(this._sessionTimer||(this._sessionTimer=new u((function(){e._sessionTimer&&(e._sessionTimeoutMS=0)}),this._sessionTimeoutMS)),new Promise((function(t){e._reconnectBackoff.backoff(t)})))},t.prototype._clearReconnectTimer=function(){this._reconnectBackoff.reset(),this._sessionTimer&&(this._sessionTimer.clear(),this._sessionTimer=null)},t}(i);function C(e){return Array.from(e.reduce((function(e,t){var n=e.get(t.id)||t;return(!n.description&&t.description||n.description&&t.description&&t.description.revision>n.description.revision)&&(n.description=t.description),(!n.ice&&t.ice||n.ice&&t.ice&&t.ice.revision>n.ice.revision)&&(n.ice=t.ice),e.set(n.id,n),e}),new Map).values())}e.exports=E},68021:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(47465).EventEmitter,s=n(58242),u=function(e){function t(t,n){var r,i=e.call(this)||this,a=null,o=t;return n=function(e){var t=new Map;for(var n in e)t.set(n,new Set(e[n]));return t}(n),Object.defineProperties(i,{_lock:{get:function(){return a},set:function(e){a=e}},_reachableStates:{value:(r=n,Array.from(r.keys()).reduce((function(e,t){return e.set(t,l(r,t))}),new Map))},_state:{get:function(){return o},set:function(e){o=e}},_states:{value:n},_whenDeferreds:{value:new Set},isLocked:{enumerable:!0,get:function(){return null!==a}},state:{enumerable:!0,get:function(){return o}}}),i.on("stateChanged",(function(e){i._whenDeferreds.forEach((function(t){t.when(e,t.resolve,t.reject)}))})),i}return r(t,e),t.prototype._whenPromise=function(e){var t=this;if("function"!==typeof e)return Promise.reject(new Error("when() executor must be a function"));var n=s.defer();return n.when=e,this._whenDeferreds.add(n),n.promise.then((function(e){return t._whenDeferreds.delete(n),e}),(function(e){throw t._whenDeferreds.delete(n),e}))},t.prototype.bracket=function(e,t){var n,r=this;function i(e){if(r.hasLock(n)&&r.releaseLockCompletely(n),e)throw e}return this.takeLock(e).then((function(e){return t(n=e)})).then((function(e){return i(),e}),i)},t.prototype.hasLock=function(e){return this._lock===e},t.prototype.preempt=function(e,t,n){if(!c(this._states,this.state,e))throw new Error('Cannot transition from "'+this.state+'" to "'+e+'"');var r;this.isLocked&&(r=this._lock,this._lock=null);var i=null;t&&(i=this.takeLockSync(t));var a=i?null:this.takeLockSync("preemption");return this.transition(e,i||a,n),r&&r.resolve(),a&&this.releaseLock(a),i},t.prototype.releaseLock=function(e){if(!this.isLocked)throw new Error("Could not release the lock for "+e.name+" because the StateMachine is not locked");if(!this.hasLock(e))throw new Error("Could not release the lock for "+e.name+" because "+this._lock.name+" has the lock");0===e.depth?(this._lock=null,e.resolve()):e.depth--},t.prototype.releaseLockCompletely=function(e){if(!this.isLocked)throw new Error("Could not release the lock for "+e.name+" because the StateMachine is not locked");if(!this.hasLock(e))throw new Error("Could not release the lock for "+e.name+" because "+this._lock.name+" has the lock");e.depth=0,this._lock=null,e.resolve()},t.prototype.takeLock=function(e){var t=this;if("object"===typeof e){var n=e;return new Promise((function(e){e(t.takeLockSync(n))}))}var r=e;if(this.isLocked){var i=this.takeLock.bind(this,r);return this._lock.promise.then(i)}return Promise.resolve(this.takeLockSync(r))},t.prototype.takeLockSync=function(e){var t="string"===typeof e?null:e,n=t?t.name:e;if(t&&!this.hasLock(t)||!t&&this.isLocked)throw new Error("Could not take the lock for "+n+" because the lock for "+this._lock.name+" was not released");if(t)return t.depth++,t;var r=function(e){var t=s.defer();return t.name=e,t.depth=0,t}(n);return this._lock=r,r},t.prototype.transition=function(e,t,n){if(n=n||[],this.isLocked){if(!t)throw new Error("You must provide the key in order to transition");if(!this.hasLock(t))throw new Error("Could not transition using the key for "+t.name+" because "+this._lock.name+" has the lock")}else if(t)throw new Error("Key provided for "+t.name+", but the StateMachine was not locked (possibly due to preemption)");if(!c(this._states,this.state,e))throw new Error('Cannot transition from "'+this.state+'" to "'+e+'"');this._state=e,this.emit.apply(this,a([],i(["stateChanged",e].concat(n))))},t.prototype.tryTransition=function(e,t,n){try{this.transition(e,t,n)}catch(r){return!1}return!0},t.prototype.when=function(e){var t=this;return this.state===e?Promise.resolve(this):c(this._reachableStates,this.state,e)?this._whenPromise((function(n,r,i){n===e?r(t):c(t._reachableStates,n,e)||i(f(n,e))})):Promise.reject(f(this.state,e))},t}(o);function c(e,t,n){return e.get(t).has(n)}function l(e,t,n){return n=n||new Set,e.get(t).forEach((function(t){n.has(t)||(n.add(t),l(e,t,n).forEach(n.add,n))})),n}function f(e,t){return new Error('"'+t+'" cannot be reached from "'+e+'"')}e.exports=u},36657:function(e){"use strict";e.exports=function(e){return(e=e.filter((function(e){return"number"===typeof e}))).length<1?void 0:e.reduce((function(e,t){return t+e}))/e.length}},33070:function(e){"use strict";var t=function(){function e(e,t,n,r){Object.defineProperties(this,{availableSend:{enumerable:!0,value:n},recv:{enumerable:!0,value:t},rtt:{enumerable:!0,value:r},send:{enumerable:!0,value:e}})}return e.of=function(t,n){var r=(n.timestamp-t.timestamp)/1e3,i=n.bytesSent-t.bytesSent,a=n.bytesReceived-t.bytesReceived;return new e(r>0?i/r*8:0,r>0?a/r*8:0,n.availableOutgoingBitrate,n.currentRoundTripTime)},e}();e.exports=t},1492:function(e,t,n){"use strict";var r=n(33070),i=function(){function e(){Object.defineProperties(this,{lastReport:{enumerable:!0,value:new r(0,0),writable:!0},lastStats:{enumerable:!0,value:null,writable:!0}})}return e.prototype.next=function(e){var t=this.lastStats;if(this.lastStats=e,t){var n=t.id===e.id?r.of(t,e):new r(0,0);this.lastReport=n}return this.lastReport},e}();e.exports=i},77299:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return Object.defineProperties(i,{audioLevel:{value:"number"===typeof n.audioInputLevel?n.audioInputLevel:null,enumerable:!0},jitter:{value:"number"===typeof n.jitter?n.jitter:null,enumerable:!0}}),i}return r(t,e),t}(n(70283));e.exports=i},70283:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return Object.defineProperties(i,{bytesSent:{value:"number"===typeof n.bytesSent?n.bytesSent:r?0:null,enumerable:!0},packetsSent:{value:"number"===typeof n.packetsSent?n.packetsSent:r?0:null,enumerable:!0},roundTripTime:{value:"number"===typeof n.roundTripTime?n.roundTripTime:r?0:null,enumerable:!0}}),i}return r(t,e),t}(n(85031));e.exports=i},7151:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this,a=null;"number"===typeof n.frameWidthInput&&"number"===typeof n.frameHeightInput&&(a={},Object.defineProperties(a,{width:{value:n.frameWidthInput,enumerable:!0},height:{value:n.frameHeightInput,enumerable:!0}}));var o=null;return"number"===typeof n.frameWidthSent&&"number"===typeof n.frameHeightSent&&(o={},Object.defineProperties(o,{width:{value:n.frameWidthSent,enumerable:!0},height:{value:n.frameHeightSent,enumerable:!0}})),Object.defineProperties(i,{captureDimensions:{value:a,enumerable:!0},dimensions:{value:o,enumerable:!0},captureFrameRate:{value:"number"===typeof n.frameRateInput?n.frameRateInput:null,enumerable:!0},frameRate:{value:"number"===typeof n.frameRateSent?n.frameRateSent:null,enumerable:!0}}),i}return r(t,e),t}(n(70283));e.exports=i},60705:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t}(n(37167));e.exports=i},11759:function(e){"use strict";var t=function(e){var t=e.actual,n=void 0===t?null:t,r=e.available,i=void 0===r?null:r,a=e.level,o=void 0===a?null:a;Object.defineProperties(this,{actual:{value:n,enumerable:!0},available:{value:i,enumerable:!0},level:{value:o,enumerable:!0}})};e.exports=t},22278:function(e){"use strict";var t=function(e){var t=e.fractionLost,n=void 0===t?null:t,r=e.level,i=void 0===r?null:r;Object.defineProperties(this,{fractionLost:{value:n,enumerable:!0},level:{value:i,enumerable:!0}})};e.exports=t},16888:function(e){"use strict";var t=function(e){var t=e.jitter,n=void 0===t?null:t,r=e.rtt,i=void 0===r?null:r,a=e.level,o=void 0===a?null:a;Object.defineProperties(this,{jitter:{value:n,enumerable:!0},rtt:{value:i,enumerable:!0},level:{value:o,enumerable:!0}})};e.exports=t},37167:function(e,t,n){"use strict";var r=n(22228),i=n(34295),a=function(e){var t=e.send,n=e.recv,a=e.sendStats,o=void 0===a?null:a,s=e.recvStats,u=void 0===s?null:s;Object.defineProperties(this,{send:{value:t,enumerable:!0},recv:{value:n,enumerable:!0},sendStats:{value:o?new r(o):null,enumerable:!0},recvStats:{value:u?new i(u):null,enumerable:!0}})};e.exports=a},34295:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t}(n(87315));e.exports=i},87315:function(e,t,n){"use strict";var r=n(11759),i=n(22278),a=n(16888),o=function(e){var t=e.bandwidth,n=void 0===t?null:t,o=e.fractionLost,s=void 0===o?null:o,u=e.latency,c=void 0===u?null:u;Object.defineProperties(this,{bandwidth:{value:n?new r(n):null,enumerable:!0},fractionLost:{value:s?new i(s):null,enumerable:!0},latency:{value:c?new a(c):null,enumerable:!0}})};e.exports=o},22228:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t}(n(87315));e.exports=i},7427:function(e,t,n){"use strict";var r=n(60705),i=n(10654),a=function(e){var t=e.level,n=e.audio,a=e.video;Object.defineProperties(this,{level:{value:t,enumerable:!0},audio:{value:n?new r(n):null,enumerable:!0},video:{value:a?new i(a):null,enumerable:!0}})};e.exports=a},10654:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t}(n(37167));e.exports=i},14301:function(e,t,n){"use strict";var r=n(67696),i=n(78924),a=function(){function e(e,t,n){Object.defineProperties(this,{ice:{enumerable:!0,value:e},audio:{enumerable:!0,value:t},video:{enumerable:!0,value:n}})}return e.prototype.summarize=function(){var e=this.audio.send.concat(this.video.send),t=i.summarize(e),n=this.audio.recv.concat(this.video.recv),a=r.summarize(n);return{ice:this.ice,send:t,recv:a,audio:{send:i.summarize(this.audio.send),recv:r.summarize(this.audio.recv)},video:{send:i.summarize(this.video.send),recv:r.summarize(this.video.recv)}}},e}();e.exports=a},37809:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},a=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=n(73348).guessBrowser,s=n(1492),u=n(14301),c=n(22421),l=n(6781),f=function(){function e(e){Object.defineProperties(this,{pc:{enumerable:!0,value:e},ice:{enumerable:!0,value:new s},audio:{enumerable:!0,value:{send:new Map,recv:new Map}},video:{enumerable:!0,value:{send:new Map,recv:new Map}},lastReport:{enumerable:!0,value:null,writable:!0}})}return e.prototype.next=function(){var e,t=this,n="firefox"===o()?function(e){var t=e.pc.getTransceivers().filter((function(e){return e.currentDirection&&e.currentDirection.match(/send/)&&e.sender.track})).map((function(e){return e.sender})),n=e.pc.getTransceivers().filter((function(e){return e.currentDirection&&e.currentDirection.match(/recv/)})).map((function(e){return e.receiver}));return Promise.all([d(t),d(n),e.pc.getStats()]).then((function(t){var n=r(t,3),i=n[0],a=n[1],o=n[2],s=h(e),u=y(e);i.forEach((function(t,n){return x(e,t,u,n)})),w(s,u);var c=v(e),l=b(e);a.forEach((function(t,n){return k(e,t,l,n)})),w(c,l),_(e.ice,o)}))}(this):(e=this).pc.getStats().then((function(t){var n=h(e),r=y(e);x(e,t,r),w(n,r);var i=v(e),a=b(e);k(e,t,a),w(i,a),_(e.ice,t)}));return n.then((function(){var e=i([],r(t.audio.send.values())),n=i([],r(t.video.send.values())),a=i([],r(t.audio.recv.values())),o=i([],r(t.video.recv.values())),s=new u(t.ice.lastReport,{send:e.map((function(e){return e.lastReport})).filter((function(e){return e})),recv:a.map((function(e){return e.lastReport})).filter((function(e){return e}))},{send:n.map((function(e){return e.lastReport})).filter((function(e){return e})),recv:o.map((function(e){return e.lastReport})).filter((function(e){return e}))});return t.lastReport=s,s}))},e}();function d(e){return Promise.all(e.map((function(e){var t=e.track.id;return e.getStats().then((function(e){var n,r;try{for(var i=a(e.values()),o=i.next();!o.done;o=i.next()){var s=o.value;"inbound-rtp"===s.type&&(s.id=t+"-"+s.id)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return[t,e]}))}))).then((function(e){return new Map(e)}))}function p(e,t,n,r,i){var a=t[r.mediaType];if(!i){var o=n.get(r.trackId);o&&(i=o.trackIdentifier)}if(a&&i){if(a.has(r.id))return a.get(r.id);var s=new e(i,r);a.set(r.id,s)}return null}function h(e){return{audio:e.audio.send,video:e.video.send}}function v(e){return{audio:e.audio.recv,video:e.video.recv}}function m(e,t,n,r){return p(l,h(e),t,n,r)}function g(e,t,n,r){return p(c,v(e),t,n,r)}function y(e){return{audio:new Set(e.audio.send.keys()),video:new Set(e.video.send.keys())}}function b(e){return{audio:new Set(e.audio.recv.keys()),video:new Set(e.video.recv.keys())}}function x(e,t,n,r){var i,s;try{for(var u=a(t.values()),c=u.next();!c.done;c=u.next()){var l=c.value;if("outbound-rtp"===l.type&&!l.isRemote){if("firefox"!==o()&&!l.trackId)continue;var f=n[l.mediaType];f&&f.delete(l.id);var d=m(e,t,l,r);if(d){var p=t.get(l.remoteId);d.next(r||d.trackId,l,p)}}}}catch(h){i={error:h}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}}function k(e,t,n,r){var i,o;try{for(var s=a(t.values()),u=s.next();!u.done;u=s.next()){var c=u.value;if("inbound-rtp"===c.type&&!c.isRemote){var l=n[c.mediaType];l&&l.delete(c.id);var f=g(e,t,c,r);f&&f.next(r||f.trackId,c)}}}catch(d){i={error:d}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}function w(e,t){var n=function(n){var r=e[n];t[n].forEach((function(e){return r.delete(e)}))};for(var r in t)n(r)}function _(e,t){var n,r,i,o,s;try{for(var u=a(t.values()),c=u.next();!c.done;c=u.next()){"transport"===(d=c.value).type&&(s=t.get(d.selectedCandidatePairId))}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}if(s)e.next(s);else try{for(var l=a(t.values()),f=l.next();!f.done;f=l.next()){var d;"candidate-pair"!==(d=f.value).type||!d.nominated||"selected"in d&&!d.selected||e.next(d)}}catch(h){i={error:h}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}e.exports=f},67696:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(36657),a=n(51666),o=n(65503),s=function(e){function t(t,n,r,i,a,o,s){var u=e.call(this,t,n,r)||this,c=a>0?i/a:0;return Object.defineProperties(u,{deltaPacketsLost:{enumerable:!0,value:i},deltaPacketsReceived:{enumerable:!0,value:a},fractionLost:{enumerable:!0,value:o},jitter:{enumerable:!0,value:s},phonyFractionLost:{enumerable:!0,value:c}}),u}return r(t,e),t.of=function(e,n,r){if(n.id!==r.id)throw new Error("RTCStats IDs must match");var i=(r.timestamp-n.timestamp)/1e3,a=r.bytesReceived-n.bytesReceived,o=i>0?a/i*8:0,s=Math.max(r.packetsLost-n.packetsLost,0),u=r.packetsReceived-n.packetsReceived,c=r.fractionLost,l=r.jitter;return new t(n.id,e,o,s,u,c,l)},t.summarize=function(e){var t=e.map((function(e){return e.summarize()}));return{bitrate:o(t.map((function(e){return e.bitrate}))),fractionLost:i(t.map((function(e){return e.fractionLost}))),jitter:i(t.map((function(e){return e.jitter})))}},t.prototype.summarize=function(){return{bitrate:this.bitrate,fractionLost:"number"===typeof this.fractionLost?this.fractionLost:this.phonyFractionLost,jitter:this.jitter}},t}(a);e.exports=s},22421:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(67696),a=function(e){function t(t,n){var r=e.call(this,n.id,t,n)||this;return Object.defineProperties(r,{lastReport:{enumerable:!0,value:null,writable:!0}}),r}return r(t,e),t.prototype.next=function(e,t){var n=this.lastStats;this.lastStats=t,this.trackId=e;var r=i.of(e,n,t);return this.lastReport=r,r},t}(n(63431));e.exports=a},31825:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return Object.defineProperties(r,{audioLevel:{value:"number"===typeof n.audioOutputLevel?n.audioOutputLevel:null,enumerable:!0},jitter:{value:"number"===typeof n.jitter?n.jitter:null,enumerable:!0}}),r}return r(t,e),t}(n(1040));e.exports=i},1040:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return Object.defineProperties(r,{bytesReceived:{value:"number"===typeof n.bytesReceived?n.bytesReceived:null,enumerable:!0},packetsReceived:{value:"number"===typeof n.packetsReceived?n.packetsReceived:null,enumerable:!0}}),r}return r(t,e),t}(n(85031));e.exports=i},4700:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this,t,n)||this,i=null;return"number"===typeof n.frameWidthReceived&&"number"===typeof n.frameHeightReceived&&(i={},Object.defineProperties(i,{width:{value:n.frameWidthReceived,enumerable:!0},height:{value:n.frameHeightReceived,enumerable:!0}})),Object.defineProperties(r,{dimensions:{value:i,enumerable:!0},frameRate:{value:"number"===typeof n.frameRateReceived?n.frameRateReceived:null,enumerable:!0}}),r}return r(t,e),t}(n(1040));e.exports=i},51666:function(e){"use strict";var t=function(e,t,n){Object.defineProperties(this,{id:{enumerable:!0,value:e},trackId:{enumerable:!0,value:t},bitrate:{enumerable:!0,value:n}})};e.exports=t},63431:function(e){"use strict";var t=function(e,t,n){Object.defineProperties(this,{id:{enumerable:!0,value:e,writable:!0},trackId:{enumerable:!0,value:t,writable:!0},lastStats:{enumerable:!0,value:n,writable:!0}})};e.exports=t},78924:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(36657),a=n(51666),o=n(65503),s=function(e){function t(t,n,r,i){var a=e.call(this,t,n,r)||this;return Object.defineProperties(a,{rtt:{enumerable:!0,value:i}}),a}return r(t,e),t.of=function(e,n,r,i){if(n.id!==r.id)throw new Error("RTCStats IDs must match");var a=(r.timestamp-n.timestamp)/1e3,o=r.bytesSent-n.bytesSent,s=a>0?o/a*8:0,u=i&&"number"===typeof i.roundTripTime?i.roundTripTime/1e3:void 0;return new t(n.id,e,s,u)},t.summarize=function(e){return{bitrate:o(e.map((function(e){return e.bitrate}))),rtt:i(e.map((function(e){return e.rtt})))}},t}(a);e.exports=s},6781:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(63431),a=n(78924),o=function(e){function t(t,n){var r=e.call(this,n.id,t,n)||this;return Object.defineProperties(r,{lastReport:{enumerable:!0,value:null,writable:!0}}),r}return r(t,e),t.prototype.next=function(e,t,n){var r=this.lastStats;this.lastStats=t,this.trackId=e;var i=a.of(e,r,t,n);return this.lastReport=i,i},t}(i);e.exports=o},68182:function(e,t,n){"use strict";var r=n(77299),i=n(7151),a=n(31825),o=n(4700),s=function(e,t,n){if("string"!==typeof e)throw new Error("RTCPeerConnection id must be a string");Object.defineProperties(this,{peerConnectionId:{value:e,enumerable:!0},localAudioTrackStats:{value:t.localAudioTrackStats.map((function(e){return new r(e.trackId,e,n)})),enumerable:!0},localVideoTrackStats:{value:t.localVideoTrackStats.map((function(e){return new i(e.trackId,e,n)})),enumerable:!0},remoteAudioTrackStats:{value:t.remoteAudioTrackStats.map((function(e){return new a(e.trackId,e)})),enumerable:!0},remoteVideoTrackStats:{value:t.remoteVideoTrackStats.map((function(e){return new o(e.trackId,e)})),enumerable:!0}})};e.exports=s},65503:function(e){"use strict";e.exports=function(e){return e.reduce((function(e,t){return"number"===typeof t?t+e:e}),0)}},85031:function(e){"use strict";var t=function(e,t){if("string"!==typeof e)throw new Error("Track id must be a string");Object.defineProperties(this,{trackId:{value:e,enumerable:!0},trackSid:{value:t.trackSid,enumerable:!0},timestamp:{value:t.timestamp,enumerable:!0},ssrc:{value:t.ssrc,enumerable:!0},packetsLost:{value:"number"===typeof t.packetsLost?t.packetsLost:null,enumerable:!0},codec:{value:"string"===typeof t.codecName?t.codecName:null,enumerable:!0}})};e.exports=t},97952:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t,n){var r=e.call(this)||this;return Object.defineProperties(r,{id:{enumerable:!0,value:t},kind:{enumerable:!0,value:n}}),r}return r(t,e),t.prototype.stop=function(){this.emit("stopped")},t}(n(47465).EventEmitter);e.exports=i},49536:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(68021),s=n(58242),u=s.buildLogLevels,c=s.makeUUID,l=n(41547),f=n(82909),d=n(91149),p=0,h={closed:[],connecting:["closed","open","waiting"],early:["closed","connecting"],open:["closed"],waiting:["closed","connecting","early","open"]},v={closed:"close",open:"open",waiting:"waiting"},m=3e3,g=3001,y=3002,b=3003,x=3005,k=3006,w=globalThis,_=w.WebSocket?w.WebSocket:n(10057),S={BUSY:"busy",FAILED:"failed",LOCAL:"local",REMOTE:"remote",TIMEOUT:"timeout"},T=new Map([[m,S.TIMEOUT],[g,S.TIMEOUT],[y,S.FAILED],[b,S.FAILED],[3004,S.TIMEOUT],[k,S.BUSY],[3007,S.TIMEOUT]]),E=function(e){function t(t,n){var r=e.call(this,"early",h)||this;n=Object.assign({helloBody:null,maxConsecutiveFailedHellos:3,maxConsecutiveMissedHeartbeats:3,requestedHeartbeatTimeout:5e3,openTimeout:15e3,welcomeTimeout:5e3,Log:l,WebSocket:_},n);var o=u(n.logLevel),s=new n.Log("default",r,o,n.loggerName),c=n.networkMonitor?new f((function(){var e=c.type,t="Network changed"+(e?" to "+e:"");s.debug(t),r._close({code:3004,reason:t})})):null;Object.defineProperties(r,{_busyWaitTimeout:{value:null,writable:!0},_consecutiveHeartbeatsMissed:{value:0,writable:!0},_cookie:{value:null,writable:!0},_eventObserver:{value:n.eventObserver},_heartbeatTimeout:{value:null,writable:!0},_hellosLeft:{value:n.maxConsecutiveFailedHellos,writable:!0},_instanceId:{value:++p},_log:{value:s},_messageQueue:{value:[]},_networkMonitor:{value:c},_options:{value:n},_openTimeout:{value:null,writable:!0},_sendHeartbeatTimeout:{value:null,writable:!0},_serverUrl:{value:t},_welcomeTimeout:{value:null,writable:!0},_ws:{value:null,writable:!0}});var d={connecting:"info",early:"info",open:"info",waiting:"warning",closed:"info"};return r.on("stateChanged",(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e in v&&r.emit.apply(r,a([v[e]],i(t)));var o={name:e,group:"signaling",level:d[r.state]};if("closed"===e){var s=i(t,1),u=s[0];o.payload={reason:u},o.level=u===S.LOCAL?"info":"error"}r._eventObserver.emit("event",o)})),r._eventObserver.emit("event",{name:r.state,group:"signaling",level:d[r.state]}),r._connect(),r}return r(t,e),t.prototype.toString=function(){return"[TwilioConnection #"+this._instanceId+": "+this._ws.url+"]"},t.prototype._close=function(e){var t=e.code,n=e.reason;if("closed"!==this.state){this._openTimeout&&this._openTimeout.clear(),this._welcomeTimeout&&this._welcomeTimeout.clear(),this._heartbeatTimeout&&this._heartbeatTimeout.clear(),this._sendHeartbeatTimeout&&this._sendHeartbeatTimeout.clear(),this._networkMonitor&&this._networkMonitor.stop(),this._busyWaitTimeout&&t!==x&&this._busyWaitTimeout.clear(),this._messageQueue.splice(0);var r=this._log;1e3===t?(r.debug("Closed"),this.transition("closed",null,[S.LOCAL])):(r.warn("Closed: "+t+" - "+n),t!==x&&this.transition("closed",null,[T.get(t)||S.REMOTE]));var i=this._ws.readyState,a=this._options.WebSocket;i!==a.CLOSING&&i!==a.CLOSED&&this._ws.close(t,n)}},t.prototype._connect=function(){var e=this,t=this._log;if("waiting"===this.state)this.transition("early");else if("early"!==this.state)return void t.warn('Unexpected state "'+this.state+'" for connecting to the TCMP server.');this._ws=new this._options.WebSocket(this._serverUrl);var n=this._ws;t.debug("Created a new WebSocket:",n),n.addEventListener("close",(function(t){return e._close(t)}));var r=this._options.openTimeout;this._openTimeout=new d((function(){var t="Failed to open in "+r+" ms";e._close({code:3007,reason:t})}),r),n.addEventListener("open",(function(){t.debug("WebSocket opened:",n),e._openTimeout.clear(),e._startHandshake(),e._networkMonitor&&e._networkMonitor.start()})),n.addEventListener("message",(function(n){t.debug("Incoming: "+n.data);try{n=JSON.parse(n.data)}catch(r){return void e.emit("error",r)}switch(n.type){case"bad":e._handleBad(n);break;case"busy":e._handleBusy(n);break;case"bye":break;case"msg":e._handleMessage(n);case"heartbeat":e._handleHeartbeat();break;case"welcome":e._handleWelcome(n);break;default:e._log.debug("Unknown message type: "+n.type),e.emit("error",new Error("Unknown message type: "+n.type))}}))},t.prototype._handleBad=function(e){var t=e.reason,n=this._log;if(["connecting","open"].includes(this.state)){if("connecting"===this.state)return n.warn("Closing: 3002 - "+t),void this._close({code:y,reason:t});n.debug("Error: "+t),this.emit("error",new Error(t))}else n.warn('Unexpected state "'+this.state+'" for handling a "bad" message from the TCMP server.')},t.prototype._handleBusy=function(e){var t=this,n=e.cookie,r=e.keepAlive,i=e.retryAfter,a=this._log;if(["connecting","waiting"].includes(this.state)){this._busyWaitTimeout&&this._busyWaitTimeout.clear(),this._welcomeTimeout&&this._welcomeTimeout.clear();var o=i<0?'Received terminal "busy" message':'Received "busy" message, retrying after '+i+" ms";if(i<0)return a.warn("Closing: 3006 - "+o),void this._close({code:k,reason:o});var s=this._options.maxConsecutiveFailedHellos;this._hellosLeft=s,this._cookie=n||null,r?(a.warn(o),this._busyWaitTimeout=new d((function(){return t._startHandshake()}),i)):(a.warn("Closing: 3005 - "+o),this._close({code:x,reason:o}),this._busyWaitTimeout=new d((function(){return t._connect()}),i)),this.transition("waiting",null,[r,i])}else a.warn('Unexpected state "'+this.state+'" for handling a "busy" message from the TCMP server.')},t.prototype._handleHeartbeat=function(){"open"===this.state?this._heartbeatTimeout.reset():this._log.warn('Unexpected state "'+this.state+'" for handling a "heartbeat" message from the TCMP server.')},t.prototype._handleHeartbeatTimeout=function(){if("open"===this.state){var e=this._log,t=this._options.maxConsecutiveMissedHeartbeats;e.debug("Consecutive heartbeats missed: "+t);var n="Missed "+t+' "heartbeat" messages';e.warn("Closing: 3001 - "+n),this._close({code:g,reason:n})}},t.prototype._handleMessage=function(e){var t=e.body;"open"===this.state?this.emit("message",t):this._log.warn('Unexpected state "'+this.state+'" for handling a "msg" message from the TCMP server.')},t.prototype._handleWelcome=function(e){var t=this,n=e.negotiatedTimeout,r=this._log;if(["connecting","waiting"].includes(this.state)){"waiting"===this.state&&(r.debug('Received "welcome" message, no need to retry connection.'),this._busyWaitTimeout.clear());var i=n*this._options.maxConsecutiveMissedHeartbeats,a=n-200;this._welcomeTimeout.clear(),this._heartbeatTimeout=new d((function(){return t._handleHeartbeatTimeout()}),i),this._messageQueue.splice(0).forEach((function(e){return t._send(e)})),this._sendHeartbeatTimeout=new d((function(){return t._sendHeartbeat()}),a),this.transition("open")}else r.warn('Unexpected state "'+this.state+'" for handling a "welcome" message from the TCMP server.')},t.prototype._handleWelcomeTimeout=function(){if("connecting"===this.state){var e=this._log;if(this._hellosLeft<=0){var t="All handshake attempts failed";return e.warn("Closing: 3000 - "+t),void this._close({code:m,reason:t})}var n=this._options.maxConsecutiveFailedHellos;e.warn("Handshake attempt "+(n-this._hellosLeft)+" failed"),this._startHandshake()}},t.prototype._send=function(e){if(this._ws.readyState===this._options.WebSocket.OPEN){var t=JSON.stringify(e);this._log.debug("Outgoing: "+t);try{this._ws.send(t),this._sendHeartbeatTimeout&&this._sendHeartbeatTimeout.reset()}catch(r){var n="Failed to send message";this._log.warn("Closing: 3003 - "+n),this._close({code:b,reason:n})}}},t.prototype._sendHeartbeat=function(){"closed"!==this.state&&this._send({type:"heartbeat"})},t.prototype._sendHello=function(){var e=this._options,t=e.helloBody,n=e.requestedHeartbeatTimeout,r={id:c(),timeout:n,type:"hello",version:2};this._cookie&&(r.cookie=this._cookie),t&&(r.body=t),this._send(r)},t.prototype._sendOrEnqueue=function(e){var t=this;if("closed"!==this.state){var n="open"===this.state?function(e){return t._send(e)}:function(e){return t._messageQueue.push(e)};n(e)}},t.prototype._startHandshake=function(){var e=this;if(["early","waiting"].includes(this.state)&&this.transition("connecting"),"connecting"===this.state){this._hellosLeft--,this._sendHello();var t=this._options.welcomeTimeout;this._welcomeTimeout=new d((function(){return e._handleWelcomeTimeout()}),t)}},t.prototype.close=function(){"closed"!==this.state&&(this._sendOrEnqueue({type:"bye"}),this._close({code:1e3,reason:"Normal"}))},t.prototype.sendMessage=function(e){this._sendOrEnqueue({body:e,type:"msg"})},t}(o);E.CloseReason=S,e.exports=E},14477:function(e,t,n){"use strict";var r=n(58242).defer,i=function(){function e(){Object.defineProperties(this,{_deferreds:{value:[]},_hasValue:{value:!1,writable:!0},_value:{value:null,writable:!0}})}return e.prototype.put=function(e){this._hasValue=!0,this._value=e;var t=this._deferreds.shift();return t&&t.resolve(e),this},e.prototype.take=function(){var e=this;if(this._hasValue&&!this._deferreds.length)return this._hasValue=!1,Promise.resolve(this._value);var t=r();return this._deferreds.push(t),t.promise.then((function(t){return e._hasValue=!1,t}))},e}();e.exports=i},26937:function(e){var t=function(){function e(e){Object.defineProperties(this,{_min:{value:e.min||100},_max:{value:e.max||1e4},_jitter:{value:e.jitter>0&&e.jitter<=1?e.jitter:0},_factor:{value:e.factor||2},_attempts:{value:0,writable:!0},_duration:{enumerable:!1,get:function(){var e=this._min*Math.pow(this._factor,this._attempts);if(this._jitter){var t=Math.random(),n=Math.floor(t*this._jitter*e);e=0===(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this._max)}},_timeoutID:{value:null,writable:!0}})}return e.prototype.backoff=function(e){var t=this,n=this._duration;this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null),this._timeoutID=setTimeout((function(){t._attempts++,e()}),n)},e.prototype.reset=function(){this._attempts=0,this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)},e}();e.exports=t},39091:function(e){"use strict";var t=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};function n(){return!!(navigator&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2)}function r(){return n()&&window.screen.width>=744&&(/Macintosh/i.test(navigator.userAgent)||/iPad/.test(navigator.userAgent)||/iPad/.test(navigator.platform))}function i(){return n()&&window.screen.width<=476&&(/Macintosh/i.test(navigator.userAgent)||/iPhone/.test(navigator.userAgent)||/iPhone/.test(navigator.platform))}e.exports={isAndroid:function(){return/Android/.test(navigator.userAgent)},isIOS:function(){return r()||i()},isIpad:r,isIphone:i,isMobile:function(){return/Mobi/.test(navigator.userAgent)},isNonChromiumEdge:function(e){return"chrome"===e&&/Edge/.test(navigator.userAgent)&&("undefined"===typeof chrome||"undefined"===typeof chrome.runtime)},mobileWebKitBrowser:function(e){return"safari"!==e?null:"brave"in navigator?"brave":["edge","edg"].find((function(e){return navigator.userAgent.toLowerCase().includes(e)}))||null},rebrandedChromeBrowser:function(e){if("chrome"!==e)return null;if("brave"in navigator)return"brave";var n=function(e){for(var t=[],n=[],r=0;r<e.length;r++)if("("===e[r])t.push(r);else if(")"===e[r]&&t.length>0){var i=t.pop();0===t.length&&n.push(e.substring(i,r+1))}return n}(navigator.userAgent).reduce((function(e,t){return e.replace(t,"")}),navigator.userAgent).match(/[^\s]+/g)||[];return t(n.map((function(e){return e.split("/")[0].toLowerCase()}))).slice(2).find((function(e){return!["chrome","mobile","safari"].includes(e)}))||null}}},38156:function(e){"use strict";var t=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},n=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},r=function(){function e(e,t){var n=this;Object.defineProperties(this,{_isCancelable:{writable:!0,value:!0},_isCanceled:{writable:!0,value:!1},_onCancel:{value:t}}),Object.defineProperty(this,"_promise",{value:new Promise((function(t,r){e((function(e){n._isCancelable=!1,t(e)}),(function(e){n._isCancelable=!1,r(e)}),(function(){return n._isCanceled}))}))})}return e.reject=function(t){return new e((function(e,n){n(t)}),(function(){}))},e.resolve=function(t){return new e((function(e){e(t)}),(function(){}))},e.prototype.cancel=function(){return this._isCancelable&&(this._isCanceled=!0,this._onCancel()),this},e.prototype.catch=function(){var r=[].slice.call(arguments),i=this._promise;return new e((function(e,a){i.catch.apply(i,n([],t(r))).then(e,a)}),this._onCancel)},e.prototype.then=function(){var r=[].slice.call(arguments),i=this._promise;return new e((function(e,a){i.then.apply(i,n([],t(r))).then(e,a)}),this._onCancel)},e.prototype.finally=function(){var r=[].slice.call(arguments),i=this._promise;return new e((function(e,a){i.finally.apply(i,n([],t(r))).then(e,a)}),this._onCancel)},e}();e.exports=r},24657:function(e,t,n){"use strict";var r=n(1730);e.exports.SDK_NAME=r.name+".js",e.exports.SDK_VERSION=r.version,e.exports.SDP_FORMAT="unified",e.exports.hardwareDevicePublisheriPad={hwDeviceManufacturer:"Apple",hwDeviceModel:"iPad",hwDeviceType:"tablet",platformName:"iOS"},e.exports.hardwareDevicePublisheriPhone={hwDeviceManufacturer:"Apple",hwDeviceModel:"iPhone",hwDeviceType:"mobile",platformName:"iOS"},e.exports.DEFAULT_ENVIRONMENT="prod",e.exports.DEFAULT_REALM="us1",e.exports.DEFAULT_REGION="gll",e.exports.DEFAULT_LOG_LEVEL="warn",e.exports.DEFAULT_LOGGER_NAME="twilio-video",e.exports.WS_SERVER=function(e,t){return t="gll"===t?"global":encodeURIComponent(t),"prod"===e?"wss://"+t+".vss.twilio.com/signaling":"wss://"+t+".vss."+e+".twilio.com/signaling"},e.exports.PUBLISH_MAX_ATTEMPTS=5,e.exports.PUBLISH_BACKOFF_JITTER=10,e.exports.PUBLISH_BACKOFF_MS=20,e.exports.typeErrors={ILLEGAL_INVOKE:function(e,t){return new TypeError("Illegal call to "+e+": "+t)},INVALID_TYPE:function(e,t){return new TypeError(e+" must be "+((["a","e","i","o","u"].includes(t.toLowerCase()[0])?"an":"a")+" ")+t)},INVALID_VALUE:function(e,t){return new RangeError(e+" must be one of "+t.join(", "))},REQUIRED_ARGUMENT:function(e){return new TypeError(e+" must be specified")}},e.exports.DEFAULT_FRAME_RATE=24,e.exports.DEFAULT_VIDEO_PROCESSOR_STATS_INTERVAL_MS=1e4,e.exports.DEFAULT_ICE_GATHERING_TIMEOUT_MS=15e3,e.exports.DEFAULT_SESSION_TIMEOUT_SEC=30,e.exports.DEFAULT_NQ_LEVEL_LOCAL=1,e.exports.DEFAULT_NQ_LEVEL_REMOTE=0,e.exports.MAX_NQ_LEVEL=3,e.exports.ICE_ACTIVITY_CHECK_PERIOD_MS=1e3,e.exports.ICE_INACTIVITY_THRESHOLD_MS=3e3,e.exports.iceRestartBackoffConfig={factor:1.1,min:1,max:1e3*e.exports.DEFAULT_SESSION_TIMEOUT_SEC,jitter:1},e.exports.reconnectBackoffConfig={factor:1.5,min:80,jitter:1},e.exports.subscriptionMode={MODE_COLLABORATION:"collaboration",MODE_GRID:"grid",MODE_PRESENTATION:"presentation"},e.exports.trackSwitchOffMode={MODE_DISABLED:"disabled",MODE_DETECTED:"detected",MODE_PREDICTED:"predicted"},e.exports.trackPriority={PRIORITY_HIGH:"high",PRIORITY_LOW:"low",PRIORITY_STANDARD:"standard"},e.exports.clientTrackSwitchOffControl={MODE_AUTO:"auto",MODE_MANUAL:"manual"},e.exports.videoContentPreferencesMode={MODE_AUTO:"auto",MODE_MANUAL:"manual"}},11060:function(e,t,n){"use strict";var r=n(88467);e.exports=function(e){var t=n(63074),i={},a=t.getOrCreate(i),o=3;return function t(){return o--,r(a,e.srcObject,250).then((function(e){return!!e&&(!(o>0)||t())})).catch((function(){return!0}))}().finally((function(){t.release(i)}))}},43377:function(e){"use strict";var t=null;e.exports=function(e){return t=t||document.createElement("canvas"),new Promise((function(n){var r=3;setTimeout((function i(){return r--,function(e){try{var n=t.getContext("2d");n.drawImage(e,0,0,50,50);var r=n.getImageData(0,0,50,50).data.filter((function(e,t){return(t+1)%4}));return 0===Math.max.apply(Math,r)}catch(i){return console.log("Error checking silence: ",i),!1}}(e)?r>0?setTimeout(i,250):n(!0):n(!1)}),250)}))}},72217:function(e){"use strict";var t=function(){function e(e){var t=this;void 0===e&&(e=1),Object.defineProperties(this,{_listeners:{value:[]},_onVisibilityChange:{value:function(){t._emitVisible("visible"===document.visibilityState)}}});for(var n=0;n<e;n++)this._listeners.push([])}return e.prototype.clear=function(){for(var e=this._listeners.length,t=0;t<e;t++)this._listeners[t]=[]},e.prototype._listenerCount=function(){return this._listeners.reduce((function(e,t){return e+t.length}),0)},e.prototype._emitVisible=function(e){for(var t=this,n=Promise.resolve(),r=function(r){n=n.then((function(){return t._emitVisiblePhase(r,e)}))},i=1;i<=this._listeners.length;i++)r(i);return n},e.prototype._emitVisiblePhase=function(e,t){var n=this._listeners[e-1];return Promise.all(n.map((function(e){var n=e(t);return n instanceof Promise?n:Promise.resolve(n)})))},e.prototype._start=function(){document.addEventListener("visibilitychange",this._onVisibilityChange)},e.prototype._stop=function(){document.removeEventListener("visibilitychange",this._onVisibilityChange)},e.prototype.onVisibilityChange=function(e,t){if("number"!==typeof e||e<=0||e>this._listeners.length)throw new Error("invalid phase: ",e);return this._listeners[e-1].push(t),1===this._listenerCount()&&this._start(),this},e.prototype.offVisibilityChange=function(e,t){if("number"!==typeof e||e<=0||e>this._listeners.length)throw new Error("invalid phase: ",e);var n=this._listeners[e-1],r=n.indexOf(t);return-1!==r&&(n.splice(r,1),0===this._listenerCount()&&this._stop()),this},e}();e.exports=new t(2)},3035:function(e){"use strict";e.exports=function(e){var t=e.location,n=e.URL;return[t,n].some((function(e){return!e}))?function(e){return Promise.reject(new Error("Failed to import: "+e+": dynamicImport is not supported"))}:(e.__twilioVideoImportedModules={},function(r){return r in e.__twilioVideoImportedModules?Promise.resolve(e.__twilioVideoImportedModules[r]):new Function("scope","return import('"+new n(r,t)+"').then(m => scope.__twilioVideoImportedModules['"+r+"'] = m);")(e)})}(globalThis)},16820:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(47465).EventEmitter,a=["signaling","room","media","quality","video-processor","preflight"],o=["debug","error","info","warning"],s=function(e){function t(t,n,r,i){void 0===i&&(i=null);var s=e.call(this)||this;return s.on("event",(function(e){var s=e.name,u=e.group,c=e.level,l=e.payload;if("string"!==typeof s)throw r.error("Unexpected name: ",s),new Error("Unexpected name: ",s);if(!a.includes(u))throw r.error("Unexpected group: ",u),new Error("Unexpected group: ",u);if(!o.includes(c))throw r.error("Unexpected level: ",c),new Error("Unexpected level: ",c);var f=Date.now(),d=f-n,p=Object.assign({elapsedTime:d,level:c},l||{});t.publish(u,s,p);var h=Object.assign({elapsedTime:d,group:u,level:c,name:s,timestamp:f},l?{payload:l}:{});r[{debug:"debug",error:"error",info:"info",warning:"warn"}[c]]("event",h),i&&"signaling"===u&&i.emit("event",h)})),s}return r(t,e),t}(i);e.exports=s},93307:function(e){"use strict";var t=function(){function e(e){e=Object.assign({getKey:function(e){return e},getValue:function(e){return e},isLessThanOrEqualTo:function(e,t){return e<=t}},e),Object.defineProperties(this,{_getKey:{value:e.getKey},_getValue:{value:e.getValue},_isLessThanOrEqualTo:{value:e.isLessThanOrEqualTo},_map:{value:new Map}})}return e.prototype.toMap=function(){return new Map(this._map)},e.prototype.updateAndFilter=function(e){return e.filter(this.update,this)},e.prototype.update=function(e){var t=this._getKey(e),n=this._getValue(e);return(!this._map.has(t)||!this._isLessThanOrEqualTo(n,this._map.get(t)))&&(this._map.set(t,n),!0)},e}();e.exports=t},58242:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(24657),s=o.typeErrors,u=o.trackPriority,c=n(73348),l=n(22243).sessionSID,f=n(94438);function d(){return"undefined"!==typeof navigator&&navigator.userAgent?navigator.userAgent:"Unknown"}function p(e,t,n,r){if(!(r in t)&&!r.match(/^on[a-z]+$/)){var o;try{o=typeof e[r]}catch(s){}"function"===o&&(t[r]=function(){for(var e,t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return(e=this[n])[r].apply(e,a([],i(t)))})}}function h(e){return"object"===typeof e&&!Array.isArray(e)}function v(e){Object.getOwnPropertyNames(e).forEach((function(t){t.startsWith("_")&&m(e,t)}))}function m(e,t){var n=Object.getOwnPropertyDescriptor(e,t);n.enumerable=!1,Object.defineProperty(e,t,n)}function g(e,t){void 0===t&&(t=[]),t.forEach((function(t){e.hasOwnProperty(t)&&m(e,t)}))}function y(e){return e.map(b)}function b(e){return Array.isArray(e)?y(e):e instanceof Set?y(a([],i(e))):e instanceof Map?a([],i(e.entries())).reduce((function(e,t){var n,r=i(t,2),a=r[0],o=r[1];return Object.assign(((n={})[a]=b(o),n),e)}),{}):e&&"object"===typeof e?(t=e,Object.entries(t).reduce((function(e,t){var n,r=i(t,2),a=r[0],o=r[1];return Object.assign(((n={})[a]=b(o),n),e)}),{})):e;var t}function x(e){return _(e,[{prop:"dominantSpeakerPriority",type:"string",payloadProp:"active_speaker_priority"},{prop:"maxSubscriptionBitrate",type:"number",payloadProp:"max_subscription_bandwidth"},{prop:"maxTracks",type:"number",payloadProp:"max_tracks"},{prop:"mode",type:"string"},{prop:"renderDimensions",type:"object",payloadProp:"render_dimensions",transform:w},{prop:"trackSwitchOffMode",type:"string",payloadProp:"track_switch_off"}])}function k(e){return _(e,[{prop:"height",type:"number"},{prop:"width",type:"number"}])}function w(e){return _(e,[{prop:u.PRIORITY_HIGH,type:"object",transform:k},{prop:u.PRIORITY_LOW,type:"object",transform:k},{prop:u.PRIORITY_STANDARD,type:"object",transform:k}])}function _(e,t){return t.reduce((function(t,n){var r,i=n.prop,a=n.type,o=n.payloadProp,s=void 0===o?i:o,u=n.transform,c=void 0===u?function(e){return e}:u;return typeof e[i]===a?Object.assign(((r={})[s]=c(e[i]),r),t):t}),{})}t.constants=o,t.createBandwidthProfilePayload=function(e){return _(e,[{prop:"video",type:"object",transform:x}])},t.createMediaSignalingPayload=function(e,t,n,r,i,a){var o={transports:[{type:"data-channel"}]};return Object.assign(e?{active_speaker:o}:{},t?{network_quality:o}:{},a?{render_hints:o}:{},i?{publisher_hints:o}:{},n?{track_priority:o}:{},r?{track_switch_off:o}:{})},t.createMediaWarningsPayload=function(e){var t,n=((t={})[f.recordingMediaLost]="recordings",t);return e.map((function(e){return n[e]})).filter((function(e){return!!e}))},t.createRoomConnectEventPayload=function(e){function t(e){return e?"true":"false"}var n={sessionSID:l,iceServers:(e.iceServers||[]).length,audioTracks:(e.tracks||[]).filter((function(e){return"audio"===e.kind})).length,videoTracks:(e.tracks||[]).filter((function(e){return"video"===e.kind})).length,dataTracks:(e.tracks||[]).filter((function(e){return"data"===e.kind})).length};if([["audio"],["automaticSubscription"],["enableDscp"],["eventListener"],["preflight"],["video"],["dominantSpeaker","enableDominantSpeaker"]].forEach((function(r){var a=i(r,2),o=a[0],s=a[1];n[s=s||o]=t(!!e[o])})),[["maxVideoBitrate"],["maxAudioBitrate"]].forEach((function(t){var r=i(t,2),a=r[0],o=r[1];o=o||a,"number"===typeof e[a]?n[o]=e[a]:isNaN(Number(e[a]))||(n[o]=Number(e[a]))})),[["iceTransportPolicy"],["region"],["name","roomName"]].forEach((function(t){var r=i(t,2),a=r[0],o=r[1];o=o||a,"string"===typeof e[a]?n[o]=e[a]:"number"===typeof e[a]&&"name"===a&&(n[o]=e[a].toString())})),["preferredAudioCodecs","preferredVideoCodecs"].forEach((function(t){t in e&&(n[t]=JSON.stringify(e[t]))})),"networkQuality"in e&&(n.networkQualityConfiguration={},h(e.networkQuality)?["local","remote"].forEach((function(t){"number"===typeof e.networkQuality[t]&&(n.networkQualityConfiguration[t]=e.networkQuality[t])})):(n.networkQualityConfiguration.remote=0,n.networkQualityConfiguration.local=e.networkQuality?1:0)),e.bandwidthProfile&&e.bandwidthProfile.video){var r=e.bandwidthProfile.video||{};n.bandwidthProfileOptions={},["mode","maxTracks","trackSwitchOffMode","dominantSpeakerPriority","maxSubscriptionBitrate","renderDimensions","contentPreferencesMode","clientTrackSwitchOffControl"].forEach((function(e){"number"===typeof r[e]||"string"===typeof r[e]?n.bandwidthProfileOptions[e]=r[e]:"boolean"===typeof r[e]?n.bandwidthProfileOptions[e]=t(r[e]):"object"===typeof r[e]&&(n.bandwidthProfileOptions[e]=JSON.stringify(r[e]))}))}return{group:"room",name:"connect",level:"info",payload:n}},t.createSubscribePayload=function(e){return{rules:[{type:e?"include":"exclude",all:!0}],revision:1}},t.asLocalTrack=function(e,t){if(e instanceof t.LocalAudioTrack||e instanceof t.LocalVideoTrack||e instanceof t.LocalDataTrack)return e;if(e instanceof t.MediaStreamTrack)return"audio"===e.kind?new t.LocalAudioTrack(e,t):new t.LocalVideoTrack(e,t);throw s.INVALID_TYPE("track","LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack")},t.asLocalTrackPublication=function(e,t,n,r){return new(0,{audio:r.LocalAudioTrackPublication,video:r.LocalVideoTrackPublication,data:r.LocalDataTrackPublication}[e.kind])(t,e,n,r)},t.capitalize=function(e){return e[0].toUpperCase()+e.slice(1)},t.deprecateEvents=function(e,t,n,r){var i=new Set;t.on("newListener",(function a(o){n.has(o)&&!i.has(o)&&(r.deprecated(e+"#"+o+" has been deprecated and scheduled for removal in twilio-video.js@2.0.0."+(n.get(o)?" Use "+e+"#"+n.get(o)+" instead.":"")),i.add(o)),i.size>=n.size&&t.removeListener("newListener",a)}))},t.difference=function(e,t){e=Array.isArray(e)?new Set(e):new Set(e.values()),t=Array.isArray(t)?new Set(t):new Set(t.values());var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n},t.filterObject=function(e,t){return Object.keys(e).reduce((function(n,r){return e[r]!==t&&(n[r]=e[r]),n}),{})},t.flatMap=function(e,t){var n=e instanceof Map||e instanceof Set?Array.from(e.values()):e;return t=t||function(e){return e},n.reduce((function(e,n){var r=t(n);return e.concat(r)}),[])},t.getPlatform=function(){var e=d(),t=i(e.match(/\(([^)]+)\)/)||[],2)[1];return i((void 0===t?"unknown":t).split(";").map((function(e){return e.trim()})),1)[0].toLowerCase()},t.getUserAgent=d,t.hidePrivateProperties=v,t.hidePrivateAndCertainPublicPropertiesInClass=function(e,t){return function(e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,a([],i(n)))||this;return v(o),g(o,t),o}return r(n,e),n}(e)},t.isDeepEqual=function e(t,n){if(t===n)return!0;if(typeof t!==typeof n)return!1;if(null===t)return null===n;if(null===n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t){var r=Object.keys(t).sort(),i=Object.keys(n).sort();return!Array.isArray(n)&&e(r,i)&&r.every((function(r){return e(t[r],n[r])}))}return!1},t.isNonArrayObject=h,t.inRange=function(e,t,n){return t<=e&&e<=n},t.makeUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.oncePerTick=function(e){var t=null;function n(){t=null,e()}return function(){t&&clearTimeout(t),t=setTimeout(n)}},t.promiseFromEvents=function(e,t,n,r){return new Promise((function(o,s){function u(){var e=[].slice.call(arguments);r&&t.removeListener(r,c),o.apply(void 0,a([],i(e)))}function c(){var e=[].slice.call(arguments);t.removeListener(n,u),s.apply(void 0,a([],i(e)))}t.once(n,u),r&&t.once(r,c),e()}))},t.getOrNull=function(e,t){return t.split(".").reduce((function(e,t){return e?e[t]:null}),e)},t.defer=function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e},t.delegateMethods=function(e,t,n){for(var r in e)p(e,t,n,r)},t.proxyProperties=function(e,t,n){Object.getOwnPropertyNames(e).forEach((function(e){!function(e,t,n,r){if(r in t)return;if(r.match(/^on[a-z]+$/))return Object.defineProperty(t,r,{value:null,writable:!0}),void n.addEventListener(r.slice(2),(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.dispatchEvent.apply(t,a([],i(e)))}));Object.defineProperty(t,r,{enumerable:!0,get:function(){return n[r]}})}(0,t,n,e)}))},t.legacyPromise=function(e,t,n){return t?e.then((function(e){t(e)}),(function(e){n(e)})):e},t.buildLogLevels=function(e){return"string"===typeof e?{default:e,media:e,signaling:e,webrtc:e}:e},t.trackClass=function(e,t){return(t=t?"Local":"")+(e.kind||"").replace(/\w{1}/,(function(e){return e.toUpperCase()}))+"Track"},t.trackPublicationClass=function(e,t){return(t=t?"Local":"")+(e.kind||"").replace(/\w{1}/,(function(e){return e.toUpperCase()}))+"TrackPublication"},t.valueToJSON=b,t.withJitter=function(e,t){var n=Math.random();return e-t+Math.floor(2*t*n+.5)},t.isChromeScreenShareTrack=function(e){return"chrome"===c.guessBrowser()&&"video"===e.kind&&"displaySurface"in e.getSettings()},t.isUserMediaTrack=function(e){return"string"===typeof e.getSettings().deviceId},t.waitForSometime=function(e){return void 0===e&&(e=10),new Promise((function(t){return setTimeout(t,e)}))},t.waitForEvent=function(e,t){return new Promise((function(n){e.addEventListener(t,(function r(i){e.removeEventListener(t,r),n(i)}))}))}},33512:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a=n(47465).EventEmitter,o=n(58242).getUserAgent,s=globalThis,u=s.WebSocket?s.WebSocket:n(10057),c=n(24657),l=c.hardwareDevicePublisheriPad,f=c.hardwareDevicePublisheriPhone,d=n(58242),p=n(39091),h=function(e){function t(t,n,r,i,a,s){var c=e.call(this)||this;return s=Object.assign({gateway:m(i,a)+"/v1/VideoEvents",maxReconnectAttempts:5,reconnectIntervalMs:50,userAgent:o(),WebSocket:u},s),Object.defineProperties(c,{_connectTimestamp:{value:0,writable:!0},_eventQueue:{value:[]},_readyToConnect:{value:d.defer()},_reconnectAttemptsLeft:{value:s.maxReconnectAttempts,writable:!0},_ws:{value:null,writable:!0},_WebSocket:{value:s.WebSocket}}),c._readyToConnect.promise.then((function(e){var i=e.roomSid,a=e.participantSid,o=c;c.on("disconnected",(function e(u){if(o._session=null,u&&o._reconnectAttemptsLeft>0)return o.emit("reconnecting"),void function(e,t,n,r,i,a,o){var s=Date.now()-e._connectTimestamp,u=o.reconnectIntervalMs-s;if(u>0)return void setTimeout((function(){v(e,t,n,r,i,a,o)}),u);v(e,t,n,r,i,a,o)}(o,t,n,r,i,a,s);o.removeListener("disconnected",e)})),v(c,t,n,r,i,a,s)})).catch((function(){})),c}return r(t,e),t.prototype.connect=function(e,t){this._readyToConnect.resolve({roomSid:e,participantSid:t})},t.prototype._publish=function(e){e.session=this._session,this._ws.send(JSON.stringify(e))},t.prototype.disconnect=function(){if(null===this._ws||this._ws.readyState===this._WebSocket.CLOSING||this._ws.readyState===this._WebSocket.CLOSED)return!1;try{this._ws.close()}catch(e){}return this.emit("disconnected"),!0},t.prototype.publish=function(e,t,n){return(null===this._ws||this._ws.readyState!==this._WebSocket.CLOSING&&this._ws.readyState!==this._WebSocket.CLOSED)&&(("string"===typeof this._session?this._publish.bind(this):this._eventQueue.push.bind(this._eventQueue))({group:e,name:t,payload:n,timestamp:Date.now(),type:"event",version:1}),!0)},t}(a);function v(e,t,n,r,a,o,s){e._connectTimestamp=Date.now(),e._reconnectAttemptsLeft--,e._ws=new s.WebSocket(s.gateway);var u=e._ws;u.addEventListener("close",(function(t){1e3!==t.code?e.emit("disconnected",new Error("WebSocket Error "+t.code+": "+t.reason)):e.emit("disconnected")})),u.addEventListener("message",(function(t){!function(e,t,n){switch(t.type){case"connected":e._session=t.session,e._reconnectAttemptsLeft=n.maxReconnectAttempts,e._eventQueue.splice(0).forEach(e._publish,e),e.emit("connected");break;case"error":e._ws.close(),e.emit("disconnected",new Error(t.message))}}(e,JSON.parse(t.data),s)})),u.addEventListener("open",(function(){var e={type:"connect",token:t,version:1};e.publisher={name:n,sdkVersion:r,userAgent:s.userAgent,participantSid:o,roomSid:a},p.isIpad()?e.publisher=i(i({},e.publisher),l):p.isIphone()&&(e.publisher=i(i({},e.publisher),f)),u.send(JSON.stringify(e))}))}function m(e,t){return"prod"===e?"wss://sdkgw."+t+".twilio.com":"wss://sdkgw."+e+"-"+t+".twilio.com"}e.exports=h},3137:function(e){"use strict";var t=function(){function e(){Object.defineProperties(this,{_connected:{writable:!0,value:!0}})}return e.prototype.connect=function(){},e.prototype.disconnect=function(){return!!this._connected&&(this._connected=!1,!0)},e.prototype.publish=function(){return this._connected},e}();e.exports=t},39271:function(e,t,n){"use strict";var r=n(58242).defer,i=function(){function e(){Object.defineProperties(this,{_audio:{value:r(),writable:!0},_video:{value:r(),writable:!0}}),this._audio.resolve(),this._video.resolve()}return e.prototype.resolveDeferred=function(e){"audio"===e?this._audio.resolve():this._video.resolve()},e.prototype.startDeferred=function(e){"audio"===e?this._audio=r():this._video=r()},e.prototype.whenResolved=function(e){return"audio"===e?this._audio.promise:this._video.promise},e}();e.exports=new i},41547:function(e,t,n){"use strict";var r,i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=n(48489).getLogger,s=n(24657),u=s.DEFAULT_LOG_LEVEL,c=s.DEFAULT_LOGGER_NAME,l=n(24657).typeErrors;var f=function(){function e(t,n,r,i,a){if("string"!==typeof t)throw l.INVALID_TYPE("moduleName","string");if(!n)throw l.REQUIRED_ARGUMENT("component");"object"!==typeof r&&(r={}),a=a||o,m(r),Object.defineProperties(this,{_component:{value:n},_logLevels:{value:r},_warnings:{value:new Set},_loggerName:{get:function(){var e=i&&"string"===typeof i?i:c;return this._logLevelsEqual||(e=e+"-"+t),e}},_logger:{get:function(){var e=a(this._loggerName),n=this._logLevels[t]||u;return n="off"===n?"silent":n,e.setDefaultLevel(n),e}},_logLevelsEqual:{get:function(){return 1===new Set(Object.values(this._logLevels)).size}},logLevel:{get:function(){return e.getLevelByName(r[t]||u)}},name:{get:n.toString.bind(n)}})}return e.getLevelByName=function(t){return isNaN(t)?(v(t=t.toUpperCase()),e[t]):parseInt(t,10)},e.prototype.createLog=function(t,n){var r=this._loggerName;return this._logLevelsEqual||(r=r.substring(0,r.lastIndexOf("-"))),new e(t,n,this._logLevels,r)},e.prototype.setLevels=function(e){return m(e),Object.assign(this._logLevels,e),this},e.prototype.log=function(t,n){var r=e._levels[t];if(!r)throw l.INVALID_VALUE("logLevel",p);r=r.toLowerCase();var o=[(new Date).toISOString(),r,this.name];return(this._logger[r]||function(){}).apply(void 0,a([],i(o.concat(n)))),this},e.prototype.debug=function(){return this.log(e.DEBUG,[].slice.call(arguments))},e.prototype.deprecated=function(e){var t=function(e){if((r=r||new Map).has(e))return r.get(e);var t=new Set;return r.set(e,t),t}(this._component.constructor);return t.has(e)?this:(t.add(e),this.warn(e))},e.prototype.info=function(){return this.log(e.INFO,[].slice.call(arguments))},e.prototype.warn=function(){return this.log(e.WARN,[].slice.call(arguments))},e.prototype.warnOnce=function(e){return this._warnings.has(e)?this:(this._warnings.add(e),this.warn(e))},e.prototype.error=function(){return this.log(e.ERROR,[].slice.call(arguments))},e.prototype.throw=function(t,n){throw t.clone&&(t=t.clone(n)),this.log(e.ERROR,t),t},e}();Object.defineProperties(f,{DEBUG:{value:0},INFO:{value:1},WARN:{value:2},ERROR:{value:3},OFF:{value:4},_levels:{value:["DEBUG","INFO","WARN","ERROR","OFF"]}});var d={},p=[],h=f._levels.map((function(e,t){return d[e]=!0,p.push(t),e}));function v(e){if(!(e in d))throw l.INVALID_VALUE("level",h)}function m(e){Object.keys(e).forEach((function(t){v(e[t].toUpperCase())}))}e.exports=f},21288:function(e){"use strict";var t=function(){function e(){Object.defineProperties(this,{_samples:{value:[{denominator:0,numerator:0},{denominator:0,numerator:0}]}})}return e.prototype.get=function(){var e=this._samples,t=e[1].denominator-e[0].denominator||1/0;return(e[1].numerator-e[0].numerator)/t},e.prototype.putSample=function(e,t){var n=this._samples;n.shift(),n.push({denominator:t,numerator:e})},e}();e.exports=t},82909:function(e){"use strict";var t=function(){function e(e,t){var n=this,r=(t=Object.assign({navigator:navigator,window:window},t)).navigator,i=r.connection||{type:null},a=i.type,o=i.type?{_events:{value:["change","typechange"]},_listener:{value:function(){var t=a!==n.type&&n.isOnline;a=n.type,t&&e()}},_target:{value:i}}:{_events:{value:["online"]},_listener:{value:e},_target:{value:t.window}},s=o._events,u=o._listener,c=o._target;Object.defineProperties(this,{isOnline:{enumerable:!0,get:function(){return"boolean"!==typeof r.onLine||r.onLine}},type:{enumerable:!0,get:function(){return i.type||null}},_listener:u,_events:s,_target:c})}return e.prototype.start=function(){var e=this;this._events.forEach((function(t){e._target.addEventListener(t,e._listener)}))},e.prototype.stop=function(){var e=this;this._events.forEach((function(t){e._target.removeEventListener(t,e._listener)}))},e}();e.exports=t},76770:function(e){"use strict";var t=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),n=function(){function e(e){Object.defineProperties(this,{_callback:{value:e}})}return e.prototype.observe=function(){},e.prototype.unobserve=function(){},e.prototype.makeVisible=function(e){var t=this._makeFakeEntry(e,!0);this._callback([t])},e.prototype.makeInvisible=function(e){var t=this._makeFakeEntry(e,!1);this._callback([t])},e.prototype._makeFakeEntry=function(e,t){return{target:e,isIntersecting:t}},e}(),r=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n}(n),i=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t(n,e),n.prototype.resize=function(e){var t=this._makeFakeEntry(e,!0);this._callback([t])},n}(n);e.exports={NullIntersectionObserver:r,NullResizeObserver:i,NullObserver:n}},2283:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=n(58242),a=i.difference,o=i.flatMap,s=n(8293),u={0:"PCMU",8:"PCMA"};function c(e){return Array.from(f(e)).reduce((function(e,t){var n=t[0],r=t[1],i=e.get(r)||[];return e.set(r,i.concat(n))}),new Map)}function l(e){return h(e).reduce((function(e,t){var n=p(t);return n?e.set(n,t):e}),new Map)}function f(e){return v(e).reduce((function(t,n){var r=new RegExp("a=rtpmap:"+n+" ([^/]+)"),i=e.match(r),a=i?i[1].toLowerCase():u[n]?u[n].toLowerCase():"";return t.set(n,a)}),new Map)}function d(e,t){var n=new RegExp("^a=fmtp:"+e+" (.+)$","m"),i=t.match(n);return i&&i[1].split(";").reduce((function(e,t){var n=r(t.split("="),2),i=n[0],a=n[1];return e[i]=isNaN(a)?a:parseInt(a,10),e}),{})}function p(e){var t=e.match(/^a=mid:(.+)$/m);return t&&t[1]}function h(e,t,n){return e.replace(/\r\n\r\n$/,"\r\n").split("\r\nm=").slice(1).map((function(e){return"m="+e})).filter((function(e){var r=new RegExp("m="+(t||".*"),"gm"),i=new RegExp("a="+(n||".*"),"gm");return r.test(e)&&i.test(e)}))}function v(e){var t=e.split("\r\n")[0].match(/([0-9]+)/g);return t?t.slice(1).map((function(e){return parseInt(e,10)})):[]}function m(e,t){var n=t.split("\r\n"),r=n[0],i=n.slice(1);return[r=r.replace(/([0-9]+\s?)+$/,e.join(" "))].concat(i).join("\r\n")}function g(e,t,n){if(!/^m=(audio|video)/.test(e))return e;var i=p(e),a=i&&t.get(i);if(!a)return e;var s=f(a),u=c(e),l=o(Array.from(s),(function(t){var i=r(t,2),o=i[0],s=i[1];return"rtx"===s||n.includes(s)?[]:function(e,t,n,r,i){var a=n.get(e)||[];if(a.length<=1)return a;var o=d(t,i);if(!o)return a;var s=a.find((function(e){var t=d(e,r);return t&&Object.keys(o).every((function(e){return o[e]===t[e]}))}));return"number"===typeof s?[s]:a}(s,o,u,e,a)})),h=u.get("rtx")||[];l=l.concat(h.filter((function(t){var n=d(t,e);return n&&l.includes(n.apt)})));var g=e.split("\r\n").filter((function(e){var t=e.match(/^a=(rtpmap|fmtp|rtcp-fb):(.+) .+$/),n=t&&t[2];return!t||n&&l.includes(parseInt(n,10))}));return m(v(e).filter((function(e){return l.includes(e)})),g.join("\r\n"))}function y(e,t){var n=h(e);return[e.split("\r\nm=")[0]].concat(n.map((function(e){if(!/^m=(audio|video)/.test(e))return e;var n=p(e);if(!n)return e;var i=t.get(n);if(!i)return e;var a=(e.match(/^a=msid:(.+)$/m)||[])[1];if(!a)return e;var o=r(a.split(" "),2),s=o[0],u=o[1],c=new RegExp("msid:"+s+(u?" "+u:"")+"$","gm");return e.replace(c,"msid:"+s+" "+i)}))).join("\r\n")}function b(e,t){var n=Object.entries(t).map((function(e){var t=r(e,2);return t[0]+"="+t[1]})).join(";");return"a=fmtp:"+e+" "+n}t.addOrRewriteNewTrackIds=function(e,t,n){var i=Array.from(n).reduce((function(n,i){var a=r(i,2),o=a[0],s=a[1];return h(e,o,"send(only|recv)").map(p).filter((function(e){return!t.has(e)})).forEach((function(e,t){return n.set(e,s[t])})),n}),new Map);return y(e,i)},t.addOrRewriteTrackIds=y,t.createCodecMapForMediaSection=c,t.createPtToCodecName=f,t.disableRtx=function(e){var t=h(e);return[e.split("\r\nm=")[0]].concat(t.map((function(e){if(!/^m=video/.test(e))return e;var t=c(e).get("rtx");if(!t)return e;var n=new Set(v(e));t.forEach((function(e){return n.delete(e)}));var r=e.match(/a=ssrc-group:FID [0-9]+ ([0-9]+)/),i=r&&r[1],a=[/^a=fmtp:.+ apt=.+$/,/^a=rtpmap:.+ rtx\/.+$/,/^a=ssrc-group:.+$/].concat(i?[new RegExp("^a=ssrc:"+i+" .+$")]:[]);return e=e.split("\r\n").filter((function(e){return a.every((function(t){return!t.test(e)}))})).join("\r\n"),m(Array.from(n),e)}))).join("\r\n")},t.enableDtxForOpus=function(e,t){var n=h(e),r=e.split("\r\nm=")[0];return t=t||n.filter((function(e){return/^m=audio/.test(e)})).map(p),[r].concat(n.map((function(e){if(!/^m=audio/.test(e))return e;var n=c(e).get("opus");if(!n)return e;var r=d(n,e);if(!r)return e;var i=b(n,r),a=new RegExp(i),o=p(e);t.includes(o)?r.usedtx=1:delete r.usedtx;var s=b(n,r);return e.replace(a,s)}))).join("\r\n")},t.filterLocalCodecs=function(e,t){var n=h(e),r=e.split("\r\nm=")[0],i=l(t);return[r].concat(n.map((function(e){return g(e,i,[])}))).join("\r\n")},t.getMediaSections=h,t.removeSSRCAttributes=function(e,t){return e.split("\r\n").filter((function(e){return!t.find((function(t){return new RegExp("a=ssrc:.*"+t+":","g").test(e)}))})).join("\r\n")},t.revertSimulcast=function(e,t,n,r){void 0===r&&(r=!1);var i=l(n),a=l(t),o=h(e);return[e.split("\r\nm=")[0]].concat(o.map((function(e){if(e=e.replace(/\r\n$/,""),!/^m=video/.test(e))return e;var t=e.match(/^a=mid:(.+)$/m),n=t&&t[1];if(!n)return e;var o=i.get(n),s=f(o),u=v(o),c=u.length&&"vp8"===s.get(u[0]);return r||!c?a.get(n).replace(/\r\n$/,""):e}))).concat("").join("\r\n")},t.setCodecPreferences=function(e,t,n){var r=h(e);return[e.split("\r\nm=")[0]].concat(r.map((function(e){if(!/^m=(audio|video)/.test(e))return e;var r=e.match(/^m=(audio|video)/)[1],i=c(e),s=function(e,t){t=t.map((function(e){return e.codec.toLowerCase()}));var n=o(t,(function(t){return e.get(t)||[]})),r=a(Array.from(e.keys()),t),i=o(r,(function(t){return e.get(t)}));return n.concat(i)}(i,"audio"===r?t:n),u=m(s,e),l=i.get("pcma")||[],f=i.get("pcmu")||[];return("audio"===r?new Set(l.concat(f)):new Set).has(s[0])?u.replace(/\r\nb=(AS|TIAS):([0-9]+)/g,""):u}))).join("\r\n")},t.setSimulcast=function(e,t){var n=h(e);return[e.split("\r\nm=")[0]].concat(n.map((function(e){if(e=e.replace(/\r\n$/,""),!/^m=video/.test(e))return e;var n=c(e),r=v(e),i=new Set(n.get("vp8")||[]);return r.some((function(e){return i.has(e)}))?s(e,t):e}))).concat("").join("\r\n")}},93202:function(e,t,n){"use strict";var r=n(25409).RTCSessionDescription,i=n(2283),a=i.createPtToCodecName,o=i.getMediaSections;function s(e){var t=a(e);e=function(e,t){return Array.from(t.keys()).reduce((function(e,n){var r=new RegExp("^a=rtpmap:"+n+" rtx.+$","gm");return(e.match(r)||[]).slice("rtx"===t.get(n)?1:0).reduce((function(e,t){var r=new RegExp("\r\n"+t),i=new RegExp("\r\na=fmtp:"+n+" apt=[0-9]+");return e.replace(r,"").replace(i,"")}),e)}),e)}(e,t);var n=function(e){var t=new Map;return e.forEach((function(e,n){var r=t.get(e)||new Set;return t.set(e,r.add(n))})),t}(t),r=n.get("rtx")||new Set,i=new Set,o=function(e,t,n,r){return Array.from(n).reduce((function(n,i){var a=new RegExp("a=fmtp:"+i+" apt=(\\d+)"),o=e.match(a);if(!o)return r.add(i),n;var s=Number.parseInt(o[1]);return t.has(s)?"rtx"===t.get(s)?(r.add(i),n):n.set(i,s):(r.add(i),n)}),new Map)}(e,t,r,i),s=function(e,t){var n=Array.from(e).reduce((function(e,t){var n=t[0],r=t[1],i=e.get(r)||new Set;return e.set(r,i.add(n))}),new Map);return Array.from(n).reduce((function(e,n){var r=n[0],i=Array.from(n[1]);return i.length>1?(i.forEach((function(e){t.add(e)})),e):e.set(r,i[0])}),new Map)}(o,i),c=Array.from(i);return["h264","vp8","vp9"].reduce((function(e,t){var r=n.get(t)||new Set;return Array.from(r).reduce((function(e,t){return s.has(t)?e:e.add(t)}),e)}),new Set).forEach((function(t){if(c.length){var n=c.shift();e=function(e,t,n){return e.endsWith("\r\n")?e+"a=fmtp:"+t+" apt="+n+"\r\n":e+"\r\na=fmtp:"+t+" apt="+n}(e=u(e,n),n,t)}})),c.forEach((function(t){e=function(e,t){var n=new RegExp("a=rtpmap:"+t+".*\r\n","gm");return e.replace(n,"")}(e=u(e,t),t)})),e}function u(e,t){var n=new RegExp("a=fmtp:"+t+".*\r\n","gm");return e.replace(n,"")}e.exports=function(e){var t={type:e.type};return"rollback"!==e.type&&(t.sdp=function(e){var t=o(e);return[e.split("\r\nm=")[0]].concat(t.map(s)).join("\r\n")}(e.sdp)),new r(t)}},8293:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=n(58242),a=i.difference,o=i.flatMap;function s(){return String(Math.floor(4294967295*Math.random()))}var u=function(){function e(e,t,n){Object.defineProperties(this,{cName:{enumerable:!0,value:n},isSimulcastEnabled:{enumerable:!0,value:!1,writable:!0},primarySSRCs:{enumerable:!0,value:new Set},rtxPairs:{enumerable:!0,value:new Map},streamId:{enumerable:!0,value:t},trackId:{enumerable:!0,value:e}})}return e.prototype.addSimulcastSSRCs=function(){if(!this.isSimulcastEnabled){var e=[s(),s()];e.forEach((function(e){this.primarySSRCs.add(e)}),this),this.rtxPairs.size&&e.forEach((function(e){this.rtxPairs.set(s(),e)}),this)}},e.prototype.addSSRC=function(e,t,n){t?this.rtxPairs.set(e,t):this.primarySSRCs.add(e),this.isSimulcastEnabled=this.isSimulcastEnabled||n},e.prototype.toSdpLines=function(e){var t=this,n=e?[]:Array.from(this.rtxPairs.entries()).map((function(e){return e.reverse()})),r=Array.from(this.primarySSRCs.values()),i=n.length?o(n):r,a=o(i,(function(e){return["a=ssrc:"+e+" cname:"+t.cName,"a=ssrc:"+e+" msid:"+t.streamId+" "+t.trackId]})),s=n.map((function(e){return"a=ssrc-group:FID "+e.join(" ")})),u=["a=ssrc-group:SIM "+r.join(" ")];return s.concat(a).concat(u)},e}();function c(e,t){return(e.match(new RegExp(t,"gm"))||[]).map((function(e){return(e.match(new RegExp(t))||[]).slice(1)}))}function l(e){var t=function(e){return new Set(o(c(e,"^a=ssrc-group:SIM ([0-9]+) ([0-9]+) ([0-9]+)$")))}(e),n=function(e){return new Map(c(e,"^a=ssrc-group:FID ([0-9]+) ([0-9]+)$").map((function(e){return e.reverse()})))}(e),i=function(e){var t=r(o(c(e,"^a=msid:(.+) (.+)$")),2),n=t[0],i=t[1];return o(c(e,"^a=ssrc:(.+) cname:.+$")).map((function(e){return[e,n,i]}))}(e);return i.reduce((function(r,i){var a=i[0],o=i[1],s=i[2],c=r.get(s)||new u(s,o,function(e,t,n){var r="a=ssrc:"+t+" "+n+":(.+)";return e.match(new RegExp(r))[1]}(e,a,"cname")),l=n.get(a)||null;return c.addSSRC(a,l,t.has(a)),r.set(s,c)}),new Map)}e.exports=function(e,t){var n=l(e),r=Array.from(n.keys()),i=Array.from(t.keys()),s=a(r,i),u=a(i,r);o(s,(function(e){return n.get(e)})).forEach((function(e){e.addSimulcastSSRCs(),t.set(e.trackId,e)})),i=Array.from(t.keys());var c=a(i,u),f=o(c,(function(e){return t.get(e)})),d=!e.match(/a=rtpmap:[0-9]+ rtx/),p=o(f,(function(e){return e.toSdpLines(d)})),h=o(new Set(e.split("\r\n").concat(p))),v="a=x-google-flag:conference";return e.match(v)||h.push(v),h.join("\r\n")}},51173:function(e,t,n){"use strict";var r=n(2283).getMediaSections,i=function(){function e(){Object.defineProperties(this,{_midsToTrackIds:{value:new Map,writable:!0}})}return e.prototype.match=function(e){return this._midsToTrackIds.get(e.transceiver.mid)||null},e.prototype.update=function(e){var t=r(e,"(audio|video)");this._midsToTrackIds=t.reduce((function(e,t){var n=t.match(/^a=mid:(.+)$/m)||[],r=t.match(/^a=msid:.+ (.+)$/m)||[],i=n[1],a=r[1];return i&&a?e.set(i,a):e}),this._midsToTrackIds)},e}();e.exports=i},22243:function(e,t){var n="1234567890abcdef";function r(e){for(var t="",r=0;r<32;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return""+e+t}t.sessionSID=r("SS"),t.createSID=r},96415:function(e,t,n){"use strict";var r=n(73348),i=r.guessBrowser,a=r.support,o=n(90878).getSdpFormat,s=n(39091),u=s.isAndroid,c=s.isMobile,l=s.isNonChromiumEdge,f=s.rebrandedChromeBrowser,d=s.mobileWebKitBrowser,p=["crios","edg","edge","electron","headlesschrome"],h=["chrome","firefox"],v=["chrome","safari"],m=[];e.exports=function(){var e=i();if(!e)return!1;var t=f(e),n=d(e),r=u()?h:v;return!!e&&a()&&"unified"===o()&&(!t||p.includes(t))&&!l(e)&&(!n||m.includes(n))&&(!c()||r.includes(e))}},91149:function(e){"use strict";var t=function(){function e(e,t,n){void 0===n&&(n=!0),Object.defineProperties(this,{_delay:{value:t,writable:!0},_fn:{value:e},_timeout:{value:null,writable:!0}}),n&&this.start()}return Object.defineProperty(e.prototype,"delay",{get:function(){return this._delay},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSet",{get:function(){return!!this._timeout},enumerable:!1,configurable:!0}),e.prototype.setDelay=function(e){this._delay=e},e.prototype.start=function(){var e=this;this.isSet||(this._timeout=setTimeout((function(){var t=e._fn;e.clear(),t()}),this._delay))},e.prototype.clear=function(){clearTimeout(this._timeout),this._timeout=null},e.prototype.reset=function(){this.clear(),this.start()},e}();e.exports=t},89752:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n(86520),a={};t.createTwilioError=function(e,t){return t="string"===typeof t&&t?t:"Unknown error",a[e="number"===typeof e?e:0]?new a[e]:new i(e,t)};var o=function(e){function t(){var n=e.call(this,20101,"Invalid Access Token")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.AccessTokenInvalidError=o,Object.defineProperty(a,20101,{value:o});var s=function(e){function t(){var n=e.call(this,20102,"Invalid Access Token header")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.AccessTokenHeaderInvalidError=s,Object.defineProperty(a,20102,{value:s});var u=function(e){function t(){var n=e.call(this,20103,"Invalid Access Token issuer/subject")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.AccessTokenIssuerInvalidError=u,Object.defineProperty(a,20103,{value:u});var c=function(e){function t(){var n=e.call(this,20104,"Access Token expired or expiration date invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.AccessTokenExpiredError=c,Object.defineProperty(a,20104,{value:c});var l=function(e){function t(){var n=e.call(this,20105,"Access Token not yet valid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.AccessTokenNotYetValidError=l,Object.defineProperty(a,20105,{value:l});var f=function(e){function t(){var n=e.call(this,20106,"Invalid Access Token grants")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.AccessTokenGrantsInvalidError=f,Object.defineProperty(a,20106,{value:f});var d=function(e){function t(){var n=e.call(this,20107,"Invalid Access Token signature")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.AccessTokenSignatureInvalidError=d,Object.defineProperty(a,20107,{value:d});var p=function(e){function t(){var n=e.call(this,53e3,"Signaling connection error")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.SignalingConnectionError=p,Object.defineProperty(a,53e3,{value:p});var h=function(e){function t(){var n=e.call(this,53001,"Signaling connection disconnected")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.SignalingConnectionDisconnectedError=h,Object.defineProperty(a,53001,{value:h});var v=function(e){function t(){var n=e.call(this,53002,"Signaling connection timed out")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.SignalingConnectionTimeoutError=v,Object.defineProperty(a,53002,{value:v});var m=function(e){function t(){var n=e.call(this,53003,"Client received an invalid signaling message")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.SignalingIncomingMessageInvalidError=m,Object.defineProperty(a,53003,{value:m});var g=function(e){function t(){var n=e.call(this,53004,"Client sent an invalid signaling message")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.SignalingOutgoingMessageInvalidError=g,Object.defineProperty(a,53004,{value:g});var y=function(e){function t(){var n=e.call(this,53006,"Video server is busy")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.SignalingServerBusyError=y,Object.defineProperty(a,53006,{value:y});var b=function(e){function t(){var n=e.call(this,53100,"Room name is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomNameInvalidError=b,Object.defineProperty(a,53100,{value:b});var x=function(e){function t(){var n=e.call(this,53101,"Room name is too long")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomNameTooLongError=x,Object.defineProperty(a,53101,{value:x});var k=function(e){function t(){var n=e.call(this,53102,"Room name contains invalid characters")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomNameCharsInvalidError=k,Object.defineProperty(a,53102,{value:k});var w=function(e){function t(){var n=e.call(this,53103,"Unable to create Room")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomCreateFailedError=w,Object.defineProperty(a,53103,{value:w});var _=function(e){function t(){var n=e.call(this,53104,"Unable to connect to Room")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomConnectFailedError=_,Object.defineProperty(a,53104,{value:_});var S=function(e){function t(){var n=e.call(this,53105,"Room contains too many Participants")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomMaxParticipantsExceededError=S,Object.defineProperty(a,53105,{value:S});var T=function(e){function t(){var n=e.call(this,53106,"Room not found")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomNotFoundError=T,Object.defineProperty(a,53106,{value:T});var E=function(e){function t(){var n=e.call(this,53107,"MaxParticipants is out of range")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomMaxParticipantsOutOfRangeError=E,Object.defineProperty(a,53107,{value:E});var C=function(e){function t(){var n=e.call(this,53108,"RoomType is not valid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomTypeInvalidError=C,Object.defineProperty(a,53108,{value:C});var O=function(e){function t(){var n=e.call(this,53109,"Timeout is out of range")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomTimeoutOutOfRangeError=O,Object.defineProperty(a,53109,{value:O});var A=function(e){function t(){var n=e.call(this,53110,"StatusCallbackMethod is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomStatusCallbackMethodInvalidError=A,Object.defineProperty(a,53110,{value:A});var I=function(e){function t(){var n=e.call(this,53111,"StatusCallback is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomStatusCallbackInvalidError=I,Object.defineProperty(a,53111,{value:I});var R=function(e){function t(){var n=e.call(this,53112,"Status is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomStatusInvalidError=R,Object.defineProperty(a,53112,{value:R});var N=function(e){function t(){var n=e.call(this,53113,"Room exists")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomRoomExistsError=N,Object.defineProperty(a,53113,{value:N});var P=function(e){function t(){var n=e.call(this,53114,"Room creation parameter(s) incompatible with the Room type")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomInvalidParametersError=P,Object.defineProperty(a,53114,{value:P});var M=function(e){function t(){var n=e.call(this,53115,"MediaRegion is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomMediaRegionInvalidError=M,Object.defineProperty(a,53115,{value:M});var D=function(e){function t(){var n=e.call(this,53116,"There are no media servers available in the MediaRegion")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomMediaRegionUnavailableError=D,Object.defineProperty(a,53116,{value:D});var L=function(e){function t(){var n=e.call(this,53117,"The subscription operation requested is not supported for the Room type")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomSubscriptionOperationNotSupportedError=L,Object.defineProperty(a,53117,{value:L});var j=function(e){function t(){var n=e.call(this,53118,"Room completed")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomCompletedError=j,Object.defineProperty(a,53118,{value:j});var F=function(e){function t(){var n=e.call(this,53124,"The AudioOnly flag is not supported for the Room type")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomAudioOnlyFlagNotSupportedError=F,Object.defineProperty(a,53124,{value:F});var Z=function(e){function t(){var n=e.call(this,53125,"The track kind is not supported by the Room")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.RoomTrackKindNotSupportedError=Z,Object.defineProperty(a,53125,{value:Z});var B=function(e){function t(){var n=e.call(this,53200,"Participant identity is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ParticipantIdentityInvalidError=B,Object.defineProperty(a,53200,{value:B});var U=function(e){function t(){var n=e.call(this,53201,"Participant identity is too long")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ParticipantIdentityTooLongError=U,Object.defineProperty(a,53201,{value:U});var V=function(e){function t(){var n=e.call(this,53202,"Participant identity contains invalid characters")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ParticipantIdentityCharsInvalidError=V,Object.defineProperty(a,53202,{value:V});var z=function(e){function t(){var n=e.call(this,53203,"The maximum number of published tracks allowed in the Room at the same time has been reached")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ParticipantMaxTracksExceededError=z,Object.defineProperty(a,53203,{value:z});var W=function(e){function t(){var n=e.call(this,53204,"Participant not found")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ParticipantNotFoundError=W,Object.defineProperty(a,53204,{value:W});var H=function(e){function t(){var n=e.call(this,53205,"Participant disconnected because of duplicate identity")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ParticipantDuplicateIdentityError=H,Object.defineProperty(a,53205,{value:H});var G=function(e){function t(){var n=e.call(this,53300,"Track is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.TrackInvalidError=G,Object.defineProperty(a,53300,{value:G});var q=function(e){function t(){var n=e.call(this,53301,"Track name is invalid")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.TrackNameInvalidError=q,Object.defineProperty(a,53301,{value:q});var K=function(e){function t(){var n=e.call(this,53302,"Track name is too long")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.TrackNameTooLongError=K,Object.defineProperty(a,53302,{value:K});var Y=function(e){function t(){var n=e.call(this,53303,"Track name contains invalid characters")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.TrackNameCharsInvalidError=Y,Object.defineProperty(a,53303,{value:Y});var X=function(e){function t(){var n=e.call(this,53304,"Track name is duplicated")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.TrackNameIsDuplicatedError=X,Object.defineProperty(a,53304,{value:X});var Q=function(e){function t(){var n=e.call(this,53305,"The server has reached capacity and cannot fulfill this request")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.TrackServerTrackCapacityReachedError=Q,Object.defineProperty(a,53305,{value:Q});var J=function(e){function t(){var n=e.call(this,53400,"Client is unable to create or apply a local media description")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.MediaClientLocalDescFailedError=J,Object.defineProperty(a,53400,{value:J});var $=function(e){function t(){var n=e.call(this,53401,"Server is unable to create or apply a local media description")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.MediaServerLocalDescFailedError=$,Object.defineProperty(a,53401,{value:$});var ee=function(e){function t(){var n=e.call(this,53402,"Client is unable to apply a remote media description")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.MediaClientRemoteDescFailedError=ee,Object.defineProperty(a,53402,{value:ee});var te=function(e){function t(){var n=e.call(this,53403,"Server is unable to apply a remote media description")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.MediaServerRemoteDescFailedError=te,Object.defineProperty(a,53403,{value:te});var ne=function(e){function t(){var n=e.call(this,53404,"No supported codec")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.MediaNoSupportedCodecError=ne,Object.defineProperty(a,53404,{value:ne});var re=function(e){function t(){var n=e.call(this,53405,"Media connection failed or Media activity ceased")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.MediaConnectionError=re,Object.defineProperty(a,53405,{value:re});var ie=function(e){function t(){var n=e.call(this,53407,"Media connection failed due to DTLS handshake failure")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.MediaDTLSTransportFailedError=ie,Object.defineProperty(a,53407,{value:ie});var ae=function(e){function t(){var n=e.call(this,53500,"Unable to acquire configuration")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ConfigurationAcquireFailedError=ae,Object.defineProperty(a,53500,{value:ae});var oe=function(e){function t(){var n=e.call(this,53501,"Unable to acquire TURN credentials")||this;return Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(i);t.ConfigurationAcquireTurnFailedError=oe,Object.defineProperty(a,53501,{value:oe})},86520:function(e){"use strict";var t=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),n=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},i=function(e){function i(t){var a=this,o=[].slice.call(arguments,1);a=e.apply(this,r([],n(o)))||this,Object.setPrototypeOf(a,i.prototype);var s=Error.apply(a,o);return s.name="TwilioError",Object.defineProperty(a,"code",{value:t,enumerable:!0}),Object.getOwnPropertyNames(s).forEach((function(e){Object.defineProperty(this,e,{value:s[e],enumerable:!0})}),a),a}return t(i,e),i.prototype.toString=function(){var e=this.message?": "+this.message:"";return this.name+" "+this.code+e},i}(Error);e.exports=i},94438:function(e){"use strict";e.exports={recordingMediaLost:"recording-media-lost"}},96340:function(e,t,n){"use strict";var r=n(58242).isNonArrayObject,i=n(24657),a=i.typeErrors,o=i.clientTrackSwitchOffControl,s=i.videoContentPreferencesMode,u=i.subscriptionMode,c=i.trackPriority,l=i.trackSwitchOffMode;function f(e,t,n){return void 0===n&&(n=[]),"undefined"===typeof e?null:null!==e&&r(e)?n.reduce((function(n,r){var i=r.prop,o=r.type,s=r.values;if(n||!(i in e))return n;var u=e[i];return o&&typeof u!==o||"number"===o&&isNaN(u)?a.INVALID_TYPE(t+"."+i,o):Array.isArray(s)&&!s.includes(u)?a.INVALID_VALUE(t+"."+i,s):n}),null):a.INVALID_TYPE(t,"object")}t.kG=function(e){var t=f(e,"options.bandwidthProfile");return!e||t?t:(t=f(e.video,"options.bandwidthProfile.video",[{prop:"contentPreferencesMode",values:Object.values(s)},{prop:"dominantSpeakerPriority",values:Object.values(c)},{prop:"maxSubscriptionBitrate",type:"number"},{prop:"maxTracks",type:"number"},{prop:"mode",values:Object.values(u)},{prop:"clientTrackSwitchOffControl",values:Object.values(o)},{prop:"trackSwitchOffMode",values:Object.values(l)}]))||(e.video?"maxTracks"in e.video&&"clientTrackSwitchOffControl"in e.video?new TypeError("options.bandwidthProfile.video.maxTracks is deprecated. Use options.bandwidthProfile.video.clientTrackSwitchOffControl instead."):"renderDimensions"in e.video&&"contentPreferencesMode"in e.video?new TypeError("options.bandwidthProfile.video.renderDimensions is deprecated. Use options.bandwidthProfile.video.contentPreferencesMode instead."):function(e){var t="options.bandwidthProfile.video.renderDimensions",n=f(e,t);return e?n||Object.values(c).reduce((function(n,r){return n||f(e[r],t+"."+r,[{prop:"height",type:"number"},{prop:"width",type:"number"}])}),null):n}(e.video.renderDimensions):null)},t.Wv=function(e,t){if(!(e instanceof t.LocalAudioTrack||e instanceof t.LocalDataTrack||e instanceof t.LocalVideoTrack||e instanceof t.MediaStreamTrack))throw a.INVALID_TYPE("track","LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack")}},78812:function(e){e.exports=function(e,t){if(e&&t)if(e.super_=t,"function"===typeof Object.create)e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});else{var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},48489:function(e){var t=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function a(e,t){var n=e[t];if("function"===typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(r){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(e){return"debug"===e&&(e="log"),typeof console!==n&&("trace"===e&&r?o:void 0!==console[e]?a(console,e):void 0!==console.log?a(console,"log"):t)}function u(e,n){for(var r=0;r<i.length;r++){var a=i[r];this[a]=r<e?t:this.methodFactory(a,e,n)}this.log=this.debug}function c(e,t,r){return function(){typeof console!==n&&(u.call(this,t,r),this[e].apply(this,arguments))}}function l(e,t,n){return s(e)||c.apply(this,arguments)}function f(e,t,r){var a,o=this,s="loglevel";function c(){var e;if(typeof window!==n&&s){try{e=window.localStorage[s]}catch(i){}if(typeof e===n)try{var t=window.document.cookie,r=t.indexOf(encodeURIComponent(s)+"=");-1!==r&&(e=/^([^;]+)/.exec(t.slice(r))[1])}catch(i){}return void 0===o.levels[e]&&(e=void 0),e}}"string"===typeof e?s+=":"+e:"symbol"===typeof e&&(s=void 0),o.name=e,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=r||l,o.getLevel=function(){return a},o.setLevel=function(t,r){if("string"===typeof t&&void 0!==o.levels[t.toUpperCase()]&&(t=o.levels[t.toUpperCase()]),!("number"===typeof t&&t>=0&&t<=o.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(a=t,!1!==r&&function(e){var t=(i[e]||"silent").toUpperCase();if(typeof window!==n&&s){try{return void(window.localStorage[s]=t)}catch(r){}try{window.document.cookie=encodeURIComponent(s)+"="+t+";"}catch(r){}}}(t),u.call(o,t,e),typeof console===n&&t<o.levels.SILENT)return"No console available for logging"},o.setDefaultLevel=function(e){c()||o.setLevel(e,!1)},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)};var f=c();null==f&&(f=null==t?"WARN":t),o.setLevel(f,!1)}var d=new f,p={};d.getLogger=function(e){if("symbol"!==typeof e&&"string"!==typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=p[e];return t||(t=p[e]=new f(e,d.getLevel(),d.methodFactory)),t};var h=typeof window!==n?window.log:void 0;d.noConflict=function(){return typeof window!==n&&window.log===d&&(window.log=h),d},d.getLoggers=function(){return p},d.default=d,e.exports=d},63074:function(e){"use strict";var t="undefined"!==typeof AudioContext?AudioContext:"undefined"!==typeof webkitAudioContext?webkitAudioContext:null,n=function(){function e(n){n=Object.assign({AudioContext:t},n),Object.defineProperties(this,{_AudioContext:{value:n.AudioContext},_audioContext:{value:null,writable:!0},_holders:{value:new Set},AudioContextFactory:{enumerable:!0,value:e}})}return e.prototype.getOrCreate=function(e){if(!this._holders.has(e)&&(this._holders.add(e),this._AudioContext&&!this._audioContext))try{this._audioContext=new this._AudioContext}catch(t){}return this._audioContext},e.prototype.release=function(e){this._holders.has(e)&&(this._holders.delete(e),!this._holders.size&&this._audioContext&&(this._audioContext.close(),this._audioContext=null))},e}();e.exports=new n},88467:function(e){"use strict";e.exports=function(e,t,n){n="number"===typeof n?n:250;var r=e.createMediaStreamSource(t),i=e.createAnalyser();i.fftSize=2048,r.connect(i);var a=new Uint8Array(i.fftSize),o=!1;return setTimeout((function(){o=!0}),n),function e(){return o?Promise.resolve(!0):(i.getByteTimeDomainData(a),a.some((function(e){return 128!==e&&0!==e}))?Promise.resolve(!1):function(e){return e="number"===typeof e?e:0,new Promise((function(t){return setTimeout(t,e)}))}().then(e))}().then((function(e){return r.disconnect(),e}),(function(e){throw r.disconnect(),e}))}},21268:function(e,t,n){"use strict";var r=n(88467);e.exports=function(e,t,i,a,o){a="number"===typeof a?a:3;var s=0,u=n(63074),c={},l=u.getOrCreate(c);return function n(){return t(i).then((function(t){return(i.audio?r(l,t,o).catch((function(t){return e.warn("Encountered an error while detecting silence",t),!0})):Promise.resolve(!1)).then((function(r){return r?a<=0?(e.warn("Got a silent audio MediaStreamTrack. Normally we would try to get a new one, but we've run out of retries; returning it anyway."),t):(e.warn("Got a silent audio MediaStreamTrack. Stopping all MediaStreamTracks and calling getUserMedia again. This is retry #"+ ++s+"."),t.getTracks().forEach((function(e){return e.stop()})),a--,n()):(e.info("Got a non-silent audio MediaStreamTrack; returning it."),t)}))}))}().then((function(e){return u.release(c),e}),(function(e){throw u.release(c),e}))}},44519:function(e,t,n){"use strict";var r=n(73348).flatMap,i=n(73348).guessBrowser,a=n(73348).guessBrowserVersion,o=n(90878).getSdpFormat,s=i(),u=a(),c="chrome"===s,l="firefox"===s,f="safari"===s,d=c?u.major:null;function p(e){var t=Array.from(e.values()).find((function(e){return"candidate-pair"===e.type&&e.nominated}));if(!t)return null;var n=e.get(t.localCandidateId),r=e.get(t.remoteCandidateId),i=[{key:"candidateType",type:"string"},{key:"ip",type:"string"},{key:"port",type:"number"},{key:"priority",type:"number"},{key:"protocol",type:"string"},{key:"url",type:"string"}],a=i.concat([{key:"deleted",type:"boolean"},{key:"relayProtocol",type:"string"}]),o=n?a.reduce((function(e,t){return e[t.key]=typeof n[t.key]===t.type?n[t.key]:"deleted"!==t.key&&null,e}),{}):null,s=r?i.reduce((function(e,t){return e[t.key]=typeof r[t.key]===t.type?r[t.key]:null,e}),{}):null;return[{key:"availableIncomingBitrate",type:"number"},{key:"availableOutgoingBitrate",type:"number"},{key:"bytesReceived",type:"number"},{key:"bytesSent",type:"number"},{key:"consentRequestsSent",type:"number"},{key:"currentRoundTripTime",type:"number"},{key:"lastPacketReceivedTimestamp",type:"number"},{key:"lastPacketSentTimestamp",type:"number"},{key:"nominated",type:"boolean"},{key:"priority",type:"number"},{key:"readable",type:"boolean"},{key:"requestsReceived",type:"number"},{key:"requestsSent",type:"number"},{key:"responsesReceived",type:"number"},{key:"responsesSent",type:"number"},{key:"retransmissionsReceived",type:"number"},{key:"retransmissionsSent",type:"number"},{key:"state",type:"string",fixup:function(e){return"inprogress"===e?"in-progress":e}},{key:"totalRoundTripTime",type:"number"},{key:"transportId",type:"string"},{key:"writable",type:"boolean"}].reduce((function(e,n){return e[n.key]=typeof t[n.key]===n.type?n.fixup?n.fixup(t[n.key]):t[n.key]:null,e}),{localCandidate:o,remoteCandidate:s})}function h(e){var t=Array.from(e.values()).find((function(e){return"candidate-pair"===e.type&&e.nominated}));if(!t)return null;var n=e.get(t.localCandidateId),r=e.get(t.remoteCandidateId),i=[{key:"candidateType",type:"string"},{key:"ip",ffKeys:["address","ipAddress"],type:"string"},{key:"port",ffKeys:["portNumber"],type:"number"},{key:"priority",type:"number"},{key:"protocol",ffKeys:["transport"],type:"string"},{key:"url",type:"string"}],a=i.concat([{key:"deleted",type:"boolean"},{key:"relayProtocol",type:"string"}]),o={host:"host",peerreflexive:"prflx",relayed:"relay",serverreflexive:"srflx"},s=n?a.reduce((function(e,t){var r=t.ffKeys&&t.ffKeys.find((function(e){return e in n}))||t.key;return e[t.key]=typeof n[r]===t.type?"candidateType"===r&&o[n[r]]||n[r]:"deleted"!==r&&null,e}),{}):null,u=r?i.reduce((function(e,t){var n=t.ffKeys&&t.ffKeys.find((function(e){return e in r}))||t.key;return e[t.key]=typeof r[n]===t.type?"candidateType"===n&&o[r[n]]||r[n]:null,e}),{}):null;return[{key:"availableIncomingBitrate",type:"number"},{key:"availableOutgoingBitrate",type:"number"},{key:"bytesReceived",type:"number"},{key:"bytesSent",type:"number"},{key:"consentRequestsSent",type:"number"},{key:"currentRoundTripTime",type:"number"},{key:"lastPacketReceivedTimestamp",type:"number"},{key:"lastPacketSentTimestamp",type:"number"},{key:"nominated",type:"boolean"},{key:"priority",type:"number"},{key:"readable",type:"boolean"},{key:"requestsReceived",type:"number"},{key:"requestsSent",type:"number"},{key:"responsesReceived",type:"number"},{key:"responsesSent",type:"number"},{key:"retransmissionsReceived",type:"number"},{key:"retransmissionsSent",type:"number"},{key:"state",type:"string"},{key:"totalRoundTripTime",type:"number"},{key:"transportId",type:"string"},{key:"writable",type:"boolean"}].reduce((function(e,n){return e[n.key]=typeof t[n.key]===n.type?t[n.key]:null,e}),{localCandidate:s,remoteCandidate:u})}function v(e,t,n){var i="local"===n?"getSenders":"getReceivers";return e[i]?e[i]().map((function(e){return e.track})).filter((function(e){return e&&e.kind===t})):r(e["local"===n?"getLocalStreams":"getRemoteStreams"](),(function(e){return e["audio"===t?"getAudioTracks":"getVideoTracks"]()}))}function m(e,t){return new Promise((function(n,r){d&&d<67?e.getStats((function(e){n([g(e,t)])}),null,r):e.getStats(t).then((function(e){n(function(e){var t=null,n=[],r=null,i=null,a=null,o=null,s=null;e.forEach((function(e){switch(e.type){case"inbound-rtp":t=e;break;case"outbound-rtp":n.push(e);break;case"media-source":s=e;break;case"track":a=e;break;case"codec":o=e;break;case"remote-inbound-rtp":r=e;break;case"remote-outbound-rtp":i=e}}));var u=a&&a.remoteSource,c=[],l=u?i:r;return(u?[t]:n).forEach((function(e){var t={},n=[e,s,a,o,l&&l.ssrc===e.ssrc?l:null];function r(e){var t=n.find((function(t){return t&&"undefined"!==typeof t[e]}))||null;return t?t[e]:null}var i=r("ssrc");"number"===typeof i&&(t.ssrc=String(i));var f=r("timestamp");t.timestamp=Math.round(f);var d=r("mimeType");"string"===typeof d&&(d=d.split("/"),t.codecName=d[d.length-1]);var p=r("roundTripTime");"number"===typeof p&&(t.roundTripTime=Math.round(1e3*p));var h=r("jitter");"number"===typeof h&&(t.jitter=Math.round(1e3*h));var v=r("frameWidth");"number"===typeof v&&(u?t.frameWidthReceived=v:(t.frameWidthSent=v,t.frameWidthInput=a.frameWidth));var m=r("frameHeight");"number"===typeof m&&(u?t.frameHeightReceived=m:(t.frameHeightSent=m,t.frameHeightInput=a.frameHeight));var g=r("framesPerSecond");"number"===typeof g&&(t[u?"frameRateReceived":"frameRateSent"]=g);var y=r("bytesReceived");"number"===typeof y&&(t.bytesReceived=y);var b=r("bytesSent");"number"===typeof b&&(t.bytesSent=b);var x=r("packetsLost");"number"===typeof x&&(t.packetsLost=x);var k=r("packetsReceived");"number"===typeof k&&(t.packetsReceived=k);var w=r("packetsSent");"number"===typeof w&&(t.packetsSent=w);var _=r("audioLevel");"number"===typeof _&&(_=Math.round(32767*_),u?t.audioOutputLevel=_:t.audioInputLevel=_);var S=r("totalPacketSendDelay");"number"===typeof S&&(t.totalPacketSendDelay=S);var T=r("totalEncodeTime");"number"===typeof T&&(t.totalEncodeTime=T);var E=r("framesEncoded");"number"===typeof E&&(t.framesEncoded=E);var C=r("estimatedPlayoutTimestamp");"number"===typeof C&&(t.estimatedPlayoutTimestamp=C);var O=r("totalDecodeTime");"number"===typeof O&&(t.totalDecodeTime=O);var A=r("framesDecoded");"number"===typeof A&&(t.framesDecoded=A);var I=r("jitterBufferDelay");"number"===typeof I&&(t.jitterBufferDelay=I);var R=r("jitterBufferEmittedCount");"number"===typeof R&&(t.jitterBufferEmittedCount=R),c.push(t)})),c}(e))}),r)}))}function g(e,t){var n=e.result().find((function(e){return"ssrc"===e.type&&e.stat("googTrackId")===t.id})),r={};return n&&(r.timestamp=Math.round(Number(n.timestamp)),r=n.names().reduce((function(e,t){switch(t){case"googCodecName":e.codecName=n.stat(t);break;case"googRtt":e.roundTripTime=Number(n.stat(t));break;case"googJitterReceived":e.jitter=Number(n.stat(t));break;case"googFrameWidthInput":e.frameWidthInput=Number(n.stat(t));break;case"googFrameHeightInput":e.frameHeightInput=Number(n.stat(t));break;case"googFrameWidthSent":e.frameWidthSent=Number(n.stat(t));break;case"googFrameHeightSent":e.frameHeightSent=Number(n.stat(t));break;case"googFrameWidthReceived":e.frameWidthReceived=Number(n.stat(t));break;case"googFrameHeightReceived":e.frameHeightReceived=Number(n.stat(t));break;case"googFrameRateInput":e.frameRateInput=Number(n.stat(t));break;case"googFrameRateSent":e.frameRateSent=Number(n.stat(t));break;case"googFrameRateReceived":e.frameRateReceived=Number(n.stat(t));break;case"ssrc":e[t]=n.stat(t);break;case"bytesReceived":case"bytesSent":case"packetsLost":case"packetsReceived":case"packetsSent":case"audioInputLevel":case"audioOutputLevel":e[t]=Number(n.stat(t))}return e}),r)),r}function y(e,t){e=e||new Map;var n=null,r=null;e.forEach((function(t){if(!t.isRemote)switch(t.type){case"inbound-rtp":n=t,r=e.get(t.remoteId);break;case"outbound-rtp":r=t,n=e.get(t.remoteId)}}));var i=t?n:r,a=t?r:n;function o(e){return i&&"undefined"!==typeof i[e]?i[e]:a&&"undefined"!==typeof a[e]?a[e]:null}var s={},u=o("timestamp");s.timestamp=Math.round(u);var c=o("ssrc");"number"===typeof c&&(s.ssrc=String(c));var l=o("bytesSent");"number"===typeof l&&(s.bytesSent=l);var f=o("packetsLost");"number"===typeof f&&(s.packetsLost=f);var d=o("packetsSent");"number"===typeof d&&(s.packetsSent=d);var p=o("roundTripTime");"number"===typeof p&&(s.roundTripTime=Math.round(1e3*p));var h=o("jitter");"number"===typeof h&&(s.jitter=Math.round(1e3*h));var v=o("framerateMean");"number"===typeof v&&(s.frameRateSent=Math.round(v));var m=o("bytesReceived");"number"===typeof m&&(s.bytesReceived=m);var g=o("packetsReceived");"number"===typeof g&&(s.packetsReceived=g);var y=o("framerateMean");"number"===typeof y&&(s.frameRateReceived=Math.round(y));var b=o("totalPacketSendDelay");"number"===typeof b&&(s.totalPacketSendDelay=b);var x=o("totalEncodeTime");"number"===typeof x&&(s.totalEncodeTime=x);var k=o("framesEncoded");"number"===typeof k&&(s.framesEncoded=k);var w=o("estimatedPlayoutTimestamp");"number"===typeof w&&(s.estimatedPlayoutTimestamp=w);var _=o("totalDecodeTime");"number"===typeof _&&(s.totalDecodeTime=_);var S=o("framesDecoded");"number"===typeof S&&(s.framesDecoded=S);var T=o("jitterBufferDelay");"number"===typeof T&&(s.jitterBufferDelay=T);var E=o("jitterBufferEmittedCount");return"number"===typeof E&&(s.jitterBufferEmittedCount=E),s}e.exports=function(e,t){return e&&"function"===typeof e.getStats?function(e,t){var n=v(e,"audio","local"),i=v(e,"video","local"),a=v(e,"audio"),s=v(e,"video"),u={activeIceCandidatePair:null,localAudioTrackStats:[],localVideoTrackStats:[],remoteAudioTrackStats:[],remoteVideoTrackStats:[]},d=r([[n,"localAudioTrackStats",!1],[i,"localVideoTrackStats",!1],[a,"remoteAudioTrackStats",!0],[s,"remoteVideoTrackStats",!0]],(function(n){var r=n[0],i=n[1],a=n[2];return r.map((function(n){return function(e,t,n){if("undefined"!==typeof(n=n||{}).testForChrome||c)return m(e,t);if("undefined"!==typeof n.testForFirefox||l)return function(e,t,n){return new Promise((function(r,i){e.getStats(t).then((function(e){r([y(e,n)])}),i)}))}(e,t,n.isRemote);if("undefined"!==typeof n.testForSafari||f)return"undefined"!==typeof n.testForSafari||"unified"===o()?m(e,t):Promise.reject(new Error(["getStats() is not supported on this version of Safari","due to this bug: https://bugs.webkit.org/show_bug.cgi?id=192601"].join(" ")));return Promise.reject(new Error("RTCPeerConnection#getStats() not supported"))}(e,n,Object.assign({isRemote:a},t)).then((function(e){e.forEach((function(e){e.trackId=n.id,u[i].push(e)}))}))}))}));return Promise.all(d).then((function(){return function(e,t){if("undefined"!==typeof(t=t||{}).testForChrome||c||"undefined"!==typeof t.testForSafari||f)return e.getStats().then(p);if("undefined"!==typeof t.testForFirefox||l)return e.getStats().then(h);return Promise.reject(new Error("RTCPeerConnection#getStats() not supported"))}(e,t)})).then((function(e){return u.activeIceCandidatePair=e,u}))}(e,t):Promise.reject(new Error("Given PeerConnection does not support getStats"))}},15749:function(e){"use strict";e.exports=function(e){return"object"===typeof navigator&&"object"===typeof navigator.mediaDevices&&"function"===typeof navigator.mediaDevices.getUserMedia?(e=e||{audio:!0,video:!0},navigator.mediaDevices.getUserMedia(e)):Promise.reject(new Error("getUserMedia is not supported"))}},25409:function(e,t,n){"use strict";var r={};Object.defineProperties(r,{getStats:{enumerable:!0,value:n(44519)},getUserMedia:{enumerable:!0,value:n(15749)},MediaStream:{enumerable:!0,value:n(64693)},MediaStreamTrack:{enumerable:!0,value:n(66786)},RTCIceCandidate:{enumerable:!0,value:n(6189)},RTCPeerConnection:{enumerable:!0,value:n(88581)},RTCSessionDescription:{enumerable:!0,value:n(71135)}}),e.exports=r},64693:function(e){"use strict";"function"===typeof MediaStream?e.exports=MediaStream:e.exports=function(){throw new Error("MediaStream is not supported")}},66786:function(e){"use strict";"function"===typeof MediaStreamTrack?e.exports=MediaStreamTrack:e.exports=function(){throw new Error("MediaStreamTrack is not supported")}},6189:function(e){"use strict";"function"===typeof RTCIceCandidate?e.exports=RTCIceCandidate:e.exports=function(){throw new Error("RTCIceCandidate is not supported")}},21754:function(e,t,n){"use strict";var r=n(6595),i=n(16429),a=n(78812),o=n(1790),s=n(64693),u=n(57248),c=n(90878),l=n(73348),f=n(73348).isIOSChrome,d="unified"===c.getSdpFormat();function p(e,t){if(!(this instanceof p))return new p(e,t);i.call(this),e=e||{};var n=Object.assign(e.iceTransportPolicy?{iceTransports:e.iceTransportPolicy}:{},e);l.interceptEvent(this,"datachannel"),l.interceptEvent(this,"signalingstatechange");var r=c.getSdpFormat(n.sdpSemantics),a=new RTCPeerConnection(n,t);Object.defineProperties(this,{_appliedTracksToSSRCs:{value:new Map,writable:!0},_localStream:{value:new s},_peerConnection:{value:a},_pendingLocalOffer:{value:null,writable:!0},_pendingRemoteOffer:{value:null,writable:!0},_rolledBackTracksToSSRCs:{value:new Map,writable:!0},_sdpFormat:{value:r},_senders:{value:new Map},_signalingStateLatch:{value:new o},_tracksToSSRCs:{value:new Map,writable:!0},localDescription:{enumerable:!0,get:function(){return this._pendingLocalOffer?this._pendingLocalOffer:a.localDescription}},remoteDescription:{enumerable:!0,get:function(){return this._pendingRemoteOffer?this._pendingRemoteOffer:a.remoteDescription}},signalingState:{enumerable:!0,get:function(){return this._pendingLocalOffer?"have-local-offer":this._pendingRemoteOffer?"have-remote-offer":a.signalingState}}});var u=this;a.addEventListener("datachannel",(function(e){y(e.channel),u.dispatchEvent(e)})),a.addEventListener("signalingstatechange",(function(){"stable"===a.signalingState&&(u._appliedTracksToSSRCs=new Map(u._tracksToSSRCs)),u._pendingLocalOffer||u._pendingRemoteOffer||u.dispatchEvent.apply(u,arguments)})),a.ontrack=function(){},"function"!==typeof RTCPeerConnection.prototype.addTrack&&a.addStream(this._localStream),l.proxyProperties(RTCPeerConnection.prototype,this,a)}function h(e,t,n){var r,i,a=t?e._pendingLocalOffer:e._pendingRemoteOffer,o=t?e._pendingRemoteOffer:e._pendingLocalOffer,s=t?"have-local-offer":"have-remote-offer",u=t?"setLocalDescription":"setRemoteDescription";if(!t&&o&&"answer"===n.type)r=function(e,t){var n=e._pendingLocalOffer;return e._peerConnection.setLocalDescription(n).then((function(){return e._pendingLocalOffer=null,e.setRemoteDescription(t)})).then((function(){e._signalingStateLatch.lower()}))}(e,n);else if("offer"===n.type){if(e.signalingState!==s&&"stable"!==e.signalingState)return Promise.reject(new Error("Cannot set "+(t?"local":"remote")+" offer in state "+e.signalingState));a||"low"!==e._signalingStateLatch.state||e._signalingStateLatch.raise();var c=e.signalingState;i=m(n),t?e._pendingLocalOffer=i:e._pendingRemoteOffer=i,r=Promise.resolve(),e.signalingState!==c&&r.then((function(){e.dispatchEvent(new Event("signalingstatechange"))}))}else"rollback"===n.type&&(e.signalingState!==s?r=Promise.reject(new Error("Cannot rollback "+(t?"local":"remote")+" description in "+e.signalingState)):(t?e._pendingLocalOffer=null:e._pendingRemoteOffer=null,e._rolledBackTracksToSSRCs=new Map(e._tracksToSSRCs),e._tracksToSSRCs=new Map(e._appliedTracksToSSRCs),(r=Promise.resolve()).then((function(){e.dispatchEvent(new Event("signalingstatechange"))}))));return r||e._peerConnection[u](m(n))}function v(e,t){return!!e.getTransceivers().find((function(e){return e.receiver&&e.receiver.track&&e.receiver.track.kind===t}))}function m(e){return e instanceof r&&e._description?e._description:new RTCSessionDescription(e)}function g(){return"maxRetransmitTime"in RTCDataChannel.prototype&&!("maxPacketLifeTime"in RTCDataChannel.prototype)}function y(e){return Object.defineProperty(e,"maxRetransmits",{value:65535===e.maxRetransmits?null:e.maxRetransmits}),g()&&Object.defineProperty(e,"maxPacketLifeTime",{value:65535===e.maxRetransmitTime?null:e.maxRetransmitTime}),e}function b(e,t,n){return"unified"===e?c.updateUnifiedPlanTrackIdsToSSRCs(t,n):c.updatePlanBTrackIdsToSSRCs(t,n)}a(p,i),"function"!==typeof RTCPeerConnection.prototype.addTrack?(p.prototype.addTrack=function(){var e=[].slice.call(arguments),t=e[0];if("closed"===this._peerConnection.signalingState)throw new Error("Cannot add MediaStreamTrack ["+t.id+", "+t.kind+"]: RTCPeerConnection is closed");var n=this._senders.get(t);if(n&&n.track)throw new Error("Cannot add MediaStreamTrack ["+t.id+", "+t.kind+"]: RTCPeerConnection already has it");return this._peerConnection.removeStream(this._localStream),this._localStream.addTrack(t),this._peerConnection.addStream(this._localStream),n=new u(t),this._senders.set(t,n),n},p.prototype.removeTrack=function(e){if("closed"===this._peerConnection.signalingState)throw new Error("Cannot remove MediaStreamTrack: RTCPeerConnection is closed");var t=e.track;t&&(e=this._senders.get(t))&&e.track&&(e.track=null,this._peerConnection.removeStream(this._localStream),this._localStream.removeTrack(t),this._peerConnection.addStream(this._localStream))},p.prototype.getSenders=function(){return Array.from(this._senders.values())}):p.prototype.removeTrack=function(e){if("closed"===this._peerConnection.signalingState)throw new Error("Cannot remove MediaStreamTrack: RTCPeerConnection is closed");try{this._peerConnection.removeTrack(e)}catch(t){}},p.prototype.addIceCandidate=function(e){var t,n=[].slice.call(arguments),r=this;return t="have-remote-offer"===this.signalingState?this._signalingStateLatch.when("low").then((function(){return r._peerConnection.addIceCandidate(e)})):this._peerConnection.addIceCandidate(e),n.length>1?l.legacyPromise(t,n[1],n[2]):t},p.prototype.close=function(){"closed"!==this.signalingState&&(this._pendingLocalOffer=null,this._pendingRemoteOffer=null,this._peerConnection.close())},p.prototype.createAnswer=function(){var e,t=[].slice.call(arguments),n=this;return e=this._pendingRemoteOffer?this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then((function(){return n._signalingStateLatch.lower(),n._peerConnection.createAnswer()})).then((function(e){return n._pendingRemoteOffer=null,n._rolledBackTracksToSSRCs.clear(),new r({type:"answer",sdp:b(n._sdpFormat,n._tracksToSSRCs,e.sdp)})}),(function(e){throw n._pendingRemoteOffer=null,e})):this._peerConnection.createAnswer().then((function(e){return n._rolledBackTracksToSSRCs.clear(),new r({type:"answer",sdp:b(n._sdpFormat,n._tracksToSSRCs,e.sdp)})})),t.length>1?l.legacyPromise(e,t[0],t[1]):e},p.prototype.createOffer=function(){var e=[].slice.call(arguments),t=(e.length>1?e[2]:e[0])||{},n=this;if(f()){if(t.offerToReceiveVideo&&!this._audioTransceiver&&(!d||!v(this,"audio"))){delete t.offerToReceiveAudio;try{this._audioTransceiver=d?this.addTransceiver("audio",{direction:"recvonly"}):this.addTransceiver("audio")}catch(a){return Promise.reject(a)}}if(t.offerToReceiveVideo&&!this._videoTransceiver&&(!d||!v(this,"video"))){delete t.offerToReceiveVideo;try{this._videoTransceiver=d?this.addTransceiver("video",{direction:"recvonly"}):this.addTransceiver("video")}catch(a){return Promise.reject(a)}}}var i=this._peerConnection.createOffer(t).then((function(e){return n._rolledBackTracksToSSRCs.clear(),new r({type:e.type,sdp:b(n._sdpFormat,n._tracksToSSRCs,e.sdp)})}));return e.length>1?l.legacyPromise(i,e[0],e[1]):i},p.prototype.createDataChannel=function(e,t){t=function(e){e=Object.assign({},e),g()&&"maxPacketLifeTime"in e&&(e.maxRetransmitTime=e.maxPacketLifeTime);return e}(t);var n=this._peerConnection.createDataChannel(e,t);return y(n),n},p.prototype.setLocalDescription=function(){var e=[].slice.call(arguments),t=e[0];this._rolledBackTracksToSSRCs.size>0&&(this._tracksToSSRCs=new Map(this._rolledBackTracksToSSRCs),this._rolledBackTracksToSSRCs.clear());var n=h(this,!0,t);return e.length>1?l.legacyPromise(n,e[1],e[2]):n},p.prototype.setRemoteDescription=function(){var e=[].slice.call(arguments),t=e[0];this._rolledBackTracksToSSRCs.clear();var n=h(this,!1,t);return e.length>1?l.legacyPromise(n,e[1],e[2]):n},l.delegateMethods(RTCPeerConnection.prototype,p.prototype,"_peerConnection"),e.exports=p},24814:function(e,t,n){"use strict";var r=n(16429),i=n(14929),a=n(78812),o=n(90878).updateUnifiedPlanTrackIdsToSSRCs,s=n(73348);function u(e){if(!(this instanceof u))return new u(e);r.call(this),s.interceptEvent(this,"signalingstatechange");var t=new RTCPeerConnection(e);Object.defineProperties(this,{_initiallyNegotiatedDtlsRole:{value:null,writable:!0},_isClosed:{value:!1,writable:!0},_peerConnection:{value:t},_rollingBack:{value:!1,writable:!0},_tracksToSSRCs:{value:new Map},iceGatheringState:{enumerable:!0,get:function(){return this._isClosed?"complete":this._peerConnection.iceGatheringState}},localDescription:{enumerable:!0,get:function(){return f(this._peerConnection.localDescription,this._initiallyNegotiatedDtlsRole)}},signalingState:{enumerable:!0,get:function(){return this._isClosed?"closed":this._peerConnection.signalingState}}});var n,i=this;t.addEventListener("signalingstatechange",(function(){if(!i._rollingBack&&i.signalingState!==n){n=i.signalingState;var e=i.dispatchEvent.apply.bind(i.dispatchEvent,i,arguments);i._isClosed?setTimeout(e):e()}})),s.proxyProperties(RTCPeerConnection.prototype,this,t)}function c(e,t,n){var r=t?"setLocalDescription":"setRemoteDescription";return e._rollingBack=!0,e._peerConnection[r](new i({type:"rollback"})).then(n).then((function(t){return e._rollingBack=!1,t}),(function(t){throw e._rollingBack=!1,t}))}function l(e,t,n){if(!e._initiallyNegotiatedDtlsRole&&"offer"!==t.type){var r=t.sdp.match(/a=setup:([a-z]+)/);if(r){var i=r[1];e._initiallyNegotiatedDtlsRole=n?{active:"passive",passive:"active"}[i]:i}}}function f(e,t){return e&&"answer"===e.type&&t?new i({type:e.type,sdp:e.sdp.replace(/a=setup:[a-z]+/g,"a=setup:"+t)}):e}a(u,r),Object.defineProperty(u.prototype,"peerIdentity",{enumerable:!0,value:Promise.resolve({idp:"",name:""})}),u.prototype.createAnswer=function(){var e,t=[].slice.call(arguments),n=this;return e=this._peerConnection.createAnswer().then((function(e){return l(n,e),f(e,n._initiallyNegotiatedDtlsRole)})),"function"===typeof t[0]?s.legacyPromise(e,t[0],t[1]):e},u.prototype.createOffer=function(){var e,t=[].slice.call(arguments),n=(t.length>1?t[2]:t[0])||{},r=this;if("have-local-offer"===this.signalingState||"have-remote-offer"===this.signalingState){var a="have-local-offer"===this.signalingState;e=c(this,a,(function(){return r.createOffer(n)}))}else e=r._peerConnection.createOffer(n);return e=e.then((function(e){return new i({type:e.type,sdp:o(r._tracksToSSRCs,e.sdp)})})),t.length>1?s.legacyPromise(e,t[0],t[1]):e},u.prototype.setLocalDescription=function(){var e,t=[].slice.call(arguments),n=t[0];return n&&"answer"===n.type&&"have-local-offer"===this.signalingState&&(e=Promise.reject(new Error("Cannot set local answer in state have-local-offer"))),e?t.length>1?s.legacyPromise(e,t[1],t[2]):e:this._peerConnection.setLocalDescription.apply(this._peerConnection,t)},u.prototype.setRemoteDescription=function(){var e,t=[].slice.call(arguments),n=t[0],r=this;return n&&"have-remote-offer"===this.signalingState&&("answer"===n.type?e=Promise.reject(new Error("Cannot set remote answer in state have-remote-offer")):"offer"===n.type&&(e=c(this,!1,(function(){return r._peerConnection.setRemoteDescription(n)})))),e||(e=this._peerConnection.setRemoteDescription(n)),e=e.then((function(){l(r,n,!0)})),t.length>1?s.legacyPromise(e,t[1],t[2]):e},u.prototype.close=function(){"closed"!==this.signalingState&&(this._isClosed=!0,this._peerConnection.close())},s.delegateMethods(RTCPeerConnection.prototype,u.prototype,"_peerConnection"),e.exports=u},88581:function(e,t,n){"use strict";if("function"===typeof RTCPeerConnection)switch((0,n(73348).guessBrowser)()){case"chrome":e.exports=n(21754);break;case"firefox":e.exports=n(24814);break;case"safari":e.exports=n(38522);break;default:e.exports=RTCPeerConnection}else e.exports=function(){throw new Error("RTCPeerConnection is not supported")}},38522:function(e,t,n){"use strict";var r=n(16429),i=n(78812),a=n(1790),o=n(90878),s=n(73348),u="unified"===o.getSdpFormat(),c=u?o.updateUnifiedPlanTrackIdsToSSRCs:o.updatePlanBTrackIdsToSSRCs;function l(e){if(!(this instanceof l))return new l(e);r.call(this),s.interceptEvent(this,"datachannel"),s.interceptEvent(this,"iceconnectionstatechange"),s.interceptEvent(this,"signalingstatechange"),s.interceptEvent(this,"track");var t=new RTCPeerConnection(e);Object.defineProperties(this,{_appliedTracksToSSRCs:{value:new Map,writable:!0},_audioTransceiver:{value:null,writable:!0},_isClosed:{value:!1,writable:!0},_peerConnection:{value:t},_pendingLocalOffer:{value:null,writable:!0},_pendingRemoteOffer:{value:null,writable:!0},_rolledBackTracksToSSRCs:{value:new Map,writable:!0},_signalingStateLatch:{value:new a},_tracksToSSRCs:{value:new Map,writable:!0},_videoTransceiver:{value:null,writable:!0},localDescription:{enumerable:!0,get:function(){return this._pendingLocalOffer||this._peerConnection.localDescription}},iceConnectionState:{enumerable:!0,get:function(){return this._isClosed?"closed":this._peerConnection.iceConnectionState}},iceGatheringState:{enumerable:!0,get:function(){return this._isClosed?"complete":this._peerConnection.iceGatheringState}},remoteDescription:{enumerable:!0,get:function(){return this._pendingRemoteOffer||this._peerConnection.remoteDescription}},signalingState:{enumerable:!0,get:function(){return this._isClosed?"closed":this._pendingLocalOffer?"have-local-offer":this._pendingRemoteOffer?"have-remote-offer":this._peerConnection.signalingState}}});var n=this;t.addEventListener("datachannel",(function(e){p(e.channel),n.dispatchEvent(e)})),t.addEventListener("iceconnectionstatechange",(function(){n._isClosed||n.dispatchEvent.apply(n,arguments)})),t.addEventListener("signalingstatechange",(function(){n._isClosed||("stable"===t.signalingState&&(n._appliedTracksToSSRCs=new Map(n._tracksToSSRCs)),n._pendingLocalOffer||n._pendingRemoteOffer||n.dispatchEvent.apply(n,arguments))})),t.addEventListener("track",(function(e){n._pendingRemoteOffer=null,n.dispatchEvent(e)})),s.proxyProperties(RTCPeerConnection.prototype,this,t)}function f(e,t,n){var r,i=t?e._pendingLocalOffer:e._pendingRemoteOffer,a=t?e._pendingRemoteOffer:e._pendingLocalOffer,o=t?"have-local-offer":"have-remote-offer",s=t?"setLocalDescription":"setRemoteDescription";if(!t&&a&&"answer"===n.type)return function(e,t){var n=e._pendingLocalOffer;return e._peerConnection.setLocalDescription(n).then((function(){return e._pendingLocalOffer=null,e.setRemoteDescription(t)})).then((function(){e._signalingStateLatch.lower()}))}(e,n);if("offer"===n.type){if(e.signalingState!==o&&"stable"!==e.signalingState)return Promise.reject(new Error("Cannot set "+(t?"local":"remote")+" offer in state "+e.signalingState));i||"low"!==e._signalingStateLatch.state||e._signalingStateLatch.raise();var u=e.signalingState;return r=n,t?e._pendingLocalOffer=r:e._pendingRemoteOffer=r,e.signalingState!==u?Promise.resolve().then((function(){e.dispatchEvent(new Event("signalingstatechange"))})):Promise.resolve()}return"rollback"===n.type?e.signalingState!==o?Promise.reject(new Error("Cannot rollback "+(t?"local":"remote")+" description in "+e.signalingState)):(t?e._pendingLocalOffer=null:e._pendingRemoteOffer=null,e._rolledBackTracksToSSRCs=new Map(e._tracksToSSRCs),e._tracksToSSRCs=new Map(e._appliedTracksToSSRCs),Promise.resolve().then((function(){e.dispatchEvent(new Event("signalingstatechange"))}))):e._peerConnection[s](n)}function d(e,t){return!!e.getTransceivers().find((function(e){return e.receiver&&e.receiver.track&&e.receiver.track.kind===t}))}function p(e){return Object.defineProperties(e,{maxPacketLifeTime:{value:65535===e.maxPacketLifeTime?null:e.maxPacketLifeTime},maxRetransmits:{value:65535===e.maxRetransmits?null:e.maxRetransmits}})}i(l,r),l.prototype.addIceCandidate=function(e){var t=this;return"have-remote-offer"===this.signalingState?this._signalingStateLatch.when("low").then((function(){return t._peerConnection.addIceCandidate(e)})):this._peerConnection.addIceCandidate(e)},l.prototype.createOffer=function(e){e=Object.assign({},e);var t=this;if(e.offerToReceiveVideo&&!this._audioTransceiver&&(!u||!d(this,"audio"))){delete e.offerToReceiveAudio;try{this._audioTransceiver=u?this.addTransceiver("audio",{direction:"recvonly"}):this.addTransceiver("audio")}catch(n){return Promise.reject(n)}}if(e.offerToReceiveVideo&&!this._videoTransceiver&&(!u||!d(this,"video"))){delete e.offerToReceiveVideo;try{this._videoTransceiver=u?this.addTransceiver("video",{direction:"recvonly"}):this.addTransceiver("video")}catch(n){return Promise.reject(n)}}return this._peerConnection.createOffer(e).then((function(e){return t._rolledBackTracksToSSRCs.clear(),new RTCSessionDescription({type:e.type,sdp:c(t._tracksToSSRCs,e.sdp)})}))},l.prototype.createAnswer=function(e){var t=this;return this._pendingRemoteOffer?this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then((function(){return t._signalingStateLatch.lower(),t._peerConnection.createAnswer()})).then((function(e){return t._pendingRemoteOffer=null,t._rolledBackTracksToSSRCs.clear(),u?new RTCSessionDescription({type:e.type,sdp:c(t._tracksToSSRCs,e.sdp)}):e}),(function(e){throw t._pendingRemoteOffer=null,e})):this._peerConnection.createAnswer(e).then((function(e){return t._rolledBackTracksToSSRCs.clear(),u?new RTCSessionDescription({type:e.type,sdp:c(t._tracksToSSRCs,e.sdp)}):e}))},l.prototype.createDataChannel=function(e,t){var n=this._peerConnection.createDataChannel(e,t);return p(n),n},l.prototype.removeTrack=function(e){e.replaceTrack(null),this._peerConnection.removeTrack(e)},l.prototype.setLocalDescription=function(e){return this._rolledBackTracksToSSRCs.size>0&&(this._tracksToSSRCs=new Map(this._rolledBackTracksToSSRCs),this._rolledBackTracksToSSRCs.clear()),f(this,!0,e)},l.prototype.setRemoteDescription=function(e){return this._rolledBackTracksToSSRCs.clear(),f(this,!1,e)},l.prototype.close=function(){if(!this._isClosed){this._isClosed=!0,this._peerConnection.close();var e=this;setTimeout((function(){e.dispatchEvent(new Event("iceconnectionstatechange")),e.dispatchEvent(new Event("signalingstatechange"))}))}},s.delegateMethods(RTCPeerConnection.prototype,l.prototype,"_peerConnection"),e.exports=l},57248:function(e){"use strict";e.exports=function(e){Object.defineProperties(this,{track:{enumerable:!0,value:e,writable:!0}})}},6595:function(e){"use strict";e.exports=function e(t){if(!(this instanceof e))return new e(t);var n=t&&"rollback"===t.type?null:new RTCSessionDescription(t);Object.defineProperties(this,{_description:{get:function(){return n}},sdp:{enumerable:!0,value:n?n.sdp:t.sdp},type:{enumerable:!0,value:n?n.type:t.type}})}},14929:function(e){"use strict";e.exports=RTCSessionDescription},71135:function(e,t,n){"use strict";if("function"===typeof RTCSessionDescription)switch((0,n(73348).guessBrowser)()){case"chrome":e.exports=n(6595);break;case"firefox":e.exports=n(14929);break;default:e.exports=RTCSessionDescription}else e.exports=function(){throw new Error("RTCSessionDescription is not supported")}},16429:function(e,t,n){"use strict";var r=n(47465).EventEmitter;function i(){Object.defineProperties(this,{_eventEmitter:{value:new r}})}i.prototype.dispatchEvent=function(e){return this._eventEmitter.emit(e.type,e)},i.prototype.addEventListener=function(){return this._eventEmitter.addListener.apply(this._eventEmitter,arguments)},i.prototype.removeEventListener=function(){return this._eventEmitter.removeListener.apply(this._eventEmitter,arguments)},e.exports=i},73348:function(e,t){"use strict";function n(e,t,n,r){if(!(r in t)&&!r.match(/^on[a-z]+$/)){var i=!1;try{var a=Object.getOwnPropertyDescriptor(e,r);i=a&&!!a.get}catch(s){}if(!i){var o;try{o=typeof e[r]}catch(s){}"function"===o&&(t[r]=function(){return this[n][r].apply(this[n],arguments)})}}}function r(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:null}function i(e){return"undefined"===typeof e&&(e=r()),/Chrome|CriOS/.test(e)?"chrome":/Firefox|FxiOS/.test(e)?"firefox":/Safari|iPhone|iPad|iPod/.test(e)?"safari":null}t.defer=function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e},t.delegateMethods=function(e,t,r){for(var i in e)n(e,t,r,i)},t.difference=function(e,t){e=Array.isArray(e)?new Set(e):new Set(e.values()),t=Array.isArray(t)?new Set(t):new Set(t.values());var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n},t.flatMap=function(e,t){return(e instanceof Map||e instanceof Set?Array.from(e.values()):e).reduce((function(e,n){var r=t(n);return e.concat(r)}),[])},t.guessBrowser=i,t.guessBrowserVersion=function(e){"undefined"===typeof e&&(e=r());var t={chrome:"Chrome|CriOS",firefox:"Firefox|FxiOS",safari:"Version"}[i(e)];if(!t)return null;var n=new RegExp("("+t+")/([^\\s]+)"),a=(e.match(n)||[])[2];if(!a)return null;var o=a.split(".").map(Number);return{major:isNaN(o[0])?null:o[0],minor:isNaN(o[1])?null:o[1]}},t.isIOSChrome=function(e){return"undefined"===typeof e&&(e=r()),/Mobi/.test(e)&&"chrome"===i()&&/iPad|iPhone|iPod/.test(e)},t.interceptEvent=function(e,t){var n=null;Object.defineProperty(e,"on"+t,{get:function(){return n},set:function(e){n&&this.removeEventListener(t,n),"function"===typeof e?(n=e,this.addEventListener(t,n)):n=null}})},t.legacyPromise=function(e,t,n){return t?e.then((function(e){t(e)}),(function(e){n(e)})):e},t.makeUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.proxyProperties=function(e,t,n){Object.getOwnPropertyNames(e).forEach((function(e){!function(e,t,n,r){if(r in t)return;if(r.match(/^on[a-z]+$/))return Object.defineProperty(t,r,{value:null,writable:!0}),void n.addEventListener(r.slice(2),(function(){t.dispatchEvent.apply(t,arguments)}));Object.defineProperty(t,r,{enumerable:!0,get:function(){return n[r]}})}(0,t,n,e)}))},t.support=function(){return"object"===typeof navigator&&"object"===typeof navigator.mediaDevices&&"function"===typeof navigator.mediaDevices.getUserMedia&&"function"===typeof RTCPeerConnection}},1790:function(e,t,n){"use strict";var r=n(73348).defer,i={high:new Set(["low"]),low:new Set(["high"])};function a(e){if(!(this instanceof a))return new a(e);var t=e||"low";Object.defineProperties(this,{_state:{set:function(e){if(t!==e){t=e;var n=this._whenDeferreds.get(t);n.forEach((function(e){e.resolve(this)}),this),n.clear()}},get:function(){return t}},_whenDeferreds:{value:new Map([["high",new Set],["low",new Set]])},state:{enumerable:!0,get:function(){return this._state}}})}function o(e,t){return new Error('Cannot transition from "'+e+'" to "'+t+'"')}a.prototype.lower=function(){return this.transition("low")},a.prototype.raise=function(){return this.transition("high")},a.prototype.transition=function(e){if(!i[this.state].has(e))throw o(this.state,e);return this._state=e,this},a.prototype.when=function(e){if(this.state===e)return Promise.resolve(this);if(!i[this.state].has(e))return Promise.reject(o(this.state,e));var t=r();return this._whenDeferreds.get(e).add(t),t.promise},e.exports=a},90878:function(e,t,n){"use strict";var r=n(73348).flatMap,i=n(73348).guessBrowser,a=null;var o=null;function s(e){return e&&function(){if("boolean"===typeof a)return a;if("undefined"===typeof RTCPeerConnection)return a=!1;try{new RTCPeerConnection({sdpSemantics:"foo"}),a=!1}catch(e){a=!0}return a}()?{"plan-b":"planb","unified-plan":"unified"}[e]:function(){if(!o)if("undefined"!==typeof RTCPeerConnection&&"addTransceiver"in RTCPeerConnection.prototype){var e=new RTCPeerConnection;try{e.addTransceiver("audio"),o="unified"}catch(t){o="planb"}e.close()}else o="planb";return o}()}function u(e,t){return(t.match(new RegExp(e,"gm"))||[]).reduce((function(t,n){var r=n.match(new RegExp(e));return r?t.add(r[1]):t}),new Set)}function c(e,t){return u(e,t)}function l(e){return c("^a=ssrc:[0-9]+ +msid:.+ +(.+) *$",e)}function f(e){return c("^a=msid:.+ +(.+) *$",e)}function d(e,t){return u("^a=ssrc:([0-9]+) +msid:[^ ]+ +"+t+" *$",e)}function p(e,t,n){return t=t||".*",n=n||".*",e.split("\r\nm=").slice(1).map((function(e){return"m="+e})).filter((function(e){var r=new RegExp("m="+t,"gm"),i=new RegExp("a="+n,"gm");return r.test(e)&&i.test(e)}))}function h(e){return Array.from(u("^a=ssrc:([0-9]+) +.*$",e))}function v(e,t){var n=p(e),i=new RegExp("^a=msid:[^ ]+ +"+t+" *$","gm"),a=n.filter((function(e){return e.match(i)}));return new Set(r(a,h))}function m(e,t,n){return new Map(Array.from(e(n)).map((function(e){return[e,t(n,e)]})))}function g(e){return m(l,d,e)}function y(e){return m(f,v,e)}function b(e,t,n){var r=e(n),i=new Map;r.forEach((function(e,r){if(t.has(r)){var a=Array.from(t.get(r)),o=Array.from(e);a.forEach((function(e,t){var r=o[t];i.set(r,e);var a="^a=ssrc:"+r+" (.*)$",s="a=ssrc:"+e+" $1";n=n.replace(new RegExp(a,"gm"),s)}))}else t.set(r,e)}));var a="^(a=ssrc-group:[^ ]+ +)(.*)$";return(n.match(new RegExp(a,"gm"))||[]).forEach((function(e){var t=e.match(new RegExp(a));if(t){var r=t[1],o=t[2].split(" ").map((function(e){var t=i.get(e);return t||e})).join(" ");n=n.replace(t[0],r+o)}})),n}t.clearChromeCachedSdpFormat=function(){o=null},t.getSdpFormat=function(e){return{chrome:s(e),firefox:"unified",safari:"undefined"!==typeof RTCRtpTransceiver&&"currentDirection"in RTCRtpTransceiver.prototype?"unified":"planb"}[i()]||null},t.getMediaSections=p,t.getPlanBTrackIds=l,t.getUnifiedPlanTrackIds=f,t.getPlanBSSRCs=d,t.getUnifiedPlanSSRCs=v,t.updatePlanBTrackIdsToSSRCs=function(e,t){return b(g,e,t)},t.updateUnifiedPlanTrackIdsToSSRCs=function(e,t){return b(y,e,t)}},10057:function(e){e.exports=WebSocket},58868:function(e,t,n){"use strict";var r="undefined"!==typeof r?r:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};Object.defineProperty(t,"__esModule",{value:!0}),n(44584);var i=n(17156),a=n(89728),o=n(66115),s=n(41588),u=n(61655),c=n(94993),l=n(73808),f=n(56690),d=n(38416),p=n(64687);n(4778),n(65202),n(84208),n(32463);var h=n(18698),v=n(1263);n(89104),n(59147);var m=n(62895);n(18887),n(36669),n(81740),n(18116),n(4772),n(67675);var g=n(78566),y=n(24610);n(20447),n(54178),n(30974),n(73966),n(55790),n(56678),n(74847),n(48884),n(67582),n(15669),n(40014),n(45927),n(78850),n(697),n(53517),n(68591),n(44516),n(51937),n(5977),n(71283),n(86332),n(32040),n(20718),n(54777),n(31447),n(44319),n(52872);var b=n(33496);n(65084),n(33858),n(87264),n(22583),n(58894);var x=n(8645);n(45742);var k=n(53912);function w(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}n(86245),n(9994),n(45327);var S=w(i),T=w(a),E=w(o),C=w(s),O=w(u),A=w(c),I=w(l),R=w(f),N=w(d),P=w(p),M=w(h),D=_(m),L=_(g),j=w(b),F=_(k);function Z(){}function B(){B.init.call(this)}function U(e){return void 0===e._maxListeners?B.defaultMaxListeners:e._maxListeners}function V(e,t,n){if(t)e.call(n);else for(var r=e.length,i=X(e,r),a=0;a<r;++a)i[a].call(n)}function z(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,a=X(e,i),o=0;o<i;++o)a[o].call(n,r)}function W(e,t,n,r,i){if(t)e.call(n,r,i);else for(var a=e.length,o=X(e,a),s=0;s<a;++s)o[s].call(n,r,i)}function H(e,t,n,r,i,a){if(t)e.call(n,r,i,a);else for(var o=e.length,s=X(e,o),u=0;u<o;++u)s[u].call(n,r,i,a)}function G(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,a=X(e,i),o=0;o<i;++o)a[o].apply(n,r)}function q(e,t,n,r){var i,a,o,s;if("function"!==typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]):(a=e._events=new Z,e._eventsCount=0),o){if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=U(e))&&i>0&&o.length>i){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,"function"===typeof console.warn?console.warn(s):console.log(s)}}else o=a[t]=n,++e._eventsCount;return e}function K(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function Y(e){var t=this._events;if(t){var n=t[e];if("function"===typeof n)return 1;if(n)return n.length}return 0}function X(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}Z.prototype=Object.create(null),B.EventEmitter=B,B.usingDomains=!1,B.prototype.domain=void 0,B.prototype._events=void 0,B.prototype._maxListeners=void 0,B.defaultMaxListeners=10,B.init=function(){this.domain=null,B.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Z,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},B.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},B.prototype.getMaxListeners=function(){return U(this)},B.prototype.emit=function(e){var t,n,r,i,a,o,s,u="error"===e;if(o=this._events)u=u&&null==o.error;else if(!u)return!1;if(s=this.domain,u){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(n=o[e]))return!1;var l="function"===typeof n;switch(r=arguments.length){case 1:V(n,l,this);break;case 2:z(n,l,this,arguments[1]);break;case 3:W(n,l,this,arguments[1],arguments[2]);break;case 4:H(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),a=1;a<r;a++)i[a-1]=arguments[a];G(n,l,this,i)}return!0},B.prototype.addListener=function(e,t){return q(this,e,t,!1)},B.prototype.on=B.prototype.addListener,B.prototype.prependListener=function(e,t){return q(this,e,t,!0)},B.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,K(this,e,t)),this},B.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,K(this,e,t)),this},B.prototype.removeListener=function(e,t){var n,r,i,a,o;if("function"!==typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0===--this._eventsCount?this._events=new Z:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0===--this._eventsCount)return this._events=new Z,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,o||t)}return this},B.prototype.off=function(e,t){return this.removeListener(e,t)},B.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new Z,this._eventsCount=0):n[e]&&(0===--this._eventsCount?this._events=new Z:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),a=0;a<i.length;++a)"removeListener"!==(r=i[a])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new Z,this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},B.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"===typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},B.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):Y.call(e,t)},B.prototype.listenerCount=Y,B.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var Q=D.getLogger("twilsock");function J(e,t){return["".concat((new Date).toISOString()," Twilsock ").concat(e,":")].concat(Array.from(t))}var $=function(){function e(t){R.default(this,e),N.default(this,"prefix",""),this.prefix=null!==t&&void 0!==t&&t.length>0?" "+t+":":""}return T.default(e,[{key:"setLevel",value:function(e){Q.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Q.trace.apply(null,J("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Q.debug.apply(null,J("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Q.info.apply(null,J("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Q.warn.apply(null,J("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Q.error.apply(null,J("E",t))}}],[{key:"setLevel",value:function(e){Q.setLevel(e)}},{key:"trace",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Q.trace.apply(null,J("T",t))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Q.debug.apply(null,J("D",t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Q.info.apply(null,J("I",t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Q.warn.apply(null,J("W",t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Q.error.apply(null,J("E",t))}}]),e}(),ee=new $(""),te="0.12.2",ne=function(){function e(t,n,r){R.default(this,e),N.default(this,"confirmedCapabilities",new Set),this.activeGrant=n,this._token=t;var i=r.region||"us1",a="wss://tsock.".concat(i,".twilio.com/v3/wsconnect"),o=r.twilsock||r.Twilsock||{};this.url=o.uri||a,this._continuationToken=r.continuationToken?r.continuationToken:null,this.logLevel=r.logLevel?r.logLevel:"error",this.retryPolicy=r.retryPolicy?r.retryPolicy:{min:1e3,max:12e4,randomness:.2},this.clientMetadata=r.clientMetadata?r.clientMetadata:{},this.clientMetadata.ver=te,this.initRegistrations=r.initRegistrations?r.initRegistrations:null,this.tweaks=r.tweaks?r.tweaks:null}return T.default(e,[{key:"token",get:function(){return this._token}},{key:"continuationToken",get:function(){return this._continuationToken}},{key:"updateToken",value:function(e){this._token=e}},{key:"updateContinuationToken",value:function(e){this._continuationToken=e}}]),e}(),re=function e(t){R.default(this,e),this.id=t||"TM".concat(y.v4())};function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var ae=function(e){O.default(n,e);var t=ie(n);function n(e,r,i,a,o){var s;return R.default(this,n),s=t.call(this),N.default(E.default(s),"method","init"),s.token=e,s.continuation_token=r,s.metadata=i,s.registrations=a,s.tweaks=o,s.capabilities=["client_update","offline_storage","telemetry.v1"],s}return n}(re);function oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var se=function(e){O.default(n,e);var t=oe(n);function n(e,r,i,a,o,s,u){var c;return R.default(this,n),(c=t.call(this,e)).continuationToken=r,c.continuationTokenStatus=a,c.offlineStorage=o,c.initRegistrations=s,c.debugInfo=u,c.confirmedCapabilities=i,c}return n}(re);function ue(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var ce=function(e){O.default(n,e);var t=ue(n);function n(e){var r;return R.default(this,n),r=t.call(this),N.default(E.default(r),"method","update"),r.token=e,r}return n}(re);function le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var fe=function(e){O.default(n,e);var t=le(n);function n(e,r,i){var a;return R.default(this,n),a=t.call(this),N.default(E.default(a),"method","message"),a.active_grant=e,a.payload_type=r,a.http_request=i,a}return n}(re);function de(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var pe=function(e){O.default(n,e);var t=de(n);function n(e){var r;return R.default(this,n),r=t.call(this,e),N.default(E.default(r),"method","reply"),N.default(E.default(r),"payload_type","application/json"),N.default(E.default(r),"status",{code:200,status:"OK"}),r}return n}(re);function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var ve=function(e){O.default(n,e);var t=he(n);function n(){var e;return R.default(this,n),e=t.call(this),N.default(E.default(e),"method","close"),e}return n}(re);function me(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var ge=function e(t,n,r,i,a,o){R.default(this,e),this.start=t,this.end=n,this.title=r,this.details=i,this.id=a,this.type=o},ye=function(e){O.default(n,e);var t=me(n);function n(e){var r;return R.default(this,n),r=t.call(this),N.default(E.default(r),"method","telemetry.v1"),r.events=e,r}return n}(re);function be(e){return encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))})).length}function xe(e){var t=encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))})),n=new Uint8Array(t.length);return Array.prototype.forEach.call(t,(function(e,t){n[t]=e.charCodeAt(0)})),n}function ke(e){var t=Array.prototype.map.call(e,(function(e){return String.fromCharCode(e)})).join("").replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}));return decodeURIComponent(t)}function we(e){return JSON.parse(ke(e))}var _e=function(){function e(){R.default(this,e)}return T.default(e,null,[{key:"parse",value:function(e){var t,n,r=new Uint8Array(e),i=function(e){for(var t="",n=0;n<e.length;++n){var r=String.fromCharCode(e[n]);if(t+=r,"\r"===r){n+=2;break}}var i=t.split(" ");return{size:n,protocol:i[0],version:i[1],headerSize:Number(i[2])}}(r);if("TWILSOCK"!==i.protocol||"V3.0"!==i.version)return ee.error("unsupported protocol: ".concat(i.protocol," ver ").concat(i.version)),null;try{t=we(r.subarray(i.size,i.size+i.headerSize))}catch(s){return ee.error("failed to parse message header",s,e),null}if(ee.debug("message received: ",t.method),ee.trace("message received: ",t),t.payload_size>0){var a=2+i.size+i.headerSize,o=t.payload_size;if(t.hasOwnProperty("payload_type")&&0!==t.payload_type.indexOf("application/json"))0===t.payload_type.indexOf("text/plain")&&(n=ke(r.subarray(a,a+o)));else try{n=we(r.subarray(a,a+o))}catch(s){return ee.error("failed to parse message body",s,e),null}}return{method:t.method,header:t,payload:n}}},{key:"createPacket",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.payload_size=be(t);var n=JSON.stringify(e),r="TWILSOCK V3.0 "+be(n);ee.debug("send request:",r+n+t);var i=xe(r+"\r\n"+n+"\r\n"+t);return i.buffer}}]),e}();function Se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var Te=function(e){O.default(n,e);var t=Se(n);function n(e){return R.default(this,n),t.call(this,e)}return n}(j.default(Error));function Ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var Ce=function(e){O.default(n,e);var t=Ee(n);function n(e,r){var i;return R.default(this,n),(i=t.call(this,e)).reply=r,i}return n}(Te);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){N.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var Re=function(e){O.default(n,e);var t=Ie(n);function n(e){var r;return R.default(this,n),r=t.call(this),N.default(E.default(r),"newBackoff",null),N.default(E.default(r),"usedBackoff",null),N.default(E.default(r),"retrier",null),r.options=e?Ae({},e):{},r}return T.default(n,[{key:"inProgress",get:function(){return!!this.retrier}},{key:"start",value:function(){if(this.inProgress)throw new Error("Already waiting for next attempt, call finishAttempt(success : boolean) to finish it");this.createRetrier()}},{key:"stop",value:function(){this.cleanRetrier(),this.newBackoff=null,this.usedBackoff=null}},{key:"modifyBackoff",value:function(e){this.newBackoff=e}},{key:"attemptFailed",value:function(){if(!this.inProgress)throw new Error("No attempt is in progress");var e,t;this.newBackoff?!this.usedBackoff||this.usedBackoff<this.newBackoff?this.createRetrier():null===(e=this.retrier)||void 0===e||e.failed(new Error):null===(t=this.retrier)||void 0===t||t.failed(new Error)}},{key:"cancel",value:function(){var e;null===(e=this.retrier)||void 0===e||e.cancel()}},{key:"cleanRetrier",value:function(){var e,t;null===(e=this.retrier)||void 0===e||e.removeAllListeners(),null===(t=this.retrier)||void 0===t||t.cancel(),this.retrier=null}},{key:"getRetryPolicy",value:function(){var e=Ae({},this.options);return this.newBackoff&&(e.min=this.newBackoff,e.max=this.options.max&&this.options.max>this.newBackoff?this.options.max:this.newBackoff),e.maxAttemptsCount=this.options.maxAttemptsCount?this.options.maxAttemptsCount+1:void 0,e}},{key:"createRetrier",value:function(){var e=this;this.cleanRetrier();var t=this.getRetryPolicy();this.retrier=new x.Retrier(t),this.retrier.once("attempt",(function(){var t,n;null===(t=e.retrier)||void 0===t||t.on("attempt",(function(){return e.emit("attempt")})),null===(n=e.retrier)||void 0===n||n.failed(new Error("Skipping first attempt"))})),this.retrier.on("failed",(function(t){return e.emit("failed",t)})),this.usedBackoff=this.newBackoff,this.newBackoff=null,this.retrier.start()}}]),n}(B);function Ne(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var Pe=function(e){O.default(n,e);var t=Ne(n);function n(e,r,i){var a;R.default(this,n),a=t.call(this),N.default(E.default(a),"disconnectingTimer",null),N.default(E.default(a),"disconnectedPromiseResolve",null),N.default(E.default(a),"terminalStates",["disconnected","rejected"]),N.default(E.default(a),"tokenExpiredSasCode",20104),N.default(E.default(a),"terminationReason","Connection is not initialized"),a.websocket=e,a.websocket.on("connected",(function(){return a.fsm.socketConnected()})),a.websocket.on("disconnected",(function(){return a.fsm.socketClosed()})),a.websocket.on("message",(function(e){return a.onIncomingMessage(e)})),a.websocket.on("socketError",(function(e){return a.emit("connectionError",{terminal:!1,message:"Socket error: ".concat(e.message),httpStatusCode:null,errorCode:null})})),a.transport=r,a.config=i,a.retrier=new Re(i.retryPolicy),a.retrier.on("attempt",(function(){return a.retry()})),a.retrier.on("failed",(function(e){ee.warn("Retrying failed: ".concat(e.message)),a.disconnect()})),"undefined"!==typeof window&&"undefined"!==typeof window.addEventListener&&(window.addEventListener("online",(function(){ee.debug("Browser reported connectivity state: online"),a.resetBackoff(),a.fsm.systemOnline()})),window.addEventListener("offline",(function(){ee.debug("Browser reported connectivity state: offline"),a.websocket.close(),a.fsm.socketClosed()})));var o=L.factory({init:"disconnected",transitions:[{name:"userConnect",from:["disconnected","rejected"],to:"connecting"},{name:"userConnect",from:["connecting","connected"]},{name:"userDisconnect",from:["connecting","initialising","connected","updating","retrying","rejected","waitSocketClosed","waitOffloadSocketClosed"],to:"disconnecting"},{name:"userRetry",from:["retrying"],to:"connecting"},{name:"socketConnected",from:["connecting"],to:"initialising"},{name:"socketClosed",from:["connecting","initialising","connected","updating","error","waitOffloadSocketClosed"],to:"retrying"},{name:"socketClosed",from:["disconnecting"],to:"disconnected"},{name:"socketClosed",from:["waitSocketClosed"],to:"disconnected"},{name:"socketClosed",from:["rejected"],to:"rejected"},{name:"initSuccess",from:["initialising"],to:"connected"},{name:"initError",from:["initialising"],to:"error"},{name:"tokenRejected",from:["initialising","updating"],to:"rejected"},{name:"protocolError",from:["initialising","connected","updating"],to:"error"},{name:"receiveClose",from:["initialising","connected","updating"],to:"waitSocketClosed"},{name:"receiveOffload",from:["initialising","connected","updating"],to:"waitOffloadSocketClosed"},{name:"unsupportedProtocol",from:["initialising","connected","updating"],to:"unsupported"},{name:"receiveFatalClose",from:["initialising","connected","updating"],to:"unsupported"},{name:"userUpdateToken",from:["disconnected","rejected","connecting","retrying"],to:"connecting"},{name:"userUpdateToken",from:["connected"],to:"updating"},{name:"updateSuccess",from:["updating"],to:"connected"},{name:"updateError",from:["updating"],to:"error"},{name:"userSend",from:["connected"],to:"connected"},{name:"systemOnline",from:["retrying"],to:"connecting"}],methods:{onConnecting:function(){a.setupSocket(),a.emit("connecting")},onEnterInitialising:function(){a.sendInit()},onLeaveInitialising:function(){a.cancelInit()},onEnterUpdating:function(){a.sendUpdate()},onLeaveUpdating:function(){a.cancelUpdate()},onEnterRetrying:function(){a.initRetry(),a.emit("connecting")},onEnterConnected:function(){a.resetBackoff(),a.onConnected()},onUserUpdateToken:function(){a.resetBackoff()},onTokenRejected:function(){a.resetBackoff(),a.closeSocket(!0),a.finalizeSocket()},onUserDisconnect:function(){a.closeSocket(!0)},onEnterDisconnecting:function(){a.startDisconnectTimer()},onLeaveDisconnecting:function(){a.cancelDisconnectTimer()},onEnterWaitSocketClosed:function(){a.startDisconnectTimer()},onLeaveWaitSocketClosed:function(){a.cancelDisconnectTimer()},onEnterWaitOffloadSocketClosed:function(){a.startDisconnectTimer()},onLeaveWaitOffloadSocketClosed:function(){a.cancelDisconnectTimer()},onDisconnected:function(){a.resetBackoff(),a.finalizeSocket()},onReceiveClose:function(){a.onCloseReceived()},onReceiveOffload:function(e,t){ee.debug("onreceiveoffload: ",t),a.modifyBackoff(t.body),a.onCloseReceived()},onUnsupported:function(){a.closeSocket(!0),a.finalizeSocket()},onError:function(e,t){a.closeSocket(t),a.finalizeSocket()},onEnterState:function(e){"none"!==e.from&&a.changeState(e)},onInvalidTransition:function(e,t,n){ee.warn("FSM: unexpected transition",t,n)}}});return a.fsm=new o,a}return T.default(n,[{key:"changeState",value:function(e){ee.debug("FSM: ".concat(e.transition,": ").concat(e.from," --\x3e ").concat(e.to)),this.lastEmittedState!==this.state&&(this.lastEmittedState=this.state,this.emit("stateChanged",this.state))}},{key:"resetBackoff",value:function(){ee.trace("resetBackoff"),this.retrier.stop()}},{key:"modifyBackoff",value:function(e){ee.trace("modifyBackoff",e);var t=e?e.backoff_policy:null;t&&"number"===typeof t.reconnect_min_ms&&this.retrier.modifyBackoff(t.reconnect_min_ms)}},{key:"startDisconnectTimer",value:function(){var e=this;ee.trace("startDisconnectTimer"),this.disconnectingTimer&&(clearTimeout(this.disconnectingTimer),this.disconnectingTimer=null),this.disconnectingTimer=setTimeout((function(){ee.debug("disconnecting is timed out"),e.closeSocket(!0)}),3e3)}},{key:"cancelDisconnectTimer",value:function(){ee.trace("cancelDisconnectTimer"),this.disconnectingTimer&&(clearTimeout(this.disconnectingTimer),this.disconnectingTimer=null)}},{key:"isConnected",get:function(){return"connected"===this.state&&this.websocket.isConnected}},{key:"state",get:function(){switch(this.fsm.state){case"connecting":case"initialising":case"retrying":case"error":return"connecting";case"updating":case"connected":return"connected";case"rejected":return"denied";case"disconnecting":case"waitSocketClosed":case"waitOffloadSocketClosed":return"disconnecting";default:return"disconnected"}}},{key:"initRetry",value:function(){ee.debug("initRetry"),this.retrier.inProgress?this.retrier.attemptFailed():this.retrier.start()}},{key:"retry",value:function(){"connecting"!=this.fsm.state?(ee.trace("retry"),this.websocket.close(),this.fsm.userRetry()):ee.trace("can\t retry as already connecting")}},{key:"onConnected",value:function(){this.emit("connected")}},{key:"finalizeSocket",value:function(){ee.trace("finalizeSocket"),this.websocket.close(),this.emit("disconnected"),this.disconnectedPromiseResolve&&(this.disconnectedPromiseResolve(),this.disconnectedPromiseResolve=null)}},{key:"setupSocket",value:function(){ee.trace("setupSocket:",this.config.token),this.emit("beforeConnect"),this.websocket.connect()}},{key:"onIncomingMessage",value:function(e){var t=_e.parse(e);if(t){var n=t.method,r=t.header,i=t.payload;if("reply"!==n&&this.confirmReceiving(r),"notification"===n)this.emit("message",r.message_type,i);else if("reply"===r.method)this.transport.processReply({id:r.id,status:r.status,header:r,body:i});else if("client_update"===r.method)"token_about_to_expire"===r.client_update_type&&this.emit("tokenAboutToExpire");else if("close"===r.method)if(308===r.status.code)ee.debug("Connection has been offloaded"),this.fsm.receiveOffload({status:r.status.status,body:i});else if(406===r.status.code){var a="Server closed connection because can't parse protocol: ".concat(JSON.stringify(r.status));this.emitReplyConnectionError(a,r,!0),ee.error(a),this.fsm.receiveFatalClose()}else 417===r.status.code?(ee.error("Server closed connection because can't parse client reply: ".concat(JSON.stringify(r.status))),this.fsm.receiveFatalClose(r.status.status)):410===r.status.code?(ee.warn("Server closed connection: ".concat(JSON.stringify(r.status))),this.fsm.receiveClose(r.status.status),this.emit("tokenExpired")):401===r.status.code?(ee.error("Server closed connection: ".concat(JSON.stringify(r.status))),this.fsm.receiveClose(r.status.status)):(ee.warn("unexpected message: ",r.status),this.fsm.receiveOffload({status:r.status.status,body:null}))}}},{key:"sendInit",value:function(){var e=S.default(P.default.mark((function e(){var t,n;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee.trace("sendInit"),e.prev=1,this.emit("beforeSendInit"),e.next=5,this.transport.sendInit();case 5:t=e.sent,this.config.updateContinuationToken(t.continuationToken),this.config.confirmedCapabilities=t.confirmedCapabilities,this.fsm.initSuccess(t),this.emit("initialized",t),this.emit("tokenUpdated"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),e.t0 instanceof Ce?(n=!1,ee.warn("Init rejected by server: ".concat(JSON.stringify(e.t0.reply.status))),this.emit("sendInitFailed"),401===e.t0.reply.status.code||403===e.t0.reply.status.code?(n=!0,this.fsm.tokenRejected(e.t0.reply.status),e.t0.reply.status.errorCode===this.tokenExpiredSasCode&&this.emit("tokenExpired")):429===e.t0.reply.status.code?(this.modifyBackoff(e.t0.reply.body),this.fsm.initError(!0)):500===e.t0.reply.status.code?this.fsm.initError(!1):this.fsm.initError(!0),this.emitReplyConnectionError(e.t0.message,e.t0.reply,n)):(this.terminationReason=e.t0.message,this.emit("connectionError",{terminal:!0,message:"Unknown error during connection initialisation: ".concat(e.t0.message,"\n").concat(JSON.stringify(e.t0,null,2)),httpStatusCode:null,errorCode:null}),this.fsm.initError(!0)),this.emit("tokenUpdated",e.t0);case 17:case"end":return e.stop()}}),e,this,[[1,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"sendUpdate",value:function(){var e=S.default(P.default.mark((function e(){var t,n,r;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee.trace("sendUpdate"),t=new ce(this.config.token),e.prev=2,e.next=5,this.transport.sendWithReply(t);case 5:n=e.sent,this.fsm.updateSuccess(n.body),this.emit("tokenUpdated"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),e.t0 instanceof Ce?(r=!1,ee.warn("Token update rejected by server: ".concat(JSON.stringify(e.t0.reply.status))),401===e.t0.reply.status.code||403===e.t0.reply.status.code?(r=!0,this.fsm.tokenRejected(e.t0.reply.status),e.t0.reply.status.errorCode===this.tokenExpiredSasCode&&this.emit("tokenExpired")):429===e.t0.reply.status.code?(this.modifyBackoff(e.t0.reply.body),this.fsm.updateError(e.t0.reply.status)):this.fsm.updateError(e.t0.reply.status),this.emitReplyConnectionError(e.t0.message,e.t0.reply,r)):(this.emit("error",!1,e.t0.message,null,null),this.fsm.updateError(e.t0)),this.emit("tokenUpdated",e.t0);case 14:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"emitReplyConnectionError",value:function(e,t,n){var r=t.status&&t.status.description?t.status.description:e,i=t.status.code,a=t.status&&t.status.errorCode?t.status.errorCode:null;n&&(this.terminationReason=r),this.emit("connectionError",{terminal:n,message:"Connection error: ".concat(r),httpStatusCode:i,errorCode:a})}},{key:"cancelInit",value:function(){ee.trace("cancelInit")}},{key:"cancelUpdate",value:function(){ee.trace("cancelUpdate")}},{key:"confirmReceiving",value:function(e){ee.trace("confirmReceiving");try{this.transport.send(new pe(e.id))}catch(t){ee.debug("failed to confirm packet receiving",t)}}},{key:"closeSocket",value:function(e){var t=this;ee.trace("closeSocket (graceful: ".concat(e,")")),e&&this.transport.isConnected&&this.transport.sendClose(),this.websocket.close(),setTimeout((function(){return t.fsm.socketClosed()}),0)}},{key:"connect",value:function(){ee.trace("connect"),this.fsm.userConnect()}},{key:"disconnect",value:function(){var e=this;return ee.trace("disconnect"),this.fsm.is("disconnected")?Promise.resolve():new Promise((function(t){e.disconnectedPromiseResolve=t,e.fsm.userDisconnect()}))}},{key:"updateToken",value:function(e){var t=this;return ee.trace("updateToken:",e),new Promise((function(e,n){t.once("tokenUpdated",(function(t){t?n(t):e()})),t.fsm.userUpdateToken()}))}},{key:"isTerminalState",get:function(){return-1!==this.terminalStates.indexOf(this.fsm.state)}},{key:"getTerminationReason",get:function(){return this.terminationReason}},{key:"onCloseReceived",value:function(){this.websocket.close()}}]),n}(B),Me=function(){function e(){R.default(this,e)}return T.default(e,null,[{key:"getMetadata",value:function(e){var t,n,r,i,a,o,s,u,c=e&&e.clientMetadata?e.clientMetadata:{},l={env:null!==(t=F.name)&&void 0!==t?t:"unknown",envv:null!==(n=F.version)&&void 0!==n?n:"unknown",os:null!==(r=null===(i=F.os)||void 0===i?void 0:i.family)&&void 0!==r?r:"unknown",osv:null!==(a=null===(o=F.os)||void 0===o?void 0:o.version)&&void 0!==a?a:"unknown",osa:null!==(s=null===(u=F.os)||void 0===u?void 0:u.architecture)&&void 0!==s?s:"unknown",sdk:"js-default"},f={};return["ver","env","envv","os","osv","osa","type","sdk","sdkv","dev","devv","devt","app","appv"].filter((function(e){return e in c||e in l})).forEach((function(e){return f[e]=e in c?c[e]:l[e]})),f}}]),e}();var De=function(){function e(t,n){var r=this;R.default(this,e),this.config=n,this.activeRequests=new Map,this.channel=t,this.channel.on("reply",(function(e){return r.processReply(e)})),this.channel.on("disconnected",(function(){r.activeRequests.forEach((function(e){clearTimeout(e.timeout),e.reject(new Te("disconnected"))})),r.activeRequests.clear()}))}return T.default(e,[{key:"isConnected",get:function(){return this.channel.isConnected}},{key:"processReply",value:function(e){var t,n=this.activeRequests.get(e.id);n&&(clearTimeout(n.timeout),this.activeRequests.delete(e.id),(t=e.status.code)>=200&&t<300?n.resolve(e):(n.reject(new Ce("Transport failure: "+e.status.status,e)),ee.trace("message rejected")))}},{key:"storeRequest",value:function(e,t,n){var r={resolve:t,reject:n,timeout:setTimeout((function(){ee.trace("request",e,"is timed out"),n(new Te("Twilsock: request timeout: "+e))}),3e4)};this.activeRequests.set(e,r)}},{key:"shutdown",value:function(){this.activeRequests.forEach((function(e){clearTimeout(e.timeout),e.reject(new Te("Twilsock: request cancelled by user"))})),this.activeRequests.clear()}},{key:"sendInit",value:function(){var e=S.default(P.default.mark((function e(){var t,n,r;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee.trace("sendInit"),t=Me.getMetadata(this.config),n=new ae(this.config.token,this.config.continuationToken,t,this.config.initRegistrations,this.config.tweaks),e.next=5,this.sendWithReply(n);case 5:return r=e.sent,e.abrupt("return",new se(r.id,r.header.continuation_token,new Set(r.header.capabilities),r.header.continuation_token_status,r.header.offline_storage,r.header.init_registrations,r.header.debug_info));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendClose",value:function(){var e=new ve;this.send(e)}},{key:"sendWithReply",value:function(e,t){var n=this;return new Promise((function(r,i){var a=n.send(e,t);n.storeRequest(a,r,i)}))}},{key:"send",value:function(e,t){e.id=e.id||"TM".concat(y.v4());var n=_e.createPacket(e,function(e){switch(M.default(e)){case"undefined":return"";case"object":return JSON.stringify(e);default:return e}}(t));try{return this.channel.send(n),e.id}catch(r){throw ee.debug("failed to send ",e,r),ee.trace(r.stack),r}}}]),e}();function Le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var je=function(e){O.default(n,e);var t=Le(n);function n(e){var i;return R.default(this,n),i=t.call(this),N.default(E.default(i),"socket",null),i.url=e,i.url=e,i.WebSocket=r.WebSocket||r.MozWebSocket||{},i}return T.default(n,[{key:"isConnected",get:function(){return!!this.socket&&1===this.socket.readyState}},{key:"connect",value:function(){var e,t=this;ee.trace("connecting to socket");try{e=new this.WebSocket(this.url)}catch(n){return ee.debug("Socket error: ".concat(this.url)),void this.emit("socketError",n)}e.binaryType="arraybuffer",e.onopen=function(){ee.debug("socket opened ".concat(t.url)),t.emit("connected")},e.onclose=function(e){ee.debug("socket closed",e),t.emit("disconnected",e)},e.onerror=function(e){ee.debug("Socket error:",e),t.emit("socketError",e)},e.onmessage=function(e){t.emit("message",e.data)},this.socket=e}},{key:"send",value:function(e){return this.socket&&this.socket.send(e)}},{key:"close",value:function(){if(ee.trace("closing socket"),this.socket){this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null;try{this.socket.close()}finally{}}}}]),n}(B);function Fe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var Ze=function(e){O.default(n,e);var t=Fe(n);function n(e){var r;return R.default(this,n),(r=t.call(this)).transport=e,r.registrations=new Map,r.registrationsInProgress=new Map,r}return T.default(n,[{key:"putNotificationContext",value:function(){var e=S.default(P.default.mark((function e(t,n){var r;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"put_notification_ctx",notification_ctx_id:t},e.next=3,this.transport.sendWithReply(r,n);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteNotificationContext",value:function(){var e=S.default(P.default.mark((function e(t){var n;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"delete_notification_ctx",notification_ctx_id:t},e.next=3,this.transport.sendWithReply(n);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateRegistration",value:function(){var e=S.default(P.default.mark((function e(t,n){var r,i;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee.debug("update registration for context",t),(r=this.registrationsInProgress.get(t))||(r=new Set,this.registrationsInProgress.set(t,r)),i=y.v4(),r.add(i),e.prev=5,e.next=8,this.putNotificationContext(t,n);case 8:ee.debug("registration attempt succeeded for context",n),r.delete(i),0===r.size&&(this.registrationsInProgress.delete(t),this.emit("registered",t)),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(5),ee.warn("registration attempt failed for context",n),ee.debug(e.t0),r.delete(i),0===r.size&&(this.registrationsInProgress.delete(t),this.emit("registrationFailed",t,e.t0));case 19:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateRegistrations",value:function(){var e=S.default(P.default.mark((function e(){var t,n=this;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee.trace("refreshing ".concat(this.registrations.size," registrations")),t=[],this.registrations.forEach((function(e,r){t.push(n.updateRegistration(r,e))})),e.next=5,Promise.all(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setNotificationsContext",value:function(){var e=S.default(P.default.mark((function e(t,n){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}throw new Te("Invalid arguments provided");case 2:return this.registrations.set(t,n),e.next=5,this.updateRegistration(t,n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeNotificationsContext",value:function(){var e=S.default(P.default.mark((function e(t){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.registrations.has(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.deleteNotificationContext(t);case 4:this.transport.isConnected&&this.registrations.delete(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(B);function Be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var Ue=function(e){O.default(n,e);var t=Be(n);function n(e,r,i){var a;return R.default(this,n),(a=t.call(this,r)).status=e,a.description=r,a.body=i,a}return n}(Te);function Ve(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var ze=function(e){O.default(n,e);var t=Ve(n);function n(e){return R.default(this,n),t.call(this,e)}return n}(Te);function We(e,t){var n=function(e){var t=e.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)(\/[^?#]*)(\?[^#]*|)(#.*|)$/);if(t){var n={protocol:t[1],host:t[2],hostname:t[3],port:t[4],pathname:t[5],search:t[6],hash:t[7],params:{}};if(n.search.length>0){var r=n.search.substring(1);n.params=r.split("&").map((function(e){return e.split("=")})).reduce((function(e,t){return e.hasOwnProperty(t[0])?Array.isArray(e[t[0]])?e[t[0]].push(t[1]):e[t[0]]=[e[t[0]],t[1]]:e[t[0]]=t[1],e}),{})}return n}throw new Te("Incorrect URI: "+e)}(t),r={method:e,host:n.host,path:n.pathname};return n.params&&(r.params=n.params),r}function He(e,t,n,r,i){return{to:We(e,t),headers:n,body:r,grant:i}}var Ge=function(){function e(t,n,r){R.default(this,e),this.config=r,this.transport=t,this.pendingMessages=[],this.twilsock=n}return T.default(e,[{key:"saveMessage",value:function(e){var t=this;return new Promise((function(n,r){var i={message:e,resolve:n,reject:r,alreadyRejected:!1,timeout:setTimeout((function(){ee.debug("request is timed out"),r(new Te("request '".concat(e.to.method,"' to '").concat(e.to.host,"' timed out"))),i.alreadyRejected=!0}),2e4)};t.pendingMessages.push(i)}))}},{key:"sendPendingMessages",value:function(){for(var e=this,t=function(){var t=e.pendingMessages[0];if(!t.alreadyRejected)try{var n=t.message;e.actualSend(n).then((function(e){return t.resolve(e)})).catch((function(e){return t.reject(e)})),clearTimeout(t.timeout)}catch(r){return ee.debug("Failed to send pending message",r),"break"}e.pendingMessages.splice(0,1)};this.pendingMessages.length>0;){if("break"===t())break}}},{key:"rejectPendingMessages",value:function(){var e=this;this.pendingMessages.forEach((function(t){t.reject(new ze("Unable to connect: "+e.twilsock.getTerminationReason)),t.alreadyRejected=!0,clearTimeout(t.timeout)})),this.pendingMessages.splice(0,this.pendingMessages.length)}},{key:"actualSend",value:function(){var e=S.default(P.default.mark((function e(t){var n,r,i,a,o,s,u,c;return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.to,i=t.headers,a=t.body,o=null!==(n=t.grant)&&void 0!==n?n:this.config.activeGrant,s={host:r.host,path:r.path,method:r.method,params:r.params,headers:i},u=new fe(o,i["Content-Type"]||"application/json",s),ee.trace("Sending upstream message",u),e.next=9,this.transport.sendWithReply(u,a);case 9:if(c=e.sent,ee.trace("Received upstream message response",c),!((f=c)&&f.header&&f.header.http_status)||(l=c.header.http_status.code)>=200&&l<300){e.next=13;break}throw new Ue(c.header.http_status.code,c.header.http_status.status,c.body);case 13:return e.abrupt("return",{status:c.header.http_status,headers:c.header.http_headers,body:c.body});case 14:case"end":return e.stop()}var l,f}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"send",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(this.twilsock.isTerminalState)return Promise.reject(new ze("Unable to connect: "+this.twilsock.getTerminationReason));var a=He(e,t,n,r,i);return this.twilsock.isConnected?this.actualSend(a):this.saveMessage(a)}}]),e}(),qe=function(){function e(){var t=this;R.default(this,e),this._promise=new Promise((function(e,n){t._resolve=e,t._reject=n}))}return T.default(e,[{key:"promise",get:function(){return this._promise}},{key:"update",value:function(e){this._resolve(e)}},{key:"set",value:function(e){this._resolve(e)}},{key:"fail",value:function(e){this._reject(e)}}]),e}(),Ke=function(){function e(t){R.default(this,e),this.id=t}return T.default(e,null,[{key:"create",value:function(t){if(t instanceof Object&&"storage_id"in t)return new e(t.storage_id);throw new Te('Field "storage_id" is missing')}}]),e}(),Ye=function(){function e(){return R.default(this,e),N.default(this,"initializedFlag","twilio_twilsock_token_storage"),N.default(this,"tokenStoragePrefix","twilio_continuation_token_"),e._instance||(this.initialize(),e._instance=this),e._instance}return T.default(e,[{key:"sessionStorage",value:function(){try{return r.sessionStorage}catch(e){return null}}},{key:"window",value:function(){try{return r.window}catch(e){return null}}},{key:"storeToken",value:function(e,t){this.canStore()&&this.sessionStorage.setItem(this.getKeyName(t),e)}},{key:"getStoredToken",value:function(e){return this.canStore()?this.sessionStorage.getItem(this.getKeyName(e)):null}},{key:"initialize",value:function(){var e=this;if(this.canStore()){this.sessionStorage.getItem(this.initializedFlag)&&this.clear(),this.sessionStorage.setItem(this.initializedFlag,"true");var t=this.sessionStorage.removeItem;this.window.addEventListener("unload",(function(){t(e.initializedFlag)}))}}},{key:"clear",value:function(){if(this.canStore()){for(var e=[],t=0;t<this.sessionStorage.length;t++){var n=this.sessionStorage.key(t);n&&0===n.indexOf(this.tokenStoragePrefix)&&e.push(n)}var r=this.sessionStorage.removeItem;e.forEach((function(e){return r(e)})),r(this.initializedFlag)}}},{key:"getKeyName",value:function(e){return"".concat(this.tokenStoragePrefix).concat(e)}},{key:"canStore",value:function(){return!!(this.sessionStorage&&this.sessionStorage.length&&this.window)}}]),e}();N.default(Ye,"_instance",null);var Xe,Qe,Je=new Ye,$e=function(){function e(t,n,r,i,a,o){R.default(this,e),this.title=t,this.details=n,this.start=r,this.type=a,this.id=o,this.end=i}return T.default(e,[{key:"toTelemetryEvent",value:function(){var e=new Date,t=this.start,n=this.end?this.end:e;if(n<t){var r=n;n=t,t=r}var i=t.getTime()-e.getTime(),a=n.getTime()-e.getTime();return new ge(i,a,this.title,this.details,this.id,this.type)}}]),e}();t.TelemetryPoint=void 0,(Xe=t.TelemetryPoint||(t.TelemetryPoint={}))[Xe.Start=0]="Start",Xe[Xe.End=1]="End",t.EventSendingLimitation=void 0,(Qe=t.EventSendingLimitation||(t.EventSendingLimitation={}))[Qe.MinEventsPortion=0]="MinEventsPortion",Qe[Qe.AnyEvents=1]="AnyEvents",Qe[Qe.AnyEventsIncludingUnfinished=2]="AnyEventsIncludingUnfinished";var et=function(){function e(t,n){R.default(this,e),N.default(this,"minEventsPortionToSend",50),N.default(this,"maxEventsPortionToSend",100),N.default(this,"pendingEvents",new Map),N.default(this,"readyEvents",[]),N.default(this,"hasInitializationFinished",!1),N.default(this,"_canSendTelemetry",!1),this.config=t,this.packetInterface=n}return T.default(e,[{key:"isTelemetryEnabled",get:function(){return this.config.confirmedCapabilities.has("telemetry.v1")}},{key:"canSendTelemetry",get:function(){return this._canSendTelemetry&&this.isTelemetryEnabled},set:function(e){ee.debug("TelemetryTracker.canSendTelemetry: ".concat(e," TelemetryTracker.isTelemetryEnabled: ").concat(this.isTelemetryEnabled)),this._canSendTelemetry&&!e&&(this.pendingEvents.clear(),this.readyEvents=[]),this._canSendTelemetry=e,e&&this.sendTelemetry(t.EventSendingLimitation.AnyEvents),e&&!this.hasInitializationFinished&&(this.hasInitializationFinished=!0)}},{key:"addTelemetryEvent",value:function(e){!this.canSendTelemetry&&this.hasInitializationFinished||this.readyEvents.push(e)}},{key:"addPartialEvent",value:function(e,n,r){ee.debug("Adding ".concat(r===t.TelemetryPoint.Start?"starting":"ending"," timepoint for '").concat(n,"' event"));var i=this.pendingEvents.has(n);if(r===t.TelemetryPoint.Start)i&&ee.debug("Overwriting starting point for '".concat(n,"' event")),this.pendingEvents.set(n,e);else{if(!i)return void ee.info("Could not find started event for '".concat(n,"' event"));this.addTelemetryEvent(this.merge(this.pendingEvents.get(n),e)),this.pendingEvents.delete(n)}}},{key:"getTelemetryToSend",value:function(e){return this.canSendTelemetry&&0!=this.readyEvents.length?e==t.EventSendingLimitation.MinEventsPortion&&this.readyEvents.length<this.minEventsPortionToSend?[]:this.getTelemetryPortion(e==t.EventSendingLimitation.AnyEventsIncludingUnfinished):[]}},{key:"getTelemetryPortion",value:function(e){var t=this,n=Math.min(this.readyEvents.length,this.maxEventsPortionToSend),r=this.readyEvents.splice(0,n);return e&&r.length<this.maxEventsPortionToSend&&this.pendingEvents.forEach((function(e,n){if(!(r.length>=t.maxEventsPortionToSend)){var i=t.pendingEvents.get(n);t.pendingEvents.delete(n),r.push(new $e("[UNFINISHED] ".concat(i.title),i.details,i.start,null,i.type,i.id))}})),r}},{key:"merge",value:function(e,t){return new $e(t.title?t.title:e.title,t.details?t.details:e.details,e.start,t.end,t.type?t.type:e.type,t.id?t.id:e.id)}},{key:"sendTelemetryIfMinimalPortionCollected",value:function(){this.sendTelemetry(t.EventSendingLimitation.MinEventsPortion)}},{key:"sendTelemetry",value:function(e){var t=this.getTelemetryToSend(e);if(0!==t.length)try{this.packetInterface.send(new ye(t.map((function(e){return e.toTelemetryEvent()}))))}catch(n){ee.debug("Error while sending ".concat(t.length," telemetry events due to ").concat(n,"; they will be resubmitted")),this.readyEvents=this.readyEvents.concat(t)}}}]),e}();function tt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I.default(e);if(t){var i=I.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A.default(this,n)}}var nt=function e(){R.default(this,e)};N.default(nt,"TWILSOCK_CONNECT","twilsock.sdk.connect"),N.default(nt,"TWILSOCK_INIT","twilsock.sdk.init"),t.TwilsockClient=function(e){O.default(r,e);var n=tt(r);function r(e,i,a){var o;R.default(this,r),o=n.call(this),N.default(E.default(o),"version",te),N.default(E.default(o),"offlineStorageDeferred",new qe),a.continuationToken=a.continuationToken?a.continuationToken:Je.getStoredToken(i);var s=o.config=new ne(e,i,a);ee.setLevel(s.logLevel);var u=new je(s.url),c=new De(u,s);return o.channel=new Pe(u,c,s),o.registrations=new Ze(c),o.upstream=new Ge(c,o.channel,s),o.telemetryTracker=new et(s,c),o.channel.on("initialized",(function(){return o.telemetryTracker.canSendTelemetry=!0})),u.on("disconnected",(function(){return o.telemetryTracker.canSendTelemetry=!1})),o.registrations.on("registered",(function(e){return o.emit("registered",e)})),o.channel.on("message",(function(e,t){return setTimeout((function(){return o.emit("message",e,t)}),0)})),o.channel.on("stateChanged",(function(e){return setTimeout((function(){return o.emit("stateChanged",e)}),0)})),o.channel.on("connectionError",(function(e){return setTimeout((function(){return o.emit("connectionError",e)}),0)})),o.channel.on("tokenAboutToExpire",(function(){return setTimeout((function(){return o.emit("tokenAboutToExpire")}),0)})),o.channel.on("tokenExpired",(function(){return setTimeout((function(){return o.emit("tokenExpired")}),0)})),o.channel.on("connected",(function(){return o.registrations.updateRegistrations()})),o.channel.on("connected",(function(){return o.upstream.sendPendingMessages()})),o.channel.on("connected",(function(){return setTimeout((function(){return o.emit("connected")}),0)})),o.channel.on("beforeConnect",(function(){return o.telemetryTracker.addPartialEvent(new $e("Establish WebSocket connection","",new Date),nt.TWILSOCK_CONNECT,t.TelemetryPoint.Start)})),o.channel.on("connected",(function(){return o.telemetryTracker.addPartialEvent(new $e("Establish WebSocket connection","",new Date,new Date),nt.TWILSOCK_CONNECT,t.TelemetryPoint.End)})),o.channel.on("beforeSendInit",(function(){return o.telemetryTracker.addPartialEvent(new $e("Send Twilsock init","",new Date),nt.TWILSOCK_INIT,t.TelemetryPoint.Start)})),o.channel.on("initialized",(function(){return o.telemetryTracker.addPartialEvent(new $e("Send Twilsock init","Succeeded",new Date,new Date),nt.TWILSOCK_INIT,t.TelemetryPoint.End)})),o.channel.on("sendInitFailed",(function(){return o.telemetryTracker.addPartialEvent(new $e("Send Twilsock init","Failed",new Date,new Date),nt.TWILSOCK_INIT,t.TelemetryPoint.End)})),o.channel.on("initialized",(function(e){o.handleStorageId(i,e),Je.storeToken(e.continuationToken,i),setTimeout((function(){return o.emit("initialized",e)}),0)})),o.channel.on("disconnected",(function(){return setTimeout((function(){return o.emit("disconnected")}),0)})),o.channel.on("disconnected",(function(){return o.upstream.rejectPendingMessages()})),o.channel.on("disconnected",(function(){return o.offlineStorageDeferred.fail(new Te("Client disconnected"))})),o.offlineStorageDeferred.promise.catch((function(){})),o}return T.default(r,[{key:"emit",value:function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return ee.debug("Emitting ".concat(e.toString(),"(").concat(i.map((function(e){return JSON.stringify(e)})).join(", "),")")),(t=C.default(I.default(r.prototype),"emit",this)).call.apply(t,[this,e].concat(i))}},{key:"handleStorageId",value:function(e,t){if(t.offlineStorage)if(t.offlineStorage.hasOwnProperty(e))try{this.offlineStorageDeferred.set(Ke.create(t.offlineStorage[e])),ee.debug("Offline storage for '".concat(e,"' product: ").concat(JSON.stringify(t.offlineStorage[e]),"."))}catch(n){this.offlineStorageDeferred.fail(new Te("Failed to parse offline storage for ".concat(e," ").concat(JSON.stringify(t.offlineStorage[e]),". ").concat(n,".")))}else this.offlineStorageDeferred.fail(new Te("No offline storage id for '".concat(e,"' product: ").concat(JSON.stringify(t.offlineStorage))));else this.offlineStorageDeferred.fail(new Te("No offline storage id"))}},{key:"storageId",value:function(){return this.offlineStorageDeferred.promise}},{key:"isConnected",get:function(){return this.channel.isConnected}},{key:"state",get:function(){return this.channel.state}},{key:"updateToken",value:function(){var e=S.default(P.default.mark((function e(t){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee.trace("updating token '".concat(t,"'")),this.config.token!==t){e.next=3;break}return e.abrupt("return");case 3:return this.config.updateToken(t),e.next=6,this.channel.updateToken(t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setNotificationsContext",value:function(){var e=S.default(P.default.mark((function e(t,n){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.registrations.setNotificationsContext(t,n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeNotificationsContext",value:function(){var e=S.default(P.default.mark((function e(t){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.registrations.removeNotificationsContext(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){return this.channel.connect()}},{key:"disconnect",value:function(){var e=S.default(P.default.mark((function e(){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.telemetryTracker.sendTelemetry(t.EventSendingLimitation.AnyEventsIncludingUnfinished),e.next=3,this.channel.disconnect();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=S.default(P.default.mark((function e(n,r,i){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.telemetryTracker.sendTelemetry(t.EventSendingLimitation.AnyEvents),e.next=3,this.upstream.send("GET",n,r,void 0,i);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=S.default(P.default.mark((function e(n,r,i,a){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.telemetryTracker.sendTelemetry(t.EventSendingLimitation.AnyEvents),e.next=3,this.upstream.send("POST",n,r,i,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=S.default(P.default.mark((function e(n,r,i,a){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.telemetryTracker.sendTelemetry(t.EventSendingLimitation.AnyEvents),e.next=3,this.upstream.send("PUT",n,r,i,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=S.default(P.default.mark((function e(n,r,i,a){return P.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.telemetryTracker.sendTelemetry(t.EventSendingLimitation.AnyEvents),e.next=3,this.upstream.send("DELETE",n,r,i,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"addTelemetryEvent",value:function(e){this.telemetryTracker.addTelemetryEvent(e),this.telemetryTracker.sendTelemetryIfMinimalPortionCollected()}},{key:"addPartialTelemetryEvent",value:function(e,n,r){this.telemetryTracker.addPartialEvent(e,n,r),r===t.TelemetryPoint.End&&this.telemetryTracker.sendTelemetryIfMinimalPortionCollected()}}]),r}(B),t.TwilsockClient=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":M.default(Reflect))&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}([v.validateConstructorTypes(v.nonEmptyString,v.nonEmptyString,[v.pureObject,"undefined",v.literal(null)]),function(e,t){if("object"===("undefined"===typeof Reflect?"undefined":M.default(Reflect))&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[String,String,Object])],t.TwilsockClient);var rt=function(){function e(t){R.default(this,e),this.product=t,this.type="ers",this.notification_protocol_version=0,this.message_types=[]}return T.default(e,[{key:"populateInitRegistrations",value:function(e){var t=new Set(this.message_types);for(var n in e)t.add(e[n]);this.message_types=Array.from(t)}}]),e}();t.InitRegistration=rt,t.TelemetryEventDescription=$e,t.TelemetryTracker=et,t.TransportUnavailableError=ze,t.Twilsock=t.TwilsockClient,t.TwilsockError=Te},70538:function(e){e.exports=/[\0-\x1F\x7F-\x9F]/},13741:function(e){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},92426:function(e){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},65510:function(e){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},24610:function(e,t,n){var r=n(17669),i=n(88560),a=i;a.v1=r,a.v4=i,e.exports=a},71874:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},97180:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},17669:function(e,t,n){var r,i,a=n(97180),o=n(71874),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var p=a();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=i=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,m=h-s+(v-u)/1e4;if(m<0&&void 0===e.clockseq&&(d=d+1&16383),(m<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=v,i=d;var g=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var y=h/4294967296*1e4&268435455;l[c++]=y>>>8&255,l[c++]=255&y,l[c++]=y>>>24&15|16,l[c++]=y>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||o(l)}},88560:function(e,t,n){var r=n(97180),i=n(71874);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[a+s]=o[s];return t||i(o)}},75410:function(){},48628:function(){},75042:function(){},73897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},85372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},63405:function(e,t,n){var r=n(73897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},66115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},17156:function(e){function t(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function s(e){t(o,i,a,s,u,"next",e)}function u(e){t(o,i,a,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},56690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),i=n(69617);function a(t,n,o){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},89728:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},26389:function(e,t,n){var r=n(73808),i=n(69617),a=n(94993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},38416:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},41588:function(e,t,n){var r=n(1753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},73808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},61655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},75263:function(e,t,n){var r=n(18698).default;function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(a,s,u):a[s]=e[s]}return a.default=e,n&&n.set(e,a),a},e.exports.__esModule=!0,e.exports.default=e.exports},46035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},69617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},79498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},68872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},12218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},42281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},94993:function(e,t,n){var r=n(18698).default,i=n(66115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},17061:function(e,t,n){var r=n(18698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return O()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}t.wrap=f;var p={};function h(){}function v(){}function m(){}var g={};l(g,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(C([])));b&&b!==n&&a.call(b,s)&&(g=b);var x=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(i,o,s,u){var c=d(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:O}}function O(){return{value:void 0,done:!0}}return v.prototype=m,l(x,"constructor",m),l(m,"constructor",v),v.displayName=l(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},k(w.prototype),l(w.prototype,u,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new w(f(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(x),l(x,c,"Generator"),l(x,s,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},27424:function(e,t,n){var r=n(85372),i=n(68872),a=n(86116),o=n(12218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,n){var r=n(73808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},59400:function(e){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(63405),i=n(79498),a=n(86116),o=n(42281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},18698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},86116:function(e,t,n){var r=n(73897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},33496:function(e,t,n){var r=n(73808),i=n(6015),a=n(46035),o=n(3515);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},64687:function(e,t,n){var r=n(17061)();e.exports=r;try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},30907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},83878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},97326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},15861:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},15671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},43144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},37762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(40181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}},29388:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(61120),i=n(78814),a=n(82963);function o(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var o=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,a.Z)(this,n)}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},87462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},11752:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(61120);function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}function a(){return a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=i(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},a.apply(this,arguments)}},61120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},60136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(89611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},94578:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(89611);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},78814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},59199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},25267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},45987:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(63366);function i(e,t){if(null==e)return{};var n,i,a=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},63366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},82963:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(71002),i=n(97326);function a(e,t){if(t&&("object"===(0,r.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},74165:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(71002);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(O){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),o=new T(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var d={};function p(){}function h(){}function v(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(E([])));y&&y!==t&&n.call(y,o)&&(m=y);var b=v.prototype=p.prototype=Object.create(m);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(a,o,s,u){var c=f(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var a;this._invoke=function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function E(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=v,c(b,"constructor",v),c(v,"constructor",h),h.displayName=c(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},x(k.prototype),c(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(b),c(b,u,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}},89611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},29439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(83878);var i=n(40181),a=n(25267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},93433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(30907);var i=n(59199),a=n(40181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},71002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},40181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(30907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},98737:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(61120),i=n(89611);var a=n(78814);function o(e,t,n){return o=(0,a.Z)()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&(0,i.Z)(a,n.prototype),a},o.apply(null,arguments)}function s(e){var t="function"===typeof Map?new Map:void 0;return s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return o(e,arguments,(0,r.Z)(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(a,e)},s(e)}},1730:function(e){"use strict";e.exports=JSON.parse('{"name":"twilio-video","title":"Twilio Video","description":"Twilio Video JavaScript Library","version":"2.25.0","homepage":"https://twilio.com","author":"Mark Andrus Roberts <mroberts@twilio.com>","contributors":["Ryan Rowland <rrowland@twilio.com>","Manjesh Malavalli <mmalavalli@twilio.com>","Makarand Patwardhan <mpatwardhan@twilio.com>"],"keywords":["twilio","webrtc","library","javascript","video","rooms"],"repository":{"type":"git","url":"https://github.com/twilio/twilio-video.js.git"},"devDependencies":{"@babel/core":"^7.14.2","@babel/preset-env":"^7.14.2","@babel/preset-typescript":"^7.13.0","@types/express":"^4.11.0","@types/node":"^8.5.1","@types/selenium-webdriver":"^3.0.8","@types/ws":"^3.2.1","@typescript-eslint/eslint-plugin":"^4.13.0","@typescript-eslint/parser":"^4.0.0","babel-cli":"^6.26.0","babel-preset-es2015":"^6.24.1","browserify":"^17.0.0","cheerio":"^0.22.0","cors":"^2.8.5","electron":"^17.2.0","envify":"^4.0.0","eslint":"^6.2.1","eslint-config-standard":"^14.0.0","eslint-plugin-import":"^2.18.2","eslint-plugin-node":"^9.1.0","eslint-plugin-promise":"^4.2.1","eslint-plugin-standard":"^4.0.1","express":"^4.16.2","glob":"^7.1.7","ink-docstrap":"^1.3.2","inquirer":"^7.0.0","is-docker":"^2.0.0","jsdoc":"^3.5.5","jsdoc-babel":"^0.5.0","json-loader":"^0.5.7","karma":"^5.0.2","karma-browserify":"^8.0.0","karma-chrome-launcher":"^2.0.0","karma-edgium-launcher":"^4.0.0-0","karma-electron":"^6.1.0","karma-firefox-launcher":"^1.3.0","karma-htmlfile-reporter":"^0.3.8","karma-junit-reporter":"^1.2.0","karma-mocha":"^1.3.0","karma-safari-launcher":"^1.0.0","karma-spec-reporter":"0.0.32","karma-typescript":"^5.5.1","karma-typescript-es6-transform":"^5.5.1","mocha":"^3.2.0","mock-require":"^3.0.3","ncp":"^2.0.0","node-http-server":"^8.1.2","npm-run-all":"^4.0.2","nyc":"^15.1.0","requirejs":"^2.3.3","rimraf":"^2.6.1","simple-git":"^1.126.0","sinon":"^4.0.1","ts-node":"4.0.1","tslint":"5.8.0","twilio":"^3.49.0","twilio-release-tool":"^1.0.2","typescript":"4.2.2","uglify-js":"^2.8.22","vinyl-fs":"^2.4.4","vinyl-source-stream":"^1.1.0","watchify":"^3.11.1","webrtc-adapter":"^7.7.1"},"engines":{"node":">=0.12"},"license":"BSD-3-Clause","main":"./es5/index.js","types":"./tsdef/index.d.ts","scripts":{"lint:js":"eslint ./lib ./test/*.js ./docker/**/*.js ./test/framework/*.js ./test/lib/*.js ./test/integration/** ./test/unit/** ","lint:ts":"eslint ./tsdef/*.ts ./lib/**/*.ts","lint":"npm-run-all lint:js lint:ts","printVersion":"node --version && npm --version","test:unit":"npm-run-all printVersion build:es5 && nyc --report-dir=./coverage --include=lib/**/* --reporter=html --reporter=lcov --reporter=text mocha -r ts-node/register ./test/unit/*","test:unit:quick":"nyc --report-dir=./coverage --include=lib/**/* --reporter=html --reporter=lcov mocha -r ts-node/register","test:serversiderender":"mocha ./test/serversiderender/index.js","test:integration:adapter":"node ./scripts/karma.js karma/integration.adapter.conf.js","test:integration":"npm run build:es5 && node ./scripts/karma.js karma/integration.conf.js","test:umd:install":"npm install puppeteer@19.2.2","test:umd":"mocha ./test/umd/index.js","test:crossbrowser:build:clean":"rimraf ./test/crossbrowser/lib ./test/crossbrowser/src/browser/index.js","test:crossbrowser:build:lint":"cd ./test/crossbrowser && tslint --project tsconfig.json","test:crossbrowser:build:tsc":"cd ./test/crossbrowser && tsc","test:crossbrowser:build:browser":"cd ./test/crossbrowser && browserify lib/crossbrowser/src/browser/index.js > src/browser/index.js","test:crossbrowser:build":"npm-run-all test:crossbrowser:build:*","test:crossbrowser:test":"cd ./test/crossbrowser && mocha --compilers ts:ts-node/register test/integration/spec/**/*.ts","test:crossbrowser":"npm-run-all test:crossbrowser:*","test:sdkdriver:build:clean":"rimraf ./test/lib/sdkdriver/lib ./test/lib/sdkdriver/test/integration/browser/index.js","test:sdkdriver:build:lint":"cd ./test/lib/sdkdriver && tslint --project tsconfig.json","test:sdkdriver:build:tsc":"cd ./test/lib/sdkdriver && tsc --rootDir src","test:sdkdriver:build":"npm-run-all test:sdkdriver:build:*","test:sdkdriver:test:unit":"cd ./test/lib/sdkdriver && mocha --compilers ts:ts-node/register test/unit/spec/**/*.ts","test:sdkdriver:test:integration:browser":"cd ./test/lib/sdkdriver/test/integration && browserify browser/browser.js > browser/index.js","test:sdkdriver:test:integration:run":"cd ./test/lib/sdkdriver && mocha --compilers ts:ts-node/register test/integration/spec/**/*.ts","test:sdkdriver:test:integration":"npm-run-all test:sdkdriver:test:integration:*","test:sdkdriver:test":"npm-run-all test:sdkdriver:test:*","test:sdkdriver":"npm-run-all test:sdkdriver:*","test:framework:angular:install":"cd ./test/framework/twilio-video-angular && rimraf ./node_modules package-lock.json && npm install","test:framework:angular:run":"mocha ./test/framework/twilio-video-angular.js","test:framework:angular":"npm-run-all test:framework:angular:*","test:framework:no-framework:run":"mocha ./test/framework/twilio-video-no-framework.js","test:framework:no-framework":"npm-run-all test:framework:no-framework:*","test:framework:react:install":"cd ./test/framework/twilio-video-react && rimraf ./node_modules package-lock.json && npm install","test:framework:react:test":"node ./scripts/framework.js twilio-video-react","test:framework:react:build":"cd ./test/framework/twilio-video-react && npm run build","test:framework:react:run":"mocha ./test/framework/twilio-video-react.js","test:framework:react":"npm-run-all test:framework:react:*","test:framework:install":"npm install chromedriver && npm install selenium-webdriver && npm install geckodriver && npm install puppeteer","test:framework":"npm-run-all test:framework:install test:framework:no-framework test:framework:react","test":"npm-run-all test:unit test:integration","build:es5":"rimraf ./es5 && mkdir -p es5 && tsc tsdef/twilio-video-tests.ts --noEmit --lib es2018,dom && tsc","build:js":"node ./scripts/build.js ./src/twilio-video.js ./LICENSE.md ./dist/twilio-video.js","build:min.js":"uglifyjs ./dist/twilio-video.js -o ./dist/twilio-video.min.js --comments \\"/^! twilio-video.js/\\" -b beautify=false,ascii_only=true","build":"npm-run-all clean lint docs test:unit test:integration build:es5 build:js build:min.js test:umd","build:quick":"npm-run-all clean lint docs build:es5 build:js build:min.js","docs":"node ./scripts/docs.js ./dist/docs","watch":"tsc -w","clean":"rimraf ./coverage ./es5 ./dist"},"dependencies":{"events":"^3.3.0","util":"^0.12.4","ws":"^7.4.6","xmlhttprequest":"^1.8.0"},"browser":{"ws":"./src/ws.js","xmlhttprequest":"./src/xmlhttprequest.js"}}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/video-demo/",function(){"use strict";var e=n(72791),t=n(54164),r=n(87462),i=n(38317),a={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},o=function(e){return(0,r.Z)({color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};var s=(0,i.Z)((function(e){return{"@global":{html:a,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,r.Z)({margin:0},o(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})}}}),{name:"MuiCssBaseline"})((function(t){var n=t.children,r=void 0===n?null:n;return t.classes,e.createElement(e.Fragment,null,r)})),u=n(40423),c=n(78444),l=n(79316);var f=function(t){var n=t.children,i=t.theme,a=(0,c.Z)(),o=e.useMemo((function(){var e=null===a?i:function(e,t){return"function"===typeof t?t(e):(0,r.Z)({},e,t)}(a,i);return null!=e&&(e[l.Z]=null!==a),e}),[i,a]);return e.createElement(u.Z.Provider,{value:o},n)},d=n(4942),p=n(45987),h=n(28182),v=n(62110),m=n.n(v),g=n(63401);function y(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}var b=n(40663),x=function(t){var n=function(t){return function(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.name,s=(0,p.Z)(a,["name"]),u=o,c="function"===typeof n?function(e){return{root:function(t){return n((0,r.Z)({theme:e},t))}}}:{root:n},l=(0,g.Z)(c,(0,r.Z)({Component:t,name:o||t.displayName,classNamePrefix:u},s));n.filterProps&&(i=n.filterProps,delete n.filterProps),n.propTypes&&(n.propTypes,delete n.propTypes);var f=e.forwardRef((function(n,a){var o=n.children,s=n.className,u=n.clone,c=n.component,f=(0,p.Z)(n,["children","className","clone","component"]),d=l(n),v=(0,h.Z)(d.root,s),m=f;if(i&&(m=y(m,i)),u)return e.cloneElement(o,(0,r.Z)({className:(0,h.Z)(o.props.className,v)},m));if("function"===typeof o)return o((0,r.Z)({className:v},m));var g=c||t;return e.createElement(g,(0,r.Z)({ref:a,className:v},m),o)}));return m()(f,t),f}}(t);return function(e,t){return n(e,(0,r.Z)({defaultTheme:b.Z},t))}};var k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,g.Z)(e,(0,r.Z)({defaultTheme:b.Z},t))};var w=n(13108),_=n(69806),S=n(72216),T=n(81175),E=n(93433),C=n(63366),O=n(97326),A=n(94578),I=e.createContext(null);function R(t,n){var r=Object.create(null);return t&&e.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)})),r}function N(e,t,n){return null!=n[t]?n[t]:e.props[t]}function P(t,n,r){var i=R(t.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(n,i);return Object.keys(a).forEach((function(o){var s=a[o];if((0,e.isValidElement)(s)){var u=o in n,c=o in i,l=n[o],f=(0,e.isValidElement)(l)&&!l.props.in;!c||u&&!f?c||!u||f?c&&u&&(0,e.isValidElement)(l)&&(a[o]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:l.props.in,exit:N(s,"exit",t),enter:N(s,"enter",t)})):a[o]=(0,e.cloneElement)(s,{in:!1}):a[o]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:N(s,"exit",t),enter:N(s,"enter",t)})}})),a}var M=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},D=function(t){function n(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind((0,O.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,A.Z)(n,t);var i=n.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=t,i=o,R(r.children,(function(t){return(0,e.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:N(t,"appear",r),enter:N(t,"enter",r),exit:N(t,"exit",r)})}))):P(t,a,o),firstRender:!1}},i.handleExited=function(e,t){var n=R(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,r.Z)({},t.children);return delete n[e.key],{children:n}})))},i.render=function(){var t=this.props,n=t.component,r=t.childFactory,i=(0,C.Z)(t,["component","childFactory"]),a=this.state.contextValue,o=M(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?e.createElement(I.Provider,{value:a},o):e.createElement(I.Provider,{value:a},e.createElement(n,i,o))},n}(e.Component);D.propTypes={},D.defaultProps={component:"div",childFactory:function(e){return e}};var L=D,j="undefined"===typeof window?e.useEffect:e.useLayoutEffect;var F=function(t){var n=t.classes,r=t.pulsate,i=void 0!==r&&r,a=t.rippleX,o=t.rippleY,s=t.rippleSize,u=t.in,c=t.onExited,l=void 0===c?function(){}:c,f=t.timeout,d=e.useState(!1),p=d[0],v=d[1],m=(0,h.Z)(n.ripple,n.rippleVisible,i&&n.ripplePulsate),g={width:s,height:s,top:-s/2+o,left:-s/2+a},y=(0,h.Z)(n.child,p&&n.childLeaving,i&&n.childPulsate),b=(0,S.Z)(l);return j((function(){if(!u){v(!0);var e=setTimeout(b,f);return function(){clearTimeout(e)}}}),[b,u,f]),e.createElement("span",{className:m,style:g},e.createElement("span",{className:y}))},Z=e.forwardRef((function(t,n){var i=t.center,a=void 0!==i&&i,o=t.classes,s=t.className,u=(0,p.Z)(t,["center","classes","className"]),c=e.useState([]),l=c[0],f=c[1],d=e.useRef(0),v=e.useRef(null);e.useEffect((function(){v.current&&(v.current(),v.current=null)}),[l]);var m=e.useRef(!1),g=e.useRef(null),y=e.useRef(null),b=e.useRef(null);e.useEffect((function(){return function(){clearTimeout(g.current)}}),[]);var x=e.useCallback((function(t){var n=t.pulsate,r=t.rippleX,i=t.rippleY,a=t.rippleSize,s=t.cb;f((function(t){return[].concat((0,E.Z)(t),[e.createElement(F,{key:d.current,classes:o,timeout:550,pulsate:n,rippleX:r,rippleY:i,rippleSize:a})])})),d.current+=1,v.current=s}),[o]),k=e.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,s=void 0===o?a||t.pulsate:o,u=t.fakeElement,c=void 0!==u&&u;if("mousedown"===e.type&&m.current)m.current=!1;else{"touchstart"===e.type&&(m.current=!0);var l,f,d,p=c?null:b.current,h=p?p.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(h.width/2),f=Math.round(h.height/2);else{var v=e.touches?e.touches[0]:e,k=v.clientX,w=v.clientY;l=Math.round(k-h.left),f=Math.round(w-h.top)}if(s)(d=Math.sqrt((2*Math.pow(h.width,2)+Math.pow(h.height,2))/3))%2===0&&(d+=1);else{var _=2*Math.max(Math.abs((p?p.clientWidth:0)-l),l)+2,S=2*Math.max(Math.abs((p?p.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(_,2)+Math.pow(S,2))}e.touches?null===y.current&&(y.current=function(){x({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})},g.current=setTimeout((function(){y.current&&(y.current(),y.current=null)}),80)):x({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})}}),[a,x]),w=e.useCallback((function(){k({},{pulsate:!0})}),[k]),_=e.useCallback((function(e,t){if(clearTimeout(g.current),"touchend"===e.type&&y.current)return e.persist(),y.current(),y.current=null,void(g.current=setTimeout((function(){_(e,t)})));y.current=null,f((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return e.useImperativeHandle(n,(function(){return{pulsate:w,start:k,stop:_}}),[w,k,_]),e.createElement("span",(0,r.Z)({className:(0,h.Z)(o.root,s),ref:b},u),e.createElement(L,{component:null,exit:!0},l))})),B=(0,i.Z)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(e.memo(Z)),U=e.forwardRef((function(n,i){var a=n.action,o=n.buttonRef,s=n.centerRipple,u=void 0!==s&&s,c=n.children,l=n.classes,f=n.className,d=n.component,v=void 0===d?"button":d,m=n.disabled,g=void 0!==m&&m,y=n.disableRipple,b=void 0!==y&&y,x=n.disableTouchRipple,k=void 0!==x&&x,w=n.focusRipple,E=void 0!==w&&w,C=n.focusVisibleClassName,O=n.onBlur,A=n.onClick,I=n.onFocus,R=n.onFocusVisible,N=n.onKeyDown,P=n.onKeyUp,M=n.onMouseDown,D=n.onMouseLeave,L=n.onMouseUp,j=n.onTouchEnd,F=n.onTouchMove,Z=n.onTouchStart,U=n.onDragLeave,V=n.tabIndex,z=void 0===V?0:V,W=n.TouchRippleProps,H=n.type,G=void 0===H?"button":H,q=(0,p.Z)(n,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),K=e.useRef(null);var Y=e.useRef(null),X=e.useState(!1),Q=X[0],J=X[1];g&&Q&&J(!1);var $=(0,T.Z)(),ee=$.isFocusVisible,te=$.onBlurVisible,ne=$.ref;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;return(0,S.Z)((function(r){return t&&t(r),!n&&Y.current&&Y.current[e](r),!0}))}e.useImperativeHandle(a,(function(){return{focusVisible:function(){J(!0),K.current.focus()}}}),[]),e.useEffect((function(){Q&&E&&!b&&Y.current.pulsate()}),[b,E,Q]);var ie=re("start",M),ae=re("stop",U),oe=re("stop",L),se=re("stop",(function(e){Q&&e.preventDefault(),D&&D(e)})),ue=re("start",Z),ce=re("stop",j),le=re("stop",F),fe=re("stop",(function(e){Q&&(te(e),J(!1)),O&&O(e)}),!1),de=(0,S.Z)((function(e){K.current||(K.current=e.currentTarget),ee(e)&&(J(!0),R&&R(e)),I&&I(e)})),pe=function(){var e=t.findDOMNode(K.current);return v&&"button"!==v&&!("A"===e.tagName&&e.href)},he=e.useRef(!1),ve=(0,S.Z)((function(e){E&&!he.current&&Q&&Y.current&&" "===e.key&&(he.current=!0,e.persist(),Y.current.stop(e,(function(){Y.current.start(e)}))),e.target===e.currentTarget&&pe()&&" "===e.key&&e.preventDefault(),N&&N(e),e.target===e.currentTarget&&pe()&&"Enter"===e.key&&!g&&(e.preventDefault(),A&&A(e))})),me=(0,S.Z)((function(e){E&&" "===e.key&&Y.current&&Q&&!e.defaultPrevented&&(he.current=!1,e.persist(),Y.current.stop(e,(function(){Y.current.pulsate(e)}))),P&&P(e),A&&e.target===e.currentTarget&&pe()&&" "===e.key&&!e.defaultPrevented&&A(e)})),ge=v;"button"===ge&&q.href&&(ge="a");var ye={};"button"===ge?(ye.type=G,ye.disabled=g):("a"===ge&&q.href||(ye.role="button"),ye["aria-disabled"]=g);var be=(0,_.Z)(o,i),xe=(0,_.Z)(ne,K),ke=(0,_.Z)(be,xe),we=e.useState(!1),_e=we[0],Se=we[1];e.useEffect((function(){Se(!0)}),[]);var Te=_e&&!b&&!g;return e.createElement(ge,(0,r.Z)({className:(0,h.Z)(l.root,f,Q&&[l.focusVisible,C],g&&l.disabled),onBlur:fe,onClick:A,onFocus:de,onKeyDown:ve,onKeyUp:me,onMouseDown:ie,onMouseLeave:se,onMouseUp:oe,onDragLeave:ae,onTouchEnd:ce,onTouchMove:le,onTouchStart:ue,ref:ke,tabIndex:g?-1:z},ye,q),c,Te?e.createElement(B,(0,r.Z)({ref:Y,center:u},W)):null)})),V=(0,i.Z)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(U),z=n(91122),W=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.className,s=t.color,u=void 0===s?"default":s,c=t.component,l=void 0===c?"button":c,f=t.disabled,d=void 0!==f&&f,v=t.disableElevation,m=void 0!==v&&v,g=t.disableFocusRipple,y=void 0!==g&&g,b=t.endIcon,x=t.focusVisibleClassName,k=t.fullWidth,w=void 0!==k&&k,_=t.size,S=void 0===_?"medium":_,T=t.startIcon,E=t.type,C=void 0===E?"button":E,O=t.variant,A=void 0===O?"text":O,I=(0,p.Z)(t,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),R=T&&e.createElement("span",{className:(0,h.Z)(a.startIcon,a["iconSize".concat((0,z.Z)(S))])},T),N=b&&e.createElement("span",{className:(0,h.Z)(a.endIcon,a["iconSize".concat((0,z.Z)(S))])},b);return e.createElement(V,(0,r.Z)({className:(0,h.Z)(a.root,a[A],o,"inherit"===u?a.colorInherit:"default"!==u&&a["".concat(A).concat((0,z.Z)(u))],"medium"!==S&&[a["".concat(A,"Size").concat((0,z.Z)(S))],a["size".concat((0,z.Z)(S))]],m&&a.disableElevation,d&&a.disabled,w&&a.fullWidth),component:l,disabled:d,focusRipple:!y,focusVisibleClassName:(0,h.Z)(a.focusVisible,x),ref:n,type:C},I),e.createElement("span",{className:a.label},R,i,N))})),H=(0,i.Z)((function(e){return{root:(0,r.Z)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,w.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,w.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,w.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat((0,w.Fq)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:(0,w.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat((0,w.Fq)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:(0,w.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(W),G=n(29439),q=n(74165),K=n(15861);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q={trackSwitchOffMode:void 0,dominantSpeakerPriority:"standard",bandwidthProfileMode:"collaboration",maxAudioBitrate:"16000",contentPreferencesMode:"auto",clientTrackSwitchOffControl:"auto"},J=function(){var e={};for(var t in Q)e[t]=t;return e}();function $(e,t){return X(X({},e),{},(0,d.Z)({},t.name,"default"===t.value?void 0:t.value))}var ee={width:1280,height:720,frameRate:24},te="TwilioVideoApp-selectedAudioInput",ne="TwilioVideoApp-selectedAudioOutput",re="TwilioVideoApp-selectedVideoInput",ie=9/16;function ae(e){return"[object Object]"===Object.prototype.toString.call(e)}var oe="undefined"!==typeof navigator&&"string"===typeof navigator.userAgent&&/Mobile/.test(navigator.userAgent);function se(e){if(!function(e){var t,n;return!1!==ae(e)&&(void 0===(t=e.constructor)||!1!==ae(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}(e))return e;var t={};for(var n in e){var r=e[n];"undefined"!==typeof r&&(t[n]=se(r))}return t}function ue(){return ce.apply(this,arguments)}function ce(){return(ce=(0,K.Z)((0,q.Z)().mark((function e(){var t;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:return t=e.sent,e.abrupt("return",{audioInputDevices:t.filter((function(e){return"audioinput"===e.kind})),videoInputDevices:t.filter((function(e){return"videoinput"===e.kind})),audioOutputDevices:t.filter((function(e){return"audiooutput"===e.kind})),hasAudioInputDevices:t.some((function(e){return"audioinput"===e.kind})),hasVideoInputDevices:t.some((function(e){return"videoinput"===e.kind}))});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return fe.apply(this,arguments)}function fe(){return(fe=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,!navigator.permissions){e.next=14;break}return e.prev=2,e.next=5,navigator.permissions.query({name:n});case 5:return r=e.sent,e.abrupt("return","denied"===r.state);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:e.next=15;break;case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function de(){var t=(0,e.useState)({audioInputDevices:[],videoInputDevices:[],audioOutputDevices:[],hasAudioInputDevices:!1,hasVideoInputDevices:!1}),n=(0,G.Z)(t,2),r=n[0],i=n[1];return(0,e.useEffect)((function(){var e=function(){return ue().then((function(e){return i(e)}))};return navigator.mediaDevices.addEventListener("devicechange",e),e(),function(){navigator.mediaDevices.removeEventListener("devicechange",e)}}),[]),r}var pe=n(37762),he=n(15671),ve=n(43144),me=n(60136),ge=n(29388),ye=n(98737),be=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},xe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,d=(15&s)<<2|c>>6,p=63&c;u||(p=64,o||(d=64)),r.push(n[l],n[f],n[d],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(be(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ke=function(e){return function(e){var t=be(e);return xe.encodeByteArray(t,!0)}(e).replace(/\./g,"")},we=function(e){try{return xe.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var _e=function(){function e(){var t=this;(0,he.Z)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,ve.Z)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Se(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}var Te=function(e){(0,me.Z)(n,e);var t=(0,ge.Z)(n);function n(e,r,i){var a;return(0,he.Z)(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf((0,O.Z)(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,O.Z)(a),Ee.prototype.create),a}return(0,ve.Z)(n)}((0,ye.Z)(Error)),Ee=function(){function e(t,n,r){(0,he.Z)(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,ve.Z)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ce(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Te(n,a,t);return o}}]),e}();function Ce(e,t){return e.replace(Oe,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Oe=/\{\$([^}]+)}/g;function Ae(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Ie(s)&&Ie(u)){if(!Ae(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ie(e){return null!==e&&"object"===typeof e}function Re(e){for(var t=[],n=function(){var e=(0,G.Z)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ne(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,G.Z)(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t}function Pe(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Me=function(){function e(t,n){var r=this;(0,he.Z)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return(0,ve.Z)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=(0,pe.Z)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=De),void 0===r.error&&(r.error=De),void 0===r.complete&&(r.complete=De);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function De(){}function Le(e){return e&&e._delegate?e._delegate:e}var je=function(){function e(t,n,r){(0,he.Z)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,ve.Z)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Fe="[DEFAULT]",Ze=function(){function e(t,n){(0,he.Z)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,ve.Z)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new _e;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Fe})}catch(u){}var t,n=(0,pe.Z)(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,G.Z)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){var t;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,E.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,E.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=(0,pe.Z)(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=(0,G.Z)(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=(0,pe.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Fe?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe;return this.component?this.component.multipleInstances?e:Fe:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Be,Ue,Ve=function(){function e(t){(0,he.Z)(this,e),this.name=t,this.providers=new Map}return(0,ve.Z)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ze(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ze=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ue||(Ue={}));var We={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},He=Ue.INFO,Ge=(Be={},(0,d.Z)(Be,Ue.DEBUG,"log"),(0,d.Z)(Be,Ue.VERBOSE,"log"),(0,d.Z)(Be,Ue.INFO,"info"),(0,d.Z)(Be,Ue.WARN,"warn"),(0,d.Z)(Be,Ue.ERROR,"error"),Be),qe=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ge[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ke=function(){function e(t){(0,he.Z)(this,e),this.name=t,this._logLevel=He,this._logHandler=qe,this._userLogHandler=null,ze.push(this)}return(0,ve.Z)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ue))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?We[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ue.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ue.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ue.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ue.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ue.INFO].concat(t)),this._logHandler.apply(this,[this,Ue.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ue.WARN].concat(t)),this._logHandler.apply(this,[this,Ue.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ue.ERROR].concat(t)),this._logHandler.apply(this,[this,Ue.ERROR].concat(t))}}]),e}();var Ye,Xe;var Qe=new WeakMap,Je=new WeakMap,$e=new WeakMap,et=new WeakMap,tt=new WeakMap;var nt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Je.get(e);if("objectStoreNames"===t)return e.objectStoreNames||$e.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return at(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function rt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Xe||(Xe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ot(this),n),at(Qe.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return at(e.apply(ot(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[ot(this),t].concat(r));return $e.set(a,t.sort?t.sort():[t]),at(a)}}function it(e){return"function"===typeof e?rt(e):(e instanceof IDBTransaction&&function(e){if(!Je.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Je.set(e,t)}}(e),t=e,(Ye||(Ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,nt):e);var t}function at(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(at(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Qe.set(t,e)})).catch((function(){})),tt.set(t,e),t}(e);if(et.has(e))return et.get(e);var t=it(e);return t!==e&&(et.set(e,t),tt.set(t,e)),t}var ot=function(e){return tt.get(e)};var st,ut,ct,lt=["get","getKey","getAll","getAllKeys","count"],ft=["put","add","delete","clear"],dt=new Map;function pt(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(dt.get(t))return dt.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ft.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||lt.includes(n))){var a=function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var a,o,s,u,c,l,f=arguments;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return dt.set(t,a),a}}}st=function(e){return X(X({},e),{},{get:function(t,n,r){return pt(t,n)||e.get(t,n,r)},has:function(t,n){return!!pt(t,n)||e.has(t,n)}})},nt=st(nt);var ht=function(){function e(t){(0,he.Z)(this,e),this.container=t}return(0,ve.Z)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var vt="@firebase/app",mt="0.7.28",gt=new Ke("@firebase/app"),yt="[DEFAULT]",bt=(ut={},(0,d.Z)(ut,vt,"fire-core"),(0,d.Z)(ut,"@firebase/app-compat","fire-core-compat"),(0,d.Z)(ut,"@firebase/analytics","fire-analytics"),(0,d.Z)(ut,"@firebase/analytics-compat","fire-analytics-compat"),(0,d.Z)(ut,"@firebase/app-check","fire-app-check"),(0,d.Z)(ut,"@firebase/app-check-compat","fire-app-check-compat"),(0,d.Z)(ut,"@firebase/auth","fire-auth"),(0,d.Z)(ut,"@firebase/auth-compat","fire-auth-compat"),(0,d.Z)(ut,"@firebase/database","fire-rtdb"),(0,d.Z)(ut,"@firebase/database-compat","fire-rtdb-compat"),(0,d.Z)(ut,"@firebase/functions","fire-fn"),(0,d.Z)(ut,"@firebase/functions-compat","fire-fn-compat"),(0,d.Z)(ut,"@firebase/installations","fire-iid"),(0,d.Z)(ut,"@firebase/installations-compat","fire-iid-compat"),(0,d.Z)(ut,"@firebase/messaging","fire-fcm"),(0,d.Z)(ut,"@firebase/messaging-compat","fire-fcm-compat"),(0,d.Z)(ut,"@firebase/performance","fire-perf"),(0,d.Z)(ut,"@firebase/performance-compat","fire-perf-compat"),(0,d.Z)(ut,"@firebase/remote-config","fire-rc"),(0,d.Z)(ut,"@firebase/remote-config-compat","fire-rc-compat"),(0,d.Z)(ut,"@firebase/storage","fire-gcs"),(0,d.Z)(ut,"@firebase/storage-compat","fire-gcs-compat"),(0,d.Z)(ut,"@firebase/firestore","fire-fst"),(0,d.Z)(ut,"@firebase/firestore-compat","fire-fst-compat"),(0,d.Z)(ut,"fire-js","fire-js"),(0,d.Z)(ut,"firebase","fire-js-all"),ut),xt=new Map,kt=new Map;function wt(e,t){try{e.container.addComponent(t)}catch(n){gt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function _t(e){var t=e.name;if(kt.has(t))return gt.debug("There were multiple attempts to register component ".concat(t,".")),!1;kt.set(t,e);var n,r=(0,pe.Z)(xt.values());try{for(r.s();!(n=r.n()).done;){wt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function St(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Tt=(ct={},(0,d.Z)(ct,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,d.Z)(ct,"bad-app-name","Illegal App name: '{$appName}"),(0,d.Z)(ct,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,d.Z)(ct,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,d.Z)(ct,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,d.Z)(ct,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,d.Z)(ct,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),(0,d.Z)(ct,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),(0,d.Z)(ct,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),(0,d.Z)(ct,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),ct),Et=new Ee("app","Firebase",Tt),Ct=function(){function e(t,n,r){var i=this;(0,he.Z)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new je("app",(function(){return i}),"PUBLIC"))}return(0,ve.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Et.create("app-deleted",{appName:this._name})}}]),e}(),Ot="9.9.0";function At(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=xt.get(e);if(!t)throw Et.create("no-app",{appName:e});return t}function It(e,t,n){var r,i=null!==(r=bt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void gt.warn(s.join(" "))}_t(new je("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Rt="firebase-heartbeat-store",Nt=null;function Pt(){return Nt||(Nt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=at(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(at(s.result),e.oldVersion,e.newVersion,at(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Rt)}}).catch((function(e){throw Et.create("storage-open",{originalErrorMessage:e.message})}))),Nt}function Mt(e){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pt();case 3:return r=e.sent,e.abrupt("return",r.transaction(Rt).objectStore(Rt).get(Ft(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Et.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Lt(e,t){return jt.apply(this,arguments)}function jt(){return(jt=(0,K.Z)((0,q.Z)().mark((function e(t,n){var r,i,a,o;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pt();case 3:return i=e.sent,a=i.transaction(Rt,"readwrite"),o=a.objectStore(Rt),e.next=8,o.put(n,Ft(t));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),Et.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function Ft(e){return"".concat(e.name,"!").concat(e.options.appId)}var Zt=function(){function e(t){var n=this;(0,he.Z)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new zt(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return(0,ve.Z)(e,[{key:"triggerHeartbeat",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){var t,n,r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Bt(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){var t,n,r,i,a;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Bt(),n=Ut(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ke(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Bt(){return(new Date).toISOString().substring(0,10)}function Ut(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=(0,pe.Z)(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Wt(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Wt(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Vt,zt=function(){function e(t){(0,he.Z)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,ve.Z)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){var t;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Mt(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Lt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Lt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,E.Z)(r.heartbeats),(0,E.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Wt(e){return ke(JSON.stringify({version:2,heartbeats:e})).length}Vt="",_t(new je("platform-logger",(function(e){return new ht(e)}),"PRIVATE")),_t(new je("heartbeat",(function(e){return new Zt(e)}),"PRIVATE")),It(vt,mt,Vt),It(vt,mt,"esm2017"),It("fire-js","");It("firebase","9.9.0","app");var Ht=n(11752),Gt=n(61120);function qt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Kt;Object.create;function Yt(){return(0,d.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Xt=Yt,Qt=new Ee("auth","Firebase",Yt()),Jt=new Ke("@firebase/auth");function $t(e){if(Jt.logLevel<=Ue.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Jt.error.apply(Jt,["Auth (".concat(Ot,"): ").concat(e)].concat(n))}}function en(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw an.apply(void 0,[e].concat(n))}function tn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return an.apply(void 0,[e].concat(n))}function nn(e,t,n){var r=Object.assign(Object.assign({},Xt()),(0,d.Z)({},t,n));return new Ee("auth","Firebase",r).create(t,{appName:e.name})}function rn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&en(e,"argument-error"),nn(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function an(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,E.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,E.Z)(o)))}return Qt.create.apply(Qt,[e].concat(n))}function on(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw an.apply(void 0,[t].concat(r))}}function sn(e){var t="INTERNAL ASSERTION FAILED: "+e;throw $t(t),new Error(t)}function un(e,t){e||sn(t)}var cn=new Map;function ln(e){un(e instanceof Function,"Expected a class definition");var t=cn.get(e);return t?(un(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,cn.set(e,t),t)}function fn(e,t){var n=St(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Ae(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;en(r,"already-initialized")}return n.initialize({options:t})}function dn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function pn(){return"http:"===hn()||"https:"===hn()}function hn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function vn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(pn()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var mn=function(){function e(t,n){(0,he.Z)(this,e),this.shortDelay=t,this.longDelay=n,un(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())||"object"===typeof navigator&&"ReactNative"===navigator.product}return(0,ve.Z)(e,[{key:"get",value:function(){return vn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function gn(e,t){un(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var yn=function(){function e(){(0,he.Z)(this,e)}return(0,ve.Z)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void sn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void sn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void sn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),bn=(Kt={},(0,d.Z)(Kt,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,d.Z)(Kt,"MISSING_CUSTOM_TOKEN","internal-error"),(0,d.Z)(Kt,"INVALID_IDENTIFIER","invalid-email"),(0,d.Z)(Kt,"MISSING_CONTINUE_URI","internal-error"),(0,d.Z)(Kt,"INVALID_PASSWORD","wrong-password"),(0,d.Z)(Kt,"MISSING_PASSWORD","internal-error"),(0,d.Z)(Kt,"EMAIL_EXISTS","email-already-in-use"),(0,d.Z)(Kt,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,d.Z)(Kt,"INVALID_IDP_RESPONSE","invalid-credential"),(0,d.Z)(Kt,"INVALID_PENDING_TOKEN","invalid-credential"),(0,d.Z)(Kt,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,d.Z)(Kt,"MISSING_REQ_TYPE","internal-error"),(0,d.Z)(Kt,"EMAIL_NOT_FOUND","user-not-found"),(0,d.Z)(Kt,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,d.Z)(Kt,"EXPIRED_OOB_CODE","expired-action-code"),(0,d.Z)(Kt,"INVALID_OOB_CODE","invalid-action-code"),(0,d.Z)(Kt,"MISSING_OOB_CODE","internal-error"),(0,d.Z)(Kt,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,d.Z)(Kt,"INVALID_ID_TOKEN","invalid-user-token"),(0,d.Z)(Kt,"TOKEN_EXPIRED","user-token-expired"),(0,d.Z)(Kt,"USER_NOT_FOUND","user-token-expired"),(0,d.Z)(Kt,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,d.Z)(Kt,"INVALID_CODE","invalid-verification-code"),(0,d.Z)(Kt,"INVALID_SESSION_INFO","invalid-verification-id"),(0,d.Z)(Kt,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,d.Z)(Kt,"MISSING_SESSION_INFO","missing-verification-id"),(0,d.Z)(Kt,"SESSION_EXPIRED","code-expired"),(0,d.Z)(Kt,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,d.Z)(Kt,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,d.Z)(Kt,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,d.Z)(Kt,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,d.Z)(Kt,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,d.Z)(Kt,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,d.Z)(Kt,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,d.Z)(Kt,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,d.Z)(Kt,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,d.Z)(Kt,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,d.Z)(Kt,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Kt),xn=new mn(3e4,6e4);function kn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function wn(e,t,n,r){return _n.apply(this,arguments)}function _n(){return _n=(0,K.Z)((0,q.Z)().mark((function e(t,n,r,i){var a,o=arguments;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Sn(t,a,(0,K.Z)((0,q.Z)().mark((function e(){var a,o,s,u;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Re(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",yn.fetch()(On(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),_n.apply(this,arguments)}function Sn(e,t,n){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,K.Z)((0,q.Z)().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d,p;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},bn),n),e.prev=2,a=new An(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw In(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=(0,G.Z)(c,2),f=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw In(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw In(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw In(t,"user-disabled",s);case 29:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw nn(t,p,d);case 34:en(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Te)){e.next=41;break}throw e.t0;case 41:en(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function En(e,t,n,r){return Cn.apply(this,arguments)}function Cn(){return Cn=(0,K.Z)((0,q.Z)().mark((function e(t,n,r,i){var a,o,s=arguments;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,wn(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&en(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Cn.apply(this,arguments)}function On(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?gn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var An=function(){function e(t){var n=this;(0,he.Z)(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(tn(n.auth,"network-request-failed"))}),xn.get())}))}return(0,ve.Z)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function In(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=tn(e,t,r);return i.customData._tokenResponse=n,i}function Rn(e,t){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,K.Z)((0,q.Z)().mark((function e(t,n){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wn(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pn(e,t){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,K.Z)((0,q.Z)().mark((function e(t,n){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wn(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dn(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Ln(){return Ln=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i,a,o,s,u=arguments;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Le(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,on((a=Fn(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Dn(jn(a.auth_time)),issuedAtTime:Dn(jn(a.iat)),expirationTime:Dn(jn(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ln.apply(this,arguments)}function jn(e){return 1e3*Number(e)}function Fn(e){var t,n=e.split("."),r=(0,G.Z)(n,3),i=r[0],a=r[1],o=r[2];if(void 0===i||void 0===a||void 0===o)return $t("JWT malformed, contained fewer than 3 sections"),null;try{var s=we(a);return s?JSON.parse(s):($t("Failed to decode base64 JWT payload"),null)}catch(u){return $t("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function Zn(e,t){return Bn.apply(this,arguments)}function Bn(){return Bn=(0,K.Z)((0,q.Z)().mark((function e(t,n){var r=arguments;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Te&&Un(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Bn.apply(this,arguments)}function Un(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Vn=function(){function e(t){(0,he.Z)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return(0,ve.Z)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout((0,K.Z)((0,q.Z)().mark((function t(){return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){var t;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),zn=function(){function e(t,n){(0,he.Z)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return(0,ve.Z)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Dn(this.lastLoginAt),this.creationTime=Dn(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Wn(e){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,d;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Zn(t,Pn(r,{idToken:i}));case 6:on(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Kn(o.providerUserInfo):[],u=qn(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new zn(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gn(){return(Gn=(0,K.Z)((0,q.Z)().mark((function e(t){var n;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Le(t),e.next=3,Wn(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qn(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,E.Z)(n),(0,E.Z)(t))}function Kn(e){return e.map((function(e){var t=e.providerId,n=qt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Yn(e,t){return Xn.apply(this,arguments)}function Xn(){return Xn=(0,K.Z)((0,q.Z)().mark((function e(t,n){var r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn(t,{},(0,K.Z)((0,q.Z)().mark((function e(){var r,i,a,o,s,u;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Re({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=On(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",yn.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Xn.apply(this,arguments)}var Qn=function(){function e(){(0,he.Z)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return(0,ve.Z)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){on(e.idToken,"internal-error"),on("undefined"!==typeof e.idToken,"internal-error"),on("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Fn(e);return on(t,"internal-error"),on("undefined"!==typeof t.exp,"internal-error"),on("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r=arguments;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],on(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t,n){var r,i,a,o;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yn(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return sn("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(on("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(on("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(on("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Jn(e,t){on("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var $n=function(){function e(t){(0,he.Z)(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=qt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,E.Z)(a.providerData):[],this.metadata=new zn(a.createdAt||void 0,a.lastLoginAt||void 0)}return(0,ve.Z)(e,[{key:"getIdToken",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zn(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(on(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ln.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Gn.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(on(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){on(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i=arguments;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Wn(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){var t;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Zn(this,Rn(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,p=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,h=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,x=n.emailVerified,k=n.isAnonymous,w=n.providerData,_=n.stsTokenManager;on(b&&_,t,"internal-error");var S=Qn.fromJSON(this.name,_);on("string"===typeof b,t,"internal-error"),Jn(f,t.name),Jn(d,t.name),on("boolean"===typeof x,t,"internal-error"),on("boolean"===typeof k,t,"internal-error"),Jn(p,t.name),Jn(h,t.name),Jn(v,t.name),Jn(m,t.name),Jn(g,t.name),Jn(y,t.name);var T=new e({uid:b,auth:t,email:d,emailVerified:x,displayName:f,isAnonymous:k,photoURL:h,phoneNumber:p,tenantId:v,stsTokenManager:S,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(T.providerData=w.map((function(e){return Object.assign({},e)}))),m&&(T._redirectEventId=m),T}},{key:"_fromIdTokenResponse",value:function(){var t=(0,K.Z)((0,q.Z)().mark((function t(n,r){var i,a,o,s=arguments;return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Qn).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Wn(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),er=function(){function e(){(0,he.Z)(this,e),this.type="NONE",this.storage={}}return(0,ve.Z)(e,[{key:"_isAvailable",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t,n){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();er.type="NONE";var tr=er;function nr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var rr=function(){function e(t,n,r){(0,he.Z)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=nr(this.userKey,a.apiKey,o),this.fullPersistenceKey=nr("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return(0,ve.Z)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){var t;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?$n._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=(0,K.Z)((0,q.Z)().mark((function t(n,r){var i,a,o,s,u,c,l,f,d,p,h,v=arguments;return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(ln(tr),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||ln(tr),s=nr(i,n.config.apiKey,n.name),u=null,c=(0,pe.Z)(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(d=t.sent)){t.next=23;break}return p=$n._fromJSON(n,d),f!==o&&(u=p),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(h=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&h.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=h[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ir(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ur(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ar(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lr(t))return"Blackberry";if(fr(t))return"Webos";if(or(t))return"Safari";if((t.includes("chrome/")||sr(t))&&!t.includes("edge/"))return"Chrome";if(cr(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ar(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/firefox\//i.test(e)}function or(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/crios\//i.test(e)}function ur(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/iemobile/i.test(e)}function cr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/android/i.test(e)}function lr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/blackberry/i.test(e)}function fr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/webos/i.test(e)}function dr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function pr(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return dr(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function hr(){return function(){var e=Se();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function vr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se();return dr(e)||cr(e)||fr(e)||lr(e)||/windows phone/i.test(e)||ur(e)}function mr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ir(Se());break;case"Worker":t="".concat(ir(Se()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ot,"/").concat(r)}var gr=function(){function e(t){(0,he.Z)(this,e),this.auth=t,this.queue=[]}return(0,ve.Z)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i,a,o,s,u,c;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=(0,pe.Z)(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=(0,pe.Z)(r);try{for(s.s();!(u=s.n()).done;){c=u.value;try{c()}catch(l){}}}catch(f){s.e(f)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),yr=function(){function e(t,n,r){(0,he.Z)(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xr(this),this.idTokenSubscription=new xr(this),this.beforeStateQueue=new gr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return(0,ve.Z)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=ln(t)),this._initializationPromise=this.queue((0,K.Z)((0,q.Z)().mark((function r(){var i,a;return(0,q.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,rr.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){var t;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i,a,o,s,u;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return on(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wn(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Le(t):null)&&on(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r=this,i=arguments;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&on(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue((0,K.Z)((0,q.Z)().mark((function e(){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue((0,K.Z)((0,q.Z)().mark((function n(){return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(ln(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ee("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t,n){var r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return on(n=t&&ln(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,rr.create(this,[ln(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue((0,K.Z)((0,q.Z)().mark((function e(){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n=this;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue((0,K.Z)((0,q.Z)().mark((function e(){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return on(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return on(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mr(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){var t,n,r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,d.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function br(e){return Le(e)}var xr=function(){function e(t){var n=this;(0,he.Z)(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Me(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return(0,ve.Z)(e,[{key:"next",get:function(){return on(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var kr=function(){function e(t,n){(0,he.Z)(this,e),this.providerId=t,this.signInMethod=n}return(0,ve.Z)(e,[{key:"toJSON",value:function(){return sn("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return sn("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return sn("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return sn("not implemented")}}]),e}();function wr(e,t){return _r.apply(this,arguments)}function _r(){return(_r=(0,K.Z)((0,q.Z)().mark((function e(t,n){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sr(e,t){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,K.Z)((0,q.Z)().mark((function e(t,n){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",En(t,"POST","/v1/accounts:signInWithPassword",kn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Er(e,t){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,K.Z)((0,q.Z)().mark((function e(t,n){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",En(t,"POST","/v1/accounts:signInWithEmailLink",kn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Or(e,t){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,K.Z)((0,q.Z)().mark((function e(t,n){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",En(t,"POST","/v1/accounts:signInWithEmailLink",kn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ir=function(e){(0,me.Z)(n,e);var t=(0,ge.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,he.Z)(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return(0,ve.Z)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Sr(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Er(t,{email:this._email,oobCode:this._password}));case 5:en(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t,n){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",wr(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Or(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:en(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(kr);function Rr(e,t){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,K.Z)((0,q.Z)().mark((function e(t,n){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",En(t,"POST","/v1/accounts:signInWithIdp",kn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pr=function(e){(0,me.Z)(n,e);var t=(0,ge.Z)(n);function n(){var e;return(0,he.Z)(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return(0,ve.Z)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Rr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Rr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Rr(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Re(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):en("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=qt(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(kr);function Mr(e,t){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,K.Z)((0,q.Z)().mark((function e(t,n){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wn(t,"POST","/v1/accounts:sendVerificationCode",kn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lr(){return(Lr=(0,K.Z)((0,q.Z)().mark((function e(t,n){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",En(t,"POST","/v1/accounts:signInWithPhoneNumber",kn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jr(){return(jr=(0,K.Z)((0,q.Z)().mark((function e(t,n){var r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,En(t,"POST","/v1/accounts:signInWithPhoneNumber",kn(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw In(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fr=(0,d.Z)({},"USER_NOT_FOUND","user-not-found");function Zr(){return(Zr=(0,K.Z)((0,q.Z)().mark((function e(t,n){var r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",En(t,"POST","/v1/accounts:signInWithPhoneNumber",kn(t,r),Fr));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Br=function(e){(0,me.Z)(n,e);var t=(0,ge.Z)(n);function n(e){var r;return(0,he.Z)(this,n),(r=t.call(this,"phone","phone")).params=e,r}return(0,ve.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Lr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return jr.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Zr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(kr);var Ur=function(){function e(t){var n,r,i,a,o,s;(0,he.Z)(this,e);var u=Ne(Pe(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);on(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return(0,ve.Z)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ne(Pe(e)).link,n=t?Ne(Pe(t)).deep_link_id:null,r=Ne(Pe(e)).deep_link_id;return(r?Ne(Pe(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Vr=function(){function e(){(0,he.Z)(this,e),this.providerId=e.PROVIDER_ID}return(0,ve.Z)(e,null,[{key:"credential",value:function(e,t){return Ir._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ur.parseLink(t);return on(n,"argument-error"),Ir._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Vr.PROVIDER_ID="password",Vr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Vr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var zr=function(){function e(t){(0,he.Z)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return(0,ve.Z)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Wr=function(e){(0,me.Z)(n,e);var t=(0,ge.Z)(n);function n(){var e;return(0,he.Z)(this,n),(e=t.apply(this,arguments)).scopes=[],e}return(0,ve.Z)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,E.Z)(this.scopes)}}]),n}(zr),Hr=function(e){(0,me.Z)(n,e);var t=(0,ge.Z)(n);function n(){return(0,he.Z)(this,n),t.call(this,"facebook.com")}return(0,ve.Z)(n,null,[{key:"credential",value:function(e){return Pr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Wr);Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Hr.PROVIDER_ID="facebook.com";var Gr=function(e){(0,me.Z)(n,e);var t=(0,ge.Z)(n);function n(){var e;return(0,he.Z)(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return(0,ve.Z)(n,null,[{key:"credential",value:function(e,t){return Pr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Wr);Gr.GOOGLE_SIGN_IN_METHOD="google.com",Gr.PROVIDER_ID="google.com";var qr=function(e){(0,me.Z)(n,e);var t=(0,ge.Z)(n);function n(){return(0,he.Z)(this,n),t.call(this,"github.com")}return(0,ve.Z)(n,null,[{key:"credential",value:function(e){return Pr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Wr);qr.GITHUB_SIGN_IN_METHOD="github.com",qr.PROVIDER_ID="github.com";var Kr=function(e){(0,me.Z)(n,e);var t=(0,ge.Z)(n);function n(){return(0,he.Z)(this,n),t.call(this,"twitter.com")}return(0,ve.Z)(n,null,[{key:"credential",value:function(e,t){return Pr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Wr);Kr.TWITTER_SIGN_IN_METHOD="twitter.com",Kr.PROVIDER_ID="twitter.com";var Yr=function(){function e(t){(0,he.Z)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return(0,ve.Z)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=(0,K.Z)((0,q.Z)().mark((function t(n,r,i){var a,o,s,u,c=arguments;return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,$n._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Xr(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=(0,K.Z)((0,q.Z)().mark((function t(n,r,i){var a;return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Xr(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Xr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Qr=function(e){(0,me.Z)(n,e);var t=(0,ge.Z)(n);function n(e,r,i,a){var o,s;return(0,he.Z)(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf((0,O.Z)(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return(0,ve.Z)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Te);function Jr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Qr._fromErrorAndOperation(e,n,t,r);throw n}))}function $r(e,t){return ei.apply(this,arguments)}function ei(){return ei=(0,K.Z)((0,q.Z)().mark((function e(t,n){var r,i,a=arguments;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Zn,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Yr._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),ei.apply(this,arguments)}function ti(e,t){return ni.apply(this,arguments)}function ni(){return ni=(0,K.Z)((0,q.Z)().mark((function e(t,n){var r,i,a,o,s,u,c,l=arguments;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Zn(t,Jr(a,o,n,t),r);case 6:return on((s=e.sent).idToken,a,"internal-error"),on(u=Fn(s.idToken),a,"internal-error"),c=u.sub,on(t.uid===c,a,"user-mismatch"),e.abrupt("return",Yr._forOperation(t,o,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&en(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),ni.apply(this,arguments)}function ri(e,t){return ii.apply(this,arguments)}function ii(){return ii=(0,K.Z)((0,q.Z)().mark((function e(t,n){var r,i,a,o,s=arguments;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Jr(t,i,n);case 4:return a=e.sent,e.next=7,Yr._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),ii.apply(this,arguments)}function ai(e,t){return wn(e,"POST","/v2/accounts/mfaEnrollment:start",kn(e,t))}new WeakMap;var oi="__sak",si=function(){function e(t,n){(0,he.Z)(this,e),this.storageRetriever=t,this.type=n}return(0,ve.Z)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(oi,"1"),this.storage.removeItem(oi),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ui=function(e){(0,me.Z)(n,e);var t=(0,ge.Z)(n);function n(){var e;return(0,he.Z)(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Se();return or(e)||dr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=vr(),e._shouldAllowMigration=!0,e}return(0,ve.Z)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);hr()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t,r){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Ht.Z)((0,Gt.Z)(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Ht.Z)((0,Gt.Z)(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Ht.Z)((0,Gt.Z)(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(si);ui.type="LOCAL";var ci=ui,li=function(e){(0,me.Z)(n,e);var t=(0,ge.Z)(n);function n(){return(0,he.Z)(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return(0,ve.Z)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(si);li.type="SESSION";var fi=li;function di(e){return Promise.all(e.map(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var pi=function(){function e(t){(0,he.Z)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return(0,ve.Z)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i,a,o,s,u,c;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,di(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function hi(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}pi.receivers=[];var vi=function(){function e(t){(0,he.Z)(this,e),this.target=t,this.handlers=new Set}return(0,ve.Z)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=hi("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function mi(){return window}function gi(){return"undefined"!==typeof mi().WorkerGlobalScope&&"function"===typeof mi().importScripts}function yi(){return bi.apply(this,arguments)}function bi(){return(bi=(0,K.Z)((0,q.Z)().mark((function e(){var t;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function xi(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ki="firebaseLocalStorageDb",wi="firebaseLocalStorage",_i="fbase_key",Si=function(){function e(t){(0,he.Z)(this,e),this.request=t}return(0,ve.Z)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ti(e,t){return e.transaction([wi],t?"readwrite":"readonly").objectStore(wi)}function Ei(){var e=indexedDB.deleteDatabase(ki);return new Si(e).toPromise()}function Ci(){var e=indexedDB.open(ki,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(wi,{keyPath:_i})}catch(r){n(r)}})),e.addEventListener("success",(0,K.Z)((0,q.Z)().mark((function n(){var r;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(wi)){n.next=12;break}return r.close(),n.next=5,Ei();case 5:return n.t0=t,n.next=8,Ci();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Oi(e,t,n){return Ai.apply(this,arguments)}function Ai(){return Ai=(0,K.Z)((0,q.Z)().mark((function e(t,n,r){var i,a;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ti(t,!0).put((i={},(0,d.Z)(i,_i,n),(0,d.Z)(i,"value",r),i)),e.abrupt("return",new Si(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ai.apply(this,arguments)}function Ii(e,t){return Ri.apply(this,arguments)}function Ri(){return Ri=(0,K.Z)((0,q.Z)().mark((function e(t,n){var r,i;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ti(t,!1).get(n),e.next=3,new Si(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ri.apply(this,arguments)}function Ni(e,t){var n=Ti(e,!0).delete(t);return new Si(n).toPromise()}var Pi=function(){function e(){(0,he.Z)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return(0,ve.Z)(e,[{key:"_openDb",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ci();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gi()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){var t=this;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=pi._getInstance(gi()?self:null),this.receiver._subscribe("keyChanged",function(){var e=(0,K.Z)((0,q.Z)().mark((function e(n,r){var i;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t,n){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){var t,n,r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yi();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new vi(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&xi()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){var t;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ci();case 5:return t=e.sent,e.next=8,Oi(t,oi,"1");case 8:return e.next=10,Ni(t,oi);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t,n){var r=this;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite((0,K.Z)((0,q.Z)().mark((function e(){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Oi(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ii(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n=this;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite((0,K.Z)((0,q.Z)().mark((function e(){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ni(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ti(e,!1).getAll();return new Si(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=(0,pe.Z)(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,K.Z)((0,q.Z)().mark((function t(){return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Pi.type="LOCAL";var Mi=Pi;function Di(e,t){return wn(e,"POST","/v2/accounts/mfaSignIn:start",kn(e,t))}function Li(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=tn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ji(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}ji("rcb"),new mn(3e4,6e4);var Fi="recaptcha";function Zi(e,t,n){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,K.Z)((0,q.Z)().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,on("string"===typeof a,t,"argument-error"),on(r.type===Fi,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return on("enroll"===s.type,t,"internal-error"),e.next=13,ai(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return on("signin"===s.type,t,"internal-error"),on(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Di(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Mr(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])})))).apply(this,arguments)}var Ui=function(){function e(t){(0,he.Z)(this,e),this.providerId=e.PROVIDER_ID,this.auth=br(t)}return(0,ve.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return Zi(this.auth,e,Le(t))}}],[{key:"credential",value:function(e,t){return Br._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Br._fromTokenResponse(n,r):null}}]),e}();function Vi(e,t){return t?ln(t):(on(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ui.PROVIDER_ID="phone",Ui.PHONE_SIGN_IN_METHOD="phone";var zi=function(e){(0,me.Z)(n,e);var t=(0,ge.Z)(n);function n(e){var r;return(0,he.Z)(this,n),(r=t.call(this,"custom","custom")).params=e,r}return(0,ve.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return Rr(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Rr(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Rr(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(kr);function Wi(e){return ri(e.auth,new zi(e),e.bypassAuthState)}function Hi(e){var t=e.auth,n=e.user;return on(n,t,"internal-error"),ti(n,new zi(e),e.bypassAuthState)}function Gi(e){return qi.apply(this,arguments)}function qi(){return(qi=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,on(r=t.user,n,"internal-error"),e.abrupt("return",$r(r,new zi(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ki=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,he.Z)(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return(0,ve.Z)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=(0,K.Z)((0,q.Z)().mark((function t(n,r){return(0,q.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i,a,o,s,u;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wi;case"linkViaPopup":case"linkViaRedirect":return Gi;case"reauthViaPopup":case"reauthViaRedirect":return Hi;default:en(this.auth,"internal-error")}}},{key:"resolve",value:function(e){un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Yi=new mn(2e3,1e4);function Xi(){return(Xi=(0,K.Z)((0,q.Z)().mark((function e(t,n,r){var i,a,o;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=br(t),rn(t,n,zr),a=Vi(i,r),o=new Qi(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qi=function(e){(0,me.Z)(n,e);var t=(0,ge.Z)(n);function n(e,r,i,a,o){var s;return(0,he.Z)(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=(0,O.Z)(s),s}return(0,ve.Z)(n,[{key:"executeNotNull",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){var t;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return on(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){var t,n=this;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return un(1===this.filter.length,"Popup operations only handle one event"),t=hi(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(tn(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(tn(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(tn(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Yi.get())}()}}]),n}(Ki);Qi.currentPopupAction=null;var Ji=new Map,$i=function(e){(0,me.Z)(n,e);var t=(0,ge.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,he.Z)(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return(0,ve.Z)(n,[{key:"execute",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){var t,r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ji.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,ea(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,(0,Ht.Z)((0,Gt.Z)(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ji.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ji.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",(0,Ht.Z)((0,Gt.Z)(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",(0,Ht.Z)((0,Gt.Z)(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ki);function ea(e,t){return ta.apply(this,arguments)}function ta(){return ta=(0,K.Z)((0,q.Z)().mark((function e(t,n){var r,i,a;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ia(n),i=ra(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),ta.apply(this,arguments)}function na(e,t){Ji.set(e._key(),t)}function ra(e){return ln(e._redirectPersistence)}function ia(e){return nr("pendingRedirect",e.config.apiKey,e.name)}function aa(e,t){return oa.apply(this,arguments)}function oa(){return oa=(0,K.Z)((0,q.Z)().mark((function e(t,n){var r,i,a,o,s,u=arguments;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=br(t),a=Vi(i,n),o=new $i(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),oa.apply(this,arguments)}var sa=function(){function e(t){(0,he.Z)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return(0,ve.Z)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ca(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ca(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(tn(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ua(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ua(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ua(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ca(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function la(e){return fa.apply(this,arguments)}function fa(){return fa=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r=arguments;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",wn(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),fa.apply(this,arguments)}var da=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pa=/^https?/;function ha(){return(ha=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i,a,o;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,la(t);case 4:n=e.sent,r=n.authorizedDomains,i=(0,pe.Z)(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!va(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:en(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function va(e){var t=dn(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!pa.test(r))return!1;if(da.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var ma=new mn(3e4,6e4);function ga(){var e=mi().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,E.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ya=null;function ba(e){return ya=ya||function(e){return new Promise((function(t,n){var r,i,a;function o(){ga(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){ga(),n(tn(e,"network-request-failed"))},timeout:ma.get()})}if(null===(i=null===(r=mi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=mi().gapi)||void 0===a?void 0:a.load)){var s=ji("iframefcb");return mi()[s]=function(){gapi.load?o():n(tn(e,"network-request-failed"))},Li("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ya=null,e}))}(e),ya}var xa=new mn(5e3,15e3),ka={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _a(e){var t=e.config;on(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?gn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ot},i=wa.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Re(r).slice(1))}function Sa(e){return Ta.apply(this,arguments)}function Ta(){return Ta=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ba(t);case 2:return n=e.sent,on(r=mi().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:_a(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ka,dontclear:!0},(function(e){return new Promise(function(){var n=(0,K.Z)((0,q.Z)().mark((function n(r,i){var a,o,s;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){mi().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=tn(t,"network-request-failed"),o=mi().setTimeout((function(){i(a)}),xa.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Ta.apply(this,arguments)}var Ea={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ca="_blank",Oa="http://localhost",Aa=function(){function e(t){(0,he.Z)(this,e),this.window=t,this.associatedEvent=null}return(0,ve.Z)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ia(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Ea),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Se().toLowerCase();n&&(s=sr(c)?Ca:n),ar(c)&&(t=t||Oa,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=(0,G.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(pr(c)&&"_self"!==s)return Ra(t||"",s),new Aa(null);var f=window.open(t||"",s,l);on(f,e,"popup-blocked");try{f.focus()}catch(d){}return new Aa(f)}function Ra(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Na="__/auth/handler",Pa="emulator/auth/handler";function Ma(e,t,n,r,i,a){on(e.config.authDomain,e,"auth-domain-config-required"),on(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ot,eventId:i};if(t instanceof zr){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=(0,G.Z)(u[s],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Wr){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,h=0,v=Object.keys(p);h<v.length;h++){var m=v[h];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Na);return gn(t,Pa)}(e),"?").concat(Re(p).slice(1))}var Da="webStorageSupport",La=function(){function e(){(0,he.Z)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fi,this._completeRedirectFn=aa,this._overrideRedirectResult=na}return(0,ve.Z)(e,[{key:"_openPopup",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t,n,r,i){var a,o;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return un(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Ma(t,n,r,dn(),i),e.abrupt("return",Ia(t,o,hi()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t,n,r,i){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Ma(t,n,r,dn(),i),mi().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(un(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sa(t);case 2:return n=e.sent,r=new sa(t),n.register("authEvent",(function(e){return on(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Da,{type:Da},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),en(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ha.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return vr()||or()||dr()}}]),e}(),ja=La,Fa=function(e){(0,me.Z)(n,e);var t=(0,ge.Z)(n);function n(e){var r;return(0,he.Z)(this,n),(r=t.call(this,"phone")).credential=e,r}return(0,ve.Z)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return wn(e,"POST","/v2/accounts/mfaEnrollment:finalize",kn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return wn(e,"POST","/v2/accounts/mfaSignIn:finalize",kn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){(0,he.Z)(this,e),this.factorId=t}return(0,ve.Z)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return sn("unexpected MultiFactorSessionType")}}}]),e}());(function(){function e(){(0,he.Z)(this,e)}return(0,ve.Z)(e,null,[{key:"assertion",value:function(e){return Fa._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Za,Ba="@firebase/auth",Ua="0.20.5",Va=function(){function e(t){(0,he.Z)(this,e),this.auth=t,this.internalListeners=new Map}return(0,ve.Z)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){on(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function za(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At(),t=St(e,"auth");return t.isInitialized()?t.getImmediate():fn(e,{popupRedirectResolver:ja,persistence:[Mi,ci,fi]})}Za="Browser",_t(new je("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){on(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),on(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:Za,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mr(Za)},i=new yr(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ln);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),_t(new je("auth-internal",(function(e){return function(e){return new Va(e)}(br(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),It(Ba,Ua,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Za)),It(Ba,Ua,"esm2017");var Wa={apiKey:{NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_FIREBASE_API_KEY,authDomain:{NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_FIREBASE_AUTH_DOMAIN,databaseURL:{NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_FIREBASE_DATABASE_URL,storageBucket:{NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:{NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_FIREBASE_MESSAGING_SENDER_ID};function Ha(){var t=(0,e.useState)(null),n=(0,G.Z)(t,2),r=n[0],i=n[1],a=(0,e.useState)(!1),o=(0,G.Z)(a,2),s=o[0],u=o[1],c=(0,e.useCallback)(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t,n){var i,a,o;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new window.Headers,e.next=3,r.getIdToken();case 3:return a=e.sent,i.set("Authorization",a),i.set("content-type","application/json"),o={NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_TOKEN_ENDPOINT||"/token",e.abrupt("return",fetch(o,{method:"POST",headers:i,body:JSON.stringify({user_identity:t,room_name:n,create_conversation:!1})}).then((function(e){return e.json()})));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[r]),l=(0,e.useCallback)(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t,n){var i,a;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new window.Headers,e.next=3,r.getIdToken();case 3:return a=e.sent,i.set("Authorization",a),i.set("content-type","application/json"),e.abrupt("return",fetch("/recordingrules",{method:"POST",headers:i,body:JSON.stringify({room_sid:t,rules:n})}).then(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i,a;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=7;break}return(a=new Error((null===(r=n.error)||void 0===r?void 0:r.message)||"There was an error updating recording rules")).code=null===(i=n.error)||void 0===i?void 0:i.code,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[r]);(0,e.useEffect)((function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){t={name:t}}var n=Object.assign({name:yt,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!==typeof r||!r)throw Et.create("bad-app-name",{appName:String(r)});var i=xt.get(r);if(i){if(Ae(e,i.options)&&Ae(n,i.config))return i;throw Et.create("duplicate-app",{appName:r})}var a,o=new Ve(r),s=(0,pe.Z)(kt.values());try{for(s.s();!(a=s.n()).done;){var u=a.value;o.addComponent(u)}}catch(l){s.e(l)}finally{s.f()}var c=new Ct(e,n,o);xt.set(r,c)}(Wa),za().onAuthStateChanged((function(e){i(e),u(!0)}))}),[]);var f=(0,e.useCallback)((function(){var e=new Gr;return e.addScope("https://www.googleapis.com/auth/plus.login"),function(e,t,n){return Xi.apply(this,arguments)}(za(),e).then((function(e){i(e.user)}))}),[]),d=(0,e.useCallback)((function(){return za().signOut().then((function(){i(null)}))}),[]);return{user:r,signIn:f,signOut:d,isAuthReady:s,getToken:c,updateRecordingRules:l}}function Ga(t,n){var r=(0,e.useState)((function(){var e=window.localStorage.getItem(t);return null!==e?JSON.parse(e):n})),i=(0,G.Z)(r,2),a=i[0],o=i[1];return(0,e.useEffect)((function(){window.localStorage.setItem(t,JSON.stringify(a))}),[t,a]),[a,o]}function qa(e){return"/"===e.charAt(0)}function Ka(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var Ya=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&qa(e),o=t&&qa(t),s=a||o;if(e&&qa(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=i.length;l>=0;l--){var f=i[l];"."===f?Ka(i,l):".."===f?(Ka(i,l),c++):c&&(Ka(i,l),c--)}if(!s)for(;c--;c)i.unshift("..");!s||""===i[0]||i[0]&&qa(i[0])||i.unshift("");var d=i.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d};function Xa(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var Qa=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=Xa(t),i=Xa(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},Ja="Invariant failed";function $a(e,t){if(!e)throw new Error(Ja)}function eo(e){return"/"===e.charAt(0)?e:"/"+e}function to(e){return"/"===e.charAt(0)?e.substr(1):e}function no(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function ro(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function io(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function ao(e,t,n,i){var a;"string"===typeof e?(a=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),a.state=t):(void 0===(a=(0,r.Z)({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(a.key=n),i?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=Ya(a.pathname,i.pathname)):a.pathname=i.pathname:a.pathname||(a.pathname="/"),a}function oo(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var so=!("undefined"===typeof window||!window.document||!window.document.createElement);function uo(e,t){t(window.confirm(e))}var co="popstate",lo="hashchange";function fo(){try{return window.history.state||{}}catch(e){return{}}}function po(e){void 0===e&&(e={}),so||$a(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,o=a.forceRefresh,s=void 0!==o&&o,u=a.getUserConfirmation,c=void 0===u?uo:u,l=a.keyLength,f=void 0===l?6:l,d=e.basename?ro(eo(e.basename)):"";function p(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return d&&(a=no(a,d)),ao(a,r,n)}function h(){return Math.random().toString(36).substr(2,f)}var v=oo();function m(e){(0,r.Z)(O,e),O.length=t.length,v.notifyListeners(O.location,O.action)}function g(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||x(p(e.state))}function y(){x(p(fo()))}var b=!1;function x(e){if(b)b=!1,m();else{v.confirmTransitionTo(e,"POP",c,(function(t){t?m({action:"POP",location:e}):function(e){var t=O.location,n=w.indexOf(t.key);-1===n&&(n=0);var r=w.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(b=!0,S(i))}(e)}))}}var k=p(fo()),w=[k.key];function _(e){return d+io(e)}function S(e){t.go(e)}var T=0;function E(e){1===(T+=e)&&1===e?(window.addEventListener(co,g),i&&window.addEventListener(lo,y)):0===T&&(window.removeEventListener(co,g),i&&window.removeEventListener(lo,y))}var C=!1;var O={length:t.length,action:"POP",location:k,createHref:_,push:function(e,r){var i="PUSH",a=ao(e,r,h(),O.location);v.confirmTransitionTo(a,i,c,(function(e){if(e){var r=_(a),o=a.key,u=a.state;if(n)if(t.pushState({key:o,state:u},null,r),s)window.location.href=r;else{var c=w.indexOf(O.location.key),l=w.slice(0,c+1);l.push(a.key),w=l,m({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=ao(e,r,h(),O.location);v.confirmTransitionTo(a,i,c,(function(e){if(e){var r=_(a),o=a.key,u=a.state;if(n)if(t.replaceState({key:o,state:u},null,r),s)window.location.replace(r);else{var c=w.indexOf(O.location.key);-1!==c&&(w[c]=a.key),m({action:i,location:a})}else window.location.replace(r)}}))},go:S,goBack:function(){S(-1)},goForward:function(){S(1)},block:function(e){void 0===e&&(e=!1);var t=v.setPrompt(e);return C||(E(1),C=!0),function(){return C&&(C=!1,E(-1)),t()}},listen:function(e){var t=v.appendListener(e);return E(1),function(){E(-1),t()}}};return O}var ho="hashchange",vo={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+to(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:to,decodePath:eo},slash:{encodePath:eo,decodePath:eo}};function mo(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function go(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function yo(e){window.location.replace(mo(window.location.href)+"#"+e)}function bo(e){void 0===e&&{},so||$a(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,a=void 0===i?uo:i,o=n.hashType,s=void 0===o?"slash":o,u=e.basename?ro(eo(e.basename)):"",c=vo[s],l=c.encodePath,f=c.decodePath;function d(){var e=f(go());return u&&no(e,u),ao(e)}var p=oo();function h(e){(0,r.Z)(E,e),E.length=t.length,p.notifyListeners(E.location,E.action)}var v=!1,m=null;function g(){var e,t,n=go(),r=l(n);if(n!==r)yo(r);else{var i=d(),o=E.location;if(!v&&(i,o.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(m===io(i))return;null,function(e){if(v)!1,h();else{var t="POP";p.confirmTransitionTo(e,t,a,(function(n){n?h({action:t,location:e}):function(e){var t=E.location,n=k.lastIndexOf(io(t));-1===n&&0;var r=k.lastIndexOf(io(e));-1===r&&0;var i=n-r;i&&(!0,w(i))}(e)}))}}(i)}}var y=go(),b=l(y);y!==b&&yo(b);var x=d(),k=[io(x)];function w(e){t.go(e)}var _=0;function S(e){1===(_+=e)&&1===e?window.addEventListener(ho,g):0===_&&window.removeEventListener(ho,g)}var T=!1;var E={length:t.length,action:"POP",location:x,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&mo(window.location.href),n+"#"+l(u+io(e))},push:function(e,t){var n="PUSH",r=ao(e,void 0,void 0,E.location);p.confirmTransitionTo(r,n,a,(function(e){if(e){var t=io(r),i=l(u+t);if(go()!==i){t,function(e){window.location.hash=e}(i);var a=k.lastIndexOf(io(E.location)),o=k.slice(0,a+1);o.push(t),o,h({action:n,location:r})}else h()}}))},replace:function(e,t){var n="REPLACE",r=ao(e,void 0,void 0,E.location);p.confirmTransitionTo(r,n,a,(function(e){if(e){var t=io(r),i=l(u+t);go()!==i&&(t,yo(i));var a=k.indexOf(io(E.location));-1!==a&&(k[a]=t),h({action:n,location:r})}}))},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},block:function(e){void 0===e&&!1;var t=p.setPrompt(e);return T||(S(1),!0),function(){return T&&(!1,S(-1)),t()}},listen:function(e){var t=p.appendListener(e);return S(1),function(){S(-1),t()}}};return E}function xo(e,t,n){return Math.min(Math.max(e,t),n)}function ko(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,i=t.initialEntries,a=void 0===i?["/"]:i,o=t.initialIndex,s=void 0===o?0:o,u=t.keyLength,c=void 0===u?6:u,l=oo();function f(e){(0,r.Z)(g,e),g.length=g.entries.length,l.notifyListeners(g.location,g.action)}function d(){return Math.random().toString(36).substr(2,c)}var p=xo(s,0,a.length-1),h=a.map((function(e){return ao(e,void 0,"string"===typeof e?d():e.key||d())})),v=io;function m(e){var t=xo(g.index+e,0,g.entries.length-1),r=g.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var g={length:h.length,action:"POP",location:h[p],index:p,entries:h,createHref:v,push:function(e,t){var r="PUSH",i=ao(e,t,d(),g.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=g.index+1,n=g.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=ao(e,t,d(),g.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(g.entries[g.index]=i,f({action:r,location:i}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=g.index+e;return t>=0&&t<g.entries.length},block:function(e){return void 0===e&&!1,l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return g}var wo=n(52007),_o=n.n(wo),So=1073741823,To="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function Eo(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var Co=e.createContext||function(t,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return To[e]=(To[e]||0)+1}()+"__",o=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=Eo(t.props.value),t}(0,A.Z)(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;((a=r)===(o=i)?0!==a||1/a===1/o:a!==a&&o!==o)?t=0:(t="function"===typeof n?n(r,i):So,0!==(t|=0)&&this.emitter.set(e.value,t))}var a,o},r.render=function(){return this.props.children},t}(e.Component);o.childContextTypes=((r={})[a]=_o().object.isRequired,r);var s=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}(0,A.Z)(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?So:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?So:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return function(e){return Array.isArray(e)?e[0]:e}(this.props.children)(this.state.value)},n}(e.Component);return s.contextTypes=((i={})[a]=_o().object,i),{Provider:o,Consumer:s}},Oo=Co,Ao=n(53813),Io=n.n(Ao),Ro=(n(28228),function(e){var t=Oo();return t.displayName=e,t}),No=Ro("Router-History"),Po=Ro("Router"),Mo=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(e){n._pendingLocation=e}))),n}(0,A.Z)(n,t),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return e.createElement(Po.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},e.createElement(No.Provider,{children:this.props.children||null,value:this.props.history}))},n}(e.Component);e.Component;var Do=function(e){function t(){return e.apply(this,arguments)||this}(0,A.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(e.Component);var Lo={},jo=0;function Fo(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(Lo[e])return Lo[e];var t=Io().compile(e);return jo<1e4&&(Lo[e]=t,jo++),t}(e)(t,{pretty:!0})}function Zo(t){var n=t.computedMatch,i=t.to,a=t.push,o=void 0!==a&&a;return e.createElement(Po.Consumer,null,(function(t){t||$a(!1);var a=t.history,s=t.staticContext,u=o?a.push:a.replace,c=ao(n?"string"===typeof i?Fo(i,n.params):(0,r.Z)({},i,{pathname:Fo(i.pathname,n.params)}):i);return s?(u(c),null):e.createElement(Do,{onMount:function(){u(c)},onUpdate:function(e,t){var n,i,a=ao(t.to);n=a,i=(0,r.Z)({},c,{key:a.key}),n.pathname===i.pathname&&n.search===i.search&&n.hash===i.hash&&n.key===i.key&&Qa(n.state,i.state)||u(c)},to:i})}))}var Bo={},Uo=0;function Vo(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,s=void 0!==o&&o,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Bo[n]||(Bo[n]={});if(r[e])return r[e];var i=[],a={regexp:Io()(e,i,t),keys:i};return Uo<1e4&&(r[e]=a,Uo++),a}(n,{end:a,strict:s,sensitive:c}),i=r.regexp,o=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),d=e===l;return a&&!d?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:d,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var zo=function(t){function n(){return t.apply(this,arguments)||this}return(0,A.Z)(n,t),n.prototype.render=function(){var t=this;return e.createElement(Po.Consumer,null,(function(n){n||$a(!1);var i=t.props.location||n.location,a=t.props.computedMatch?t.props.computedMatch:t.props.path?Vo(i.pathname,t.props):n.match,o=(0,r.Z)({},n,{location:i,match:a}),s=t.props,u=s.children,c=s.component,l=s.render;return Array.isArray(u)&&function(t){return 0===e.Children.count(t)}(u)&&(u=null),e.createElement(Po.Provider,{value:o},o.match?u?"function"===typeof u?u(o):u:c?e.createElement(c,o):l?l(o):null:"function"===typeof u?u(o):null)}))},n}(e.Component);function Wo(e){return"/"===e.charAt(0)?e:"/"+e}function Ho(e,t){if(!e)return t;var n=Wo(e);return 0!==t.pathname.indexOf(n)?t:(0,r.Z)({},t,{pathname:t.pathname.substr(n.length)})}function Go(e){return"string"===typeof e?e:io(e)}function qo(e){return function(){$a(!1)}}function Ko(){}e.Component;var Yo=function(t){function n(){return t.apply(this,arguments)||this}return(0,A.Z)(n,t),n.prototype.render=function(){var t=this;return e.createElement(Po.Consumer,null,(function(n){n||$a(!1);var i,a,o=t.props.location||n.location;return e.Children.forEach(t.props.children,(function(t){if(null==a&&e.isValidElement(t)){i=t;var s=t.props.path||t.props.from;a=s?Vo(o.pathname,(0,r.Z)({},t.props,{path:s})):n.match}})),a?e.cloneElement(i,{location:o,computedMatch:a}):null}))},n}(e.Component);var Xo=e.useContext;function Qo(){return Xo(No)}function Jo(){return Xo(Po).location}var $o={NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_TOKEN_ENDPOINT||"/token";function es(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return fetch($o,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({user_identity:e,room_name:t,passcode:n,create_room:r,create_conversation:i})})}function ts(e){return es("temp-name","temp-room",e,!1,!1).then(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,401!==t.status){e.next=5;break}return e.abrupt("return",{isValid:!1,error:null===(r=n.error)||void 0===r?void 0:r.message});case 5:if(!t.ok||!n.token){e.next=7;break}return e.abrupt("return",{isValid:!0});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function ns(e){switch(e){case"passcode incorrect":return"Passcode is incorrect";case"passcode expired":return"Passcode has expired";default:return e}}function rs(){var t=Qo(),n=(0,e.useState)(null),r=(0,G.Z)(n,2),i=r[0],a=r[1],o=(0,e.useState)(!1),s=(0,G.Z)(o,2),u=s[0],c=s[1],l=(0,e.useCallback)((function(e,t){return es(e,t,i.passcode).then(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,t.json();case 4:throw r=e.sent,i=ns((null===(n=r.error)||void 0===n?void 0:n.message)||t.statusText),Error(i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){return e.json()}))}),[i]),f=(0,e.useCallback)(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t,n){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/recordingrules",{headers:{"Content-Type":"application/json"},body:JSON.stringify({room_sid:t,rules:n,passcode:null===i||void 0===i?void 0:i.passcode}),method:"POST"}).then(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i,a;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=7;break}return(a=new Error((null===(r=n.error)||void 0===r?void 0:r.message)||"There was an error updating recording rules")).code=null===(i=n.error)||void 0===i?void 0:i.code,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[i]);(0,e.useEffect)((function(){var e=function(){var e=window.location.search.match(/passcode=(.*)&?/);return e?e[1]:window.sessionStorage.getItem("passcode")}();e?ts(e).then((function(n){null!==n&&void 0!==n&&n.isValid&&(a({passcode:e}),window.sessionStorage.setItem("passcode",e),t.replace(window.location.pathname))})).then((function(){return c(!0)})):c(!0)}),[t]);var d=(0,e.useCallback)((function(e){return ts(e).then((function(t){if(null===t||void 0===t||!t.isValid)throw new Error(ns(null===t||void 0===t?void 0:t.error));a({passcode:e}),window.sessionStorage.setItem("passcode",e)}))}),[]),p=(0,e.useCallback)((function(){return a(null),window.sessionStorage.removeItem("passcode"),Promise.resolve()}),[]);return{user:i,isAuthReady:u,getToken:l,signIn:d,signOut:p,updateRecordingRules:f}}var is=n(80184),as=(0,e.createContext)(null);function os(t){var n=(0,e.useState)(null),r=(0,G.Z)(n,2),i=r[0],a=r[1],o=(0,e.useState)(!1),s=(0,G.Z)(o,2),u=s[0],c=s[1],l=Ga("gallery-view-active-key",!0),f=(0,G.Z)(l,2),d=f[0],p=f[1],h=function(){var t=de().audioOutputDevices,n=(0,e.useState)("default"),r=(0,G.Z)(n,2),i=r[0],a=r[1],o=(0,e.useCallback)((function(e){window.localStorage.setItem(ne,e),a(e)}),[]);return(0,e.useEffect)((function(){var e=window.localStorage.getItem(ne);t.some((function(t){return e&&t.deviceId===e}))&&a(e)}),[t]),[i,o]}(),v=(0,G.Z)(h,2),m=v[0],g=v[1],y=(0,e.useReducer)($,Q),b=(0,G.Z)(y,2),x=b[0],k=b[1],w=(0,e.useState)(),_=(0,G.Z)(w,2),S=_[0],T=_[1],E=Ga("max-gallery-participants-key",6),C=(0,G.Z)(E,2),O=C[0],A=C[1],I=(0,e.useState)(!1),R=(0,G.Z)(I,2),N=R[0],P=R[1],M=(0,e.useState)(!1),D=(0,G.Z)(M,2),L=D[0],j=D[1],F={error:i,setError:a,isFetching:u,activeSinkId:m,setActiveSinkId:g,settings:x,dispatchSetting:k,roomType:S,isGalleryViewActive:d,setIsGalleryViewActive:p,maxGalleryViewParticipants:O,setMaxGalleryViewParticipants:A,isKrispEnabled:N,setIsKrispEnabled:P,isKrispInstalled:L,setIsKrispInstalled:j};F="firebase"==={NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_SET_AUTH?X(X({},F),Ha()):"passcode"==={NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_SET_AUTH?X(X({},F),rs()):X(X({},F),{},{getToken:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t,n){var r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_TOKEN_ENDPOINT||"/token",e.abrupt("return",fetch(r,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({user_identity:t,room_name:n,create_conversation:!1})}).then((function(e){return e.json()})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),updateRecordingRules:function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t,n){var r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_TOKEN_ENDPOINT||"/recordingrules",e.abrupt("return",fetch(r,{headers:{"Content-Type":"application/json"},body:JSON.stringify({room_sid:t,rules:n}),method:"POST"}).then(function(){var e=(0,K.Z)((0,q.Z)().mark((function e(t){var n,r,i,a;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=7;break}return(a=new Error((null===(r=n.error)||void 0===r?void 0:r.message)||"There was an error updating recording rules")).code=null===(i=n.error)||void 0===i?void 0:i.code,e.abrupt("return",Promise.reject(a));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return a(e)})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()});return(0,is.jsx)(as.Provider,{value:X(X({},F),{},{getToken:function(e,t){return c(!0),F.getToken(e,t).then((function(e){return T(e.room_type),c(!1),e})).catch((function(e){return a(e),c(!1),Promise.reject(e)}))},updateRecordingRules:function(e,t){return c(!0),F.updateRecordingRules(e,t).then((function(e){return c(!1),e})).catch((function(e){return a(e),c(!1),Promise.reject(e)}))}}),children:t.children})}function ss(){var t=(0,e.useContext)(as);if(!t)throw new Error("useAppState must be used within the AppStateProvider");return t}var us=(0,e.createContext)(null);function cs(){var t=(0,e.useContext)(us),n=(0,G.Z)(t,2);return[n[0],n[1]]}function ls(t){var n=t.room,r=t.children,i=ss().isGalleryViewActive,a=(0,e.useState)(null),o=(0,G.Z)(a,2),s=o[0],u=o[1];return(0,e.useEffect)((function(){i&&u(null)}),[i]),(0,e.useEffect)((function(){if(n){var e=function(){return u(null)},t=function(e){return u((function(t){return t===e?null:t}))};return n.on("disconnected",e),n.on("participantDisconnected",t),function(){n.off("disconnected",e),n.off("participantDisconnected",t)}}}),[n]),(0,is.jsx)(us.Provider,{value:[s,function(e){return u((function(t){return t===e?null:e}))}],children:r})}function fs(){var t=Fs(),n=t.room,r=t.localTracks,i=t.getLocalVideoTrack,a=t.removeLocalVideoTrack,o=t.onError,s=null===n||void 0===n?void 0:n.localParticipant,u=r.find((function(e){return!e.name.includes("screen")&&"video"===e.kind})),c=(0,e.useState)(!1),l=(0,G.Z)(c,2),f=l[0],d=l[1],p=(0,e.useCallback)((function(){if(!f)if(u){var e=null===s||void 0===s?void 0:s.unpublishTrack(u);null===s||void 0===s||s.emit("trackUnpublished",e),a()}else d(!0),i().then((function(e){return null===s||void 0===s?void 0:s.publishTrack(e,{priority:"low"})})).catch(o).finally((function(){d(!1)}))}),[u,s,i,f,o,a]);return[!!u,p]}function ds(){var t=Fs().room,n=fs(),r=(0,G.Z)(n,2),i=r[0],a=r[1],o=(0,e.useRef)(!1);return(0,e.useEffect)((function(){if(t&&oe){var e=function(){"hidden"===document.visibilityState&&i?(o.current=!0,a()):o.current&&(o.current=!1,a())};return document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e)}}}),[i,t,a]),null}var ps,hs,vs=n(29660),ms=n.p+"static/media/Abstract.bf969afca331e21b140d.jpg",gs=n.p+"static/media/BohoHome.818cfc89cb7167d21951.jpg",ys=n.p+"static/media/BohoHome.94b66110ce80612bc57e.jpg",bs=n.p+"static/media/Bookshelf.15f8b4304faf2043e21d.jpg",xs=n.p+"static/media/Bookshelf.1791e55a43e46dcebf10.jpg",ks=n.p+"static/media/CoffeeShop.9db4d4d3cef4a2a751b0.jpg",ws=n.p+"static/media/CoffeeShop.0bc87a8a29fb60864759.jpg",_s=n.p+"static/media/Contemporary.a1dba84b2c559086477f.jpg",Ss=n.p+"static/media/Contemporary.cf81b0403bccc42b006d.jpg",Ts=n.p+"static/media/CozyHome.060c2b098dcbba6b290c.jpg",Es=["data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGgAAAgMBAQAAAAAAAAAAAAAAAwQBAgUABv/EADYQAAICAQMDAwIEBQMFAQEAAAECAAMRBBIhBTFBEyJRYXEUMoGRBiNCocFSsdEVM2Jy4STw/8QAGgEAAgMBAQAAAAAAAAAAAAAAAwQBAgUABv/EACcRAAICAgICAQUBAAMAAAAAAAECABEDIQQSMUEiBRMyUWEUcZGx/9oADAMBAAIRAxEAPwD1lVRsJA8dzNEKFrCqPywGhXCvnvkCMsJfI26gOPj+NxO6pclk4PlfiH0jA0gDuCZFihjnyPMtWypUpxyMgyGyAJLY8J+7qXdjjHHJ7xe1B/TzzJtYkj6QgXaoA7952PQudlHclf1BejhMtwZUIYWwkKc8wQY4hVa4rlxhBqRjEkSQC3YEztpB5BEJASQJ0txgysidOnScThjHedOnYnSNw+ZPccSCaEui9jUlfM44x7u0lDzgyWRW7jtF8j2Cq1f9j+HAVp2uh+pRcFTg5xJxICBBhRgSZfArKgDGL8l1dyyirnTp06Gi0idiTOnTp2JEmdidOkY4zIlyCRiT6Z+s65IUnxBzsSSJ2J0icq7jiM1jCbexgEyM47y9bknmAyGPcYAb9y7MBmDNnjkmQ7EOZQhj9BJCD3IfMRYE52JQ85PAMGF8xhK12bs5B4IlCqr3Mt3A1KfaZvkZOkVlDhu8K3Esq7Rk8fSQzKwMUdu00MadBUAWyZRidpUHGZVzhv1htMq2WjeMgDOJAployTatYgFZuVPcRmoO4Zm8jiGe3BwowPpKi0yUYKAp3K5MbMxcauV2A/n/AGlAo5yFwPpCAIzEk8RTVNh/5ZIGI2pHqZ+UNW4yLQowAAIN7NwMCgLp35khSODCxSyZZXycYlpTOCoHzLbp04GcWwyj5lWPJlhkrkYxIC73APA8yCQBZkhSxoe5SuprSTnao7mF9WmkYGT9SYvqtWK12pwOwESV3sbvE+75wSviagTFw6D7aaq3VP2EuGVhgHP3mfUjq4Awc8YjIrtXO4A47EGBYFDcbRhkFejDHk4ltgX85x9BAJaSQCJewEjIIwZD8tiKxDcqnBQMWynUKVQrlZScpKriSOY5g79LfzM/lfa71j8SJHaWMop4JMPE5I5kyFO48Sw44nSRuWXjgd5YsqfUyDhFOO5lNvzyYLzGgSooSS24kyD25nAZlgoYTiQJKKWlO3IllOBmds+Jx/LIsMJYBsZIliAx5lL+NoHYCWXkZMHa2T9pyXc7L16WPJg8n5lTJkQ0RsxpnDZGMfXMqAGH5sQakgngHMGzEMRMLv7M9R09CTanu75lk3eoNnjuZygFOTyZfeEUKO0dxUREstg6liTz7h+kqDnvKNZtcCUNmWl6UHQguzkbMPvwYvcu7nMtu4i/qnawhEJuAygVRhg4X9JBfngxKm1rGI+YasWADcOceDGRUzbJ8RlLCQciSWB8QQbC4xiCe7aZYCULV5jIdQuN0gXqjHzxEbbtw9vJ+JevT22DdYdg+PMhgCKMlHYN2X1F9ZqMvkAc8SiakVrhOT5PzHGo04/ON5H+owF7Uop2KqzlQKKEnJlbIxdjuX0N5t1yqXC4558/SbDe78pxPHX6vZYrIxDK3cTd0XU/xOnG/hx58GZ3LKqdzb+nFmSaWxSfcwB+kv6aMv5jxM19Rhsw9F5Yd4gmWmsCaj4wy0TCXE14xOSzPY5lnX1CpBGPMha1UnHE2sT2u553kY6yfHcl2wYFlLg7XIInWvhwG4BlRaMnEMP5FGBujDUZC+4YMtvwe0DvwB+8s7jmcRc4GhCF+Qc95dm9x+0XLDz4hgm5QwB3Sp1DISwIlvA/vLAHHbxA5YEbsiEFmSfmCYajWNqMIp55nFc9pBbn9JwPEEDUZI7eZDe0QDHMZPI5BMr6YZfy4MIrgeYtlxM3iL4lgqgZOTC+jx2J/WVNXPuBHxmWLiDXAR6uDI85lCQOTzKCzI+0DbbzjMybAFiblEmF9Uk/En1QDzFvWUHvKtcG4B5hMbQTiPC1TzkS+5VGWA5+RFdPWQxZxwB5gX1Pq3nHYRlbMVchBcdYqRxxAGr3E7v7TkfIl9y4zn9Y2qgTMfKzxQUtVuPfJ8SwLnk5xDlhjgyjvuXAODLdQTcF36ioF7tveXrdLMBgDmLsodz6jHPxLqK07HJ+TLgQDPcMQunO8Acf2ladX62Rk/f5lbLldCDzmJ23GvG1gvPGZPW5AzFBQjliCxTlhn57TN1PTrmOa7jj4MYGoFnJ4PkZlWsC857zgCJVyrzEv01lNn83PJ8zZo1ATTYHA4EpqVF2nYEZJESrv39I3j8yEZ/2iHMQFCZs/TcnVggmutpOMGOaZTY4XOB5mFpNaCByOO819LrFH0M88WHbZ1PThdTWACr9BAW6gKuR84la9SGPeU1NReo+nz9Pian+r7uIqPPqZg4gw5e969w1TrcNrnIPgxRydHqHRiSvgwNdGuVxtqOPqRHLtPZY6vtywGDzGOEcvh1qK88YSvZW3/Jaqs2MMnAAhWpRHDFi3wDA1pcp/I37S9wtKDYjEzTmIP8AiXrC+sWyD9PiMi4GZukWxdz3KVcnhSfEYfON6/qIBruPYSAsYa0E7cZzLejWeVzn7xJ7lTZknLQqWMBnORBkmHQAncYCrk55ltwHbAgEsyCfMsriCuMAQhZh5nCzPfiV357SmCzcD95Qt+pdR+4Ukk8HiDsyckE4HiXCEDOcn4gFswDnzIuvMtV+Jnert4ieosbLuD7VHPEugL8twIr1LVBU9CsjPdv+ImNjcOdGcuo5l9LrUr1WXVmHjHiJ1Vvb7mO1B5hKlFjFaFzju5kK5vU4rrc0tZ1atKSqZyYrRYfRDfPJgreneohyzbvGO0DVaV3UuMMvGI7iJuzM7kVWpqJqVxljgHx8zrM2LkW9+3xMm6xt/wDLySowMSNPqrVrAsBDDiPqQZj5GKmjNIuaTj1CYXT2G5jxwO5gq9DZYA92VHhR3Merq9KvCgA+B8f/AGFECLJ34i/UttWiss8oN085f1S7aPTOMnGB3m51Nl/A+mx3ZYK3/EU0fS0q1BuAyCPYD/T8wqkAbiedWyZKU0PcyWPUrnVQty7vJyABHNPpfTc7yXYd2abNjbKs/WLko+dyj7iDbNWjD4+BrsNxXVXiqnhQRFtJ1B7rhUa9yntNdem1aqo+qDtPbBwYerQiilUqsB2DAJX/AIlwwqDbBk72DqLpS44AJx5MpT0YIbPdhLM5T7yms19uhybdmB5zDaLqtWrrBRxz4g2UMNxvFl6NSnczbv4f1On509gsX47GTpxq/TdlrJNRwy/1D9Jui4AfSL3OFt9as7X7H6j4MyOR9NxuLSb3G+qZAeuT/uJ6TqW44wQR8zXovLICfMR9OnXn2AJb5wI09FtKe1SVA7gQH0/j/bysX9eI19SzF8ICe/MYfUlR3nJqifMyX1LPcFzjHeG9XaPacz0AnliZqDU894v1Dqy6Slfdyxxn/EXp1Kk894DqFldmooUhWKHfz4MhiFl1DOCAYwmtsLAkEgn943+JAqw3duwgNO49QAgYxA9dBo0a30sUy21sePtAE3GkUqDDPq6KCGtYM4/KPP6CW02sZzlhjJ7Tz2nsRTuZizHuSeTNWm1VGB+sozACofErMewM2Ecc4kbiB8xFL8Anx2EoNS3pcHnBH7RUC73HmfqRqai2Y7wq2/WYI1TWKAxOT9ZpU2Myjd3gX+PuGxN39R9bIHUDL5Xz3kBjxJcEjjyZBNrUIBTTHbcx2p3+Ynd0/wBJ/UsfKnv8kx1LVXO7j6xbV3i4gAe1efvFMY1Zhn/Qi53amwU1jag7/QTTopSqsKi4UeYpS6U0s5HA5gqNXZq0DOeG7AdhzCqwU/2DYEj+TRdwRhOfrFX03q2kvWCyjI+sugsyQCApHxHNPlj78bgO4hwTAlQdRajT0L71rGT5Mbqqrdgdq8cjiVt068sOD9ICuyyl8jBHxCY8hvcFlwjqaj+eMBeYprb2oAAUnd3Ih9NrKdXWXpcHacMPKn4IldQFapg3PE01YGYWTGaNTNazT6ikg+TnDHHMZ0i7tJ5zyOfmZeoTaDt4JM0enbhocN35xCHxE8RvJREwOvdVei9Ur4RBy2e7fEzum9R1+r1tatbtrdwuNg7S38UgVdRZH4qIFn7/AP2A6BdZfqfXsUoK2BrT6SvrYkEt3NGe/VwiYA4A7TvUBPjmC3e3jyOJTcVPMgmjHFUkGY3WunnqXVErscrp61ywXux/wI1TVTQgrrVVCjjAgtfYwvLDz8wWns9Q5Hcnbz5gMjUCTGuPjBYUNxpGtLN6Su/0UZjnT+mX65y1yvTTnncME/aamhrSkilO6jn7/M0N21Yj/oKjRmwOKjnYg6tLRpQBVWqgDGQOf3lbLAeMyLHJHBiV9grDOx/KMxP/AEHtHjhHWotrtKupUsmEu8N8zzj622qxqnUq6nBBnoqtQLVmb1XTLq8X0gF1O1vqPma/Fzh9Tz31HikDuvmK1aj01LMe8X/FNd1EfGOJr6ToKXaYfindWPhSOIvqemroNQiHDDur45jOTcQ44K+RH6nxtx37TI/ijquWTRVtynvsPwfAh9R1Fem9Ot1VmCV4QfJ8CeU0/qay1r7SSWbJJ8mAuo2R20I9oHJtycn4m9pktYZ2nHzM3R7Kf6eZq0aksOMyPtFtkyV5Ix/FRD5Y4Xt4jlvTW4ZWIHxj6YiZsyRmbWl1S2VDPDDuIuydNR/E4yi5kUadaMDO9h3MfpMcKU25DKPvFbqDSCVOV8GIurA9ruPoVrqBUOG5lmb2gCJ12e7J8CHRgxGTIXJYlilTCtu4/WUDHOcAxzVdPQV5UkH7zMZnofD8DwYsofEfl4hCVcajpCvp2DDg95Og0+2hQBxjEXWz1iK1PfvNWgEABR2jCUx7QTWBUstWV7RjT17T7vtLKAq5cgSRYD+WMQUs+nPOIrqUSqos5Cjt+vxG0tsCkEcDtmY/Ww9qKST7TwPrIBANSHB6kzz7s9er1OxmrsFhJwcdzC9G1upt1betdZYC5RUZicCOX0JqtMNSoxYR7vqYrpFNOoWxR2IM0cTArU8/yMTK/b1NZtMXaNVqETAHA4h0CWJvQggyNn7RntYgFxdWsTyf8Y1KdRpHYcEMD+/H+YnRZVXUCDgDz5m71qivqAathlQMA/5nmun6F1ssrcZ2yA1ioPJi6ZO/m567pupGo0CMGDFeMwl1vvAER6Tpl0Oga6+wViw4UHzzLX2qmWMHonzHFJCbHmZ/W9Qa7AFzyM8Q3T6m9eh7cqWdcL8feRTQmtv/ABN3/Z0/j/U3gfpD6S31upVsQQBl/sJm8zOFPUTY4GAle5E9Joj/APtufxtAhruoaep9llqq3wTFdO+yp2PBJmfqOnvr6WuVsMWypmY+SqWa6r7j13VFYgacb+e/iKa6wnT7XPusIPHwITS6MaavLnJ+YjdqfVuLE+3so+kJhx92s+IPK/VZSsCg7q3OfKnzJ0TtbqGAXCA8/eKaqzYQa+RnBEd6cLApbOB8Tawog2oqYnJyP+JNzYrU47xLrdR/CLYO9bf78f8AEutzg9xG0IupZXAII7RkkRIITYE8p1HQHqa0abbYy1+87B57cxvpnQXoJW6tBXgbQcZmqNSiICzhF+uBLJrKD2uU/Y5k0IEC/Jgf+h6UqcIV+zGI6rSvoHG07q2OA3x95tLqEYe05i+uUXaK0f8AiSPuJFS58fGJ1t6i5MPXaKyJmaXUZr7+I9Sw9PcfMhsYYSMWc4z/AGaVDm1srz8x9a9yFXwQZmdLYN6uODkcTTRpmFQjEGb6MciBom2iZP6x+0lFCnB7iN2NjB/SL3qOGEXfGq7WMKxOjFNacbV+eZl63Smyhmr/ADDnHzNDXMfxJHgASKxuEqaclTIHxozO6fQV9zd5sUkAQP4Mg7k4+ksK7AuAMZnLaCqnGmNxj1U/KfcfiEFm1fYgEHp6FXGe5jY2AYUnP2hFJMoRUHW/uAscAt8nzB63TrYgXvg5ljp82+q3AHPMVu19x1QooQAEgBiM7s/4hVxlxqBfMuL8vcEul2IwxwTMyykafWsnZWG4Z/vPSisjCtySO4nk/wCLNYadbSmnG5qwS+Pr4/tL8ZX71F+e+NMJdpe/Vvp7FZHZApySp7j4g36vbqLFrV2bnP6D6TDPUdW45pI+81P4dqN+r3XABiMYmiQRuYSZxkPVTNOu31KzZjHxO0/TxUj22Dl+AIeypa7lrQcJ3Eav2rSi59/x8CLcljjwsw8zR4qjNnVWGhMfX0Xau5T2UABQOwEX1Oi1N7V1A7c/mf4E37ECoti907/UQFtnqHPb7Tzycl8WQvfmelfjJkQJWhEvwwSmrT1KxrU4VfLn5M3ND0+rTe/aDYRgtFtKoa8N32iaIsAEqjdiXbzC9eo6jxK21I6sCMZGOIHSWLpw1BPGcpn/AGhXsB7TN1TkEn9pV26nsJYCxUr/ABDqrKOkal6T79hCkeCfM8t0vri6zSFLCBfVw6/5mtrOpK6tXbkEefBnm+nfw0df1x9VVeadOvDhR+c/A+kY4WQvk6rA8kKmIs8169SNTYFXnJE9Dpq8VDwItoujaTRAemucfJyf3jNjNjCgceDPR9Sq0J5rurvZ8Q/sXgcn6Rihv5TMO2DM6k2lv5mAPgDOY8rbqyoG1cQSk9qjT0FLTG6tobbdGqVgkEHt3Bgum6Yqo3ZB+s9FsAQAxPU1JXaGLBS/1jg1cxyoNE+pausYguo3ijp9xJGdhx+0sACv/dH7xLqGmS+o1m3cT2AMkAE7lXcqp6ieZ6dqLG05tdiAeB+k9MhIaqvwEyYg2i/DVV1VkKq4HbJM08Aup+OJZtCL4QbIMa6e3pOT/q7zVrYEZEyNNwTmP1MR2nn8pKuQZ7HCAcYI/UdYepWR5ibsdhUxiuyRbWrAnHMj8xYl/wATuZ+vTFquBwwxKafO7mP6in1qSo4PcfeL0Vgrz3giCr3+5YfJYdCDCbN0hFVQMsIdGqA5dY0ilhoQDOq+TB11FW+RCfiawcBP1kW6hQu2vJPyYrHcWAVbCZvI5ZBrGYLqN1ty+ljYjd8eZnujEqQSCvY55mo670+0B6OfEYVQNCZ+Qs57ExK2zU2Lhr7CP/aZ9mjBySJuCj6Qb6b6S4oeIB0L/luedbR5eEFTUkOpKsvYiar6Q7uB3jNXS0dc2k/YcQeXMuMfKW43CfKx6CZWj1jvqVFuGLMOfM0GBe8ue5jFfStNVYHVTuHbJjIqrAxiYfNzDPSqdCen+ncVuMCX2TFk9yc9opZ7bm44mn6JYYUZnDpqMCXJLfSZjYmYamsHA8zO09oR2zxkQv4ocgHmEt6eiHKkgj+8XOhUZYsT9O0H1ddS9qdwqOSMk5iWvu2Dgyj6hg+ysHOcYEZboramn+dcwb/wHacqtl0sqxCbaeP1uuq1V11Y9rocGOfwzbqU0NyJUzlbDz2B4ER1/wDCfUKP4gUUfzE1D+2wDgfIb9J7nS9E/B6autCFCLgDGf1M1OJjOF7inKZcmPqNzEfqPUKD/N0DFflLAZ3/AFwL/wBzS6n7bBNPqFd+nXdYuVH9Q5H/AMiVbraeVwZr9wR5mN9sqdf+SaOuV2HCaK8/cgf5jv47ULV6iaPCDlsvkj9JGn0gJycfoJpVUqEOe2O0qrgHUs2NmHynn9R1+5ltakKFqIDORn74Ezq+ofi9QXsusfHHI4mhT09dPotbRkkLvBbyeM5/2nlz1rU9N1j1Giuqqrtu9zWfB+gMdWYubRs+J6TczcKGIxDaKxKLD6yY3cBz4iHSf4kbWKPW0DrnuUYEf3m8KqdSntyD8ES5NeYJE7bQ3KWVKxUggjvmT6WAYMaf0AyrmWWwhcfM4mxLKKMKoI5HfzHaDuxg4meLCMxyv2qJj88BSGm/9NZmUr6EeVSvJ7yd2ODFheQBk5EutgcjESGQeBNIofcZOAInkCxsfMsbiT7eZaqrOSZLHvQEgDr5lwgdJTYfiNV1YWX/AJa8OwU/WO4S6/jE86Y3HziMgy9zqbGK9vEHNUbEwG0SBLowU88g94wKVcZUgiKyQSOxxOInK1eYZqfsZRqsiXS//X+4h1Nbc71/fEr4hAA3iIqgU5IhAPgwtygt7SCPkQBDA4AnnuXkZspuen4eJceEASTn7yyVlu/EuqbeT3lliwG9xu/1LBFAwJIx2zA2WkcLzKpYWOMYli4upAU1ctcgIMRvGxWmgctEtYhZtogsg1cuv6meF9P0Hxn+ZuM1qXFqbl+0S1NPsUdgpEe0K7aWJORmX42iRB5d7hW2VncR7jBm1ifpBWuS5MGt+DgxjM/U1BY1sXGt6shDgEH5mTrenDSbr9PW9lfc1ryR9vpNAOGhUeUV70ZYr+pi6XqtbDioj/2jLdQaz2IMk9gJGv6Wnr/iK8qrfnUfPzC6emqhe3J8DkmaeFe2zM3M3TQlPR9DR2F+Wfv9SZ5T+IuloH0dhGH5T7jv/wD33nrL7qq33aiwbh+WpeSP0mT1Ss6yi2+0CtaqyUB/pxzmaOM0QZi8lQyFfcR0enSmsYxn47ZnounV+ogDADieM6Xrt9JFjZsPkz0nTOrJVWv4gFQOx+YTIvbRivGyrjA66moyDnjkHGYBqAW3DgwtHU9Nqb/TTO4+ccQt1R/oBY/Ag+wQbMb6/eb4iZzghhn5jgbaADBLorGObTtweAIf8OSO8xedk+4QF9Tc4OI4lJb3KB+RCI21ww7ZkLp/ky+zb2md1YbM0bBn/9k=",ys,xs,ws,Ss,n.p+"static/media/CozyHome.2358a4e41e509121f63b.jpg","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGwAAAgMBAQEAAAAAAAAAAAAAAQIAAwQFBgf/xAA8EAACAQMCBQIDAwoFBQAAAAAAAQIDERIEEyExQVFhBXEGIoEUkaEjQkNEUoKxwdHwFTIzkuFicnOD8f/EABoBAQEBAQEBAQAAAAAAAAAAAAABAgQFAwb/xAAoEQEAAgIBAgUEAwEAAAAAAAAAARECAxIEIQUTMVFSFDJBkUJhcYH/2gAMAwEAAhEDEQA/APqKt2A0hrCtcTqhwE4BysHEmDNIVyuK4sZwsS3AIrxVuIuK7DuAtmVkMETBBsyWAXAmA1iWYC4AwH4kuwUTbJtjXJdgou2DbHuyXYOxNsm2xsmTJgJg0FXQ2TJdhQuw37htJkxlbkRQXsS3gnzdg/N2ACXglvA1mFR8hSfQiduhaoB2yWtKcU+gHSNKphVIltRiybQyoxNapW6EUYrmiWvFmVBdBvs9+aNCUegysLajEGu6IkMpIPysWxRcWBxHxXRhxFrShpksy7AGBbZ4qbExLtth2xZxlnwQNs0bRNstpwZ8AYmjCxMELTgz4AwNSp9mHa8E5LwljwJgbVRQNgcl8uWPbJtPsbVTsHBdhyPLYdmXYG2zoqHAjpJrkicl8tzdtjRp+GbnQXYG0kXknlyy7btwIoSRrUCYE5NcGZRfVDqHgvxJaxLajBTguwVTRaQlrxV4ImCLLAsLWipWAO0hGIEuBgaYOJUSxLg4gAKl4DmiteR0kzVPhEyZTQVNC7YNtjstysU/Iyn5KcWFR9yU1GUr00E5NT1vRU60qNOuq1WC+aNP5sfd8kZqvrdeX+lGMF3fFnNs6jXr7TLu09Ju3RcRUf29AiJXPLy1+qqf5q9T6O38CvfqvnUm/wB5nLPXY/iHbHhmX5yetxZMV2PKQ1NaD+WrUXtJmql6vq6fOpmu01cuPXYz6wzl4bnH2zEvQ4oKVjmaf1unPhWi6b7rijfCtGccoyUk+qZ14bMdn2y4dmnPVNZxSwguaJmfSnyuDJEFyBcFrOgL2FyBkKLNkByuC4LiixuS/kW4Mi0lnuBi5EuKLNclxbkuKLN7MnEVMlyFpxAG4LlAA12GuC6KhGvArRYLK6AbaRNux5/WfHGio3jpKVTUy7v5I/jx/A4er+L/AFTV3VKcNNF9KUeP3s5s+q14/m3Xq8O3bPxX+vd1atPTwzrVI0o95ySX4nJ1XxZ6bp21CrLUS7Uo3X3vgeFqTq6ibnXqTqy7zk2/xAonJn12X8Yelr8Jwj78reh1nxxqGmtJpqdPs6jyf3cjzXqXrXqXqTcdVrKrpv8ARxeMX9EWShcy1aRzZb9mfrL0dXR6df24t3w3WjR1NSi7LdScfddD0aPFwvCScW1KLumujPS+l+pR1tPGdlWgvmj38o58nROLorkEWLGSuZfKUQUyIlrciAoto6ipQlenJrx0ZUiGoynGbhjLGMoqXa0nqcK1o1bU5/gzdZo8xc16X1KtprRTzgvzZfyPR09bMdtn7eTv8Oie+rt/TuXJcp0vqFDVWSeE/wBmX8jS4o9LHPHOLxl5GerPXNZdi3CBxA0zbFzBrAt5FyaJuMJyg1iWF3GDcFHKFlgWE3Abgo5QssB8Oom4K6go5QsyJmVZC5MtJzWuQNyxXkwXYpOSzdF3CshaTlJ9wXdEsCwo5S+bqA8Yiodcj8zb93ECohxAuQy4ojUBiJOF0W2+bwFQu+L/AAI0wTpWYiqToVI1KcnGcXdM21IcGY61Phz49ij0fpnqUNdQyXCpHhOHb/g3xkeFp6ufp+qjWpvjF/Mu66o9nCpdcCTFPnlDUncJTGZYpXI+cxQ3JkRoWwINkTJCkBR0zdpvVa1BKMnuQ7S5r6nPCmbwzywm8ZfPZqx2RWUW9Hp/UKOo4RlaX7L5mhSueVUjdpfVKtHhU/KR8819T0tXXRPbY8ff4dMd9U/8dtq4rpsr0+ro6lfk5fN+y+DLrvoehjlGUXjLyc8JxmsoqVbgBQ8l3uK7djdvnxLtruB013GswYsJRXAGI9mDiLSiYvsCw5LFspXYlh7AsEJYFh8QpIWtK7AsXYoGKS5C1p8vUkMpGZSGUj81T960qQ8XczxmWRmkRF8SxRXczqog7i7kotc8fcxatQxdk7voi/O/UCgm7lLY9D6XF11X1Lzad4U/zY+X3Z3qdS3UxQsi2MrCe6N8KpdCqjnxn5HjUt1M0jpRmmPwZz41fJbHUW6imaamhRY6hNcUMpxlyYoS4bgsQgNwpikuClim07p2a6m7TesVqVlV/Kx88/vOdclz6YbMsJvGafLZpw2RWcW9Jp/UdNqOEamEv2Z8DVieRyL6Gv1Gn/06kkuz4o7tfXT6Zw8zb4XE99c/t6awGjkUviBx4V6cX5i7fxNdP13QzXzVo03/ANfA7Mep15ekvOz6Ldh64/prxBiVf4poLX+2ae3/AJEVy9a9Njz12nX76Pt5mPu5/Iz9paMWSzMj9f8AS489fQ+jYj+IvSl+u0/uf9Cebh7wv02z4z+m2xLHOfxP6Qv1tf7Jf0K5fFnpEf1ib9qciedr+UNfSbvjP6dSwMTjy+MPSVyqVn7UmVS+NvS1yWof/rX9Sefr+Sx0e+f4S7uJLM88/jr05fotQ/3Y/wBSuXx9oUvl02of1iv5k+o1+7UdFv8Ai8PmkFVDPmDM8Sn7Bp3iKt5MylcKYoalWfceNVmRMsUwNcag8ahkVRIZVSI2qoOqvkwqsT7RbqKR0VV8jKt5OW9Ul1A9Z2LSOstRbqMtSl1OL9rl0Bvzf51hxR3PtiXUn+IRjzkjhZt8239SKYod5erxjykMvXIr81v6HAzJuCoKd9+vRs7UG3/3WK5evVH/AJaUF7ts4m4DdHGCnXl61qHycI+0SuXqupf6aS9rI5bq+Rd4VBTpS9QrS51qn+4rerm1xnJ+7OfveQb/AJLRTf8AaH3BvnP3/IHX8lob3qAPU+Tn7wN9lpHQepfcR6l25mDefcG75FDa9R5FdfyY9zyLuihsdfyK6z7mXc8g3C0jTvMV1fJm3CbgpVyk2MirMG4RtoUkgqZm3PIrrpdRRbXuB3fJz3q03aN5PwRTqT8Dizyb3XS6i/au3EyRh3bZZGyFQlzK7fkwqbfNlSGTC0tTDkVZByC0tUg5FOYNwlKvzJmUbgu4KRp3AbhldXyK6vktFtTq+RXVMrqiuqKS2p1RXVMrqsXcLSW1Or5F3TNn5BmWktp3gbpmzJmKLaNwG4UZgzLRbRuA3CjMil0FIuzJmU5cLkyFC3NsmRVkTIULMyZFWRMhS2tdWy5lUtZFOyeT7Iojpp1ONWTfjki+FOFNWSRaiGbykqnWqclivPEeNFPjNuXuMnwImLXj7nilHkPFla5DJmWqWJhuVqViZkVbcORTmDcBa7MmZndQDqFote6nkDqoz5gcxSWv3RXUfco3AOp5LSWvzFcyjMGZaZtc6gMynMGRaS1uYMyrIGRaLW5kzXUqyJkKLWZEyK8iXFJazImRXcNxS2syIn/EruS5KLWZET+8rvz+8jksXfla78L+aFFrMuXEilcRuzd7dL+SXd7Xd78GKLO5cPpcN+LKsuDfbgwt8+/9/wB9BS2tzbImIhkRqD3GRXcmRFW52JmUbi9yZsUlrswbi7lDn5BmWktduAcynMGZaTkucxcynMmZaS1uYMyrIGRaS1uYMyrIGQpLW5gyK8iZFos+RMhLgyCLMgZCXDcBr8SXFuS4U9yXEuS4D34hTEvx+qX1Inf6yx49wWfLgS/Pj9b9f76iXvx7259+qZE+PDrxV+/WL9xSWe/Htbn4/oRN8O7v+PboxE7qON7pPG/O66e9vvDe6la1nHJcPvuuqIWdO97crWv2/vyS/BXt2s+y/vmLf5ou9rOyk+Nr8rvt5JHkla3Hle1n4fT7gtmb58fK7r/gN+KS68F59hE+TVnzuuSfuuj8on5r49U//q5P3Bb/2Q==","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGwAAAQUBAQAAAAAAAAAAAAAAAgABAwQFBgf/xAA7EAABAwIEBAQDBQYHAQAAAAABAAIDBBEFEiExBhNBUSJhcZEUUoEVMkKhsQcWM3LB4SNDU2KS0fCD/8QAGQEAAwEBAQAAAAAAAAAAAAAAAQIDAAQF/8QALREAAgICAQQBAwMDBQAAAAAAAAECEQMSIQQTMUFRFDJSYYGRcaHwIjNicrH/2gAMAwEAAhEDEQA/AOzIuU2fsCpAxw7JCM5rkhdNnPQcbC5o0I+injjy9E0cnL3ddTNmB3Cm2x0kE13SykAHVJh7BPYnfVIUFpbRC51gdLp8p72TZT1csAzaqdwcQYXW/nAWTU1cLQTqXDZua62651PAwvmeG26X1XOT4kZHObFDGyPpcXK7cMdvRxZ5a+ylLVukJAAA9FXJJFhf3UxYSSdNU4iK9BUjzHs/JXEaIRqwIijbCjsBQKzYlI2FWWwKVsKRzKLGVmwoxCrIhRiFJuUUCqIk4iVoRIhEl3G0KojRtjVgRIhH5IbjKBAI0YjU4jTiNJsOokIYiyKUMRtjQ2Colfl6onOkbsbgbAqxy0jFol2Qyi14Kt5HtAcb90PKVtsVk/L0R2oGrfkoOiQGJXzEozD5JlMRwKJjSaxXDCmEXkm3E0IBHdOIlZEafl6pdw6G02nuNWpxS+SlFTEeqcTx/MvOtnq0iNtK22qJtOxuyfns7oeew9bIcm4JWgNGick20UIlHRyfnC261GspYj8foaYsAG47rCqXYlG4unfKy46Gw/JdDWVvKiPK1edtFhVDpKqTNK7N27LswX7SOPOl6bM92eV13uc49ybpxEVbEHkjEPkurdHHoyoIUYh8laEKMQ+SVzGWMqNhHZSNhHZWRFbopWssfut9kjmUWMqCIKRsN1oRGT8MbfoxWGmbpFZSeRlY4kZrKVztre6mZh0jvlH1V9rag20Av5qV1omZnyBoG5cQAFN5WVjiRRbhTravaCkMLff7zVJNXiOS0bnSt7tbce+yj+0HSO8O46A5j+SClNjawXof7Ld8zfzTHDnjYtKmZPMW38QHmE/Pl+dbafyDWHwV/gJR+H80wpJPlVnmyfOU3Nk+crbSNrEgFI/Xwp/hpAPuqfmyfOUhJJ85W2kbWJB8NL8qXwsvyFXA89SjEmiXuMbtoofCzfIUvhpv9MrQ5qXMW7jN20Z/wstv4ZTfBy2/huWlnKWYrdxm7aM1tBI46tt6qZuGt/G4/RXC8qMuQ3kwrHFANooG/hv6lH8LB/ptTZkswS2/kao/B5diHGM2H4lLAHF7WO0N1t8MY9XY/UFkER5bP4kjjo3+64KnpG11U1l7vkdu79V3fCuTAoJYWZ5I5HZi4AXBAXpTgox8cniYczlNW3R2L6YxRE57uAWRDjUE+jZACDYi+y57Gv2gSTU8sNFA5jzdvMfoR9FxNLJXslLo3Oc77xIUceFv7zpy9ZFfYexsqQdQ4WR/E36rDwPAMbGHsmqJI2uc0OETtx6oP3ggp6p1NWARTMNiCk0i21HkusrUVKaqzpIZTbwm/koX02d5LWtb5KrTYjSTAFkrdexV2OaNw0IKSnFlU1JEfwT7XypfCOG7VZztaL3sFJfMPvFDdh0iU/hj2Rtpvm08wrG290gNN/dDdh0RX+Hs61wR3RNht/ZS5CT4dfREBY+IW066LbMyigDKIIy+WQMY3dzjYBR4pif2XhNRWvikmbTxmQxx2zOA3tdYHGb4sUw37MgxBsEz5WOe8PaGBupF3E23AuOmi0cUjo8TwGeidWxztkhyP5c8eeXTUDXr/VJ7HVV5NKmq4sToIqijqLxSgPZJGQbj/wBoucx/DMV8TKPGp+WGGV7J3DQA3GoA1vt6KT9mOCV1Hwsaeua2nkE7yGueCcptbQH1QcZ1smGyw0/w2IPbXPMXPp4LtiAsA55ttc3+hRpJ0wy/4mTSYZxTVVMbKrGoYDO3PAZTnu3TS1wc3p2Oy6Cl4ZxaMRmfiOeUt1cG07Q063tvdcNT1uPSVlJR4lRONZhsjeVK4nOXgm3jcbWIJ2vcC2ll6RW8RU2F1rIatr2NlYHse0Fw63BH06XWlFpL9RYtP9jVay8IY917CxNrX+ihdTHUt1CKKpjnjbJG4OY8BzT3B2SNTGxrnGRlmC7jmGg7nskVod0yPlFLlHspRUwuhbIZoC17g1ruY0gk6AboYqmGZrTHLG7Ne3jAvY2Ka2DVACPunAARc+KQOEb43ZXFrsrgbEdEDpGN+89o9SAtywcIdP0VObFaGBrjJVwjLvZ4J9gs48YYUyTLznu7kRusPdOsc5eESlnxQ+6S/k3Ne6f6rHHFmEkX+JN+wjcT7WQycX4RFE6SSeVob0MDwT+S3an8GWfE/El/Jt3KVyuepuN8LqyRDzz/APEn9FaHFGG/jmcw/K+NwP6I9nJ+IPqcX5I17oTdYw4uwrMWyVBiI6SMc3+ieTi3Bohc18Z/lBP9Fuzk/Fm+oxNXsv5NU3TAlc/Lx3g8YJEsslvlj/7VVn7RsIc+zmVDB82UH+qbsZPgX6nF+R5nI+WlqGvicWuabgjou4wKorMQo3ANY0kWD2jZYUPCOMTtbM+lcA7o7Q2XS0dWMIpzS1ERifEdRbcdD5r0Z001HlniJ6tOXC+TisZZLh9c6J/fcdVZwHFI4J42zENZzGl5Pa6fiKrixGvvHs3r3WVyBZUUW1yItWj3N3FmExURqH1kTWBt7XufReOcW4u3GuIH1cDSyM2aANyO6ziw2tcrZ4VNJBi7H1oblsQHOGjTbQlcselWO5I7cnVyypKVHYVVbSxcEufQmNjRG3ILAOB0vcb3XPYfxBUwEmRz3N8iEuNX0xp2CF8bpc125CDYfRcrHUzBmVaCSTv2RySnJpxfjg76h46a/wAEzPE06guAFr73O/otug4qpMRkMcGctLLiRoBsflt3XktPSvqqotfcldLwrhLp8cFMZpYo7EuDHFpNkjxRacvBeHVTjJQu2d0/irDY32lkmYSG5RyXEm9rWsP1spv3jw8xk8yZx08DYnZtfJZGIcAOxCqhdQ1UlPDm/wAYvJdp3b5riMQlnwDGKqie4PMEhZnGmYdD7KePHjnxsdGXPnxq9Ud3iWOZ6gcmjr5GC7TypomhwvuWu6+qlwXHaWOKSOeGanAdo2eVr3uv5tuB6LjcL4niYMj44wCdbBb9PX0c9jC+IOdsCD/0rfTRILrp+HSNDiPCcExjDXtJpKeoZrHK2MaO7Gw8QP8AcLjMNocRin5T8Ne8A2ztbmYfO/ZdTAKgvysLR2LIyb/krpjrGxDIJnE/OQB+qR4I+Gw95ze1GQzCqh72FzWUwjvm0aQ78lEcao8CkyVGOSykC2SlY4Ov3Ja630U1V9svY9maLITYtdGx1/zWd+7gqJM1VyYBvcENHtcp49Lj9sk+rmuIxY9Z+0KVpy4fVYjIO8soA9iCp8O48xarzCatbE7/AC2zStt/yLeqqT4NhUDCX4jHfo1rblUXOwemdlbI6ot8sW66FgxNVX9iMupyp2r/AJO5p+I6tkV3MFVzCDI0Ma29t/GzTy66KnjFfyw/7PwimginDRM972NkLbi7Li+mm59uq5+ixPDo/wCDgr3H5nPAHtay16afDJmH4ugooQdy+Zlx7NUH00Y+v8/kuutnLjZX/n6GBUOr6jPFS1+HU0TphIGTVPibZwOpy2J0GytZ6iGggjiq6Q1UL5HOnbOXsdmJJs0NvfUdbLRkrOFKNriZGSO7MBd/SyoS8V8Ox3FNhjnkfidp+iKxwvwzPLlS8q/3f/iIKI1T6iQTVbJxJIZP8JrmkuIA31sNFe+CnczmTuo4wNS2Wd4cfcLLl4opqiwZCIW9mQ6+6QxmgiuSao/ysaP1uupJJccHnycpTuUb/sXaanMkji0HLcgctrX7dQcwKutpqx8YZTxVo/3HKCf+Rsso4zRysaIKaocL+ISyAX9grEWPGBoFPQQQ2/FJmefzKzUmuDR0g/8AVwXXnF6OVvNocQmjOwbFEfzaDZagxWvhoyIcOqonnpUSMA/T+i5mr4nxSe4NZJGPliAYPy1WJUSVE7i6SZ7ie5Juk7Tf3UX78V/ttmzjGMY/M/lmqpoY+rYZMvuWlV/3hxnKB9qhuX5IwfzWS2mlcOnspo6UtFnPt9FVYo/BN5pfkWvjX1Dy6prJJJDu58QddAWRPN+dc/y5UAhjA+8SUJjJ2Dj9FVKjm4btMJ9LGW/eJHZVJKeMCwYrIZLsLgIuW4andZxTGjJx9ntLZ2OgD2vDmkXB6WXlf7SMdZUV0UVM7+FcPc3Y32ClbxjSx0LmtuXkEWDvCPouNxCrZUus3qbknqvKxYdJbNnsT6nvJRrj2RRVBcVba5xaoKWNl9VqRMiy7hd8LaOPLJR8IpsDr7Ky0WF1ZDI7dEzmtOgVEqOV5L9FVwa7ogEYBV0UwKIUoW1TN3UgaCWOCV5doXAAO7LqODqikdiMmZ4FQ4gBzju3sPquYdTABR8hzDdpI8wpzxKUWg48ihkU0enTYlUxcSUlPFV8qmlkDJGWBDjY7X2Og1Cyf2gcMUBwapxKCIRVURD3OB/iXNjfz1XEvnndI175Xucw3aS7ZW8T4gxDFKRtPWVT5ImkHKbC5G1+65fpXGScX/U9BdYpRkprz4/Q5gB4ddt1q4fjNVRO8BsmZGwovhwdgupQaOWeSMvKNuPjDECy0bGHzN1Xm4oxVztRHbsAs6N3I3CT61p3COkUT3m+F4LUmPV8wIcB6C4VSWrqXm723+pUYrA03CJ2J3FgEbS9g1d3qKOaW+tPD9QT/VSukqz9wRM/kYAqwr3g7BSMrnuOossmvkzhLzSE6Oue0h8j9ezlEzDJX/xM7vMm604KkfiKmNbCDYo6xfkl3skeIoxhhz2uy9O1lLHh2U2df0AWmainIuCFXNZFfLcW7ALKMUZZskvQoaGNh8TR73JUwisDy6YepCeOuY0AMAPqpjVF41lDR5ap1RzylO+SuIZCPE8M8gEIp4sxzTkHv0V6ngop3/49VK0dSRorkUOBtlYGcw2f4i/ZwSuVeikU2rujHEMDiQ2Rz/QK3Dhc0rSYoSB3ebLpoZ8HgbaDksA7N1TzGgqYyGB0t+rQVLvP8S/YX5p/ucq6kdHfmSMb5AqF0cDdXPLiujkwilcdIpG37lV58Hp4mkn2uqLLFkHinHkxBVMYLRxAnzCcPqZToxrR6LWp8OjcbiItb3JVkikptCQT2Rc0uEBQtX4/qZlNQTSAufYNClkw1vzBXYapjyWNZoeqN1KRd1z5BI5tPkZY4tXHk8rcwjYqPxtKtkBRlq4mj3lIjZUvZ3UrMQe3qgLLpuUinJGag/KLLcVeOqkbi9juqPJS5CZTkI8WJ+jXjxcW3UzcWadysEwnom5bh1TrLIk+lxs6MYi17rA7rvOFeF6WswyOsrRzObctaToBdeRML2PBHRd9wtx43DcNbR1bCWxkljh0B6JMk5zhUfJoYMWOaclaNHjHh2DCWRVVGC2N7sjmX2O4IXKkZxoFpcUcZ/bIZDEC2Jrs3qViQVg6lWwyajU3yc+eCc3LGuCUMLDsnFRl3CcVLXbpjy3qt/BD/shjUNeonsDhcJzEAdEQbpoULsZUvBWdHZBkI6K8I8wSdGAEuo6yFQMukAQVOWpGPwrUHcaOa3VC95JQZC0pFx6oWbVXaGLygyFzr3RE9ghBIKWyi/QnEVtnH3SMj4xYE3QNmynVK/MuUb+BKfsD4qUO++pG4hK3qqrmnObC6cMcehSbSKaRflF1uLTN6hWafiGqpzmjeWlZRjPZE1miO0vYnax+aNU8SVMj7vkcSVM3G3PGrysYRgDUJXDU6m0Tlgxy9G19quP+afdIVodqXBYd7nRLM4dUVlFfTROhjri0+En6FX4cSlIsXE+q5NkrmHdWYsRc3qU6nF+SUunkvtMcnVMnKYriPXQk4CYJwFjDgIgNEgE42TCjZQkWAokkQWDywnDbIkljWCW6ohokd0lgBB5HVGJXDqokr3RsVxTJxOVKyoYG63unpGQR5n1DecR92NjvvkWLm36HKbg9SCE9S6mkpc7KflPsLOYTZ/Y2PcaqEepUpOKsq+kqOzob4u2iY1agpKaSsqWwxZc79szg0e5Q1MDqaZ0clszTa7TcH0Kv3OaIdleS0KkFGJ2karNuUbJC1wO9jexTbsV4UXjI0ofCVaE7sUeyMZCA3XP+DW26CuwmehgE7XsnhvlL2fhPYjp6qS6iLlo/JR9NJR2jyiDw2QOsdlXMhSDyq7E1BokI1RN0UWdLOULG1ZajyjUoy9hCpcwpZymUhO3ZZeR0UebVRZynDkLCok+cWQvc0hQl2qEkoWFQDDg0pF4UWpQkpbKak+a4SACrh1kQeVtjakRSTpJCpYpKYVJkBkawtYXNv1PZQ2SCIBFAbEE4SA0ThMIJJOlbRYAySVk9ljCKT2OjcWvaWuG4IT9drqSpqHVLw94GYC1+6AV4IFYpKiGAu51LHUXGmdzgG+xF1AjlZG2GJ0by55BzgjY30t9EHzwFOnYzXlmtruve+1tbj/3mjkm5rGNyhgaLG3U33UN019EqhFeBnKUvJeoaZkwJZMGyNaXDP4Wutra/eyqzPMkrnHqb7oGosxa8OB1GqyTX6gk0/CoBII5X82QvItdCAnAWaWr+HcLtFh2aNfVSVWJOmidFFeKN5u9oNg7W407dVTsmcwObY7JNI3fsbuSrW+BNGd1gR9TZa+GOhGWOOnZLI/Ql4zeWg9CfYLHZEGXtf1JUrHOYbtNj3CWcO4qYYzUHaJa+SKWskdDE2Jt/usva/kDsq6e10rKq4RO7YyJjc19bWCtUlKyVx5ma3+3t3/I/kgrII6eoMcMnMbbe1reSSM1JtIZwcVbK9k4CeyeyoTsG2qYhHZNZY1gWQOCly6IXBAZMjskE9tU4CA1jRMbJI1rnhjSdXHoinNMwgQySON7HOyyBF4Sxoy+IHU90jTfhhTS8iATgJ2hWaOjfWZ8hDcpAu7QEp7S8i8vwVwE4CkmhfBM+KQWexxa4b6hCAiJYNk9tE9kuiIAbJWTp7aXQMFHIYs+Xd7C36HdRFGQmWMmWqJlMyoDp3MljGuUXufKy15eRU0zGz08bYHMs2SO2ZpAaCe41B33XOtu25aSD5FTPne6IMBIB1Ot7/Vck8LnNSs64Z4wjrRWe0Ne4NdmAOh7pW0RlqfLouo5rAaxEWo2MKJ0ZWF25AycyQNiabusA0am6T4nRPcx7S1zTYg9CjicYZWvG7SCEdRLzpS/q7XUa/wB0L5DaorgIsqe2qK2iYWyXDmQuxCIVBjyXuWyEgO8tEeJRRMr5TTlvKc4ua1p+6Oyt4Bg8OLV3KqSQwC9mkAn0JWjj2D4Th1APgaxstQZPEx4cHNZsMulj5m/oo7ruUdGj7OxzGVINPdSEJgFY57ExzmCzXEJAAuGfMc3UakeaONrS/wAZs0AlMQATY3HTpdCvSCpc2+TRrMKpoMKjnjncZ3HWN3bv5bj1v5LMyq9UYk6oiZHyyGsjEYBIOgvuQBfcqpbRJhU4pqRTPPHJpwAypsqkDdE1lYhYBbogIUxGmiCyAUyLKmtopMqWRKPZAiA0TAI2g+iAzYgLI2OMZJboTuQlcucSTqd0WVESxrk6nUpAJw3VEBY3RFsGxuLbdUraKaRzp5HSPtmcbk2tdAW6aLA2IrJ9bWR2IFvO6cNuNkA2C6xy2HTXzKEtUxbbokW2WBsQRlrwcpvYkH1RBtkbYw2+UWubn1T2+qC4XIXK3wR2RwsY6ZrXvDGk2LiL2RCNxaXW8INifNM5ti2wBsb6hLJtp0GDSktvB1eEDCqaFoNOyomcRdts9zcjr/MzT17IeNqTB6eqhkwmSNvMb44WXIaRbUHz7eRXP09TNDLna8733shlkfM48w3ub6rmhhnBuWx15OqxThpqVZQ8Ps1vuia05dd1KYyBqhIDWE3GgXWuOTh2vhABtiidG5jiHNIPYqa7ZpC6NgaD0HREWl7iZCST1KK5FckuAKetqKa7Yy0tt13HoQmklknOaSR0jrWu4kmyfl3Ol0xAaQ2xJPZCkuRu45JRIrJ8hIVjk6bIhGBonJ7lVrSnyG6smIXSEII2NlgblYM7I8h6qy2LKwNGoGyfla63BRQHMrcsgJcvRWizK0X1TsjzC6wu7KRisEJiIV10aB7MrTbRAZTZT5aWTyUwGuunmtCnwn4qVzKd97xc1hdYXsLub67+ySUlFWy0FKbqPk//2Q==","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGwAAAgMBAQEAAAAAAAAAAAAAAgMBBAUABgf/xAA3EAACAgEDAgQDBgUEAwEAAAABAgADEQQSITFBBRMiUTJhcRRCUoGRoSOxwdHhFWJy8AYkM4L/xAAZAQACAwEAAAAAAAAAAAAAAAACAwABBAX/xAAtEQACAgEEAQMCBQUBAAAAAAAAAQIRAwQSITFBEyJRMnEjQmGxwRSBkaHR8P/aAAwDAQACEQMRAD8A+oY7RtahRiBWveNA5lxQtkySeIJPEFnAlghg8zL8R8Jo1WroJXGX9QHeX1skOc31H2JP7RGeEMkUpK+V+4UUNporoTbUgUewjIrzJ2+PVIEbOgBoYMsh06TOkIROkzpCETp06Qh0g9JM7EhBLdYsxzLmL2GUxsZJHJGCCqmMVcdZEXKSJHSd3kyCMiWKVXyTBLAA5PSClgD7D+Up+IE1oT7kZ+kqx8MO6W1lzzqwhYuNo7yfNr2qd64boc9Z5+m0peKyfSTgiLFnlWqDyA3SSzT/AEX6npGXIi1TkiL0Fpago5yU4B+UevxGQxSg4ycSKqRuLN07CLv0a2Jw2MAkn3lnMFiNpHvAaTVGlY0kUaAUpzOrXeCfeE9wexlXovH5zkYKsV6iSqxO33cDdKmxSJYErVWAAxyPkR8ekJl2LVsCFuwIgEyS+TJZdEl8mLdyTC2yBXycymWkCp4nM5G0/WHsxOZOQPYRU7uK/UNeSFYmGpkLXmNWvEcAyUBMYJAGIQlgkiTIkyyjp06diQh0idIkIFOkAyZCEYg7YUgyEOAkwRYucZhdZCHYnYkzpCCNTSXXcnxjkfOVLb11OkfKk2Vj1L3+s0pW1OkFh82vK2r0Yd/r7wWjThzKPEjBqCPdnd0PAli2hBmzaD3lfVaSxry1KA88hM8H6dREvq30p8qxz6hgqwziKlljD6nR2IyU6cWbC3CjVAHoyn+cu1MCMkjDdOes81qPEE1mpqRN9YxhmxyfcD6zYruTUmtxUR5XQ7TgH5e8XizepJ0+EZs2GManI0SwUcxNrtsOOp/aDZvUZOczkIav5x754MU8q6iVlXywAIFquoyCQI1iVYZ94R/iDE5kVum4MHxYCW+nBjEsxjBiG07NcMZAnWKayPlOknQnst4AzmL8xVfBMYx4OBMl67l1hcklewi5zcZKkNW3bybBI2wNwMCss1YJ4yOntDSskxqsXwSOYQAZz8uJITYdx6KMytVaxtII5i3JeqkEl7bLqpDCSU+GTmPEkBZPSdBJlkJ6mSOJHwKSYjziee0qxuPFLJ0WJ0hGDKDmTLFtU6ZBi2aMbpKtrkEADJPSBKW1B447mNVuY0HIlRGcg+k8dYyu4HgGSMrDyY66HkwGPHE5jxxFs2LVrHXGWltg44OTM7VW3ValSoymcEzU07FqgTF31LZWUbhR6jiTSw+EZ6ZGfaBBNN2xuWPFpD5M4CdGmU6dInSEE6jTC4ZGA46Hp+/YzE1VjJqGTWhdwU7bcdfkfn856GVfEtMmq0ViOoOBkTBrtO82NuLprn7jMc3B8HmPBG1F3jNtiacHAK17h6UGepM9VRWUObHNj/iIx+g7QPDalo8MpRBgbAfzjl6w9Jg9HEk3b7JKTk22SwDDBlZk2NxLe2A9eRNbQCKtqBsQ6lCkQbVKiRVuImHrUdDvyBmzFhMU48xukYFAPqhgqVIGJrTsWAGycdoDpubiSq4x845a+OkiCknHsXUp3cyyABFlSDxIVjnEIDsc67sL79YtaALMxqckn8pD8GBBWt3yW/gPpIbpJByJx6RgIG/j5yUHeBj1RF+pO7y6fiHWQOGN5HSLVozWZTUHaw7iQlt2whyCTOOUXkwGzo4cTxxabJua1NAzVnleSMZmfodZqKmLA70J9SHt9JsafDq44K5/aZuo032HVbhzTZwT7GGnwBjlCcpQkjTpuS9Nyn6juIVgVGzgZHeZfmNQ++v8x7y9dcHpS1TlWHMHsjxbHx0c1vqwehiCDTqCOz8iGF3HnqBCtTfp1fusouSVUNrOWGeg5iaD5mpss7Z2iGW8ul2PtidpKylCg/E3qMsViVQbDtXKhe7nn6RdbZ1dmOigCNZgoaw9uFlOl/XgdSc/WREyP2UXw3EnkCci4HPWCloZio5YdflCszrHxbOLTifTJZeIpicyChitheZDkMpHuIsv6cGR0ECb9rLS5CoGNJWPZRDQ8wKm26ZfpBVstJDiKL+SxJxIXpJjABVygqYNCDaY1xwYNIxmJr8S/wBBn5RF6cmDTWe8dZyZ1YzmXtW6yeCtnYAT0Mu1ncgMo6hx5ZwOcZEs6azIwYSNuqjcVIfiJcCvc/4RHiV9SC2EH/IxeZvZS7Zhh2Fp7MrjMa65mXVa1FmG7maNVm9cwsct0Smgk4BEknEg8HMi1wq5J4jCJWzsE5I6yoThjuGCesFvECuQB+cA2+bzuI+ggWdPBglC3IK25a1y2SPlMnXeKE2NUr424I+c03Z3pZaqGsbHBmNZ4RqtdqFRqSgPVz2nO1ss7SjhV2PeSEIv5NnwLUtqxdaV2gkDHbpNO2pbqyjjKmedTTeI+EjaCDST8a/d+ssr4tqKceehwejDkGb8O701v78nOWJ5Hug+SdTQ+m9Lcr91veJ0us8pjW/NbdR7fMR1/iA1lW1LAjfqD9QZmW1aij12oNvuvT/EPhHSxKUo1kXJtveKdN5uQ23gc9faVv8AVXdhStLD+IgdwQVAIJIPscD+XvKdOoN1JrycdSJzXV6Jkta7amQxQYwTggk++QR+YExazNLFjTgHjwptpq2WtP4xVqqKluzWbCzFcZ2qCAA2PvcjibPQexP7CeVrf7frUZAtNAYtYUuIJbPIGOue/tN86prv/kAF+fOZekyZMmO5i9TiUGlFUFc/mEKvw9APeO0+nFQ3Hlz+0r6e6undvDFvxHnj+kcNQLk3VOFQ/e7zWjFKO3ljmYg4BGf5SUVUHGBnkn3lYELkVcsfvP8A2i/9ONj7rNTaT8ukJCHUvqlReIzBIAE6qvyqwoZmx3Y5MlhxCEFaxCTkRbWbUcHsplnoMTM1qs+srqXsN7fTtM+d1BpeeP8AIcOy9SN9XykD0tF02eWhB6QRcN/WMtFFveQmYdbblyYrcDVOpfPEKwRthwIFbcGTafTOpXIzAX1jPygnkyU4zIsOHxBLbRLugeyjpbvOpIb7o5lyr4QZm1XjSXMCBtxzH6TVJZcVQ8EbsexgKcd22zo6qL29cGojQUUPuY9zgfQRYJVCR16D6xtfpQD2hfVP7HO6Qm3Thu0lVKDiOMjHEOkVYvzfeAzB/SehnWqT0ia1ZbMnkQW+aCXHKHLoUPJJjRpKlHA/WNQgrmFiHSCebI+2AtaqMDpCAwOJM6WKIxkcyjdpzpCbaE3VdbKcZH1Hzl6dIWnRT+w6LVViwUoVYZBXiD/pNKKwqeyvI6bsj9DOrP2LWmo8U3HKf7W7iXYPY31ckepOjEPh9fnbfNajUD4MgAN8we4/eUNbpKdS9I17NR5YIIX747z0t9FeoqKXIHU84Pv7zF8V8K1LJ5lFosWteFcer9e8w6zfGFwjuNeDWTg7bKFKaXZXRpXKqBgbhzx1z85LW06fI+1scHGKwevtmT4L4JdqQmp1NgFJyQFJDHt+U3f9N0qVbVpUDGMYitO9TlxqXEUXk1bb4FU6I30Ddc4XHIHU/nLIqWtAiDCqMAQtLWKqdq9BGEToroxznKf1MUq8ywnSLVeY4DAhoUyRBbpOzgyZCiFXAyZnUqbnu1P422r/AMRLevtNekbb8b+hfqYyulatOtY6KAIprdOvgJcIpuAUORKgBazgy/YvWI8gqSRAknZYyrivkyKrMWdYo2bViamJtyTCcqqiI0LDkRtTYSU2uwQMy0MeUDLg/c2XLpIG4+viRsLGBu3WCPLBF+ci9zZXR5Pxi+yvWjBwCuTxA8H1wr1m/UMFHQHtNK7w9NWpu1JdmPCpX7S14V4JTpqSLq0csc4YZxOYtNleo9W+DoanMpe1eDSrZLXXyyGUDdkftLAEoU+H1rus0xNDMeNnQ446Rg1T1OKtSAGbhbB8J/sZ08f02/Jz2rfBZJyeJJGFgj4hK+s16aXIcds4zyYUpqKuTJGEpuooeySDWBA02qTVVJZXnDDPPaWOCISpg8rhi6m2nB6RsUwwYdbZEhAp06dLKOgkyScQSeJCFfWU/aKGUHDDlT7EdJGj1P2jThiMOPS49iOsdmZ7n7H4kG6Vajg/Ju36xcpbXYxK1Ro5kNypHygqZOcy5O0UkV/Dl2aFF/CWH7mWGGRB0i404+pP7mNIBOInT8YY/ZBNe6gKyFXmSRziBYMoyng4lbRu5rNtj/D6CD/ONboZ6T22XlEPpPPX+IOuss/iEKrHAE1dHqjZpA9n6mGmTLpp44qTGW2bZyWbpVu1aZ/2nvHV9sdINuwJQcVygLW87xKmvtUDY316CXhyJnaE+bdqL/xPtX6CWbrTVprHHULx9YGN8OXyLa8DGUNkjnERawVTmOpTy6FXuBz9e8CyvcYTt9FrhFBju7STXhQ3Qqcx76bHKnHy7QBrKNOpTUdScDMS/bwx+GG+XVlezUJVqAtw2o+AHJ6HtNE8UieN8b8XS3WCsZChsEieh8KvFnhKu1m925Y+x9ovFlTnJJjtXhjjcUu6LNQIckxm/c2BIpG9frHLTtOZpS44MQNNSooxyRDc+XWzD2wPrK9F24RtjZetP/2fy6Spv20vIVO+SygCIF9hiBbUttbCwBg3GJytuxDJjOwDNV9RQzacNliP4bOCQw9sjoZkanUU06hl1SOWByF6/XHyno9RR51OAcOp3IfYyu/l+I6TbYq+ap4HcMJzdbpXmSalTX+xkZSX0i/Dlt8hbLlWlHIwi9vbM1BwJXBTUUlD0deYWksNmmG/41yjfUTfigscVBeBb+RjjIiRZ5XJjj0lV/V6h0HT+8KTroiLVWSCzHLH9vlC3RGnsymDGLy0JPgqiesgwiQq8nEULkY4DDMhaJMq6zTjVaZ6zwT0PsexlrIIzAeLkk1TCKug1Bv0YZuLFO1x7ESwN2RgZ55HylRF+zeJHHwakZx7MJdb0oxHtEbn6b+VwFXJNLYpAx0EpavVuN2Nyj3EKjWFNOVsBNtfpYe/sfzmX4v4svklVU7sYwYp54QglZs02NSlbRqaHWfbtOXPBXg/OJ0ly32a2j2XOJnf+OuH0bneSzknb7TS8MqCM5sGLyCG+YlZM7W34ZcpQUpJf2MB2C2nB3EHpNGzxAXMmnB8uocsT3mTcqV6mxi+GOTtjNJo79QwY1ttPVm9oOn1qzOqNnq4502+jVXdrtSorH8BD195paiwafSO/wCFTF1ba0CqAABEa9zbXXQOttgX8u805MlRddnOz5Fklx0i1oFNWiqQ9duT9TzGWt5uorp7fG30HT95KjAiAxXxYezVY/eFe2KRm8mhOK8SU+cLgjiaEhbZWsbaOeneVrdJTqCDYobHIlyyotmUw5otKN8J6fKJypSVMODa5Rk3eC6Qao22Lu54U9IzQ3kO2ixxWcqR3U9I/XEseJXYCm/T3DrnY30P+ZzMVY5OK6vka25Pk3KECKMRjHnmU11XpOO0BtQ7dJ0/ViuEKojT1lWAHUwyptutcEgZ2Kc9h/mTZlKGZOG6L9THV0iupUHYYi9u6VfATZFZtVOGRvqCJ32hk/8ApWwHuvqH95IUrJGc8xvNUigW1lagbj6G6OORMg3DTeKIxYfxTgHpjnqfnNS3TqzblyrHqV7/AFHQyvrafM0dlVlSkMOHQdx0yP7TDqMWTJJSb4QUZUqHl0Q7K7FDZLJz09/ynaPVK+ttrxtZwHKnseh/oZh6tXFFdyMC4GUfufdW+fzlpNSr26XU0kebgq69sEZB+nBhYtRLc01wiml4Nyxsjb+sX2KniSgyN2cgdD7/ADnPNqt8gCQxqtwe/f3lkNgZiigsAzzORynpb9ZI8MszfGNe1NqKTlG4yPf5zE0/iNh12FycvgH5T1eq0dGtqKXIGEyPDvC69FrXCE9Tkn8PYf8AfacnVY8/rKUZe1lpvo29OS1YJ7CcxzkSUb0kSu1q9SeemJ1HNJckB1VbPpSV+Ov1r9RHDULbpq3BwLPV+n+YALMPV6R7CV9Cfs2uv0bNkJ6q8/hPJH6zNJ/iKun/AByWuidTYUB1C1sTWPWPdf8AvMranSV3KX2A7hkHOZp2jHqUZI6j3EzKCKfN0+crXzX/AMD0/TpM+eCUvd5Li2WtJQle0AAADJwMS4KkNgfHqAIEpUuApIPU/wApb0z78n24mmLjLHz/AO+CubMvT/8Ajmn+0tfqCbHY5HsJripVTaoAEWGwsXTqg5YfhODG4ceLDHbBUCDdUVPES1GNZTYT8KMce2Tgf1l1iHEXgG2xuwO0fQf5zEZopSTQcQWtCZJ4AHWVKr2bxHT3P6UfcgB7+38obq2qswOKweh+9O11RbSrYg9VLB8fSXulKO7wimadlqJUzk4CjMHRFhpUD/FjMo3hrmSpDkNh2/4/5ln1rznia1O2wKLTNlto+plbVUb1PvDrfYPV1PWdY4IkdSjbIuGZDOWswwx2I9jO1VQbSOR93B/QyNYuzVK4PDEKY+6rZpLc/hxONG5Ka+By4aHogDhWXGRkHPBjiiV1M7cKoyYGpGyit/wMp/p/WQzl7FUqSiHccdz2E6jaha8+BXYRJbULUVwE9ZPv7SyJWrYndawwbDn6DtGC0FesLF1b8huLGMRJGCOJSt1G1+OkKvU5JEO0mF6cqLRAMW645xmAtu48GMZsgyu1aCWJ+TD3Lp9Xbp7UBrc70P17GLSt9G5zmxA4etm6g91P1H9Je11X/rrqNu7y/iHup6iNoqW2krncCMqT94dpyo4ZRm2nz4+wUlSLWhsD0NUGya+FPuvY/pBbWLUwDMHzx6RzMymu+vU21m81bRuRlHLDuCfkJy+GumuX1ZB9QbcTk9xzGPNmltWNcfImkuzYqdL1IQ9OvYiRYmBycj3gmsK1rFthBGG/KB51tpKKorIHxOOo9wP7zoXxTACquA3c5wMytR6rLLjn+IeAewH/AEzrtL5VR22Oznkndj9hE6Wx1sekcktkMe2es52TI96UvHQxR8Fk6gCwVry7dvb6yNNUVufdyfeBrAmmULS2bCck9zO0up8y7Z3B5PvKWWMsqhLtByx7Vdl04HXoOsy9WzVeRrfvK2X/AOLf9E0tTxQwHVvSPz4nWULbU1bD0kYx8ppyRcm68fuLXRO8NXuHQiZ2pQb/ADAOV4PzB6wtHaV070ucvQdh+Y7GTuDOB0yczLqprJCNdsuC5K+lBSzyy2VYbkPymrQNnlr78mZViGrV1svKbscdszVZgLcqcgDiXhdRp+CBJyvSV0rCa6xezgNG6c7qVPuIFp262pvcEToKmkwBgU1sX7KMwa1/gBW54/U94L6hbnNa8rnBPv3h5yJmmlKfAa4RKVgGGyDBYDIIww9xFb8RtdmRNMHGqQDEeHBU85C251fqfw44jtSyqgz0yM/zle9RpdQupXhD6bPoe8O4edaFB9SjcP6QXJqDj5Iu7Ev4rpksNb7wM8Nt4Ijx6kVlOVPtMvU16jUayuu4BLLD8ZOQMc9Jq6avZp9g+4SP3iMOTLkct6peBk1DjaUdeD9mudeGRdwP0jr33V1Unk2EYb3GeZGrU/Z7hjOUIx78SuthXUU2+Wz16eoZ29iREwXDXy/5/wCBPs0dUC9Xlpje3w56D5x9dG2sLnOOp94jTM9o85K9xsHBY4AHYe8soLAvrK5/2idKKt72hD+D/9k=","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAABAECAwUGBwAI/8QAVRAAAQMBBAMHCxAGCgMBAAAAAQACAxEEBSExBhJBEyJRYXGBwRQjMjNCcpGhsbLCBxUWJDRDUmJzgoOzw9Hh8CVjkpOi0hcmNkRTVFV0o+I1RZRk/8QAGQEAAwEBAQAAAAAAAAAAAAAAAAEDBAIF/8QAJhEAAgIBBAIDAQEAAwAAAAAAAAECEQMSIUFREzEEM0MyIlJhcf/aAAwDAQACEQMRAD8A1sQR0IQUSNhTOQpiJjQ7ETGmInYphkomKYZIA5rpKKaU248L27PiNWK0230VgH6x+yncrc6StHsmtu9rv2+Y1YjTcasVgwp11/mrB+pu/IyVnjJgHImSMKfZ3Us2IyA25qWWztFmbJujaudq6m0ca6SdnLaoALV6hRs9ibDuVJ2P3QVNAd7xFRWuztsspY2Vsvxm5FURECcN+UrQUhxep4YQ+cR64bXDWOS6YkLGDXMIyNjtQ5JtjsjZnSVmazc262+HZciLhgabK95kaHNOrqbSoyTLQaBrsB9fLID/AJiPzguxPizoCcVx+7BXSCyD/wDQzzgu0vjwNGjwKOb0i2Hkr5BQdjTlQzgCcAOYKydFXuR4Ch5YwASGeIrOjQV7hQHCnMVFJJq7f4UVLjgWeVCPbWm8w510IhMtTn4lzKX3RJ37vOXTS2h7DxLm0kD9SSfDU3UszFa1rlmFr+NyZfkcCw5jm8qNh2c3Sgocx+dqMhzHN0rYjIER9iObyFSjseboUUeQ5vIVK3Lm9FMQ52JHffcntz5/SUZzHfdAUgNHc/pIAUbObylI3Ic3kKUbObylNacubpQAoy5vRSOyPP5EgOA5vIvE1bzdCAI358/SEjcJG8o85Of0/cm93z9KAO0RZo2FBxI2FAmEsRMaHYiY8kxE7FMMlExTDJAznOk7y3Sa2U+EzzGrD6cOJs1hrslfT9lbvScj2S2sEDNmZ+I1YbTpgdZrAKU687I/FWD9Tb+RkbO1roWk7BgvS0Lc8ioYLLrQg67svhFI+z07t37RXSq/Zw7oWTENOsa06U2TFxJJyUZh+M7wle3DbrHwlURIjI3yeymuMdqjdHvqVPhXmxcZ8K6YkGQOo4mpyRkQGo46xVdHBXuneEopljBad+/9oqMq7LQsmur+0Fjpn1RHT9oLtL3ygne1x2FcVuaHU0hsOJNLTGc/jBdve4g8+2ijm4LYeQQyyitWEcYxUE0j6GjhXgOCMfLSuQ5kNLKadyfCs5oK6WV1TWg5kI+Z9disJZK1BazwqC1WcRMa8tFHmrSHBzacvDxLpHLaToA3Z7uCo4Fh2XXM26bTaJYXkOlDmtZQuLcw4cLcc1vgcKNDa7FkmWzqTR202OotVmFqkgYSMQ01dve+w5Kmi0YXVmT5XFGVbbmMdQsfgelTx3vG2nW5MKcCFMBa4tcKOBoeVeEIW2zPRYMvuIU61JhTgT239CB2mXxcFFXCEJwgBRqDSH+vsR96lzrs4E83/DUncZfFw1VcIAl6nCNQaSx9f4f8GXxcNUgv2EHtUuzgQG4DgS9T8SNQUHC/YQB1qXZwJPXyKnapPFwUQXU4ovCz4I1BQYb6iIpuUni4F716ir2qTxcKD3DiXup+JGoKPoWJGw5IKJGwrs4CmImPJDsRMWSYghilGSiYpRkkNHPdJmn2T2unCzbTuGrEadAizXf8s7zVstK3ObpTa6VpvPMCxGmz3GzWImtBMcx8VYf1Nv5GUswPU4x2JkoOOK9ZyRCBXGlacSQse+uo1ziATvRXAbU0tzlvYix4V7GmaRjHyO1WNc9xyDRUlJXBVIkTu2HkCVqY474lOaCACQQCKjDNdMSCoq8KNiD9Q77YgY2PaGuLXNDhUEilRwhFxlzYwXNcA4HVJFAeThUJovBkl0AjSOw1P95j84LtLw11aPPNiuKXOT7IrF/uY/OC7DM3XxcPAFLNwVw8j3gYjdCOUId/fA+JefK7HWB8SHklc4UFQM8KLOaBJWmmetTgdmh7y1/W4Nha8GOTXJIzwwPL9y9JWaJzHV7E6pwbSu2oxFOFV7hbIGzvc175mYNc2nZAeNpG3yKkUY8029mvQQyAGTcmz7q8UIcMKjVBqeRYmZ80MMjWPNrMclBriutI7GtOIVNa44LWFjpnseQ1jIgA4tGrvaVJ4qgZrHXxaDFaJDYGGKKZx1S1x32YPJjsV8S3M0pNpJlTPA6Cd0chaXjPVIIryhNAVhet0uu+OKQ2lku6NaQyu/aCK4jiyVcHLStzpO0PAwTwKqMFPDqBAx4CWiYDmlDkAPoF4CqhltAhZrOxqaBKybX7ktPGihE1OJepQJusvayAHAALxCbrcC9rYIA77HkjYUHGjIclYmFsRMeSGYiY8kzkIjUwyULFKMkho57pPq+yi2a1Pe/MCw+nga2x2HEAGc7fircaURNfpRayQSaR5d4FitOYg2x2DDO0HPvSsP7G38jBWadoeSSO0ObiduCPua2Qx2iYvexo6llA1jTEtyQ9nirAKgZBMkjpXAKupEnF0E6O2uKK+oHSvaxo16lxoBvXKt3ZtSAcypC3iCTV4gurJ0QPeAiJZ2bjAA4VETQac6hcN8nNFNgXTEiyt1qhNju8Mewltla1wByNXZqa2WyD1qukMkYXsjk1wDiKyOzVdHyBFMbvDvW5cCk5IpGLYtxzNfpHYDUe6Y/OC7TJLFjkuM3MAdIrAC0YWlmXfBdidBGe4coZ+DTh5GyGMtrVtCoHFgrXVwU5gj2MUboGU7FZi4M8xltatpyoCawCW0RPZbXtD376MMwA2DPHFHywMJJ1ShnwNA7E8i6To4njU1TAbRG+CwWmxSAGU1AfIdagrU45EbVkr0jsthksQ1dZtTKQ55GqOxoRygmvAthNABXVbyDBczvOUm2PjNRuZLCDwgmvjWrCtRjzYlFosG3jY578dabUwSRuNMYd7ylutj4VHftphmvACzSNkijY1rXsqG04hs5FUApwctGkjW9kgcnByiDkocujqyXXXt0UWskLkUFj3Pq11cd70hPY81NUOJBvgdbLGgrhUJGzsyG6Y/E/FFCsMDqpdZQMeTgnayB2S61Kr2sotZe1uNAWfQ8aMhQceSMhyVDgLYiY8kMxExpiCGKYZKBimCQI57pQ5w0qterrUpHkK9wFiNN3k2Ow11sLQcx8Urd6SuDdKLWC4A0jw+YFiNPDW7rFiD7Z2d6Vg/Y2/kYqzY2bbg2qfJA3qMS6xqX6tKKOz9oHGKJ0spNn3PCgdWvMu1VnDuh9psLIbRA0SF26tBJplVQW2zNslqfE15eG7SKJZ7U+V8TnUBjaAKcSbapTaLS+R1AScgqIluBu7NTRxa0rGVO+IFaKF3bCpY5C2Vjhm0ii6YkF2WzNlfJV5G5t1hhmiIoWmwyylxq1+qGgIOzzuY55FN80goiOVwsz2bHEHJSlRWNi3O6mkdiOOFoZl3wXXnWgnGj/AALjVjs8lqvOGGOUwvkka1sgzYSRjzLZ+w29KCukto/j/mU8kYurdFcbaulZr9aaYkRNldq56rck0x2rbrN5aIb1PrstujulTLRab7fa4po3QujfrUxoQcXHaPGuvSys3LWo0jkUNCd1L0dSyyi/5OVNsNtnPW2l3IWjpT3aO3y9tW2OZ4z3paelbS8LwjjDqBo5gsNfl8PL6MleBxOIWN51F17Kx1SA7yuS+LNC977utLGNFXPLMhzLklro60PNSSXE151vbZebmWaRzpDXVNCTt2LJ2m6bPuUbmyPJcWtwcNrgD5St3xsi3bM2eLtFQGFKGFaX2AAV/STRjTtX4rw0AH+ps/dfitnlh2T8U+jOCMpRE7gWj/o/G282/uvxS/0fs/1Rv7r/ALI8sOxeKfRnNydXIpDE45Nd4PxWl/o+bX/yf/F/2TY9AGvjDvXKla+9cffI8sOw8U+jNCzu39Q+hFMAOHlSR2ZzDk48w+9aY+p+wf8Asj+6/Fe9gEdMbyI+i/FPzQ7Dwz6M8GOHcu8X3ptXaxBa7lotH7AIv9T/AOL/ALJPYFEM7z/4vxS8sOw8M+ig1a418K9qcYV6dBYR/wCzr9EPvTBoTGS72+cDTtY+9Pyw7DxT6O2xouFCRouFXIhjERGhmbETEmIIYphkoWKYZJAc80qw0qtRPwY9nxAsRpy6t32KgJpaOCnclbjSsf1otO9rvIvNWJ03FLBYzq09s5/NKw/sbV9RgoWzbkKB5w4kjxJq0If4vvRlnB3AYjJRSg4rtS3OHHYEdrkjssqZD714mQvJoceRPqa0S4qiZKgdwdrZFKNbWBo7xJzuySBy6YkjqGgscFr0LZqNBls88jJQRiKkFviKtJLO2lNUeBZT1KLxbFpM+7Z3asN4xGMcUgxb0hb6Swg47oPAsOWNSNWN2gGw2ZotMZ1RgeBauNrS3sR4FRQwCF4JfWnErFl6Ma2mo804wo0yth4i1zRrQSlls16sbqxzFkRHdDWp4wg4r9ihkqYXmnxgi5NL4HR6ossv7QXDxqXs5bfBnL3sN+vBEU8Mg4S0t+9ZO2XLpC+tXWenKfuXQptIoX19ryftBV815wyA9aeOUhSjicXsiim63OeXlonbbRZniZ7XhpaWguPPkmWXRGURxENbvC04uNMCtzLaIZWkajhXbgoWyRtGTqci1RlOqJOKbsp2XTK0b41+cU9t2uBxFedWhmjpWj6cgUbrTENj/AnuO0BtsNM2pwsTadiiOrIQKlr/AABNNvgHcyeAfejcLQO672E11SCMiDQhNFlnibSJ2sBsfn4UQbwhHcv8ATTeEPA/xJ0xakVdsvGawgmS77Q9o7qNzSPvQHsqi2WK0+JaE26E9y/xJBbojk1/iXaS5QanwzO+yhhHuO0eJNOkrD/c5/AFpDbYqdi/xJptsXwXeJH+eguXZmzpE3/JzeBMGkAGt7VmxdXILSm3RfBf4kw3hCM2v8Se3Qrl2b6MoqAoOMouEr0TCGsOCJjQjDgiYzggQUxTNyUDCpmnBAHPtLnlmlE+rtZF5qxGmz3Ouyy12WjD9krcaXOA0nnBAxjjz71YfTYg3bZKAD2yMu9Kwv7TavqMdZw7qYnYAtlct2WOe7hJJZonvpmRisZZ3g2dza7Fubgc31rHYqiRCb9Ga0maIpBFEAxlexAFFQEFX+kxBtWFFQuOBxHhXaRwiOlSVZXQ1ssjWyND28BCrW54HYrO5yBO3LNdMC3tGrdckVqsbGRTRPa9j2jEEGoUh08v11SZ4f8A52qC93DqfABUm7AB2KlJWd42aOw6a35bbyhsxtULRLI1mt1O3CpotYYb523o3/5WLm1wu1tJLF/uGeULrZcRjUqOX/NUacS1XZk9IL2vm5WQkW5j91JGNnYKU5FSS6aXy2Jz+qoyRs3Bqt9PDrMsY+M/yBY+0xUsjzyeVWxRUoptEcrcZNJluNMb5fGHdUxYtr2hvwSehedpXfGsR1VHnTtDeEDpVPE2lnHyY8xymLeuHvvSar+OHRLXLsP9ll8U90x/uG/G+5NOld8UPtln7lvF96rtXe83Q9NLcD+fgI8cOha5dlidKL3Jp1UzP/BbwkdCjOk17FpPVTcq9qbwA9KC1d8OXpemFvWz3votR449C1y7DzpFepdTqoZ07U3hon2W9L8t7i2zvfKWhpOpCDSoJxOxVxbR54nekV0GSwi7Lqs1jhADYomF5HdvLQSTw/culji+CGf5EsSMpJLf8Y649reUM4vxURtd9NOMwpw0Zwn8FYW7fVVXI7PCiPHFcEYfJySJILfeUlojZPbmwRuID3ljTqjaaDPatjYr90askYZOJbTQULqO1jx5gBYB+OIKRgNUKMVwOU5z5a/8NFpLfUD3Ge4ZLTZ4m4OjnLX1OOINKjkxVF6/Xlr06q207W3hpwJLVvbCQc3E+IFCEdc+d6SWiPRqxzlp3YV6/wB5Ub7Zzp723grwJvr5eOr7pOXwG8A+9BgYM5vNK8RvTydDUaI9HeqXZ9DRlFxFARuRkLl0ch8ZRMRwQUbsEVEUAGsOCmaUNGcFM04JiMFpf/aeY4dqj28RWI01BN2WSn+ZGNa7Ctfpq4jSmWle0x+QrFaWPcbBZq1p1Q3yFYX9ptX1GXstke6OocBzfiiGyW2BhbHa5GDgaSOlJY30g25JJX1O1dW7JuKoFmjllcXSzOe7hdU9KgfAQ0nW8SJLkx53h5FRMlQGyMl2ewKVjZIzVkhaeJNYaPPIpA4LpgkOLrRLg+ZzuUn70osry0nWHgSsKJZ2B5FKTZSKRHcUZbpLYtY5WhlaDjXWaxuw1jXlXK7n/tHYyM93Z5V017S4b7fKObg0YeTM6dADqKhOb8+ZZS1j2m/m8q0+mpc42OvC/byLM2r3HJzeVaMH8Iz5v7Y2NvtcfJj6sqYt66e/9NqSNvtUfJD6oqVzevH5T7Rq0EAWm8He+i9eI3x/O1ifTrXzfRevFu/PL0sQBprnnnu+5bALruyxWy2W+aXXNoszZiWtLgANbBoFCSePEq4hs8lqZ+ktH9FakYlu6RuyH+GSOHwBZ9t5S3Zcd1PiLtWRtoZI1rtUuaZHVFaHgCnbprCY9Wa7pDhm2YcA+LxpRrkjleVfXRp49FtGbWwmewRQPOXUltlpmT3Y40Tb7lEsLepppXhjQwNqxzqAUGJpXJY12ltjNQ2zWllTTNp2kdCGk0mhlB1JJ2U4W8Vdh4F3S4Zlk80tpwsu7TotNJUkW0d7Z2u8hVdNok7aby5rEP5lW2q3zxxwydUyNE7S5m/OQdq+VDNttumO9vdsY+PO4cPFxFcNf9lIqX/EsvYfK7Bkd5O5YGM8rlHaNGjYodeQvY6hOpNK0Gg4NXh4KoTUvGbe+u8L+PqwDp4wirbE2yXTYWW6R82s+U68MjXcmJwOWS5ddloxnvaRS2uECytlqauc9moe5oGnpQ9OufO9Iq1vWCzsuqxzWWWWTqgyufurA0gjUFKAnYqwjf8AzvScnEsQUwZ+e4SkYH8/BSkb1vJ6CcRieXpaugO8Mci4XKvY9EwyIAso3oqJ6rmPRUUiALKNyna7BAxvRLH4IEYHTJ7W6US6xFTDF5CsVpc5rrvs2qR7oblyFbHTTVOk8hIr1mPpWJ0sIbd9nNMrQ3bxFYn9ptX1GcgkpCORRySHhKiDmBu9c/nomHfZOKoluTb2Ha5+EV4kkHfFMEbjtS7m4NOK6JkRNJDjsShx4SmEb88iUN410ImY48JRMbzq9kUI1nGpmNAzJ5lOSKRYZczg3SKxE5CdvlXUXWqKn4Lk1ntAsVvgniaXujeHgPyJB4lubJe1rtMTX9T2YVHA5RzK6L4X7BdNXtkNj1TXF/Qsza4/aTzyLRX+6e1us+6xxt1damoDxcKqLzgMd2OdTaAr4f5RDN/TIGtpZfovslI4e2D8p9o1JT2t9F9knuHtg/KfahaTOC06z8z0HpXDrh770mJT2n5n2bkrh109/wCmxIYfeP8AZ25+9nP8b1UluB/PwFbXj/Z65/k5j/HIqsjP87Y0kNkdN9z9L1EBg/kH1an2/n9YoQMJPz70mIsryHtO7B+od9eVWU3nN6L1a3l2i7B+oP15VZTrXzfRckvQ2IRvufpYrW34aM3SPjTH+JyrCN/870mKzvDDRu6OSY/xOSfALkitw/QN2D5fzmBV3dc/S9WVvH6GusfFm+saFXfnz00DInCgHIfMCdTfnl9IJHjD5rvMCfTrh770gmI7ayyk+/O8AU8dkfslJ5grCO63HPBER3YRtXG51sAMs8g98dzhExQP/wARw5qo1lkLcx4FM2AU3oqU9xATWzA0DxykIhm6AYurzIhtmOdAEos5rQNcePIIAy9+aPRXpeRtEk07X6jW0ZSmFfvVRbfU9slvhaye0WmjX6wAcM/At4+yjWqQBTaVFI1jdpdxNC40q7O1J1RztnqS3QBvrRbCeJ7f5VK31JrmOHVFtH0jf5VvWRVBJGpU8tU7cDTsdYcLSnQrMI31ILlOc9sP0jR6KcPUeuTbLbv3rf5VuWt4DzFPBLRXyIAwo9R24j79bx9K0+inj1ItHm1Bmtxp+uH8q3G6DaFK2JvZBta8KAMG31I7icd46304TMP5VJ/Q9cVOuS20cW7D+VboODRi4DiCUPaMSPCigsw8fqQ6OBzaNt7w01o60UB8DVcQaAXJZogBZ5aDAdfcVoDOAMwAk3ZteyqTwJNJ+xptejF6QaI3dAYDZI3trXWq8urlwrGaa3Wyw6O67RSsrR4iuqXw5r9y4RXoWB9UsD2KNI2zt8jk4qhN2YL+7n5L7IKV3uj6T7UKI+5z8n9kFKfdB+U+1VSYMfc/0f2bkrh149/6bEh9z/R/ZFPPb/pPtGoGG3mP6vXN8hKf4pFWEb48vSxWl6Cmjty8dmlP8UirSN+e+9Ji4j6GyE5fn9Yo6YS8/wBWFKew5uh6jphLyu+rC6EWd5jrd2/7cfXuVX7z8z0HK0vQ/wDjhwWZv1zyqv3n5n2ZSj6Gx1Ou0+N6bVZXnho5c/HFKfG5V3v3z/TCsr1FNHrl47NIfG5J+0C5I7xFLquofElP/MFWdzzdD1a3mP0ddPyUn16qve/m+i5NAxsmZ5H+aE8Drvz/AE02TsjyP6E9vbR3/plMR//Z","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAHAAAAgMBAQEBAAAAAAAAAAAABQYCAwQHAQAI/8QAURAAAgEDAgMEBAkIBgcGBwAAAQIDAAQRBSEGEjETIkFRFGFxgQcyQpGhsbLB0RUjJDNSYnJzJTRjgpLhFkNTg5Oi8Cc1RFRWlHSEs8LS4vH/xAAZAQACAwEAAAAAAAAAAAAAAAAAAQIDBAX/xAAiEQACAgMAAgMBAQEAAAAAAAAAAQIRAyExBBIiMkFRExT/2gAMAwEAAhEDEQA/AOh5waxau/No1+u+fR5PD900iae/GmjyLGR28IOCk0iOMeo5zR264knOj3Salpz27NAw54nV1yVPhnI39tR9WFo4OvdbHka6f8CA5tf1HHX0NftiuYdXb+L8a6T8B90trxDqbPg5shhd8k842GAabBHSX4s0yPiZtDkuDHqGQFiaNhz5GdjjB2o2AcUh3HF+sWvGSX2p8MTw2S2xt8IFkdWLc3PnGceGBTTb67NqLAWYsxn5MkuG+Y4P0VEkFMVE45sYOfZV8cbmJTMio56hWyPca+KUDFnijg2z4miWQlrW/iH5m7jHeX1H9pfV81c1eDVeF9fQTAWOrIcxTL+pvFHkfP6a7dyVh1fRbLXNPez1GBZ4X3wdip8GU9QfWKAM/CHGVtxPbGNx6PqEIxNbt19o8xTHiuP6jwlfcOX63Hpj9jEf0XU1HfiOdkmA6j97ofUaeeE+MRq8h03VFS21aIboD3Jx+0h8fZUrI0M5QHrXgQA5qdeUAeYrzFSr6gCOK8xU8VEigCJqJFSNeUAithVRq5qqYUhkDUTXp2rDqGpRWMeX7zkd1B1NID2/votPtJLic4VFLYHU4GcCqhqIkhSRY2w6hhk+BGaU9ZvZby3nkmJz2T4Hgo5T0o9bHFhb/wAlPsigZdLqLDomPfQDiLiibSLLtUiDu7cignAB8z81FZd80p8bQ9rpkI/tx9RqM3UWycF7SSAMmq3Wrz9rdTGVs4BOyp/CvhXvY88gKglgMA1CwtORTkgAGiAdY+7GpJPurkTk27OxCKUaM6WA3Mz7deUVehjhwsUYIHj1qJPMSHPTqq1AySdsUjjChepJ3qG2T0i55HZTk8g/68aqCZ2QZA9wqRUEBmJJ8cH76nE4eYKMKPEj8aEBDscAc56+fSrIQOdTGue8NzsOtWNLBboWkdFA8WOPpND5NbtlkAiZ5DzDBQevzOPvqyEJT4iueSEOs6R3ZmKyc3Mvl470B4qVYdBuWDZwhx9Ncc7W7B/Xzf42/GomW5J780pHiC5Oa7nucD0MfN32/irpHwIXk1rxPqDQ8p5rQBgwPTnFc1Px29tHuEfyl+UJ10mGOWUw98O/KAvMPH20iR+mY9ZjLBZ0aNj4jvL+I+apT2lhqUfNNDb3C/tMoP09a4V6JxSzEmzg/wDcH8ajpvDmsvPfSanEPRxZzSEdvzYYLkHGfAio1/B2dxs9ItrC5Ets9wij/U9sxjPuNGEkgfYqqn1iuOcP678JFlbw9tpKalalFK9sQGK42w4Pl55prj4s4gc4fhC5Q+u7XH2aODHsCH9mP5hXpht5EwQg9mAaSv8ASPWx8bhoj1G+TP2ayxcZanJqU9onDchmgRHcenJgBs4+T6jRYUONxYgKynlljYYIODkHwIrmnG3AUtlay6poEhQWoMxt+fBixvzRN4fwn3eVMo4m1j/00f8A3yf/AI1k1ziLVpeH9QSTh8xq1tIGf01DyjlO+OXegCHwaceT8Vac8OoQlbm2IQ3AwFl8sjwb6DTxXIvgplNtpOpOqBv0hM5/hroi6slxCUdO6Rg8rEGnYUGcHyNfYPkaER+hsOk4/wB+/wCNXLaWbdDN/wAd/wAaBUETnyNRyfKs0FnBDMJI+05h+1MzD5icVqyaAIHPka8wfI/NWZtNhyTyy79fzz/jVbWMA+TJ/wAZ/wAaBmls+R+aqiDWZrC3znlkyP7V/wAauMhApADNV1X0QGKEc830L7fwpeKyXDu0rF3Y5JPjWvUG59QmJ69qaqAzgADJzQMH6lHyWVxnf8y+PX3TR23/AKlB/KT7IoTqCE6bdBsEiB/smjFuP0KD+Un2RQBVJSxxoSukxEED88Nz7DTRIKWeM0DaRHzdO3X6jVeT6MsxfdCvad8KQS4XfyFbyS/xiSPJdhWa15Oz2GceRrUrkkhcD6a5MunYjw9BKrhVCjzr5YyxLdSfHr9JqxUY78udupqSpKw6hQNv+s1AmQFvkZbGPXv/AJV7dwBLOYxEh+Q8hHgajP2aNh5VI9ZyfmraJYG069leWJViRkALDmLdOlavHim22ZPJlUaQhklzzOS7ftMcmrLde8p/eH11FV8qa+ANAt9Z1SRrvlaK2Absz0ck+PqFdatHIvYnyWoDDbxqmeAIpOPA02PoVoxH6dJ1/wDKt+NWLwdFqNvctBqAzBA8pDwEZ5RnHWoOLW2hLJGTpM5j4mnL4M99euv/AIb/AO4Umjz86fPgttFa5vbvmPMqiLlxtg4OfoqQx9wakeY2OoBepsbj/wCmamVpYsNTlGt6nFLcSdj6LdqELZGeRsUgO28P5XhvTR0xaRfYFb8nzpX4C1aC44ZsLV5v0lIVBR2ySOUHb1U0YqQAaaaKfjD0KVA4Nj2u4/fxQ/8AItuOK78wyiJzaQtytvnDP76x6xqg074SJHUgSfkcqmenN2mRmlPXeKJV1hrxHxcC1VecPgAhmzj56WgGu/1KLSnUXMkfK/xXRuZTQzW9at5+H74Q3CAtbSDoDnumueLq97xJqiWodYy3MwLeGAWP1UGl1WSLtoo1ZY5EIHKNyMHr99RGdA+C8KdI1IY/16fZp20t0/K4tSiFXgaXdd8qyjr/AHqRvgtP9GakP7dPsmnzSAp1wZHe9HfB9XMufuofRrhskvLeCVkMLZU4yMV7aXcF3LIiRyAocZYDHu3rLdIDeS/xmpaMB6dcKPBvuFYcGbJPK4y4a8uOEcakuhPsgOmRVUcQt0bkZsFixySdyfWa2FRQPRtft9ftLia1SSNYLh4GEgwSR4j1EEVvox2bJXzNG7ZLJnlwSBuMbjOD76hJNzqysDhgRscUO1LW4LHWtP0+RJGkviwR1HdXA8fbV97crZWM904Z1hjZyq9TgdBQM0xJy26hMhVAAyST85614FbO7Z91UaRqMer8PQX0SPGtxGHCPsy9Rg+8VbFugyfCgQv3yH06YeHOd6jy8q422q27PNfzDGe+aiRgYO5J8KKAxahHz6ZcnOMQPj1900Tt/wCowfyk+yKHaiG/JV2Tt+Yf7Jojb/1KD+Un2RTArkpa4yCnR05yQO3X6jTJJS3xkobSIwxIHbr09hqvIviyzH9kLdrJDGnTbwrR6WAO4o38c9KqtreNlAK8x/erYkHLsqjPurlySs68W6KO3dtsn+6KrbmYHIY+2iKQdzvhW+epejgMMcq+vl/GoWiYJjs5ppF3CrzDqfDND9S0u6tpTJPC0Yly4LDqCc0zxjkmTMud98EUc1S6sL60ELiSQY2ZE6e810PDp+zZzfNtOKRzALjanj4N0VHvS5VZWCqoPUjcnFCjppVyezC77bUS0QSWeqQSIuTzY5fPO1a8jTjSM+OChL2bOviKLGOyj/wilvizkR2VVVc6fc9AB4LWBtd1sHAkc/8AyBH1msuo3t/cQzXN9FK/ZWkyDlhVAOYA7971UTyRcXTMsISUlaPz1jG1dF+CofomoH+0UfRXPG3cnzNPvwV3JEl7arGrM+HUmQLkgbgA9dt6C06FikqC2Emu6oobB7G6b/kY06MJ16woP96PwpFWSaPWtSIVS3LcjHP+62d8eVIaGvhq7Szjt5kU9stuhVi2ynlHQUz6fxPHaafO900zXU3TvbD1g9K5727JY2vI2OWBMbfuislxf300RUSStGpx3U2HzCkrEGte1l9Q4qjuoHzItsFOQWJIbwz4/RSlrl/Nc6ixkyrAMpA2z3jXsuoztcc5umWXl5AwOCBWSeE9vIZZmmYKp5iCObJPnToDfwWAeKYQ3Xs5PsNS9efryDkYBORTVwlbLBxNbMebJDqduhKGgLLb/lBe35uz51DkHcLzbnp5UNDQ/fBax/J+pj+2j+yaftEJOtE+Vu32lpE+DNALbVeT4vbry58sHFPuiJ/TB/kN9paT6NcOccW8WapYcX6vbx6jeRRQXPLGkKxcqjlB+UM9c1u4R1/V7q0gupL52kmRS7ci7n5vVTNrHAvD+ratdXd7ZmSeaQtI3bOuTjHQH1UFuuAg80drp9wLbTo5F/MpIwflA6c3t3rOpwUqS2XuMnHb0dCspXmtVeSQsxHXas9xE2/JNIvqBH4UGs01PRdMuGvJ4WQA9mwJPKTsM7EnfFSjn1W4tUeOO1lJHxzI6593LtWlOzPRpKTI+WuJCPI4/CvVdvGVj81YootXkZhcw2qLy90xyO2/ryo2rLeWGrmZxasvZumBzNy8p336E75+gUWFDCrH0Z8uTt41VG+EX2Ch+i2+pW2nJb6hiV0iCdqGLFiBjJ26nrW8RvFAGkUqowMnzpiBk0Ya6lPm5rwpgf8AWax8SaynD+kXWpSQtOkLjKI2C2WA6++hlnxjHepC35PuYxNylTzAgc2MfXUgN+qDOk3YwcLBJt/dNErdf0KD+Un2RWDVwV0q8HiYJPsmi1tHmyg/lJ9kUmBklUilvi5T+TIsDJ7YfUaa7tDFEXKkqOpAzilTimcS6bCIG5yZgMLuTsahkXxZZj+6AFusgTm5SKsZpD+2fYcVY8NzaxRLcI8fbKSqOAGIGMnHXG9VgMehI9ox91cySaezqxaa0fZYHdT7z/nX3ZuRnswan8TPfYn1YNVM8mSFk5/oqFEzdpiZ1KDtE7nOOYYHSug3Grxc3KkIZfDKiub2E4tbtZZu05F3bO/iB99NY7VsmEF0I5hjfaul4UV6uzlee37Ki2/Ed+2WjVP4RvWGGwjt7lJUZuZTkZrPPxFaW3dmff8Ac3qVhrVnqcxjt5G51OeVlwSPVXSeNNcOSssl+jLIpydvOsurbaPedP6vJ9g0I4R4vt59Mkk1a4s4AjrHDGoJbAG/UknqBSDxDxrrl/qd4kV5NHal3RIowoAQ7Y2G+1cz/maXToLyFJ0kIuNq6L8C0In4hvopGYRejBiAfHm8PX4Uhx25dztgU6cB383D89/dwiMxiykabtFJ7oG2PXzFcVeI6De65wzbNIs+vRB0PxIwXOfLYGlJJtDubq6eynvprqYScjNEEjHMpz1wTtnwrnMtw7yMzOcscnenr4LuHW1KHV9VYHls7dkQ4O7FTnf2eFKyVE4LmJ4bWNiCSiKe/j5Io9YcQ2fDOi9he2npr3Ds6NDc8vKOm45fUaIaNwxbiws5zwus7GKN+dtUYcx5Qc45NvZRb/Rz0h1YcF6c4GFDS3rvgezlqv52DSOZ6jLby6vLMsB5rSd+QHvZ69cYrG7TarqblE5CyKAAh8M+Ga7UeHFbJbTdGtixJKta5JPnnO5rPaaBJacQXE8Gn6W8bQxoQkhiZGGckLg9cjx8KfsS9Tnmi8M33p0U6xzEEE82DHsfX76sufg2jjtJ7mTVoC6Ru/ZjckhSQN8eNdLl0+VLjnaKBAfBbj/9KrGkablxLG8yvnKs55d9jtTTbFSQjcB3UOl2V6twTzSMkiqoy3LuM48s0Zfji10y7ea3IkkWFkEcgK5YspGfVgEe0itevWFtFAVs4LW1aRVPpEUCluVfkncbUL0/TuH4buS/1G4We46xxsmI1PmRvk+3YVXPPijpvaHHDmk9LT/Rws9Xt9Yshe2jgxS5OD1U+IPrFRhnLXfLt18K57ouq2vD/E72czMdL1DLQsp/Vv5fd7xTeNQ02G7ikg7VnZgvUY328qphByamuF7koxcH0La6f6Fl9q/aFDrP0gmGSK7ljiRwpi25DzEjfbPXHjWnXbkPosyQqzyZXCgY+UKD2t+F0hw/brNkMFUDlyGyM1pclfSqMJVwMNLczXndupYxEAzIuOU9Ou2fH6KruJ7pryJUu5FXtRzcvQjPLjHtrHaaijahfSP6QquFCcqjGMb599US6gixBMyLyqpU4AJbOd/Vmi0NRl/BhuDcmzCC4ZHckB49mG3zVj1Rri04bkWa6kuDFcCPnkxzHckEkeoioSaxHM8A/OqgJLMAAfVisHFNwt5oN1DbvMxaeKQEnB2GDuPYKk2iKg+AjjG0utV+De4js4XuJ5AjBEGWIDgn27A0m6Lczi6tLeW8lUxtEno7nlIxgEFSM9a6foCMvD9mrZLBMHJyepq+8sbS8dWu7WGZo2DIzoCVI3BB6jepraK3pmHV9tKvm8ewk6/wmjtkn6JB/KT7IoJrAI0a923NvIfb3TW+31uxhaK0a4T0hYY2MQPewVGDim9CSvgcjgSSEhhkZxQG50lLGcmy5YiQzNJygsSSMbnw69KKJr2nxIsbT8rePMjDf5qy6hdxtIQp67UFmONyEPVeGdRu9aW+fUoMKhUqYm8Tnbf1VjvbqDSl5ZZTNIcY5V5QMnHiabdQJWB2HlXI+LNRdXROYZmlBx+6p/H6qzZMcZPaNsX/AJx0OC3ituAP8VeiaM9UpdsZWeBW7w99bVkkHyq5/rRqUrRs1CWP8mzlB3jyjOP3v8q+suNbjS9AnsEiEs0jBUlc7ImNxj6vbWRpk9BnFyO70XI+Vytj6cUNSye40u6vlYBLaSNGUjc82cH6K6niqsZy/LdzIpK0j4J3rTZyvaX8MqEgq4O3trDbnMye2tx2mX+IfXXUx7RyMupUOh4V0PRNA/KE63LXvYdpDHKgROfqMeeMiudPaSBncuRmm65uZ7jTCHjQIZMLyqc7Dfcn1ihTafNJHIQgHKuTzHH0eNYk9bNMdinBGc7771p1G6kttJaKFiouMJIB8pQc4PvAPurxRysR66Y+EdK03V9U7PVppIooYmlXs2ALEeA29dVt0jRFW6FDTdKhvUke7v1sguwBgeQt7MbV1r4Gbv0Phm8gt89objMhxudiBt7BU9G0yK80nXY+HNNup5mneOCUciKAAuMs3ez12zijnAnBN7wzpkz6tbWj3M7cxAk58dceQzuapkpSWi1OMXsY1v8AUCR3o4R/bSAZ/u9aktxPMrH0+IDx5ULffWe6nnjtWeOFIQG5QqRgZ29VAZ7zUEUGbfPlt9FOONrrB5F+II32o6dpkyen3kpaTPIzEopI8O74+2scd6ks/aW7rIT0YSD8axXNo2tcOyTSAOLe4ZXQ+fKOU/Sa55IZrG5ZI5HAB8KkoqPCLm5dOk6lNcJKktszLL/rI8HvjzHhmpC9flxKGR/EMpB+mka0164ACyyMQPHO9OFnxpbrpB/KHLMYxhVfHe22GaYgM+oTi7u7SJWlIfn5cgDlb1nyI+ml3Vr2OKV+dwo8cnaj+nyaHrWuNcyQXNhNOohIjueZAOvQjYZ8acrHgrQbSTtVsI5pf9pPmVvnaseTxvfJ7Xo1Y/I9IVWzj9pFHxLcwadBcGKRpQ0cwQsEPrx4V0bR+EpLMRR3t+LmcSq6yRoUAQYJ5gSfn9dNsyQWkB5EjRQOiqAK5nr3FVxDxI6W8zLEYh3QfWa0wh6KjPOfu/Y6YwtjkMqEHwO9L/EHEOmaDcRwPaJJI+G37oxnwPnt0pXteJZ+ZWMpblIOCetS4t1++1jRj2FgktnBKszSFsnukHHL5+HXpTkqWitzkv0Zotd0qS8NqYVi5m5Q3hn219fWkcUhBU8p6b0oR6Xf6hMk0FrKRzZYcmCnjjHgcYo8zau+oWwktLoxh+8OzODsapxqU4v2J48ji02a0hbs+gKjoQahL3UJQ7+Oaua7EfdeN428QyFah6QjeANTWN/0v/2X8L7C/wCzhEbKAo8B4eythmEm6MCvnQhnRxgDlx4gYqpJTDISrcrH5mqxScO8KnGOTmmbdZ72j3vji1lH/Ia5l8I+3EsLDYi0hwR1HcroGoXgfSL1SeVjbSKB4HunpS7xxwlcau8OoWM0bSLBGjQOQueVcbHz9Rqy1JaKmnF0xT0/jHV9PUIt0biIbdncDnHuPUfPRu247tLlv01J7N/2o2Mkf0bj5qSJopbaVopkaORDhlYYIqovUHFMnHJKPDu2nahoOpWJ9G1CW4Vlw3M4bHtx099InF3Cmk311HcWt7IeQGMKgxy4JPyhjx8DSEsrRSCSJmjkHR0YqR7xRS34uv4gEu+zvkH+2GH/AMY3+fNKXtWianF/awvaWF1ZKVhdZUXoJRgn3gkVpF3JGuJ7aVP3kHOPo/CqLLifSboBZXksHPhMOZP8S/eKMLEZIe1hZZoj0kiYOvzisErT+SN0HFr4sF31xHPYL2Lqw7U55QRjAHUHp1oYGfkZATyk5IzsSOlMM8aSRBZI1cZJB6Ee8eysLafCR3HeM+RHMPurf4+aEYerMHkYZym5IwWULTXUUQOGkdVB8snFF9U06TTNRETHnQsOV8Y5hms1rYywX0EgZWVZFYlTggA+Ro5xRNHcXNt2TKwDE5B9dbsWROVRZhzY/g5SW0N3F/5MVYZLSGPsuSTHZ4A7TbBIHqoRPqbrNqEWnRpDFNCqAJHv8Qg7nJGat1GynTS7iKeMq0Uivv5EFT91DIZOzmY5A5yPqrIlompW9CHcwtb3LxuMMpwR5Vbp149rfRSRkZ3TcZ+MMUUudKk1jjU6fAypJdXIjVm6LnxPsGa7LwpwHovDoQ21utxdj413OoZ8/ujoo9nz0FqZ58Ftm1hwaGuIXglnuZZm7RSpbJ2OD6gKZ7qBLkxtzZMbcw8jWWa/HpTQxAEqeUs25zXl/epp9ks8uZGc4UE7UUFlt1F2sRQIGwcgedC7vSHuR8VUP7x2rBLxTIxI+KPJdqytxESdx9NOhBCz097WWeKSPEF2vJJgghWHRvZ4VzXiDQr46g/Y2Fyy56rGSD76eDr4I3FQbX0VSeXf20UOzmg0PVM5Gm3g9fYt+FeX+j6nJpki/k+7LoOdR2Dbkb+VdLHEKgfFqS8SKTjOPfS9R2cusheCJTc29xbnABVomQBfHciupcMalHqWiRyM7c6HkOG8B0+jFDtT4pRkMQYknz3FZ9LeLTNPkljYhZvzjKTsDjwHhUWNGvinVmtY1iikyJDg56iuTatNdXOuu1pD2oRRH1xvnNMeu6mzl52OcHYevwFUcPWgxzuOZycsfM0AP/AfBdlDoFrqOpwrc3txGJeRzzJFnoAPE+ZNadTuoY9RDOEjjCgYQKvLgnblOPnFZtH1ufTYzGB2kI3EbHGPYfCjMfEWn3XcuAYmxkdomQR7RUZR9lQ0/UG/l3T7eTtILhmmJywCcxbbHRaoln1OciVLyFRMeZILmIo4GegKn6xTHbXFhMR2E0BJHyWAqGo2npEf5gw9oPil1BxUoJx/RSaf4LM0OvORGlsUJ+WZQ0eMeHj7sUO1biW00hRYTWXpV7AoWWVW7Nebr680y2EOrRXLtqV/A0ajCKDyqo99A+K9B0bWJWuE1AW18cBmiHarIeg5lH1gim+it0KknG9wpOLOHHrZqinHTNtNYIR+5KR9Yofe8LarCT2SQXSjximCn/C2ProMttdvPNCtlctJA3JKqx83IfI4o0Gxyj4us5u7IkkQPi4z9Iq67kiuYOeMiWIj4y74pNj0zUpDhNMvT/uSPro/oej6jbLJLcqIcjCxFgWPrONhVM8dK4mjHlt1IE6novbZeJs+QJpcubWa3cq6EEeYrockaNkAcj+I86H3Vkk2Y5U9m331VDO1pl08Ce0IfNUSaO6joDxktEOYezcUElheIkMK1RkpcMcoOPSurLW6uLGbtbOeW3k/aicqfo61VX1SIcGK043vEAXULeG9X9sfmpPnGx94o1Za7pGpHlW79DlPSO8HKD7HHd+fFIVfHpVTxRfNF0c0l3Z1ZdGueVZAqmNujqwZT7xtU5dLnSReXGCRsDtXMNN1e/0eXn028ntT4iN8KfavQ01ab8Jl0ZETVrKK6GQO1g/NSfN8U/MKpeKcebLo5oNU9H6FvtPgu7eSKZQyyLyn/r3VzfX9Lg0zUoY7e47XnkA5F3K7+J6V1Ca3a5UrIVRT1Ct99D9S0azjsWeUlEiBZQGwM+FWyzXpIwxxU7bOT6En/a/bAjZbpx7+Vq7Xp/633GuOaUoT4VbZw2C98R7djXY7D9b7jVwwXHvqTn+1P31Dir/u2zA9f1CrYx/SD/zTVfFI/o+z9/1CmAnPsTmqG6VomHWsshqQHhPnVUhr0n11U7UgPi+3Woc/LmoFtqrd8CgYOv5D6QD5Vpn1EtYRQg7Ku9YL9vzorNJLyqSTgCoMaM94/pF1HFnIU85+oUw6SgiiyRjypZ04madpmGec7DyHhTTbbRLnypDNyz4XOQM1lurw4BUnYH56sGy7ih8/xnDIcEdOm9AFb30hHMX5F8T13/Gsr6m5YcpbHrO9RnBYZLEbbALsPprIyAkgOf8ADTQjQ9++D3ubPQn1eFWQ6s4Cksdjt5UO5Cu/OPMgg1GQ94BRhV6UBYxwawzALnHurHw/dEa5rhzgPcKf+WhRu0tuVWLFmzyovU43PuxWHRuILSLVb0yuUW4kVlY7gYGN6VDOh+kEjIOfKvi/n76H28pZBuSMDGPGta5YEAbGgZG4gWdcnZj4+dD5FaIlJlbA6NRLbqSPurba2y3kbRyqGQDKnxHvqjJhU9rpdjzOGnwWmgOP2lPQ+VDL7R4rlScYbzH3023OmtZnugFD02rG9r2mSmMjqDWP2ljdM21HIrRzq90WW3JIU8vmKGsjIcMMV097MOhV0G9AdQ4cWQlk7prVj8hPTMs/HraEuvvCt97pk1o554zy/tAVl7BiMqM1qUk+GVxa6U17F+uT+IfXUjEw6g19Gv55P4h9dMifreS7WJTuqj1Cl3iDibTtPtXa9mwCMBQe83spQ1jjqe+nNro6dvITjtPkKfvorwz8GU97Ouo8Syu7t3hG3xj7vkj6fZVSjGHB7YE4R0+84h4+g1lbRorWCczYIzyggjfy612OxGJvca9gtILK0EFrEkMSjZUGBX1ntN89Ti7E9A1Ri+b+YahxMM6fae/6hV/Li9b+M1XxEudOtvf9VTEJdwCKwyHBohdbE0NmO5qQFRJql38KkzVS7UgIsdqpdjg1It66pdutAA29Ymahmqz/AJpYl6ybbeXjRC/bEwoIH9Kv2b5K9xfvNRZJBbTIgOXrTBEwAAwcj5qD2KBR1PuorGcDG/lnOKiSNoA5ByE+sVnkhDjPgKlG+eUYHL1GT0q3lY9TnxORSAwzWylSFBON85rJJa9CPHajWExuASfECqTHknAPlTFQCNm2+1VvaFBuKPSQDHLjw61Sbc52G4+c0xCVcXcNrxGyX6DsJIOz7TlJMWd+ZR4nIx7CaATrahA0UjGTALArgA+OKd+IeGTqa9rbtyzJsM9GHkaVH4d1eGbl9DkLeBXBFMQ08J6g7aaIJCxMTYUN1C9RTpYwgjnYb+2k7hbQbqzXnulId25ioOT76d7ZCByseg8aQ7Nqwo23Io/uiro0QJy4xVEQYY64YZqxJADnO9MCZTnRh8YdMUKvdMKgyQgnfoOooosoB3IIPSrFxICQ2x23FVzxxyKmThkljdoWMqR3tj4NVFxHyr4Y+imC801bnLw8qyHqPA+2gs8ckOY3Qgjqv4VzZ4pY3vh0seWORa6D/RI5uqjHiDQbU+GRkzWLdjJ+z4GmyCx54udPmqueHkUqw38P8qI5XF6CWNSRzp37F+zvoOzb9tRsa8FtE7o0ZDDmHT2043OnRXcZWRFceR6ilu84cmtZlksmLLzDKHr1rbDMpdMU8LXD9D8M8Fadw1EpjRZrkD9ay45f4R4e3rTASBVfMQNzv5UMv+I9O05is9yrSf7OPvN8w6e+oOZWkFScg1Ski2mZpzyRqCSx8KAR8QX+rMV023S2izhri43x7umfVvRSCBQgVmlvZflSSnAJ9g8PVVuKyEjOuqWNxeydhcrJynmPIrHH0VVqurabeaaiw6jaM8TYZe2UEe6iFzB2qcl1cmOPp2URxn5qxyy21ijGxhjibGe0ZQW91XkBH1fUrawkC3M8cRccy87Acw8x50Bm4g089L2D/iCmPW9HOqzPNeO1w3yWlOSPUPL2UAl4PtVHfjjAcY7wG1SAxnXLI5xdwf4xVT61ZnYXUOf4xV0nCVio/UjHiQoqj/RaxDgNbod/LagCltYtQf6zFj+MVH8r2rf+Ji/xipPwvYC4cdguFGScDAqDcK2i7NEmSM/F6UACtVv0IPYyKzsMLynNV2FtyKuR09dGk4fs4HykWCfEDFaU06NZO4NhUWNFNqhWPJ6H30QgR9sg49tTjt1Q5xnYkeqrFYIM4DE+YpUSskqdB99WRlegDEDY4+qoNJgFAu3q8KnGoOeXBVRvv+FFBZb8ZcHPvNeKAPHB6bCvt+fBwN8nJ614HC5IPU+VArPmjDKO9uT4148ZxzBgqsM+eakmHXJJ26V8g7QFRv8AVQBQiF2IAB2xWqGxVcsy75wprVBAI+8QAcnGBsRVywsWPL4nypgUejDlGRk+eauaEKcKhyOuD9VWopRuVSBjr6vfX0bjtCiqQc7ZHX1UCK0JCcrbb4r1wVyAM75G++K98WxkkbdelRBBVVGPUx8v/wC0AfAhO7g7bjHjVyOxcgYBqlTnHTyxXwJVTzMSo2oA2s/5vG2fCsF3Ek/ckGT8kr1FWq4C7YYjbI8KrcZcEjG/X6sUmk1TGm07RXCgtWCysqk7ByO63qPkasuLJJ0IGM+Wfqq4IlxCyMBykdDuKHTpLp+eQs0I6DxT/Kubm8Zx+UeHQxeQp6l0H3GnywsTgkefiKysAHXtBjcb++jI1ZSPzy8y/tCvQbC7YA9wkjc9DVEW0Xs//9k=","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGwAAAgMBAQEAAAAAAAAAAAAAAgQBAwUABgf/xAA3EAACAQIEBAUCBQQCAgMAAAABAgMAEQQSITEFE0FRIjJhcYEUkSNCUqGxBmLR8MHhM4IVJPH/xAAZAQEBAQEBAQAAAAAAAAAAAAAAAQIDBAX/xAAkEQACAgICAgIDAQEAAAAAAAAAAQIRAxIhMSJRE0EEMmGRM//aAAwDAQACEQMRAD8AyxiU/WtT9XGv5r+1Z2cnt9qkH0r0KCOexofXoNgTUjH3/Lb3NIAmiDGrohbNBcd/ZerVxeg8JrNVyKMMx61nRG0zVTEhh5T96MTrWYjEDc0XiOxNY0Np2ayyKasFv1D71lxK4W5NMIxtrasOJpJDypm2INGIjSaEk6b+9MRyMDYtesuy1Et5RruUa7MSNzRBz3rNs0oxB5RqRCaLmWFD9Un61qbSLpEnkmp5NCMVGb+MaULYyNd832q3ImsS0Q+tSIR3pYY658MZ+TauOLYHXIP/AGvVqRPEa5S96kRqKTOPVelz6VB4gx8kY+TU0my3AeyoKkZRWcMTiG2sPZaLmTjcn4Wmj9lUl6NDMnauzL2pFWm65j8gUWeQdCf/AGqaF3Hc47V2elVlI8wUfNScSL2AB+9Z1ZdkM567OaVGJN/L9hU/VP2tU1Zd4jJzMLBmHtVX0oOrM7e7UP1BIqOc1EpDaJaIFUdfvU5VH5j96o5relRzD1Ipq39jdehi696EsvrSzSMdmt8VWxYjWRvjSixk+Q8osTdtqLIQanmMaVxvF0wBjWUlmkvZQRsK+g3StnjSXSGlQnYE/FWLC5FwppfBcRjxSkxOQR5lOhFMmY9GY/NRO+i1XZauFcjy/vVq4V7X0+9KiRu5+9dnY7saVL2LQ7yAq3LqD2rvCuzg+wpQE1IJ70URY/HOijxZqn6hAdAfk0gGNTemiLsaIxidU+1T9TGdRnX2NZwJqQTU+NDY0hioR+r5N6MY2L1rLANGqs2xqfGi7M0vrIj+o/FR9VCT5b/FJDDt+oUQw/dqzrH2W2OjFxdBb4FEMVGeopDkG+hvUiJhsaax9i2PjEIev7UQkB2/is8Rv+rWjCSW/wDJWdV7LbHuYNtK7OL1n8lydZDRGMAWzMfmpqvZeR7m+tRzR1IpQRJbrXHlKNbU1Q5Guev6h96E4pB1v8Utz4wNBeh5w6IK0oEsbGJU96n6gd6RMrN0tQ3Y9CKuiGxoc9f1Co+oj6sDSHiNRlNPjRLY/wDVIOtd9WnrSIQ96nJ600iW2OfVL/pqDih6felAg71OVe9NIltjP1K28woTi19aosvau8I6CpqhbPmcnGcdJBdpiyhgQ2UAgjUailxNPj8UjTTsZLWDt09K1zgo4OKiKQf/AFsWpBU7A0niOFTcLmRmOaPUKx2PofWue+3BXiceX9BCaTCuGjzJJEQDf/dq1cD/AFIs0/Kmiy3Ngyn+RVHLgkhBkYXC79wf5/yKzjh1ns2HcLKjZcx0Ddiex2FZxycTpkinTParYi4sQdjRAVkcJxrwpkxQKIps4I1jP+K1MTjcFhcYuGbEKzsLgoCRtca+1emGWMlZxljlFlgFEBQc+P8AJdx3FGkiObG6+9dTlauibUQqM8YPn/Y0WZMtwwPtUFo4VIGleVw/9UzRZpJo+aMxzIDa3axr03D8bFj4wUDI9rmNxqKwpo6KNlwU0QSrRFXcs0stIAKe9EFHUmpCGpyWFzpTkUjhYUQequYlj4qHnr2apqxvFF+c1OY96p5ydz9qnmqfzCmpd4+yzMe9QTfc0I12IqMy7ZhempHNB5rdaEtegLqDa/7UaqG2INaoztZ167NUHKpsSBUhQ3lINKFnZq7NU5DQMQpsTShYWY1BY203qCQBfNXKQ2xpQsnMa7NU5ajIaUWzs1dmqLDuPvUhaULOzVF6ki25A96i4/UPvShaPJYsR4rAkZjHL5wf0Mp1/mr+FY2Li8L4TGqt32A62GtuzDf2qMFypcRadR4QVOm4I0IrHxEMvD8dI8TeQghl+4b/AH1rwrGqo9bzO7/0vxXD5uFznCTeON9YpLaN/j1FIRQ2mKXsjkKSfU2r0EXG4eI3ixcIKPGuYdmG7Dtv/HrScfCUbiXJxMxjhe5SQdTb/PSu0W68jjOKu4vg0kwacRwHMRmjLqULA9VPXvY/tXnJFmjmeOY+JPA6E3C66FfT/Neo4RiGwk30eM0kjHTUOBs470p/U+ChLQYuFh+JdNNiN71xxtqTiz05YqWNTXaHeFyJJAHU3GzjqD3rVGFB6V47heLfh86NJflvobdV/wAivaYKYaI5BU+Rq74paPV9Hlyw+SO67+wPpfShkw+SNmCFiATlHX0rT5QpDi/FIuE4fM1nlIuqXtp3PpXqPCfPzAszOqDIHJsCfL2ra/p1mmwrRlymIw7aHtfqfSsvmCfEO9ghY3IXYE66elbfC8NkxMePhYFWPJxCNtrsa8uVeJ7/AMf9zsNxjES8UaLEMyT4eU2jJ8JB6f73rXw3HRiOIy4MxKkkbEBifN/orz/9T4dcPxCHGIudHsCw6joT6jUfFZxkdMe05fPKLFXPU9PuP5qwtrb2MlJ6ej6AzSEdB7VhY7jax4+COOS0bpnLW312/m4ppeK5eGysoZhywYWjOZtR19jpXlUb8FzIgkzi9yNVbcH+RXTbaPBw0cJ+XJ7mIJLGGGlFyVOoNZXA8Qs+HjCnKrDKoPpratMKyE5TamKe3D7QzYtPJdMMQX6VP03aqGLhixbX0NEuLkUaEH3FdqPPYbxLGpZyAB1NZk2Id5bxkxou3c+9NSlpWzOxY+tUtFfYVaJZMOILDxKGH9uhpqFo5TZWs3Y6GkgljcaGrUYHRqlNGk0x8Ya/SpGGttpSgxckQtExIG5O1GnFJh51Rvi1SmOBrkNbc0JwwVSToBqTUxY6GUjM3LY9G2+9XmJWBDEEHQ+tBZ5of1JhXd+TE0kakAPfLf1sdhTmAxy41H/BaORd1JuCDsQa8bjsA+A4tNhA2iErodCNx+1q2+BY3PlQNy3iYaW3HUW7EX+a47tPk7rGmuDeKyk7ke1CYZG3Zj7mtH8Mi4YW6VF4+/7V2OBmfS+ld9Mw2vWn+H/ooSyHYE1SGd9MTuK76T0p8slrgGhLqD5f3oDx0Ugdeat7jzDqK7HRfUQc2NczpuBoWWqWUYecuhPKkUA/2nvemsM5lXKNJk0Ze/r7GvGes86JORMDGxADeE9q0J8eZsIkTgg5rq3Yih4rgcjcxB+E5swP5TSkeoaNmK30BI2I0BrfDM20bOEx4xaoMQ3LnhsySDdT39u4qvi2J5yx3VVCMxUKdBfXT0ves1ZyykkFZo9CP5+KHn86MHxXU6KenpTRXZpTdajgDtw9k2IOeNux7Vuf07jvrcG0TeeLS3p2rGw0gwoMjjmQ2yyrbyAnRvg/zQsZOD45MZhbyQPvl/MOo9xXOSu0dYSqme5TH8iM869lF7+lYGNnj4tx7lSOI0kQLEx6i1x+52p/D42LH4NZY2zBvT76fzWDxbBEY1PFyxJYYeW+gb9Le/Q1YZG1qyTxJPdCWLhk4bjWixAyuPD6EdKc4Zi5IsW0ZduRMuR9dr7N7g07jsMf6h4DHiUQnFRLYjq1vMPe4/29edwk/wCEVY6jT/FdF5x5Of8AzlaPX4iI4/hxhchpACLjZmHmt6HRh7mvMPhXMeRgeZF1B3XX+CDW7wphPw9kQjmrfRj5W1sR97/eko5hiMcuIyK0hBDp1IK+L5BB+DWMdq0dctSplnBpo8VhxDKxWTDMZI77FTqyk9r+L705juHwNiUblpFBiSUZoz5X39tR4h815pJWwPE1eN2tmurDQ/70r1asn/xSvIWWCRQGs2blNe6MOuh09jbpUnFxdoY5qSqQrDh5uBcXjiZg2FxZ8D20D9Pmth3aUmbzAecJuo01t1sb/Fqz+FouIwAgnCSRsTJHc6Kw3F6uwXEQmJlSQESXzqHGo0sb99fuDXGW22y7R6oODjo+mX4J3mmngnskqnPFY6Mu383qwFsxFrkC/tSfEJcRFiIlwbL+EhmWIgXKm9xf02+3elsRxSQwJjIQDE/hYdY2/Sf91r048kvv7PFmxQ6XaNcWbUEGuKPJC8kIDCFwJF65e4rJwnEmnbxAxm1we9aXB+JxwyBWFhKzBidr3uCfg1vJNpcHHDji5eXRbiYFhxCoGDBwWVvbce+oNBYDarcfhTgcK+KRDJh4GEqAHxKBoffLcgjqp9KxYuKTYiFliCiWPXL1ZR1Hxa9MeVtcm8v4628P8NWhK370rhMbmhDSCRi4zC4At3Hte9C/F4/KkbA28zbD4rqppnmeOSdMLieeLh0zwPlkQBgR71PD8eZoVZXKyEagdazeKcVaeNYY1srC7ne9ugpTCFsHKkym6SG1ux9axKdM6wx3GmK8TneXjeIaVcsgc5rDcdP2o45CjROpKsLqHA2Pr6VPG+W/FY8RCGHMjAkB2JGxHxpUwq8mEcIMpBupJ3Pa1cpHWPR6rg3EhiUGGdssi3Kgt5hWpymAtYW968COajxguQwOaN13U16Hh3GjNhEacASC4YKN/Wtwk+jnkilybnKf9NJ8UxZwGD5iQhiXCanY2rNx/FJ3w7nCNyVKkZ7eK/p2rz2IxOJnQSNJI7pq2Y+a2mvxVlOjMI7HqMPxqOSNS0YLZsrW2A70vxHjpjdREkaxM2VZGG/x0rF4fiC4DxtoGtYjr1B9ar4pAWjJRbRsbkW2NRTNOBYky4jCrIgupGqn9xVaTfTnLI1mjsY36lfWlcDmGGBVri+o7etHik+rwmYaOvX2rlR0/prXix2Ha9iGHiAO16wcZE+GnEc63Dk2dev+DXcLx7YbELn1U+Fx3FbeJhh4lhcitpe8cgHlYUTpkq1Z56WylZlJy6KxItc96gtlkJubEga9O3+Ktmw7wqYp10622+KWJJi38S3DA9r11Rg1MJOFiDWvICUKkaMPX4P807hYI4pCkTl4JgCo3yt0P/HyO9ZfD2MscgTzoAy+pFOROYghUiSB9R6dwfeuMlyd4Pg1uHxLgca6ocsWIPhXosg3HyKbliWTPh8UqyxSC49R/wAEd6zfqkMiQzPmSbyS9cy7X9fWmZMeJCsLupkzWVxpZ/0n36Vyp2d1JVQlCMbwTHs8H4kMrZiCbBj1+SNfekuJ4DmcYMvDl5kWIOYqu8Z3IIrdDw43DtE7aEWdQbMhpXD4Q8Nkw6vNezFUI0BuNL+4/eusZ0cZw5/gEJj4bIkhUNGVCyltxc6N7dKZ4pgwkH1WFUK8TZ2y9R39fX0qzinKfh7TOpzJodL6HofT1qvhszYYDDSksqmyMe36T/xWV7N8fqeWxjLMSyAgE3t2v/3XqeBTDG8MjikBsqsjW/Mp6e99qR4nwlIcRzIVCxSaj+09RS+DmxHDofwiLlt7Xtvf76V3l5R4PNF6SdmlwpGwmKxHDZpCQxEkEh29Db41osdLmxisqFZUAYgbXG9j31+RalZpnxGIeV2uCSV0uRQ3aRc65uagJYA7juKml8svyUqRGIx6LjknOaPL4SrKdFI1X26jtV7SRA4hI86tJGCRe4Nj5vWlmJxiHOQwta50ahiRsNhVEjZsjeDWxtsRV0onyN2Fh5nw2I5vNWQDRk2PrvTcuLMaYeNEVkkZU5lte3/NY3PkMrIQWUaAkUzAruqWeyG59jWpIzB0j6BwkO/C5oMTmlCuwHdlI2/mvJI6jE5oZFAW4/FSzdq1OH8TlhwgyvmfKAf7iKSmiXFiWaRFeW9201JJ19680E022eqck0kiiQyoF/CXKLkEN37VbDGZD+Iqge4v/FLgBSqWZM2oKsdvUVKSNExHOOm2m9dr44PP92ynjWHRGBizH0+RVWDfKXgcHIzC1h+4+d6tllMkFrFyCfEf91qnPJkVmyMy2tl3FZfKNwaTFcezGOJCR+HJ06XFq6GVljbuuwHUVdiMOZ4yyuM9rjN2pS5YBVHiqLo0+yxs8hEkR8Q8ysbXH+RUpjBh2jdySrX27kb/AHqqJmEoYL5wbhjSSTSRukbL4M2ZCRt0vequDnLk2V4jIcIz5gXFrAC1796BLDCSyknOTm001vWfJLdyMuUm+lEcUVwzRBr5reG3X0qvkipcoOKYQSPNGFsTqFNOri0xEZVvI3fUi9ZHjzhVXxjp7b1eqmR38JVtDa1ZaNJgcHZkMsbNYW2Pe9OG6Oynwljce/as6BZIW5igZVNit9SDvWqQs8Vgc2lw3cdD71WSLMrFRmGcSqPCxsR2NX8Pxr4OV7v+E5seuU9DVskfNiZZD6MQP3paOB45wHXPGfCTtcd6vaCdM2Z0TH4fPGVLDQa/tWG8ZgdhILa5WuPKf9/mm8HMeG4x4JSeWdQ3f1rSwzDGs8mZWXLkCstwR3/6onRGYGGmfB4sMvl7dxWxIictcTFYwym7EaZT3qybhUEoHKRUYHbpersNDkwzxOhs+622Ox+9HyVOhVoxNAYpTY30b16H3vQYTHOmIVMWA8U/hbN+Vh6/GlApeGZsLKcyMLI56jp8ihkT6iOQFDzTbMBpmI9OhrNGrs05XWDiqHEKJIpAFSbYqRqASP8ATan8RCmJw7RFst9Vbex6GsTAYrnxfTYkBwy2Vts4/wCCKeWVsLIkFmlRtY23I/8AystHVNDmHk+pwjLMLSLeOVDtf/B3+aXwYLRyYWQ/iQbWOrL0+1HEpOJMoYqWWzoR1GxFTiIM0keKiBEkN72/MttRRIy5JMtwuJXErJh5QC6aMOjDuKSlgXAs6NneOTVSehqzFQ5nTGYdsrqdSBuPWrxMMdhXRhkkU6r2PQj0rUXRJ01aM5Sq3CiS5Nw1tqseTD80I2cNexYbGobBERs6sfv/ADVESMSrNrrvXZNHlotmliSDLEbsvpqDQ4fFo8hjmRCp8yEX0olKgkltjtbep2QOn7VG/o0uC2bBQmRZY2sgG1URKqhbgW3GljaphlYrdb2tsaB5LA3uATYX6jrb5rLscDuDblSSXItl07aVMWNKEsCy9qXja510GXX1NAEKuALOGNjbSoaTHhPzXY+bOdc2mlVyT+MqDbS4sN6XJcFwCQb2se1dcSKpbQb/ABRkQYbKpdrKzWIHaqOQrTMczAsp/wCqsduYtjeyjahUGSxXUdCelCpgyYeTltymDMo61TBh7R62Z/U31pwOQSO+ntVQOVNABrY2OtQti+Jj/wDFKoIZGFgNbVMCRGRnaPLI+lmO3XSgxa3kZUJVf2FBG55e+vW/SrRDsTg4hHmG76+GqnUcsADLrew3rREi2CHQbjSqZuWNBYt3FQCQikEl1XKx1HzvejV5FP5bHoDVuYk311NViPRgRp09fWqSw1ijJIY+tcoaE2W9gSQPQ1KgZtLEd7VJchRlvYmwvVIc1wLnoNu1RGvcXIFViXMO4NWCwAI+9C2FiII8SFa1mFwPtVmAQwqVUkKTexG3SgNwdLXOtEGLabn3qAfsJFZdb2veihYx6t5uoBpNMQARc2B3ANS8rRMUAzdaULLcSfpkM6i4GrAiqSy4nG5WhKKQGSRNDfsavjmLLZrHTUetA8i5QBYMDpbpUSZrYWxWCZJudCC8Mp8a21Vvb1/mncOCIVSQeVgVb1qs4ggAFr0L4sZbk6nYHvWtSbMcMgzMqW06e9XLMqAAnU9KyVxLOXZQelMJiBlBbttVSM2NxShFIOhOooGYMbjf0FUtOAtjYgaCx1qsy2kGXW/c1aQtjIccq1iDfWqvAsVlUEjW9qreazX3JuCBUCQjsCet96gIkkABHtbSoDnJYXvftVMhUA66WuLdDUo7gZWOY3+algNZD+Q+IaXtpQsWcPG50GprsysUN9wNSNRVqBFJAU3JuWP7UB0UmeIMCcwXQ96MEC+ozDXtVTKIhdiAbWuNr1WZDlBvsdSRUKMEMZtLhf0+tUc0EEAkBdLXqOcAWYMQSBrelnmlEuUahjpcbClAajkKhlJA8VgD+1HG7ojCwBBAsPWlIpcgYMuYk3B3q7ObgnS/X/NAWfUm4HRTudKXncCMknbr2rnzMSRYgA3qARyzY6W37UICzOviI6aEGi1y66kiq1m8Fn39KnmhVuGsNqAnn3bxkAjS1GGGYML7bUtqLkanrRq/gAuLg9OtClnNUrYbepqFYOCuoK/uKqXS2oHoa7mHMTrYdTQgUUoz631GgqwG4sDe5I+aWzWcaajS1FG5eRQpA1N6hS8Q2dNS2hJqzDxEXBNxaqVcgfq1sDUR4jK1wdzb3oC8XUuLHU0TrkF7anXSqxIAD+XMdTUmdgMlrg9aqIVqjSSGzG+/xTLSjKD+Zhba9KiUiQ5Cc21gNqYlyooYnU6aVUATOyAEaelVl3c5tSL7dqMnNubXqIiVUm9+5oAcrg+K4BP+mpmuotlzjvpV2bIupuT+1ANVN9t9qIUTELYUg/At1q1QLuDpbY70JdFAU7W696jmre+tWyBKpYk316VAIPnJUt6ChLW2F/2uarMmWMm3r/3SykuxyBgbNf7d6IueQw3NtO9VkLkuujX39TQ5yulhfaogWxtHkKML31v3qxZEVcylSba33FJEjmX67a1DyAbWHX3oBhnDSX06UZmJc3Kix16g0nmuS2br72rmY2ChtCQNxQDRmzqdAUAOlDI4KMb6ixB2qswlUvYbakGlY2klcAi43v3oBgkNY7ga26UKkI4YkknrVczFFN9Ol6kC7lCPKOvXtUA5CyGzE3a/aiJDK2YZiPi1LqAg2Fwb39BVrsz2uDqPuaFIJ6WOpuTVGcqpAXMGOlXsLkjMdNqpbL1Ia3pQhUFGS0h1I1tXWCIApGhGW3egY2ksdt9elQHbNl+QbUAeRs2b0tahRmGYAdBY96uL82P99qpMTXNzY3uB2oAybN4iQemlc7rax67CqgbgiTQjexqV/EdSD5qAYlW+ezC+mmnWqog1w4HhFhcGrWN1ZiADbUDeq0EsbBQPt2oUaVFWF0FzY3velnY3yjXXTTUVcrlnYhdzuDvvUutkBkst9daEKXNvMvSrkPiXMBa2mvxXG5kUNrcFaiWPLGddF2oAgoIJAt1N6AsWa2osKujfwFTa4A1oUYFnvv0oyohG5akm2ugvpeuMrvKDuP2qPy+LXXQCgifM5UHagLixbcm1TzPgDp3qWZVjNxc7ADrQrECuZtG0sKiRQA7Z1uNtbdKlCv6rW/cVfCjHMMl7jr3pdlCXVwMx2FUyEJQ5JvpsbUGYr3Ol9etGIxlumwOotRyIQrF9TYaCqCtJCOlje9EviubW0oXKBQ4Fj6dK4SWIuMtxc+1QpXymY2HTxXquS6n0J2HSmluBm6a633qp/Fe/lXvQULwnMb5TY6GpGlgRqTaiRhEQLWvsPenMNAkgQlTcgkgnrehCnM0qgEbixPeojiChst3Zd+ljeroxlawUliLG9FEhVi9gSTQFf091sw09ajJlBsTc6nrTbPeMsu/WllfxMosBtQFQB8pNx09qszNyQQoIGmnepD+AnYXB1610RZ9B36UKCDmQgnbtVQjJRmJ2F79/ar2hAGrk6396h3RIioNjuCKAUlS4O9wR8UClfzAkjXe1WyEBbg20GnauEazQZrki9qEDQEIptbuKCQea6EXOgvTCxlVR3NyF2OxoSvhU2BbU1QURrfcbi9C4MTghWsDbTrROrsCL2v0q2RjIoBFjp1qA/9k=","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGwAAAgMBAQEAAAAAAAAAAAAAAQIAAwQFBgf/xAA5EAACAgEDAgUCBAQGAgIDAAABAgMRAAQSITFBBRMiUWEycRSBkaEjQrHBBlJi0eHwFfEkM3KCov/EABoBAAMBAQEBAAAAAAAAAAAAAAABAgMEBQb/xAAgEQEBAQEAAgMAAwEAAAAAAAAAARECITESQVEDYXEi/9oADAMBAAIRAxEAPwBoPBYpNGZIlEcrtuMajp9j1GPF4dFOfL1WmQQxgLZUEN9u4xfEk1Wq06DwqQGKK2JjNEkdj3zXoNfJGU/ENE2oCiyzBR+Wd09PnL780+li0+m1KaeF2ij5BHUkYmv0kCOGgEkq3uPq6ZqkeCfUqyxgTFaY9RfxlTadhEJVmUPdFeoI+MciLfCrTKrxmfwqlMfpkLXZN9vnLTpYnYymvNB/Qnr/AOs1QwywRNEEDenzNyCibxYEaTSOrt6ybpuxwVVWlTaiaYlii/zEXmzRaGJZXgEqsnYjk1gigJ6Pfp5GIYgoLq6xufSLPW8BPHuAZJRrFiVY3WJiOD1++M4V4vMK0Qb5PAPtzlEz+U8bTBQV4BXuc0qgkhW0/hGmYk/TlI3WT/EEsqeEuYot0hFIFNV9s854VL4t4rqotNMTH5TbnZkrjsOeoGewl1ULOPLHqHQXxWZ9iMfO5RuNy/2GT8VzvNhdJotOsizeRHJqozs3VWcDXa14fF5NKmlaFZHpnTqT8Dof+c9TO6Mu5lptlkrxZ6ivtnNGmMujljW2V23Mx52mq49sfktkuOd45rpNNGGjKSrYB2n1VXc9jlnhvl6sK8TbUjSz5huvjnvYx9X4Rp98cPkqqlbLEksx6CyPbKFi02s0M0ci+U0QZQ4Nc9Ocm6qWLBIZfISCZY9K/qchqJauRfYZXp/CYYPEG1UOpI/iEAEcP8Xnl4Y9VPMujEjtKpUAk8ADigfas73i8eo0uo/CRlK8veZnaq56A+/XJ3x5a/G7kr0oijkiiWVPSpG3noc0NoFh0EjbQN43hS30sO/2zi+H+JrqtI3mvSL9UnYj+2dOLXJrNEkumeOeIizz+9ZXtlP+dZofE4fxA/ESGK+CfYdOBm6SSCWEFWDlDa9h1+ffOfJDGsh1hG5lFUQSOvFD3++Xx6JY9bHvLskv8Tk/t8Y/VLdmLNVGkun8yclo0+qz9K9f0wqt1JpgrpQ2cdD75tmiG/bsuOQUFrtmYacLKuljBBQbgR7e2L5K+DQBW6bUOOEF1wL9sUOk6UgLc35gPBwoqSQbXDMCaZf9J7/kcu02mZHeIXskUsgH8w/6Mm1tzz+LlZt0jKu0yxhitdK6nHgjEjRMwNjgMO/H/GNGiRLE0pBFbQvavnLIS43xNQ2sGWqIA7c+2Rrpk32zoXkYsUdqet546ZeX9YnVS28+qNhV4uoeRZN0K7q9/pHP9cJj/h7qNlgbvg4qrmYuEdHab8tj6ea2H596yL6XVmXgrtc+xB4OWu26Lg06HpfXAoAXepsm7A6cZLaTPR1/iS+YwoAG76H/AJwiEbQqiwAaP7j+4yKVAA3dabrwMaMuEDc0TxiXDqLDUeBX65OWc7htNEn+2VRlyjEjv2yWTKWLDldos4lPnHg2n12jgXVvLGrljuik6mvn++aptG3ieuh1IWEeW24xkdvmuovOcvjMBiaXUKYpwCdjuWHPTnPQPB+L8PRYqEtKTt7iu/xnTMeJdppIppIizKqOoIYpyD9sxwuYNhdXmjJtQOCcfRSy6Wc2j+W5O1aq64vNEzRPGzstuovaOo+PjL9Mt3yOkZ11RnlRo1I2oL5zHqNVC3iEkMMp80UGUNySffNfhscMweKQlXFn1XecTXeEah/ETOJCAslCWN/LKr88c4r4VMs8uvpN8oCAUyHawZvr+PywaYw6+VnKlGB9III3VlQ8PfRxI2ll8yM/zXbAk98q1Uyr4isiu6ttoqw5X5H6Y9+055w8njWi1uuHh8yhZUFggWCfYZ0odOzqpViYm4Iroc4Z8Pg1HikMiozyIAXkAFsOt897HX753lm26RoQeHJHPBBxTTuXyzaKSJJ3Etcc245UfbJqdTG2oAkra5sMvH5n4zna2YeGaabUTqiuRwGWwfYX0Oc6HxiZ/AEneFJJPOaMAdSevT7dB3rC9SUc8Wzw6up1Qik8mcneXATyyCTedeORF0smmemZhyF6r7E55nTT+E+PHZAWeYxlU7Mh78dR1zZFJqdFp/w8cW+VW2gufUydmPx8ZPy1Xw+P+tBRoYCZ98vBjZgCo+Pzzk7gXbSLLGw3ko7HqOeCM6+ilm1CFNSJCnHWgM48n+HT5/mzzhSzcJ1b7g/pxjqecY0Ec8JXbLG0Du++M2T7jOpBo5dXArxzbiV3JuUHdx19we2VzaGPTlijvMjUDRIK+/PbNmlSPS64tSo8gBAUlt49ycmc60+eenG1aL4f4eQNoaRghiWzR56e/bg5v/w/WnhaMJsWU74mvr737c9u2ahHDq9eItbpFlhBBD7Qa7gH2zfpdMiUYtpCEj0jhfbHIVvjF8JZ4QoXymZre+TliK0zKgveb2IOOB2wxL5MrSldzD8uMecK7eZp3Kmwbvpharnn7IN0ymON9x05Nhhyv/SMMUcrynVxlqjqx/bL4VLSu4K7gPUQOp/vgjIaRoYwUf8AlNUDk63nCxiqySbLIZTddOcu0kbPGA5KbAab5yRRpDI0d2zG3cD9hlkys0ahT1Fk/Ptka2nP2qdfIkAP8RCfST2rHd2EgZTSVY+fjFjXYNnO5uSL6gfOWsgdCFFbT6fesWtOeRCqHNEgPTBq6jvlsTNsbctoa4HvhiVJNPf+S7B+ckY2xbSSSDz75LWQTEpf24P264Cx8ukHBORRvBPxjlwFZQAWUXxx2wPE8kKBwBwOb6ZKLKpB2lfc9R2OEQ7ydxPPS+Mv8sEChVjvi1citAUDWLs8k5o8sFAW44/TIqhR7nvuxgoHAFEdsFSPjmvbS+IlIvDxtm/ljsEALyfVXzx1yzR6+TS69o59WQjEKQG5U+19cyeExQSRLMHTcWG6EryK9so1hjfxN22GbcKRegUnuD3zb+3j+/D2UGpWVGWG2aPoAb3DsRlXhUjjTy6p2Jd2YrzuoWQF+SM5a+OQT+GSQQQNJsPlzNyGC/5qHzm7w9oPCdQNPpyzjbu4sgf8kfrly6xvOGSeVFchmMiC1U8Ej++aNsuncs6yagzL69/0qD1o+/xg1StqdDLsCGQgqGB+n7+2Z9Nrxo4oNLOZ2mkX+YWrHoaytZyfrXr9cvh3g0svk0kQFoDyR75yIhHryuqgqTzVG8EXt+xzraqCWXSvHFL5cjG1kA4//Ej2xtDoU8P07xgqrOLYIB6fgYfZ/SxUUKojURspHqUWTx75dpjK2pAl2uqXbX2zleLz6mJdM2mkIiEgVkCkluPftmvVa/TwzJpOYp5l9Cg8EffDfoSbNJ4voNL4ojxyBiwBN3XA9hnntft0vhkfhegZlWcgsQQXLDrz2++dyCdn1MkLhncAcNQFDrznmPGNLLHqvMjfbF5myOSPjb8ZFv1WnE9WOnptBH4Ntlild9XqHHNbRV9OOa+c0eNQarWaxT4f/EfadyNu5Pbn4568YsMDarw2DTzI1pbmQH1i2AB/P+lZ0vCtLNpZyiakvGb2kg2B3GEmwdWzrS+EiaDSRPrkcSHgK5HB+ayvxPTyTa9ZI2AjHDKVom66HLotYj68MXEUYBUoeGsHqAevXL9TqIpVZd3mMOCnJP8A76ZWRG32xnw1Yo/OEjbZWKuN1EdCD7e+aYdNBtUgAen02ObzDN4hHotQY9dGkRYgxqrcHtZv3GddkWPZKsfnEgEheaGEuHl68gmniiZUQEFDYAF315vLpYV84PQjidaF9QcaKMJICGCs44J5v4w0DIRTlywtWAPHvi1pzykaNHCdrtPGLAFck+/2wg+YjnaAPoFDn5GWSRtp9Qvk7gQLO0fr+2aRGrSAqgCgU3HU5FrfnhUlR6RhIux7FV7Zc2xFHlKfULrv98eY0KmUEVXA6YyG4jvFkHrk63nJTtjCr37GqxgTvYbbU9R2vLNu87qsDr8/bAu8kACiDd1k61nOA6MwsimU8EfvlqJ6wTwKF4UHr9Z69sAbc9noaGJYxABG2+mzZNXjqQsfBBAHthRaViAQO3GDyipIqt2JUgWxW1FfGGKAlvi+Tl6rsHq6+/tjBdwI27SR1rEuQyimFCx1Jxj1PNEnAL2gexybhfz7YHhiRfaq64psiwMUXdH9MtNKv26YlY+K+KayCH/Ebuo2zISNsakFlI57dO+WwiDV6SRI4mWSFgFs21X1+BnR/wDHJ5sEurkfb9AZlrdXTn7jLyumOv8AIaFXjlWt6n6jXQn++dPMuPB66muJMV/w7qAxDNqpxstVsqD2b9M6Ecss2pj85oWJNs6LtauAB+VHrm6TSK08McKqDFW4CyHHsfn5zn+K6VvB54NTBEsm30pHHZNluRWXJntFvy8R29Ig00dSw3JK52noG4/mx46bfJMpWUc0uPL4dLrtDH5pMUsPJocMczqxWZ/OS1oWQ10ccR14yNUc0KI1kEDm2/mOCGORoxHJtAbncMUQacxPJKeABQqwTi63UJBsRidr9xwB8X/bGWXBkkiW9PEspA+p24s+2c/WTiXWANp9ywuQkl+pT/lGDVeaNUkgd5ISOYkPKn3vOhM2yWNyVWNwCN31Bv8AvfEJ+uZpNK5k8vUP5csbERKxsuPas3Q6WCWOWGMmNY33iNjW0kdeOmCaUtM0hjDSKKSSNbIH5408fltGY9pm6MR3v+v3yc8q3w5HiazeHa8aiCVtrfTIi2L6UfYE986Gn1Gr1ZhkkZ4Qm7zFYEMw/wBu+b1iJkIdaAHSsr1ejlA1DpJYdQOoO3jpWHx86fyuY5es0inXwa6Ebio2SKygh+35Gu+dHSR6csszAiKVbCkVZsist8P0O/RPHqQkjigWraFOWxaKFX8qlRkXrXQYHJSarwqHU6tmSKJt8ZVvMIPHb8xmmFH0sKwR/wAw9R7D4yKI5yBsMZjA2n/Nmtog6BioaMtZF9D7Xk2tuedZxpi0Ox22SWHF9AP980AxiYKBTypR9/veFkEUzFn3sQfQP75ZEC2nO6uPc976ZNrfnnAVmCCN/wCGOnvjRIdhRBx3PvkiVml3MAFbsBeXdLWzVWK4rJbcwQFdN22yPfrixqXQlr64ybtzEki+574yoA4C9D+2S0kBiA6qL4IvLHUAEjgVQrIqqA/PLHASXYIopRy19cFyDtsM26qNWcdYyxBPUfphhTfRdaNmh/fNKoBtA5HQkjFqpyrhUxD1ENfcdMI2uqlq6UDjKlHoLHtj7ev3+2JciAUvPPFEDpk7dT8ZDweOp55wdcWnIIvm8hAK4AawXiUYkXffAST1yDJWAfO55Y4IYxvM0DEs5B4UV7dsnhES6ckQKsgPqDqtKb55+cfS6DSwkbpFZTXDMCfbn/bNOjMEKvp4tRfWifYZ2SvnbPwPEdbFHKphAfenpdCaVvY/nnG8S00uuk0jrI7kyL6l42t717dc1Rxj/wAq8enlUgoSFdqJ6ciuCPnNbavb4f8A/GjaMl9p3rVfOO/hTdtUfix4a/kCYFFRiC11fz++UaYS+Iav0wsmwWRtP7n2y1oyuvQzqrRBdplNcH7e+adI/wCC0TPGlyG1Uk7bPZj8YvQzR1Gsn0qxMhC2aLFNwI/tnJ8S1mrk8Fj8gCYzyEx2CCp9jfGbG0x1yJpdQzxaiy0TRnsRVn9846xjTaiJvxks8ELBEhcU24muoxX2rn06XgOrkm4mRlkYMH3EUpXjt75frIn16ophktPQVDc0ObNf0y2PRR/iUmMfk6leCEBAI+ff3zbGo0ukUl3lkFkEmr9wT0xz0V9kgCQxsvntN/CveR1Yf3x4ooNTpCHjKow63Rv49sz6RotV4kyRlAAtMg5r882uTpnC+TvHuOnGV/UTP2s0Hh8+i0J8jUM7J9O6iQLy+BWmtpGRmUbqXuct1LrpZaj9ZK9QODfxjmBEhE+nG5nBDLfKj3GLfC5zt/wkyl5g7QMkYq64BzUtKgKIzW1WBZGVxStKxjiTzEoA7z9Jy4Dyr8t6AXa5Jraci1vzz9gFSF3AS2kG7awqh7jEjTy1Cx7yv1KrdzlhjEsm8N5e0CyLphjEeYIwh+ngEdjk2teeTOoPlirk6k9MsEfpBc0t8LXAOOqqoAPUryRjSklxHVgir9sjW85I92Nt7j0+cYDzCC3vwO2NHUe1n7jqcY0CvPc184mkmADZCqPi8aiK5odB/vjKgDiwOL4wA7uAeDfq64lyFPINcEtQPtlsUVbjVgnnGjjtvUOMtQeogggjnnJaSYIXahb9D3w0VclWPyMY16gw6D8jgT6euBio6fHxkJofPtkLbcTqcNOROp5wjjJWQYjTJXOGsmATCBeAC8ccChjJ8i8L1+o1GtMaKiBb2KVv1duO33zSgqTVsmnmMn+lgKPcAexzb+CYu+r05ibUKPWB04/4yvT6l9Tp5RqXLyuxVboHaO5r9M6Z4rwN2E0iajXaF0hU+VE2z+INpXn+Xv8A+s62lgU6TydRJ5rLy2z47ZzdPr2j5RSTdMijoPcX1zpDR6dYRqd8jO7WwAoDjvlQvbNqQXgm1CaYyQnqoG5vt9/nOPoIW1un1EjO8MjGjHJY2/6RmnTeKT6bUTIsTSRm1BjayB8ducy6jxGVYQx0s6aOvWytZUnjn7nvhSnl2210cBhhle5ttqxNbqHb3rOLD4fI3izapJIJtI/Ta1EN1Nfb3xtX4WNZp9JpC8pLsH3Eb646Ej398tg8M1nh8kggiUBx0BsEnj/vbF5V49/bsTTnw/RxsBJLJVluL2nLIGlbThJkuGVbYEVZPxmbRCZNWX1IvThdwKrytdqze+t088txOGi4DH5GP+izfJ5Ymg08a6VAQg52jmsKlCoIFMa4Pvj+QhBmid1IFBR0GFC3m/xoI93cdARhq5z58iNO0aLsVW8y9w6i/jLBHvgYQMq9mIHIXDPGumVA60H+gg3l0QR0FrSjm+5yNb88/RNImzd5YoNW09x+XTBJ/wDarkAlWC3XX3x41YtS0qgWB0vnHB2yeZt9JFMK/fJ1tzz4wF3CIC9gvaGGNWw2QLoX+uPtqBunpIIAywxlwR/mAIvJayIF4DVbAen74GpY/T6ivf75GO+PYP5OSfzxo0VI97t3Aq+cSogQlSQPpPH3xjzIFUbiB1wKXlXi1BPPe8tSMKAqn7/OLVyarKbz3I+O+WKl0RVYyxlW3fkeMtpd3X4sZPtrJgRoQSaBsdsgX+JySDWMPSwCj7/GQk77PGASiWs/bJe3gDCxo9bOKBiOQKw1hrJWBhhwYRgEyAWcYL75PtjIegwZMmAfL9NLOmqk0zKIolIrZzvJHQZiSFtBqtQZCrqLO6uR7D4zRo9mm1aRCPcCS6Mz3z3odBnSnh1cmpbUxpE0iR0Ynrp7Z0e3g+ixMunjil1KRoXIuUkkAduma01KO2q08oA4p/VZb5odMyaPUSazQuJ2/DJGbUCrBGUkx6idohPHGAOA3Y9wT++XPCN305+uP/gvGIDHGzK43cDhh06e5751NTPNqNLIdEghmdipWQWrCv6ZX4q8kemWFQ3nRIBG62TX3/XOtp4zHooRqSwDryH737++GDcmMfgum1SaEaeacB23FypsHng/p/TOloCdO7qxLbR9bc19sqh0kumVpk3NGvZxX6e+XpJG5OwbDLX1N1+2P1BNt2lj81tSZXkIQc7+nXNGihghjcnZtHQDpeNIjAhQFKrxuA3A48Uas/pU+SwBC1V+5GTa344wkbbIVUkFJDzTdPscYQCJjFGSHY8E88fOONDtltd3khgdpA4y12bzm5CkNW4ZGtpx+hFENpViN1dTzX2x0TzHCKAq9j7/APGOtqjMRXuCPywWNhHVdoHGTrWchIPNTcFK7TXtxlkIuBS5s9WOBdqALzTgXjqgQGMg+onoeayWsgULu/SxojreWoajoCythcEYVNxY9+BgVTyOa9sFSBEoETFhQaryxUL2X9KA9PfGWMIi+YLroPjGPJrb6R2xWr55DqAqil+MsjXu3Kn9sIWuRVfOE+kkZLQtlWK/Up6XjgFWuuowBRXPIHOOFAPGBgeTeRvz6ZG54yAXiCcsbPXDkrJgYjARkF44HGMldHCBXOMcGATJgxgLGACucIGHJjJ8O1k834fTuJCfNkKbhFT0ftWek8O/Ev4Yu4s2qUEeY4HK9qH++czSlvE/HxF5u1dIfMAK9SDyBX6Z29Nq11OvL6ZQiPz5fl0BXFA5tzZa8XuWcroI49U6zR7Y3r1Fx9RH9cmu8I0upMMoh2Ts1PKOB7HjBqXnXXJBFEWCjczM33IC/wB826eJpoNk0ZjJ9RJboM1YyYzxwbFOnUl2NbXvp+udKUFVSRyH7dLIP2zNEhaQrDGPQPqJoj8s3BLi23R7t3+2K1fHOxjdPMnVn3DdwqE5pKOWLzIjVwm0WciMSpjIVT2YmySOwy9JG85XQWyimWgCP9xk2tuOIpCuZC/mGh3HBH/65fAGmRWI9Qsq1c/OVuoM3mqxFntXXNUYt7DD1eknpkWtueSLMDwTbdWB7YFh2sWYeoX0/tjDaJSVBPycs2ldQBV7h+gxa1kMfWgUErx9QH9cSMXu8ytyntjpSkjdZPvkiU7Dx1bkHtkrkFACQ/bHVt0jf6RzkY+XA2wA88A/1wIjdXayRZOGrk1FG6Qnbwx49xlqDbIPSSe/xjRq24ECxllCzXBPxktJzgBbJfnkd8b+bgAjviobuzxhv1Wpoj98S0BuyOD3HuMarJsAg5CFK30vvhoX1HP7YBAPSeCMJoKAO+Rf5ryVfOAgYcGQYjMBeNtyDJjJOmQYMIxkhxTj9sQMCxrtxgAo3jDpk64MRiMg63i9uecIFChxgHyE+BQaDxBTptTNM3WQFztRvax7+2eo8P8ADdMpPkr+GLkEMOR+YyuOBYd8sEStE7bnJHN33zfpTHPIrq7bS3rVj0+BnVJJ5eDt6uM8cky6phINxJoMe4zfEv4ibaFKog9Z9z7DM2q0T+aRqhQTkNFxQ9s16VhJA5FAAUF5BPbC1f8AHxdys8ZKEuiEC9vuTmy0dVZeAooLXqs49EbhHLVClAH/APOZYjJE3q2qB9W08HnIt1vzz8fDRNEFYB0DWKF81kjO2Sh2FfP5ZaTuQbhuPUWP1xII6fcx+fmsnW05ypGjNdk+ws8gZpICrsVboe/TK3JOp9PIqjhoqDVbwecSpC7dj7RyTyOOgy1m2AtyWUWcVF3OKHU9Tl4UF9xqu32xLkVxR0zHqCL2j3wyPahUonufbISWO2M1Z9TDocZEVF4HF85NrSc6gVd4DdX9Iyzymsc/ce+QKA+5jfbHSrsdunOJpIhYCiRRHH3xmPIOQ2UIPNe+FRY5wMFSjddcK9CK56jCFo4R8e+AS+pqvfAeTa4RySPzwgVgEAoYQMIGEAYAhGRe+PgOAC8IwDrjDAJWEZLwA38YyQA7ibNVVZCMg4Xk385DgCmxkrm8Pf4yXXXpgZSDXBw4cmAePi3aONwpKpfA6hrzRFpKH8X6mpvT2xolXSPRbzYHND2By5RJFpz5r3uN7QeT7Z0WvI4/j/UAMLE6inUD0KDf65IyzSKIkq17UBZPPGTTs3mNI4BVeQFH++NFEYJiwXljZUm+MjW85XAWNvQjgUORlEKLtdzddKPNZftqTc1/POL6k1LKTasbv75LSQxryzQNAcV2ONYAsj7V/TJGFKAAem/2yAA6ggg1xf3xKkQqC4I9rOWbdzba5XnjIkJOocH3q/jGEtOwo7iK3Vxgcmiu2CLcwJ3cAYADIAHrZ2AyRx7DZJNdbOP0Fgce1dsm1rzyig+YNtFao/GOq7VNHkfrkjXy0C+3Q4xUsrGvvWJYICwANgg/kcYqQb685F6H9MYDkqe3IwMQK5oGxgHA479sIPHW8hPGAGyPyOAGzxxkq+uMBQrEEAGMBkAw4wmTJkxkmA4chwBcN/fJkHPTAD06C8mA4LvACOR14OQUevUZKsYevXAB0wY1ZKwBQffIAST+2MAKyAUeuBv/2Q==","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGwAAAQUBAQAAAAAAAAAAAAAABQECAwQGAAf/xABGEAACAQMDAQUEBgcECQUBAAABAgMABBEFEiExEyJBUWEGFHGBFTJSkbHRIzNCYnKhwQeCouEWJCVDY7LS4vBTZHOSwvH/xAAYAQADAQEAAAAAAAAAAAAAAAAAAQIDBP/EACURAAICAgICAgIDAQAAAAAAAAABAhESIQNRMUEicRNhFIHBkf/aAAwDAQACEQMRAD8A3095AgRFlQykA5ckbc9BkcY8hmltdYa1hZ443mcHbuA7oPr/AOE0LUJG2J5w9xjvIpyFPUkkePn/AEpsVxHLabojhEJAI5LN44HQev3VwPkaejtULWy5IVgXbbuMu2ThiNx8z4k+lVrvWCg7FY7i4ZcZVRwfHk8CqtkLl5maXasRU7Vx3h8TVwQ5PNYuUpeTRKMfAPkudYvBgGK2TPdVT9UfKoY9CuJHZpbs5cYbavh4jJo4kPpU6RUsR5teATD7PWwOX3yH1b8qv2+kWsRyltGD57eavpFUyJVqJDmyFIAPCpBApGCoPxqZUp4WqUSciKOBIxhEVR+6MVIEqQLTgtWok5EYSlC1JtpQvpTxJsjC0oWpNvoaXb6VWIWR7aULUgWl208RZEe2u21JiuxTxFYzbXbafiuxTxFYzbSYqTFdiniFkeKTbUmK7FPEVkJWmFKnIphFJxGmV2jBqMxjyqyVphWs3ApSKxjFMKVZK0wrUYFqRWKUwrVkrUZWpxHkVytN2VYK0zbSxHkee+0ftHBpELWsW4zRgExKSSM9Mt4sefh8aJewskl77NrNLE8RaaTCPnIGazsivp3tHdKUdmWTavP1mMm3H869F06HFtz1yahJV+zWd3+h6R8VMsdSLHUyR4qkjOxiR1MkdOVKlVKpRIsaqVKq0qrUirWiiTY0LTgtOC04LVqJNiBaUCnYpcVWJNlXUDtsJTkjjqDjFZSTU0h2xzPMrNnaAxO4A4z6VqNY7ulTH0rE6pEJdSs0yRiEkgdT3sVVaBO2Wfpq2jyryXK4PJ2scU7/AEgsd4UXUvwAbJoZptjdausr29qjrG7RsN75wDjnFX09m7xTg6aceSs2KXyH8S22u268Ga4w37jU631aK4doormcuBuIO4cfGhV/pMum2ct3c2G1IVLZLv4DOOtMsXB1KGQL3XtmYgHOCQDjNNXexOqtG60cs1iN7s7A8ljk9Kv4qhooxZHPUkE/cKv1VEWdiuxS4rsU6CxKSnUlOhWNpKdim4ooBCKbinUlKhgi/vZra8EcQL7/ANn/APpqu1/dqW3wyY8MBf8Aqq1eKDqERPP6QfhUd40kdwyxgFQMj40q0NMpHU7luiTD5L+dOGoTgEGOYn+EH8DUwRyASBuPNIEdcYxyRkfjU0hkJvroKSYZiB+5/nUL6jdEfqpFyOvZnirbs5G3OPQ4qO4LCPBJwcdceJpUhlaC9uGZC0pIZgCrR7aK7aCQSI2qyQoMGMKxHhgmj2KhxRSZn/o2Oa9a4kG9mfeCQOD6Uas4sQdPE1EkNX7aPEI+NYKLNXIRY6kVKeEp4WtFEhyGqlPVacFxTgK0USLOApwFcBThVpE2cBS4rq6qUSbFpC2BXHpQvWr9rZIIYT+muJVUcZwvVj9wpv4q2JbdE2tkfRE24+AP86yN5GTqFvICMrBjJ6HvUa1C77XSLmVzkSShY1/dHQfjWYuxJHNDNJu7fb3j6ZJx8OlZqak6RSVB/wDs4wYr7HI94f8A5jWrlvo45yghBVThmrGf2a3CJZ3buwGZ26kDPeNbJjZSTGQsu7x74wa6YeDGXkEe34A9krzHA7Mn/Cax+kqI7y2QqQjWZIz8BWs9vZ0l9lLzYwP6NuAQf2TWT0qQNdW2V5EHP/0FTJfIuD+LNzoLbtPyeuf6USoJoV0I9MB2k7mIA9QOnzoxHMksSyIcq4BB9KFTdAx9LUTXEaZ3uFABY5PQDqaiivVmvDEgyOzV8/H/ACobSdCLNdilzSVVAJSUppDSoBpptOpKVDsEX/F/CfDtB+FJdH/WWU9WBI+6pL4f61ET/wCqPwqjqdyLe83ZGQoHPrxSfgaLCE7ASCMKOtN4WTHTdUa3KCJcHI2imNcb3VkU5ANTQyWRdzsSceWPjUF0h7NATk5H4il7ZuN57x9ahlkaTBLjavPXxz8KMWPIH21uya3NMVwHSNc56nd/lWmI60GgcPckjphcff8A50aPWk4hkcIqswpiMVwSpoxhBSwDIaFpwWnYpcU1EWQ0DFOApQKXFUoisSlArqWqURWJiupaaapImyOeUQws5x3Rnms5q2oldZTs13dmhUfEgn8KJa3cGKylUAMSmQPP0rLyStJr1rCEZy5Z3boFXqfv7qj41y8894I0gvZduL1YLVSyiT3dR3QerHz+f8qzGoagy3UJZJJDKuWdF4BJNFzEl8t4LZ9sSyAMx6O/jirMHsrfAqFmiVB+zk/lU8K9+xtmag0hELY1C7RSSdiEjk+XFSrZDwvtRIzgkEn+lbOH2cuVUAyrgYwA5qU+zlwZN6sgP/yH8q6cRZGGn0mWSJ1F/eBCuGD7uQfDpVuxDrfIqq5WOErvKEZO3AH8q2Tez9yyYDRL8z+VRv7OXHZgCZcj1/yqlEmxmhpLcezsyDuzK5KY+0OlWNM1VGgdWGwhwdvTG7qPk2apxXMvs/NFa3MeYpj+uB8aF69L2Ut6IiqoEO7B6NjcPkcmuXlm4NTj5WmUtqmErW9bVtTlWQgQnlVHUoD0PxPNE9CYzNdXbdZpiFP7o4rLaHP2Vk77yklyqom8cg5IP49K12mbI7REh4hQbU82x4/OlwNSlYS0gkGp2aiU08Gu0zHUlJmuoASkrq6gAVfjN9CP+KPwqG+W2Nw3aLuYADJXOOKk1AkahEP+IPwqpqGJJSxOCgYcfCl6GPSGI7Cm48cYXqBUTDdLKu1gEI6H62aZBMgWMjPeXIB+Gal3lLqccbTsxikAgjHd8SwyOajkVo42LYAAB4z04zUx3GRSPBWAqJpC8LggZ4HHhyKVDsjRQt1wBjA6UXPWhSnN0p81H9aKsOabQkxmi3FxcRXSXciSSW908O9E2ghcc4oso7ooToo23Oqr/wC/c/eFouo7oqkibOxXYrqWniFiV2KWuooLOpcUma7NOhWcaYxp+ajc8GqSFZmfal5ZY1W1DO6EhsEDBxkdfhQIyzWadpHFK22CNS2M4cIVAJ/iP8q0F8kn0q5DdxsZHnxUAbsUERwqPyQ2CTyawnxxbbY1J+AX7JbVMdtKrRvENwVwcux6tW3hXArL2MKrrKypkgqckmtPC2RRxwrwW2WlqQVChqUGtkiLHU1ulLmmk8U6FYP1SCG4s3S5x2Y724/skePyrA3PbXVtcx9lNzLF+kEZbcg6hQOvC4+db3VhusJwBnKHj5VnLd1WPeeREegGMD8s5rHm4lPyOMmjM77uTWonntZ0gTexJiYeJ9PUV6DouPo6Ng4beNxIPA9PlQWW7cw2zGUDnnPOcjpRPQmxpyeGSzfeTWPHwxhK0Xm5LYbU8U8GoUbipA1dVE2SUlN3V26ihCmkrs0maVDsC6tIU1K3/iH4VRuCsl9MA2SoXI/u1Z15sahb9eSB8Kqtp8r3c06uqiZUxhSTwPGpKI4HMECArkqBk/LH9atSDfKSOGZ1B+WcVFLp8jxABxlenUCmOZoNhYF8MCTjrz/nTSEXUZtpyBnnFQyA+7v3cZxzn1FIlzuhRiDjqMePNMNwNksQBwNoBI+FACxcXWOeFX+tFz1oNEcX2D1KA/jRk9abQh+m6d9He8NNcm4luZe1kdlC97AHAHwq720YH1qHSKrX8pa6lGDgIFAA+fjXXMDSNG0V88aD6yqitu++tEiQj28ePrUnbK3CkZqsCjR4Z2b4gVG8SyZjfmNhQ9CWzrC8uVMkOoPA8iHiSLgMPDjwNXPeY/tioIY0jQAEbRwBXTIrrhtpHlQtIbLHvEf2xS9vH9sVTEJCYSQIPQD+tPESnBOMjxxRYqLHbx/bFMeeMj64pjQLjhufhTQVUADOB6UZBiCdVlSO5R9xKv3WwOlANQ1iyhvmUYeWMDaADyemPIeZrZnYeWAHrilbsHyG249ahqxpUZTQrxb2SS4zgHuKMHnHU1pYZkA+sKsxiH6qMvwBrmt4zKCSOPSnFJIHsVJ0+0KlWZPtCmsqbMAAg+lMUADAUYqrFRN2qfaFIZkx9YVBMqkYYA4pikBcbePU08gxFuXR42BIIIxWNeX3CSQNuLDjIHWtkhKZ2dD86SRCysQF3kdcVL2GJhDqCXG1ATvBGBg9a1GnsscCICcKAOhq9AkgXDbMD7IwKmGB1AOKlKnY/Q2OVfOpVlXHWm78ggRg0sWVJwmM+VXYqH9svnSdunTcKglDGTerEHpxj8qr5YXBckcj7IosdF73iPONwz5V3vMajJcAetAfaBuy0iSdCsbb1GVGD1881mZJpZkPau7LjjvE4rOXIo6LjxuSs0uuTpJeQvHIpCsM4NV5biVbyQBiUCrtUMecr+dZdz2SptOZJZlXcw5PpRVbp47145SNwG37hWSmmzTBpBFLu5Eihy3exgBj4danj1F2kZZlHCAknxyaoxXJF1Ew+qobJPocU6MrJfBnwE2qCPma1RDCjSQMo7rAkbgAB0qO4eBIZEKEOw7vAznw8apouL+NSCy9n59eelT3ajtjiPAUgg+WKq2SVLcyL7USozkoLZDj1yRmtMetBkiUarJKF7zRIu70GTRk9aBDTY7rgzbpB2jbihXPy9KhvLkwSCONFZuBgnGKIxnIGxyMdQaEe0MDrPYXQ4KXUcb48VZgP61bWtGcZWyM6pc+8dmlumNmRI2Rk+PFWobu62DfDGzeJBIz8qk91me8BeJVRNwDBs55H5VcWIAdKxqTfk3VV4KQubjJzCh8uTxXGeY/7hev2j+VXxGK4RDyoqXYrXRR94nAOIFGfHcfyp4up8fqEz57jVwRDypezHlRjLsLXRRFxc7iezTHgMnil94uCeYU+81d7MU+OAyOFUZJpYvsdroFsbl2J2oFIwF8vnXZuAPqLx4bjWlhs4oo8MqsfEkU5IIm57JMeHdqbfYzJ++Twk9rECf2SoJz8fKpob25YZ7JMHoM9K0pt4Wkx2Sd3k90V0sUaRgLGgLEKO6KLfYGe94uiw7sYUdR5/OuM1wf2EHzrS9jH9hfupscamMEooJ9KLfYaM32lyeoU/Dild7hkwAg9TzWjVB2rgouOCOKcVAI7ox06UW+w0ZgCYH6q/eaXNwDkKmB6GtRtHkK5lDKVIBB6ii32BlALk53bW+RGKcDcKOAv86LXNp2LZHKHoag2CqSb9itdAmXULqG6CSxjs2UnMYJbP34qaG8umXIVAD55/OpL60mleNoBGcZDByR92Knjg2IB5U6fYlRX94uWP1Yx8jUbvcHpsGPQ1f2VGycGlT7HaAV+s0ysJSjRkY7Mpx+dAvcpHmMaiJVznPZ5P41qrwAKc0Mt03neQPKs5Jlp6M5qVn7pLApJcdohGf/ADintbRSyvKjFRGAVVhzjOPjRDWY0OoW6sBksuKgn2x3hVSAnZLwfTmhce02PPVDmlWONUC53b0BPh1FQPOyyugXgD8qijIaUbzldz4+GRTZrhu0dkOBww8+vnWhAYE7rcxHqGCDHjyx4qaS7VpZEOcs2B6dOKESXFwbwdnGTGpDK4HB56VYd7mW9LmJtvarkgeGeatMmgvG+bsnP7I/qKLFuaCK4Esh+yAP5miBuVOSGBHpVkBNWd8d0FM/s+FLOYHtSsi91HUjeP2twx/OorFhPbK690HybINQ69qSafYxBmAee4iiQeZLiiLWBFPIJGuFNzyfjXZpGg6lpua7NMB9dmm5rl7xAHicUASRoZH2qMk0SggWBMDknqappf2NmxiaYB/2sqalGr2RBxcoMDPORWUm2UkWj3jjw8aUnAqmNZsMgC5TJ6daR9YsUYhrhcjBIAJ69PwqKZRcRdo56nk0jDdKvkoz8+n51WXVrNuk3+E/lSpqdszHa5Of3TRTCy2eBTIhiFMHPdHJqvLfRdhIVJO1SfqnyqCLWrVYUyJVG0clOOlFMLRfPEoPmCKeRkYqouowSx70YkA+XX0praoiHHYTtnySjFisuiuqmdSiWVUZJFZ1LDI6gYz+Ipp1eAeDdec+FFMLLrKHUqwyDQ6eAwN5qehpr+0FsrMoILL4bwPCkGrpdRuFhDAccNmnFtA0MrqaTSZrYgU1G/SnZqNjQAOvvqGqNn+qFXb8901Qsz+iFZtbLXgp6ov+07Y4yS4H8jTZdHe5w6nG4Be8OmKlv2I1O1IxxKB/hNCtauJVvlRJCoOM4JHhV6S2T7LcXs1h8tOcAk4C+dWBbWGn56PIAFJ+sfyFZuC6madhI25I16efFWYYiEmkdiSrqBn44P40k+kN/thb6YiBdVjG1QTknPTrUsuobTFGEjIm4yQeOn50HfC6jLycKjMRj0NPVnaa2J6M5wM58qdsVIKT4WOUdQFAq5caVEpZot0bAbu42KG3shVGPmoOPnR5jmNj0OMVpimRZhdC9t7mwl9yEULxtISrPnKk9RjOPWit7Hcanq9ncXMpkEcqFB0Ve8Og8K8zluGklTK4kicMADg58K9O0S495t7ZmwWyuceea5OFuUafo0enaNwW5NORWkYKoLE9AKYEduisfgKVtSn05W2WDuowO0CsxY/ADIrdukSlYQTTCVBeTB8gM076MGOZf8NDR7TyM21bG53YzgwSZ/Ckf2kugygabcAk7RuhcZPpxWWb7NMf0ExpgxzIfupRpqjntSPlQqf2mnt4TJLYToq8s7QuFUfHFVbr2qaWC2Vo9iXj7EZQeRkZ5PTr86T5K9jUG/QzW4HlBmtZyqRAlnHBOPlzQm1tby9lcRX0mYeCDtGNw/hrQXCBrOZMcGNhj5GqGgNmG4PGd68/3RWcoy/KlfkuLX4268Ay5sr3S4O1mvpAm/jaFJBwf3fSrsek6iW7U3z7mA5DgZA6fs+td7UkmxgGSFMpDY8tp607T5tYWzjXs7aVQi7Hk4JGOM4Plil45HFtjW4KSSFOmaqTxqMuPWX/ALaCSajeQ6lcWsL6hNLC3f7JyRkmtF2utE/qrEDy73/VQrS7qWTWb73GG1W6B/TsyvhufDvedTPTSVlQ2m3RQuNU1G2t3luItU7JFJfc7AAevNUrbUJ762Wa1tNReMkgFJXI48PrVpNfbVX9nr5ZhadmYW3bFOcY9TQf2FTVfoIGynhjgMrZEiBjn8fKoeWWO/8AhaxxvRXe6vEj/S2N+yLzhi3OP71GdG01dY01boO8IZmUIWYkYP8AFRCRdbWFy93alQpLAQjkYqhoP0lc6SkljcW1tAWbEfu69c8noacYtSppslyuNqkXz7NQFMMysfMoSf5mhUFjbN7Sy6Y0cYEabg+0ZbgHp8z91FWt9bKHbqUIbHGIVH9KGacLke2OLyRpp0jZWkKgAjbxjAHFVKKyisWtii3T2nobr1r9Ey2gt7aKSKZ9jMYx3TRTRJdlqshVV7T6wC4xzwab7TgNYW+RnFyhH3NQ2L39IYktSjLtz3n24z8qqMYw539CcnPh/s2URU8lQfSiEUMDrkRr91Y+CfVSFRkgBwME3LYPmBhatQrrCyYL2qg9D20mPTwrpk8vCZzpV5ZpJ7KOVO6AjeBAoTMjQuUcYIqM6NqN8yGe9hEYIyse/IHjgk1cj0LsIdkcxP8AHkn76mMuxtdAO+5U0Osj3MepopqltLa5EiEeR8DQSzlxK8bYDA54OeDVexejrzB1KHJ47RPwNBNcBj1Hd1wByfhRPUJMahHz/vk/5aC6vJuvm5JwoHWra0SvJUtHka+dT0xnPnkUQikBRx13FT/iFCrWR/pCJlXarYDZ8tv51dWWRcB1AAXB2jjhqUUNsuTORqTNgHcjEj5H8qhjkZrm3yxJEjA5PTG2mydo16Du3Aqwzj06UkccnvasQSN7HgdMkflVUKy/fXoeaSHGCsSsPhkitKr/AKPPhisbdRut+84XA7AJz8SSK16ZMOP3RVxIZ4rpVvJcSZVHkK+Qz8q9u9hvZKa2s0udVi2H60UDdR6t+X30D9m30b2XcuYljKL3WcF8vkDOeucZxWnPt/Yp9eeLIGdoVsmuPUV5Oim9JGs+FceKx7/2hWS5AurbPh3XqGX+0W3GRFcQZHnG3NK49oeMujbdBXDzNYiP+0S32ESzoWOMFIW4+OTV2x9rxqG4RyfV6kRY/GjKL0mGMltol9tNUFvot1DHtb9Gd4PII8R91ZG+vO29nrF1ABtZQAfTvL+VSxX76/BeFuBJuRVJ5AZenxzmhdhvn9k5x17NQ5554Ab+hrnk3JWvaZvFYun6aNh9K9rGe6AHU8/EVQ0u9NqkqhQd5Ruf4RUFkxfTo2BX9Xj14GP6U2zjZ8nj6idfhVuUnywf6JUUoSRY1u994so1IAxKOnwNXodVYQRgKv1B+FCNSiKWik4/Wr/WrcEDG3jPHKD8KuLl+WX0v9Jaj+NfbLv0s4P1VoBoN00Gvaiy4zIT1/ior7s2eq9eaDaKn+2r/kDr1/ionlnGwhWMqDWp3zz6XcxHGHjYHj0oX7F3jW+gGMY/XN4fCiM0G6F++pypHShXspEfoyVSy92dhwM+VU1LNMlNYNB651GQ2cw4/VsOnoaHezl29voMaR9A7eFWbiE+5zd/J7NvD0NVNFiP0UnJHJ4xQ8s19P8AwFWD+wmdUl+1geeKFLqEj+0zSk8rGUB9MCiHYHHVh64oVHGP9I5AScY6/wB0UuVS+N9j48fl9FnWb2SWCAFsgTqcH51Sj1Vor7sXwI44Axby5b+WBVnVYV7GHaTnt06/GgV5j3jUWU9I1iB+J/7qw5HKPL/RtxpPjNxaypNEN5yrDPNX47qKIYlcEDo2Ovx9ayPvLWWjdqrENEpYD59Kqy6tqfad6JVZfDtxx9wrp/kYpWvJh+DJumeiW+owKwKSbs9Rg1YbWrFWCmcbjxjaa8w+mdSClSVQAc/pW4HyFNGo6hcFVEqsw6AB2rN88X6KXA17PT7m+sLi3Mc4Esbg5BXPp8qwurWdvpOoLLp/aywzjBRxzHj18RzQ21N572pndQowXXawJHQHJNEXXePrMavikp76JnHDXYOve2upEeLEZRg2GXOeMedUpbjUlY7Wth8YSf8A9UTlt5M5VmzUfubSnJOG9c4Nb5P0ZYoGrfaqOO3tx8IP86VbzVXPeuU4+zCPzq8bFg3OKeluR0B+VLJhiiqs1/nLXeB+7GoqUO7HvXL58cBR/SrIg73Jp4t8DIBNVkxYopNHG2QZ5GyMZbGcfdV8612DlXtZjCAAJUIf45XqP50ww5HTFKsWKFNoMUf/2Q==","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAHAAAAAcBAQAAAAAAAAAAAAAAAAIDBAUGBwEI/8QARhAAAQIEBAMFBgMGAwYHAQAAAQIDAAQFEQYSITFBUWEHEyJxgRQykaGxwSNC0RUzQ1JicoKS8CRTorLC4RclN0Rjc9Lx/8QAGQEAAwEBAQAAAAAAAAAAAAAAAQIDAAQF/8QAJBEAAgICAwACAwADAAAAAAAAAAECEQMhEjFBBBMiMlEjQnH/2gAMAwEAAhEDEQA/ANbGkKJVmEEtHAbGEGFIEdBzCOQQHIrvaDTFVTBU8hoXdYSJhA5lGpHwvFjjhAIIUAoHcHjCyVqjNWqPL615mr8U7dRAQ5ZWpuPtEli+kHDmL52QtZlK87N/92rVPy09IhleFVknTcRw8a0cjVC3uTjZBNjeJOYHdspaPE3V5mIhh0Km2EnbPEm8suuJPPxfpCyXQrLz2eI77FMgTshl935ZR9Y1mMp7LzmxM0D+WRdt/mRGrR1fHVQOnD+owrq1NYdqK0Gy0yjpHnkMef6a1lpdxpdBMegq0M1BnxzlXR/wGPP8kSaW2kj+HEvldITO9IbTCu8mWRpvc+ghdxfgPUaw2UAZ8gKuAi/lciF5jQAdQY5q6Oc2LsulBLYFl3B700668T/iyj5JEW21zbnpFe7Pf/T6j6W/A/6lQpjavIw1hGdnioB3IWmBf3nFaJ+G/pHpx1FHctRPP+KJ79qYvq02k3S7NuFJ6A2HyAiJKi44kHhB2B4dTe/GEleF2/8AreI9sgOXnM2YAi0cQ4t7K21fkTBZeXcml+EEJJ32vEmgNSCcjeVbhFieQ6RN0hXoaIbLJs2fH1Tckw+lmu6u5MLDjnUXSj04n5DrDdakttKfFwu+VPTmfT7w2dmSUJSm4AjJORkrJpNXC7tZjkUCFEm/SIQtuBZ8QsOPOEEOFJMKd7dNiYp9ddD8RdHgF7m5+cSM21NS1Kk5l1tSGZlKiw5wVkOVXz+sRzTYWjPe4G9jG803B8liHsnplLm092oyyXmnQLqZcVc5h8dRxGkLCPJ0CMbZgpdzCxOu8JqXp1GsPK9RJ7DNXep1RayPNG9xqlaTspJ4gwwJCtx6xaqGoWLhIAB04R1p5bDgWhRSsG4UDqDwMJMkL/Dv4xqnr0gKNxyjBPS+CcTN4swxLzwI9oA7uZQPyuga+h3HnEjWaPK1+jzNOnkZmJhGVVt0ngodQbEeUedsFYym8F1gTDQL0o9ZMzL3tnTzHJQ4H04x6Io1akcQUtufpj6X5dwbjQpPFKhwI5RROyidnmesUyYw/W5qmTf72VcKCeChwUOhFj6wzU4UqDibEjcHiOIMal2802VZdpdTRlTNPFbCxxWhIuD6EkX6xlOa6ed4m1TJtUz1faOEQeCkRQscSbGFN4iazXZSiMgvkrdX+7ZR7yv0HUxSKpjCqzmYNv8AsbXBtk2Nuqt/haObL8rHidPslPLGGmabY22Mcim4JlHppxc9OTT7y+7shC3CQArjvy+sXICwA1001iuLJ9keVDQlyVmadtWHPbKOxWpdP4ske7eIG7ajofRX/NGPpcC0WO8epZ2TZqMg/KTKc7Mw2ptwc0kWMeYarSnqFXJymTP72VcKL/zW2I8xY+sLkj6JNejVtWSbavpZYvEwg5kKVrcHKIhHAVIzX1G0S7LgW1cH3hm+P+jEJrRKSLz2YvhrF0kg7uyr7fr4VfaNgjBMLVMU7ElHmicqGplKHD/SvwH6xvlrXEWwfrRbF0ITjfeyEw3a+dpafikiPO1PXlkUAn3fCY9IJF1AHnHnCaaMpOzLI/huuIUPJREJ8lWkLmVpDSW/FqS/8IPz/SF523jsdjeEJFaRPOK4XFz6GDrduVciLxzVs5/TVOzPGFLThFqnz09LyszIlScr7gRmbuVBQJ33t6RQ+1HGrWK6y1KU5ZXTpK+ReweWd1jpbQep4xUJloKUTbjBAMqQv+XfrHZydUdHJtUcTZJ1NrQtKyBmXMzmievLrBpaUKj3jo31Sk/Uw6LqkJKEnffrEnKtIm3/AA5NPNtNdy17uxWNL/pEeABqh1JPK8aT2RUGk1mdnZqooRMzMmUlqWcAKAD/ABCPza6a6D4RqruFKDOJCX6LTnATxlUD6CKQx2rHjjtWeaZm4lW0k3snYczrDK/huYl8Robark+3LpS2y3MuIQhI0SkKIAHSwEQx0MPFUjJUDiYAOlo4d/OObaw4wq26pokpOpFiOcekOzvFVOxDhaVblXkiZkmENTDCjZSCkAX6pNtDHmzYGHFLqk5Rai3PU59cvMN3yrTyO4I4g8QYypOwp0z0rjDBVOxnTgxOAtTDV+4mUDxtk8OqTxH0MeeMR4dn8K1lyn1FGVxOqFp9xxHBSTxH02Mb1gDtAksaU/uzaXqbCB38uTv/AFo5p+Y484mMRYZpmKqaZOqy4cTu24nRxpXNKuB+R4w1WO1Z5Z6jTrC5UHklaQAtI/ETz/qH3iyY37PKhguYDqj7XTnFZW5pKbWPBKx+VXyPDlFUzKQsLQSlSToRCUJQskC0P6TWqnQX1vUiefk1rFllpds3mNj6wyTZxsrbFikeNsfl6jp9ICVaXgCitTqc/WZwzNUm35x61s7qyogchyHlDRwhINoUWrS8ItMqm5pLSeO54Ac4Bj1tETiGvM0KSKzZT6ge7QfqekP52cZp8i7NTBs20nMeZ6DqYyXEFSdqEwHppRzPuC+uiEjZI6CIfL+R9S4x7ZsuTgqXYHZt6bfcm5xRW674io7gcBCDqgtCQeJvCE0+S1oSCtQAFuEFL2dTRWLAk6pPGPCpt2zgLdheutSdRkw4sJZdSZdZJ2UT4SfXT1jRCLRgLjqkrdSq+RZ8Q5dY1HAOLBXJAyM25eelUjxE6vN7BXmNj6HjHtfDyfjwZ2YJ/wCrLZGQdtuGy1My2IZdPhctLzNuChfIr1Fx6CNf2hlW6RL16iTVNnB+DMtlBI3SeCh1BsfSO5q0dDVo8tqXobbHeHMg4Sxl3ykp9Nx94TqlOmKJVZqnTqckxKuFtXI22I6EWI84JJrLc1lvYOC3rw+cQa0QaJRtf4JTmtfQHrHoLCFdTiPC0nP3BdUjI+B+VxOih9/Ix55Fu6F+cWvszxinDeIVSc86G6dUCApSjo05slR5A7H0PCBidMON0zdI884rSGMX1hoG2WcdIHmq/wB49DWvpHm/F803MY9rDja8yFTiwCOht9ofMrQ+TaI6VOV54bXKVfUfeDurCXADtYiOEATZKfztKA8xr9oSmVpUgKv7w+Ec1WyFWNHnBmKeN4dysmGGg9MjxEXQ2Rf1MKSMhlUH30Zlq1Qg/Uw4ff7gqBssqOphnLxBb8EFVMMp8bYOY/vBqDDF6dbVfILeUFdTnJscpPwMNltlvT5w0YRCooc0+rzlHqKJ2mzLktMN+6tB+IPMHkY02hdvDjKEIrlLDpTu9KLy36lB0+BjJ99CILYHTWLLQ6bRLVR3v5l125u6tS7+ZJ+8RpEKl8PJTfRYFj1hNRMFaMghFhpABuI4VQW+uhhkEOOPGOjlBQq/vD1GkdAJPhUFdDoYJheRnpmmT7U5IvLl5hhWZtxBsUmNwwR2x0+sNIk8Qrap8/okPHRl7rf8h6HTkeEYUQQbKFieBgpTm/1vAugp0eupmWYn5RyXmWm35d5OVbawFJWk8xxEYb2idlj2He9qlDQuYpY8TjV8y5b/APSOu4484hMG9ptZwgUS+b26nJOso8r3R/QrdPlt0jVJftswlMSJcmHJtldvFLrlitR6XF0n4w2mNaZgaVEKCkEpWNlCFgsO3KEhLg1UgbK6p/SOTr8vM1GZdlGixLuPLU01f3EFRIT6CwhupXEHUbEcImTOuuaHWH8gx3EoXD77w06J/wC8NZZj2+YR+Uk+O3TcxJPLSb5E2SBZI5AQsn4Bm29o864mWlpJki67uqHO2g+d4zaozl5hCnG1Jyr1ChpFs7Q6jkxYWzcoZZQk2G17qv8AOKlOuB5s+LMg8RsY8rPcs7bObK7mwi387hKVHKgeG54xx2ZLfdG5Kc2YiI9qY7nOydjsTCrr6FOJCBwMD66YvHZITSELBcbO+qrcoZSk9M0eotT0k4W3mVZkEfMEcQdiILJzSgruz6H7Rx9H4nh87Q2NODGjpm5YUxXJ4spYflyG5hsAPy5Oravuk8D94mo82SFTnaFUW6jSniy+0deIUOIUOIPKNswXj2QxhK5ElMtUW03dlSd+akH8yfmOPOPVx5OS2dkJ2il9t2FsyWMRSqNU5ZebsOH5F/8AT8IyVYGXMk2I5R6sqdOl6vS5mQm052JlstrHQ8fMb+keX63SZjD9bmqZOD8WVcKCQNFDcKHQix9YMl6aS9FZZ0PhKjs5e45K4/rCE0nVSSLwnJrCXS3fRz3TyVw/SHC/GTpqfkYjVMl0TlJ7U8S0ajKprMw282lGRlx5GZxkf0qvrbhe9orDThuVLUVKUbqUdyY6pACiOcI3yrt6RS7Q12P0ukONW1KVj1vDuTkQye+mQFAEhtHPrHKbJWQZuYGVtPuDiowq6rvzmUfK2wHKOdvxCN0PMjlQdZkZBpT828oJSlA1UrgOg+gi2o7DJ1+UDkzXWmpsi5bQwVtp6ZrgnztFWwbX2cMYwlZ+cSpcunM24Ui5SlQtmA6fS8egKfUpOrSSZqnzLU0wvZxpVx5Hkeh1i+KKopjimYPV+yLFFJQp1hpmptjUmVXdf+RQB+F4pjgcZcWzMIW26jRSHEkKSeoOoj1nEXW8L0fEjeWr09iaIFg4oWcT5LGo+MVcUO4Hlom3UQAUkWvGhdo3ZtJYYXKO0l+Y7qaK0lt8hQQUgHRQAOx48oz56VdYUQtO3EbQmroTp0cCRzt1jo03N4SzGASYajCmRCvzawUsn8qgYIDCgNxG2giZSpOhBjlwTa+vKHCRrvHoDBeEMO1vs6pkvOyMlOuFnO4dC6hSiSfEnxA6iCnYVs8+NvKSnKrxJ/lVr/8AyFB3aj4Vls8l7fGNbxB2BXcW5h2pBAOolp0HToHAPqPWM7xBgTEGGEldUprqGB/7hqzjX+ZO3raDRqId1tSD402vsdwfIwTJxEBtxbYISfCfynUH0hVCmnDa/cq5HVJ9eEKASGmkFUbDrCjqFNGy02O46+Uclm1TMyhtIuVEARjEtTGhLU9TzhALvhTflx/SA6+ALpbWocwk2iTmCmWUhlgJHdJyZ7XPXyiNfmnVk/jLJ/vMSTtidmkdoqSzjd5R17xhpVuliPqIqakJznIrTe17GNyr2GKdiVkCcQpLrdw2+2bLR0vxHQxTJzsieUT7JWUEcA/L6/FJ+0c+T483JyiJPFJytGePy/eouB4uZiOWiYZc2JAOx0+cXue7L8TSrZMs7KTgA91DpST6KA+sU+qM1GjulmqyUzKL5OJKQfI7H0hVjnHtCqEo9jUTaVKIN0K4g73hYTOZFs11DWI5ybQpOqAbcFQilScwW2XE+Xih/rTG4j9agQVJvrDZDr0pNNzMm6uXmGlBbbjarFJ5gxxpxQUQlSHAfy3yn4GE3FELykFPLMLQ8VQy0bTgDtUl68G6dXFNytT91DvutzHlwSrpseHKIXt4orLYptZQkJfWsyrv9QAKknzGo9YylxGfTrCtQq1SnmGJeen5mZYl/wByh1wqCPK8dClaopytUNgCR1h4Xs7CHhuTlX0P/eGaHOELMkBwoPuOi3keBhGhaBMG1iNYeUml+2O988LNI8RJ2hOmUx6fmkthCjdWW3EnlF3m6Kil0dLi1oSyB4jwJ/TlEpypUgN0QM4puYyjOWAjRObVBHXkYj1pU0oFact9iNUq8jCi5hLqjY3EJtlQCkoULcUHVKvSESrsn/0ScUlxJCh6iO0yq1KgTZmqTOvSrnHu1aKHUbH1hFxwJdIAyK/kJ09D9jHO8SvRVwoc4qrQytdGj0LtzmGcrVfp6XwNC/K+BXqg6H0Ii+UftIwzWylMvVGmXVfwpod0r56H0MedlpSb6gwh3YOkVU2VU2ehe1WTTN9n8xNpUM0ktEw2oagi+Ui/UKjAnZsOlWlwYMxVKjJyjstLT0w1LvJKHGQ4ciwdwU7QwJ3uLeUZpSdgdSdiiiNbphMAdI4VXGh9DAuQPECORgoAYFHEGASkDS/wghUI5fiIIRUODkT56R1Mw63Md804tp2987aikj1EJBYO4g7YKlWQknoBGCWek9p+K6NYM1h59sfwpsB5P/Fr84u9I7fwUFuv0UKuLFySXofNC/1jKfZVFObIAOpAgpkxbxPy6PN0faMpGUh/i6pUiqYkfm8PyLlPk3QD3LltF/mIAJCQdNPPyiH0IMHVLC/hmGVf4oL7M9a6QFf2qBgm7DNzBbTkV42juk8Oo5RLYbk80+p8eJLCSoE8VHRP6+kQeRYXZSSnzEX7B1JZnaK4VKdv3njS2oJ2GlzrzMJN0gPSFqQ1JSdQbm6jLmfbQrMuXK7BfQnlF8p9bwDXE9xUKNISDitMsxLoSk+S0jT1tFHnaUmUC1SanboF1NLVnJTxKT9ohXnQpOttREYTaFjJo3vDFfbrMq4hRCZlhRC0DiLmyhE1GCz85NU6rvuyb7rDrD6wFtqsUnMflE5Te2KpyWVFVkmZxA0LiD3Sz9R8hDYs1qpDwyeM16E3mGpllTT7aHWlaFDiQpJ9DFOkO1vD02AJlU1JK/8AlazJ+KbxOyuMcPzoHcVqRUTwLwSfgq0XUov0paZA1rsiw1VipbMu5TnlfmlF2Tf+w3HwtGfYg7IK9RW1vUxaKtLp1ytpyvAf2Hf0J8o3BqelHxdqal3L/wAjqT9DCinEITda0JHNSgBGcUwOKZ5SdUcym3G1JWg5VJWmxSeREGbdWlNgu6T+VYzCNT7ZpSgPybVRlpuVFYS4lCkMuJUp5BvfMBxHAnyjKbpI8O/1iTVEmqOq7pSrKHcK4EaoP6Qm+0tGjgGuxGoMcN1JIO8cYmSwC26nOyrdJ4dRBRkIo0v0h5ISypl0aHKDrDiWoq5tzMwsKZIvn6cvONBwRhtlsJqEw0VNN/uE6eJQ/OfLh1hJTXSNZJYSwj7JK+0TiLPODVJGqQeHrx+EW+RpdLmHu4qEqzMXA7tDyApAI5A6XhNuaQWQpshSVC6SOMM5hSnEEkkEcYkpKLs10KV7sroFYbUqVY/ZcydnZUWST/UjY+ljGP4mwxVMIVQNVJsFpejUw3ctujoeB6HWNrpFffaIZnSXUcF/nSP+ofPzidnJKSrNOVLzjDU3KvDVCxdKuvn13EdC45FoelNaPMD7QeTnSoE/WGqm1ZLb22CvtyjVsUdjT8v3kzhd7vUb+xvq8Q6JXsfI2PWMznWJiRm1y0/Luysw37zbqSlQ8wYTi4k+LRH2ynS46H9YMCkbjWFFpC9RoYSKd+EMnZjqjyhIp15wYg2tcwQkjQwyCghTHASk6E2gxjhTDIY6LL3Sn00gyGG1H3ynzFxBEm0WvBGAqjjWcIlgJeTaUA9NODwp6AfmV0+NoxqK6uRdZYDwLamyrKCki9/LfjC7FHqs0P8AZ6fPvA/7uXcIPwEem8LYMpOEqeJensBThsXJh0BTjiuZPDoBoIkqlW6fR2yuozzMqLXs45YnyG5+EMl/RuP9PLycCYndRnTh2qEc/ZVD6xFTlOmqbMGXn5V+VeAuW3myhVudjHouodqtNbJRTJWYnXD7q1Dum/idflFIq0vN45qzc/Vsp7tGRpptNkNpve2up5kk/CElOKEcoroyhEs457qCfSFGqRNzC8rEu4tQ/lG3rF1rFco1IWqUpcsioTSdCu/4ST6e96adYrU9UJ2dbtOzBDXBhoBtHwH3hVJsCbGcvJOCcDDjgW4TlDaTmNzsL7RMlNawrNKKUuS5PhWkiwV5jY+kTGBcP3KKq82AhKsrCbaE8VegvFucrbFPcUqblWZ1hfhcYdSClY477HkYnKaumZyKrTK63WGVFae6mWRmtmvfqIZVGRzrU6ycqj7yBsT05eUFxFLyFIr6ahQHCunv+IMqvnZv7zar8twdbjyMOSsTDAcQQpKhcEQGlHaElp6JHHbBpmNqi2rwtvOd4PJQuD9RFamVAaA3TxBjVO17D65qnsViXRnMqC1MAC/4ZNwr0P1jHVqUkEJVpyMLLHxkwyjTHLZsfBZQ5EQqUtueFbdlHmAYZNTRbRZaLgcRCn7RQCAELv5QGmCh8KYxkuZcE80w1flGVEglduRUbQX9rOIvlbUB52hD9puuKJS02DzVdUaKkBJhTLtoVYNi3QQkqTdzZm0KtzItAW/MLVYvKF+CdAPhCS7FXjUpXVRvFlZRC3cKt4i2D1cEILlL69+wPNyCLCbWCPWH1GocxWJ5EvLNZ1ki9xonXc/pxhlrYSyYRYlXqe5KF9tMwr3SDz4xeqnMqpkolDTam2EpCUKUnQC3G0StA7MKXIUplM6hxc0klZWhzIoKItrbfy2HWEquubwytMtOJTOyLoIQ8lHiSBwWjYnqPhHPkhJfkCUXVkThmouvNuoeuS2sqT4bXCv+4+cSz8zZJSQm/K8Rq5JTpRPUtxLzRSQptB1I6dRyhJSzYApVnG4I1v5RHlaJ2Oi8G/xFEgjXUweVxlN0pVihLzB1Lari3UHheIt1xSvCVCx5mC+zKd0AseUKpOLtCqTXRe6Zjqi1JsZpkSjp3bmfD8FbGFavQqDjSSyTrUvOpbOVLzSxnbPJKxt5bdIr1GwEiayv1AZGzrkAsVfoIvEvLMyjCWZdpDTSBZKECwEehilOSuSOqDk1+RiuJ+xqpUzNMUFw1OWGvcKsl9I6cF+lj0jPHWlNPLbeQttxBspC0kKSeRB2j1jEPXsJUbEzdqtINvrAsl4eF1Pksa/aHcF4Fw/h5iKCQbbdITKOca3W+w51vO7QKkF8QxNjKfILTp8RFDq2F6xQVEVamTDKQdHSjM2fJQuPnCNNE2miu5DewgFvpEkhptxIVlTbmDF7w72XT09RTVplgBCSFMyqkkKdTxURy5Dj9V5vxATZUMM4YTUppqYqanZemhXjU2B3jgHBF7D/ABHQdY1b/wATqZhyltyFFo3cS7CcrSHHQPWybkk8STrFHqaHm3HApRASbDl6RDONKKj4wq+piccsmKpstNS7UcRVZKkImRJtK4Sycht/dqr5xCyilTD6luqLjizqpZuonqdzEdYITqbDzjrFWTK3KApauQP1MF3IDtlmWtiRSH5x9LTTY8RJ+QA49IrtbxNN1hBlZQrlKf8A7sGy3eqz9tojZh16fmO8mFZ1X0T+VPl+sGVlZbvcE7xoqgJUJJQiVbsgeIDWGK3VOu6a24QpMvEi194ksJU1M3VkPPgezSxDrpOxt7qfU/IRVaVsojT5eVVK0eRlQLFiXSFWHG2vre8VSus1FM5lclJxCNCkrl1gEHY7RreAFS9Rk36glOdSXO7Ssjaw1t8Yt9zzPxhYYuS5MKhezEaB2b1TETCvbGVSEspJs6+iyieGVO+/E205xE4Wp8qxXpjCuJUqk3VuZJeaQbKZd/lPBSFcL9LWvHoSM37XMFftan/tuno/2yUT+MEjVxscfNP08oqsaih1BJF8WhLiFIWkKSoWKVC4I5ERi3aD2dvUSacqNKZU7TVnMpCBcy55Efy8jw2MbXAtBlFSQzjZ5XUkkX8JuIKlKkg+EXMbXjTsrl60tU9Re6k5w6rZIytPHnp7quuxjI6xSKhQpwy1Vk3JZ0bBY0UOaTsR5RzuLiRcWiOWFLFlEWHCC2CUmw15wpc2JsLQkUqXpaAhRIne0AIv67QqmX1sBmPACHrMkG7KXqr6QXNINjZqRVpfRXG/CNaw3RW6HhxgoRlefSHXVEeIk7fAbRUMJUBVfqwzJPsUsQuYWdjyQOp+l41B5JfeS222XXnPcaSOHPoOsSk3JA2wtOx2iWdEvWUlKb2EykXA/uH3ESldlmcS0BSqa+1MLbPeNKaWFXI3HqPnaI9GA0ThzVN+wO7Uvp6FR+wiapeGKRRbmnyDTK1e85qVnzUdYvCORx4z6KRUmqkZC5XDTJjv5RxTaybOJI0X/cP9GJ+QrtPxAgMOr9mmiLAZtz/SePkYc9oXZw7POqqlAbK31m8xKg2zn+ZHXmOO++9Qp3ZviifcH/lxlEfzzLgbA9NT8o53ha0S4NaJSpyFVpb3eJ/GZAsHEI1T5jh5xdMHYZdTLon6tmU4sBTbKxYJHAkfYwenYSqdMpLbbtQTPvJHiQpOWw5JUdT/AIvlDiWrE1IL7p9KnAndtzRafX/QjRj9cv8AIgxiou5FmjkNpOpS08LMueMboVooekOo7001aOlO+jkCBAghOQOBHA7jnHY5GMM2sNUZU37WaTI+0A3Dvs6c30iVgjI8HrB4KSRiqYowHK1wOPyhTLTa9VaeBw9RwPURk1fwZVaGta5iQf7tOpcbQVt/5hpHoSOiJPFFu0TeNPZ5MmHAVKAsdecJIcCCY9ST+FqHVFFU9SJGYWdSpbCc3xteGqsBYXW3kVQKdb/6AI31g4Hmf2gJvoekIOzBUbq0849MHs1wko3NAkvRJH3h1JYHw3T3g7K0OQbcGyu5CiPjeCsZlA89YVwBW8XzSfZJZbUqT45x5JDaR0/mPQfKN/omAaDRaMxIJkGZkNHMp19AUpxZ3Ur9NhFiSAkAAAAaADhAh1FDJJBWmW5dpLTLaG20CyUISEgDoBB4ECGGBHCLix1BjsCMYbCBAELIa4q+EAIVDZVqdoSqVJkazJKlKjKtTLB/I4m9uo4g9RDuOKUEJuTpGoBkmJOxNYWp/Ds2ko3MtMqsR5L4+o9Yo8zgevyCiJiizpsbXQjvEn1TePRTjpcNtk8oKIlLEn0I4I89SmEMQTKkpYok7ZR3U1kHxVaLFJdlVSUlLtZmG5VsmwYYPeOrPmNB842OGNUrNNorYfqc6xKi1klxdifIbn0hPpivQcEiFpuHXJWSbk6fLpkJRHFeqjzNtyTzMWCSp7Eg2UsglStVuKN1L8z9toqc/wBruGZNJ7p6ZnFDgwwQPiq0RzfbhQyod7IVFsE2uAhWnP3oaMYRCuKNGgAE6AXhnSKvJ12mNT9OeD0u6PCrYg8QRwI5RGYpwuvElLcZbqM3JTAuW1NPqDd+AUgWuPmIqOT5097TzjoSbbG3lHlyty1So9Ufkamp5EyybKStaiDyIPEHcGEZSsT8osmXn5uXURu2+tN/gYTmJzo9UwhNSbE43kfbCgNjsU+R4RglD7V8SUdaUvzIqTA3bm/EbdFjxD1vGvYRx5SsXsASrncTiRdyUdIzjqn+YdR6gQbUtDJphZ7DrzJ7yVJdCdRbRaf19ITlMRTUmru5xBmGxoTstP6xaYbTtNl55JDyPFwWNFCIvC4u8boRwrcQSVRlqggqlnQsjdOyk+YhxFRn6DNU9ffS5U4hJuFt6LT5wrIYpmGSETqO/bt76dFjzGxjLNTqaoynWpFpjkISVQlqg1nlXUrHEbKHmIXjoTT2ii2LtfuxB4K2LNiDQQnI7HI7GMCBAgCCY7AgQIxgCOxyOxgAgQIEYwIECBGMFQ2EanUweBCTrwTonU/SMYMtwNjXU8obrWVm5MFJJNzrAgBBA21gRWcfyFZqWHVS9EIOcnv20qyrcRySfqOMK3SsD0VzGval7K4uQw4ttbqbhycIzJSeSBsT1OnK8ZTPTU3UJtyanpl2YfcN1OOKuT/rlB5mXdlZhTT6HGnEkpUlabFJ6jhCBJSdfF5xzOTb2c0pNhCkpN1AqB30hJWRQJTteF+80NyR5w0dOVZWixF9bcY0TI1TsWqxl56bpTi/BMJ75sH+dO/xT/yxrseasLVs0atSk82b9y4FH+3iPhePSMtMNTcq3MS6w4y6kLQobEHUReD1TLY3qip9pWCkYsoSnpZsftOTSVS6hu4Ny2fPhyPmY883v4SLW3BG0et9o89drGG04fxo48wnJKVIGYbAGiVX8af82v8AigyXppL0pyVEpsd4VYfdlZht+XdW080rMhxByqSRsQeEIgWsYOTr0MTJm19nnaoK4+ilV4ttTyrJZmB4UvnkobBXyPQ76THktPAjfnG19lnaG5XAKLV3M082i7D6jq+kbpV/UBx4jqNXjLxlIy8ZpERlRoMrPgrA7l4/nQN/McYk4EM4qSpjtJ9mf1GSmqJMBT2ZsXs3MNkgE8r8D0MSVMxg4gpRPp79HFxGix5jY/KLh7Ml9pSHkJW2sWUhQuFDqIq1WwA2cztFeMurf2Zw3bv/AEndPlqPKOf6pQ3BkuDjuJZ5KelagznlHkuJG4G48xuIcRkq5udoVR7uebelJgapVe2nMEaERaqPjcrQEzoD6R/FbFleo4w0c66mqMsnki4QIQlJ2Xn2u8lXkuJ423HmOELx0KntFQR2OR2CEECBAjGAIECBGAdgQIEYwIECBGMf/9k=","data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBggGBQkIBwgKCQkKDRYODQwMDRoTFBAWHxwhIB8cHh4jJzIqIyUvJR4eKzssLzM1ODg4ISo9QTw2QTI3ODX/2wBDAQkKCg0LDRkODhk1JB4kNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTX/wAARCACgASADASIAAhEBAxEB/8QAGwAAAwEBAQEBAAAAAAAAAAAAAQIDAAQFBgf/xAA+EAACAQIEAggDBgUBCQAAAAABAgADEQQSITFBcQUTIjJRYYGxBnLBIzNCUlORFCSCofBzFiUmNDVDYmPR/8QAGQEAAwEBAQAAAAAAAAAAAAAAAAECAwQF/8QAIBEBAQEAAgMAAwEBAAAAAAAAAAERAgMSITEEE0FRMv/aAAwDAQACEQMRAD8A/QlWOFhVY4WTpYULCFjhYwWMsIFjBYwWMFgeEywhZQLCFgMTyw5ZQLCFgMSyw5ZTLCFjGJZZssrlmywGJZZssrlmywLEss2WVywZYDEssGWVywZYFiWWDLK5YMsZYllgyyuWLlgWJFYMsrlgywLEisUrLZYpWMsSyxSsrlgIgWIkRCssRFIgSJWIVliIpEYc7LJss6GGkkwgl64EcLCqxwswlduFCxgsYLGCx6MIBGCxgIwWMsKFhCxgsIWM8KFhtGtDaAwuWbLHtNaAwuWa0a0NoDCZYMspaC0BhMsGWUtNaAxPLBllLTWgWJZYuWWtBljLESsGWWywZYFiOWLllssGWBYjlilZbLAVgnECsUrLlYpWMsQKxCsuVilYFjnIilZcrEKxpxzsskwnSyyTLAsewFjARgsYCc8dwAQgRgIQJRYAEIEIEIEYwAIbQgQ2jPAtNaNaa0BgWmtGtNaMYFprQ2mtA8C01obTWgWFtNaNaaAwtoLR7QWgWEtNaNaa0BhLQWj2gtAsJlgtKWgtBOJ2ilZW0BWBYiVilZYiKVjTiJWIVlisUrAsQKxCsuViFYJxzMsmyzpZZFljS9kCECECECYx2gBCBDaG0oBaG0MNowAENprQwMLTWhtA7rTQu7BVXdmNgIAZp4dT4moL0xToAlcOAVqVGW3a0t523/eeu2KoImd61NVte5YWhLKdlis1p850h8UCnjqK4ZWajTe9U3tnFiLAf3n0GHr08VQWtRcPTcXBEJyl+HeNn09prQ2mtGkLTQzQAQWhmtABBaNNAsLaC0aC0CwtprRrQWgWFtBaNaC0CwtopEe0FoJxMiIVlrRSIFiJWIVlyIhWNOOdlkmWdJWTZYJx6YENoQIZm7AtDaa0MYC0M1oYwFoZynHrUdqeEU4mopytlNkQ+bbegufKAYNq7McbU61dLUVFqY9N29f2geN/HGu7JgqfXEb1TpTHr+LkP3E1PBAVuuxVQ16ii4zaInmq7DmbnzgGOWpUelgk69kABINqa/1begvAuCNWuWxtU1yFBFIC1Jdfy8T5m/pAPj+l2Sp0zinRgytUJBB0Ok5RharDMtCqRa9xTNrT0elR/wAR1v8AXX6T7Vr9aup4zmnDztb3n4SPzlkKIQylTa9iLaT7daNXD4ejiMGoZiidbSvYVBYajwb32PAj5z4kpJS6XqLTGVerU24Dfbwn12GIODoFTcFFsRyl9Uy2J7LslNQr08TRFSk11Om1iDxBHAjwlJy4ihUp1DiMIB1pI6xCbCqPo3gfQ6bWoV0xNLPTJ3sQRYqeII4GbslJprTQIJrQzQATTTQATQwQIILRoIEEFo0ECwtoLRrQWgnC2i2j2gtAkyIpEpaAiBIkSbLLkRCsE2O6GaB3SlTL1HVEXdmNgPWS6hhnIcY1YH+CpGr/AOx+zT/fc+g9YDhg1LrOka4qKBcr3KQ9OPqTAYY49ahK4RTiWGl0NkHNtv2uYq4SpiFJx1UOt/uqd1p28+LeunlBRxfXUEHR9EPTt2ajDJTA8tLn0HrDSwRrrfHVf4g3PYAy0xr+Xj6kwNqeOpvmp4CmK+Q5bp2aanwzbegvMmDqV3c46qKouLUkGWmNOPFvX9p1UwAGAAABsAOEKDtvzHtHCLTAWoyqAFVVAAFgN4f+6flHuYV++fkPrMPvTyHvGHxnSlv9oaxuLdePpPtGH2g08Z8L0it+ksT/AKre8gatQ96s5t4uZx8e2cLXTevykeh8TMH6YqZSDamoNvG0+ipo+GoUauFXrKTKpqUhy7yefiOPPf4u2k+66P8A+mYS36a+0vp5eXK1HZPGSL06qV6S1KTBkbUESOJoVBU6/ClVrCwYN3ag8D5+B4cpz43EUsBW61K1NWY3qUSfvPMeDefHj4znrfE2HC3oU3qc+zb6za8+PH7WUlvx6uHxC4hCVBVlNnRtGU+B/wA1lJ8tiencRVqCpRWlRqDQMATceB8R7TnPTWNqghsVUUjcKAJH7+B+FfYxWqJTF3dVA/MQJ8T19fE3DVq7jxaobSbKinUZiPO9/wB5nfyZ8kV+uvsqnSeDpd/FUR/UDJnpno8DXF0/3M+PNQ/h+mkRmOtz/eOd1v8AE3hj7ZelMEwBGLo6i/flUxNCobJWpsfJwZ8Ff0i6X2Eudqcfoe+2s0/P0r1aJvSq1EP/AIsROuj070hQvbEFwf1BmlTshY+0mngYH4pRrJjkyN+oguvqNxOzF9P4PD0gaTjEM2y0z7nhK8pmpelBPm2+LatjbCIPAmoT9IrfF9TOcuETL5ubw8oWPpYLT52h8WlsUor0ESiTZmViSvnPoKVaniKQqUXWoh2ZTcRy6Q2ikR7QWjSmRFIlCIpECZq2LrW6iktBL6vX1a3ko+pHKSr08JhSHxtXrqp0XrO0f6UH0Eq1DE1ivXVxRW+qUNzzY6/sBK08NRw1NupphSd23Y8ydTIdST1MXXVuppjDrY/aVhmb0QH3PpGo4CmCr1i2IqjZ6utuQ2HoJ0N3TyhXYcoyCn3BympCyH5j7wp3BBT7p+Y+8cIU3b5pl7z8x7TL+LnMO80AAH2rch9YR94eUw+8bkJN8TSpVCGcZrDQamK2T3RJvx8Z0gP944m/6re8+xTDUKSIFo0lUD8gnxuObPi8QwG9Rj/eeli8ZWxFRA7nLY9kbTg4ds4Xlc11c+F5SPP6aNM9LYjqcuS4tlGm06W6SxLYLDUhVKIqqLJpfTjODEr/ADNTTj9J0Kp6mjpwHtM/O22qvGZE2W5F9ydSYj0zmDKbNf0POdD0yCt9NeMxRBlJYd7hF5SJxzKpqbAhgbEHhGqUVAXM1nvpbhK1EDlSpysDowiWJOU9lt7b38xDbRkhDUZgaZQArso2PKR7R3nS1POArZgAb34gzZhfJWy3/C3Bv88I5fH4M1EUzawJsRppv5wdU2W1h56SzKrallU+IiFaa7ElvE8Y5ypZEWSxtYjnFtwtadDMj37LA/NcSZUEaTXjy/1nyiXCCOVgtNJUYQkwbbR7RbR6nALX3ixrRSJULAvLYTGYjBVc+GqtTPEDY8xIkQSpU4+qwHxTRqgLjV6l/wA66qfqJ7VOolamHpurqdmU3Bn51eXwuNr4Kpnw1VqZO4Gx5iXORY+/ikTw+jvimlWtTxyii/6g7h5+E9wEMoZSCCLgjYykY6G/DzmfuGZuHOZu6YnQJ7p5Qr3RAe6eU1wqgkgDzjJk7gmTunmfec5x+HpoPtA3kus5H6WLKRSTKLkXbfeZcu7r4/aucOV/j0i601ZnYKL7mcb9JqHcU0LWt2joNp5vXs7OzsXObjwiBiWcnxG/KcnP8rlf+fTWdUn11Pja9Ws4z2Ww7unjIFm649u2g57xA16j6cB9YyWFQ6WuB7zn28vdq/U+PGYFmYnUkmOcRWNtRcccsB3M7E6OLKuapYsL6CRNvxtcn157Asbsbk6kzvooThqJv/ms5qlPJUZL3ym156WGT+Vo6cJfGbUc7kc7UblecDUbFdOM7mp6jnFanqOc08WXk4jRF15xKlC5AN99CNxO9qeot4wNS1EPEtebk1CuNeB4GBqFxYi4noPQDWBFxJGkaZAbVfzeHOGHrgKZNG1HBv8A7CU8p3NQkGoGnsLr4eHKV8L65ioJ1ilLzoNO+o1EQoZUqcc5UjfaDKJ0ZbRCg4SpSxDLARLFYhW0rU4kRFIlisXLK1OJERSsqRARHpYiVglCNIpEqUsJOzo/pfFdGG1Js9I7031Hp4TjIglypx+m1HWmoZ2Ci+5M4MV0ulNG6lC5HE6CeZiKrOyGo5Y5xuZOrVXq2Fr7e88/s/M5XZx9O7j0z+u6v0liHpvZgmh7onK2IZrFyzGw1YyNWoWV/CxiqNBynLy7OfO+61nHjJ6Wp1b0FttbWLTN1NvzH3i0R9mvKPSW6+p94cYKNP8AF80dO81/Ee0CLq3zR0GrTSIrKPtGt4CMo+09BMvfb0g61VqHQnTeXPSXksN57KDSn8v0nkHjPTSvYJ2dhI677rTsnp59f/manzGenhl/laPKebV7Vdza12JnoUK5XD0xlGgldd91PZPUXI25zFducn1xJGg3jGqbi4m+xhlErqOcBXUTddcjSHrASNI9hZS5dRMU1lNDYiYjUR4TmNMoeyLr4eHKAoGsROkrrEan2rrofeGHrjehY3X1HjJmkDfSd1rm2xG4k3pXNxofGGDXCaUmaVp3FdbEWMQ04YNcJSKU8p2GnJtTjJxlItvGdTU5NkjGOciKVlikQrHKlErFIlisUrLhIERCsuViESol7j9or80Loch47Qkar80LjsH0njY9PQYdhuRjKNByhYdhuRjKNBKkToUh9mvKPT7vqfeCmOwOUAqhVsNTc+8qei+qp+LnNnVS1zOfOzXudL7TAamPy/wsUNYljbQG0UbnlMBqYbb8oBySgqvbfbyiWlUoMwBuNZE3+NLn9JubmdVIfZLOcDWdVH7tZpwRz+KCw84YPCNabMSw2mtrDaVEsDlNxKdZc7SUMqVOKZhebcyebWEHWVpGZbn2MTjZv3jg66zWBvKJJkBveIVtvt4y1iL21EGh22gTnKSbJpOgra9tvCJoRpEHKySbLOplk2WMa5WSTZJ0ssmywNzFZMidLLJsscJAiIRKlYhEqE//2Q=="],Cs=[ms,gs,bs,ks,_s,Ts,n.p+"static/media/Desert.76a1e7e3429badd3a7d4.jpg",n.p+"static/media/Fishing.5bc4c2060dd7712bdbb1.jpg",n.p+"static/media/Flower.0668304c1a2fcee42c02.jpg",n.p+"static/media/Kitchen.d07698778b0246076ff7.jpg",n.p+"static/media/ModernHome.9d73ece7955b1b62b975.jpg",n.p+"static/media/Nature.ae7c02d27ef6bf2be7f4.jpg",n.p+"static/media/Ocean.a3116b079f8518d79e07.jpg",n.p+"static/media/Patio.b947b33e031dba356005.jpg",n.p+"static/media/Plant.d156b0afd40ae1a34707.jpg",n.p+"static/media/SanFrancisco.5eb64308f3062e27a847.jpg"],Os=new Map,As=function(e){return new Promise((function(t,n){if(Os.has(e))return t(Os.get(e));var r=new Image;r.onload=function(){Os.set(e,r),t(r)},r.onerror=n,r.src=Cs[e]}))},Is={imageNames:["Abstract","Boho Home","Bookshelf","Coffee Shop","Contemporary","Cozy Home","Desert","Fishing","Flower","Kitchen","Modern Home","Nature","Ocean","Patio","Plant","San Francisco"],images:Es},Rs="/virtualbackground";var Ns=n(22478),Ps=n.n(Ns),Ms={sdkAssetsPath:"/noisecancellation",vendor:"krisp"};var Ds=n(68022);window.TwilioVideo=Ps();var Ls=(0,e.createContext)(null);function js(t){var n=t.options,r=t.children,i=t.onError,a=void 0===i?function(){}:i,o=(0,e.useCallback)((function(e){console.log("ERROR: ".concat(e.message),e),a(e)}),[a]),s=function(){var t=ss(),n=t.setIsKrispEnabled,r=t.setIsKrispInstalled,i=(0,e.useState)(),a=(0,G.Z)(i,2),o=a[0],s=a[1],u=(0,e.useState)(),c=(0,G.Z)(u,2),l=c[0],f=c[1],d=(0,e.useState)(!1),p=(0,G.Z)(d,2),h=p[0],v=p[1],m=(0,e.useCallback)((0,K.Z)((0,q.Z)().mark((function e(){var t,n,r,i,a;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem(re),e.next=3,ue();case 3:return n=e.sent,r=n.videoInputDevices,i=r.some((function(e){return t&&e.deviceId===t})),a=X(X({},ee),{},{name:"camera-".concat(Date.now())},i&&{deviceId:{exact:t}}),e.abrupt("return",Ps().createLocalVideoTrack(a).then((function(e){return f(e),e})));case 8:case"end":return e.stop()}}),e)}))),[]),g=(0,e.useCallback)((function(){o&&(o.stop(),s(void 0))}),[o]),y=(0,e.useCallback)((function(){l&&(l.stop(),f(void 0))}),[l]),b=(0,e.useCallback)((0,K.Z)((0,q.Z)().mark((function e(){var t,i,a,u,c,d,p,m,g,y,b,x,k;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue();case 2:if(t=e.sent,i=t.audioInputDevices,a=t.videoInputDevices,u=t.hasAudioInputDevices,c=t.hasVideoInputDevices,u||c){e.next=9;break}return e.abrupt("return",Promise.resolve());case 9:if(!(h||o||l)){e.next=11;break}return e.abrupt("return",Promise.resolve());case 11:return v(!0),d=window.localStorage.getItem(te),p=window.localStorage.getItem(re),m=i.some((function(e){return d&&e.deviceId===d})),g=a.some((function(e){return p&&e.deviceId===p})),e.next=18,le("camera");case 18:return y=e.sent,e.next=21,le("microphone");case 21:return b=e.sent,x=u&&!b,k={video:c&&!y&&X(X({},ee),{},{name:"camera-".concat(Date.now())},g&&{deviceId:{exact:p}}),audio:x&&X({noiseCancellationOptions:Ms},m&&{deviceId:{exact:d}})},e.abrupt("return",Ps().createLocalTracks(k).then((function(e){var t,i=e.find((function(e){return"video"===e.kind})),a=e.find((function(e){return"audio"===e.kind}));if(i&&(f(i),window.localStorage.setItem(re,null!==(t=i.mediaStreamTrack.getSettings().deviceId)&&void 0!==t?t:"")),a&&(s(a),a.noiseCancellation&&(n(!0),r(!0))),y&&b){var o=new Error;throw o.name="NotAllowedError",o}if(y)throw new Error("CameraPermissionsDenied");if(b)throw new Error("MicrophonePermissionsDenied")})).finally((function(){return v(!1)})));case 26:case"end":return e.stop()}}),e)}))),[o,l,h,n,r]);return{localTracks:[o,l].filter((function(e){return void 0!==e})),getLocalVideoTrack:m,isAcquiringLocalTracks:h,removeLocalAudioTrack:g,removeLocalVideoTrack:y,getAudioAndVideoTracks:b}}(),u=s.localTracks,c=s.getLocalVideoTrack,l=s.isAcquiringLocalTracks,f=s.removeLocalAudioTrack,d=s.removeLocalVideoTrack,p=s.getAudioAndVideoTracks,h=function(t,n,r){var i=(0,e.useState)(null),a=(0,G.Z)(i,2),o=a[0],s=a[1],u=(0,e.useState)(!1),c=(0,G.Z)(u,2),l=c[0],f=c[1],d=(0,e.useRef)(r);return(0,e.useEffect)((function(){d.current=r}),[r]),{room:o,isConnecting:l,connect:(0,e.useCallback)((function(e){return f(!0),Ps().connect(e,X(X({},d.current),{},{tracks:t})).then((function(e){s(e),Ds.VideoRoomMonitor.registerVideoRoom(e);var t=function(){return e.disconnect()};e.setMaxListeners(16),e.once("disconnected",(function(){setTimeout((function(){return s(null)})),window.removeEventListener("beforeunload",t),oe&&window.removeEventListener("pagehide",t)})),window.twilioRoom=e,e.localParticipant.videoTracks.forEach((function(e){return e.setPriority("low")})),f(!1),window.addEventListener("beforeunload",t),oe&&window.addEventListener("pagehide",t)}),(function(e){n(e),f(!1)}))}),[t,n])}}(u,o,n),v=h.room,m=h.isConnecting,g=h.connect,y=function(t,n){var r=(0,e.useState)(!1),i=(0,G.Z)(r,2),a=i[0],o=i[1],s=(0,e.useRef)(null),u=(0,e.useCallback)((function(){navigator.mediaDevices.getDisplayMedia({audio:!1,video:!0}).then((function(e){var r=e.getTracks()[0];t.localParticipant.publishTrack(r,{name:"screen",priority:"low"}).then((function(e){s.current=function(){t.localParticipant.unpublishTrack(r),t.localParticipant.emit("trackUnpublished",e),r.stop(),o(!1)},r.onended=s.current,o(!0)})).catch(n)})).catch((function(e){("Permission denied by system"===e.message||"AbortError"!==e.name&&"NotAllowedError"!==e.name)&&(console.error(e),n(e))}))}),[t,n]),c=(0,e.useCallback)((function(){t&&(a?s.current():u())}),[a,u,t]);return[a,c]}(v,a),b=(0,G.Z)(y,2),x=b[0],k=b[1];!function(t,n,r,i,a,o){(0,e.useEffect)((function(){if(t){var e=function(e,t){t&&n(t),r(),i(),a&&o()};return t.on("disconnected",e),function(){t.off("disconnected",e)}}}),[t,n,r,i,a,o])}(v,a,f,d,x,k),function(t,n){(0,e.useEffect)((function(){if(t)return t.localParticipant.on("trackPublicationFailed",n),function(){t.localParticipant.off("trackPublicationFailed",n)}}),[t,n])}(v,a),function(t){var n=t.find((function(e){return"audio"===e.kind}));(0,e.useEffect)((function(){var e=function(){"ended"===(null===n||void 0===n?void 0:n.mediaStreamTrack.readyState)&&n.restart({})};return navigator.mediaDevices.addEventListener("devicechange",e),function(){navigator.mediaDevices.removeEventListener("devicechange",e)}}),[n])}(u);var w=(0,e.useState)(!1),_=(0,G.Z)(w,2),S=_[0],T=_[1],E=function(t,n){var r=Ga("TwilioVideoApp-selectedBackgroundSettings",{type:"none",index:0}),i=(0,G.Z)(r,2),a=i[0],o=i[1],s=(0,e.useCallback)((function(){t&&t.processor&&t.removeProcessor(t.processor)}),[t]),u=(0,e.useCallback)((function(e){t&&t.processor!==e&&(s(),t.addProcessor(e))}),[t,s]);return(0,e.useEffect)((function(){if(vs.isSupported){var e=function(){var e=(0,K.Z)((0,q.Z)().mark((function e(){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ps){e.next=4;break}return ps=new vs.GaussianBlurBackgroundProcessor({assetsPath:Rs}),e.next=4,ps.loadModel();case 4:if(hs){e.next=15;break}return e.t0=vs.VirtualBackgroundProcessor,e.t1=Rs,e.next=9,As(0);case 9:return e.t2=e.sent,e.t3=vs.ImageFit.Cover,e.t4={assetsPath:e.t1,backgroundImage:e.t2,fitType:e.t3},hs=new e.t0(e.t4),e.next=15,hs.loadModel();case 15:if(null!==n&&void 0!==n&&n.localParticipant){e.next=17;break}return e.abrupt("return");case 17:if("blur"!==a.type){e.next=21;break}u(ps),e.next=29;break;case 21:if("image"!==a.type||"number"!==typeof a.index){e.next=28;break}return e.next=24,As(a.index);case 24:hs.backgroundImage=e.sent,u(hs),e.next=29;break;case 28:s();case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[a,t,n,u,s]),[a,o]}(u.find((function(e){return!e.name.includes("screen")&&"video"===e.kind})),v),C=(0,G.Z)(E,2),O=C[0],A=C[1];return(0,is.jsxs)(Ls.Provider,{value:{room:v,localTracks:u,isConnecting:m,onError:o,getLocalVideoTrack:c,connect:g,isAcquiringLocalTracks:l,removeLocalVideoTrack:d,isSharingScreen:x,toggleScreenShare:k,getAudioAndVideoTracks:p,isBackgroundSelectionOpen:S,setIsBackgroundSelectionOpen:T,backgroundSettings:O,setBackgroundSettings:A},children:[(0,is.jsx)(ls,{room:v,children:r}),(0,is.jsx)(ds,{})]})}function Fs(){var t=(0,e.useContext)(Ls);if(!t)throw new Error("useVideoContext must be used within a VideoProvider");return t}var Zs=k((function(e){return{button:{background:e.brand,color:"white","&:hover":{background:"#600101"}}}}));function Bs(e){var t=Zs(),n=Fs().room;return(0,is.jsx)(H,{onClick:function(){return n.disconnect()},className:(0,h.Z)(t.button,e.className),"data-cy-disconnect":!0,children:"Disconnect"})}var Us=n(70794),Vs=n(54667),zs=n(21565);var Ws="undefined"!==typeof window?e.useLayoutEffect:e.useEffect,Hs=e.forwardRef((function(n,r){var i=n.children,a=n.container,o=n.disablePortal,s=void 0!==o&&o,u=n.onRendered,c=e.useState(null),l=c[0],f=c[1],d=(0,_.Z)(e.isValidElement(i)?i.ref:null,r);return Ws((function(){s||f(function(e){return e="function"===typeof e?e():e,t.findDOMNode(e)}(a)||document.body)}),[a,s]),Ws((function(){if(l&&!s)return(0,zs.Z)(r,l),function(){(0,zs.Z)(r,null)}}),[r,l,s]),Ws((function(){u&&(l||s)&&u()}),[u,l,s]),s?e.isValidElement(i)?e.cloneElement(i,{ref:d}):i:l?t.createPortal(i,l):l}));var Gs=Hs,qs=n(37545),Ks=n(19535);function Ys(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}var Xs=n(37636);function Qs(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Js(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function $s(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat((0,E.Z)(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&Qs(e,i)}))}function eu(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function tu(e,t){var n,r=[],i=[],a=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,Vs.Z)(e);return t.body===e?(0,Xs.Z)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(a)){var o=Ys();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(Js(a)+o,"px"),n=(0,Vs.Z)(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(Js(e)+o,"px")}))}var s=a.parentElement,u="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:a;r.push({value:u.style.overflow,key:"overflow",el:u}),u.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var nu=function(){function e(){(0,he.Z)(this,e),this.modals=[],this.containers=[]}return(0,ve.Z)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Qs(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);$s(t,e.mountNode,e.modalRef,r,!0);var i=eu(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=eu(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=tu(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=eu(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&Qs(e.modalRef,!0),$s(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&Qs(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var ru=function(n){var r=n.children,i=n.disableAutoFocus,a=void 0!==i&&i,o=n.disableEnforceFocus,s=void 0!==o&&o,u=n.disableRestoreFocus,c=void 0!==u&&u,l=n.getDoc,f=n.isEnabled,d=n.open,p=e.useRef(),h=e.useRef(null),v=e.useRef(null),m=e.useRef(),g=e.useRef(null),y=e.useCallback((function(e){g.current=t.findDOMNode(e)}),[]),b=(0,_.Z)(r.ref,y),x=e.useRef();return e.useEffect((function(){x.current=d}),[d]),!x.current&&d&&"undefined"!==typeof window&&(m.current=l().activeElement),e.useEffect((function(){if(d){var e=(0,Vs.Z)(g.current);a||!g.current||g.current.contains(e.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex",-1),g.current.focus());var t=function(){null!==g.current&&(e.hasFocus()&&!s&&f()&&!p.current?g.current&&!g.current.contains(e.activeElement)&&g.current.focus():p.current=!1)},n=function(t){!s&&f()&&9===t.keyCode&&e.activeElement===g.current&&(p.current=!0,t.shiftKey?v.current.focus():h.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var r=setInterval((function(){t()}),50);return function(){clearInterval(r),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),c||(m.current&&m.current.focus&&m.current.focus(),m.current=null)}}}),[a,s,c,f,d]),e.createElement(e.Fragment,null,e.createElement("div",{tabIndex:0,ref:h,"data-test":"sentinelStart"}),e.cloneElement(r,{ref:b}),e.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelEnd"}))},iu={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},au=e.forwardRef((function(t,n){var i=t.invisible,a=void 0!==i&&i,o=t.open,s=(0,p.Z)(t,["invisible","open"]);return o?e.createElement("div",(0,r.Z)({"aria-hidden":!0,ref:n},s,{style:(0,r.Z)({},iu.root,a?iu.invisible:{},s.style)})):null}));var ou=new nu,su=e.forwardRef((function(n,i){var a=(0,c.Z)(),o=(0,Us.Z)({name:"MuiModal",props:(0,r.Z)({},n),theme:a}),s=o.BackdropComponent,u=void 0===s?au:s,l=o.BackdropProps,f=o.children,d=o.closeAfterTransition,h=void 0!==d&&d,v=o.container,m=o.disableAutoFocus,g=void 0!==m&&m,y=o.disableBackdropClick,b=void 0!==y&&y,x=o.disableEnforceFocus,k=void 0!==x&&x,w=o.disableEscapeKeyDown,T=void 0!==w&&w,E=o.disablePortal,C=void 0!==E&&E,O=o.disableRestoreFocus,A=void 0!==O&&O,I=o.disableScrollLock,R=void 0!==I&&I,N=o.hideBackdrop,P=void 0!==N&&N,M=o.keepMounted,D=void 0!==M&&M,L=o.manager,j=void 0===L?ou:L,F=o.onBackdropClick,Z=o.onClose,B=o.onEscapeKeyDown,U=o.onRendered,V=o.open,z=(0,p.Z)(o,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),W=e.useState(!0),H=W[0],G=W[1],q=e.useRef({}),K=e.useRef(null),Y=e.useRef(null),X=(0,_.Z)(Y,i),Q=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(o),J=function(){return(0,Vs.Z)(K.current)},$=function(){return q.current.modalRef=Y.current,q.current.mountNode=K.current,q.current},ee=function(){j.mount($(),{disableScrollLock:R}),Y.current.scrollTop=0},te=(0,S.Z)((function(){var e=function(e){return e="function"===typeof e?e():e,t.findDOMNode(e)}(v)||J().body;j.add($(),e),Y.current&&ee()})),ne=e.useCallback((function(){return j.isTopModal($())}),[j]),re=(0,S.Z)((function(e){K.current=e,e&&(U&&U(),V&&ne()?ee():Qs(Y.current,!0))})),ie=e.useCallback((function(){j.remove($())}),[j]);if(e.useEffect((function(){return function(){ie()}}),[ie]),e.useEffect((function(){V?te():Q&&h||ie()}),[V,ie,Q,h,te]),!D&&!V&&(!Q||H))return null;var ae=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(a||{zIndex:Ks.Z}),oe={};return void 0===f.props.tabIndex&&(oe.tabIndex=f.props.tabIndex||"-1"),Q&&(oe.onEnter=(0,qs.Z)((function(){G(!1)}),f.props.onEnter),oe.onExited=(0,qs.Z)((function(){G(!0),h&&ie()}),f.props.onExited)),e.createElement(Gs,{ref:re,container:v,disablePortal:C},e.createElement("div",(0,r.Z)({ref:X,onKeyDown:function(e){"Escape"===e.key&&ne()&&(B&&B(e),T||(e.stopPropagation(),Z&&Z(e,"escapeKeyDown")))},role:"presentation"},z,{style:(0,r.Z)({},ae.root,!V&&H?ae.hidden:{},z.style)}),P?null:e.createElement(u,(0,r.Z)({open:V,onClick:function(e){e.target===e.currentTarget&&(F&&F(e),!b&&Z&&Z(e,"backdropClick"))}},l)),e.createElement(ru,{disableEnforceFocus:k,disableAutoFocus:g,disableRestoreFocus:A,getDoc:J,isEnabled:ne,open:V},e.cloneElement(f,oe))))})),uu=su,cu=!1,lu="unmounted",fu="exited",du="entering",pu="entered",hu="exiting",vu=function(n){function r(e,t){var r;r=n.call(this,e,t)||this;var i,a=t&&!t.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?a?(i=fu,r.appearStatus=du):i=pu:i=e.unmountOnExit||e.mountOnEnter?lu:fu,r.state={status:i},r.nextCallback=null,r}(0,A.Z)(r,n),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===lu?{status:fu}:null};var i=r.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==du&&n!==pu&&(t=du):n!==du&&n!==pu||(t=hu)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===du?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===fu&&this.setState({status:lu})},i.performEnter=function(e){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:e,a=this.props.nodeRef?[i]:[t.findDOMNode(this),i],o=a[0],s=a[1],u=this.getTimeouts(),c=i?u.appear:u.enter;!e&&!r||cu?this.safeSetState({status:pu},(function(){n.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:du},(function(){n.props.onEntering(o,s),n.onTransitionEnd(c,(function(){n.safeSetState({status:pu},(function(){n.props.onEntered(o,s)}))}))})))},i.performExit=function(){var e=this,n=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:t.findDOMNode(this);n&&!cu?(this.props.onExit(i),this.safeSetState({status:hu},(function(){e.props.onExiting(i),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:fu},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:fu},(function(){e.props.onExited(i)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:t.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(r&&!i){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],o=a[0],s=a[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var t=this.state.status;if(t===lu)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,C.Z)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(I.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},r}(e.Component);function mu(){}vu.contextType=I,vu.propTypes={},vu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:mu,onEntering:mu,onEntered:mu,onExit:mu,onExiting:mu,onExited:mu},vu.UNMOUNTED=lu,vu.EXITED=fu,vu.ENTERING=du,vu.ENTERED=pu,vu.EXITING=hu;var gu=vu,yu=n(10812);function bu(){return(0,c.Z)()||b.Z}var xu=function(e){return e.scrollTop};function ku(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}var wu={entering:{opacity:1},entered:{opacity:1}},_u={enter:yu.x9.enteringScreen,exit:yu.x9.leavingScreen},Su=e.forwardRef((function(t,n){var i=t.children,a=t.disableStrictModeCompat,o=void 0!==a&&a,s=t.in,u=t.onEnter,c=t.onEntered,l=t.onEntering,f=t.onExit,d=t.onExited,h=t.onExiting,v=t.style,m=t.TransitionComponent,g=void 0===m?gu:m,y=t.timeout,b=void 0===y?_u:y,x=(0,p.Z)(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),k=bu(),w=k.unstable_strictMode&&!o,S=e.useRef(null),T=(0,_.Z)(i.ref,n),E=(0,_.Z)(w?S:void 0,T),C=function(e){return function(t,n){if(e){var r=w?[S.current,t]:[t,n],i=(0,G.Z)(r,2),a=i[0],o=i[1];void 0===o?e(a):e(a,o)}}},O=C(l),A=C((function(e,t){xu(e);var n=ku({style:v,timeout:b},{mode:"enter"});e.style.webkitTransition=k.transitions.create("opacity",n),e.style.transition=k.transitions.create("opacity",n),u&&u(e,t)})),I=C(c),R=C(h),N=C((function(e){var t=ku({style:v,timeout:b},{mode:"exit"});e.style.webkitTransition=k.transitions.create("opacity",t),e.style.transition=k.transitions.create("opacity",t),f&&f(e)})),P=C(d);return e.createElement(g,(0,r.Z)({appear:!0,in:s,nodeRef:w?S:void 0,onEnter:A,onEntered:I,onEntering:O,onExit:N,onExited:P,onExiting:R,timeout:b},x),(function(t,n){return e.cloneElement(i,(0,r.Z)({style:(0,r.Z)({opacity:0,visibility:"exited"!==t||s?void 0:"hidden"},wu[t],v,i.props.style),ref:E},n))}))})),Tu=Su,Eu=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.className,s=t.invisible,u=void 0!==s&&s,c=t.open,l=t.transitionDuration,f=t.TransitionComponent,d=void 0===f?Tu:f,v=(0,p.Z)(t,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return e.createElement(d,(0,r.Z)({in:c,timeout:l},v),e.createElement("div",{className:(0,h.Z)(a.root,o,u&&a.invisible),"aria-hidden":!0,ref:n},i))})),Cu=(0,i.Z)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(Eu),Ou=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.component,s=void 0===o?"div":o,u=t.square,c=void 0!==u&&u,l=t.elevation,f=void 0===l?1:l,d=t.variant,v=void 0===d?"elevation":d,m=(0,p.Z)(t,["classes","className","component","square","elevation","variant"]);return e.createElement(s,(0,r.Z)({className:(0,h.Z)(i.root,a,"outlined"===v?i.outlined:i["elevation".concat(f)],!c&&i.rounded),ref:n},m))})),Au=(0,i.Z)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),(0,r.Z)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(Ou),Iu={enter:yu.x9.enteringScreen,exit:yu.x9.leavingScreen},Ru=e.forwardRef((function(t,n){var i=t.BackdropProps,a=t.children,o=t.classes,s=t.className,u=t.disableBackdropClick,c=void 0!==u&&u,l=t.disableEscapeKeyDown,f=void 0!==l&&l,d=t.fullScreen,v=void 0!==d&&d,m=t.fullWidth,g=void 0!==m&&m,y=t.maxWidth,b=void 0===y?"sm":y,x=t.onBackdropClick,k=t.onClose,w=t.onEnter,_=t.onEntered,S=t.onEntering,T=t.onEscapeKeyDown,E=t.onExit,C=t.onExited,O=t.onExiting,A=t.open,I=t.PaperComponent,R=void 0===I?Au:I,N=t.PaperProps,P=void 0===N?{}:N,M=t.scroll,D=void 0===M?"paper":M,L=t.TransitionComponent,j=void 0===L?Tu:L,F=t.transitionDuration,Z=void 0===F?Iu:F,B=t.TransitionProps,U=t["aria-describedby"],V=t["aria-labelledby"],W=(0,p.Z)(t,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),H=e.useRef();return e.createElement(uu,(0,r.Z)({className:(0,h.Z)(o.root,s),BackdropComponent:Cu,BackdropProps:(0,r.Z)({transitionDuration:Z},i),closeAfterTransition:!0},c?{disableBackdropClick:c}:{},{disableEscapeKeyDown:f,onEscapeKeyDown:T,onClose:k,open:A,ref:n},W),e.createElement(j,(0,r.Z)({appear:!0,in:A,timeout:Z,onEnter:w,onEntering:S,onEntered:_,onExit:E,onExiting:O,onExited:C,role:"none presentation"},B),e.createElement("div",{className:(0,h.Z)(o.container,o["scroll".concat((0,z.Z)(D))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===H.current&&(H.current=null,x&&x(e),!c&&k&&k(e,"backdropClick"))},onMouseDown:function(e){H.current=e.target}},e.createElement(R,(0,r.Z)({elevation:24,role:"dialog","aria-describedby":U,"aria-labelledby":V},P,{className:(0,h.Z)(o.paper,o["paperScroll".concat((0,z.Z)(D))],o["paperWidth".concat((0,z.Z)(String(b)))],P.className,v&&o.paperFullScreen,g&&o.paperFullWidth)}),a))))})),Nu=(0,i.Z)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":(0,d.Z)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":(0,d.Z)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":(0,d.Z)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":(0,d.Z)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":(0,d.Z)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(Ru),Pu=e.forwardRef((function(t,n){var i=t.disableSpacing,a=void 0!==i&&i,o=t.classes,s=t.className,u=(0,p.Z)(t,["disableSpacing","classes","className"]);return e.createElement("div",(0,r.Z)({className:(0,h.Z)(o.root,s,!a&&o.spacing),ref:n},u))})),Mu=(0,i.Z)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(Pu),Du=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.dividers,s=void 0!==o&&o,u=(0,p.Z)(t,["classes","className","dividers"]);return e.createElement("div",(0,r.Z)({className:(0,h.Z)(i.root,a,s&&i.dividers),ref:n},u))})),Lu=(0,i.Z)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(Du),ju={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},Fu=e.forwardRef((function(t,n){var i=t.align,a=void 0===i?"inherit":i,o=t.classes,s=t.className,u=t.color,c=void 0===u?"initial":u,l=t.component,f=t.display,d=void 0===f?"initial":f,v=t.gutterBottom,m=void 0!==v&&v,g=t.noWrap,y=void 0!==g&&g,b=t.paragraph,x=void 0!==b&&b,k=t.variant,w=void 0===k?"body1":k,_=t.variantMapping,S=void 0===_?ju:_,T=(0,p.Z)(t,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),E=l||(x?"p":S[w]||ju[w])||"span";return e.createElement(E,(0,r.Z)({className:(0,h.Z)(o.root,s,"inherit"!==w&&o[w],"initial"!==c&&o["color".concat((0,z.Z)(c))],y&&o.noWrap,m&&o.gutterBottom,x&&o.paragraph,"inherit"!==a&&o["align".concat((0,z.Z)(a))],"initial"!==d&&o["display".concat((0,z.Z)(d))]),ref:n},T))})),Zu=(0,i.Z)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(Fu),Bu=e.forwardRef((function(t,n){return e.createElement(Zu,(0,r.Z)({component:"p",variant:"body1",color:"textSecondary",ref:n},t))})),Uu=(0,i.Z)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(Bu),Vu=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.className,s=t.disableTypography,u=void 0!==s&&s,c=(0,p.Z)(t,["children","classes","className","disableTypography"]);return e.createElement("div",(0,r.Z)({className:(0,h.Z)(a.root,o),ref:n},c),u?i:e.createElement(Zu,{component:"h2",variant:"h6"},i))})),zu=(0,i.Z)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(Vu),Wu=e.forwardRef((function(t,n){var i=t.absolute,a=void 0!==i&&i,o=t.classes,s=t.className,u=t.component,c=void 0===u?"hr":u,l=t.flexItem,f=void 0!==l&&l,d=t.light,v=void 0!==d&&d,m=t.orientation,g=void 0===m?"horizontal":m,y=t.role,b=void 0===y?"hr"!==c?"separator":void 0:y,x=t.variant,k=void 0===x?"fullWidth":x,w=(0,p.Z)(t,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return e.createElement(c,(0,r.Z)({className:(0,h.Z)(o.root,s,"fullWidth"!==k&&o[k],a&&o.absolute,f&&o.flexItem,v&&o.light,"vertical"===g&&o.vertical),role:b,ref:n},w))})),Hu=(0,i.Z)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:(0,w.Fq)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(Wu),Gu="0.9.0";var qu=function(e){var t=e.open,n=e.onClose,r=ss().roomType;return(0,is.jsxs)(Nu,{open:t,onClose:n,fullWidth:!0,maxWidth:"xs",children:[(0,is.jsx)(zu,{children:"About"}),(0,is.jsx)(Hu,{}),(0,is.jsxs)(Lu,{children:[(0,is.jsxs)(Uu,{children:["Browser supported: ",String(Ps().isSupported)]}),(0,is.jsxs)(Uu,{children:["SDK Version: ",Ps().version]}),(0,is.jsxs)(Uu,{children:["App Version: ",Gu]}),(0,is.jsxs)(Uu,{children:["Deployed Tag: ",{NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_GIT_TAG||"N/A"]}),(0,is.jsxs)(Uu,{children:["Deployed Commit Hash: ",{NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_GIT_COMMIT||"N/A"]}),r&&(0,is.jsxs)(Uu,{children:["Room Type: ",r]})]}),(0,is.jsx)(Hu,{}),(0,is.jsx)(Mu,{children:(0,is.jsx)(H,{onClick:n,color:"primary",variant:"contained",autoFocus:!0,children:"OK"})})]})};function Ku(){return(0,is.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,is.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 4.65H4C3.25442 4.65 2.65 5.25442 2.65 6V14C2.65 14.7456 3.25442 15.35 4 15.35H16C16.7456 15.35 17.35 14.7456 17.35 14V6C17.35 5.25442 16.7456 4.65 16 4.65ZM4 4C2.89543 4 2 4.89543 2 6V14C2 15.1046 2.89543 16 4 16H16C17.1046 16 18 15.1046 18 14V6C18 4.89543 17.1046 4 16 4H4Z",fill:"#606B85"}),(0,is.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 6.325C9.35111 6.325 8.82505 6.85107 8.82505 7.5C8.82505 8.14894 9.35111 8.675 10 8.675C10.649 8.675 11.175 8.14894 11.175 7.5C11.175 6.85107 10.649 6.325 10 6.325ZM8.17505 7.5C8.17505 6.49208 8.99213 5.675 10 5.675C11.008 5.675 11.825 6.49208 11.825 7.5C11.825 8.50792 11.008 9.325 10 9.325C8.99213 9.325 8.17505 8.50792 8.17505 7.5Z",fill:"#606B85"}),(0,is.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 10.325C8.24654 10.325 6.82505 11.7465 6.82505 13.5C6.82505 13.6795 6.67954 13.825 6.50005 13.825C6.32056 13.825 6.17505 13.6795 6.17505 13.5C6.17505 11.3875 7.88756 9.675 10 9.675C12.1125 9.675 13.825 11.3875 13.825 13.5C13.825 13.6795 13.6795 13.825 13.5 13.825C13.3206 13.825 13.175 13.6795 13.175 13.5C13.175 11.7465 11.7536 10.325 10 10.325Z",fill:"#606B85"})]})}var Yu,Xu,Qu=n(66556),Ju=0,$u=0,ec=0,tc=0,nc=0,rc=0,ic="object"===typeof performance&&performance.now?performance:Date,ac="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function oc(){return nc||(ac(sc),nc=ic.now()+rc)}function sc(){nc=0}function uc(){this._call=this._time=this._next=null}function cc(){nc=(tc=ic.now())+rc,Ju=$u=0;try{!function(){oc(),++Ju;for(var e,t=Yu;t;)(e=nc-t._time)>=0&&t._call.call(null,e),t=t._next;--Ju}()}finally{Ju=0,function(){var e,t,n=Yu,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Yu=t);Xu=e,fc(r)}(),nc=0}}function lc(){var e=ic.now(),t=e-tc;t>1e3&&(rc-=t,tc=e)}function fc(e){Ju||($u&&($u=clearTimeout($u)),e-nc>24?(e<1/0&&($u=setTimeout(cc,e-ic.now()-rc)),ec&&(ec=clearInterval(ec))):(ec||(tc=ic.now(),ec=setInterval(lc,1e3)),Ju=1,ac(cc)))}function dc(t){var n=(0,e.useState)(!!t&&t.isEnabled),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(a(!!t&&t.isEnabled),t){var e=function(){return a(!0)},n=function(){return a(!1)};return t.on("enabled",e),t.on("disabled",n),function(){t.off("enabled",e),t.off("disabled",n)}}}),[t]),i}function pc(t){var n=(0,e.useState)(null===t||void 0===t?void 0:t.mediaStreamTrack),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(a(null===t||void 0===t?void 0:t.mediaStreamTrack),t){var e=function(){return a(t.mediaStreamTrack)};return t.on("started",e),function(){t.off("started",e)}}}),[t]),i}uc.prototype=function(e,t,n){var r=new uc;return r.restart(e,t,n),r}.prototype={constructor:uc,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?oc():+n)+(null==t?0:+t),this._next||Xu===this||(Xu?Xu._next=this:Yu=this,Xu=this),this._call=e,this._time=n,fc()},stop:function(){this._call&&(this._call=null,this._time=1/0,fc())}};var hc=0,vc=window.AudioContext||window.webkitAudioContext;function mc(e){var t=new vc,n=t.createMediaStreamSource(e),r=t.createAnalyser();return r.smoothingTimeConstant=.2,r.fftSize=256,n.connect(r),e.addEventListener("cleanup",(function(){"closed"!==t.state&&t.close()})),r}var gc=/iPhone|iPad/.test(navigator.userAgent);function yc(t){var n=t.audioTrack,r=t.color,i=void 0===r?"white":r,a=(0,e.useRef)(null),o=(0,e.useState)(),s=(0,G.Z)(o,2),u=s[0],c=s[1],l=dc(n),f=pc(n);(0,e.useEffect)((function(){if(n&&f&&l){var e=new MediaStream([gc?f.clone():f]),t=function(){gc&&e.getTracks().forEach((function(e){return e.stop()})),e.dispatchEvent(new Event("cleanup"))};n.on("stopped",t);var r=function(){t(),e=new MediaStream([gc?f.clone():f]),c(mc(e))};return c(mc(e)),window.addEventListener("focus",r),function(){t(),window.removeEventListener("focus",r),n.off("stopped",t)}}}),[l,f,n]),(0,e.useEffect)((function(){var e=a.current;if(l&&e&&u){var t=new Uint8Array(u.frequencyBinCount),n=function(e,t,n){var r=new uc,i=t;return null==t?(r.restart(e,t,n),r):(t=+t,n=null==n?oc():+n,r.restart((function a(o){o+=i,r.restart(a,i+=t,n),e(o)}),t,n),r)}((function(){u.getByteFrequencyData(t);for(var n=0,r=t.length,i=0;i<r;i++)n+=t[i];var a=Math.min(14,Math.max(0,7*Math.log10(n/r/3)));null===e||void 0===e||e.setAttribute("y",String(14-a))}),100);return function(){e.setAttribute("y","14"),n.stop()}}}),[l,u]);var d="audio-level-clip-".concat(hc++);return l?(0,is.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","data-test-audio-indicator":!0,children:[(0,is.jsx)("defs",{children:(0,is.jsx)("clipPath",{id:d,children:(0,is.jsx)("rect",{ref:a,x:"0",y:"14",width:"24",height:"24"})})}),(0,is.jsxs)("g",{fill:"none",fillRule:"evenodd",transform:"translate(.5)",children:[(0,is.jsx)("rect",{clipPath:"url(#".concat(d,")"),width:"5.2",height:"10",x:"9.5",y:"3.5",rx:"6",ry:"3",fill:"#23BF6E"}),(0,is.jsx)("path",{fill:i,strokeWidth:"0",d:"M17.389 10.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V17.09C8.395 16.836 6 14.281 6 11.167c0-.276.224-.5.5-.5s.5.224.5.5c0 2.73 2.214 4.944 4.944 4.944 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM11.944 4c1.566 0 2.834 1.268 2.834 2.833v4.334c0 1.564-1.268 2.833-2.834 2.833-1.564 0-2.833-1.27-2.833-2.833V6.833C9.111 5.268 10.38 4 11.944 4zm0 1c-1.012 0-1.833.82-1.833 1.833v4.334c0 1.012.822 1.833 1.833 1.833 1.013 0 1.834-.82 1.834-1.833V6.833c0-1.013-.82-1.833-1.834-1.833z"})]})]}):(0,is.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",transform:"translate(-0.5, 0)","data-test-audio-mute-icon":!0,children:(0,is.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,is.jsx)("path",{fill:i,strokeWidth:"0",d:"M11.889 6.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V13.09c-1.116-.093-2.145-.494-3-1.119l.717-.717c.793.54 1.751.857 2.783.857 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM1 6.667c.276 0 .5.224.5.5 0 .975.282 1.884.77 2.65l-.722.721C.888 9.58.5 8.418.5 7.167c0-.276.224-.5.5-.5zm8.277-1.031v1.53C9.278 8.732 8.01 10 6.445 10c-.446 0-.868-.103-1.243-.287l.776-.773c.149.039.306.06.467.06.963 0 1.751-.74 1.828-1.683l.006-.15v-.531l1-1zM6.444 0C8.01 0 9.278 1.268 9.278 2.833l-.002-.025-.999.999v-.974c0-.962-.74-1.75-1.682-1.827L6.445 1c-.962 0-1.751.74-1.828 1.683l-.006.15v4.334c0 .097.008.192.022.285l-.804.805c-.112-.269-.184-.558-.209-.86l-.009-.23V2.833C3.611 1.268 4.88 0 6.444 0z",transform:"translate(6.5 4)"}),(0,is.jsx)("path",{fill:"red",strokeWidth:"0",d:"M12.146.646c.196-.195.512-.195.708 0 .173.174.192.443.057.638l-.057.07-12 12c-.196.195-.512.195-.708 0-.173-.174-.192-.443-.057-.638l.057-.07 12-12z",transform:"translate(6.5 4)"})]})})}var bc=e.memo(yc),xc=[0,1,2,3,4,5,6,7,8,9,10],kc=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function wc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var _c=e.forwardRef((function(t,n){var i=t.alignContent,a=void 0===i?"stretch":i,o=t.alignItems,s=void 0===o?"stretch":o,u=t.classes,c=t.className,l=t.component,f=void 0===l?"div":l,d=t.container,v=void 0!==d&&d,m=t.direction,g=void 0===m?"row":m,y=t.item,b=void 0!==y&&y,x=t.justify,k=t.justifyContent,w=void 0===k?"flex-start":k,_=t.lg,S=void 0!==_&&_,T=t.md,E=void 0!==T&&T,C=t.sm,O=void 0!==C&&C,A=t.spacing,I=void 0===A?0:A,R=t.wrap,N=void 0===R?"wrap":R,P=t.xl,M=void 0!==P&&P,D=t.xs,L=void 0!==D&&D,j=t.zeroMinWidth,F=void 0!==j&&j,Z=(0,p.Z)(t,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),B=(0,h.Z)(u.root,c,v&&[u.container,0!==I&&u["spacing-xs-".concat(String(I))]],b&&u.item,F&&u.zeroMinWidth,"row"!==g&&u["direction-xs-".concat(String(g))],"wrap"!==N&&u["wrap-xs-".concat(String(N))],"stretch"!==s&&u["align-items-xs-".concat(String(s))],"stretch"!==a&&u["align-content-xs-".concat(String(a))],"flex-start"!==(x||w)&&u["justify-content-xs-".concat(String(x||w))],!1!==L&&u["grid-xs-".concat(String(L))],!1!==O&&u["grid-sm-".concat(String(O))],!1!==E&&u["grid-md-".concat(String(E))],!1!==S&&u["grid-lg-".concat(String(S))],!1!==M&&u["grid-xl-".concat(String(M))]);return e.createElement(f,(0,r.Z)({className:B,ref:n},Z))})),Sc=(0,i.Z)((function(e){return(0,r.Z)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return xc.forEach((function(r){var i=e.spacing(r);0!==i&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(wc(i,2)),width:"calc(100% + ".concat(wc(i),")"),"& > $item":{padding:wc(i,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var i={};kc.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var r="".concat(Math.round(e/12*1e8)/1e6,"%");i[t]={flexBasis:r,flexGrow:0,maxWidth:r}}else i[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else i[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?(0,r.Z)(e,i):e[t.breakpoints.up(n)]=i}(t,e,n),t}),{}))}),{name:"MuiGrid"})(_c),Tc=Sc;function Ec(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function Cc(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(Ec(e.value)&&""!==e.value||t&&Ec(e.defaultValue)&&""!==e.defaultValue)}var Oc=n(43375),Ac=e.createContext();var Ic=Ac,Rc=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.className,s=t.color,u=void 0===s?"primary":s,c=t.component,l=void 0===c?"div":c,f=t.disabled,d=void 0!==f&&f,v=t.error,m=void 0!==v&&v,g=t.fullWidth,y=void 0!==g&&g,b=t.focused,x=t.hiddenLabel,k=void 0!==x&&x,w=t.margin,_=void 0===w?"none":w,S=t.required,T=void 0!==S&&S,E=t.size,C=t.variant,O=void 0===C?"standard":C,A=(0,p.Z)(t,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),I=e.useState((function(){var t=!1;return i&&e.Children.forEach(i,(function(e){if((0,Oc.Z)(e,["Input","Select"])){var n=(0,Oc.Z)(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)}})),t})),R=I[0],N=I[1],P=e.useState((function(){var t=!1;return i&&e.Children.forEach(i,(function(e){(0,Oc.Z)(e,["Input","Select"])&&Cc(e.props,!0)&&(t=!0)})),t})),M=P[0],D=P[1],L=e.useState(!1),j=L[0],F=L[1],Z=void 0!==b?b:j;d&&Z&&F(!1);var B=e.useCallback((function(){D(!0)}),[]),U={adornedStart:R,setAdornedStart:N,color:u,disabled:d,error:m,filled:M,focused:Z,fullWidth:y,hiddenLabel:k,margin:("small"===E?"dense":void 0)||_,onBlur:function(){F(!1)},onEmpty:e.useCallback((function(){D(!1)}),[]),onFilled:B,onFocus:function(){F(!0)},registerEffect:undefined,required:T,variant:O};return e.createElement(Ic.Provider,{value:U},e.createElement(l,(0,r.Z)({className:(0,h.Z)(a.root,o,"none"!==_&&a["margin".concat((0,z.Z)(_))],y&&a.fullWidth),ref:n},A),i))})),Nc=(0,i.Z)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(Rc),Pc=n(25352),Mc=n(71002),Dc=n(37483),Lc=(n(57441),n(50503));function jc(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var Fc={entering:{opacity:1,transform:jc(1)},entered:{opacity:1,transform:"none"}},Zc=e.forwardRef((function(t,n){var i=t.children,a=t.disableStrictModeCompat,o=void 0!==a&&a,s=t.in,u=t.onEnter,c=t.onEntered,l=t.onEntering,f=t.onExit,d=t.onExited,h=t.onExiting,v=t.style,m=t.timeout,g=void 0===m?"auto":m,y=t.TransitionComponent,b=void 0===y?gu:y,x=(0,p.Z)(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),k=e.useRef(),w=e.useRef(),S=bu(),T=S.unstable_strictMode&&!o,E=e.useRef(null),C=(0,_.Z)(i.ref,n),O=(0,_.Z)(T?E:void 0,C),A=function(e){return function(t,n){if(e){var r=T?[E.current,t]:[t,n],i=(0,G.Z)(r,2),a=i[0],o=i[1];void 0===o?e(a):e(a,o)}}},I=A(l),R=A((function(e,t){xu(e);var n,r=ku({style:v,timeout:g},{mode:"enter"}),i=r.duration,a=r.delay;"auto"===g?(n=S.transitions.getAutoHeightDuration(e.clientHeight),w.current=n):n=i,e.style.transition=[S.transitions.create("opacity",{duration:n,delay:a}),S.transitions.create("transform",{duration:.666*n,delay:a})].join(","),u&&u(e,t)})),N=A(c),P=A(h),M=A((function(e){var t,n=ku({style:v,timeout:g},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===g?(t=S.transitions.getAutoHeightDuration(e.clientHeight),w.current=t):t=r,e.style.transition=[S.transitions.create("opacity",{duration:t,delay:i}),S.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=jc(.75),f&&f(e)})),D=A(d);return e.useEffect((function(){return function(){clearTimeout(k.current)}}),[]),e.createElement(b,(0,r.Z)({appear:!0,in:s,nodeRef:T?E:void 0,onEnter:R,onEntered:N,onEntering:I,onExit:M,onExited:D,onExiting:P,addEndListener:function(e,t){var n=T?e:t;"auto"===g&&(k.current=setTimeout(n,w.current||0))},timeout:"auto"===g?null:g},x),(function(t,n){return e.cloneElement(i,(0,r.Z)({style:(0,r.Z)({opacity:0,transform:jc(.75),visibility:"exited"!==t||s?void 0:"hidden"},Fc[t],v,i.props.style),ref:O},n))}))}));Zc.muiSupportAuto=!0;var Bc=Zc;function Uc(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Vc(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function zc(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function Wc(e){return"function"===typeof e?e():e}var Hc=e.forwardRef((function(n,i){var a=n.action,o=n.anchorEl,s=n.anchorOrigin,u=void 0===s?{vertical:"top",horizontal:"left"}:s,c=n.anchorPosition,l=n.anchorReference,f=void 0===l?"anchorEl":l,d=n.children,v=n.classes,m=n.className,g=n.container,y=n.elevation,b=void 0===y?8:y,x=n.getContentAnchorEl,k=n.marginThreshold,w=void 0===k?16:k,_=n.onEnter,S=n.onEntered,T=n.onEntering,E=n.onExit,C=n.onExited,O=n.onExiting,A=n.open,I=n.PaperProps,R=void 0===I?{}:I,N=n.transformOrigin,P=void 0===N?{vertical:"top",horizontal:"left"}:N,M=n.TransitionComponent,D=void 0===M?Bc:M,L=n.transitionDuration,j=void 0===L?"auto":L,F=n.TransitionProps,Z=void 0===F?{}:F,B=(0,p.Z)(n,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),U=e.useRef(),V=e.useCallback((function(e){if("anchorPosition"===f)return c;var t=Wc(o),n=(t&&1===t.nodeType?t:(0,Vs.Z)(U.current).body).getBoundingClientRect(),r=0===e?u.vertical:"center";return{top:n.top+Uc(n,r),left:n.left+Vc(n,u.horizontal)}}),[o,u.horizontal,u.vertical,c,f]),z=e.useCallback((function(e){var t=0;if(x&&"anchorEl"===f){var n=x(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[u.vertical,f,x]),W=e.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:Uc(e,P.vertical)+t,horizontal:Vc(e,P.horizontal)}}),[P.horizontal,P.vertical]),H=e.useCallback((function(e){var t=z(e),n={width:e.offsetWidth,height:e.offsetHeight},r=W(n,t);if("none"===f)return{top:null,left:null,transformOrigin:zc(r)};var i=V(t),a=i.top-r.vertical,s=i.left-r.horizontal,u=a+n.height,c=s+n.width,l=(0,Xs.Z)(Wc(o)),d=l.innerHeight-w,p=l.innerWidth-w;if(a<w){var h=a-w;a-=h,r.vertical+=h}else if(u>d){var v=u-d;a-=v,r.vertical+=v}if(s<w){var m=s-w;s-=m,r.horizontal+=m}else if(c>p){var g=c-p;s-=g,r.horizontal+=g}return{top:"".concat(Math.round(a),"px"),left:"".concat(Math.round(s),"px"),transformOrigin:zc(r)}}),[o,f,V,z,W,w]),G=e.useCallback((function(){var e=U.current;if(e){var t=H(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[H]),q=e.useCallback((function(e){U.current=t.findDOMNode(e)}),[]);e.useEffect((function(){A&&G()})),e.useImperativeHandle(a,(function(){return A?{updatePosition:function(){G()}}:null}),[A,G]),e.useEffect((function(){if(A){var e=(0,Lc.Z)((function(){G()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[A,G]);var K=j;"auto"!==j||D.muiSupportAuto||(K=void 0);var Y=g||(o?(0,Vs.Z)(Wc(o)).body:void 0);return e.createElement(uu,(0,r.Z)({container:Y,open:A,ref:i,BackdropProps:{invisible:!0},className:(0,h.Z)(v.root,m)},B),e.createElement(D,(0,r.Z)({appear:!0,in:A,onEnter:_,onEntered:S,onExit:E,onExited:C,onExiting:O,timeout:K},Z,{onEntering:(0,qs.Z)((function(e,t){T&&T(e,t),G()}),Z.onEntering)}),e.createElement(Au,(0,r.Z)({elevation:b,ref:q},R,{className:(0,h.Z)(v.paper,R.className)}),d)))})),Gc=(0,i.Z)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(Hc);var qc=e.createContext({}),Kc=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.className,s=t.component,u=void 0===s?"ul":s,c=t.dense,l=void 0!==c&&c,f=t.disablePadding,d=void 0!==f&&f,v=t.subheader,m=(0,p.Z)(t,["children","classes","className","component","dense","disablePadding","subheader"]),g=e.useMemo((function(){return{dense:l}}),[l]);return e.createElement(qc.Provider,{value:g},e.createElement(u,(0,r.Z)({className:(0,h.Z)(a.root,o,l&&a.dense,!d&&a.padding,v&&a.subheader),ref:n},m),v,i))})),Yc=(0,i.Z)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(Kc);function Xc(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Qc(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Jc(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function $c(e,t,n,r,i,a){for(var o=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(o)return;o=!0}var u=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&Jc(s,a)&&!u)return void s.focus();s=i(e,s,n)}}var el="undefined"===typeof window?e.useEffect:e.useLayoutEffect,tl=e.forwardRef((function(n,i){var a=n.actions,o=n.autoFocus,s=void 0!==o&&o,u=n.autoFocusItem,c=void 0!==u&&u,l=n.children,f=n.className,d=n.disabledItemsFocusable,h=void 0!==d&&d,v=n.disableListWrap,m=void 0!==v&&v,g=n.onKeyDown,y=n.variant,b=void 0===y?"selectedMenu":y,x=(0,p.Z)(n,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),k=e.useRef(null),w=e.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});el((function(){s&&k.current.focus()}),[s]),e.useImperativeHandle(a,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!k.current.style.width;if(e.clientHeight<k.current.clientHeight&&n){var r="".concat(Ys(),"px");k.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,k.current.style.width="calc(100% + ".concat(r,")")}return k.current}}}),[]);var S=e.useCallback((function(e){k.current=t.findDOMNode(e)}),[]),T=(0,_.Z)(S,i),E=-1;e.Children.forEach(l,(function(t,n){e.isValidElement(t)&&(t.props.disabled||("selectedMenu"===b&&t.props.selected||-1===E)&&(E=n))}));var C=e.Children.map(l,(function(t,n){if(n===E){var r={};return c&&(r.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===b&&(r.tabIndex=0),e.cloneElement(t,r)}return t}));return e.createElement(Yc,(0,r.Z)({role:"menu",ref:T,className:f,onKeyDown:function(e){var t=k.current,n=e.key,r=(0,Vs.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),$c(t,r,m,h,Xc);else if("ArrowUp"===n)e.preventDefault(),$c(t,r,m,h,Qc);else if("Home"===n)e.preventDefault(),$c(t,null,m,h,Xc);else if("End"===n)e.preventDefault(),$c(t,null,m,h,Qc);else if(1===n.length){var i=w.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var s=r&&!i.repeating&&Jc(r,i);i.previousKeyMatched&&(s||$c(t,r,!1,h,Xc,i))?e.preventDefault():i.previousKeyMatched=!1}g&&g(e)},tabIndex:s?0:-1},x),C)})),nl=tl,rl={vertical:"top",horizontal:"right"},il={vertical:"top",horizontal:"left"},al=e.forwardRef((function(n,i){var a=n.autoFocus,o=void 0===a||a,s=n.children,u=n.classes,c=n.disableAutoFocusItem,l=void 0!==c&&c,f=n.MenuListProps,d=void 0===f?{}:f,v=n.onClose,m=n.onEntering,g=n.open,y=n.PaperProps,b=void 0===y?{}:y,x=n.PopoverClasses,k=n.transitionDuration,w=void 0===k?"auto":k,_=n.TransitionProps,S=(_=void 0===_?{}:_).onEntering,T=(0,p.Z)(_,["onEntering"]),E=n.variant,C=void 0===E?"selectedMenu":E,O=(0,p.Z)(n,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),A=bu(),I=o&&!l&&g,R=e.useRef(null),N=e.useRef(null),P=-1;e.Children.map(s,(function(t,n){e.isValidElement(t)&&(t.props.disabled||("menu"!==C&&t.props.selected||-1===P)&&(P=n))}));var M=e.Children.map(s,(function(n,r){return r===P?e.cloneElement(n,{ref:function(e){N.current=t.findDOMNode(e),(0,zs.Z)(n.ref,e)}}):n}));return e.createElement(Gc,(0,r.Z)({getContentAnchorEl:function(){return N.current},classes:x,onClose:v,TransitionProps:(0,r.Z)({onEntering:function(e,t){R.current&&R.current.adjustStyleForScrollbar(e,A),m&&m(e,t),S&&S(e,t)}},T),anchorOrigin:"rtl"===A.direction?rl:il,transformOrigin:"rtl"===A.direction?rl:il,PaperProps:(0,r.Z)({},b,{classes:(0,r.Z)({},b.classes,{root:u.paper})}),open:g,ref:i,transitionDuration:w},O),e.createElement(nl,(0,r.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),v&&v(e,"tabKeyDown"))},actions:R,autoFocus:o&&(-1===P||l),autoFocusItem:I,variant:C},d,{className:(0,h.Z)(u.list,d.className)}),M))})),ol=(0,i.Z)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(al),sl=n(92497);function ul(e,t){return"object"===(0,Mc.Z)(t)&&null!==t?e===t:String(e)===String(t)}var cl=e.forwardRef((function(t,n){var i=t["aria-label"],a=t.autoFocus,o=t.autoWidth,s=t.children,u=t.classes,c=t.className,l=t.defaultValue,f=t.disabled,d=t.displayEmpty,v=t.IconComponent,m=t.inputRef,g=t.labelId,y=t.MenuProps,b=void 0===y?{}:y,x=t.multiple,k=t.name,w=t.onBlur,S=t.onChange,T=t.onClose,E=t.onFocus,C=t.onOpen,O=t.open,A=t.readOnly,I=t.renderValue,R=t.SelectDisplayProps,N=void 0===R?{}:R,P=t.tabIndex,M=(t.type,t.value),D=t.variant,L=void 0===D?"standard":D,j=(0,p.Z)(t,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),F=(0,sl.Z)({controlled:M,default:l,name:"Select"}),Z=(0,G.Z)(F,2),B=Z[0],U=Z[1],V=e.useRef(null),W=e.useState(null),H=W[0],q=W[1],K=e.useRef(null!=O).current,Y=e.useState(),X=Y[0],Q=Y[1],J=e.useState(!1),$=J[0],ee=J[1],te=(0,_.Z)(n,m);e.useImperativeHandle(te,(function(){return{focus:function(){H.focus()},node:V.current,value:B}}),[H,B]),e.useEffect((function(){a&&H&&H.focus()}),[a,H]),e.useEffect((function(){if(H){var e=(0,Vs.Z)(H).getElementById(g);if(e){var t=function(){getSelection().isCollapsed&&H.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[g,H]);var ne,re,ie=function(e,t){e?C&&C(t):T&&T(t),K||(Q(o?null:H.clientWidth),ee(e))},ae=e.Children.toArray(s),oe=function(e){return function(t){var n;if(x||ie(!1,t),x){n=Array.isArray(B)?B.slice():[];var r=B.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),B!==n&&(U(n),S&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:k}}),S(t,e)))}},se=null!==H&&(K?O:$);delete j["aria-invalid"];var ue=[],ce=!1;(Cc({value:B})||d)&&(I?ne=I(B):ce=!0);var le=ae.map((function(t){if(!e.isValidElement(t))return null;var n;if(x){if(!Array.isArray(B))throw new Error((0,Dc.Z)(2));(n=B.some((function(e){return ul(e,t.props.value)})))&&ce&&ue.push(t.props.children)}else(n=ul(B,t.props.value))&&ce&&(re=t.props.children);return n&&!0,e.cloneElement(t,{"aria-selected":n?"true":void 0,onClick:oe(t),onKeyUp:function(e){" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:n,value:void 0,"data-value":t.props.value})}));ce&&(ne=x?ue.join(", "):re);var fe,de=X;!o&&K&&H&&(de=H.clientWidth),fe="undefined"!==typeof P?P:f?null:0;var pe=N.id||(k?"mui-component-select-".concat(k):void 0);return e.createElement(e.Fragment,null,e.createElement("div",(0,r.Z)({className:(0,h.Z)(u.root,u.select,u.selectMenu,u[L],c,f&&u.disabled),ref:q,tabIndex:fe,role:"button","aria-disabled":f?"true":void 0,"aria-expanded":se?"true":void 0,"aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[g,pe].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!A){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ie(!0,e))}},onMouseDown:f||A?null:function(e){0===e.button&&(e.preventDefault(),H.focus(),ie(!0,e))},onBlur:function(e){!se&&w&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:B,name:k}}),w(e))},onFocus:E},N,{id:pe}),function(e){return null==e||"string"===typeof e&&!e.trim()}(ne)?e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):ne),e.createElement("input",(0,r.Z)({value:Array.isArray(B)?B.join(","):B,name:k,ref:V,"aria-hidden":!0,onChange:function(e){var t=ae.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=ae[t];U(n.props.value),S&&S(e,n)}},tabIndex:-1,className:u.nativeInput,autoFocus:a},j)),e.createElement(v,{className:(0,h.Z)(u.icon,u["icon".concat((0,z.Z)(L))],se&&u.iconOpen,f&&u.disabled)}),e.createElement(ol,(0,r.Z)({id:"menu-".concat(k||""),anchorEl:H,open:se,onClose:function(e){ie(!1,e)}},b,{MenuListProps:(0,r.Z)({"aria-labelledby":g,role:"listbox",disableListWrap:!0},b.MenuListProps),PaperProps:(0,r.Z)({},b.PaperProps,{style:(0,r.Z)({minWidth:de},null!=b.PaperProps?b.PaperProps.style:null)})}),le))})),ll=cl;function fl(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}function dl(){return e.useContext(Ic)}var pl=n(94327),hl=(0,pl.Z)(e.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function vl(e,t){return parseInt(e[t],10)||0}var ml="undefined"!==typeof window?e.useLayoutEffect:e.useEffect,gl={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},yl=e.forwardRef((function(t,n){var i=t.onChange,a=t.rows,o=t.rowsMax,s=t.rowsMin,u=t.maxRows,c=t.minRows,l=void 0===c?1:c,f=t.style,d=t.value,h=(0,p.Z)(t,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),v=u||o,m=a||s||l,g=e.useRef(null!=d).current,y=e.useRef(null),b=(0,_.Z)(n,y),x=e.useRef(null),k=e.useRef(0),w=e.useState({}),S=w[0],T=w[1],E=e.useCallback((function(){var e=y.current,n=window.getComputedStyle(e),r=x.current;r.style.width=n.width,r.value=e.value||t.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=vl(n,"padding-bottom")+vl(n,"padding-top"),o=vl(n,"border-bottom-width")+vl(n,"border-top-width"),s=r.scrollHeight-a;r.value="x";var u=r.scrollHeight-a,c=s;m&&(c=Math.max(Number(m)*u,c)),v&&(c=Math.min(Number(v)*u,c));var l=(c=Math.max(c,u))+("border-box"===i?a+o:0),f=Math.abs(c-s)<=1;T((function(e){return k.current<20&&(l>0&&Math.abs((e.outerHeightStyle||0)-l)>1||e.overflow!==f)?(k.current+=1,{overflow:f,outerHeightStyle:l}):e}))}),[v,m,t.placeholder]);e.useEffect((function(){var e=(0,Lc.Z)((function(){k.current=0,E()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[E]),ml((function(){E()})),e.useEffect((function(){k.current=0}),[d]);return e.createElement(e.Fragment,null,e.createElement("textarea",(0,r.Z)({value:d,onChange:function(e){k.current=0,g||E(),i&&i(e)},ref:b,rows:m,style:(0,r.Z)({height:S.outerHeightStyle,overflow:S.overflow?"hidden":null},f)},h)),e.createElement("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:x,tabIndex:-1,style:(0,r.Z)({},gl,f)}))})),bl=yl,xl="undefined"===typeof window?e.useEffect:e.useLayoutEffect,kl=e.forwardRef((function(t,n){var i=t["aria-describedby"],a=t.autoComplete,o=t.autoFocus,s=t.classes,u=t.className,c=(t.color,t.defaultValue),l=t.disabled,f=t.endAdornment,d=(t.error,t.fullWidth),v=void 0!==d&&d,m=t.id,g=t.inputComponent,y=void 0===g?"input":g,b=t.inputProps,x=void 0===b?{}:b,k=t.inputRef,w=(t.margin,t.multiline),S=void 0!==w&&w,T=t.name,E=t.onBlur,C=t.onChange,O=t.onClick,A=t.onFocus,I=t.onKeyDown,R=t.onKeyUp,N=t.placeholder,P=t.readOnly,M=t.renderSuffix,D=t.rows,L=t.rowsMax,j=t.rowsMin,F=t.maxRows,Z=t.minRows,B=t.startAdornment,U=t.type,V=void 0===U?"text":U,W=t.value,H=(0,p.Z)(t,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),G=null!=x.value?x.value:W,q=e.useRef(null!=G).current,K=e.useRef(),Y=e.useCallback((function(e){0}),[]),X=(0,_.Z)(x.ref,Y),Q=(0,_.Z)(k,X),J=(0,_.Z)(K,Q),$=e.useState(!1),ee=$[0],te=$[1],ne=e.useContext(Ac);var re=fl({props:t,muiFormControl:ne,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});re.focused=ne?ne.focused:ee,e.useEffect((function(){!ne&&l&&ee&&(te(!1),E&&E())}),[ne,l,ee,E]);var ie=ne&&ne.onFilled,ae=ne&&ne.onEmpty,oe=e.useCallback((function(e){Cc(e)?ie&&ie():ae&&ae()}),[ie,ae]);xl((function(){q&&oe({value:G})}),[G,oe,q]);e.useEffect((function(){oe(K.current)}),[]);var se=y,ue=(0,r.Z)({},x,{ref:J});"string"!==typeof se?ue=(0,r.Z)({inputRef:J,type:V},ue,{ref:null}):S?!D||F||Z||L||j?(ue=(0,r.Z)({minRows:D||Z,rowsMax:L,maxRows:F},ue),se=bl):se="textarea":ue=(0,r.Z)({type:V},ue);return e.useEffect((function(){ne&&ne.setAdornedStart(Boolean(B))}),[ne,B]),e.createElement("div",(0,r.Z)({className:(0,h.Z)(s.root,s["color".concat((0,z.Z)(re.color||"primary"))],u,re.disabled&&s.disabled,re.error&&s.error,v&&s.fullWidth,re.focused&&s.focused,ne&&s.formControl,S&&s.multiline,B&&s.adornedStart,f&&s.adornedEnd,"dense"===re.margin&&s.marginDense),onClick:function(e){K.current&&e.currentTarget===e.target&&K.current.focus(),O&&O(e)},ref:n},H),B,e.createElement(Ic.Provider,{value:null},e.createElement(se,(0,r.Z)({"aria-invalid":re.error,"aria-describedby":i,autoComplete:a,autoFocus:o,defaultValue:c,disabled:re.disabled,id:m,onAnimationStart:function(e){oe("mui-auto-fill-cancel"===e.animationName?K.current:{value:"x"})},name:T,placeholder:N,readOnly:P,required:re.required,rows:D,value:G,onKeyDown:I,onKeyUp:R},ue,{className:(0,h.Z)(s.input,x.className,re.disabled&&s.disabled,S&&s.inputMultiline,re.hiddenLabel&&s.inputHiddenLabel,B&&s.inputAdornedStart,f&&s.inputAdornedEnd,"search"===V&&s.inputTypeSearch,"dense"===re.margin&&s.inputMarginDense),onBlur:function(e){E&&E(e),x.onBlur&&x.onBlur(e),ne&&ne.onBlur?ne.onBlur(e):te(!1)},onChange:function(e){if(!q){var t=e.target||K.current;if(null==t)throw new Error((0,Dc.Z)(1));oe({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];x.onChange&&x.onChange.apply(x,[e].concat(r)),C&&C.apply(void 0,[e].concat(r))},onFocus:function(e){re.disabled?e.stopPropagation():(A&&A(e),x.onFocus&&x.onFocus(e),ne&&ne.onFocus?ne.onFocus(e):te(!0))}}))),f,M?M((0,r.Z)({},re,{startAdornment:B})):null)})),wl=(0,i.Z)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},i={opacity:"0 !important"},a={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:(0,r.Z)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(kl),_l=e.forwardRef((function(t,n){var i=t.disableUnderline,a=t.classes,o=t.fullWidth,s=void 0!==o&&o,u=t.inputComponent,c=void 0===u?"input":u,l=t.multiline,f=void 0!==l&&l,d=t.type,v=void 0===d?"text":d,m=(0,p.Z)(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return e.createElement(wl,(0,r.Z)({classes:(0,r.Z)({},a,{root:(0,h.Z)(a.root,!i&&a.underline),underline:null}),fullWidth:s,inputComponent:c,multiline:f,ref:n,type:v},m))}));_l.muiName="Input";var Sl=(0,i.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(_l),Tl=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.disabled,s=t.IconComponent,u=t.inputRef,c=t.variant,l=void 0===c?"standard":c,f=(0,p.Z)(t,["classes","className","disabled","IconComponent","inputRef","variant"]);return e.createElement(e.Fragment,null,e.createElement("select",(0,r.Z)({className:(0,h.Z)(i.root,i.select,i[l],a,o&&i.disabled),disabled:o,ref:u||n},f)),t.multiple?null:e.createElement(s,{className:(0,h.Z)(i.icon,i["icon".concat((0,z.Z)(l))],o&&i.disabled)}))})),El=Tl,Cl=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},Ol=e.createElement(Sl,null),Al=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.IconComponent,s=void 0===o?hl:o,u=t.input,c=void 0===u?Ol:u,l=t.inputProps,f=(t.variant,(0,p.Z)(t,["children","classes","IconComponent","input","inputProps","variant"])),d=fl({props:t,muiFormControl:dl(),states:["variant"]});return e.cloneElement(c,(0,r.Z)({inputComponent:El,inputProps:(0,r.Z)({children:i,classes:a,IconComponent:s,variant:d.variant,type:void 0},l,c?c.props.inputProps:{}),ref:n},f))}));Al.muiName="Select";(0,i.Z)(Cl,{name:"MuiNativeSelect"})(Al);var Il=e.forwardRef((function(t,n){var i=t.disableUnderline,a=t.classes,o=t.fullWidth,s=void 0!==o&&o,u=t.inputComponent,c=void 0===u?"input":u,l=t.multiline,f=void 0!==l&&l,d=t.type,v=void 0===d?"text":d,m=(0,p.Z)(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return e.createElement(wl,(0,r.Z)({classes:(0,r.Z)({},a,{root:(0,h.Z)(a.root,!i&&a.underline),underline:null}),fullWidth:s,inputComponent:c,multiline:f,ref:n,type:v},m))}));Il.muiName="Input";var Rl=(0,i.Z)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(Il),Nl=e.forwardRef((function(t,n){t.children;var i=t.classes,a=t.className,o=t.label,s=t.labelWidth,u=t.notched,c=t.style,l=(0,p.Z)(t,["children","classes","className","label","labelWidth","notched","style"]),f="rtl"===bu().direction?"right":"left";if(void 0!==o)return e.createElement("fieldset",(0,r.Z)({"aria-hidden":!0,className:(0,h.Z)(i.root,a),ref:n,style:c},l),e.createElement("legend",{className:(0,h.Z)(i.legendLabelled,u&&i.legendNotched)},o?e.createElement("span",null,o):e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var v=s>0?.75*s+8:.01;return e.createElement("fieldset",(0,r.Z)({"aria-hidden":!0,style:(0,r.Z)((0,d.Z)({},"padding".concat((0,z.Z)(f)),8),c),className:(0,h.Z)(i.root,a),ref:n},l),e.createElement("legend",{className:i.legend,style:{width:u?v:.01}},e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),Pl=(0,i.Z)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(Nl),Ml=e.forwardRef((function(t,n){var i=t.classes,a=t.fullWidth,o=void 0!==a&&a,s=t.inputComponent,u=void 0===s?"input":s,c=t.label,l=t.labelWidth,f=void 0===l?0:l,d=t.multiline,v=void 0!==d&&d,m=t.notched,g=t.type,y=void 0===g?"text":g,b=(0,p.Z)(t,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return e.createElement(wl,(0,r.Z)({renderSuffix:function(t){return e.createElement(Pl,{className:i.notchedOutline,label:c,labelWidth:f,notched:"undefined"!==typeof m?m:Boolean(t.startAdornment||t.filled||t.focused)})},classes:(0,r.Z)({},i,{root:(0,h.Z)(i.root,i.underline),notchedOutline:null}),fullWidth:o,inputComponent:u,multiline:v,ref:n,type:y},b))}));Ml.muiName="Input";var Dl=(0,i.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(Ml),Ll=Cl,jl=e.createElement(Sl,null),Fl=e.createElement(Rl,null),Zl=e.forwardRef((function t(n,i){var a=n.autoWidth,o=void 0!==a&&a,s=n.children,u=n.classes,c=n.displayEmpty,l=void 0!==c&&c,f=n.IconComponent,d=void 0===f?hl:f,h=n.id,v=n.input,m=n.inputProps,g=n.label,y=n.labelId,b=n.labelWidth,x=void 0===b?0:b,k=n.MenuProps,w=n.multiple,_=void 0!==w&&w,S=n.native,T=void 0!==S&&S,E=n.onClose,C=n.onOpen,O=n.open,A=n.renderValue,I=n.SelectDisplayProps,R=n.variant,N=void 0===R?"standard":R,P=(0,p.Z)(n,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),M=T?El:ll,D=fl({props:n,muiFormControl:dl(),states:["variant"]}).variant||N,L=v||{standard:jl,outlined:e.createElement(Dl,{label:g,labelWidth:x}),filled:Fl}[D];return e.cloneElement(L,(0,r.Z)({inputComponent:M,inputProps:(0,r.Z)({children:s,IconComponent:d,variant:D,type:void 0,multiple:_},T?{id:h}:{autoWidth:o,displayEmpty:l,labelId:y,MenuProps:k,onClose:E,onOpen:C,open:O,renderValue:A,SelectDisplayProps:(0,r.Z)({id:h},I)},m,{classes:m?(0,Pc.Z)({baseClasses:u,newClasses:m.classes,Component:t}):u},v?v.props.inputProps:{}),ref:i},P))}));Zl.muiName="Select";var Bl=(0,i.Z)(Ll,{name:"MuiSelect"})(Zl),Ul="undefined"===typeof window?e.useEffect:e.useLayoutEffect,Vl=e.forwardRef((function(n,i){var a=n.alignItems,o=void 0===a?"center":a,s=n.autoFocus,u=void 0!==s&&s,c=n.button,l=void 0!==c&&c,f=n.children,d=n.classes,v=n.className,m=n.component,g=n.ContainerComponent,y=void 0===g?"li":g,b=n.ContainerProps,x=(b=void 0===b?{}:b).className,k=(0,p.Z)(b,["className"]),w=n.dense,S=void 0!==w&&w,T=n.disabled,E=void 0!==T&&T,C=n.disableGutters,O=void 0!==C&&C,A=n.divider,I=void 0!==A&&A,R=n.focusVisibleClassName,N=n.selected,P=void 0!==N&&N,M=(0,p.Z)(n,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),D=e.useContext(qc),L={dense:S||D.dense||!1,alignItems:o},j=e.useRef(null);Ul((function(){u&&j.current&&j.current.focus()}),[u]);var F=e.Children.toArray(f),Z=F.length&&(0,Oc.Z)(F[F.length-1],["ListItemSecondaryAction"]),B=e.useCallback((function(e){j.current=t.findDOMNode(e)}),[]),U=(0,_.Z)(B,i),z=(0,r.Z)({className:(0,h.Z)(d.root,v,L.dense&&d.dense,!O&&d.gutters,I&&d.divider,E&&d.disabled,l&&d.button,"center"!==o&&d.alignItemsFlexStart,Z&&d.secondaryAction,P&&d.selected),disabled:E},M),W=m||"li";return l&&(z.component=m||"div",z.focusVisibleClassName=(0,h.Z)(d.focusVisible,R),W=V),Z?(W=z.component||m?W:"div","li"===y&&("li"===W?W="div":"li"===z.component&&(z.component="div")),e.createElement(qc.Provider,{value:L},e.createElement(y,(0,r.Z)({className:(0,h.Z)(d.container,x),ref:U},k),e.createElement(W,z,F),F.pop()))):e.createElement(qc.Provider,{value:L},e.createElement(W,(0,r.Z)({ref:U},z),F))})),zl=(0,i.Z)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(Vl),Wl=e.forwardRef((function(t,n){var i,a=t.classes,o=t.className,s=t.component,u=void 0===s?"li":s,c=t.disableGutters,l=void 0!==c&&c,f=t.ListItemClasses,d=t.role,v=void 0===d?"menuitem":d,m=t.selected,g=t.tabIndex,y=(0,p.Z)(t,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return t.disabled||(i=void 0!==g?g:-1),e.createElement(zl,(0,r.Z)({button:!0,role:v,tabIndex:i,component:u,selected:m,disableGutters:l,classes:(0,r.Z)({dense:a.dense},f),className:(0,h.Z)(a.root,o,m&&a.selected,!l&&a.gutters),ref:n},y))})),Hl=(0,i.Z)((function(e){return{root:(0,r.Z)({},e.typography.body1,(0,d.Z)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:(0,r.Z)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(Wl);function Gl(){var e,t=de().audioInputDevices,n=Fs().localTracks.find((function(e){return"audio"===e.kind})),r=null===n||void 0===n||null===(e=n.noiseCancellation)||void 0===e?void 0:e.sourceTrack,i=pc(n),a=(null===r||void 0===r?void 0:r.getSettings().deviceId)||(null===i||void 0===i?void 0:i.getSettings().deviceId);return(0,is.jsxs)("div",{children:[(0,is.jsx)(Zu,{variant:"subtitle2",gutterBottom:!0,children:"Audio Input"}),(0,is.jsxs)(Tc,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,is.jsx)("div",{className:"inputSelect",children:t.length>1?(0,is.jsx)(Nc,{fullWidth:!0,children:(0,is.jsx)(Bl,{onChange:function(e){return t=e.target.value,window.localStorage.setItem(te,t),void(null===n||void 0===n||n.restart({deviceId:{exact:t}}));var t},value:a||"",variant:"outlined",children:t.map((function(e){return(0,is.jsx)(Hl,{value:e.deviceId,children:e.label},e.deviceId)}))})}):(0,is.jsx)(Zu,{children:(null===n||void 0===n?void 0:n.mediaStreamTrack.label)||"No Local Audio"})}),(0,is.jsx)(bc,{audioTrack:n,color:"black"})]})]})}function ql(){var e,t=de().audioOutputDevices,n=ss(),r=n.activeSinkId,i=n.setActiveSinkId,a=null===(e=t.find((function(e){return e.deviceId===r})))||void 0===e?void 0:e.label;return(0,is.jsx)("div",{className:"inputSelect",children:t.length>1?(0,is.jsxs)(Nc,{fullWidth:!0,children:[(0,is.jsx)(Zu,{variant:"subtitle2",gutterBottom:!0,children:"Audio Output"}),(0,is.jsx)(Bl,{onChange:function(e){return i(e.target.value)},value:r,variant:"outlined",children:t.map((function(e){return(0,is.jsx)(Hl,{value:e.deviceId,children:e.label},e.deviceId)}))})]}):(0,is.jsxs)(is.Fragment,{children:[(0,is.jsx)(Zu,{variant:"subtitle2",children:"Audio Output"}),(0,is.jsx)(Zu,{children:a||"System Default Audio Output"})]})})}var Kl=n(81534),Yl="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,Xl=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(Yl&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var Ql=Yl&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),Xl))}};function Jl(e){return e&&"[object Function]"==={}.toString.call(e)}function $l(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function ef(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function tf(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=$l(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:tf(ef(e))}function nf(e){return e&&e.referenceNode?e.referenceNode:e}var rf=Yl&&!(!window.MSInputMethodContext||!document.documentMode),af=Yl&&/MSIE 10/.test(navigator.userAgent);function of(e){return 11===e?rf:10===e?af:rf||af}function sf(e){if(!e)return document.documentElement;for(var t=of(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===$l(n,"position")?sf(n):n:e?e.ownerDocument.documentElement:document.documentElement}function uf(e){return null!==e.parentNode?uf(e.parentNode):e}function cf(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,a=document.createRange();a.setStart(r,0),a.setEnd(i,0);var o=a.commonAncestorContainer;if(e!==o&&t!==o||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||sf(e.firstElementChild)===e)}(o)?o:sf(o);var s=uf(e);return s.host?cf(s.host,t):cf(e,uf(t).host)}function lf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var i=e.ownerDocument.documentElement,a=e.ownerDocument.scrollingElement||i;return a[n]}return e[n]}function ff(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=lf(t,"top"),i=lf(t,"left"),a=n?-1:1;return e.top+=r*a,e.bottom+=r*a,e.left+=i*a,e.right+=i*a,e}function df(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function pf(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],of(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function hf(e){var t=e.body,n=e.documentElement,r=of(10)&&getComputedStyle(n);return{height:pf("Height",t,n,r),width:pf("Width",t,n,r)}}var vf=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},mf=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),gf=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},yf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function bf(e){return yf({},e,{right:e.left+e.width,bottom:e.top+e.height})}function xf(e){var t={};try{if(of(10)){t=e.getBoundingClientRect();var n=lf(e,"top"),r=lf(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(f){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?hf(e.ownerDocument):{},o=a.width||e.clientWidth||i.width,s=a.height||e.clientHeight||i.height,u=e.offsetWidth-o,c=e.offsetHeight-s;if(u||c){var l=$l(e);u-=df(l,"x"),c-=df(l,"y"),i.width-=u,i.height-=c}return bf(i)}function kf(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=of(10),i="HTML"===t.nodeName,a=xf(e),o=xf(t),s=tf(e),u=$l(t),c=parseFloat(u.borderTopWidth),l=parseFloat(u.borderLeftWidth);n&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var f=bf({top:a.top-o.top-c,left:a.left-o.left-l,width:a.width,height:a.height});if(f.marginTop=0,f.marginLeft=0,!r&&i){var d=parseFloat(u.marginTop),p=parseFloat(u.marginLeft);f.top-=c-d,f.bottom-=c-d,f.left-=l-p,f.right-=l-p,f.marginTop=d,f.marginLeft=p}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(f=ff(f,t)),f}function wf(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=kf(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:lf(n),s=t?0:lf(n,"left"),u={top:o-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:a};return bf(u)}function _f(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===$l(e,"position"))return!0;var n=ef(e);return!!n&&_f(n)}function Sf(e){if(!e||!e.parentElement||of())return document.documentElement;for(var t=e.parentElement;t&&"none"===$l(t,"transform");)t=t.parentElement;return t||document.documentElement}function Tf(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},o=i?Sf(e):cf(e,nf(t));if("viewport"===r)a=wf(o,i);else{var s=void 0;"scrollParent"===r?"BODY"===(s=tf(ef(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var u=kf(s,o,i);if("HTML"!==s.nodeName||_f(o))a=u;else{var c=hf(e.ownerDocument),l=c.height,f=c.width;a.top+=u.top-u.marginTop,a.bottom=l+u.top,a.left+=u.left-u.marginLeft,a.right=f+u.left}}var d="number"===typeof(n=n||0);return a.left+=d?n:n.left||0,a.top+=d?n:n.top||0,a.right-=d?n:n.right||0,a.bottom-=d?n:n.bottom||0,a}function Ef(e){return e.width*e.height}function Cf(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=Tf(n,r,a,i),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},u=Object.keys(s).map((function(e){return yf({key:e},s[e],{area:Ef(s[e])})})).sort((function(e,t){return t.area-e.area})),c=u.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),l=c.length>0?c[0].key:u[0].key,f=e.split("-")[1];return l+(f?"-"+f:"")}function Of(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?Sf(t):cf(t,nf(n));return kf(n,i,r)}function Af(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function If(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function Rf(e,t,n){n=n.split("-")[0];var r=Af(e),i={width:r.width,height:r.height},a=-1!==["right","left"].indexOf(n),o=a?"top":"left",s=a?"left":"top",u=a?"height":"width",c=a?"width":"height";return i[o]=t[o]+t[u]/2-r[u]/2,i[s]=n===s?t[s]-r[c]:t[If(s)],i}function Nf(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function Pf(e,t,n){var r=void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=Nf(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n));return r.forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&Jl(n)&&(t.offsets.popper=bf(t.offsets.popper),t.offsets.reference=bf(t.offsets.reference),t=n(t,e))})),t}function Mf(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=Of(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=Cf(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=Rf(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=Pf(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function Df(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function Lf(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],a=i?""+i+n:e;if("undefined"!==typeof document.body.style[a])return a}return null}function jf(){return this.state.isDestroyed=!0,Df(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Lf("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Ff(e){var t=e.ownerDocument;return t?t.defaultView:window}function Zf(e,t,n,r){var i="BODY"===e.nodeName,a=i?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:!0}),i||Zf(tf(a.parentNode),t,n,r),r.push(a)}function Bf(e,t,n,r){n.updateBound=r,Ff(e).addEventListener("resize",n.updateBound,{passive:!0});var i=tf(e);return Zf(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function Uf(){this.state.eventsEnabled||(this.state=Bf(this.reference,this.options,this.state,this.scheduleUpdate))}function Vf(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Ff(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function zf(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Wf(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&zf(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var Hf=Yl&&/Firefox/i.test(navigator.userAgent);function Gf(e,t,n){var r=Nf(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var a="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}var qf=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Kf=qf.slice(3);function Yf(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Kf.indexOf(e),r=Kf.slice(n+1).concat(Kf.slice(0,n));return t?r.reverse():r}var Xf="flip",Qf="clockwise",Jf="counterclockwise";function $f(e,t,n,r){var i=[0,0],a=-1!==["right","left"].indexOf(r),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=o.indexOf(Nf(o,(function(e){return-1!==e.search(/,|\s/)})));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1!==s?[o.slice(0,s).concat([o[s].split(u)[0]]),[o[s].split(u)[1]].concat(o.slice(s+1))]:[o];return c=c.map((function(e,r){var i=(1===r?!a:a)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],o=i[2];if(!a)return e;if(0===o.indexOf("%")){return bf("%p"===o?n:r)[t]/100*a}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a;return a}(e,i,t,n)}))})),c.forEach((function(e,t){e.forEach((function(n,r){zf(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var ed={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,a=i.reference,o=i.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",c=s?"width":"height",l={start:gf({},u,a[u]),end:gf({},u,a[u]+a[c]-o[c])};e.offsets.popper=yf({},o,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,a=i.popper,o=i.reference,s=r.split("-")[0],u=void 0;return u=zf(+n)?[+n,0]:$f(n,a,o,s),"left"===s?(a.top+=u[0],a.left-=u[1]):"right"===s?(a.top+=u[0],a.left+=u[1]):"top"===s?(a.left+=u[0],a.top-=u[1]):"bottom"===s&&(a.left+=u[0],a.top+=u[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||sf(e.instance.popper);e.instance.reference===n&&(n=sf(n));var r=Lf("transform"),i=e.instance.popper.style,a=i.top,o=i.left,s=i[r];i.top="",i.left="",i[r]="";var u=Tf(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=a,i.left=o,i[r]=s,t.boundaries=u;var c=t.priority,l=e.offsets.popper,f={primary:function(e){var n=l[e];return l[e]<u[e]&&!t.escapeWithReference&&(n=Math.max(l[e],u[e])),gf({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=l[n];return l[e]>u[e]&&!t.escapeWithReference&&(r=Math.min(l[n],u[e]-("right"===e?l.width:l.height))),gf({},n,r)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=yf({},l,f[t](e))})),e.offsets.popper=l,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],a=Math.floor,o=-1!==["top","bottom"].indexOf(i),s=o?"right":"bottom",u=o?"left":"top",c=o?"width":"height";return n[s]<a(r[u])&&(e.offsets.popper[u]=a(r[u])-n[c]),n[u]>a(r[s])&&(e.offsets.popper[u]=a(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Gf(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,o=a.popper,s=a.reference,u=-1!==["left","right"].indexOf(i),c=u?"height":"width",l=u?"Top":"Left",f=l.toLowerCase(),d=u?"left":"top",p=u?"bottom":"right",h=Af(r)[c];s[p]-h<o[f]&&(e.offsets.popper[f]-=o[f]-(s[p]-h)),s[f]+h>o[p]&&(e.offsets.popper[f]+=s[f]+h-o[p]),e.offsets.popper=bf(e.offsets.popper);var v=s[f]+s[c]/2-h/2,m=$l(e.instance.popper),g=parseFloat(m["margin"+l]),y=parseFloat(m["border"+l+"Width"]),b=v-e.offsets.popper[f]-g-y;return b=Math.max(Math.min(o[c]-h,b),0),e.arrowElement=r,e.offsets.arrow=(gf(n={},f,Math.round(b)),gf(n,d,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(Df(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=Tf(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=If(r),a=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case Xf:o=[r,i];break;case Qf:o=Yf(r);break;case Jf:o=Yf(r,!0);break;default:o=t.behavior}return o.forEach((function(s,u){if(r!==s||o.length===u+1)return e;r=e.placement.split("-")[0],i=If(r);var c=e.offsets.popper,l=e.offsets.reference,f=Math.floor,d="left"===r&&f(c.right)>f(l.left)||"right"===r&&f(c.left)<f(l.right)||"top"===r&&f(c.bottom)>f(l.top)||"bottom"===r&&f(c.top)<f(l.bottom),p=f(c.left)<f(n.left),h=f(c.right)>f(n.right),v=f(c.top)<f(n.top),m=f(c.bottom)>f(n.bottom),g="left"===r&&p||"right"===r&&h||"top"===r&&v||"bottom"===r&&m,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===a&&p||y&&"end"===a&&h||!y&&"start"===a&&v||!y&&"end"===a&&m),x=!!t.flipVariationsByContent&&(y&&"start"===a&&h||y&&"end"===a&&p||!y&&"start"===a&&m||!y&&"end"===a&&v),k=b||x;(d||g||k)&&(e.flipped=!0,(d||g)&&(r=o[u+1]),k&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=r+(a?"-"+a:""),e.offsets.popper=yf({},e.offsets.popper,Rf(e.instance.popper,e.offsets.reference,e.placement)),e=Pf(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,a=r.reference,o=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[o?"left":"top"]=a[n]-(s?i[o?"width":"height"]:0),e.placement=If(t),e.offsets.popper=bf(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Gf(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=Nf(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,a=Nf(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==a?a:t.gpuAcceleration,s=sf(e.instance.popper),u=xf(s),c={position:i.position},l=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,a=Math.round,o=Math.floor,s=function(e){return e},u=a(i.width),c=a(r.width),l=-1!==["left","right"].indexOf(e.placement),f=-1!==e.placement.indexOf("-"),d=t?l||f||u%2===c%2?a:o:s,p=t?a:s;return{left:d(u%2===1&&c%2===1&&!f&&t?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:d(r.right)}}(e,window.devicePixelRatio<2||!Hf),f="bottom"===n?"top":"bottom",d="right"===r?"left":"right",p=Lf("transform"),h=void 0,v=void 0;if(v="bottom"===f?"HTML"===s.nodeName?-s.clientHeight+l.bottom:-u.height+l.bottom:l.top,h="right"===d?"HTML"===s.nodeName?-s.clientWidth+l.right:-u.width+l.right:l.left,o&&p)c[p]="translate3d("+h+"px, "+v+"px, 0)",c[f]=0,c[d]=0,c.willChange="transform";else{var m="bottom"===f?-1:1,g="right"===d?-1:1;c[f]=v*m,c[d]=h*g,c.willChange=f+", "+d}var y={"x-placement":e.placement};return e.attributes=yf({},y,e.attributes),e.styles=yf({},c,e.styles),e.arrowStyles=yf({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Wf(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Wf(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var a=Of(i,t,e,n.positionFixed),o=Cf(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),Wf(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},td={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:ed},nd=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};vf(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=Ql(this.update.bind(this)),this.options=yf({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(yf({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){r.options.modifiers[t]=yf({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return yf({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&Jl(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return mf(e,[{key:"update",value:function(){return Mf.call(this)}},{key:"destroy",value:function(){return jf.call(this)}},{key:"enableEventListeners",value:function(){return Uf.call(this)}},{key:"disableEventListeners",value:function(){return Vf.call(this)}}]),e}();nd.Utils=("undefined"!==typeof window?window:n.g).PopperUtils,nd.placements=qf,nd.Defaults=td;var rd=nd;function id(e){return"function"===typeof e?e():e}var ad="undefined"!==typeof window?e.useLayoutEffect:e.useEffect,od={},sd=e.forwardRef((function(t,n){var i=t.anchorEl,a=t.children,o=t.container,s=t.disablePortal,u=void 0!==s&&s,l=t.keepMounted,f=void 0!==l&&l,d=t.modifiers,h=t.open,v=t.placement,m=void 0===v?"bottom":v,g=t.popperOptions,y=void 0===g?od:g,b=t.popperRef,x=t.style,k=t.transition,w=void 0!==k&&k,S=(0,p.Z)(t,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),T=e.useRef(null),E=(0,_.Z)(T,n),C=e.useRef(null),O=(0,_.Z)(C,b),A=e.useRef(O);ad((function(){A.current=O}),[O]),e.useImperativeHandle(b,(function(){return C.current}),[]);var I=e.useState(!0),R=I[0],N=I[1],P=function(e,t){if("ltr"===(t&&t.direction||"ltr"))return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(m,(0,c.Z)()),M=e.useState(P),D=M[0],L=M[1];e.useEffect((function(){C.current&&C.current.update()}));var j=e.useCallback((function(){if(T.current&&i&&h){C.current&&(C.current.destroy(),A.current(null));var e=function(e){L(e.placement)},t=(id(i),new rd(id(i),T.current,(0,r.Z)({placement:P},y,{modifiers:(0,r.Z)({},u?{}:{preventOverflow:{boundariesElement:"window"}},d,y.modifiers),onCreate:(0,qs.Z)(e,y.onCreate),onUpdate:(0,qs.Z)(e,y.onUpdate)})));A.current(t)}}),[i,u,d,h,P,y]),F=e.useCallback((function(e){(0,zs.Z)(E,e),j()}),[E,j]),Z=function(){C.current&&(C.current.destroy(),A.current(null))};if(e.useEffect((function(){return function(){Z()}}),[]),e.useEffect((function(){h||w||Z()}),[h,w]),!f&&!h&&(!w||R))return null;var B={placement:D};return w&&(B.TransitionProps={in:h,onEnter:function(){N(!1)},onExited:function(){N(!0),Z()}}),e.createElement(Gs,{disablePortal:u,container:o},e.createElement("div",(0,r.Z)({ref:F,role:"tooltip"},S,{style:(0,r.Z)({position:"fixed",top:0,left:0,display:h||!f||w?null:"none"},x)}),"function"===typeof a?a(B):a))})),ud=sd,cd=n(22939);function ld(e){return Math.round(1e5*e)/1e5}var fd=!1,dd=null;var pd=e.forwardRef((function(n,i){var a=n.arrow,o=void 0!==a&&a,s=n.children,u=n.classes,c=n.disableFocusListener,l=void 0!==c&&c,f=n.disableHoverListener,d=void 0!==f&&f,v=n.disableTouchListener,m=void 0!==v&&v,g=n.enterDelay,y=void 0===g?100:g,b=n.enterNextDelay,x=void 0===b?0:b,k=n.enterTouchDelay,w=void 0===k?700:k,S=n.id,E=n.interactive,C=void 0!==E&&E,O=n.leaveDelay,A=void 0===O?0:O,I=n.leaveTouchDelay,R=void 0===I?1500:I,N=n.onClose,P=n.onOpen,M=n.open,D=n.placement,L=void 0===D?"bottom":D,j=n.PopperComponent,F=void 0===j?ud:j,Z=n.PopperProps,B=n.title,U=n.TransitionComponent,V=void 0===U?Bc:U,W=n.TransitionProps,H=(0,p.Z)(n,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),q=bu(),K=e.useState(),Y=K[0],X=K[1],Q=e.useState(null),J=Q[0],$=Q[1],ee=e.useRef(!1),te=e.useRef(),ne=e.useRef(),re=e.useRef(),ie=e.useRef(),ae=(0,sl.Z)({controlled:M,default:!1,name:"Tooltip",state:"open"}),oe=(0,G.Z)(ae,2),se=oe[0],ue=oe[1],ce=se,le=(0,cd.Z)(S);e.useEffect((function(){return function(){clearTimeout(te.current),clearTimeout(ne.current),clearTimeout(re.current),clearTimeout(ie.current)}}),[]);var fe=function(e){clearTimeout(dd),fd=!0,ue(!0),P&&P(e)},de=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=s.props;"mouseover"===t.type&&n.onMouseOver&&e&&n.onMouseOver(t),ee.current&&"touchstart"!==t.type||(Y&&Y.removeAttribute("title"),clearTimeout(ne.current),clearTimeout(re.current),y||fd&&x?(t.persist(),ne.current=setTimeout((function(){fe(t)}),fd?x:y)):fe(t))}},pe=(0,T.Z)(),he=pe.isFocusVisible,ve=pe.onBlurVisible,me=pe.ref,ge=e.useState(!1),ye=ge[0],be=ge[1],xe=function(){ye&&(be(!1),ve())},ke=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){Y||X(t.currentTarget),he(t)&&(be(!0),de()(t));var n=s.props;n.onFocus&&e&&n.onFocus(t)}},we=function(e){clearTimeout(dd),dd=setTimeout((function(){fd=!1}),800+A),ue(!1),N&&N(e),clearTimeout(te.current),te.current=setTimeout((function(){ee.current=!1}),q.transitions.duration.shortest)},_e=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=s.props;"blur"===t.type&&(n.onBlur&&e&&n.onBlur(t),xe()),"mouseleave"===t.type&&n.onMouseLeave&&t.currentTarget===Y&&n.onMouseLeave(t),clearTimeout(ne.current),clearTimeout(re.current),t.persist(),re.current=setTimeout((function(){we(t)}),A)}},Se=function(e){ee.current=!0;var t=s.props;t.onTouchStart&&t.onTouchStart(e)},Te=(0,_.Z)(X,i),Ee=(0,_.Z)(me,Te),Ce=e.useCallback((function(e){(0,zs.Z)(Ee,t.findDOMNode(e))}),[Ee]),Oe=(0,_.Z)(s.ref,Ce);""===B&&(ce=!1);var Ae=!ce&&!d,Ie=(0,r.Z)({"aria-describedby":ce?le:null,title:Ae&&"string"===typeof B?B:null},H,s.props,{className:(0,h.Z)(H.className,s.props.className),onTouchStart:Se,ref:Oe}),Re={};m||(Ie.onTouchStart=function(e){Se(e),clearTimeout(re.current),clearTimeout(te.current),clearTimeout(ie.current),e.persist(),ie.current=setTimeout((function(){de()(e)}),w)},Ie.onTouchEnd=function(e){s.props.onTouchEnd&&s.props.onTouchEnd(e),clearTimeout(ie.current),clearTimeout(re.current),e.persist(),re.current=setTimeout((function(){we(e)}),R)}),d||(Ie.onMouseOver=de(),Ie.onMouseLeave=_e(),C&&(Re.onMouseOver=de(!1),Re.onMouseLeave=_e(!1))),l||(Ie.onFocus=ke(),Ie.onBlur=_e(),C&&(Re.onFocus=ke(!1),Re.onBlur=_e(!1)));var Ne=e.useMemo((function(){return(0,Kl.Z)({popperOptions:{modifiers:{arrow:{enabled:Boolean(J),element:J}}}},Z)}),[J,Z]);return e.createElement(e.Fragment,null,e.cloneElement(s,Ie),e.createElement(F,(0,r.Z)({className:(0,h.Z)(u.popper,C&&u.popperInteractive,o&&u.popperArrow),placement:L,anchorEl:Y,open:!!Y&&ce,id:Ie["aria-describedby"],transition:!0},Re,Ne),(function(t){var n=t.placement,i=t.TransitionProps;return e.createElement(V,(0,r.Z)({timeout:q.transitions.duration.shorter},i,W),e.createElement("div",{className:(0,h.Z)(u.tooltip,u["tooltipPlacement".concat((0,z.Z)(n.split("-")[0]))],ee.current&&u.touch,o&&u.tooltipArrow)},B,o?e.createElement("span",{className:u.arrow,ref:$}):null))})))})),hd=(0,i.Z)((function(e){return{popper:{zIndex:e.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}},tooltip:{backgroundColor:(0,w.Fq)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(ld(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:(0,w.Fq)(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(ld(16/14),"em"),fontWeight:e.typography.fontWeightRegular},tooltipPlacementLeft:(0,d.Z)({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:(0,d.Z)({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:(0,d.Z)({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:(0,d.Z)({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}}),{name:"MuiTooltip",flip:!1})(pd),vd=e.forwardRef((function(t,n){t.checked;var i=t.classes,a=t.className,o=t.control,s=t.disabled,u=(t.inputRef,t.label),c=t.labelPlacement,l=void 0===c?"end":c,f=(t.name,t.onChange,t.value,(0,p.Z)(t,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),d=dl(),v=s;"undefined"===typeof v&&"undefined"!==typeof o.props.disabled&&(v=o.props.disabled),"undefined"===typeof v&&d&&(v=d.disabled);var m={disabled:v};return["checked","name","onChange","value","inputRef"].forEach((function(e){"undefined"===typeof o.props[e]&&"undefined"!==typeof t[e]&&(m[e]=t[e])})),e.createElement("label",(0,r.Z)({className:(0,h.Z)(i.root,a,"end"!==l&&i["labelPlacement".concat((0,z.Z)(l))],v&&i.disabled),ref:n},f),e.cloneElement(o,m),e.createElement(Zu,{component:"span",className:(0,h.Z)(i.label,v&&i.disabled)},u))})),md=(0,i.Z)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(vd),gd=e.forwardRef((function(t,n){var i=t.edge,a=void 0!==i&&i,o=t.children,s=t.classes,u=t.className,c=t.color,l=void 0===c?"default":c,f=t.disabled,d=void 0!==f&&f,v=t.disableFocusRipple,m=void 0!==v&&v,g=t.size,y=void 0===g?"medium":g,b=(0,p.Z)(t,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return e.createElement(V,(0,r.Z)({className:(0,h.Z)(s.root,u,"default"!==l&&s["color".concat((0,z.Z)(l))],d&&s.disabled,"small"===y&&s["size".concat((0,z.Z)(y))],{start:s.edgeStart,end:s.edgeEnd}[a]),centerRipple:!0,focusRipple:!m,disabled:d,ref:n},b),e.createElement("span",{className:s.label},o))})),yd=(0,i.Z)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,w.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,w.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,w.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(gd),bd=e.forwardRef((function(t,n){var i=t.autoFocus,a=t.checked,o=t.checkedIcon,s=t.classes,u=t.className,c=t.defaultChecked,l=t.disabled,f=t.icon,d=t.id,v=t.inputProps,m=t.inputRef,g=t.name,y=t.onBlur,b=t.onChange,x=t.onFocus,k=t.readOnly,w=t.required,_=t.tabIndex,S=t.type,T=t.value,E=(0,p.Z)(t,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),C=(0,sl.Z)({controlled:a,default:Boolean(c),name:"SwitchBase",state:"checked"}),O=(0,G.Z)(C,2),A=O[0],I=O[1],R=dl(),N=l;R&&"undefined"===typeof N&&(N=R.disabled);var P="checkbox"===S||"radio"===S;return e.createElement(yd,(0,r.Z)({component:"span",className:(0,h.Z)(s.root,u,A&&s.checked,N&&s.disabled),disabled:N,tabIndex:null,role:void 0,onFocus:function(e){x&&x(e),R&&R.onFocus&&R.onFocus(e)},onBlur:function(e){y&&y(e),R&&R.onBlur&&R.onBlur(e)},ref:n},E),e.createElement("input",(0,r.Z)({autoFocus:i,checked:a,defaultChecked:c,className:s.input,disabled:N,id:P&&d,name:g,onChange:function(e){var t=e.target.checked;I(t),b&&b(e,t)},readOnly:k,ref:m,required:w,tabIndex:_,type:S,value:T},v)),A?o:f)})),xd=(0,i.Z)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(bd),kd=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.color,s=void 0===o?"secondary":o,u=t.edge,c=void 0!==u&&u,l=t.size,f=void 0===l?"medium":l,d=(0,p.Z)(t,["classes","className","color","edge","size"]),v=e.createElement("span",{className:i.thumb});return e.createElement("span",{className:(0,h.Z)(i.root,a,{start:i.edgeStart,end:i.edgeEnd}[c],"small"===f&&i["size".concat((0,z.Z)(f))])},e.createElement(xd,(0,r.Z)({type:"checkbox",icon:v,checkedIcon:v,classes:{root:(0,h.Z)(i.switchBase,i["color".concat((0,z.Z)(s))]),input:i.input,checked:i.checked,disabled:i.disabled},ref:n},d)),e.createElement("span",{className:i.track}))})),wd=(0,i.Z)((function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,w.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,w.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}}),{name:"MuiSwitch"})(kd),_d=n(47121);function Sd(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(0,c.Z)(),a=(0,Us.Z)({theme:i,name:"MuiUseMediaQuery",props:{}});var o="function"===typeof t?t(i):t;o=o.replace(/^@media( ?)/m,"");var s="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,u=(0,r.Z)({},a,n),l=u.defaultMatches,f=void 0!==l&&l,d=u.matchMedia,p=void 0===d?s?window.matchMedia:null:d,h=u.noSsr,v=void 0!==h&&h,m=u.ssrMatchMedia,g=void 0===m?null:m,y=e.useState((function(){return v&&s?p(o).matches:g?g(o).matches:f})),b=y[0],x=y[1];return e.useEffect((function(){var e=!0;if(s){var t=p(o),n=function(){e&&x(t.matches)};return n(),t.addListener(n),function(){e=!1,t.removeListener(n)}}}),[o,p,s]),b}var Td=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n?_d.X.indexOf(e)<=_d.X.indexOf(t):_d.X.indexOf(e)<_d.X.indexOf(t)},Ed=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n?_d.X.indexOf(t)<=_d.X.indexOf(e):_d.X.indexOf(t)<_d.X.indexOf(e)},Cd="undefined"===typeof window?e.useEffect:e.useLayoutEffect,Od=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var i=t.withTheme,a=void 0!==i&&i,o=t.noSSR,s=void 0!==o&&o,u=t.initialWidth;function c(t){var i=bu(),o=t.theme||i,c=(0,Us.Z)({theme:o,name:"MuiWithWidth",props:(0,r.Z)({},t)}),l=c.initialWidth,f=c.width,d=(0,p.Z)(c,["initialWidth","width"]),h=e.useState(!1),v=h[0],m=h[1];Cd((function(){m(!0)}),[]);var g=o.breakpoints.keys.slice().reverse().reduce((function(e,t){var n=Sd(o.breakpoints.up(t));return!e&&n?t:e}),null),y=(0,r.Z)({width:f||(v||s?g:void 0)||l||u},a?{theme:o}:{},d);return void 0===y.width?null:e.createElement(n,y)}return m()(c,n),c}};function Ad(e){var t=e.children,n=e.only,r=e.width,i=bu(),a=!0;if(n)if(Array.isArray(n))for(var o=0;o<n.length;o+=1){if(r===n[o]){a=!1;break}}else n&&r===n&&(a=!1);if(a)for(var s=0;s<i.breakpoints.keys.length;s+=1){var u=i.breakpoints.keys[s],c=e["".concat(u,"Up")],l=e["".concat(u,"Down")];if(c&&Td(u,r)||l&&Ed(u,r)){a=!1;break}}return a?t:null}Ad.propTypes={children:_o().node,className:_o().string,implementation:_o().oneOf(["js","css"]),initialWidth:_o().oneOf(["xs","sm","md","lg","xl"]),lgDown:_o().bool,lgUp:_o().bool,mdDown:_o().bool,mdUp:_o().bool,only:_o().oneOfType([_o().oneOf(["xs","sm","md","lg","xl"]),_o().arrayOf(_o().oneOf(["xs","sm","md","lg","xl"]))]),smDown:_o().bool,smUp:_o().bool,width:_o().string.isRequired,xlDown:_o().bool,xlUp:_o().bool,xsDown:_o().bool,xsUp:_o().bool};var Id=Od()(Ad);var Rd=(0,i.Z)((function(e){var t={display:"none"};return e.breakpoints.keys.reduce((function(n,r){return n["only".concat((0,z.Z)(r))]=(0,d.Z)({},e.breakpoints.only(r),t),n["".concat(r,"Up")]=(0,d.Z)({},e.breakpoints.up(r),t),n["".concat(r,"Down")]=(0,d.Z)({},e.breakpoints.down(r),t),n}),{})}),{name:"PrivateHiddenCss"})((function(t){var n=t.children,r=t.classes,i=t.className,a=t.only,o=((0,p.Z)(t,["children","classes","className","only"]),bu()),s=[];i&&s.push(i);for(var u=0;u<o.breakpoints.keys.length;u+=1){var c=o.breakpoints.keys[u],l=t["".concat(c,"Up")],f=t["".concat(c,"Down")];l&&s.push(r["".concat(c,"Up")]),f&&s.push(r["".concat(c,"Down")])}return a&&(Array.isArray(a)?a:[a]).forEach((function(e){s.push(r["only".concat((0,z.Z)(e))])})),e.createElement("div",{className:s.join(" ")},n)}));var Nd=function(t){var n=t.implementation,i=void 0===n?"js":n,a=t.lgDown,o=void 0!==a&&a,s=t.lgUp,u=void 0!==s&&s,c=t.mdDown,l=void 0!==c&&c,f=t.mdUp,d=void 0!==f&&f,h=t.smDown,v=void 0!==h&&h,m=t.smUp,g=void 0!==m&&m,y=t.xlDown,b=void 0!==y&&y,x=t.xlUp,k=void 0!==x&&x,w=t.xsDown,_=void 0!==w&&w,S=t.xsUp,T=void 0!==S&&S,E=(0,p.Z)(t,["implementation","lgDown","lgUp","mdDown","mdUp","smDown","smUp","xlDown","xlUp","xsDown","xsUp"]);return"js"===i?e.createElement(Id,(0,r.Z)({lgDown:o,lgUp:u,mdDown:l,mdUp:d,smDown:v,smUp:g,xlDown:b,xlUp:k,xsDown:_,xsUp:T},E)):e.createElement(Rd,(0,r.Z)({lgDown:o,lgUp:u,mdDown:l,mdUp:d,smDown:v,smUp:g,xlDown:b,xlUp:k,xsDown:_,xsUp:T},E))};var Pd=x("video")({width:"100%",height:"100%"});function Md(t){var n,r,i=t.track,a=t.isLocal,o=t.priority,s=(0,e.useRef)(null),u=pc(i),c=function(t){var n=(0,e.useState)(null===t||void 0===t?void 0:t.dimensions),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(a(null===t||void 0===t?void 0:t.dimensions),t){var e=function(e){return a({width:e.dimensions.width,height:e.dimensions.height})};return t.on("dimensionsChanged",e),function(){t.off("dimensionsChanged",e)}}}),[t]),i}(i),l=(null!==(n=null===c||void 0===c?void 0:c.height)&&void 0!==n?n:0)>(null!==(r=null===c||void 0===c?void 0:c.width)&&void 0!==r?r:0);(0,e.useEffect)((function(){var e=s.current;return e.muted=!0,i.setPriority&&o&&i.setPriority(o),i.attach(e),function(){i.detach(e),e.srcObject=null,i.setPriority&&o&&i.setPriority(null)}}),[i,o]);var f="environment"!==(null===u||void 0===u?void 0:u.getSettings().facingMode),d={transform:a&&f?"scaleX(-1)":"",objectFit:l||i.name.includes("screen")?"contain":"cover"};return(0,is.jsx)(Pd,{ref:s,style:d})}var Dd=k({preview:{width:"300px",maxHeight:"200px",margin:"0.5em auto","& video":{maxHeight:"200px"}}});function Ld(){var t=Dd(),n=de().videoInputDevices,r=Fs().localTracks.find((function(e){return"video"===e.kind})),i=pc(r),a=(0,e.useState)(window.localStorage.getItem(re)),o=(0,G.Z)(a,2),s=o[0],u=o[1],c=(null===i||void 0===i?void 0:i.getSettings().deviceId)||s;return(0,is.jsxs)("div",{children:[r&&(0,is.jsx)("div",{className:t.preview,children:(0,is.jsx)(Md,{isLocal:!0,track:r})}),n.length>1?(0,is.jsxs)(Nc,{fullWidth:!0,children:[(0,is.jsx)(Zu,{variant:"subtitle2",gutterBottom:!0,children:"Video Input"}),(0,is.jsx)(Bl,{onChange:function(e){return t=e.target.value,u(t),window.localStorage.setItem(re,t),void(null===r||void 0===r||r.restart(X(X({},ee),{},{deviceId:{exact:t}})));var t},value:c||"",variant:"outlined",children:n.map((function(e){return(0,is.jsx)(Hl,{value:e.deviceId,children:e.label},e.deviceId)}))})]}):(0,is.jsxs)(is.Fragment,{children:[(0,is.jsx)(Zu,{variant:"subtitle2",gutterBottom:!0,children:"Video Input"}),(0,is.jsx)(Zu,{children:(null===r||void 0===r?void 0:r.mediaStreamTrack.label)||"No Local Video"})]})]})}var jd=[6,12,24];function Fd(){var e=ss(),t=e.maxGalleryViewParticipants,n=e.setMaxGalleryViewParticipants;return(0,is.jsxs)("div",{children:[(0,is.jsx)(Zu,{variant:"subtitle2",gutterBottom:!0,children:"Max Gallery View Participants"}),(0,is.jsx)(Tc,{container:!0,alignItems:"center",justifyContent:"space-between",children:(0,is.jsx)("div",{className:"inputSelect",children:(0,is.jsx)(Nc,{fullWidth:!0,children:(0,is.jsx)(Bl,{onChange:function(e){return n(parseInt(e.target.value))},value:t,variant:"outlined",children:jd.map((function(e){return(0,is.jsx)(Hl,{value:e,children:e},e)}))})})})})]})}function Zd(){var t=Fs().localTracks.find((function(e){return"audio"===e.kind})),n=t&&t.noiseCancellation,r=n&&n.vendor,i=ss().setIsKrispEnabled;return{vendor:r,toggleKrisp:(0,e.useCallback)((function(){n&&n[n.isEnabled?"disable":"enable"]().then((function(){i(n.isEnabled)}))}),[n,i])}}function Bd(){return(0,is.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,is.jsxs)("g",{filter:"url(#filter0_d_829_18244)",children:[(0,is.jsx)("rect",{x:"4",y:"2",width:"16",height:"16",rx:"8",fill:"white"}),(0,is.jsx)("rect",{width:"12",height:"12",transform:"translate(6 4)",fill:"white",fillOpacity:"0.01"}),(0,is.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.7952 7.95798C14.5221 7.68067 14.0783 7.68067 13.8052 7.95798L11.2852 10.5269L10.1948 9.41534C10.0582 9.2761 9.87928 9.20653 9.70034 9.20653C9.52034 9.20653 9.3414 9.2761 9.20481 9.41534C8.93173 9.69372 8.93173 10.1462 9.20481 10.4246L10.7906 12.0412C10.9231 12.1751 11.0979 12.25 11.2851 12.25C11.4723 12.25 11.6482 12.1751 11.7806 12.0412L14.7951 8.9671C15.0683 8.6898 15.0683 8.23636 14.7952 7.95798Z",fill:"#14B053"})]}),(0,is.jsx)("defs",{children:(0,is.jsxs)("filter",{id:"filter0_d_829_18244",x:"0",y:"0",width:"24",height:"24",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,is.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,is.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,is.jsx)("feOffset",{dy:"2"}),(0,is.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,is.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0705882 0 0 0 0 0.109804 0 0 0 0 0.176471 0 0 0 0.1 0"}),(0,is.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_829_18244"}),(0,is.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_829_18244",result:"shape"})]})})]})}function Ud(){return(0,is.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:(0,is.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,is.jsx)("g",{fill:"#707578",children:(0,is.jsx)("path",{d:"M10 2c4.418 0 8 3.582 8 8s-3.582 8-8 8-8-3.582-8-8 3.582-8 8-8zm0 1.25c-3.728 0-6.75 3.022-6.75 6.75s3.022 6.75 6.75 6.75 6.75-3.022 6.75-6.75S13.728 3.25 10 3.25zM10 9c.552 0 1 .448 1 1v3c0 .552-.448 1-1 1s-1-.448-1-1v-3c0-.552.448-1 1-1zm0-3c.552 0 1 .448 1 1s-.448 1-1 1-1-.448-1-1 .448-1 1-1z",transform:"translate(-1107 -888) translate(1082 799) translate(1 81) translate(24 8)"})})})})}function Vd(){return(0,is.jsxs)("svg",{width:"71",height:"38",viewBox:"0 0 71 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,is.jsx)("path",{d:"M32.6192 27.374H36.6706C36.8619 27.374 37.0183 27.2175 37.0183 27.0262V11.5743C37.0183 11.3831 36.8619 11.2266 36.6706 11.2266H32.6192C32.428 11.2266 32.2715 11.3831 32.2715 11.5743V27.0291C32.2744 27.2204 32.428 27.374 32.6192 27.374Z",fill:"#232930"}),(0,is.jsx)("path",{d:"M9.69928 19.1555L17.2745 11.5802C17.405 11.4498 17.3122 11.2238 17.1267 11.2238H11.0063C10.9512 11.2238 10.899 11.2469 10.8585 11.2846L6.91434 15.2287V4.86854C6.91434 4.72074 6.76364 4.61931 6.62744 4.67437L2.29789 6.42764C2.21964 6.45952 2.16748 6.53486 2.16748 6.6218V27.0263C2.16748 27.2176 2.32397 27.3741 2.51524 27.3741H6.56658C6.75785 27.3741 6.91434 27.2176 6.91434 27.0263V23.0822L11.1512 27.3161C11.1888 27.3538 11.2439 27.377 11.299 27.377L17.4223 27.3741C17.6078 27.3741 17.7005 27.1481 17.5701 27.0176L9.69928 19.1555Z",fill:"#232930"}),(0,is.jsx)("path",{d:"M68.8122 18.721C68.534 14.7421 65.3085 11.5167 61.3267 11.2443C56.6089 10.9197 52.685 14.6494 52.685 19.3006H52.6821V33.7325C52.6821 33.8832 52.8328 33.9817 52.969 33.9266L57.2116 32.2081C57.3449 32.156 57.429 32.0285 57.429 31.8865V26.6557C58.4433 27.1164 59.5706 27.3772 60.7587 27.3772C65.4071 27.3743 69.1396 23.4447 68.8122 18.721ZM60.7587 22.6304C58.9185 22.6304 57.429 21.1379 57.429 19.3006C57.429 17.4633 58.9185 15.9709 60.7587 15.9709C62.5961 15.9709 64.0856 17.4633 64.0856 19.3006C64.0856 21.1379 62.5961 22.6304 60.7587 22.6304Z",fill:"#232930"}),(0,is.jsx)("path",{d:"M45.02 15.1156C45.0345 15.1156 45.0519 15.1156 45.0664 15.1185C45.8459 15.0866 46.5473 15.5851 47.1181 16.3646C47.2109 16.4922 47.379 16.5356 47.5239 16.4777L50.787 15.1649C50.9666 15.0924 51.0536 14.8867 50.9782 14.707C50.1581 12.7306 47.663 11.2266 45.0171 11.2266C41.5628 11.2266 38.7575 13.4232 38.7575 16.1328C38.7575 17.5847 39.6037 18.8453 40.7658 19.6683C41.8091 20.4073 43.0552 20.8855 44.2839 21.2042C44.3245 21.2158 44.3651 21.2245 44.4057 21.2361C46.0633 21.6042 46.3009 22.0417 46.3009 22.4735C46.3009 23.0357 45.6199 23.4907 44.7824 23.4907C43.9159 23.5458 43.1479 22.9517 42.5452 22.0475C42.4553 21.9113 42.2786 21.8621 42.1279 21.9229L38.9024 23.2444C38.7257 23.3168 38.6445 23.5139 38.7112 23.6936C39.6356 26.1974 42.1279 27.3798 44.7824 27.3798C48.2368 27.3798 51.042 25.186 51.042 22.4735C51.042 21.8824 50.9087 21.3173 50.6624 20.7927C50.4276 20.2914 49.8161 19.2249 48.2339 18.486C47.3297 18.0657 44.823 17.3268 43.9623 16.8515C43.6667 16.6892 43.4986 16.4197 43.4986 16.1328C43.4986 15.5706 44.1825 15.1156 45.02 15.1156Z",fill:"#232930"}),(0,is.jsx)("path",{d:"M34.6449 9.63846C36.2758 9.63846 37.5979 8.31635 37.5979 6.68544C37.5979 5.05453 36.2758 3.73242 34.6449 3.73242C33.014 3.73242 31.6919 5.05453 31.6919 6.68544C31.6919 8.31635 33.014 9.63846 34.6449 9.63846Z",fill:"#FF7E5C"}),(0,is.jsx)("path",{d:"M30.4052 11.2266C30.553 11.2266 30.6544 11.3773 30.5993 11.5135L28.8229 15.8401C28.791 15.9184 28.7157 15.9676 28.6316 15.9676H27.3507C25.5192 15.9676 24.0355 17.4514 24.0355 19.2829V27.0291C24.0355 27.2204 23.8819 27.374 23.6906 27.374H19.6393C19.448 27.374 19.2915 27.2175 19.2915 27.0262V19.2829C19.2915 14.8345 22.8995 11.2266 27.3478 11.2266H30.4052Z",fill:"#232930"})]})}var zd=k((function(e){var t;return{container:(t={width:"600px",minHeight:"400px"},(0,d.Z)(t,e.breakpoints.down("xs"),{width:"calc(100vw - 32px)"}),(0,d.Z)(t,"& .inputSelect",{width:"calc(100% - 35px)"}),t),button:{float:"right"},paper:(0,d.Z)({},e.breakpoints.down("xs"),{margin:"16px"}),headline:{marginBottom:"1.3em",fontSize:"1.1rem"},listSection:{margin:"2em 0 0.8em","&:first-child":{margin:"1em 0 2em 0"}},noiseCancellationContainer:{display:"flex",justifyContent:"space-between"},krispContainer:{display:"flex",alignItems:"center","& svg":{"&:not(:last-child)":{margin:"0 0.3em"}}},krispInfoText:{margin:"0 0 1.5em 0.5em"}}}));function Wd(e){var t=e.open,n=e.onClose,r=Fs().isAcquiringLocalTracks,i=ss(),a=i.isKrispEnabled,o=i.isKrispInstalled,s=Zd().toggleKrisp,u=zd();return(0,is.jsxs)(Nu,{open:t,onClose:n,classes:{paper:u.paper},children:[(0,is.jsx)(zu,{children:"Audio and Video Settings"}),(0,is.jsx)(Hu,{}),(0,is.jsxs)(Lu,{className:u.container,children:[(0,is.jsxs)("div",{className:u.listSection,children:[(0,is.jsx)(Zu,{variant:"h6",className:u.headline,children:"Video"}),(0,is.jsx)(Ld,{})]}),(0,is.jsx)(Hu,{}),(0,is.jsxs)("div",{className:u.listSection,children:[(0,is.jsx)(Zu,{variant:"h6",className:u.headline,children:"Audio"}),o&&(0,is.jsxs)("div",{className:u.noiseCancellationContainer,children:[(0,is.jsxs)("div",{className:u.krispContainer,children:[(0,is.jsx)(Zu,{variant:"subtitle2",children:"Noise Cancellation powered by "}),(0,is.jsx)(Vd,{}),(0,is.jsx)(hd,{title:"Suppress background noise from your microphone",interactive:!0,leaveDelay:250,leaveTouchDelay:15e3,enterTouchDelay:0,children:(0,is.jsx)("div",{children:(0,is.jsx)(Ud,{})})})]}),(0,is.jsx)(md,{control:(0,is.jsx)(wd,{checked:!!a,checkedIcon:(0,is.jsx)(Bd,{}),disableRipple:!0,onClick:s}),label:a?"Enabled":"Disabled",style:{marginRight:0},disabled:r})]}),o&&(0,is.jsx)(Zu,{variant:"body1",color:"textSecondary",className:u.krispInfoText,children:"Suppress background noise from your microphone."}),(0,is.jsx)(Gl,{})]}),(0,is.jsx)("div",{className:u.listSection,children:(0,is.jsx)(ql,{})}),(0,is.jsxs)(Nd,{smDown:!0,children:[(0,is.jsx)(Hu,{}),(0,is.jsxs)("div",{className:u.listSection,children:[(0,is.jsx)(Zu,{variant:"h6",className:u.headline,children:"Gallery View"}),(0,is.jsx)(Fd,{})]})]})]}),(0,is.jsx)(Hu,{}),(0,is.jsx)(Mu,{children:(0,is.jsx)(H,{color:"primary",variant:"contained",className:u.button,onClick:n,children:"Done"})})]})}var Hd=n(97595),Gd=n(21759),qd=n(65952);function Kd(){return(0,is.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:(0,is.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,is.jsx)("g",{fill:"#707578",children:(0,is.jsx)("path",{d:"M14.714 5.286c2.604 2.603 2.604 6.825 0 9.428-2.603 2.604-6.825 2.604-9.428 0-2.604-2.603-2.604-6.825 0-9.428 2.603-2.604 6.825-2.604 9.428 0zm-8.703.725c-2.203 2.203-2.203 5.775 0 7.978 2.203 2.203 5.775 2.203 7.978 0 2.142-2.142 2.201-5.577.178-7.791l-.178-.187-.187-.178c-2.214-2.023-5.649-1.964-7.79.178zM10 5.833c2.301 0 4.167 1.866 4.167 4.167 0 2.301-1.866 4.167-4.167 4.167-2.301 0-4.167-1.866-4.167-4.167C5.833 7.699 7.7 5.833 10 5.833z",transform:"translate(-175 -158) translate(150 141) translate(1 9) translate(24 8)"})})})})}function Yd(){return(0,is.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:(0,is.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,is.jsx)("g",{fill:"#707578",children:(0,is.jsx)("path",{d:"M15 3.333c.92 0 1.667.747 1.667 1.667v10c0 .92-.747 1.667-1.667 1.667H5c-.92 0-1.667-.747-1.667-1.667V5c0-.92.747-1.667 1.667-1.667h10zm0 .834H5c-.427 0-.78.321-.828.736L4.167 5v10c0 .427.321.78.736.828l.097.005h10c.427 0 .78-.321.828-.736l.005-.097V5c0-.427-.321-.78-.736-.828L15 4.167zm-.833 1.666v8.334H5.833V5.833h8.334z",transform:"translate(-175 -158) translate(150 141) translate(1 9) translate(24 8)"})})})})}var Xd=n(13880);function Qd(){return(0,is.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,is.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.774 14.14L16.3413 13.2506C16.3286 13.2244 16.3173 13.1974 16.3075 13.17C16.1465 12.7274 16.3736 12.2377 16.8155 12.0749L17.7467 11.7347C18.5055 11.4566 19.0077 10.7311 19.0011 9.92278C18.9944 9.11441 18.4804 8.39788 17.7172 8.13314L16.7859 7.81039C16.758 7.80094 16.7306 7.7894 16.7056 7.77843C16.2794 7.57999 16.0942 7.07384 16.2915 6.64668L16.7082 5.74887C17.049 5.01563 16.8921 4.14738 16.3163 3.58049C15.7405 3.0136 14.8703 2.87065 14.1431 3.2235L13.246 3.65462C13.2199 3.66744 13.1931 3.67882 13.1658 3.68869C12.954 3.76821 12.7189 3.75812 12.5148 3.66073C12.3097 3.56606 12.1511 3.39306 12.0746 3.18044L12.0741 3.17844L11.7334 2.25081C11.4547 1.49408 10.7313 0.994061 9.92513 1.00105C9.119 1.00804 8.40369 1.52053 8.13727 2.28199L7.8091 3.22223C7.79964 3.25006 7.78863 3.27733 7.7761 3.30391C7.57656 3.73058 7.06934 3.91499 6.64288 3.71592L5.74485 3.29868C5.01263 2.96105 4.14713 3.11998 3.58195 3.69585C3.01677 4.27171 2.87367 5.14046 3.22434 5.86685L3.65571 6.76067C3.66851 6.78686 3.67999 6.81368 3.69009 6.84103C3.85069 7.28399 3.62314 7.77372 3.18105 7.9366L2.25109 8.27683C1.74395 8.46368 1.33939 8.85649 1.13749 9.3581C0.935598 9.8597 0.955223 10.4232 1.19151 10.9093C1.41059 11.3666 1.80499 11.7159 2.28525 11.878L3.21579 12.2005C3.24614 12.2114 3.27565 12.2233 3.30063 12.2343C3.72728 12.4329 3.91226 12.9399 3.7139 13.3671L3.29483 14.2675C3.07772 14.742 3.06371 15.2845 3.25603 15.7693C3.44835 16.2542 3.83032 16.6393 4.31342 16.8354C4.34216 16.847 4.3712 16.8578 4.40056 16.8679C4.87879 17.0366 5.40471 17.0069 5.86112 16.7853L6.75557 16.3531C6.78218 16.3402 6.81093 16.3286 6.8356 16.3194C7.04851 16.2445 7.282 16.2542 7.48788 16.3465C7.6933 16.4413 7.85223 16.6144 7.92922 16.8273L8.27064 17.7606C8.55155 18.5147 9.27456 19.0117 10.079 19.0036C10.8834 18.9955 11.5969 18.4841 11.8635 17.7245L12.1864 16.7928C12.1968 16.7627 12.2087 16.7332 12.2201 16.7083C12.4211 16.2836 12.9258 16.099 13.3529 16.2939L14.2494 16.7105C14.9825 17.0512 15.8508 16.8933 16.4177 16.3161C16.9845 15.7389 17.1272 14.8675 16.774 14.14ZM15.4272 15.7438C15.1965 15.8557 14.9279 15.8582 14.6953 15.7505L13.7992 15.334C13.3395 15.1185 12.8127 15.0956 12.3358 15.2705C11.8589 15.4453 11.4714 15.8035 11.2594 16.2653C11.2334 16.3231 11.21 16.381 11.1879 16.4434L10.8648 17.3755C10.7896 17.5889 10.6327 17.7637 10.4286 17.8613C10.2245 17.959 9.9901 17.9714 9.77695 17.8959C9.53792 17.8159 9.34868 17.6308 9.26323 17.3935L8.92318 16.4634C8.74891 15.9867 8.39229 15.5989 7.93192 15.3856C7.47155 15.1724 6.94522 15.1511 6.46891 15.3264C6.40896 15.349 6.35008 15.3734 6.29456 15.4005L5.4017 15.832C5.198 15.9306 4.96337 15.9438 4.75003 15.8685C4.53569 15.7956 4.36017 15.6387 4.26376 15.4338C4.15381 15.2059 4.15081 14.9409 4.25558 14.7105L4.6727 13.8138C4.88722 13.3534 4.9098 12.8267 4.73547 12.3499C4.56113 11.8731 4.20422 11.4855 3.74357 11.2726C3.71568 11.26 3.68725 11.2477 3.65813 11.2359C3.62824 11.2238 3.59766 11.2124 3.56562 11.2012L2.6307 10.8774C2.29028 10.7597 2.06067 10.4405 2.0571 10.0801C2.05353 9.71966 2.27677 9.39575 2.61479 9.2709L3.54421 8.93088C4.05237 8.74551 4.45826 8.35329 4.66113 7.8516C4.864 7.34991 4.8448 6.7858 4.60832 6.29933L4.17719 5.40605C4.0208 5.08228 4.08434 4.69501 4.33601 4.43805C4.58769 4.18109 4.97337 4.1097 5.30004 4.2596L6.19629 4.67569C6.65433 4.89215 7.1799 4.91661 7.65626 4.74364C8.13263 4.57067 8.52036 4.21458 8.73335 3.75445C8.7625 3.69314 8.78809 3.6302 8.80997 3.56594L9.13622 2.6316C9.29214 2.18707 9.77837 1.95273 10.2227 2.10793C10.4645 2.18868 10.6555 2.37645 10.7405 2.61689L11.0804 3.54291C11.2533 4.01887 11.6082 4.40647 12.067 4.62043C12.5257 4.83438 13.0507 4.85716 13.5265 4.68374C13.5885 4.66176 13.6492 4.63608 13.7082 4.60683L14.6033 4.17624C14.8065 4.07688 15.0408 4.06283 15.2542 4.13722C15.4693 4.20945 15.6456 4.36621 15.7425 4.57137C15.8549 4.80183 15.8573 5.07079 15.749 5.30333L15.3321 6.20153C15.1187 6.66179 15.0968 7.18798 15.2714 7.66415C15.446 8.14033 15.8026 8.52742 16.2627 8.74013C16.3185 8.76535 16.3747 8.78849 16.4369 8.81002L17.3702 9.13315C17.7106 9.2515 17.9398 9.57117 17.9428 9.93176C17.9458 10.2924 17.722 10.6161 17.3836 10.7405L16.4524 11.0806C15.4631 11.4445 14.9535 12.54 15.3125 13.5312C15.335 13.5933 15.3607 13.6541 15.3895 13.7135L15.8224 14.6035C15.9214 14.807 15.9353 15.0416 15.8612 15.2555C15.787 15.4694 15.6309 15.6451 15.4272 15.7438L15.4272 15.7438ZM11.3877 6.5684C9.49155 5.80233 7.33291 6.71966 6.5662 8.61733C5.79949 10.515 6.71505 12.6744 8.61116 13.4405C10.5073 14.2065 12.6659 13.2892 13.4326 11.3915C14.197 9.49389 13.2821 7.33617 11.3877 6.5684ZM9.00779 12.4587C7.65343 11.9115 6.99946 10.3691 7.54711 9.01364C8.09476 7.65816 9.63664 7.00292 10.991 7.55012C12.3454 8.09732 12.9993 9.63974 12.4517 10.9952C11.9028 12.3495 10.3621 13.0042 9.00779 12.4587Z",fill:"#606B85"})})}var Jd=n(87996),$d=(0,e.createContext)(null),ep=function(t){var n=t.children,r=Fs(),i=r.room,a=r.onError,o=(0,e.useRef)(!1),s=(0,e.useState)(!1),u=(0,G.Z)(s,2),c=u[0],l=u[1],f=(0,e.useState)(null),d=(0,G.Z)(f,2),p=d[0],h=d[1],v=(0,e.useState)([]),m=(0,G.Z)(v,2),g=m[0],y=m[1],b=(0,e.useState)(!1),x=(0,G.Z)(b,2),k=x[0],w=x[1],_=(0,e.useState)(),S=(0,G.Z)(_,2),T=S[0],C=S[1],O=(0,e.useCallback)((function(e){var t=new Jd.KU(e),n=function(e){"initialized"===e?(window.chatClient=t,C(t)):"failed"===e&&a(new Error("There was a problem connecting to Twilio's conversation service."))};return t.on("stateChanged",n),function(){t.off("stateChanged",n)}}),[a]);return(0,e.useEffect)((function(){if(p){var e=function(e){return y((function(t){return[].concat((0,E.Z)(t),[e])}))};return p.getMessages().then((function(e){return y(e.items)})),p.on("messageAdded",e),function(){p.off("messageAdded",e)}}}),[p]),(0,e.useEffect)((function(){!o.current&&g.length&&w(!0)}),[g]),(0,e.useEffect)((function(){o.current=c,c&&w(!1)}),[c]),(0,e.useEffect)((function(){i&&T&&T.getConversationByUniqueName(i.sid).then((function(e){window.chatConversation=e,h(e)})).catch((function(e){console.error(e),a(new Error("There was a problem getting the Conversation associated with this room."))}))}),[i,T,a]),(0,is.jsx)($d.Provider,{value:{isChatWindowOpen:c,setIsChatWindowOpen:l,connect:O,hasUnreadMessages:k,messages:g,conversation:p},children:n})};function tp(){var t=(0,e.useContext)($d);if(!t)throw new Error("useChatContext must be used within a ChatProvider");return t}function np(){var t=Fs().room,n=(0,e.useState)(Boolean(null===t||void 0===t?void 0:t.isRecording)),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(t){a(t.isRecording);var e=function(){return a(!0)},n=function(){return a(!1)};return t.on("recordingStarted",e),t.on("recordingStopped",n),function(){t.off("recordingStarted",e),t.off("recordingStopped",n)}}}),[t]),i}function rp(){return(0,is.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24",children:(0,is.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,is.jsx)("g",{fill:"#707578",children:(0,is.jsx)("path",{d:"M12 3.5c4.694 0 8.5 3.806 8.5 8.5s-3.806 8.5-8.5 8.5-8.5-3.806-8.5-8.5S7.306 3.5 12 3.5zm0 1c-4.142 0-7.5 3.358-7.5 7.5 0 4.142 3.358 7.5 7.5 7.5 4.142 0 7.5-3.358 7.5-7.5 0-4.142-3.358-7.5-7.5-7.5zm1.367 3.429C14.959 8.492 16.1 10.215 16.1 12c0 1.16-.481 2.294-1.256 3.1h.356c.245 0 .45.177.492.41l.008.09c0 .245-.177.45-.41.492l-.09.008h-2.008l-.048-.003-.034-.005c-.088-.017-.167-.055-.233-.11l-.06-.06c-.037-.044-.067-.096-.087-.151l-.001-.004-.012-.04c-.004-.012-.007-.024-.009-.037v-.005c-.005-.024-.006-.042-.007-.06L12.7 13.6c0-.276.224-.5.5-.5.245 0 .45.177.492.41l.008.09v1.176c.833-.6 1.4-1.676 1.4-2.776 0-1.373-.886-2.71-2.067-3.129-.26-.092-.396-.377-.304-.638.092-.26.378-.396.638-.304zm-2.559-.03c.03.001.058.004.086.01l.062.016.018.006c.04.015.075.034.108.056.086.059.152.143.188.242l.001.004.008.025c.006.017.01.034.013.052l.008.09v2c0 .276-.224.5-.5.5-.245 0-.45-.177-.492-.41l-.008-.09V9.224c-.833.6-1.4 1.676-1.4 2.776 0 1.373.886 2.71 2.067 3.129.26.092.396.377.304.638-.092.26-.378.396-.638.304C9.041 15.508 7.9 13.785 7.9 12c0-1.16.481-2.294 1.255-3.1H8.8c-.245 0-.45-.177-.492-.41L8.3 8.4c0-.245.177-.45.41-.492L8.8 7.9h2.008z",transform:"translate(-233 -689) translate(-1 673) translate(37 16) translate(197.298)"})})})})}var ip=x("div")({display:"flex",justifyContent:"center",width:"1.5em",marginRight:"0.3em"});function ap(t){var n=Sd((function(e){return e.breakpoints.down("sm")})),r=(0,e.useState)(!1),i=(0,G.Z)(r,2),a=i[0],o=i[1],s=(0,e.useState)(!1),u=(0,G.Z)(s,2),c=u[0],l=u[1],f=(0,e.useState)(!1),d=(0,G.Z)(f,2),p=d[0],h=d[1],v=ss(),m=v.isFetching,g=v.updateRecordingRules,y=v.roomType,b=v.setIsGalleryViewActive,x=v.isGalleryViewActive,k=tp().setIsChatWindowOpen,w=np(),_=Fs(),S=_.room,T=_.setIsBackgroundSelectionOpen,E=(0,e.useRef)(null),C=function(){var t=Fs().localTracks,n=(0,e.useState)(!1),r=(0,G.Z)(n,2),i=r[0],a=r[1],o=t.find((function(e){return!e.name.includes("screen")&&"video"===e.kind})),s=pc(o),u=de().videoInputDevices;(0,e.useEffect)((function(){(null===s||void 0===s?void 0:s.getSettings().facingMode)&&!1===i&&a(!0)}),[s,i]);var c=(0,e.useCallback)((function(){var e="user"===(null===s||void 0===s?void 0:s.getSettings().facingMode)?"environment":"user";null===o||void 0===o||o.restart(X(X({},ee),{},{facingMode:e}))}),[s,o]);return{flipCameraDisabled:!o,toggleFacingMode:c,flipCameraSupported:i&&u.length>1}}(),O=C.flipCameraDisabled,A=C.toggleFacingMode,I=C.flipCameraSupported;return(0,is.jsxs)(is.Fragment,{children:[(0,is.jsx)(H,{onClick:function(){return l((function(e){return!e}))},ref:E,className:t.buttonClassName,"data-cy-more-button":!0,children:n?(0,is.jsx)(qd.Z,{}):(0,is.jsxs)(is.Fragment,{children:["More",(0,is.jsx)(Hd.Z,{})]})}),(0,is.jsxs)(ol,{open:c,onClose:function(){return l((function(e){return!e}))},anchorEl:E.current,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:n?-55:"bottom",horizontal:"center"},children:[(0,is.jsxs)(Hl,{onClick:function(){return h(!0)},children:[(0,is.jsx)(ip,{children:(0,is.jsx)(Qd,{})}),(0,is.jsx)(Zu,{variant:"body1",children:"Audio and Video Settings"})]}),vs.isSupported&&(0,is.jsxs)(Hl,{onClick:function(){T(!0),k(!1),l(!1)},children:[(0,is.jsx)(ip,{children:(0,is.jsx)(Ku,{})}),(0,is.jsx)(Zu,{variant:"body1",children:"Backgrounds"})]}),I&&(0,is.jsxs)(Hl,{disabled:O,onClick:A,children:[(0,is.jsx)(ip,{children:(0,is.jsx)(rp,{})}),(0,is.jsx)(Zu,{variant:"body1",children:"Flip Camera"})]}),"peer-to-peer"!==y&&"go"!==y&&(0,is.jsxs)(Hl,{disabled:m,onClick:function(){l(!1),g(S.sid,w?[{type:"exclude",all:!0}]:[{type:"include",all:!0}])},"data-cy-recording-button":!0,children:[(0,is.jsx)(ip,{children:w?(0,is.jsx)(Yd,{}):(0,is.jsx)(Kd,{})}),(0,is.jsxs)(Zu,{variant:"body1",children:[w?"Stop":"Start"," Recording"]})]}),(0,is.jsxs)(Hl,{onClick:function(){Ds.VideoRoomMonitor.toggleMonitor(),l(!1)},children:[(0,is.jsx)(ip,{children:(0,is.jsx)(Xd.Z,{style:{fill:"#707578",width:"0.9em"}})}),(0,is.jsx)(Zu,{variant:"body1",children:"Room Monitor"})]}),(0,is.jsxs)(Hl,{onClick:function(){b((function(e){return!e})),l(!1)},children:[(0,is.jsx)(ip,{children:x?(0,is.jsx)(Qu.Z,{style:{fill:"#707578",width:"0.9em"}}):(0,is.jsx)(Gd.Z,{style:{fill:"#707578",width:"0.9em"}})}),(0,is.jsx)(Zu,{variant:"body1",children:x?"Speaker View":"Gallery View"})]}),(0,is.jsxs)(Hl,{onClick:function(){return o(!0)},children:[(0,is.jsx)(ip,{children:(0,is.jsx)(Ud,{})}),(0,is.jsx)(Zu,{variant:"body1",children:"About"})]})]}),(0,is.jsx)(qu,{open:a,onClose:function(){o(!1),l(!1)}}),(0,is.jsx)(Wd,{open:p,onClose:function(){h(!1),l(!1)}})]})}function op(){var t,n=Fs().room,r=(0,e.useState)(Array.from(null!==(t=null===n||void 0===n?void 0:n.participants.values())&&void 0!==t?t:[])),i=(0,G.Z)(r,2),a=i[0],o=i[1];return(0,e.useEffect)((function(){if(n){var e=function(e){return o((function(t){return[].concat((0,E.Z)(t),[e])}))},t=function(e){return o((function(t){return t.filter((function(t){return t!==e}))}))};return n.on("participantConnected",e),n.on("participantDisconnected",t),function(){n.off("participantConnected",e),n.off("participantDisconnected",t)}}}),[n]),a}function sp(){var t=Fs().room,n=(0,e.useState)("disconnected"),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(t){var e=function(){return a(t.state)};return e(),t.on("disconnected",e).on("reconnected",e).on("reconnecting",e),function(){t.off("disconnected",e).off("reconnected",e).off("reconnecting",e)}}}),[t]),i}function up(){return(0,is.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"17",viewBox:"0 0 12 17",children:(0,is.jsx)("path",{fill:"#707578",fillRule:"evenodd",d:"M11.389 6.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V13.09C2.395 12.836 0 10.281 0 7.167c0-.276.224-.5.5-.5s.5.224.5.5c0 2.73 2.214 4.944 4.944 4.944 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM5.944 0C7.51 0 8.778 1.268 8.778 2.833v4.334C8.778 8.73 7.51 10 5.944 10 4.38 10 3.111 8.73 3.111 7.167V2.833C3.111 1.268 4.38 0 5.944 0zm0 1c-1.012 0-1.833.82-1.833 1.833v4.334C4.111 8.179 4.933 9 5.944 9c1.013 0 1.834-.82 1.834-1.833V2.833C7.778 1.82 6.958 1 5.944 1z"})})}function cp(){return(0,is.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24",children:(0,is.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,is.jsx)("path",{fill:"#707578",d:"M11.889 6.667c.276 0 .5.224.5.5 0 3.114-2.396 5.67-5.445 5.923v2.632c0 .276-.223.5-.5.5-.245 0-.45-.177-.491-.41l-.009-.09V13.09c-1.116-.093-2.145-.494-3-1.119l.717-.717c.793.54 1.751.857 2.783.857 2.731 0 4.945-2.214 4.945-4.944 0-.276.224-.5.5-.5zM1 6.667c.276 0 .5.224.5.5 0 .975.282 1.884.77 2.65l-.722.721C.888 9.58.5 8.418.5 7.167c0-.276.224-.5.5-.5zm8.277-1.031v1.53C9.278 8.732 8.01 10 6.445 10c-.446 0-.868-.103-1.243-.287l.776-.773c.149.039.306.06.467.06.963 0 1.751-.74 1.828-1.683l.006-.15v-.531l1-1zM6.444 0C8.01 0 9.278 1.268 9.278 2.833l-.002-.025-.999.999v-.974c0-.962-.74-1.75-1.682-1.827L6.445 1c-.962 0-1.751.74-1.828 1.683l-.006.15v4.334c0 .097.008.192.022.285l-.804.805c-.112-.269-.184-.558-.209-.86l-.009-.23V2.833C3.611 1.268 4.88 0 6.444 0z",transform:"translate(6.5 4)"}),(0,is.jsx)("path",{fill:"red",d:"M12.146.646c.196-.195.512-.195.708 0 .173.174.192.443.057.638l-.057.07-12 12c-.196.195-.512.195-.708 0-.173-.174-.192-.443-.057-.638l.057-.07 12-12z",transform:"translate(6.5 4)"})]})})}function lp(t){var n=function(){var t=Fs().localTracks.find((function(e){return"audio"===e.kind}));return[dc(t),(0,e.useCallback)((function(){t&&(t.isEnabled?t.disable():t.enable())}),[t])]}(),r=(0,G.Z)(n,2),i=r[0],a=r[1],o=Fs().localTracks.some((function(e){return"audio"===e.kind}));return(0,is.jsx)(H,{className:t.className,onClick:a,disabled:!o||t.disabled,startIcon:i?(0,is.jsx)(up,{}):(0,is.jsx)(cp,{}),"data-cy-audio-toggle":!0,children:o?i?"Mute":"Unmute":"No Audio"})}k({iconContainer:{position:"relative",display:"flex"},circle:{width:"10px",height:"10px",backgroundColor:"#5BB75B",borderRadius:"50%",position:"absolute",top:"-3px",left:"13px",opacity:0,transition:"opacity ".concat(350,"ms ease-in")},hasUnreadMessages:{opacity:1},ring:{border:"3px solid #5BB75B",borderRadius:"30px",height:"14px",width:"14px",position:"absolute",left:"11px",top:"-5px",opacity:0},animateRing:{animation:"$expand ".concat(700,"ms ease-out"),animationIterationCount:1},"@keyframes expand":{"0%":{transform:"scale(0.1, 0.1)",opacity:0},"50%":{opacity:1},"100%":{transform:"scale(1.4, 1.4)",opacity:0}}});function fp(){return(0,is.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,is.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,is.jsx)("path",{fill:"#707578",d:"M10.503.85c.32 0 .611.125.827.329l-.696.697c-.025-.018-.053-.032-.084-.038l-.047-.006H1.207c-.102 0-.19.071-.216.165l-.008.059v7.866c0 .101.07.189.165.215l.059.008h1.156l-.983.983h-.173c-.624 0-1.139-.476-1.2-1.083L0 9.922V2.056C0 1.433.476.917 1.084.856l.123-.007h9.296zm5.49 1.124l.007.082v7.866c0 .337-.328.566-.635.47l-.076-.03-3.58-1.79v1.35c0 .623-.476 1.138-1.083 1.2l-.123.006H4.16l.984-.983h5.359c.101 0 .189-.07.215-.164l.008-.06V4.564l.983-.982.353-.353 3.227-1.612c.301-.15.652.04.704.358zm-.977.876L11.71 4.504v2.967l3.307 1.654V2.85z",transform:"translate(4 6)"}),(0,is.jsx)("path",{fill:"red",fillRule:"nonzero",d:"M13.06.144c.192-.192.503-.192.695 0 .171.17.19.436.057.627l-.057.068-12.29 12.29c-.192.193-.503.193-.695 0-.171-.17-.19-.435-.057-.626l.057-.069L13.06.144z",transform:"translate(4 6)"})]})})}function dp(){return(0,is.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24",children:(0,is.jsx)("path",{fill:"#707578",fillRule:"evenodd",d:"M15.003 7c.665 0 1.206.542 1.206 1.207v1.349l3.58-1.789c.301-.15.652.04.704.358l.007.082v7.866c0 .365-.385.603-.711.44l-3.58-1.79v1.35c0 .623-.476 1.138-1.083 1.2l-.123.006H5.707c-.665 0-1.207-.542-1.207-1.206V8.207C4.5 7.542 5.042 7 5.707 7zm0 .983H5.707c-.122 0-.224.102-.224.224v7.866c0 .121.102.223.224.223h9.296c.122 0 .223-.102.223-.223V8.207c0-.122-.101-.224-.223-.224zm4.513 1.019l-3.307 1.654v2.968l3.307 1.653V9.002z"})})}function pp(t){var n=fs(),r=(0,G.Z)(n,2),i=r[0],a=r[1],o=(0,e.useRef)(0),s=de().hasVideoInputDevices,u=(0,e.useCallback)((function(){Date.now()-o.current>500&&(o.current=Date.now(),a())}),[a]);return(0,is.jsx)(H,{className:t.className,onClick:u,disabled:!s||t.disabled,startIcon:i?(0,is.jsx)(dp,{}):(0,is.jsx)(fp,{}),children:s?i?"Stop Video":"Start Video":"No Video"})}function hp(){return(0,is.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,is.jsx)("path",{fill:"#707578",fillRule:"evenodd",d:"M17.657 6.343c3.124 3.124 3.124 8.19 0 11.314-3.124 3.124-8.19 3.124-11.314 0-3.124-3.124-3.124-8.19 0-11.314 3.124-3.124 8.19-3.124 11.314 0zm-10.444.87c-2.643 2.644-2.643 6.93 0 9.574 2.644 2.643 6.93 2.643 9.574 0 2.57-2.57 2.641-6.693.214-9.35l-.214-.224L16.563 7c-2.657-2.427-6.78-2.356-9.35.214zm4.865.484l.02.003.026.005.041.01c.025.007.045.014.063.021l.043.019c.018.009.036.019.053.03.01.005.02.012.03.02.027.019.053.04.077.063l2.773 2.774c.24.24.24.63 0 .87-.213.214-.545.237-.785.071l-.085-.07-1.719-1.72v5.9c0 .34-.275.615-.615.615-.302 0-.553-.218-.605-.505l-.01-.11-.001-5.9-1.718 1.72c-.24.24-.63.24-.87 0-.214-.215-.238-.546-.072-.786l.072-.085 2.769-2.77.015-.014c.02-.018.04-.035.062-.05l.005-.004.008-.006c.027-.018.055-.034.085-.048l.034-.015.059-.02.032-.008c.021-.005.044-.008.068-.011l.038-.003H12.025l.027.002.026.002z"})})}function vp(){var t=Fs().room,n=(0,e.useState)(),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(t){var e=function(){a(Array.from(t.participants.values()).concat(t.localParticipant).find((function(e){return Array.from(e.tracks.values()).find((function(e){return e.trackName.includes("screen")}))})))};return e(),t.on("trackPublished",e),t.on("trackUnpublished",e),t.on("participantDisconnected",e),t.localParticipant.on("trackPublished",e),t.localParticipant.on("trackUnpublished",e),function(){t.off("trackPublished",e),t.off("trackUnpublished",e),t.off("participantDisconnected",e),t.localParticipant.off("trackPublished",e),t.localParticipant.off("trackUnpublished",e)}}}),[t]),i}var mp=k((function(e){return{button:{"&[disabled]":{color:"#bbb","& svg *":{fill:"#bbb"}}}}}));function gp(e){var t=mp(),n=vp(),r=Fs().toggleScreenShare,i=Boolean(n),a=navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia,o=e.disabled||i||!a,s="";return i&&(s="Cannot share screen when another user is sharing"),a||(s="Screen sharing is not supported with this browser"),(0,is.jsx)(hd,{title:s,placement:"top",PopperProps:{disablePortal:!0},style:{cursor:o?"not-allowed":"pointer"},children:(0,is.jsx)("span",{children:(0,is.jsx)(H,{className:t.button,onClick:r,disabled:o,startIcon:(0,is.jsx)(hp,{}),"data-cy-share-screen":!0,children:"Share Screen"})})})}var yp=k((function(e){return{container:(0,d.Z)({backgroundColor:e.palette.background.default,bottom:0,left:0,right:0,height:"".concat(e.footerHeight,"px"),position:"fixed",display:"flex",padding:"0 1.43em",zIndex:10},e.breakpoints.down("sm"),{height:"".concat(e.mobileFooterHeight,"px"),padding:0}),screenShareBanner:{position:"fixed",zIndex:8,bottom:"".concat(e.footerHeight,"px"),left:0,right:0,height:"104px",background:"rgba(0, 0, 0, 0.5)","& h6":{color:"white"},"& button":{background:"white",color:e.brand,border:"2px solid ".concat(e.brand),margin:"0 2em","&:hover":{color:"#600101",border:"2px solid #600101",background:"#FFE9E7"}}},hideMobile:(0,d.Z)({display:"initial"},e.breakpoints.down("sm"),{display:"none"})}}));function bp(){var e=yp(),t=Fs(),n=t.isSharingScreen,r=t.toggleScreenShare,i="reconnecting"===sp(),a=Fs().room,o=op();return(0,is.jsxs)(is.Fragment,{children:[n&&(0,is.jsxs)(Tc,{container:!0,justifyContent:"center",alignItems:"center",className:e.screenShareBanner,children:[(0,is.jsx)(Zu,{variant:"h6",children:"You are sharing your screen"}),(0,is.jsx)(H,{onClick:function(){return r()},children:"Stop Sharing"})]}),(0,is.jsx)("footer",{className:e.container,children:(0,is.jsxs)(Tc,{container:!0,justifyContent:"space-around",alignItems:"center",children:[(0,is.jsx)(Nd,{smDown:!0,children:(0,is.jsx)(Tc,{style:{flex:1},children:(0,is.jsxs)(Zu,{variant:"body1",children:[a.name," | ",o.length+1," participant",o.length?"s":""]})})}),(0,is.jsx)(Tc,{item:!0,children:(0,is.jsxs)(Tc,{container:!0,justifyContent:"center",children:[(0,is.jsx)(lp,{disabled:i}),(0,is.jsx)(pp,{disabled:i}),!n&&!oe&&(0,is.jsx)(gp,{disabled:i}),!1,(0,is.jsx)(Nd,{smDown:!0,children:(0,is.jsx)(ap,{})})]})}),(0,is.jsx)(Nd,{smDown:!0,children:(0,is.jsx)(Tc,{style:{flex:1},children:(0,is.jsx)(Tc,{container:!0,justifyContent:"flex-end",children:(0,is.jsx)(Bs,{})})})})]})})]})}var xp=k((function(e){return{container:(0,d.Z)({background:"white",paddingLeft:"1em",display:"none",height:"".concat(e.mobileTopBarHeight,"px")},e.breakpoints.down("sm"),{display:"flex"}),endCallButton:{height:"28px",fontSize:"0.85rem",padding:"0 0.6em"},settingsButton:(0,d.Z)({},e.breakpoints.down("sm"),{height:"28px",minWidth:"28px",border:"1px solid rgb(136, 140, 142)",padding:0,margin:"0 1em"})}}));function kp(){var e=xp(),t=Fs().room;return(0,is.jsxs)(Tc,{container:!0,alignItems:"center",justifyContent:"space-between",className:e.container,children:[(0,is.jsx)(Zu,{variant:"subtitle1",children:t.name}),(0,is.jsxs)("div",{children:[(0,is.jsx)(Bs,{className:e.endCallButton}),(0,is.jsx)(ap,{buttonClassName:e.settingsButton})]})]})}var wp=44,_p=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.color,s=void 0===o?"primary":o,u=t.disableShrink,c=void 0!==u&&u,l=t.size,f=void 0===l?40:l,d=t.style,v=t.thickness,m=void 0===v?3.6:v,g=t.value,y=void 0===g?0:g,b=t.variant,x=void 0===b?"indeterminate":b,k=(0,p.Z)(t,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),w={},_={},S={};if("determinate"===x||"static"===x){var T=2*Math.PI*((wp-m)/2);w.strokeDasharray=T.toFixed(3),S["aria-valuenow"]=Math.round(y),w.strokeDashoffset="".concat(((100-y)/100*T).toFixed(3),"px"),_.transform="rotate(-90deg)"}return e.createElement("div",(0,r.Z)({className:(0,h.Z)(i.root,a,"inherit"!==s&&i["color".concat((0,z.Z)(s))],{determinate:i.determinate,indeterminate:i.indeterminate,static:i.static}[x]),style:(0,r.Z)({width:f,height:f},_,d),ref:n,role:"progressbar"},S,k),e.createElement("svg",{className:i.svg,viewBox:"".concat(22," ").concat(22," ").concat(wp," ").concat(wp)},e.createElement("circle",{className:(0,h.Z)(i.circle,c&&i.circleDisableShrink,{determinate:i.circleDeterminate,indeterminate:i.circleIndeterminate,static:i.circleStatic}[x]),style:w,cx:wp,cy:wp,r:(wp-m)/2,fill:"none",strokeWidth:m})))})),Sp=(0,i.Z)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(_p);function Tp(){return(0,is.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"73",height:"73",viewBox:"0 0 73 73",children:(0,is.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,is.jsx)("circle",{cx:"36.5",cy:"36.5",r:"36.5",fill:"#FFF"}),(0,is.jsx)("path",{fill:"#282A2B",strokeLinejoin:"round",d:"M30.973 23.925c-3.162 3.794-3.162 9.886 0 13.68l.262.301c.266.293.548.564.842.812l.192.154v2.95l-6.71 2.397-.213.082c-2.03.834-3.346 2.793-3.346 4.97v2.766c0 .532.431.963.963.963h27.874c.531 0 .962-.431.962-.963V49.27l-.005-.228-.015-.233c-.187-2.092-1.562-3.883-3.539-4.59l-6.71-2.397v-2.95l.192-.154c.393-.33.762-.702 1.104-1.112 3.162-3.795 3.162-9.887 0-13.681-3.25-3.9-8.603-3.9-11.853 0zm10.374 1.232c2.567 3.08 2.567 8.135 0 11.216-.404.484-.85.894-1.328 1.226-.26.18-.414.476-.414.791v4.111c0 .407.255.77.639.907l7.348 2.625c1.314.47 2.213 1.687 2.278 3.077l.004.183v1.781h-25.95l.002-1.804c0-1.394.843-2.65 2.131-3.18l.172-.065 7.327-2.617c.383-.137.639-.5.639-.907v-4.11c0-.316-.155-.612-.415-.792-.478-.332-.924-.742-1.328-1.226-2.567-3.08-2.567-8.135 0-11.216 2.427-2.912 6.248-2.974 8.735-.186l.16.186z"})]})})}function Ep(){var e=Fs().localTracks.find((function(e){return"audio"===e.kind}));return(0,is.jsx)(bc,{audioTrack:e})}var Cp=k((function(e){return{container:{position:"relative",height:0,overflow:"hidden",paddingTop:"".concat(56.25,"%"),background:"black"},innerContainer:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},identityContainer:{position:"absolute",bottom:0,zIndex:1},identity:{background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"0.18em 0.3em",margin:0,display:"flex",alignItems:"center"},avatarContainer:(0,d.Z)({display:"flex",alignItems:"center",justifyContent:"center",background:"black",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1},e.breakpoints.down("sm"),{"& svg":{transform:"scale(0.7)"}})}}));function Op(e){var t=e.identity,n=Cp(),r=Fs().localTracks.find((function(e){return!e.name.includes("screen")&&"video"===e.kind}));return(0,is.jsxs)("div",{className:n.container,children:[(0,is.jsx)("div",{className:n.innerContainer,children:r?(0,is.jsx)(Md,{track:r,isLocal:!0}):(0,is.jsx)("div",{className:n.avatarContainer,children:(0,is.jsx)(Tp,{})})}),(0,is.jsx)("div",{className:n.identityContainer,children:(0,is.jsxs)("span",{className:n.identity,children:[(0,is.jsx)(Ep,{}),(0,is.jsx)(Zu,{variant:"body1",color:"inherit",component:"span",children:t})]})})]})}var Ap=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.className,s=(t.color,t.component),u=void 0===s?"label":s,c=(t.disabled,t.error,t.filled,t.focused,t.required,(0,p.Z)(t,["children","classes","className","color","component","disabled","error","filled","focused","required"])),l=fl({props:t,muiFormControl:dl(),states:["color","required","focused","disabled","error","filled"]});return e.createElement(u,(0,r.Z)({className:(0,h.Z)(a.root,a["color".concat((0,z.Z)(l.color||"primary"))],o,l.disabled&&a.disabled,l.error&&a.error,l.filled&&a.filled,l.focused&&a.focused,l.required&&a.required),ref:n},c),i,l.required&&e.createElement("span",{"aria-hidden":!0,className:(0,h.Z)(a.asterisk,l.error&&a.error)},"\u2009","*"))})),Ip=(0,i.Z)((function(e){return{root:(0,r.Z)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(Ap),Rp=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.disableAnimation,s=void 0!==o&&o,u=(t.margin,t.shrink),c=(t.variant,(0,p.Z)(t,["classes","className","disableAnimation","margin","shrink","variant"])),l=dl(),f=u;"undefined"===typeof f&&l&&(f=l.filled||l.focused||l.adornedStart);var d=fl({props:t,muiFormControl:l,states:["margin","variant"]});return e.createElement(Ip,(0,r.Z)({"data-shrink":f,className:(0,h.Z)(i.root,a,l&&i.formControl,!s&&i.animated,f&&i.shrink,"dense"===d.margin&&i.marginDense,{filled:i.filled,outlined:i.outlined}[d.variant]),classes:{focused:i.focused,disabled:i.disabled,error:i.error,required:i.required,asterisk:i.asterisk},ref:n},c))})),Np=(0,i.Z)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(Rp),Pp=e.forwardRef((function(t,n){var i=t.children,a=t.classes,o=t.className,s=t.component,u=void 0===s?"p":s,c=(t.disabled,t.error,t.filled,t.focused,t.margin,t.required,t.variant,(0,p.Z)(t,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),l=fl({props:t,muiFormControl:dl(),states:["variant","margin","disabled","error","filled","focused","required"]});return e.createElement(u,(0,r.Z)({className:(0,h.Z)(a.root,("filled"===l.variant||"outlined"===l.variant)&&a.contained,o,l.disabled&&a.disabled,l.error&&a.error,l.filled&&a.filled,l.focused&&a.focused,l.required&&a.required,"dense"===l.margin&&a.marginDense),ref:n},c)," "===i?e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):i)})),Mp=(0,i.Z)((function(e){return{root:(0,r.Z)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(Pp),Dp={standard:Sl,filled:Rl,outlined:Dl},Lp=e.forwardRef((function(t,n){var i=t.autoComplete,a=t.autoFocus,o=void 0!==a&&a,s=t.children,u=t.classes,c=t.className,l=t.color,f=void 0===l?"primary":l,d=t.defaultValue,v=t.disabled,m=void 0!==v&&v,g=t.error,y=void 0!==g&&g,b=t.FormHelperTextProps,x=t.fullWidth,k=void 0!==x&&x,w=t.helperText,_=t.hiddenLabel,S=t.id,T=t.InputLabelProps,E=t.inputProps,C=t.InputProps,O=t.inputRef,A=t.label,I=t.multiline,R=void 0!==I&&I,N=t.name,P=t.onBlur,M=t.onChange,D=t.onFocus,L=t.placeholder,j=t.required,F=void 0!==j&&j,Z=t.rows,B=t.rowsMax,U=t.maxRows,V=t.minRows,z=t.select,W=void 0!==z&&z,H=t.SelectProps,G=t.type,q=t.value,K=t.variant,Y=void 0===K?"standard":K,X=(0,p.Z)(t,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]);var Q={};if("outlined"===Y&&(T&&"undefined"!==typeof T.shrink&&(Q.notched=T.shrink),A)){var J,$=null!==(J=null===T||void 0===T?void 0:T.required)&&void 0!==J?J:F;Q.label=e.createElement(e.Fragment,null,A,$&&"\xa0*")}W&&(H&&H.native||(Q.id=void 0),Q["aria-describedby"]=void 0);var ee=w&&S?"".concat(S,"-helper-text"):void 0,te=A&&S?"".concat(S,"-label"):void 0,ne=Dp[Y],re=e.createElement(ne,(0,r.Z)({"aria-describedby":ee,autoComplete:i,autoFocus:o,defaultValue:d,fullWidth:k,multiline:R,name:N,rows:Z,rowsMax:B,maxRows:U,minRows:V,type:G,value:q,id:S,inputRef:O,onBlur:P,onChange:M,onFocus:D,placeholder:L,inputProps:E},Q,C));return e.createElement(Nc,(0,r.Z)({className:(0,h.Z)(u.root,c),disabled:m,error:y,fullWidth:k,hiddenLabel:_,ref:n,required:F,color:f,variant:Y},X),A&&e.createElement(Np,(0,r.Z)({htmlFor:S,id:te},T),A),W?e.createElement(Bl,(0,r.Z)({"aria-describedby":ee,id:S,labelId:te,value:q,input:re},H),s):re,w&&e.createElement(Mp,(0,r.Z)({id:ee},b),w))})),jp=(0,i.Z)({root:{}},{name:"MuiTextField"})(Lp),Fp=k((function(e){var t;return{container:(t={width:"600px",minHeight:"400px"},(0,d.Z)(t,e.breakpoints.down("xs"),{width:"calc(100vw - 32px)"}),(0,d.Z)(t,"& .inputSelect",{width:"calc(100% - 35px)"}),t),button:{float:"right"},paper:(0,d.Z)({},e.breakpoints.down("xs"),{margin:"16px"}),formControl:{display:"block",margin:"1.5em 0","&:first-child":{margin:"0 0 1.5em 0"}},label:{width:"133%"}}})),Zp=function(e){return"undefined"===typeof e?"default":e};function Bp(t){var n=t.open,r=t.onClose,i=Fp(),a=ss(),o=a.settings,s=a.dispatchSetting,u="disconnected"!==sp(),c=(0,e.useCallback)((function(e){s({name:e.target.name,value:e.target.value})}),[s]),l=(0,e.useCallback)((function(e){/[^\d]/.test(e.target.value)||c(e)}),[c]);return(0,is.jsxs)(Nu,{open:n,onClose:r,classes:{paper:i.paper},children:[(0,is.jsx)(zu,{children:"Connection Settings"}),(0,is.jsx)(Hu,{}),(0,is.jsx)(Lu,{className:i.container,children:(0,is.jsxs)(Tc,{container:!0,spacing:2,children:[(0,is.jsx)(Tc,{item:!0,xs:12,children:(0,is.jsx)(Zu,{hidden:!u,variant:"body2",children:"These settings cannot be changed when connected to a room."})}),(0,is.jsxs)(Tc,{item:!0,sm:6,xs:12,children:[(0,is.jsxs)(Nc,{className:i.formControl,children:[(0,is.jsx)(Np,{id:J.dominantSpeakerPriority,children:"Dominant Speaker Priority:"}),(0,is.jsxs)(Bl,{fullWidth:!0,disabled:u,name:J.dominantSpeakerPriority,label:J.dominantSpeakerPriority,value:Zp(o.dominantSpeakerPriority),onChange:c,children:[(0,is.jsx)(Hl,{value:"low",children:"Low"}),(0,is.jsx)(Hl,{value:"standard",children:"Standard"}),(0,is.jsx)(Hl,{value:"high",children:"High"}),(0,is.jsx)(Hl,{value:"default",children:"Server Default"})]})]}),(0,is.jsxs)(Nc,{className:i.formControl,children:[(0,is.jsx)(Np,{id:J.trackSwitchOffMode,children:"Track Switch Off Mode:"}),(0,is.jsxs)(Bl,{fullWidth:!0,disabled:u,name:J.trackSwitchOffMode,label:J.trackSwitchOffMode,value:Zp(o.trackSwitchOffMode),onChange:c,children:[(0,is.jsx)(Hl,{value:"predicted",children:"Predicted"}),(0,is.jsx)(Hl,{value:"detected",children:"Detected"}),(0,is.jsx)(Hl,{value:"disabled",children:"Disabled"}),(0,is.jsx)(Hl,{value:"default",children:"Server Default"})]})]}),(0,is.jsxs)(Nc,{className:i.formControl,children:[(0,is.jsx)(Np,{id:J.bandwidthProfileMode,children:"Mode:"}),(0,is.jsxs)(Bl,{fullWidth:!0,disabled:u,name:J.bandwidthProfileMode,label:J.bandwidthProfileMode,value:Zp(o.bandwidthProfileMode),onChange:c,children:[(0,is.jsx)(Hl,{value:"grid",children:"Grid"}),(0,is.jsx)(Hl,{value:"collaboration",children:"Collaboration"}),(0,is.jsx)(Hl,{value:"presentation",children:"Presentation"}),(0,is.jsx)(Hl,{value:"default",children:"Server Default"})]})]})]}),(0,is.jsxs)(Tc,{item:!0,sm:6,xs:12,children:[(0,is.jsxs)(Nc,{className:i.formControl,children:[(0,is.jsx)(Np,{id:J.clientTrackSwitchOffControl,children:"Client Track Switch Off Control:"}),(0,is.jsxs)(Bl,{fullWidth:!0,disabled:u,name:J.clientTrackSwitchOffControl,label:J.clientTrackSwitchOffControl,value:Zp(o.clientTrackSwitchOffControl),onChange:c,children:[(0,is.jsx)(Hl,{value:"auto",children:"Auto"}),(0,is.jsx)(Hl,{value:"manual",children:"Manual"}),(0,is.jsx)(Hl,{value:"default",children:"Default"})]})]}),(0,is.jsxs)(Nc,{className:i.formControl,children:[(0,is.jsx)(Np,{id:J.contentPreferencesMode,children:"Content Preferences Mode:"}),(0,is.jsxs)(Bl,{fullWidth:!0,disabled:u,name:J.contentPreferencesMode,label:J.contentPreferencesMode,value:Zp(o.contentPreferencesMode),onChange:c,children:[(0,is.jsx)(Hl,{value:"auto",children:"Auto"}),(0,is.jsx)(Hl,{value:"manual",children:"Manual"}),(0,is.jsx)(Hl,{value:"default",children:"Default"})]})]}),(0,is.jsx)(Nc,{className:i.formControl,children:(0,is.jsx)(jp,{disabled:u,fullWidth:!0,id:J.maxAudioBitrate,label:"Max Audio Bitrate",placeholder:"Leave blank for no limit",name:J.maxAudioBitrate,value:Zp(o.maxAudioBitrate),onChange:l})})]})]})}),(0,is.jsx)(Hu,{}),(0,is.jsx)(Mu,{children:(0,is.jsx)(H,{className:i.button,color:"primary",variant:"contained",onClick:r,children:"Done"})})]})}function Up(t){var n=t.mobileButtonClass,r=ss().roomType,i=Sd((function(e){return e.breakpoints.down("sm")})),a=(0,e.useState)(!1),o=(0,G.Z)(a,2),s=o[0],u=o[1],c=(0,e.useState)(!1),l=(0,G.Z)(c,2),f=l[0],d=l[1],p=(0,e.useState)(!1),h=(0,G.Z)(p,2),v=h[0],m=h[1],g=(0,e.useState)(!1),y=(0,G.Z)(g,2),b=y[0],x=y[1],k=(0,e.useRef)(null);return(0,is.jsxs)(is.Fragment,{children:[i?(0,is.jsx)(H,{ref:k,onClick:function(){return u(!0)},startIcon:(0,is.jsx)(qd.Z,{}),className:n,children:"More"}):(0,is.jsx)(H,{ref:k,onClick:function(){return u(!0)},startIcon:(0,is.jsx)(Qd,{}),children:"Settings"}),(0,is.jsxs)(ol,{open:s,onClose:function(){return u((function(e){return!e}))},anchorEl:k.current,getContentAnchorEl:null,anchorOrigin:{vertical:"top",horizontal:i?"left":"right"},transformOrigin:{vertical:0,horizontal:"center"},children:[(0,is.jsx)(Hl,{onClick:function(){return d(!0)},children:(0,is.jsx)(Zu,{variant:"body1",children:"About"})}),(0,is.jsx)(Hl,{onClick:function(){return m(!0)},children:(0,is.jsx)(Zu,{variant:"body1",children:"Audio and Video Settings"})}),"peer-to-peer"!==r&&"go"!==r&&(0,is.jsx)(Hl,{onClick:function(){return x(!0)},children:(0,is.jsx)(Zu,{variant:"body1",children:"Connection Settings"})})]}),(0,is.jsx)(qu,{open:f,onClose:function(){d(!1),u(!1)}}),(0,is.jsx)(Wd,{open:v,onClose:function(){m(!1),u(!1)}}),(0,is.jsx)(Bp,{open:b,onClose:function(){x(!1),u(!1)}})]})}var Vp=k((function(e){return{gutterBottom:{marginBottom:"1em"},marginTop:{marginTop:"1em"},deviceButton:{width:"100%",border:"2px solid #aaa",margin:"1em 0"},localPreviewContainer:(0,d.Z)({paddingRight:"2em",marginBottom:"2em"},e.breakpoints.down("sm"),{padding:"0 2.5em"}),joinButtons:(0,d.Z)({display:"flex",justifyContent:"space-between"},e.breakpoints.down("sm"),{flexDirection:"column-reverse",width:"100%","& button":{margin:"0.5em 0"}}),mobileButtonBar:(0,d.Z)({},e.breakpoints.down("sm"),{display:"flex",justifyContent:"space-between",margin:"1.5em 0 1em"}),mobileButton:{padding:"0.8em 0",margin:0},toolTipContainer:{display:"flex",alignItems:"center","& div":{display:"flex",alignItems:"center"},"& svg":{marginLeft:"0.3em"}}}}));function zp(e){var t=e.name,n=e.roomName,r=e.setStep,i=Vp(),a=ss(),o=a.getToken,s=a.isFetching,u=a.isKrispEnabled,c=a.isKrispInstalled,l=(tp().connect,Fs()),f=l.connect,d=l.isAcquiringLocalTracks,p=l.isConnecting,h=Zd().toggleKrisp,v=s||d||p;return s||p?(0,is.jsxs)(Tc,{container:!0,justifyContent:"center",alignItems:"center",direction:"column",style:{height:"100%"},children:[(0,is.jsx)("div",{children:(0,is.jsx)(Sp,{variant:"indeterminate"})}),(0,is.jsx)("div",{children:(0,is.jsx)(Zu,{variant:"body2",style:{fontWeight:"bold",fontSize:"16px"},children:"Joining Meeting"})})]}):(0,is.jsxs)(is.Fragment,{children:[(0,is.jsxs)(Zu,{variant:"h5",className:i.gutterBottom,children:["Join ",n]}),(0,is.jsxs)(Tc,{container:!0,justifyContent:"center",children:[(0,is.jsxs)(Tc,{item:!0,md:7,sm:12,xs:12,children:[(0,is.jsx)("div",{className:i.localPreviewContainer,children:(0,is.jsx)(Op,{identity:t})}),(0,is.jsx)("div",{className:i.mobileButtonBar,children:(0,is.jsxs)(Nd,{mdUp:!0,children:[(0,is.jsx)(lp,{className:i.mobileButton,disabled:v}),(0,is.jsx)(pp,{className:i.mobileButton,disabled:v}),(0,is.jsx)(Up,{mobileButtonClass:i.mobileButton})]})})]}),(0,is.jsx)(Tc,{item:!0,md:5,sm:12,xs:12,children:(0,is.jsx)(Tc,{container:!0,direction:"column",justifyContent:"space-between",style:{alignItems:"normal"},children:(0,is.jsx)("div",{children:(0,is.jsxs)(Nd,{smDown:!0,children:[(0,is.jsx)(lp,{className:i.deviceButton,disabled:v}),(0,is.jsx)(pp,{className:i.deviceButton,disabled:v})]})})})}),(0,is.jsxs)(Tc,{item:!0,md:12,sm:12,xs:12,children:[c&&(0,is.jsxs)(Tc,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",style:{marginBottom:"1em"},children:[(0,is.jsxs)("div",{className:i.toolTipContainer,children:[(0,is.jsx)(Zu,{variant:"subtitle2",children:"Noise Cancellation"}),(0,is.jsx)(hd,{title:"Suppress background noise from your microphone",interactive:!0,leaveDelay:250,leaveTouchDelay:15e3,enterTouchDelay:0,children:(0,is.jsx)("div",{children:(0,is.jsx)(Ud,{})})})]}),(0,is.jsx)(md,{control:(0,is.jsx)(wd,{checked:!!u,checkedIcon:(0,is.jsx)(Bd,{}),disableRipple:!0,onClick:h}),label:u?"Enabled":"Disabled",style:{marginRight:0},disabled:u&&d})]}),(0,is.jsx)(Hu,{})]}),(0,is.jsx)(Tc,{item:!0,md:12,sm:12,xs:12,children:(0,is.jsxs)(Tc,{container:!0,direction:"row",alignItems:"center",style:{marginTop:"1em"},children:[(0,is.jsx)(Nd,{smDown:!0,children:(0,is.jsx)(Tc,{item:!0,md:7,sm:12,xs:12,children:(0,is.jsx)(Up,{mobileButtonClass:i.mobileButton})})}),(0,is.jsx)(Tc,{item:!0,md:5,sm:12,xs:12,children:(0,is.jsxs)("div",{className:i.joinButtons,children:[(0,is.jsx)(H,{variant:"outlined",color:"primary",onClick:function(){return r(gh.roomNameStep)},children:"Cancel"}),(0,is.jsx)(H,{variant:"contained",color:"primary","data-cy-join-now":!0,onClick:function(){o(t,n).then((function(e){var t=e.token;f(t)}))},disabled:v,children:"Join Now"})]})})]})})]})]})}function Wp(){return(0,is.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"96",height:"96",viewBox:"0 0 96 96",children:(0,is.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,is.jsx)("path",{fill:"#FFF",d:"M43.86 0h8.28c11.661 0 18.564 1.74 24.675 5.01 6.112 3.267 10.908 8.063 14.175 14.175C94.26 25.295 96 32.197 96 43.86v8.28c0 11.661-1.74 18.564-5.01 24.675-3.267 6.112-8.063 10.908-14.175 14.175C70.704 94.26 63.801 96 52.14 96h-8.28c-11.661 0-18.564-1.74-24.675-5.01-6.112-3.267-10.908-8.063-14.175-14.175C1.74 70.705 0 63.803 0 52.14v-8.28c0-11.661 1.74-18.564 5.01-24.675C8.277 13.073 13.073 8.277 19.185 5.01 25.295 1.74 32.197 0 43.86 0z"}),(0,is.jsx)("path",{fill:"#F22F46",d:"M53.25 63h-25.5C25.679 63 24 61.321 24 59.25v-22.5c0-2.071 1.679-3.75 3.75-3.75h25.5c2.071 0 3.75 1.679 3.75 3.75v5.82l9.57-4.785c1.164-.583 2.546-.521 3.653.164 1.107.685 1.78 1.894 1.777 3.196V54.87c.008 1.3-.66 2.512-1.766 3.198-1.105.686-2.487.747-3.65.162L57 53.49v5.76C57 61.321 55.32 63 53.25 63zm-25.5-27c-.414 0-.75.336-.75.75v22.5c0 .414.336.75.75.75h25.5c.414 0 .75-.336.75-.75v-8.175c-.001-.518.266-1 .705-1.275.44-.275.99-.303 1.455-.075L67.92 55.5c.224.123.496.123.72 0 .22-.141.356-.383.36-.645v-13.71c-.004-.262-.14-.504-.36-.645-.224-.123-.496-.123-.72 0l-11.745 5.865c-.47.236-1.028.21-1.473-.069-.445-.28-.711-.77-.702-1.296v-8.25c0-.414-.336-.75-.75-.75h-25.5z"})]})})}function Hp(e){return(0,is.jsx)("svg",X(X({fill:"#F22F46",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30"},e),{},{children:(0,is.jsx)("path",{d:"M15 0C6.7 0 0 6.7 0 15s6.7 15 15 15 15-6.7 15-15S23.3 0 15 0zm0 26C8.9 26 4 21.1 4 15S8.9 4 15 4s11 4.9 11 11-4.9 11-11 11zm6.8-14.7c0 1.7-1.4 3.1-3.1 3.1s-3.1-1.4-3.1-3.1 1.4-3.1 3.1-3.1 3.1 1.4 3.1 3.1zm0 7.4c0 1.7-1.4 3.1-3.1 3.1s-3.1-1.4-3.1-3.1c0-1.7 1.4-3.1 3.1-3.1s3.1 1.4 3.1 3.1zm-7.4 0c0 1.7-1.4 3.1-3.1 3.1s-3.1-1.4-3.1-3.1c0-1.7 1.4-3.1 3.1-3.1s3.1 1.4 3.1 3.1zm0-7.4c0 1.7-1.4 3.1-3.1 3.1S8.2 13 8.2 11.3s1.4-3.1 3.1-3.1 3.1 1.4 3.1 3.1z"})}))}var Gp=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.color,s=void 0===o?"primary":o,u=t.component,c=void 0===u?"a":u,l=t.onBlur,f=t.onFocus,d=t.TypographyClasses,v=t.underline,m=void 0===v?"hover":v,g=t.variant,y=void 0===g?"inherit":g,b=(0,p.Z)(t,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),x=(0,T.Z)(),k=x.isFocusVisible,w=x.onBlurVisible,S=x.ref,E=e.useState(!1),C=E[0],O=E[1],A=(0,_.Z)(n,S);return e.createElement(Zu,(0,r.Z)({className:(0,h.Z)(i.root,i["underline".concat((0,z.Z)(m))],a,C&&i.focusVisible,"button"===c&&i.button),classes:d,color:s,component:c,onBlur:function(e){C&&(w(),O(!1)),l&&l(e)},onFocus:function(e){k(e)&&O(!0),f&&f(e)},ref:A,variant:y},b))})),qp=(0,i.Z)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(Gp),Kp=(0,pl.Z)(e.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var Yp=e.forwardRef((function(t,n){var i=t.alt,a=t.children,o=t.classes,s=t.className,u=t.component,c=void 0===u?"div":u,l=t.imgProps,f=t.sizes,d=t.src,v=t.srcSet,m=t.variant,g=void 0===m?"circular":m,y=(0,p.Z)(t,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),b=null,x=function(t){var n=t.src,r=t.srcSet,i=e.useState(!1),a=i[0],o=i[1];return e.useEffect((function(){if(n||r){o(!1);var e=!0,t=new Image;return t.src=n,t.srcSet=r,t.onload=function(){e&&o("loaded")},t.onerror=function(){e&&o("error")},function(){e=!1}}}),[n,r]),a}({src:d,srcSet:v}),k=d||v,w=k&&"error"!==x;return b=w?e.createElement("img",(0,r.Z)({alt:i,src:d,srcSet:v,sizes:f,className:o.img},l)):null!=a?a:k&&i?i[0]:e.createElement(Kp,{className:o.fallback}),e.createElement(c,(0,r.Z)({className:(0,h.Z)(o.root,o.system,o[g],s,!w&&o.colorDefault),ref:n},y),b)})),Xp=(0,i.Z)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(Yp),Qp=n(3036),Jp=(0,g.Z)({red:{color:"white",backgroundColor:"#F22F46"}});function $p(e){var t,n=e.user,r=Jp(),i=n,a=i.displayName,o=i.photoURL;return o?(0,is.jsx)(Xp,{src:o}):(0,is.jsx)(Xp,{className:r.red,children:a?(t=a,t.split(" ").map((function(e){return e[0]})).join("").toUpperCase()):(0,is.jsx)(Qp.Z,{})})}var eh=k({userContainer:{position:"absolute",top:0,right:0,margin:"1em",display:"flex",alignItems:"center"},userButton:{color:"white"},logoutLink:{color:"white",cursor:"pointer",padding:"10px 20px"}}),th=function(){var t=eh(),n=ss(),r=n.user,i=n.signOut,a=Fs().localTracks,o=(0,e.useState)(!1),s=(0,G.Z)(o,2),u=s[0],c=s[1],l=(0,e.useRef)(null),f=(0,e.useCallback)((function(){a.forEach((function(e){return e.stop()})),null===i||void 0===i||i()}),[a,i]);return"passcode"==={NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_SET_AUTH?(0,is.jsx)("div",{className:t.userContainer,children:(0,is.jsx)(qp,{onClick:f,className:t.logoutLink,children:"Logout"})}):"firebase"==={NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_SET_AUTH?(0,is.jsxs)("div",{className:t.userContainer,children:[(0,is.jsx)($p,{user:r}),(0,is.jsxs)(H,{onClick:function(){return c((function(e){return!e}))},ref:l,className:t.userButton,children:[r.displayName,(0,is.jsx)(Hd.Z,{})]}),(0,is.jsx)(ol,{open:u,onClose:function(){return c((function(e){return!e}))},anchorEl:l.current,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:(0,is.jsx)(Hl,{onClick:f,children:(0,is.jsx)(Zu,{variant:"body1",children:"Logout"})})})]}):null},nh=k((function(e){return{background:{display:"flex",alignItems:"center",justifyContent:"center",background:"rgb(40, 42, 43)",height:"100%"},container:{position:"relative",flex:"1"},innerContainer:(0,d.Z)({display:"flex",width:"888px",height:"379px",borderRadius:"8px",boxShadow:"0px 2px 4px 0px rgba(40, 42, 43, 0.3)",overflow:"hidden",position:"relative",margin:"auto"},e.breakpoints.down("sm"),{display:"block",height:"auto",width:"calc(100% - 40px)",margin:"auto",maxWidth:"400px"}),swooshContainer:(0,d.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='296' height='378' viewBox='0 0 296 378'%3E%3Cdefs%3E%3ClinearGradient id='utbttnlrpc' x1='78.976%25' x2='63.882%25' y1='60.873%25' y2='45.554%25'%3E%3Cstop offset='0%25' stop-opacity='0'/%3E%3Cstop offset='100%25'/%3E%3C/linearGradient%3E%3ClinearGradient id='aim8r3oczd' x1='78.976%25' x2='63.882%25' y1='56.106%25' y2='47.503%25'%3E%3Cstop offset='0%25' stop-opacity='0'/%3E%3Cstop offset='100%25'/%3E%3C/linearGradient%3E%3Cpath id='5tk4i6f80a' d='M0 0H296V378H0z'/%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cmask id='m1ihwluuxb' fill='%23fff'%3E%3Cuse xlink:href='%235tk4i6f80a'/%3E%3C/mask%3E%3Cuse fill='%23DE5858' xlink:href='%235tk4i6f80a'/%3E%3Cg mask='url(%23m1ihwluuxb)'%3E%3Cg%3E%3Cpath fill='url(%23utbttnlrpc)' d='M0 286.83c87.695-83.937 175.802-132.682 264.323-146.233 132.78-20.328 183.24 4.255 225.143-23.414 73.409-48.471 93.039-15.154 148.326-20.892 44.84-4.654 98.48-77.401 135.81-91.717C795.596-3.86 821.469.801 851.22 18.56L891 476.5H0V286.83z' opacity='.06' transform='translate(-457 -22.5)'/%3E%3Cpath fill='url(%23aim8r3oczd)' d='M137 604.5c63.759-109.686 155.8-165.124 276.126-166.315 180.488-1.786 157.888-146.686 387.11-146.33 229.223.356 170.665-151.786 341.36-166.888 113.797-10.068 180.265 10.685 199.404 62.26V604.5H137z' opacity='.08' transform='translate(-457 -22.5)'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\");",backgroundSize:"cover",width:"296px"},e.breakpoints.down("sm"),{width:"100%",height:"100px",backgroundPositionY:"140px"}),logoContainer:(0,d.Z)({position:"absolute",width:"210px",textAlign:"center"},e.breakpoints.down("sm"),{display:"flex",alignItems:"center",width:"90%",textAlign:"initial","& svg":{height:"64px"}}),twilioLogo:{position:"absolute",top:0,left:0,margin:"20px"},content:(0,d.Z)({background:"white",width:"100%",padding:"3em 4em",flex:1},e.breakpoints.down("sm"),{padding:"2em"}),title:(0,d.Z)({color:"white",margin:"1em 0 0"},e.breakpoints.down("sm"),{margin:0,fontSize:"1.1rem"})}})),rh=function(e){var t=nh(),n=ss().user,r=Jo();return(0,is.jsxs)("div",{className:t.background,children:[(0,is.jsx)(Hp,{className:t.twilioLogo}),n&&"/login"!==r.pathname&&(0,is.jsx)(th,{}),(0,is.jsx)("div",{className:t.container,children:(0,is.jsxs)("div",{className:t.innerContainer,children:[(0,is.jsx)("div",{className:t.swooshContainer,children:(0,is.jsxs)("div",{className:t.logoContainer,children:[(0,is.jsx)(Wp,{}),(0,is.jsx)(Zu,{variant:"h6",className:t.title,children:"Twilio Programmable Video"})]})}),(0,is.jsx)("div",{className:t.content,children:e.children})]})})]})},ih=n(30014);function ah(){return(0,is.jsx)("svg",{width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,is.jsx)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,is.jsx)("g",{transform:"translate(-299.000000, -723.000000)",fill:"#D61F1F",children:(0,is.jsx)("g",{transform:"translate(276.000000, 704.000000)",children:(0,is.jsx)("g",{transform:"translate(23.000000, 19.000000)",children:(0,is.jsx)("path",{d:"M8.03935839,0.763849674 L13.2361503,5.96064161 C13.8101721,6.5346634 13.8101721,7.4653366 13.2361503,8.03935839 L8.03935839,13.2361503 C7.4653366,13.8101721 6.5346634,13.8101721 5.96064161,13.2361503 L0.763849674,8.03935839 C0.189827887,7.4653366 0.189827887,6.5346634 0.763849674,5.96064161 L5.96064161,0.763849674 C6.5346634,0.189827887 7.4653366,0.189827887 8.03935839,0.763849674 Z M7,8.66666667 C6.53976271,8.66666667 6.16666667,9.03976271 6.16666667,9.5 C6.16666667,9.96023729 6.53976271,10.3333333 7,10.3333333 C7.46023729,10.3333333 7.83333333,9.96023729 7.83333333,9.5 C7.83333333,9.03976271 7.46023729,8.66666667 7,8.66666667 Z M7.00842529,4.5 L6.99145559,4.5 C6.48802096,4.5 6.09771771,4.99363437 6.17690967,5.53663218 L6.53327351,7.40140326 C6.56721292,7.64822044 6.76519283,7.83333333 6.99711216,7.83333333 L7.00276873,7.83333333 C7.23468805,7.83333333 7.43266796,7.64822044 7.46660737,7.40140326 L7.82297121,5.53663218 C7.90216317,4.99363437 7.51751649,4.50617043 7.00842529,4.5 Z",id:"Error"})})})})})})}function oh(e){return e.substring(2).toLowerCase()}var sh=function(n){var r=n.children,i=n.disableReactTree,a=void 0!==i&&i,o=n.mouseEvent,s=void 0===o?"onClick":o,u=n.onClickAway,c=n.touchEvent,l=void 0===c?"onTouchEnd":c,f=e.useRef(!1),d=e.useRef(null),p=e.useRef(!1),h=e.useRef(!1);e.useEffect((function(){return setTimeout((function(){p.current=!0}),0),function(){p.current=!1}}),[]);var v=e.useCallback((function(e){d.current=t.findDOMNode(e)}),[]),m=(0,_.Z)(r.ref,v),g=(0,S.Z)((function(e){var t=h.current;if(h.current=!1,p.current&&d.current&&!function(e){return document.documentElement.clientWidth<e.clientX||document.documentElement.clientHeight<e.clientY}(e))if(f.current)f.current=!1;else{var n;if(e.composedPath)n=e.composedPath().indexOf(d.current)>-1;else n=!(0,Vs.Z)(d.current).documentElement.contains(e.target)||d.current.contains(e.target);n||!a&&t||u(e)}})),y=function(e){return function(t){h.current=!0;var n=r.props[e];n&&n(t)}},b={ref:m};return!1!==l&&(b[l]=y(l)),e.useEffect((function(){if(!1!==l){var e=oh(l),t=(0,Vs.Z)(d.current),n=function(){f.current=!0};return t.addEventListener(e,g),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,g),t.removeEventListener("touchmove",n)}}}),[g,l]),!1!==s&&(b[s]=y(s)),e.useEffect((function(){if(!1!==s){var e=oh(s),t=(0,Vs.Z)(d.current);return t.addEventListener(e,g),function(){t.removeEventListener(e,g)}}}),[g,s]),e.createElement(e.Fragment,null,e.cloneElement(r,b))},uh=e.forwardRef((function(t,n){var i=t.action,a=t.classes,o=t.className,s=t.message,u=t.role,c=void 0===u?"alert":u,l=(0,p.Z)(t,["action","classes","className","message","role"]);return e.createElement(Au,(0,r.Z)({role:c,square:!0,elevation:6,className:(0,h.Z)(a.root,o),ref:n},l),e.createElement("div",{className:a.message},s),i?e.createElement("div",{className:a.action},i):null)})),ch=(0,i.Z)((function(e){var t="light"===e.palette.type?.8:.98,n=(0,w._4)(e.palette.background.default,t);return{root:(0,r.Z)({},e.typography.body2,(0,d.Z)({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(uh),lh=e.forwardRef((function(t,n){var i=t.action,a=t.anchorOrigin,o=(a=void 0===a?{vertical:"bottom",horizontal:"center"}:a).vertical,s=a.horizontal,u=t.autoHideDuration,c=void 0===u?null:u,l=t.children,f=t.classes,d=t.className,v=t.ClickAwayListenerProps,m=t.ContentProps,g=t.disableWindowBlurListener,y=void 0!==g&&g,b=t.message,x=t.onClose,k=t.onEnter,w=t.onEntered,_=t.onEntering,T=t.onExit,E=t.onExited,C=t.onExiting,O=t.onMouseEnter,A=t.onMouseLeave,I=t.open,R=t.resumeHideDuration,N=t.TransitionComponent,P=void 0===N?Bc:N,M=t.transitionDuration,D=void 0===M?{enter:yu.x9.enteringScreen,exit:yu.x9.leavingScreen}:M,L=t.TransitionProps,j=(0,p.Z)(t,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),F=e.useRef(),Z=e.useState(!0),B=Z[0],U=Z[1],V=(0,S.Z)((function(){x&&x.apply(void 0,arguments)})),W=(0,S.Z)((function(e){x&&null!=e&&(clearTimeout(F.current),F.current=setTimeout((function(){V(null,"timeout")}),e))}));e.useEffect((function(){return I&&W(c),function(){clearTimeout(F.current)}}),[I,c,W]);var H=function(){clearTimeout(F.current)},G=e.useCallback((function(){null!=c&&W(null!=R?R:.5*c)}),[c,R,W]);return e.useEffect((function(){if(!y&&I)return window.addEventListener("focus",G),window.addEventListener("blur",H),function(){window.removeEventListener("focus",G),window.removeEventListener("blur",H)}}),[y,G,I]),!I&&B?null:e.createElement(sh,(0,r.Z)({onClickAway:function(e){x&&x(e,"clickaway")}},v),e.createElement("div",(0,r.Z)({className:(0,h.Z)(f.root,f["anchorOrigin".concat((0,z.Z)(o)).concat((0,z.Z)(s))],d),onMouseEnter:function(e){O&&O(e),H()},onMouseLeave:function(e){A&&A(e),G()},ref:n},j),e.createElement(P,(0,r.Z)({appear:!0,in:I,onEnter:(0,qs.Z)((function(){U(!1)}),k),onEntered:w,onEntering:_,onExit:T,onExited:(0,qs.Z)((function(){U(!0)}),E),onExiting:C,timeout:D,direction:"top"===o?"down":"up"},L),l||e.createElement(ch,(0,r.Z)({message:b,action:i},m)))))})),fh=(0,i.Z)((function(e){var t={top:8},n={bottom:8},i={justifyContent:"flex-end"},a={justifyContent:"flex-start"},o={top:24},s={bottom:24},u={right:24},c={left:24},l={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:(0,r.Z)({},t,(0,d.Z)({},e.breakpoints.up("sm"),(0,r.Z)({},o,l))),anchorOriginBottomCenter:(0,r.Z)({},n,(0,d.Z)({},e.breakpoints.up("sm"),(0,r.Z)({},s,l))),anchorOriginTopRight:(0,r.Z)({},t,i,(0,d.Z)({},e.breakpoints.up("sm"),(0,r.Z)({left:"auto"},o,u))),anchorOriginBottomRight:(0,r.Z)({},n,i,(0,d.Z)({},e.breakpoints.up("sm"),(0,r.Z)({left:"auto"},s,u))),anchorOriginTopLeft:(0,r.Z)({},t,a,(0,d.Z)({},e.breakpoints.up("sm"),(0,r.Z)({right:"auto"},o,c))),anchorOriginBottomLeft:(0,r.Z)({},n,a,(0,d.Z)({},e.breakpoints.up("sm"),(0,r.Z)({right:"auto"},s,c)))}}),{flip:!1,name:"MuiSnackbar"})(lh);function dh(){return(0,is.jsx)("svg",{width:"16px",height:"14px",viewBox:"0 0 16 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,is.jsx)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,is.jsx)("g",{transform:"translate(-273.000000, -162.000000)",fill:"#E46216",children:(0,is.jsx)("g",{transform:"translate(251.000000, 143.000000)",children:(0,is.jsx)("g",{transform:"translate(22.000000, 19.000000)",children:(0,is.jsx)("path",{d:"M6.68405227,0.743750848 C7.26590697,-0.247916949 8.73410873,-0.247916949 9.31596344,0.743750848 L9.31596344,0.743750848 L15.7980583,11.7915293 C16.3754418,12.775573 15.6458879,14 14.4821027,14 L14.4821027,14 L1.5178827,14 C0.354135396,14 -0.375441293,12.775573 0.201934693,11.7915293 L0.201934693,11.7915293 Z M8,10 C7.44771525,10 7,10.4477153 7,11 C7,11.5522847 7.44771525,12 8,12 C8.55228475,12 9,11.5522847 9,11 C9,10.4477153 8.55228475,10 8,10 Z M8.01011035,5 L7.98974671,5 L7.87816923,5.00681158 C7.32928042,5.07427655 6.92320065,5.63308608 7.01229161,6.24395862 L7.01229161,6.24395862 L7.43992821,8.48168391 L7.46058982,8.57746523 C7.53403676,8.82448556 7.74990819,9 8.00332247,9 L8.00332247,9 L8.09436762,8.9919759 C8.33199007,8.94972242 8.5237268,8.74495557 8.55992884,8.48168391 L8.55992884,8.48168391 L8.98756545,6.24395862 L8.99896034,6.12268979 C9.02431547,5.52149772 8.58283795,5.00694173 8.01011035,5 L8.01011035,5 Z"})})})})})})}function ph(){return(0,is.jsx)("svg",{width:"20px",height:"20px",viewBox:"0 0 20 20",children:(0,is.jsx)("path",{fill:"#0263e0",fillRule:"evenodd",d:"M10 2a8 8 0 110 16 8 8 0 010-16zm0 7c-.26.01-.528.08-.707.24-.178.158-.292.355-.292.575v3.37c0 .21.11.428.292.577.173.14.457.247.707.237.26-.008.528-.078.707-.237.178-.16.292-.355.292-.577v-3.37a.766.766 0 00-.292-.575A1.14 1.14 0 0010 9zm0-3l-.266.036c-.17.047-.318.131-.441.253l-.156.198A.958.958 0 009 6.98v.04a.728.728 0 00.086.378c.04.121.108.227.206.315.09.094.197.163.321.202.12.06.248.09.386.084l.266-.035c.17-.047.318-.131.441-.253l.156-.198A.958.958 0 0011 7.02v-.04a.728.728 0 00-.086-.378.721.721 0 00-.206-.315.757.757 0 00-.321-.202.767.767 0 00-.386-.084z"})})}var hh=k((function(e){return{container:(0,d.Z)({display:"flex",justifyContent:"space-between",width:"400px",minHeight:"50px",background:"white",padding:"1em",borderRadius:"3px",boxShadow:"0 12px 24px 4px rgba(40,42,43,0.2)"},e.breakpoints.down("sm"),{width:"100%"}),contentContainer:{display:"flex",lineHeight:1.8},iconContainer:{display:"flex",padding:"0 1.3em 0 0.3em",transform:"translateY(3px)"},headline:{fontWeight:"bold"},error:{borderLeft:"4px solid #D61F1F"},warning:{borderLeft:"4px solid #E46216"},info:{borderLeft:"4px solid #0263e0"}}}));function vh(e){var t,n=e.headline,r=e.message,i=e.variant,a=e.open,o=e.handleClose,s=hh();return(0,is.jsx)(fh,{anchorOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:function(e,t){"clickaway"!==t&&(null===o||void 0===o||o())},autoHideDuration:1e4,children:(0,is.jsxs)("div",{className:(0,h.Z)(s.container,(t={},(0,d.Z)(t,s.error,"error"===i),(0,d.Z)(t,s.warning,"warning"===i),(0,d.Z)(t,s.info,"info"===i),t)),children:[(0,is.jsxs)("div",{className:s.contentContainer,children:[(0,is.jsxs)("div",{className:s.iconContainer,children:["warning"===i&&(0,is.jsx)(dh,{}),"error"===i&&(0,is.jsx)(ah,{}),"info"===i&&(0,is.jsx)(ph,{})]}),(0,is.jsxs)("div",{children:[(0,is.jsx)(Zu,{variant:"body1",className:s.headline,component:"span",children:n}),(0,is.jsxs)(Zu,{variant:"body1",component:"span",children:[" ",r]})]})]}),(0,is.jsx)("div",{children:o&&(0,is.jsx)(yd,{size:"small","aria-label":"close",color:"inherit",onClick:o,children:(0,is.jsx)(ih.Z,{fontSize:"small"})})})]})})}function mh(t){var n=t.error,r=de(),i=r.hasAudioInputDevices,a=r.hasVideoInputDevices,o=Fs().isAcquiringLocalTracks,s=(0,e.useState)(!1),u=(0,G.Z)(s,2),c=u[0],l=u[1],f=!c&&!o&&(Boolean(n)||!i||!a),d=function(e,t,n){var r="",i="";switch(!0){case"CameraPermissionsDenied"===(null===n||void 0===n?void 0:n.message):r="Unable to Access Media:",i="The user has denied permission to use video. Please grant permission to the browser to access the camera.";break;case"MicrophonePermissionsDenied"===(null===n||void 0===n?void 0:n.message):r="Unable to Access Media:",i="The user has denied permission to use audio. Please grant permission to the browser to access the microphone.";break;case"NotAllowedError"===(null===n||void 0===n?void 0:n.name):r="Unable to Access Media:",i="Permission denied by system"===n.message?"The operating system has blocked the browser from accessing the microphone or camera. Please check your operating system settings.":"The user has denied permission to use audio and video. Please grant permission to the browser to access the microphone and camera.";break;case"NotFoundError"===(null===n||void 0===n?void 0:n.name):r="Cannot Find Microphone or Camera:",i="The browser cannot access the microphone or camera. Please make sure all input devices are connected and enabled.";break;case Boolean(n):r="Error Acquiring Media:",i="".concat(n.name," ").concat(n.message);break;case!e&&!t:r="No Camera or Microphone Detected:",i="Other participants in the room will be unable to see and hear you.";break;case!t:r="No Camera Detected:",i="Other participants in the room will be unable to see you.";break;case!e:r="No Microphone Detected:",i="Other participants in the room will be unable to hear you."}return{headline:r,message:i}}(i,a,n),p=d.headline,h=d.message;return(0,is.jsx)(vh,{open:f,handleClose:function(){return l(!0)},headline:p,message:h,variant:"warning"})}var gh,yh,bh=k((function(e){return{gutterBottom:{marginBottom:"1em"},inputContainer:(0,d.Z)({display:"flex",justifyContent:"space-between",margin:"1.5em 0 3.5em","& div:not(:last-child)":{marginRight:"1em"}},e.breakpoints.down("sm"),{margin:"1.5em 0 2em"}),textFieldContainer:{width:"100%"},continueButton:(0,d.Z)({},e.breakpoints.down("sm"),{width:"100%"})}}));function xh(e){var t=e.name,n=e.roomName,r=e.setName,i=e.setRoomName,a=e.handleSubmit,o=bh(),s=ss().user,u=!window.location.search.includes("customIdentity=true")&&(null===s||void 0===s?void 0:s.displayName);return(0,is.jsxs)(is.Fragment,{children:[(0,is.jsx)(Zu,{variant:"h5",className:o.gutterBottom,children:"Join a Room"}),(0,is.jsx)(Zu,{variant:"body1",children:u?"Enter the name of a room you'd like to join.":"Enter your name and the name of a room you'd like to join"}),(0,is.jsxs)("form",{onSubmit:a,children:[(0,is.jsxs)("div",{className:o.inputContainer,children:[!u&&(0,is.jsxs)("div",{className:o.textFieldContainer,children:[(0,is.jsx)(Np,{shrink:!0,htmlFor:"input-user-name",children:"Your Name"}),(0,is.jsx)(jp,{id:"input-user-name",variant:"outlined",fullWidth:!0,size:"small",value:t,onChange:function(e){r(e.target.value)}})]}),(0,is.jsxs)("div",{className:o.textFieldContainer,children:[(0,is.jsx)(Np,{shrink:!0,htmlFor:"input-room-name",children:"Room Name"}),(0,is.jsx)(jp,{autoCapitalize:"false",id:"input-room-name",variant:"outlined",fullWidth:!0,size:"small",value:n,onChange:function(e){i(e.target.value)}})]})]}),(0,is.jsx)(Tc,{container:!0,justifyContent:"flex-end",children:(0,is.jsx)(H,{variant:"contained",type:"submit",color:"primary",disabled:!t||!n,className:o.continueButton,children:"Continue"})})]})]})}function kh(){var t=ss().user,n=Fs().getAudioAndVideoTracks,r=function(){var e=Xo(Po).match;return e?e.params:{}}().URLRoomName,i=(0,e.useState)(gh.roomNameStep),a=(0,G.Z)(i,2),o=a[0],s=a[1],u=(0,e.useState)((null===t||void 0===t?void 0:t.displayName)||""),c=(0,G.Z)(u,2),l=c[0],f=c[1],d=(0,e.useState)(""),p=(0,G.Z)(d,2),h=p[0],v=p[1],m=(0,e.useState)(),g=(0,G.Z)(m,2),y=g[0],b=g[1];(0,e.useEffect)((function(){r&&(v(r),null!==t&&void 0!==t&&t.displayName&&s(gh.deviceSelectionStep))}),[t,r]),(0,e.useEffect)((function(){o!==gh.deviceSelectionStep||y||n().catch((function(e){console.log("Error acquiring local media:"),console.dir(e),b(e)}))}),[n,o,y]);return(0,is.jsxs)(rh,{children:[(0,is.jsx)(mh,{error:y}),o===gh.roomNameStep&&(0,is.jsx)(xh,{name:l,roomName:h,setName:f,setRoomName:v,handleSubmit:function(e){e.preventDefault(),window.location.origin.includes("twil.io")||window.STORYBOOK_ENV||window.history.replaceState(null,"",window.encodeURI("/room/".concat(h).concat(window.location.search||""))),s(gh.deviceSelectionStep)}}),o===gh.deviceSelectionStep&&(0,is.jsx)(zp,{name:l,roomName:h,setStep:s})]})}function wh(){var e=sp();return(0,is.jsx)(vh,{variant:"error",headline:"Connection Lost:",message:"Reconnecting to room...",open:"reconnecting"===e})}function _h(){var t=(0,e.useState)(yh.none),n=(0,G.Z)(t,2),r=n[0],i=n[1],a=(0,e.useRef)(null),o=np();return(0,e.useEffect)((function(){o&&null===a.current&&i(yh.recordingInProgress)}),[o]),(0,e.useEffect)((function(){o&&!1===a.current&&i(yh.recordingStarted)}),[o]),(0,e.useEffect)((function(){o||!0!==a.current||i(yh.recordingFinished)}),[o]),(0,e.useEffect)((function(){a.current=o}),[o]),(0,is.jsxs)(is.Fragment,{children:[(0,is.jsx)(vh,{open:r===yh.recordingStarted,handleClose:function(){return i(yh.none)},variant:"info",headline:"Recording has started.",message:""}),(0,is.jsx)(vh,{open:r===yh.recordingInProgress,handleClose:function(){return i(yh.none)},variant:"info",headline:"Recording is in progress.",message:""}),(0,is.jsx)(vh,{open:r===yh.recordingFinished,headline:"Recording Complete",message:(0,is.jsxs)(is.Fragment,{children:["You can view the recording in the"," ",(0,is.jsx)(qp,{target:"_blank",rel:"noopener",href:"https://www.twilio.com/console/video/logs/recordings",children:"Twilio Console"}),". Recordings will be available once this room has ended."]}),variant:"info",handleClose:function(){return i(yh.none)}})]})}function Sh(){return(0,is.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,is.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.64645 2.64645C2.84171 2.45118 3.15829 2.45118 3.35355 2.64645L21.3536 20.6464C21.5488 20.8417 21.5488 21.1583 21.3536 21.3536C21.1583 21.5488 20.8417 21.5488 20.6464 21.3536L2.64645 3.35355C2.45118 3.15829 2.45118 2.84171 2.64645 2.64645Z",fill:"#707578"}),(0,is.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.3536 2.64645C21.5488 2.84171 21.5488 3.15829 21.3536 3.35355L3.35355 21.3536C3.15829 21.5488 2.84171 21.5488 2.64645 21.3536C2.45118 21.1583 2.45118 20.8417 2.64645 20.6464L20.6464 2.64645C20.8417 2.45118 21.1583 2.45118 21.3536 2.64645Z",fill:"#707578"})]})}!function(e){e[e.roomNameStep=0]="roomNameStep",e[e.deviceSelectionStep=1]="deviceSelectionStep"}(gh||(gh={})),function(e){e[e.none=0]="none",e[e.recordingStarted=1]="recordingStarted",e[e.recordingInProgress=2]="recordingInProgress",e[e.recordingFinished=3]="recordingFinished"}(yh||(yh={}));var Th=k((function(){return{container:{minHeight:"56px",background:"#F4F4F6",borderBottom:"1px solid #E4E7E9",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 1em"},text:{fontWeight:"bold"},closeBackgroundSelection:{cursor:"pointer",display:"flex",background:"transparent",border:"0",padding:"0.4em"}}}));function Eh(e){var t=e.onClose,n=Th();return(0,is.jsxs)("div",{className:n.container,children:[(0,is.jsx)("div",{className:n.text,children:"Backgrounds"}),(0,is.jsx)("button",{className:n.closeBackgroundSelection,onClick:t,children:(0,is.jsx)(Sh,{})})]})}var Ch=n(2665),Oh=n(28719),Ah=k((function(e){return{thumbContainer:{margin:"5px",width:"calc(50% - 10px)",display:"flex",position:"relative","&::after":{content:'""',paddingBottom:"55.5%"}},thumbIconContainer:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"10px",border:"solid ".concat(e.palette.grey[400]),"&.selected":{border:"solid ".concat(e.palette.primary.main),"& svg":{color:"".concat(e.palette.primary.main)}}},thumbIcon:{height:50,width:50,color:"".concat(e.palette.grey[400]),"&.selected":{color:"".concat(e.palette.primary.main)}},thumbImage:{width:"100%",height:"100%",position:"absolute",top:0,bottom:0,left:0,right:0,objectFit:"cover",borderRadius:"10px",border:"solid ".concat(e.palette.grey[400]),"&:hover":{cursor:"pointer","& svg":{color:"".concat(e.palette.primary.main)},"& $thumbOverlay":{visibility:"visible"}},"&.selected":{border:"solid ".concat(e.palette.primary.main),"& svg":{color:"".concat(e.palette.primary.main)}}},thumbOverlay:{position:"absolute",color:"transparent",padding:"20px",fontSize:"14px",fontWeight:"bold",width:"100%",height:"100%",borderRadius:"10px",display:"flex",justifyContent:"center",alignItems:"center","&:hover":{background:"rgba(95, 93, 128, 0.6)",color:"white"}}}}));function Ih(e){var t=e.thumbnail,n=e.imagePath,r=e.name,i=e.index,a=Ah(),o=Fs(),s=o.backgroundSettings,u=o.setBackgroundSettings,c="image"===t?s.index===i&&"image"===s.type:s.type===t,l={none:Oh.Z,blur:Ch.Z,image:null}[t];return(0,is.jsxs)("div",{className:a.thumbContainer,onClick:function(){return u({type:t,index:i})},children:[l?(0,is.jsx)("div",{className:(0,h.Z)(a.thumbIconContainer,{selected:c}),children:(0,is.jsx)(l,{className:a.thumbIcon})}):(0,is.jsx)("img",{className:(0,h.Z)(a.thumbImage,{selected:c}),src:n,alt:r}),(0,is.jsx)("div",{className:a.thumbOverlay,children:r})]})}function Rh(e,t){var n=function(e,t){var n,r=t.getBoundingClientRect();if(t.fakeTransform)n=t.fakeTransform;else{var i=window.getComputedStyle(t);n=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}var a=0,o=0;if(n&&"none"!==n&&"string"===typeof n){var s=n.split("(")[1].split(")")[0].split(",");a=parseInt(s[4],10),o=parseInt(s[5],10)}return"left"===e?"translateX(".concat(window.innerWidth,"px) translateX(").concat(a-r.left,"px)"):"right"===e?"translateX(-".concat(r.left+r.width-a,"px)"):"up"===e?"translateY(".concat(window.innerHeight,"px) translateY(").concat(o-r.top,"px)"):"translateY(-".concat(r.top+r.height-o,"px)")}(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}var Nh={enter:yu.x9.enteringScreen,exit:yu.x9.leavingScreen},Ph=e.forwardRef((function(n,i){var a=n.children,o=n.direction,s=void 0===o?"down":o,u=n.in,c=n.onEnter,l=n.onEntered,f=n.onEntering,d=n.onExit,h=n.onExited,v=n.onExiting,m=n.style,g=n.timeout,y=void 0===g?Nh:g,b=n.TransitionComponent,x=void 0===b?gu:b,k=(0,p.Z)(n,["children","direction","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),w=bu(),S=e.useRef(null),T=e.useCallback((function(e){S.current=t.findDOMNode(e)}),[]),E=(0,_.Z)(a.ref,T),C=(0,_.Z)(E,i),O=function(e){return function(t){e&&(void 0===t?e(S.current):e(S.current,t))}},A=O((function(e,t){Rh(s,e),xu(e),c&&c(e,t)})),I=O((function(e,t){var n=ku({timeout:y,style:m},{mode:"enter"});e.style.webkitTransition=w.transitions.create("-webkit-transform",(0,r.Z)({},n,{easing:w.transitions.easing.easeOut})),e.style.transition=w.transitions.create("transform",(0,r.Z)({},n,{easing:w.transitions.easing.easeOut})),e.style.webkitTransform="none",e.style.transform="none",f&&f(e,t)})),R=O(l),N=O(v),P=O((function(e){var t=ku({timeout:y,style:m},{mode:"exit"});e.style.webkitTransition=w.transitions.create("-webkit-transform",(0,r.Z)({},t,{easing:w.transitions.easing.sharp})),e.style.transition=w.transitions.create("transform",(0,r.Z)({},t,{easing:w.transitions.easing.sharp})),Rh(s,e),d&&d(e)})),M=O((function(e){e.style.webkitTransition="",e.style.transition="",h&&h(e)})),D=e.useCallback((function(){S.current&&Rh(s,S.current)}),[s]);return e.useEffect((function(){if(!u&&"down"!==s&&"right"!==s){var e=(0,Lc.Z)((function(){S.current&&Rh(s,S.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[s,u]),e.useEffect((function(){u||D()}),[u,D]),e.createElement(x,(0,r.Z)({nodeRef:S,onEnter:A,onEntered:R,onEntering:I,onExit:P,onExited:M,onExiting:N,appear:!0,in:u,timeout:y},k),(function(t,n){return e.cloneElement(a,(0,r.Z)({ref:C,style:(0,r.Z)({visibility:"exited"!==t||u?void 0:"hidden"},m,a.props.style)},n))}))})),Mh=Ph,Dh={left:"right",right:"left",top:"down",bottom:"up"};var Lh={enter:yu.x9.enteringScreen,exit:yu.x9.leavingScreen},jh=e.forwardRef((function(t,n){var i=t.anchor,a=void 0===i?"left":i,o=t.BackdropProps,s=t.children,u=t.classes,c=t.className,l=t.elevation,f=void 0===l?16:l,d=t.ModalProps,v=(d=void 0===d?{}:d).BackdropProps,m=(0,p.Z)(d,["BackdropProps"]),g=t.onClose,y=t.open,b=void 0!==y&&y,x=t.PaperProps,k=void 0===x?{}:x,w=t.SlideProps,_=t.TransitionComponent,S=void 0===_?Mh:_,T=t.transitionDuration,E=void 0===T?Lh:T,C=t.variant,O=void 0===C?"temporary":C,A=(0,p.Z)(t,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"]),I=bu(),R=e.useRef(!1);e.useEffect((function(){R.current=!0}),[]);var N=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?Dh[t]:t}(I,a),P=e.createElement(Au,(0,r.Z)({elevation:"temporary"===O?f:0,square:!0},k,{className:(0,h.Z)(u.paper,u["paperAnchor".concat((0,z.Z)(N))],k.className,"temporary"!==O&&u["paperAnchorDocked".concat((0,z.Z)(N))])}),s);if("permanent"===O)return e.createElement("div",(0,r.Z)({className:(0,h.Z)(u.root,u.docked,c),ref:n},A),P);var M=e.createElement(S,(0,r.Z)({in:b,direction:Dh[N],timeout:E,appear:R.current},w),P);return"persistent"===O?e.createElement("div",(0,r.Z)({className:(0,h.Z)(u.root,u.docked,c),ref:n},A),M):e.createElement(uu,(0,r.Z)({BackdropProps:(0,r.Z)({},o,v,{transitionDuration:E}),BackdropComponent:Cu,className:(0,h.Z)(u.root,u.modal,c),open:b,onClose:g,ref:n},A,m),M)})),Fh=(0,i.Z)((function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}}),{name:"MuiDrawer",flip:!1})(jh),Zh=k((function(e){return{drawer:{display:"flex",width:e.rightDrawerWidth,height:"calc(100% - ".concat(e.footerHeight,"px)")},thumbnailContainer:{display:"flex",flexWrap:"wrap",padding:"5px",overflowY:"auto"}}}));var Bh=function(){var e=Zh(),t=Fs(),n=t.isBackgroundSelectionOpen,r=t.setIsBackgroundSelectionOpen,i=Is.imageNames,a=Is.images;return(0,is.jsxs)(Fh,{variant:"persistent",anchor:"right",open:n,transitionDuration:0,classes:{paper:e.drawer},children:[(0,is.jsx)(Eh,{onClose:function(){return r(!1)}}),(0,is.jsxs)("div",{className:e.thumbnailContainer,children:[(0,is.jsx)(Ih,{thumbnail:"none",name:"None"}),(0,is.jsx)(Ih,{thumbnail:"blur",name:"Blur"}),a.map((function(e,t){return(0,is.jsx)(Ih,{thumbnail:"image",name:i[t],index:t,imagePath:e},e)}))]})]})},Uh=k((function(){return{container:{height:"56px",background:"#F4F4F6",borderBottom:"1px solid #E4E7E9",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 1em"},text:{fontWeight:"bold"},closeChatWindow:{cursor:"pointer",display:"flex",background:"transparent",border:"0",padding:"0.4em"}}}));function Vh(){var e=Uh(),t=tp().setIsChatWindowOpen;return(0,is.jsxs)("div",{className:e.container,children:[(0,is.jsx)("div",{className:e.text,children:"Chat"}),(0,is.jsx)("button",{className:e.closeChatWindow,onClick:function(){return t(!1)},children:(0,is.jsx)(Sh,{})})]})}function zh(){return(0,is.jsx)("svg",{width:"24",height:"24",viewBox:"-1 0 24 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,is.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.7992 3.24259C16.6912 1.13458 13.5645 1.40622 11.3746 3.59615L2.53575 12.435C1.72631 13.2444 1.26254 14.2015 1.18557 15.1283C1.10946 16.0447 1.4074 16.9635 2.1822 17.7383C2.957 18.5131 3.87575 18.811 4.7922 18.7349C5.71899 18.6579 6.67606 18.1942 7.4855 17.3847L14.203 10.6672C14.7335 10.1367 15.0455 9.55355 15.116 9.01193C15.184 8.48967 15.035 7.9637 14.5566 7.48523C14.0781 7.00677 13.5521 6.85777 13.0299 6.92578C12.4883 6.99631 11.9051 7.30826 11.3746 7.83879L6.07128 13.1421C5.87602 13.3374 5.55944 13.3374 5.36418 13.1421C5.16891 12.9468 5.16892 12.6302 5.36418 12.435L10.6675 7.13168C11.3079 6.49124 12.0835 6.04058 12.9007 5.93415C13.7374 5.82521 14.5705 6.08492 15.2637 6.77813C15.9569 7.47134 16.2166 8.30442 16.1076 9.14105C16.0012 9.95832 15.5506 10.7339 14.9101 11.3743L8.1926 18.0918C7.24417 19.0403 6.07462 19.6318 4.87496 19.7315C3.66496 19.832 2.45745 19.4278 1.47509 18.4454C0.492729 17.463 0.0885105 16.2555 0.189 15.0455C0.288631 13.8459 0.880211 12.6763 1.82864 11.7279L10.6675 2.88904C13.1643 0.392265 16.929 -0.0417833 19.5063 2.53549C22.0836 5.11276 21.6495 8.87755 19.1528 11.3743L12.7888 17.7383C12.5935 17.9335 12.277 17.9335 12.0817 17.7383C11.8864 17.543 11.8864 17.2264 12.0817 17.0312L18.4457 10.6672C20.6356 8.47729 20.9072 5.35061 18.7992 3.24259Z",fill:"#707578"})})}function Wh(){return(0,is.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,is.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.3539 1.64645C22.5491 1.84171 22.5491 2.15829 22.3539 2.35355L9.74515 14.9622C9.54989 15.1575 9.23331 15.1575 9.03805 14.9622C8.84279 14.767 8.84279 14.4504 9.03805 14.2551L21.6467 1.64645C21.842 1.45118 22.1586 1.45118 22.3539 1.64645Z",fill:"#D8D8D8"}),(0,is.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.3536 1.64646C22.4988 1.79171 22.5404 2.011 22.4585 2.19938L13.7629 22.1994C13.6863 22.3756 13.5155 22.4923 13.3235 22.4996C13.1316 22.507 12.9523 22.4037 12.8625 22.234L9.02139 14.9786L1.76606 11.1376C1.59627 11.0477 1.493 10.8685 1.50037 10.6765C1.50774 10.4845 1.62446 10.3137 1.80064 10.2371L21.8006 1.54148C21.989 1.45958 22.2083 1.50122 22.3536 1.64646ZM3.15222 10.7399L9.62525 14.1668C9.71385 14.2137 9.7863 14.2862 9.8332 14.3748L13.2601 20.8478L21.0354 2.96463L3.15222 10.7399Z",fill:"#D8D8D8"})]})}var Hh=k((function(e){return{chatInputContainer:{borderTop:"1px solid #e4e7e9",borderBottom:"1px solid #e4e7e9",padding:"1em 1.2em 1em"},textArea:{width:"100%",border:"0",resize:"none",fontSize:"14px",fontFamily:"Inter",outline:"none"},button:{padding:"0.56em",minWidth:"auto","&:disabled":{background:"none","& path":{fill:"#d8d8d8"}}},buttonContainer:{margin:"1em 0 0 1em",display:"flex"},fileButtonContainer:{position:"relative",marginRight:"1em"},fileButtonLoadingSpinner:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},textAreaContainer:{display:"flex",marginTop:"0.4em",padding:"0.48em 0.7em",border:"2px solid transparent"},isTextareaFocused:{borderColor:e.palette.primary.main,borderRadius:"4px"}}}));function Gh(t){var n=t.conversation,r=t.isChatWindowOpen,i=Hh(),a=(0,e.useState)(""),o=(0,G.Z)(a,2),s=o[0],u=o[1],c=(0,e.useState)(!1),l=(0,G.Z)(c,2),f=l[0],p=l[1],v=(0,e.useState)(null),m=(0,G.Z)(v,2),g=m[0],y=m[1],b=/\S/.test(s),x=(0,e.useRef)(null),k=(0,e.useRef)(null),w=(0,e.useState)(!1),_=(0,G.Z)(w,2),S=_[0],T=_[1];(0,e.useEffect)((function(){var e;r&&(null===(e=x.current)||void 0===e||e.focus())}),[r]);var E=function(e){b&&(n.sendMessage(e.trim()),u(""))};return(0,is.jsxs)("div",{className:i.chatInputContainer,children:[(0,is.jsx)(vh,{open:Boolean(g),headline:"Error",message:g||"",variant:"error",handleClose:function(){return y(null)}}),(0,is.jsx)("div",{className:(0,h.Z)(i.textAreaContainer,(0,d.Z)({},i.isTextareaFocused,S)),children:(0,is.jsx)(bl,{minRows:1,maxRows:3,className:i.textArea,"aria-label":"chat input",placeholder:"Write a message...",onKeyPress:function(e){oe||"Enter"!==e.key||e.shiftKey||(e.preventDefault(),E(s))},onChange:function(e){u(e.target.value)},value:s,"data-cy-chat-input":!0,ref:x,onFocus:function(){return T(!0)},onBlur:function(){return T(!1)}})}),(0,is.jsxs)(Tc,{container:!0,alignItems:"flex-end",justifyContent:"flex-end",wrap:"nowrap",children:[(0,is.jsx)("input",{ref:k,type:"file",style:{display:"none"},onChange:function(e){var t,r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){var i=new FormData;i.append("userfile",r),p(!0),y(null),n.sendMessage(i).catch((function(e){413===e.code?y("File size is too large. Maximum file size is 150MB."):y("There was a problem uploading the file. Please try again."),console.log("Problem sending file: ",e)})).finally((function(){p(!1)}))}},value:"",accept:"audio/*, image/*, text/*, video/*, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document .xslx, .ppt, .pdf, .key, .svg, .csv"}),(0,is.jsxs)("div",{className:i.buttonContainer,children:[(0,is.jsxs)("div",{className:i.fileButtonContainer,children:[(0,is.jsx)(H,{className:i.button,onClick:function(){var e;return null===(e=k.current)||void 0===e?void 0:e.click()},disabled:f,children:(0,is.jsx)(zh,{})}),f&&(0,is.jsx)(Sp,{size:24,className:i.fileButtonLoadingSpinner})]}),(0,is.jsx)(H,{className:i.button,onClick:function(){return E(s)},color:"primary",variant:"contained",disabled:!b,"data-cy-send-message-button":!0,children:(0,is.jsx)(Wh,{})})]})]})]})}var qh=k((function(){return{messageInfoContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1.425em 0 0.083em",fontSize:"12px",color:"#606B85"}}}));function Kh(e){var t=e.author,n=e.dateCreated,r=e.isLocalParticipant,i=qh();return(0,is.jsxs)("div",{className:i.messageInfoContainer,children:[(0,is.jsx)("div",{children:r?"".concat(t," (You)"):t}),(0,is.jsx)("div",{children:n})]})}var Yh=n(31820),Xh=n(33881),Qh=n.n(Xh),Jh={outerContainer:{minHeight:0,flex:1,position:"relative"},innerScrollContainer:{height:"100%",overflowY:"auto",padding:"0 1.2em 0"},messageListContainer:{overflowY:"auto",flex:"1",paddingBottom:"1em"},button:{position:"absolute",bottom:"14px",right:"2em",zIndex:100,padding:"0.5em 0.9em",visibility:"hidden",opacity:0,boxShadow:"0px 4px 16px rgba(18, 28, 45, 0.2)",transition:"all 0.5s ease"},showButton:{visibility:"visible",opacity:1,bottom:"24px"}},$h=function(t){(0,me.Z)(r,t);var n=(0,ge.Z)(r);function r(){var t;(0,he.Z)(this,r);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(t=n.call.apply(n,[this].concat(a))).chatThreadRef=e.createRef(),t.state={isScrolledToBottom:!0,showButton:!1,messageNotificationCount:0},t.handleScroll=Qh()((function(){var e=t.chatThreadRef.current;if(e){var n=Math.abs(e.clientHeight+e.scrollTop-e.scrollHeight)<1;t.setState((function(e){return{isScrolledToBottom:n,showButton:!n&&e.showButton}}))}}),300),t.handleClick=function(){var e=t.chatThreadRef.current;e.scrollTo({top:e.scrollHeight,behavior:"smooth"}),t.setState({showButton:!1})},t}return(0,ve.Z)(r,[{key:"scrollToBottom",value:function(){var e=this.chatThreadRef.current;e.scrollTop=e.scrollHeight}},{key:"componentDidMount",value:function(){this.scrollToBottom(),this.chatThreadRef.current.addEventListener("scroll",this.handleScroll)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.messages.length!==e.messages.length;if(t.isScrolledToBottom&&n)this.scrollToBottom();else if(n){var r=this.props.messages.length-e.messages.length;this.setState((function(e){return{showButton:!e.isScrolledToBottom,messageNotificationCount:e.showButton?e.messageNotificationCount+r:1}}))}}},{key:"componentWillUnmount",value:function(){this.chatThreadRef.current.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this.props.classes;return(0,is.jsx)("div",{className:e.outerContainer,children:(0,is.jsx)("div",{className:e.innerScrollContainer,ref:this.chatThreadRef,"data-cy-message-list-inner-scroll":!0,children:(0,is.jsxs)("div",{className:e.messageListContainer,children:[this.props.children,(0,is.jsxs)(H,{className:(0,h.Z)(e.button,(0,d.Z)({},e.showButton,this.state.showButton)),onClick:this.handleClick,startIcon:(0,is.jsx)(Yh.Z,{}),color:"primary",variant:"contained","data-cy-new-message-button":!0,children:[this.state.messageNotificationCount," new message",this.state.messageNotificationCount>1&&"s"]})]})})})}}]),r}(e.Component),ev=(0,i.Z)(Jh)($h),tv=n(46927),nv=n.n(tv),rv=k({messageContainer:{borderRadius:"16px",display:"inline-flex",alignItems:"center",padding:"0.5em 0.8em 0.6em",margin:"0.3em 0 0",wordBreak:"break-word",backgroundColor:"#E1E3EA",hyphens:"auto",whiteSpace:"pre-wrap"},isLocalParticipant:{backgroundColor:"#CCE4FF"}});function iv(e){var t=nv()().match(e);if(!t)return e;var n=[],r=0;return t.forEach((function(t,i){n.push(e.slice(r,t.index)),n.push((0,is.jsx)(qp,{target:"_blank",rel:"noreferrer",href:t.url,children:t.text},i)),r=t.lastIndex})),n.push(e.slice(r,e.length)),n}function av(e){var t=e.body,n=e.isLocalParticipant,r=rv();return(0,is.jsx)("div",{children:(0,is.jsx)("div",{className:(0,h.Z)(r.messageContainer,(0,d.Z)({},r.isLocalParticipant,n)),children:(0,is.jsx)("div",{children:iv(t)})})})}function ov(){return(0,is.jsxs)("svg",{width:"40",height:"41",viewBox:"0 0 40 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,is.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.4111 30.2441C24.7365 29.9186 25.2641 29.9186 25.5896 30.2441L29.167 33.8215L32.7444 30.2441C33.0698 29.9186 33.5975 29.9186 33.9229 30.2441C34.2484 30.5695 34.2484 31.0972 33.9229 31.4226L29.7562 35.5893C29.4308 35.9147 28.9032 35.9147 28.5777 35.5893L24.4111 31.4226C24.0856 31.0972 24.0856 30.5695 24.4111 30.2441Z",fill:"#14B053"}),(0,is.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.1663 20.8334C24.1037 20.8334 19.9997 24.9375 19.9997 30.0001C19.9997 35.0627 24.1037 39.1667 29.1663 39.1667C34.229 39.1667 38.333 35.0627 38.333 30.0001C38.333 24.9375 34.229 20.8334 29.1663 20.8334ZM18.333 30.0001C18.333 24.017 23.1833 19.1667 29.1663 19.1667C35.1494 19.1667 39.9997 24.017 39.9997 30.0001C39.9997 35.9832 35.1494 40.8334 29.1663 40.8334C23.1833 40.8334 18.333 35.9832 18.333 30.0001Z",fill:"#14B053"}),(0,is.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.1663 24.1667C29.6266 24.1667 29.9997 24.5398 29.9997 25.0001V35.0001C29.9997 35.4603 29.6266 35.8334 29.1663 35.8334C28.7061 35.8334 28.333 35.4603 28.333 35.0001V25.0001C28.333 24.5398 28.7061 24.1667 29.1663 24.1667Z",fill:"#14B053"}),(0,is.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.3786 14.168C18.6994 14.1854 18.9816 14.3857 19.1039 14.6828L20.5389 18.1678C20.7141 18.5934 20.5112 19.0804 20.0856 19.2557C19.6601 19.4309 19.173 19.228 18.9978 18.8024L18.2281 16.9332L14.0649 24.5658C13.9392 24.7964 13.7121 24.9541 13.4521 24.9916C13.1922 25.029 12.9298 24.9417 12.7441 24.756L10.2283 22.2402L7.1817 28.3334H14.9317C15.3919 28.3334 15.765 28.7065 15.765 29.1668C15.765 29.627 15.3919 30.0001 14.9317 30.0001H5.83333C5.54452 30.0001 5.2763 29.8505 5.12446 29.6049C4.97262 29.3592 4.95882 29.0524 5.08798 28.7941L9.25464 20.4607C9.37444 20.2212 9.6021 20.0538 9.86652 20.0108C10.1309 19.9679 10.3998 20.0548 10.5893 20.2442L13.1351 22.79L17.6018 14.601C17.7556 14.319 18.0578 14.1505 18.3786 14.168Z",fill:"#707578"}),(0,is.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.33333 9.99992C7.41286 9.99992 6.66667 10.7461 6.66667 11.6666C6.66667 12.5871 7.41286 13.3333 8.33333 13.3333C9.25381 13.3333 10 12.5871 10 11.6666C10 10.7461 9.25381 9.99992 8.33333 9.99992ZM5 11.6666C5 9.82564 6.49238 8.33325 8.33333 8.33325C10.1743 8.33325 11.6667 9.82564 11.6667 11.6666C11.6667 13.5075 10.1743 14.9999 8.33333 14.9999C6.49238 14.9999 5 13.5075 5 11.6666Z",fill:"#707578"}),(0,is.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0.833333C0 0.373096 0.373096 0 0.833333 0H19.1667C19.3877 0 19.5996 0.0877974 19.7559 0.244078L28.0893 8.57741C28.2455 8.73369 28.3333 8.94565 28.3333 9.16667V15.8333C28.3333 16.2936 27.9602 16.6667 27.5 16.6667C27.0398 16.6667 26.6667 16.2936 26.6667 15.8333V9.51185L18.8215 1.66667H1.66667V35H17.5C17.9602 35 18.3333 35.3731 18.3333 35.8333C18.3333 36.2936 17.9602 36.6667 17.5 36.6667H0.833333C0.373096 36.6667 0 36.2936 0 35.8333V0.833333Z",fill:"#707578"}),(0,is.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.1663 0C19.6266 0 19.9997 0.373096 19.9997 0.833333V8.33333H27.4997C27.9599 8.33333 28.333 8.70643 28.333 9.16667C28.333 9.6269 27.9599 10 27.4997 10H19.1663C18.7061 10 18.333 9.6269 18.333 9.16667V0.833333C18.333 0.373096 18.7061 0 19.1663 0Z",fill:"#707578"})]})}var sv=k({messageContainer:{display:"flex",padding:"0.9em 1.5em",margin:"0.6em 0",border:"2px solid #e4e7e9",borderRadius:"4px",cursor:"pointer"},iconContainer:{display:"flex",alignItems:"center"},mediaInfo:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"1.5em",minWidth:0,"& p":{margin:0,fontSize:"12px"}},filename:{fontWeight:700,overflow:"hidden",textOverflow:"ellipsis"},size:{fontWeight:400}});function uv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=["bytes","KB","MB","GB"];return e<1e3?+e.toFixed(2)+" "+n[t]:uv(e/1024,t+1)}function cv(e){var t=e.media,n=sv();return(0,is.jsxs)("div",{className:n.messageContainer,onClick:function(){t.getContentTemporaryUrl().then((function(e){var t=document.createElement("a");t.href=e,t.target="_blank",t.rel="noopener",setTimeout((function(){t.click()}))}))},children:[(0,is.jsx)("div",{className:n.iconContainer,children:(0,is.jsx)(ov,{})}),(0,is.jsxs)("div",{className:n.mediaInfo,children:[(0,is.jsx)("p",{className:n.filename,children:t.filename}),(0,is.jsxs)("p",{className:n.size,children:[uv(t.size)," - Click to open"]})]})]})}var lv=function(e){var t;return null===e||void 0===e||null===(t=e.dateCreated)||void 0===t?void 0:t.toLocaleTimeString("en-us",{hour:"numeric",minute:"numeric"}).toLowerCase()};function fv(t){var n=t.messages,r=Fs().room.localParticipant;return(0,is.jsx)(ev,{messages:n,children:n.map((function(t,i){var a,o=lv(t),s=o!==lv(n[i-1])||t.author!==(null===(a=n[i-1])||void 0===a?void 0:a.author),u=r.identity===t.author;return(0,is.jsxs)(e.Fragment,{children:[s&&(0,is.jsx)(Kh,{author:t.author,isLocalParticipant:u,dateCreated:o}),"text"===t.type&&(0,is.jsx)(av,{body:t.body,isLocalParticipant:u}),"media"===t.type&&(0,is.jsx)(cv,{media:t.attachedMedia[0]})]},t.sid)}))})}var dv=k((function(e){return{chatWindowContainer:(0,d.Z)({background:"#FFFFFF",zIndex:9,display:"flex",flexDirection:"column",borderLeft:"1px solid #E4E7E9"},e.breakpoints.down("sm"),{position:"fixed",top:0,left:0,bottom:0,right:0,zIndex:100}),hide:{display:"none"}}}));function pv(){var e=dv(),t=tp(),n=t.isChatWindowOpen,r=t.messages,i=t.conversation;return(0,is.jsxs)("aside",{className:(0,h.Z)(e.chatWindowContainer,(0,d.Z)({},e.hide,!n)),children:[(0,is.jsx)(Vh,{}),(0,is.jsx)(fv,{messages:r}),(0,is.jsx)(Gh,{conversation:i,isChatWindowOpen:n})]})}var hv=n(56955),vv=n(44362);var mv=(0,pl.Z)(e.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),gv=(0,pl.Z)(e.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),yv=(0,pl.Z)(e.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),bv=(0,pl.Z)(e.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),xv=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.color,s=void 0===o?"standard":o,u=t.component,c=t.disabled,l=void 0!==c&&c,f=t.page,d=t.selected,v=void 0!==d&&d,m=t.shape,g=void 0===m?"round":m,y=t.size,b=void 0===y?"medium":y,x=t.type,k=void 0===x?"page":x,w=t.variant,_=void 0===w?"text":w,S=(0,p.Z)(t,["classes","className","color","component","disabled","page","selected","shape","size","type","variant"]),T=("rtl"===bu().direction?{previous:bv,next:yv,last:mv,first:gv}:{previous:yv,next:bv,first:mv,last:gv})[k];return"start-ellipsis"===k||"end-ellipsis"===k?e.createElement("div",{ref:n,className:(0,h.Z)(i.root,i.ellipsis,l&&i.disabled,"medium"!==b&&i["size".concat((0,z.Z)(b))])},"\u2026"):e.createElement(V,(0,r.Z)({ref:n,component:u,disabled:l,focusVisibleClassName:i.focusVisible,className:(0,h.Z)(i.root,i.page,i[_],i[g],a,"standard"!==s&&i["".concat(_).concat((0,z.Z)(s))],l&&i.disabled,v&&i.selected,"medium"!==b&&i["size".concat((0,z.Z)(b))])},S),"page"===k&&f,T?e.createElement(T,{className:i.icon}):null)})),kv=(0,i.Z)((function(e){return{root:(0,r.Z)({},e.typography.body2,{borderRadius:16,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:e.palette.text.primary}),page:{transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&$focusVisible":{backgroundColor:e.palette.action.focus},"&$selected":{backgroundColor:e.palette.action.selected,"&:hover, &$focusVisible":{backgroundColor:(0,w.Fq)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.palette.action.selected}},"&$disabled":{opacity:1,color:e.palette.action.disabled,backgroundColor:e.palette.action.selected}},"&$disabled":{opacity:e.palette.action.disabledOpacity}},sizeSmall:{minWidth:26,height:26,borderRadius:13,margin:"0 1px",padding:"0 4px","& $icon":{fontSize:e.typography.pxToRem(18)}},sizeLarge:{minWidth:40,height:40,borderRadius:20,padding:"0 10px",fontSize:e.typography.pxToRem(15),"& $icon":{fontSize:e.typography.pxToRem(22)}},textPrimary:{"&$selected":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover, &$focusVisible":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}},"&$disabled":{color:e.palette.action.disabled}}},textSecondary:{"&$selected":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover, &$focusVisible":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}},"&$disabled":{color:e.palette.action.disabled}}},outlined:{border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$selected":{"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}}},outlinedPrimary:{"&$selected":{color:e.palette.primary.main,border:"1px solid ".concat((0,w.Fq)(e.palette.primary.main,.5)),backgroundColor:(0,w.Fq)(e.palette.primary.main,e.palette.action.activatedOpacity),"&:hover, &$focusVisible":{backgroundColor:(0,w.Fq)(e.palette.primary.main,e.palette.action.activatedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}},outlinedSecondary:{"&$selected":{color:e.palette.secondary.main,border:"1px solid ".concat((0,w.Fq)(e.palette.secondary.main,.5)),backgroundColor:(0,w.Fq)(e.palette.secondary.main,e.palette.action.activatedOpacity),"&:hover, &$focusVisible":{backgroundColor:(0,w.Fq)(e.palette.secondary.main,e.palette.action.activatedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}},rounded:{borderRadius:e.shape.borderRadius},ellipsis:{height:"auto","&$disabled":{opacity:e.palette.action.disabledOpacity}},focusVisible:{},disabled:{},selected:{},icon:{fontSize:e.typography.pxToRem(20),margin:"0 -8px"}}}),{name:"MuiPaginationItem"})(xv);function wv(e,t,n){return"page"===e?"".concat(n?"":"Go to ","page ").concat(t):"Go to ".concat(e," page")}var _v=e.forwardRef((function(t,n){t.boundaryCount;var i=t.classes,a=t.className,o=t.color,s=void 0===o?"standard":o,u=(t.count,t.defaultPage,t.disabled,t.getItemAriaLabel),c=void 0===u?wv:u,l=(t.hideNextButton,t.hidePrevButton,t.onChange,t.page,t.renderItem),f=void 0===l?function(t){return e.createElement(kv,t)}:l,d=t.shape,v=void 0===d?"round":d,m=(t.showFirstButton,t.showLastButton,t.siblingCount,t.size),g=void 0===m?"medium":m,y=t.variant,b=void 0===y?"text":y,x=(0,p.Z)(t,["boundaryCount","classes","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"]),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.boundaryCount,n=void 0===t?1:t,i=e.componentName,a=void 0===i?"usePagination":i,o=e.count,s=void 0===o?1:o,u=e.defaultPage,c=void 0===u?1:u,l=e.disabled,f=void 0!==l&&l,d=e.hideNextButton,h=void 0!==d&&d,v=e.hidePrevButton,m=void 0!==v&&v,g=e.onChange,y=e.page,b=e.showFirstButton,x=void 0!==b&&b,k=e.showLastButton,w=void 0!==k&&k,_=e.siblingCount,S=void 0===_?1:_,T=(0,p.Z)(e,["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"]),C=(0,sl.Z)({controlled:y,default:c,name:a,state:"page"}),O=(0,G.Z)(C,2),A=O[0],I=O[1],R=function(e,t){y||I(t),g&&g(e,t)},N=function(e,t){var n=t-e+1;return Array.from({length:n},(function(t,n){return e+n}))},P=N(1,Math.min(n,s)),M=N(Math.max(s-n+1,n+1),s),D=Math.max(Math.min(A-S,s-n-2*S-1),n+2),L=Math.min(Math.max(A+S,n+2*S+2),M[0]-2),j=[].concat((0,E.Z)(x?["first"]:[]),(0,E.Z)(m?[]:["previous"]),(0,E.Z)(P),(0,E.Z)(D>n+2?["start-ellipsis"]:n+1<s-n?[n+1]:[]),(0,E.Z)(N(D,L)),(0,E.Z)(L<s-n-1?["end-ellipsis"]:s-n>n?[s-n]:[]),(0,E.Z)(M),(0,E.Z)(h?[]:["next"]),(0,E.Z)(w?["last"]:[])),F=function(e){switch(e){case"first":return 1;case"previous":return A-1;case"next":return A+1;case"last":return s;default:return null}},Z=j.map((function(e){return"number"===typeof e?{onClick:function(t){R(t,e)},type:"page",page:e,selected:e===A,disabled:f,"aria-current":e===A?"true":void 0}:{onClick:function(t){R(t,F(e))},type:e,page:F(e),selected:!1,disabled:f||-1===e.indexOf("ellipsis")&&("next"===e||"last"===e?A>=s:A<=1)}}));return(0,r.Z)({items:Z},T)}((0,r.Z)({},t,{componentName:"Pagination"})),w=k.items;return e.createElement("nav",(0,r.Z)({"aria-label":"pagination navigation",className:(0,h.Z)(i.root,a),ref:n},x),e.createElement("ul",{className:i.ul},w.map((function(t,n){return e.createElement("li",{key:n},f((0,r.Z)({},t,{color:s,"aria-label":c(t.type,t.page,t.selected),shape:v,size:g,variant:b})))}))))})),Sv=(0,i.Z)({root:{},ul:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}},{name:"MuiPagination"})(_v);var Tv=k({outerContainer:{width:"2em",height:"2em",padding:"0.9em",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.5)"},innerContainer:{display:"flex",alignItems:"flex-end","& div":{width:"2px",marginRight:"1px","&:not(:last-child)":{borderRight:"none"}}}}),Ev=[0,1,2,3,4];function Cv(t){var n=t.participant,r=Tv(),i=function(t){var n=(0,e.useState)(t.networkQualityLevel),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){var e=function(e){return a(e)};return a(t.networkQualityLevel),t.on("networkQualityLevelChanged",e),function(){t.off("networkQualityLevelChanged",e)}}),[t]),i}(n);return null===i?null:(0,is.jsx)("div",{className:r.outerContainer,children:(0,is.jsx)("div",{className:r.innerContainer,children:Ev.map((function(e){return(0,is.jsx)("div",{style:{height:"".concat(3*(e+1),"px"),background:i>e?"white":"rgba(255, 255, 255, 0.2)"}},e)}))})})}var Ov=n(16608);function Av(){return(0,is.jsx)(hd,{title:"Participant is pinned. Click to un-pin.",placement:"top",children:(0,is.jsx)(Ov.Z,{style:{float:"right",background:"rgba(0, 0, 0, 0.5)",padding:"0.1em",boxSizing:"content-box"},width:"26",height:"26",viewBox:"0 0 26 26",children:(0,is.jsx)("path",{fill:"#FFF",fillRule:"evenodd",strokeWidth:"0",d:"M15.808 4.489c.208-.207.544-.207.75 0l4.953 4.952c.207.207.207.543 0 .75l-1.415 1.415c-.207.208-.543.208-.75 0l-.333-.333-3.007 3.007v2.611c0 .113-.035.222-.1.312l-.055.063-1.06 1.062c-.208.207-.544.207-.751 0l-2.809-2.81-5.992 5.993c-.207.207-.543.207-.75 0-.184-.184-.205-.47-.062-.677l.062-.073 5.991-5.993-2.808-2.808c-.184-.184-.204-.47-.061-.677l.061-.073 1.062-1.061c.1-.1.234-.156.375-.156h2.61l3.007-3.007-.332-.332c-.185-.184-.205-.47-.062-.677l.062-.073zm.376 1.125l-.666.664.333.333c.185.184.205.47.062.677l-.062.074-3.537 3.537c-.1.1-.234.155-.375.155h-2.61l-.531.531 2.803 2.803.005.006.005.005 2.804 2.803.53-.531v-2.61c0-.112.036-.221.102-.311l.054-.064 3.537-3.537c.208-.208.544-.208.75 0l.333.332.664-.666-4.201-4.201z"})})})}function Iv(t){var n=(0,e.useState)(t&&t.isSwitchedOff),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(a(t&&t.isSwitchedOff),t){var e=function(){return a(!0)},n=function(){return a(!1)};return t.on("switchedOff",e),t.on("switchedOn",n),function(){t.off("switchedOff",e),t.off("switchedOn",n)}}}),[t]),!!i}function Rv(t){var n=(0,e.useState)([]),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){a(Array.from(t.tracks.values()));var e=function(e){return a((function(t){return[].concat((0,E.Z)(t),[e])}))},n=function(e){return a((function(t){return t.filter((function(t){return t!==e}))}))};return t.on("trackPublished",e),t.on("trackUnpublished",n),function(){t.off("trackPublished",e),t.off("trackUnpublished",n)}}),[t]),i}function Nv(t){var n=(0,e.useState)(t&&t.track),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(a(t&&t.track),t){var e=function(){return a(null)};return t.on("subscribed",a),t.on("unsubscribed",e),function(){t.off("subscribed",a),t.off("unsubscribed",e)}}}),[t]),i}function Pv(t){var n=(0,e.useState)(!1),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){var e=function(){return a(!0)},n=function(){return a(!1)};return n(),t.on("reconnecting",e),t.on("reconnected",n),function(){t.off("reconnecting",e),t.off("reconnected",n)}}),[t]),i}var Mv=k((function(e){return{container:(0,d.Z)({isolation:"isolate",position:"relative",display:"flex",alignItems:"center",height:0,overflow:"hidden",marginBottom:"0.5em","& video":{objectFit:"contain !important"},borderRadius:"4px",border:"".concat(e.participantBorderWidth,"px solid rgb(245, 248, 255)"),paddingTop:"calc(".concat(56.25,"% - ").concat(e.participantBorderWidth,"px)"),background:"black"},e.breakpoints.down("sm"),{height:e.sidebarMobileHeight,width:"".concat(16*e.sidebarMobileHeight/9,"px"),marginRight:"8px",marginBottom:"0",fontSize:"12px",paddingTop:"".concat(e.sidebarMobileHeight-2,"px")}),innerContainer:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},infoContainer:{position:"absolute",zIndex:2,display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",width:"100%",background:"transparent",top:0},avatarContainer:(0,d.Z)({display:"flex",alignItems:"center",justifyContent:"center",background:"black",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1},e.breakpoints.down("sm"),{"& svg":{transform:"scale(0.7)"}}),reconnectingContainer:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(40, 42, 43, 0.75)",zIndex:1},screenShareIconContainer:{background:"rgba(0, 0, 0, 0.5)",padding:"0.18em 0.3em",marginRight:"0.3em",display:"flex","& path":{fill:"white"}},identity:{background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"0.18em 0.3em 0.18em 0",margin:0,display:"flex",alignItems:"center"},infoRowBottom:{display:"flex",justifyContent:"space-between",position:"absolute",bottom:0,left:0},typography:(0,d.Z)({color:"white"},e.breakpoints.down("sm"),{fontSize:"0.75rem"}),hideParticipant:{display:"none"},cursorPointer:{cursor:"pointer"},galleryView:(0,d.Z)({border:"".concat(e.participantBorderWidth,"px solid ").concat(e.galleryViewBackgroundColor),borderRadius:"8px"},e.breakpoints.down("sm"),{position:"relative",width:"100%",height:"100%",padding:"0",fontSize:"12px",margin:"0","& video":{objectFit:"cover !important"}}),dominantSpeaker:{border:"solid ".concat(2,"px #7BEAA5")}}}));function Dv(e){var t,n=e.participant,r=e.onClick,i=e.isSelected,a=e.children,o=e.isLocalParticipant,s=e.hideParticipant,u=e.isDominantSpeaker,c=Rv(n),l=c.find((function(e){return"audio"===e.kind})),f=c.find((function(e){return!e.trackName.includes("screen")&&"video"===e.kind})),p=Boolean(f),v=c.find((function(e){return e.trackName.includes("screen")})),m=Iv(Nv(f)),g=Nv(l),y=Pv(n),b=ss().isGalleryViewActive,x=Mv();return(0,is.jsxs)("div",{className:(0,h.Z)(x.container,(t={},(0,d.Z)(t,x.hideParticipant,s),(0,d.Z)(t,x.cursorPointer,Boolean(r)),(0,d.Z)(t,x.dominantSpeaker,u),(0,d.Z)(t,x.galleryView,b),t)),onClick:r,"data-cy-participant":n.identity,children:[(0,is.jsxs)("div",{className:x.infoContainer,children:[(0,is.jsx)(Cv,{participant:n}),(0,is.jsxs)("div",{className:x.infoRowBottom,children:[v&&(0,is.jsx)("span",{className:x.screenShareIconContainer,children:(0,is.jsx)(hp,{})}),(0,is.jsxs)("span",{className:x.identity,children:[(0,is.jsx)(bc,{audioTrack:g}),(0,is.jsxs)(Zu,{variant:"body1",className:x.typography,component:"span",children:[n.identity,o&&" (You)"]})]})]}),(0,is.jsx)("div",{children:i&&(0,is.jsx)(Av,{})})]}),(0,is.jsxs)("div",{className:x.innerContainer,children:[(!p||m)&&(0,is.jsx)("div",{className:x.avatarContainer,children:(0,is.jsx)(Tp,{})}),y&&(0,is.jsx)("div",{className:x.reconnectingContainer,children:(0,is.jsx)(Zu,{variant:"body1",className:x.typography,children:"Reconnecting..."})}),a]})]})}function Lv(e){var t=e.publication,n=e.isLocalParticipant,r=e.videoPriority,i=Nv(t);return i&&"video"===i.kind?(0,is.jsx)(Md,{track:i,priority:r,isLocal:!i.name.includes("screen")&&n}):null}function jv(e){var t,n=e.participant,r=e.videoOnly,i=e.enableScreenShare,a=e.videoPriority,o=e.isLocalParticipant,s=Rv(n);return t=i&&s.some((function(e){return e.trackName.includes("screen")}))?s.filter((function(e){return e.trackName.includes("screen")||"video"!==e.kind})):s.filter((function(e){return!e.trackName.includes("screen")})),(0,is.jsx)(is.Fragment,{children:t.map((function(e){return(0,is.jsx)(Lv,{publication:e,participant:n,isLocalParticipant:o,videoOnly:r,videoPriority:a},e.kind)}))})}function Fv(e){var t=e.participant,n=e.videoOnly,r=e.enableScreenShare,i=e.onClick,a=e.isSelected,o=e.isLocalParticipant,s=e.hideParticipant,u=e.isDominantSpeaker;return(0,is.jsx)(Dv,{participant:t,onClick:i,isSelected:a,isLocalParticipant:o,hideParticipant:s,isDominantSpeaker:u,children:(0,is.jsx)(jv,{participant:t,videoOnly:n,enableScreenShare:r,isLocalParticipant:o})})}var Zv=e.memo(Fv),Bv=function(e,t,n,r){var i=e,a=e*ie,o=Math.floor(n/i);return Math.ceil(t/o)*a<=r};function Uv(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=Fs(),i=r.room,a=(0,e.useState)(null!==(t=null===i||void 0===i?void 0:i.dominantSpeaker)&&void 0!==t?t:null),o=(0,G.Z)(a,2),s=o[0],u=o[1];return(0,e.useEffect)((function(){if(i){var e=function(e){(n||null!==e)&&u(e)},t=function(e){u((function(t){return t===e?null:t}))};return i.on("dominantSpeakerChanged",e),i.on("participantDisconnected",t),function(){i.off("dominantSpeakerChanged",e),i.off("participantDisconnected",t)}}}),[i,n]),s}function Vv(){var t,n,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=Fs(),a=i.room,o=Uv(),s=ss(),u=s.maxGalleryViewParticipants,c=(0,e.useState)(Array.from(null!==(t=null===a||void 0===a||null===(n=a.participants)||void 0===n?void 0:n.values())&&void 0!==t?t:[],(function(e){return{participant:e,dominantSpeakerStartTime:0}}))),l=(0,G.Z)(c,2),f=l[0],d=l[1];return(0,e.useEffect)((function(){null!==o&&d((function(e){var t=e.slice(),n=t.find((function(e){return e.participant===o}));if(!n)return e;n.dominantSpeakerStartTime=Date.now();var i=r?5:u-1,a=t.slice(0,i);if(!a.some((function(e){return e.participant===o}))){var s=a.sort((function(e,t){return e.dominantSpeakerStartTime-t.dominantSpeakerStartTime}))[0];t.splice(t.indexOf(n),1),t.splice(t.indexOf(s),1,n),t.splice(i,0,s)}return t}))}),[o,u,r]),(0,e.useEffect)((function(){if(a){var e=Array.from(a.participants.values(),(function(e){return{participant:e,dominantSpeakerStartTime:0}}));d(e);var t=function(e){d((function(t){return[].concat((0,E.Z)(t),[{participant:e,dominantSpeakerStartTime:0}])}))},n=function(e){d((function(t){return t.filter((function(t){return t.participant!==e}))}))};return a.on("participantConnected",t),a.on("participantDisconnected",n),function(){a.off("participantConnected",t),a.off("participantDisconnected",n)}}}),[a]),f.map((function(e){return e.participant}))}var zv=(0,e.createContext)(null),Wv=function(t){var n=t.children,r=Vv(!0),i=Vv(),a=function(){var t,n=Fs().room,r=Uv(),i=(0,e.useState)(Array.from(null!==(t=null===n||void 0===n?void 0:n.participants.values())&&void 0!==t?t:[])),a=(0,G.Z)(i,2),o=a[0],s=a[1];return(0,e.useEffect)((function(){r&&s((function(e){return[r].concat((0,E.Z)(e.filter((function(e){return e!==r}))))}))}),[r]),(0,e.useEffect)((function(){if(n){s(Array.from(n.participants.values()));var e=function(e){return s((function(t){return[].concat((0,E.Z)(t),[e])}))},t=function(e){return s((function(t){return t.filter((function(t){return t!==e}))}))};return n.on("participantConnected",e),n.on("participantDisconnected",t),function(){n.off("participantConnected",e),n.off("participantDisconnected",t)}}}),[n]),o}();return(0,is.jsx)(zv.Provider,{value:{mobileGalleryViewParticipants:r,galleryViewParticipants:i,speakerViewParticipants:a},children:n})};function Hv(){var t=(0,e.useContext)(zv);if(!t)throw new Error("useParticipantContext must be used within a ParticipantProvider");return t}var Gv="50px",qv=k((function(e){return{container:{background:e.galleryViewBackgroundColor,position:"relative",gridArea:"1 / 1 / 2 / 3"},participantContainer:{position:"absolute",display:"flex",top:Gv,right:Gv,bottom:Gv,left:Gv,margin:"0 auto",alignContent:"center",flexWrap:"wrap",justifyContent:"center"},buttonContainer:{position:"absolute",top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center"},buttonContainerLeft:{right:"calc(100% - ".concat(Gv,")"),left:0},buttonContainerRight:{right:0,left:"calc(100% - ".concat(Gv,")")},pagination:{"& .MuiPaginationItem-root":{color:"white"}},paginationButton:{color:"black",background:"rgba(255, 255, 255, 0.8)",width:"40px",height:"40px","&:hover":{background:"rgba(255, 255, 255)"}},paginationContainer:{position:"absolute",top:"calc(100% - ".concat(Gv,")"),right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center"}}}));function Kv(){var t=qv(),n=ss().maxGalleryViewParticipants,r=Fs().room,i=Hv().galleryViewParticipants,a=Uv(!0),o=function(t){var n=(0,e.useState)(1),r=(0,G.Z)(n,2),i=r[0],a=r[1],o=ss().maxGalleryViewParticipants,s=Math.ceil(t.length/o),u=i>s;return(0,e.useEffect)((function(){u&&a(s)}),[u,s]),{paginatedParticipants:t.slice((i-1)*o,i*o),setCurrentPage:a,currentPage:i,totalPages:s}}([r.localParticipant].concat((0,E.Z)(i))),s=o.paginatedParticipants,u=o.setCurrentPage,c=o.currentPage,l=o.totalPages,f=function(t){var n=(0,e.useRef)(null),r=(0,e.useState)(0),i=(0,G.Z)(r,2),a=i[0],o=i[1],s=(0,e.useCallback)((function(){if(n.current){for(var e=n.current.offsetWidth-6,r=Math.max(n.current.offsetHeight-6,75),i=0,a=Math.pow(2,14);a-i>1;){var s=(a-i)/2+i;Bv(s,t,e,r)?i=s:a=s}var u=Math.ceil(i);o(u-6)}}),[t]);return(0,e.useEffect)((function(){var e=new window.ResizeObserver(s);return e.observe(n.current),function(){e.disconnect()}}),[s]),(0,e.useLayoutEffect)(s,[s]),{participantVideoWidth:a,containerRef:n}}(1===c?s.length:n),d=f.participantVideoWidth,p=f.containerRef,v="".concat(d,"px"),m="".concat(Math.floor(d*ie),"px");return(0,is.jsxs)("div",{className:t.container,children:[(0,is.jsx)("div",{className:(0,h.Z)(t.buttonContainer,t.buttonContainerLeft),children:!(1===c)&&(0,is.jsx)(yd,{className:t.paginationButton,onClick:function(){return u((function(e){return e-1}))},children:(0,is.jsx)(hv.Z,{})})}),(0,is.jsx)("div",{className:(0,h.Z)(t.buttonContainer,t.buttonContainerRight),children:!(c===l)&&(0,is.jsx)(yd,{className:t.paginationButton,onClick:function(){return u((function(e){return e+1}))},children:(0,is.jsx)(vv.Z,{})})}),(0,is.jsx)("div",{className:t.paginationContainer,children:l>1&&(0,is.jsx)(Sv,{className:t.pagination,page:c,count:l,onChange:function(e,t){return u(t)},shape:"rounded",color:"primary",size:"small",hidePrevButton:!0,hideNextButton:!0})}),(0,is.jsx)("div",{className:t.participantContainer,ref:p,children:s.map((function(e){return(0,is.jsx)("div",{style:{width:v,height:m,margin:3},children:(0,is.jsx)(Zv,{participant:e,isLocalParticipant:e===r.localParticipant,isDominantSpeaker:e===a})},e.sid)}))})]})}function Yv(e){return null!==e&&"object"===typeof e&&"constructor"in e&&e.constructor===Object}function Xv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(n){"undefined"===typeof e[n]?e[n]=t[n]:Yv(t[n])&&Yv(e[n])&&Object.keys(t[n]).length>0&&Xv(e[n],t[n])}))}var Qv={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Jv(){var e="undefined"!==typeof document?document:{};return Xv(e,Qv),e}var $v={document:Qv,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"===typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!==typeof setTimeout&&clearTimeout(e)}};function em(){var e="undefined"!==typeof window?window:{};return Xv(e,$v),e}var tm=n(82963);var nm=function(e){(0,me.Z)(n,e);var t=(0,ge.Z)(n);function n(e){var r;return(0,he.Z)(this,n),"number"===typeof e?r=t.call(this,e):(r=t.call.apply(t,[this].concat((0,E.Z)(e||[]))),function(e){var t=e.__proto__;Object.defineProperty(e,"__proto__",{get:function(){return t},set:function(e){t.__proto__=e}})}((0,O.Z)(r))),(0,tm.Z)(r)}return(0,ve.Z)(n)}((0,ye.Z)(Array));function rm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.forEach((function(e){Array.isArray(e)?t.push.apply(t,(0,E.Z)(rm(e))):t.push(e)})),t}function im(e,t){return Array.prototype.filter.call(e,t)}function am(e,t){var n=em(),r=Jv(),i=[];if(!t&&e instanceof nm)return e;if(!e)return new nm(i);if("string"===typeof e){var a=e.trim();if(a.indexOf("<")>=0&&a.indexOf(">")>=0){var o="div";0===a.indexOf("<li")&&(o="ul"),0===a.indexOf("<tr")&&(o="tbody"),0!==a.indexOf("<td")&&0!==a.indexOf("<th")||(o="tr"),0===a.indexOf("<tbody")&&(o="table"),0===a.indexOf("<option")&&(o="select");var s=r.createElement(o);s.innerHTML=a;for(var u=0;u<s.childNodes.length;u+=1)i.push(s.childNodes[u])}else i=function(e,t){if("string"!==typeof e)return[e];for(var n=[],r=t.querySelectorAll(e),i=0;i<r.length;i+=1)n.push(r[i]);return n}(e.trim(),t||r)}else if(e.nodeType||e===n||e===r)i.push(e);else if(Array.isArray(e)){if(e instanceof nm)return e;i=e}return new nm(function(e){for(var t=[],n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(i))}am.fn=nm.prototype;var om="resize scroll".split(" ");function sm(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if("undefined"===typeof n[0]){for(var i=0;i<this.length;i+=1)om.indexOf(e)<0&&(e in this[i]?this[i][e]():am(this[i]).trigger(e));return this}return this.on.apply(this,[e].concat(n))}}sm("click"),sm("blur"),sm("focus"),sm("focusin"),sm("focusout"),sm("keyup"),sm("keydown"),sm("keypress"),sm("submit"),sm("change"),sm("mousedown"),sm("mousemove"),sm("mouseup"),sm("mouseenter"),sm("mouseleave"),sm("mouseout"),sm("mouseover"),sm("touchstart"),sm("touchend"),sm("touchmove"),sm("resize"),sm("scroll");var um={addClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=rm(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).add.apply(t,(0,E.Z)(r))})),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=rm(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).remove.apply(t,(0,E.Z)(r))})),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=rm(t.map((function(e){return e.split(" ")})));return im(this,(function(e){return r.filter((function(t){return e.classList.contains(t)})).length>0})).length>0},toggleClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=rm(t.map((function(e){return e.split(" ")})));this.forEach((function(e){r.forEach((function(t){e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"===typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(var r in e)this[n][r]=e[r],this[n].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!==typeof e?"".concat(e,"ms"):e;return this},on:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3];function s(e){var t=e.target;if(t){var n=e.target.dom7EventData||[];if(n.indexOf(e)<0&&n.unshift(e),am(t).is(i))a.apply(t,n);else for(var r=am(t).parents(),o=0;o<r.length;o+=1)am(r[o]).is(i)&&a.apply(r[o],n)}}function u(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),a.apply(this,t)}"function"===typeof t[1]&&(r=t[0],a=t[1],o=t[2],i=void 0),o||(o=!1);for(var c,l=r.split(" "),f=0;f<this.length;f+=1){var d=this[f];if(i)for(c=0;c<l.length;c+=1){var p=l[c];d.dom7LiveListeners||(d.dom7LiveListeners={}),d.dom7LiveListeners[p]||(d.dom7LiveListeners[p]=[]),d.dom7LiveListeners[p].push({listener:a,proxyListener:s}),d.addEventListener(p,s,o)}else for(c=0;c<l.length;c+=1){var h=l[c];d.dom7Listeners||(d.dom7Listeners={}),d.dom7Listeners[h]||(d.dom7Listeners[h]=[]),d.dom7Listeners[h].push({listener:a,proxyListener:u}),d.addEventListener(h,u,o)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3];"function"===typeof t[1]&&(r=t[0],a=t[1],o=t[2],i=void 0),o||(o=!1);for(var s=r.split(" "),u=0;u<s.length;u+=1)for(var c=s[u],l=0;l<this.length;l+=1){var f=this[l],d=void 0;if(!i&&f.dom7Listeners?d=f.dom7Listeners[c]:i&&f.dom7LiveListeners&&(d=f.dom7LiveListeners[c]),d&&d.length)for(var p=d.length-1;p>=0;p-=1){var h=d[p];a&&h.listener===a||a&&h.listener&&h.listener.dom7proxy&&h.listener.dom7proxy===a?(f.removeEventListener(c,h.proxyListener,o),d.splice(p,1)):a||(f.removeEventListener(c,h.proxyListener,o),d.splice(p,1))}}return this},trigger:function(){for(var e=em(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=n[0].split(" "),a=n[1],o=0;o<i.length;o+=1)for(var s=i[o],u=0;u<this.length;u+=1){var c=this[u];if(e.CustomEvent){var l=new e.CustomEvent(s,{detail:a,bubbles:!0,cancelable:!0});c.dom7EventData=n.filter((function(e,t){return t>0})),c.dispatchEvent(l),c.dom7EventData=[],delete c.dom7EventData}}return this},transitionEnd:function(e){var t=this;return e&&t.on("transitionend",(function n(r){r.target===this&&(e.call(this,r),t.off("transitionend",n))})),this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var e=em();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var e=em(),t=Jv(),n=this[0],r=n.getBoundingClientRect(),i=t.body,a=n.clientTop||i.clientTop||0,o=n.clientLeft||i.clientLeft||0,s=n===e?e.scrollY:n.scrollTop,u=n===e?e.scrollX:n.scrollLeft;return{top:r.top+s-a,left:r.left+u-o}}return null},css:function(e,t){var n,r=em();if(1===arguments.length){if("string"!==typeof e){for(n=0;n<this.length;n+=1)for(var i in e)this[n].style[i]=e[i];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"===typeof e){for(n=0;n<this.length;n+=1)this[n].style[e]=t;return this}return this},each:function(e){return e?(this.forEach((function(t,n){e.apply(t,[t,n])})),this):this},html:function(e){if("undefined"===typeof e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if("undefined"===typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){var t,n,r=em(),i=Jv(),a=this[0];if(!a||"undefined"===typeof e)return!1;if("string"===typeof e){if(a.matches)return a.matches(e);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(e);if(a.msMatchesSelector)return a.msMatchesSelector(e);for(t=am(e),n=0;n<t.length;n+=1)if(t[n]===a)return!0;return!1}if(e===i)return a===i;if(e===r)return a===r;if(e.nodeType||e instanceof nm){for(t=e.nodeType?[e]:e,n=0;n<t.length;n+=1)if(t[n]===a)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if("undefined"===typeof e)return this;var t=this.length;if(e>t-1)return am([]);if(e<0){var n=t+e;return am(n<0?[]:[this[n]])}return am([this[e]])},append:function(){for(var e,t=Jv(),n=0;n<arguments.length;n+=1){e=n<0||arguments.length<=n?void 0:arguments[n];for(var r=0;r<this.length;r+=1)if("string"===typeof e){var i=t.createElement("div");for(i.innerHTML=e;i.firstChild;)this[r].appendChild(i.firstChild)}else if(e instanceof nm)for(var a=0;a<e.length;a+=1)this[r].appendChild(e[a]);else this[r].appendChild(e)}return this},prepend:function(e){var t,n,r=Jv();for(t=0;t<this.length;t+=1)if("string"===typeof e){var i=r.createElement("div");for(i.innerHTML=e,n=i.childNodes.length-1;n>=0;n-=1)this[t].insertBefore(i.childNodes[n],this[t].childNodes[0])}else if(e instanceof nm)for(n=0;n<e.length;n+=1)this[t].insertBefore(e[n],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&am(this[0].nextElementSibling).is(e)?am([this[0].nextElementSibling]):am([]):this[0].nextElementSibling?am([this[0].nextElementSibling]):am([]):am([])},nextAll:function(e){var t=[],n=this[0];if(!n)return am([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;e?am(r).is(e)&&t.push(r):t.push(r),n=r}return am(t)},prev:function(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&am(t.previousElementSibling).is(e)?am([t.previousElementSibling]):am([]):t.previousElementSibling?am([t.previousElementSibling]):am([])}return am([])},prevAll:function(e){var t=[],n=this[0];if(!n)return am([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;e?am(r).is(e)&&t.push(r):t.push(r),n=r}return am(t)},parent:function(e){for(var t=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?am(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return am(t)},parents:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)e?am(r).is(e)&&t.push(r):t.push(r),r=r.parentNode;return am(t)},closest:function(e){var t=this;return"undefined"===typeof e?am([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(e),i=0;i<r.length;i+=1)t.push(r[i]);return am(t)},children:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].children,i=0;i<r.length;i+=1)e&&!am(r[i]).is(e)||t.push(r[i]);return am(t)},filter:function(e){return am(im(this,e))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(um).forEach((function(e){Object.defineProperty(am.fn,e,{value:um[e],writable:!0})}));var cm,lm,fm,dm=am;function pm(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function hm(){return Date.now()}function vm(e,t){void 0===t&&(t="x");var n,r,i,a=em(),o=function(e){var t,n=em();return n.getComputedStyle&&(t=n.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}(e);return a.WebKitCSSMatrix?((r=o.transform||o.webkitTransform).split(",").length>6&&(r=r.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),i=new a.WebKitCSSMatrix("none"===r?"":r)):n=(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(r=a.WebKitCSSMatrix?i.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(r=a.WebKitCSSMatrix?i.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),r||0}function mm(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function gm(e){return"undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function ym(){for(var e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"],n=1;n<arguments.length;n+=1){var r=n<0||arguments.length<=n?void 0:arguments[n];if(void 0!==r&&null!==r&&!gm(r))for(var i=Object.keys(Object(r)).filter((function(e){return t.indexOf(e)<0})),a=0,o=i.length;a<o;a+=1){var s=i[a],u=Object.getOwnPropertyDescriptor(r,s);void 0!==u&&u.enumerable&&(mm(e[s])&&mm(r[s])?r[s].__swiper__?e[s]=r[s]:ym(e[s],r[s]):!mm(e[s])&&mm(r[s])?(e[s]={},r[s].__swiper__?e[s]=r[s]:ym(e[s],r[s])):e[s]=r[s])}}return e}function bm(e,t,n){e.style.setProperty(t,n)}function xm(e){var t,n=e.swiper,r=e.targetPosition,i=e.side,a=em(),o=-n.translate,s=null,u=n.params.speed;n.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(n.cssModeFrameID);var c=r>o?"next":"prev",l=function(e,t){return"next"===c&&e>=t||"prev"===c&&e<=t};!function e(){t=(new Date).getTime(),null===s&&(s=t);var c=Math.max(Math.min((t-s)/u,1),0),f=.5-Math.cos(c*Math.PI)/2,p=o+f*(r-o);if(l(p,r)&&(p=r),n.wrapperEl.scrollTo((0,d.Z)({},i,p)),l(p,r))return n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout((function(){n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo((0,d.Z)({},i,p))})),void a.cancelAnimationFrame(n.cssModeFrameID);n.cssModeFrameID=a.requestAnimationFrame(e)}()}function km(){return cm||(cm=function(){var e=em(),t=Jv();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,n)}catch(r){}return t}(),gestures:"ongesturestart"in e}}()),cm}function wm(e){return void 0===e&&(e={}),lm||(lm=function(e){var t=(void 0===e?{}:e).userAgent,n=km(),r=em(),i=r.navigator.platform,a=t||r.navigator.userAgent,o={ios:!1,android:!1},s=r.screen.width,u=r.screen.height,c=a.match(/(Android);?[\s\/]+([\d.]+)?/),l=a.match(/(iPad).*OS\s([\d_]+)/),f=a.match(/(iPod)(.*OS\s([\d_]+))?/),d=!l&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="Win32"===i,h="MacIntel"===i;return!l&&h&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf("".concat(s,"x").concat(u))>=0&&((l=a.match(/(Version)\/([\d.]+)/))||(l=[0,1,"13_0_0"]),h=!1),c&&!p&&(o.os="android",o.android=!0),(l||d||f)&&(o.os="ios",o.ios=!0),o}(e)),lm}function _m(){return fm||(fm=function(){var e=em();return{isSafari:function(){var t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),fm}var Sm={on:function(e,t,n){var r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof t)return r;var i=n?"unshift":"push";return e.split(" ").forEach((function(e){r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][i](t)})),r},once:function(e,t,n){var r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof t)return r;function i(){r.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];t.apply(r,a)}return i.__emitterProxy=t,r.on(e,i,n)},onAny:function(e,t){var n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!==typeof e)return n;var r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny:function(e){var t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;var n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off:function(e,t){var n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(e.split(" ").forEach((function(e){"undefined"===typeof t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach((function(r,i){(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(i,1)}))})),n):n},emit:function(){var e,t,n,r=this;if(!r.eventsListeners||r.destroyed)return r;if(!r.eventsListeners)return r;for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];"string"===typeof a[0]||Array.isArray(a[0])?(e=a[0],t=a.slice(1,a.length),n=r):(e=a[0].events,t=a[0].data,n=a[0].context||r),t.unshift(n);var s=Array.isArray(e)?e:e.split(" ");return s.forEach((function(e){r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach((function(r){r.apply(n,[e].concat((0,E.Z)(t)))})),r.eventsListeners&&r.eventsListeners[e]&&r.eventsListeners[e].forEach((function(e){e.apply(n,t)}))})),r}};var Tm={updateSize:function(){var e,t,n=this,r=n.$el;e="undefined"!==typeof n.params.width&&null!==n.params.width?n.params.width:r[0].clientWidth,t="undefined"!==typeof n.params.height&&null!==n.params.height?n.params.height:r[0].clientHeight,0===e&&n.isHorizontal()||0===t&&n.isVertical()||(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),t=t-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))},updateSlides:function(){var e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function n(e,n){return parseFloat(e.getPropertyValue(t(n))||0)}var r=e.params,i=e.$wrapperEl,a=e.size,o=e.rtlTranslate,s=e.wrongRTL,u=e.virtual&&r.virtual.enabled,c=u?e.virtual.slides.length:e.slides.length,l=i.children(".".concat(e.params.slideClass)),f=u?e.virtual.slides.length:l.length,p=[],h=[],v=[],m=r.slidesOffsetBefore;"function"===typeof m&&(m=r.slidesOffsetBefore.call(e));var g=r.slidesOffsetAfter;"function"===typeof g&&(g=r.slidesOffsetAfter.call(e));var y=e.snapGrid.length,b=e.slidesGrid.length,x=r.spaceBetween,k=-m,w=0,_=0;if("undefined"!==typeof a){"string"===typeof x&&x.indexOf("%")>=0&&(x=parseFloat(x.replace("%",""))/100*a),e.virtualSize=-x,o?l.css({marginLeft:"",marginBottom:"",marginTop:""}):l.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(bm(e.wrapperEl,"--swiper-centered-offset-before",""),bm(e.wrapperEl,"--swiper-centered-offset-after",""));var S,T=r.grid&&r.grid.rows>1&&e.grid;T&&e.grid.initSlides(f);for(var E="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter((function(e){return"undefined"!==typeof r.breakpoints[e].slidesPerView})).length>0,C=0;C<f;C+=1){S=0;var O=l.eq(C);if(T&&e.grid.updateSlide(C,O,f,t),"none"!==O.css("display")){if("auto"===r.slidesPerView){E&&(l[C].style[t("width")]="");var A=getComputedStyle(O[0]),I=O[0].style.transform,R=O[0].style.webkitTransform;if(I&&(O[0].style.transform="none"),R&&(O[0].style.webkitTransform="none"),r.roundLengths)S=e.isHorizontal()?O.outerWidth(!0):O.outerHeight(!0);else{var N=n(A,"width"),P=n(A,"padding-left"),M=n(A,"padding-right"),D=n(A,"margin-left"),L=n(A,"margin-right"),j=A.getPropertyValue("box-sizing");if(j&&"border-box"===j)S=N+D+L;else{var F=O[0],Z=F.clientWidth;S=N+P+M+D+L+(F.offsetWidth-Z)}}I&&(O[0].style.transform=I),R&&(O[0].style.webkitTransform=R),r.roundLengths&&(S=Math.floor(S))}else S=(a-(r.slidesPerView-1)*x)/r.slidesPerView,r.roundLengths&&(S=Math.floor(S)),l[C]&&(l[C].style[t("width")]="".concat(S,"px"));l[C]&&(l[C].swiperSlideSize=S),v.push(S),r.centeredSlides?(k=k+S/2+w/2+x,0===w&&0!==C&&(k=k-a/2-x),0===C&&(k=k-a/2-x),Math.abs(k)<.001&&(k=0),r.roundLengths&&(k=Math.floor(k)),_%r.slidesPerGroup===0&&p.push(k),h.push(k)):(r.roundLengths&&(k=Math.floor(k)),(_-Math.min(e.params.slidesPerGroupSkip,_))%e.params.slidesPerGroup===0&&p.push(k),h.push(k),k=k+S+x),e.virtualSize+=S+x,w=S,_+=1}}if(e.virtualSize=Math.max(e.virtualSize,a)+g,o&&s&&("slide"===r.effect||"coverflow"===r.effect)&&i.css({width:"".concat(e.virtualSize+r.spaceBetween,"px")}),r.setWrapperSize&&i.css((0,d.Z)({},t("width"),"".concat(e.virtualSize+r.spaceBetween,"px"))),T&&e.grid.updateWrapperSize(S,p,t),!r.centeredSlides){for(var B=[],U=0;U<p.length;U+=1){var V=p[U];r.roundLengths&&(V=Math.floor(V)),p[U]<=e.virtualSize-a&&B.push(V)}p=B,Math.floor(e.virtualSize-a)-Math.floor(p[p.length-1])>1&&p.push(e.virtualSize-a)}if(0===p.length&&(p=[0]),0!==r.spaceBetween){var z=e.isHorizontal()&&o?"marginLeft":t("marginRight");l.filter((function(e,t){return!r.cssMode||t!==l.length-1})).css((0,d.Z)({},z,"".concat(x,"px")))}if(r.centeredSlides&&r.centeredSlidesBounds){var W=0;v.forEach((function(e){W+=e+(r.spaceBetween?r.spaceBetween:0)}));var H=(W-=r.spaceBetween)-a;p=p.map((function(e){return e<0?-m:e>H?H+g:e}))}if(r.centerInsufficientSlides){var G=0;if(v.forEach((function(e){G+=e+(r.spaceBetween?r.spaceBetween:0)})),(G-=r.spaceBetween)<a){var q=(a-G)/2;p.forEach((function(e,t){p[t]=e-q})),h.forEach((function(e,t){h[t]=e+q}))}}if(Object.assign(e,{slides:l,snapGrid:p,slidesGrid:h,slidesSizesGrid:v}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){bm(e.wrapperEl,"--swiper-centered-offset-before","".concat(-p[0],"px")),bm(e.wrapperEl,"--swiper-centered-offset-after","".concat(e.size/2-v[v.length-1]/2,"px"));var K=-e.snapGrid[0],Y=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((function(e){return e+K})),e.slidesGrid=e.slidesGrid.map((function(e){return e+Y}))}if(f!==c&&e.emit("slidesLengthChange"),p.length!==y&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),h.length!==b&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),!u&&!r.cssMode&&("slide"===r.effect||"fade"===r.effect)){var X="".concat(r.containerModifierClass,"backface-hidden"),Q=e.$el.hasClass(X);f<=r.maxBackfaceHiddenSlides?Q||e.$el.addClass(X):Q&&e.$el.removeClass(X)}}},updateAutoHeight:function(e){var t,n=this,r=[],i=n.virtual&&n.params.virtual.enabled,a=0;"number"===typeof e?n.setTransition(e):!0===e&&n.setTransition(n.params.speed);var o=function(e){return i?n.slides.filter((function(t){return parseInt(t.getAttribute("data-swiper-slide-index"),10)===e}))[0]:n.slides.eq(e)[0]};if("auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)if(n.params.centeredSlides)(n.visibleSlides||dm([])).each((function(e){r.push(e)}));else for(t=0;t<Math.ceil(n.params.slidesPerView);t+=1){var s=n.activeIndex+t;if(s>n.slides.length&&!i)break;r.push(o(s))}else r.push(o(n.activeIndex));for(t=0;t<r.length;t+=1)if("undefined"!==typeof r[t]){var u=r[t].offsetHeight;a=u>a?u:a}(a||0===a)&&n.$wrapperEl.css("height","".concat(a,"px"))},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);var t=this,n=t.params,r=t.slides,i=t.rtlTranslate,a=t.snapGrid;if(0!==r.length){"undefined"===typeof r[0].swiperSlideOffset&&t.updateSlidesOffset();var o=-e;i&&(o=e),r.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var s=0;s<r.length;s+=1){var u=r[s],c=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);var l=(o+(n.centeredSlides?t.minTranslate():0)-c)/(u.swiperSlideSize+n.spaceBetween),f=(o-a[0]+(n.centeredSlides?t.minTranslate():0)-c)/(u.swiperSlideSize+n.spaceBetween),d=-(o-c),p=d+t.slidesSizesGrid[s];(d>=0&&d<t.size-1||p>1&&p<=t.size||d<=0&&p>=t.size)&&(t.visibleSlides.push(u),t.visibleSlidesIndexes.push(s),r.eq(s).addClass(n.slideVisibleClass)),u.progress=i?-l:l,u.originalProgress=i?-f:f}t.visibleSlides=dm(t.visibleSlides)}},updateProgress:function(e){var t=this;if("undefined"===typeof e){var n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}var r=t.params,i=t.maxTranslate()-t.minTranslate(),a=t.progress,o=t.isBeginning,s=t.isEnd,u=o,c=s;0===i?(a=0,o=!0,s=!0):(o=(a=(e-t.minTranslate())/i)<=0,s=a>=1),Object.assign(t,{progress:a,isBeginning:o,isEnd:s}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),o&&!u&&t.emit("reachBeginning toEdge"),s&&!c&&t.emit("reachEnd toEdge"),(u&&!o||c&&!s)&&t.emit("fromEdge"),t.emit("progress",a)},updateSlidesClasses:function(){var e,t=this,n=t.slides,r=t.params,i=t.$wrapperEl,a=t.activeIndex,o=t.realIndex,s=t.virtual&&r.virtual.enabled;n.removeClass("".concat(r.slideActiveClass," ").concat(r.slideNextClass," ").concat(r.slidePrevClass," ").concat(r.slideDuplicateActiveClass," ").concat(r.slideDuplicateNextClass," ").concat(r.slideDuplicatePrevClass)),(e=s?t.$wrapperEl.find(".".concat(r.slideClass,'[data-swiper-slide-index="').concat(a,'"]')):n.eq(a)).addClass(r.slideActiveClass),r.loop&&(e.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(o,'"]')).addClass(r.slideDuplicateActiveClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(o,'"]')).addClass(r.slideDuplicateActiveClass));var u=e.nextAll(".".concat(r.slideClass)).eq(0).addClass(r.slideNextClass);r.loop&&0===u.length&&(u=n.eq(0)).addClass(r.slideNextClass);var c=e.prevAll(".".concat(r.slideClass)).eq(0).addClass(r.slidePrevClass);r.loop&&0===c.length&&(c=n.eq(-1)).addClass(r.slidePrevClass),r.loop&&(u.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(u.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicateNextClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(u.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicateNextClass),c.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(c.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicatePrevClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(c.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicatePrevClass)),t.emitSlidesClasses()},updateActiveIndex:function(e){var t,n=this,r=n.rtlTranslate?n.translate:-n.translate,i=n.slidesGrid,a=n.snapGrid,o=n.params,s=n.activeIndex,u=n.realIndex,c=n.snapIndex,l=e;if("undefined"===typeof l){for(var f=0;f<i.length;f+=1)"undefined"!==typeof i[f+1]?r>=i[f]&&r<i[f+1]-(i[f+1]-i[f])/2?l=f:r>=i[f]&&r<i[f+1]&&(l=f+1):r>=i[f]&&(l=f);o.normalizeSlideIndex&&(l<0||"undefined"===typeof l)&&(l=0)}if(a.indexOf(r)>=0)t=a.indexOf(r);else{var d=Math.min(o.slidesPerGroupSkip,l);t=d+Math.floor((l-d)/o.slidesPerGroup)}if(t>=a.length&&(t=a.length-1),l!==s){var p=parseInt(n.slides.eq(l).attr("data-swiper-slide-index")||l,10);Object.assign(n,{snapIndex:t,realIndex:p,previousIndex:s,activeIndex:l}),n.emit("activeIndexChange"),n.emit("snapIndexChange"),u!==p&&n.emit("realIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&n.emit("slideChange")}else t!==c&&(n.snapIndex=t,n.emit("snapIndexChange"))},updateClickedSlide:function(e){var t,n=this,r=n.params,i=dm(e).closest(".".concat(r.slideClass))[0],a=!1;if(i)for(var o=0;o<n.slides.length;o+=1)if(n.slides[o]===i){a=!0,t=o;break}if(!i||!a)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(dm(i).attr("data-swiper-slide-index"),10):n.clickedIndex=t,r.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}};var Em={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this,n=t.params,r=t.rtlTranslate,i=t.translate,a=t.$wrapperEl;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;var o=vm(a[0],e);return r&&(o=-o),o||0},setTranslate:function(e,t){var n=this,r=n.rtlTranslate,i=n.params,a=n.$wrapperEl,o=n.wrapperEl,s=n.progress,u=0,c=0;n.isHorizontal()?u=r?-e:e:c=e,i.roundLengths&&(u=Math.floor(u),c=Math.floor(c)),i.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-u:-c:i.virtualTranslate||a.transform("translate3d(".concat(u,"px, ").concat(c,"px, ").concat(0,"px)")),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?u:c;var l=n.maxTranslate()-n.minTranslate();(0===l?0:(e-n.minTranslate())/l)!==s&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,n,r,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),void 0===r&&(r=!0);var a=this,o=a.params,s=a.wrapperEl;if(a.animating&&o.preventInteractionOnTransition)return!1;var u,c=a.minTranslate(),l=a.maxTranslate();if(u=r&&e>c?c:r&&e<l?l:e,a.updateProgress(u),o.cssMode){var f=a.isHorizontal();if(0===t)s[f?"scrollLeft":"scrollTop"]=-u;else{var p;if(!a.support.smoothScroll)return xm({swiper:a,targetPosition:-u,side:f?"left":"top"}),!0;s.scrollTo((p={},(0,d.Z)(p,f?"left":"top",-u),(0,d.Z)(p,"behavior","smooth"),p))}return!0}return 0===t?(a.setTransition(0),a.setTranslate(u),n&&(a.emit("beforeTransitionStart",t,i),a.emit("transitionEnd"))):(a.setTransition(t),a.setTranslate(u),n&&(a.emit("beforeTransitionStart",t,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,n&&a.emit("transitionEnd"))}),a.$wrapperEl[0].addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd))),!0}};function Cm(e){var t=e.swiper,n=e.runCallbacks,r=e.direction,i=e.step,a=t.activeIndex,o=t.previousIndex,s=r;if(s||(s=a>o?"next":a<o?"prev":"reset"),t.emit("transition".concat(i)),n&&a!==o){if("reset"===s)return void t.emit("slideResetTransition".concat(i));t.emit("slideChangeTransition".concat(i)),"next"===s?t.emit("slideNextTransition".concat(i)):t.emit("slidePrevTransition".concat(i))}}var Om={slideTo:function(e,t,n,r,i){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),"number"!==typeof e&&"string"!==typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. [".concat(typeof e,"] given."));if("string"===typeof e){var a=parseInt(e,10);if(!isFinite(a))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. [".concat(e,"] given."));e=a}var o=this,s=e;s<0&&(s=0);var u=o.params,c=o.snapGrid,l=o.slidesGrid,f=o.previousIndex,p=o.activeIndex,h=o.rtlTranslate,v=o.wrapperEl,m=o.enabled;if(o.animating&&u.preventInteractionOnTransition||!m&&!r&&!i)return!1;var g=Math.min(o.params.slidesPerGroupSkip,s),y=g+Math.floor((s-g)/o.params.slidesPerGroup);y>=c.length&&(y=c.length-1),(p||u.initialSlide||0)===(f||0)&&n&&o.emit("beforeSlideChangeStart");var b,x=-c[y];if(o.updateProgress(x),u.normalizeSlideIndex)for(var k=0;k<l.length;k+=1){var w=-Math.floor(100*x),_=Math.floor(100*l[k]),S=Math.floor(100*l[k+1]);"undefined"!==typeof l[k+1]?w>=_&&w<S-(S-_)/2?s=k:w>=_&&w<S&&(s=k+1):w>=_&&(s=k)}if(o.initialized&&s!==p){if(!o.allowSlideNext&&x<o.translate&&x<o.minTranslate())return!1;if(!o.allowSlidePrev&&x>o.translate&&x>o.maxTranslate()&&(p||0)!==s)return!1}if(b=s>p?"next":s<p?"prev":"reset",h&&-x===o.translate||!h&&x===o.translate)return o.updateActiveIndex(s),u.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==u.effect&&o.setTranslate(x),"reset"!==b&&(o.transitionStart(n,b),o.transitionEnd(n,b)),!1;if(u.cssMode){var T=o.isHorizontal(),E=h?x:-x;if(0===t){var C=o.virtual&&o.params.virtual.enabled;C&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),v[T?"scrollLeft":"scrollTop"]=E,C&&requestAnimationFrame((function(){o.wrapperEl.style.scrollSnapType="",o._swiperImmediateVirtual=!1}))}else{var O;if(!o.support.smoothScroll)return xm({swiper:o,targetPosition:E,side:T?"left":"top"}),!0;v.scrollTo((O={},(0,d.Z)(O,T?"left":"top",E),(0,d.Z)(O,"behavior","smooth"),O))}return!0}return o.setTransition(t),o.setTranslate(x),o.updateActiveIndex(s),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,r),o.transitionStart(n,b),0===t?o.transitionEnd(n,b):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,b))}),o.$wrapperEl[0].addEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,n,r){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),"string"===typeof e){var i=parseInt(e,10);if(!isFinite(i))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. [".concat(e,"] given."));e=i}var a=this,o=e;return a.params.loop&&(o+=a.loopedSlides),a.slideTo(o,t,n,r)},slideNext:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,i=r.animating,a=r.enabled,o=r.params;if(!a)return r;var s=o.slidesPerGroup;"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(s=Math.max(r.slidesPerViewDynamic("current",!0),1));var u=r.activeIndex<o.slidesPerGroupSkip?1:s;if(o.loop){if(i&&o.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return o.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+u,e,t,n)},slidePrev:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,i=r.params,a=r.animating,o=r.snapGrid,s=r.slidesGrid,u=r.rtlTranslate;if(!r.enabled)return r;if(i.loop){if(a&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}function c(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var l,f=c(u?r.translate:-r.translate),d=o.map((function(e){return c(e)})),p=o[d.indexOf(f)-1];"undefined"===typeof p&&i.cssMode&&(o.forEach((function(e,t){f>=e&&(l=t)})),"undefined"!==typeof l&&(p=o[l>0?l-1:l]));var h=0;if("undefined"!==typeof p&&((h=s.indexOf(p))<0&&(h=r.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(h=h-r.slidesPerViewDynamic("previous",!0)+1,h=Math.max(h,0))),i.rewind&&r.isBeginning){var v=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(v,e,t,n)}return r.slideTo(h,e,t,n)},slideReset:function(e,t,n){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,n)},slideToClosest:function(e,t,n,r){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===r&&(r=.5);var i=this,a=i.activeIndex,o=Math.min(i.params.slidesPerGroupSkip,a),s=o+Math.floor((a-o)/i.params.slidesPerGroup),u=i.rtlTranslate?i.translate:-i.translate;if(u>=i.snapGrid[s]){var c=i.snapGrid[s];u-c>(i.snapGrid[s+1]-c)*r&&(a+=i.params.slidesPerGroup)}else{var l=i.snapGrid[s-1];u-l<=(i.snapGrid[s]-l)*r&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,e,t,n)},slideToClickedSlide:function(){var e,t=this,n=t.params,r=t.$wrapperEl,i="auto"===n.slidesPerView?t.slidesPerViewDynamic():n.slidesPerView,a=t.clickedIndex;if(n.loop){if(t.animating)return;e=parseInt(dm(t.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?a<t.loopedSlides-i/2||a>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),a=r.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),pm((function(){t.slideTo(a)}))):t.slideTo(a):a>t.slides.length-i?(t.loopFix(),a=r.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),pm((function(){t.slideTo(a)}))):t.slideTo(a)}else t.slideTo(a)}};var Am={loopCreate:function(){var e=this,t=Jv(),n=e.params,r=e.$wrapperEl,i=r.children().length>0?dm(r.children()[0].parentNode):r;i.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass)).remove();var a=i.children(".".concat(n.slideClass));if(n.loopFillGroupWithBlank){var o=n.slidesPerGroup-a.length%n.slidesPerGroup;if(o!==n.slidesPerGroup){for(var s=0;s<o;s+=1){var u=dm(t.createElement("div")).addClass("".concat(n.slideClass," ").concat(n.slideBlankClass));i.append(u)}a=i.children(".".concat(n.slideClass))}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=a.length),e.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),e.loopedSlides+=n.loopAdditionalSlides,e.loopedSlides>a.length&&(e.loopedSlides=a.length);var c=[],l=[];a.each((function(t,n){var r=dm(t);n<e.loopedSlides&&l.push(t),n<a.length&&n>=a.length-e.loopedSlides&&c.push(t),r.attr("data-swiper-slide-index",n)}));for(var f=0;f<l.length;f+=1)i.append(dm(l[f].cloneNode(!0)).addClass(n.slideDuplicateClass));for(var d=c.length-1;d>=0;d-=1)i.prepend(dm(c[d].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){var e=this;e.emit("beforeLoopFix");var t,n=e.activeIndex,r=e.slides,i=e.loopedSlides,a=e.allowSlidePrev,o=e.allowSlideNext,s=e.snapGrid,u=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var c=-s[n]-e.getTranslate();if(n<i)t=r.length-3*i+n,t+=i,e.slideTo(t,0,!1,!0)&&0!==c&&e.setTranslate((u?-e.translate:e.translate)-c);else if(n>=r.length-i){t=-r.length+n+i,t+=i,e.slideTo(t,0,!1,!0)&&0!==c&&e.setTranslate((u?-e.translate:e.translate)-c)}e.allowSlidePrev=a,e.allowSlideNext=o,e.emit("loopFix")},loopDestroy:function(){var e=this,t=e.$wrapperEl,n=e.params,r=e.slides;t.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass,",.").concat(n.slideClass,".").concat(n.slideBlankClass)).remove(),r.removeAttr("data-swiper-slide-index")}};function Im(e){var t=this,n=Jv(),r=em(),i=t.touchEventsData,a=t.params,o=t.touches;if(t.enabled&&(!t.animating||!a.preventInteractionOnTransition)){!t.animating&&a.cssMode&&a.loop&&t.loopFix();var s=e;s.originalEvent&&(s=s.originalEvent);var u=dm(s.target);if(("wrapper"!==a.touchEventsTarget||u.closest(t.wrapperEl).length)&&(i.isTouchEvent="touchstart"===s.type,(i.isTouchEvent||!("which"in s)||3!==s.which)&&!(!i.isTouchEvent&&"button"in s&&s.button>0)&&(!i.isTouched||!i.isMoved))){!!a.noSwipingClass&&""!==a.noSwipingClass&&s.target&&s.target.shadowRoot&&e.path&&e.path[0]&&(u=dm(e.path[0]));var c=a.noSwipingSelector?a.noSwipingSelector:".".concat(a.noSwipingClass),l=!(!s.target||!s.target.shadowRoot);if(a.noSwiping&&(l?function(e,t){return void 0===t&&(t=this),function t(n){if(!n||n===Jv()||n===em())return null;n.assignedSlot&&(n=n.assignedSlot);var r=n.closest(e);return r||n.getRootNode?r||t(n.getRootNode().host):null}(t)}(c,u[0]):u.closest(c)[0]))t.allowClick=!0;else if(!a.swipeHandler||u.closest(a.swipeHandler)[0]){o.currentX="touchstart"===s.type?s.targetTouches[0].pageX:s.pageX,o.currentY="touchstart"===s.type?s.targetTouches[0].pageY:s.pageY;var f=o.currentX,d=o.currentY,p=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,h=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(p&&(f<=h||f>=r.innerWidth-h)){if("prevent"!==p)return;e.preventDefault()}if(Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=f,o.startY=d,i.touchStartTime=hm(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1),"touchstart"!==s.type){var v=!0;u.is(i.focusableElements)&&(v=!1,"SELECT"===u[0].nodeName&&(i.isTouched=!1)),n.activeElement&&dm(n.activeElement).is(i.focusableElements)&&n.activeElement!==u[0]&&n.activeElement.blur();var m=v&&t.allowTouchMove&&a.touchStartPreventDefault;!a.touchStartForcePreventDefault&&!m||u[0].isContentEditable||s.preventDefault()}t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!a.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",s)}}}}function Rm(e){var t=Jv(),n=this,r=n.touchEventsData,i=n.params,a=n.touches,o=n.rtlTranslate;if(n.enabled){var s=e;if(s.originalEvent&&(s=s.originalEvent),r.isTouched){if(!r.isTouchEvent||"touchmove"===s.type){var u="touchmove"===s.type&&s.targetTouches&&(s.targetTouches[0]||s.changedTouches[0]),c="touchmove"===s.type?u.pageX:s.pageX,l="touchmove"===s.type?u.pageY:s.pageY;if(s.preventedByNestedSwiper)return a.startX=c,void(a.startY=l);if(!n.allowTouchMove)return dm(s.target).is(r.focusableElements)||(n.allowClick=!1),void(r.isTouched&&(Object.assign(a,{startX:c,startY:l,currentX:c,currentY:l}),r.touchStartTime=hm()));if(r.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(l<a.startY&&n.translate<=n.maxTranslate()||l>a.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(c<a.startX&&n.translate<=n.maxTranslate()||c>a.startX&&n.translate>=n.minTranslate())return;if(r.isTouchEvent&&t.activeElement&&s.target===t.activeElement&&dm(s.target).is(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",s),!(s.targetTouches&&s.targetTouches.length>1)){a.currentX=c,a.currentY=l;var f=a.currentX-a.startX,d=a.currentY-a.startY;if(!(n.params.threshold&&Math.sqrt(Math.pow(f,2)+Math.pow(d,2))<n.params.threshold)){var p;if("undefined"===typeof r.isScrolling)n.isHorizontal()&&a.currentY===a.startY||n.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:f*f+d*d>=25&&(p=180*Math.atan2(Math.abs(d),Math.abs(f))/Math.PI,r.isScrolling=n.isHorizontal()?p>i.touchAngle:90-p>i.touchAngle);if(r.isScrolling&&n.emit("touchMoveOpposite",s),"undefined"===typeof r.startMoving&&(a.currentX===a.startX&&a.currentY===a.startY||(r.startMoving=!0)),r.isScrolling)r.isTouched=!1;else if(r.startMoving){n.allowClick=!1,!i.cssMode&&s.cancelable&&s.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&s.stopPropagation(),r.isMoved||(i.loop&&!i.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,!i.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",s)),n.emit("sliderMove",s),r.isMoved=!0;var h=n.isHorizontal()?f:d;a.diff=h,h*=i.touchRatio,o&&(h=-h),n.swipeDirection=h>0?"prev":"next",r.currentTranslate=h+r.startTranslate;var v=!0,m=i.resistanceRatio;if(i.touchReleaseOnEdges&&(m=0),h>0&&r.currentTranslate>n.minTranslate()?(v=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+Math.pow(-n.minTranslate()+r.startTranslate+h,m))):h<0&&r.currentTranslate<n.maxTranslate()&&(v=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-Math.pow(n.maxTranslate()-r.startTranslate-h,m))),v&&(s.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),i.threshold>0){if(!(Math.abs(h)>i.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,void(a.diff=n.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY)}i.followFinger&&!i.cssMode&&((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}}}}}else r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",s)}}function Nm(e){var t=this,n=t.touchEventsData,r=t.params,i=t.touches,a=t.rtlTranslate,o=t.slidesGrid;if(t.enabled){var s=e;if(s.originalEvent&&(s=s.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var u,c=hm(),l=c-n.touchStartTime;if(t.allowClick){var f=s.path||s.composedPath&&s.composedPath();t.updateClickedSlide(f&&f[0]||s.target),t.emit("tap click",s),l<300&&c-n.lastClickTime<300&&t.emit("doubleTap doubleClick",s)}if(n.lastClickTime=hm(),pm((function(){t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===i.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,u=r.followFinger?a?t.translate:-t.translate:-n.currentTranslate,!r.cssMode)if(t.params.freeMode&&r.freeMode.enabled)t.freeMode.onTouchEnd({currentPos:u});else{for(var d=0,p=t.slidesSizesGrid[0],h=0;h<o.length;h+=h<r.slidesPerGroupSkip?1:r.slidesPerGroup){var v=h<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;"undefined"!==typeof o[h+v]?u>=o[h]&&u<o[h+v]&&(d=h,p=o[h+v]-o[h]):u>=o[h]&&(d=h,p=o[o.length-1]-o[o.length-2])}var m=null,g=null;r.rewind&&(t.isBeginning?g=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(m=0));var y=(u-o[d])/p,b=d<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(l>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(y>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?m:d+b):t.slideTo(d)),"prev"===t.swipeDirection&&(y>1-r.longSwipesRatio?t.slideTo(d+b):null!==g&&y<0&&Math.abs(y)>r.longSwipesRatio?t.slideTo(g):t.slideTo(d))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(s.target===t.navigation.nextEl||s.target===t.navigation.prevEl)?s.target===t.navigation.nextEl?t.slideTo(d+b):t.slideTo(d):("next"===t.swipeDirection&&t.slideTo(null!==m?m:d+b),"prev"===t.swipeDirection&&t.slideTo(null!==g?g:d))}}}}function Pm(){var e=this,t=e.params,n=e.el;if(!n||0!==n.offsetWidth){t.breakpoints&&e.setBreakpoint();var r=e.allowSlideNext,i=e.allowSlidePrev,a=e.snapGrid;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=i,e.allowSlideNext=r,e.params.watchOverflow&&a!==e.snapGrid&&e.checkOverflow()}}function Mm(e){var t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function Dm(){var e=this,t=e.wrapperEl,n=e.rtlTranslate;if(e.enabled){e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();var r=e.maxTranslate()-e.minTranslate();(0===r?0:(e.translate-e.minTranslate())/r)!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}}var Lm=!1;function jm(){}var Fm=function(e,t){var n=Jv(),r=e.params,i=e.touchEvents,a=e.el,o=e.wrapperEl,s=e.device,u=e.support,c=!!r.nested,l="on"===t?"addEventListener":"removeEventListener",f=t;if(u.touch){var d=!("touchstart"!==i.start||!u.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};a[l](i.start,e.onTouchStart,d),a[l](i.move,e.onTouchMove,u.passiveListener?{passive:!1,capture:c}:c),a[l](i.end,e.onTouchEnd,d),i.cancel&&a[l](i.cancel,e.onTouchEnd,d)}else a[l](i.start,e.onTouchStart,!1),n[l](i.move,e.onTouchMove,c),n[l](i.end,e.onTouchEnd,!1);(r.preventClicks||r.preventClicksPropagation)&&a[l]("click",e.onClick,!0),r.cssMode&&o[l]("scroll",e.onScroll),r.updateOnWindowResize?e[f](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",Pm,!0):e[f]("observerUpdate",Pm,!0)};var Zm={attachEvents:function(){var e=this,t=Jv(),n=e.params,r=e.support;e.onTouchStart=Im.bind(e),e.onTouchMove=Rm.bind(e),e.onTouchEnd=Nm.bind(e),n.cssMode&&(e.onScroll=Dm.bind(e)),e.onClick=Mm.bind(e),r.touch&&!Lm&&(t.addEventListener("touchstart",jm),Lm=!0),Fm(e,"on")},detachEvents:function(){Fm(this,"off")}},Bm=function(e,t){return e.grid&&t.grid&&t.grid.rows>1};var Um={setBreakpoint:function(){var e=this,t=e.activeIndex,n=e.initialized,r=e.loopedSlides,i=void 0===r?0:r,a=e.params,o=e.$el,s=a.breakpoints;if(s&&(!s||0!==Object.keys(s).length)){var u=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(u&&e.currentBreakpoint!==u){var c=(u in s?s[u]:void 0)||e.originalParams,l=Bm(e,a),f=Bm(e,c),d=a.enabled;l&&!f?(o.removeClass("".concat(a.containerModifierClass,"grid ").concat(a.containerModifierClass,"grid-column")),e.emitContainerClasses()):!l&&f&&(o.addClass("".concat(a.containerModifierClass,"grid")),(c.grid.fill&&"column"===c.grid.fill||!c.grid.fill&&"column"===a.grid.fill)&&o.addClass("".concat(a.containerModifierClass,"grid-column")),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach((function(t){var n=a[t]&&a[t].enabled,r=c[t]&&c[t].enabled;n&&!r&&e[t].disable(),!n&&r&&e[t].enable()}));var p=c.direction&&c.direction!==a.direction,h=a.loop&&(c.slidesPerView!==a.slidesPerView||p);p&&n&&e.changeDirection(),ym(e.params,c);var v=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),d&&!v?e.disable():!d&&v&&e.enable(),e.currentBreakpoint=u,e.emit("_beforeBreakpoint",c),h&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-i+e.loopedSlides,0,!1)),e.emit("breakpoint",c)}}},getBreakpoint:function(e,t,n){if(void 0===t&&(t="window"),e&&("container"!==t||n)){var r=!1,i=em(),a="window"===t?i.innerHeight:n.clientHeight,o=Object.keys(e).map((function(e){if("string"===typeof e&&0===e.indexOf("@")){var t=parseFloat(e.substr(1));return{value:a*t,point:e}}return{value:e,point:e}}));o.sort((function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)}));for(var s=0;s<o.length;s+=1){var u=o[s],c=u.point,l=u.value;"window"===t?i.matchMedia("(min-width: ".concat(l,"px)")).matches&&(r=c):l<=n.clientWidth&&(r=c)}return r||"max"}}};var Vm={addClasses:function(){var e=this,t=e.classNames,n=e.params,r=e.rtl,i=e.$el,a=e.device,o=e.support,s=function(e,t){var n=[];return e.forEach((function(e){"object"===typeof e?Object.keys(e).forEach((function(r){e[r]&&n.push(t+r)})):"string"===typeof e&&n.push(t+e)})),n}(["initialized",n.direction,{"pointer-events":!o.touch},{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:a.android},{ios:a.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push.apply(t,(0,E.Z)(s)),i.addClass((0,E.Z)(t).join(" ")),e.emitContainerClasses()},removeClasses:function(){var e=this,t=e.$el,n=e.classNames;t.removeClass(n.join(" ")),e.emitContainerClasses()}};var zm={loadImage:function(e,t,n,r,i,a){var o,s=em();function u(){a&&a()}dm(e).parent("picture")[0]||e.complete&&i?u():t?((o=new s.Image).onload=u,o.onerror=u,r&&(o.sizes=r),n&&(o.srcset=n),t&&(o.src=t)):u()},preloadImages:function(){var e=this;function t(){"undefined"!==typeof e&&null!==e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var n=0;n<e.imagesToLoad.length;n+=1){var r=e.imagesToLoad[n];e.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,t)}}};var Wm={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function Hm(e,t){return function(n){void 0===n&&(n={});var r=Object.keys(n)[0],i=n[r];"object"===typeof i&&null!==i?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===e[r]&&(e[r]={auto:!0}),r in e&&"enabled"in i?(!0===e[r]&&(e[r]={enabled:!0}),"object"!==typeof e[r]||"enabled"in e[r]||(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),ym(t,n)):ym(t,n)):ym(t,n)}}var Gm={eventsEmitter:Sm,update:Tm,translate:Em,transition:{setTransition:function(e,t){var n=this;n.params.cssMode||n.$wrapperEl.transition(e),n.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var n=this,r=n.params;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),Cm({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);var n=this,r=n.params;n.animating=!1,r.cssMode||(n.setTransition(0),Cm({swiper:n,runCallbacks:e,direction:t,step:"End"}))}},slide:Om,loop:Am,grabCursor:{setGrabCursor:function(e){var t=this;if(!(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)){var n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;n.style.cursor="move",n.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){var e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:Zm,breakpoints:Um,checkOverflow:{checkOverflow:function(){var e=this,t=e.isLocked,n=e.params,r=n.slidesOffsetBefore;if(r){var i=e.slides.length-1,a=e.slidesGrid[i]+e.slidesSizesGrid[i]+2*r;e.isLocked=e.size>a}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:Vm,images:zm},qm={},Km=function(){function e(){var t,n;(0,he.Z)(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];if(1===i.length&&i[0].constructor&&"Object"===Object.prototype.toString.call(i[0]).slice(8,-1)?n=i[0]:(t=i[0],n=i[1]),n||(n={}),n=ym({},n),t&&!n.el&&(n.el=t),n.el&&dm(n.el).length>1){var o=[];return dm(n.el).each((function(t){var r=ym({},n,{el:t});o.push(new e(r))})),o}var s,u=this;(u.__swiper__=!0,u.support=km(),u.device=wm({userAgent:n.userAgent}),u.browser=_m(),u.eventsListeners={},u.eventsAnyListeners=[],u.modules=(0,E.Z)(u.__modules__),n.modules&&Array.isArray(n.modules))&&(s=u.modules).push.apply(s,(0,E.Z)(n.modules));var c={};u.modules.forEach((function(e){e({swiper:u,extendParams:Hm(n,c),on:u.on.bind(u),once:u.once.bind(u),off:u.off.bind(u),emit:u.emit.bind(u)})}));var l=ym({},Wm,c);return u.params=ym({},l,qm,n),u.originalParams=ym({},u.params),u.passedParams=ym({},n),u.params&&u.params.on&&Object.keys(u.params.on).forEach((function(e){u.on(e,u.params.on[e])})),u.params&&u.params.onAny&&u.onAny(u.params.onAny),u.$=dm,Object.assign(u,{enabled:u.params.enabled,el:t,classNames:[],slides:dm(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===u.params.direction},isVertical:function(){return"vertical"===u.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:u.params.allowSlideNext,allowSlidePrev:u.params.allowSlidePrev,touchEvents:function(){var e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return u.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},u.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},u.support.touch||!u.params.simulateTouch?u.touchEventsTouch:u.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:u.params.focusableElements,lastClickTime:hm(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:u.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),u.emit("_swiper"),u.params.init&&u.init(),u}return(0,ve.Z)(e,[{key:"enable",value:function(){var e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}},{key:"disable",value:function(){var e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}},{key:"setProgress",value:function(e,t){var n=this;e=Math.min(Math.max(e,0),1);var r=n.minTranslate(),i=(n.maxTranslate()-r)*e+r;n.translateTo(i,"undefined"===typeof t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}},{key:"emitContainerClasses",value:function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(" ").filter((function(t){return 0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)}));e.emit("_containerClasses",t.join(" "))}}},{key:"getSlideClasses",value:function(e){var t=this;return t.destroyed?"":e.className.split(" ").filter((function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)})).join(" ")}},{key:"emitSlidesClasses",value:function(){var e=this;if(e.params._emitClasses&&e.el){var t=[];e.slides.each((function(n){var r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)})),e.emit("_slideClasses",t)}}},{key:"slidesPerViewDynamic",value:function(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);var n=this,r=n.params,i=n.slides,a=n.slidesGrid,o=n.slidesSizesGrid,s=n.size,u=n.activeIndex,c=1;if(r.centeredSlides){for(var l,f=i[u].swiperSlideSize,d=u+1;d<i.length;d+=1)i[d]&&!l&&(c+=1,(f+=i[d].swiperSlideSize)>s&&(l=!0));for(var p=u-1;p>=0;p-=1)i[p]&&!l&&(c+=1,(f+=i[p].swiperSlideSize)>s&&(l=!0))}else if("current"===e)for(var h=u+1;h<i.length;h+=1){(t?a[h]+o[h]-a[u]<s:a[h]-a[u]<s)&&(c+=1)}else for(var v=u-1;v>=0;v-=1){a[u]-a[v]<s&&(c+=1)}return c}},{key:"update",value:function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,n=e.params;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(r(),e.params.autoHeight&&e.updateAutoHeight()):(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||r(),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function r(){var t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}}},{key:"changeDirection",value:function(e,t){void 0===t&&(t=!0);var n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.$el.removeClass("".concat(n.params.containerModifierClass).concat(r)).addClass("".concat(n.params.containerModifierClass).concat(e)),n.emitContainerClasses(),n.params.direction=e,n.slides.each((function(t){"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n}},{key:"changeLanguageDirection",value:function(e){var t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.$el.addClass("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="rtl"):(t.$el.removeClass("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="ltr"),t.update())}},{key:"mount",value:function(e){var t=this;if(t.mounted)return!0;var n=dm(e||t.params.el);if(!(e=n[0]))return!1;e.swiper=t;var r=function(){return".".concat((t.params.wrapperClass||"").trim().split(" ").join("."))},i=function(){if(e&&e.shadowRoot&&e.shadowRoot.querySelector){var t=dm(e.shadowRoot.querySelector(r()));return t.children=function(e){return n.children(e)},t}return n.children?n.children(r()):dm(n).children(r())}();if(0===i.length&&t.params.createElements){var a=Jv().createElement("div");i=dm(a),a.className=t.params.wrapperClass,n.append(a),n.children(".".concat(t.params.slideClass)).each((function(e){i.append(e)}))}return Object.assign(t,{$el:n,el:e,$wrapperEl:i,wrapperEl:i[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===i.css("display")}),!0}},{key:"init",value:function(e){var t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}},{key:"destroy",value:function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var n=this,r=n.params,i=n.$el,a=n.$wrapperEl,o=n.slides;return"undefined"===typeof n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),i.removeAttr("style"),a.removeAttr("style"),o&&o.length&&o.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((function(e){n.off(e)})),!1!==e&&(n.$el[0].swiper=null,function(e){var t=e;Object.keys(t).forEach((function(e){try{t[e]=null}catch(n){}try{delete t[e]}catch(n){}}))}(n)),n.destroyed=!0),null}}],[{key:"extendDefaults",value:function(e){ym(qm,e)}},{key:"extendedDefaults",get:function(){return qm}},{key:"defaults",get:function(){return Wm}},{key:"installModule",value:function(t){e.prototype.__modules__||(e.prototype.__modules__=[]);var n=e.prototype.__modules__;"function"===typeof t&&n.indexOf(t)<0&&n.push(t)}},{key:"use",value:function(t){return Array.isArray(t)?(t.forEach((function(t){return e.installModule(t)})),e):(e.installModule(t),e)}}]),e}();Object.keys(Gm).forEach((function(e){Object.keys(Gm[e]).forEach((function(t){Km.prototype[t]=Gm[e][t]}))})),Km.use([function(e){var t=e.swiper,n=e.on,r=e.emit,i=em(),a=null,o=null,s=function(){t&&!t.destroyed&&t.initialized&&(r("beforeResize"),r("resize"))},u=function(){t&&!t.destroyed&&t.initialized&&r("orientationchange")};n("init",(function(){t.params.resizeObserver&&"undefined"!==typeof i.ResizeObserver?t&&!t.destroyed&&t.initialized&&(a=new ResizeObserver((function(e){o=i.requestAnimationFrame((function(){var n=t.width,r=t.height,i=n,a=r;e.forEach((function(e){var n=e.contentBoxSize,r=e.contentRect,o=e.target;o&&o!==t.el||(i=r?r.width:(n[0]||n).inlineSize,a=r?r.height:(n[0]||n).blockSize)})),i===n&&a===r||s()}))})),a.observe(t.el)):(i.addEventListener("resize",s),i.addEventListener("orientationchange",u))})),n("destroy",(function(){o&&i.cancelAnimationFrame(o),a&&a.unobserve&&t.el&&(a.unobserve(t.el),a=null),i.removeEventListener("resize",s),i.removeEventListener("orientationchange",u)}))},function(e){var t=e.swiper,n=e.extendParams,r=e.on,i=e.emit,a=[],o=em(),s=function(e,t){void 0===t&&(t={});var n=new(o.MutationObserver||o.WebkitMutationObserver)((function(e){if(1!==e.length){var t=function(){i("observerUpdate",e[0])};o.requestAnimationFrame?o.requestAnimationFrame(t):o.setTimeout(t,0)}else i("observerUpdate",e[0])}));n.observe(e,{attributes:"undefined"===typeof t.attributes||t.attributes,childList:"undefined"===typeof t.childList||t.childList,characterData:"undefined"===typeof t.characterData||t.characterData}),a.push(n)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",(function(){if(t.params.observer){if(t.params.observeParents)for(var e=t.$el.parents(),n=0;n<e.length;n+=1)s(e[n]);s(t.$el[0],{childList:t.params.observeSlideChildren}),s(t.$wrapperEl[0],{attributes:!1})}})),r("destroy",(function(){a.forEach((function(e){e.disconnect()})),a.splice(0,a.length)}))}]);var Ym=Km;function Xm(e){return void 0===e&&(e=""),".".concat(e.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,"."))}function Qm(e){var t,n=e.swiper,r=e.extendParams,i=e.on,a=e.emit,o="swiper-pagination";r({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"".concat(o,"-bullet"),bulletActiveClass:"".concat(o,"-bullet-active"),modifierClass:"".concat(o,"-"),currentClass:"".concat(o,"-current"),totalClass:"".concat(o,"-total"),hiddenClass:"".concat(o,"-hidden"),progressbarFillClass:"".concat(o,"-progressbar-fill"),progressbarOppositeClass:"".concat(o,"-progressbar-opposite"),clickableClass:"".concat(o,"-clickable"),lockClass:"".concat(o,"-lock"),horizontalClass:"".concat(o,"-horizontal"),verticalClass:"".concat(o,"-vertical"),paginationDisabledClass:"".concat(o,"-disabled")}}),n.pagination={el:null,$el:null,bullets:[]};var s=0;function u(){return!n.params.pagination.el||!n.pagination.el||!n.pagination.$el||0===n.pagination.$el.length}function c(e,t){var r=n.params.pagination.bulletActiveClass;e[t]().addClass("".concat(r,"-").concat(t))[t]().addClass("".concat(r,"-").concat(t,"-").concat(t))}function l(){var e=n.rtl,r=n.params.pagination;if(!u()){var i,o=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,l=n.pagination.$el,f=n.params.loop?Math.ceil((o-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;if(n.params.loop?((i=Math.ceil((n.activeIndex-n.loopedSlides)/n.params.slidesPerGroup))>o-1-2*n.loopedSlides&&(i-=o-2*n.loopedSlides),i>f-1&&(i-=f),i<0&&"bullets"!==n.params.paginationType&&(i=f+i)):i="undefined"!==typeof n.snapIndex?n.snapIndex:n.activeIndex||0,"bullets"===r.type&&n.pagination.bullets&&n.pagination.bullets.length>0){var d,p,h,v=n.pagination.bullets;if(r.dynamicBullets&&(t=v.eq(0)[n.isHorizontal()?"outerWidth":"outerHeight"](!0),l.css(n.isHorizontal()?"width":"height","".concat(t*(r.dynamicMainBullets+4),"px")),r.dynamicMainBullets>1&&void 0!==n.previousIndex&&((s+=i-(n.previousIndex-n.loopedSlides||0))>r.dynamicMainBullets-1?s=r.dynamicMainBullets-1:s<0&&(s=0)),d=Math.max(i-s,0),h=((p=d+(Math.min(v.length,r.dynamicMainBullets)-1))+d)/2),v.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map((function(e){return"".concat(r.bulletActiveClass).concat(e)})).join(" ")),l.length>1)v.each((function(e){var t=dm(e),n=t.index();n===i&&t.addClass(r.bulletActiveClass),r.dynamicBullets&&(n>=d&&n<=p&&t.addClass("".concat(r.bulletActiveClass,"-main")),n===d&&c(t,"prev"),n===p&&c(t,"next"))}));else{var m=v.eq(i),g=m.index();if(m.addClass(r.bulletActiveClass),r.dynamicBullets){for(var y=v.eq(d),b=v.eq(p),x=d;x<=p;x+=1)v.eq(x).addClass("".concat(r.bulletActiveClass,"-main"));if(n.params.loop)if(g>=v.length){for(var k=r.dynamicMainBullets;k>=0;k-=1)v.eq(v.length-k).addClass("".concat(r.bulletActiveClass,"-main"));v.eq(v.length-r.dynamicMainBullets-1).addClass("".concat(r.bulletActiveClass,"-prev"))}else c(y,"prev"),c(b,"next");else c(y,"prev"),c(b,"next")}}if(r.dynamicBullets){var w=Math.min(v.length,r.dynamicMainBullets+4),_=(t*w-t)/2-h*t,S=e?"right":"left";v.css(n.isHorizontal()?S:"top","".concat(_,"px"))}}if("fraction"===r.type&&(l.find(Xm(r.currentClass)).text(r.formatFractionCurrent(i+1)),l.find(Xm(r.totalClass)).text(r.formatFractionTotal(f))),"progressbar"===r.type){var T;T=r.progressbarOpposite?n.isHorizontal()?"vertical":"horizontal":n.isHorizontal()?"horizontal":"vertical";var E=(i+1)/f,C=1,O=1;"horizontal"===T?C=E:O=E,l.find(Xm(r.progressbarFillClass)).transform("translate3d(0,0,0) scaleX(".concat(C,") scaleY(").concat(O,")")).transition(n.params.speed)}"custom"===r.type&&r.renderCustom?(l.html(r.renderCustom(n,i+1,f)),a("paginationRender",l[0])):a("paginationUpdate",l[0]),n.params.watchOverflow&&n.enabled&&l[n.isLocked?"addClass":"removeClass"](r.lockClass)}}function f(){var e=n.params.pagination;if(!u()){var t=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,r=n.pagination.$el,i="";if("bullets"===e.type){var o=n.params.loop?Math.ceil((t-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;n.params.freeMode&&n.params.freeMode.enabled&&!n.params.loop&&o>t&&(o=t);for(var s=0;s<o;s+=1)e.renderBullet?i+=e.renderBullet.call(n,s,e.bulletClass):i+="<".concat(e.bulletElement,' class="').concat(e.bulletClass,'"></').concat(e.bulletElement,">");r.html(i),n.pagination.bullets=r.find(Xm(e.bulletClass))}"fraction"===e.type&&(i=e.renderFraction?e.renderFraction.call(n,e.currentClass,e.totalClass):'<span class="'.concat(e.currentClass,'"></span>')+" / "+'<span class="'.concat(e.totalClass,'"></span>'),r.html(i)),"progressbar"===e.type&&(i=e.renderProgressbar?e.renderProgressbar.call(n,e.progressbarFillClass):'<span class="'.concat(e.progressbarFillClass,'"></span>'),r.html(i)),"custom"!==e.type&&a("paginationRender",n.pagination.$el[0])}}function d(){n.params.pagination=function(e,t,n,r){var i=Jv();return e.params.createElements&&Object.keys(r).forEach((function(a){if(!n[a]&&!0===n.auto){var o=e.$el.children(".".concat(r[a]))[0];o||((o=i.createElement("div")).className=r[a],e.$el.append(o)),n[a]=o,t[a]=o}})),n}(n,n.originalParams.pagination,n.params.pagination,{el:"swiper-pagination"});var e=n.params.pagination;if(e.el){var t=dm(e.el);0!==t.length&&(n.params.uniqueNavElements&&"string"===typeof e.el&&t.length>1&&(t=n.$el.find(e.el)).length>1&&(t=t.filter((function(e){return dm(e).parents(".swiper")[0]===n.el}))),"bullets"===e.type&&e.clickable&&t.addClass(e.clickableClass),t.addClass(e.modifierClass+e.type),t.addClass(n.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(t.addClass("".concat(e.modifierClass).concat(e.type,"-dynamic")),s=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&t.addClass(e.progressbarOppositeClass),e.clickable&&t.on("click",Xm(e.bulletClass),(function(e){e.preventDefault();var t=dm(this).index()*n.params.slidesPerGroup;n.params.loop&&(t+=n.loopedSlides),n.slideTo(t)})),Object.assign(n.pagination,{$el:t,el:t[0]}),n.enabled||t.addClass(e.lockClass))}}function p(){var e=n.params.pagination;if(!u()){var t=n.pagination.$el;t.removeClass(e.hiddenClass),t.removeClass(e.modifierClass+e.type),t.removeClass(n.isHorizontal()?e.horizontalClass:e.verticalClass),n.pagination.bullets&&n.pagination.bullets.removeClass&&n.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&t.off("click",Xm(e.bulletClass))}}i("init",(function(){!1===n.params.pagination.enabled?h():(d(),f(),l())})),i("activeIndexChange",(function(){(n.params.loop||"undefined"===typeof n.snapIndex)&&l()})),i("snapIndexChange",(function(){n.params.loop||l()})),i("slidesLengthChange",(function(){n.params.loop&&(f(),l())})),i("snapGridLengthChange",(function(){n.params.loop||(f(),l())})),i("destroy",(function(){p()})),i("enable disable",(function(){var e=n.pagination.$el;e&&e[n.enabled?"removeClass":"addClass"](n.params.pagination.lockClass)})),i("lock unlock",(function(){l()})),i("click",(function(e,t){var r=t.target,i=n.pagination.$el;if(n.params.pagination.el&&n.params.pagination.hideOnClick&&i&&i.length>0&&!dm(r).hasClass(n.params.pagination.bulletClass)){if(n.navigation&&(n.navigation.nextEl&&r===n.navigation.nextEl||n.navigation.prevEl&&r===n.navigation.prevEl))return;var o=i.hasClass(n.params.pagination.hiddenClass);a(!0===o?"paginationShow":"paginationHide"),i.toggleClass(n.params.pagination.hiddenClass)}}));var h=function(){n.$el.addClass(n.params.pagination.paginationDisabledClass),n.pagination.$el&&n.pagination.$el.addClass(n.params.pagination.paginationDisabledClass),p()};Object.assign(n.pagination,{enable:function(){n.$el.removeClass(n.params.pagination.paginationDisabledClass),n.pagination.$el&&n.pagination.$el.removeClass(n.params.pagination.paginationDisabledClass),d(),f(),l()},disable:h,render:f,update:l,init:d,destroy:p})}function Jm(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function $m(e,t){var n=["__proto__","constructor","prototype"];Object.keys(t).filter((function(e){return n.indexOf(e)<0})).forEach((function(n){"undefined"===typeof e[n]?e[n]=t[n]:Jm(t[n])&&Jm(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:$m(e[n],t[n]):e[n]=t[n]}))}function eg(e){return void 0===e&&(e={}),e.navigation&&"undefined"===typeof e.navigation.nextEl&&"undefined"===typeof e.navigation.prevEl}function tg(e){return void 0===e&&(e={}),e.pagination&&"undefined"===typeof e.pagination.el}function ng(e){return void 0===e&&(e={}),e.scrollbar&&"undefined"===typeof e.scrollbar.el}function rg(e){void 0===e&&(e="");var t=e.split(" ").map((function(e){return e.trim()})).filter((function(e){return!!e})),n=[];return t.forEach((function(e){n.indexOf(e)<0&&n.push(e)})),n.join(" ")}var ig=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function ag(e,t){var n=t.slidesPerView;if(t.breakpoints){var r=Ym.prototype.getBreakpoint(t.breakpoints),i=r in t.breakpoints?t.breakpoints[r]:void 0;i&&i.slidesPerView&&(n=i.slidesPerView)}var a=Math.ceil(parseFloat(t.loopedSlides||n,10));return(a+=t.loopAdditionalSlides)>e.length&&(a=e.length),a}function og(t){var n=[];return e.Children.toArray(t).forEach((function(e){e.type&&"SwiperSlide"===e.type.displayName?n.push(e):e.props&&e.props.children&&og(e.props.children).forEach((function(e){return n.push(e)}))})),n}function sg(t){var n=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return e.Children.toArray(t).forEach((function(e){if(e.type&&"SwiperSlide"===e.type.displayName)n.push(e);else if(e.props&&e.props.slot&&r[e.props.slot])r[e.props.slot].push(e);else if(e.props&&e.props.children){var t=og(e.props.children);t.length>0?t.forEach((function(e){return n.push(e)})):r["container-end"].push(e)}else r["container-end"].push(e)})),{slides:n,slots:r}}function ug(e){var t,n,r,i,a,o=e.swiper,s=e.slides,u=e.passedParams,c=e.changedParams,l=e.nextEl,f=e.prevEl,d=e.scrollbarEl,p=e.paginationEl,h=c.filter((function(e){return"children"!==e&&"direction"!==e})),v=o.params,m=o.pagination,g=o.navigation,y=o.scrollbar,b=o.virtual,x=o.thumbs;c.includes("thumbs")&&u.thumbs&&u.thumbs.swiper&&v.thumbs&&!v.thumbs.swiper&&(t=!0),c.includes("controller")&&u.controller&&u.controller.control&&v.controller&&!v.controller.control&&(n=!0),c.includes("pagination")&&u.pagination&&(u.pagination.el||p)&&(v.pagination||!1===v.pagination)&&m&&!m.el&&(r=!0),c.includes("scrollbar")&&u.scrollbar&&(u.scrollbar.el||d)&&(v.scrollbar||!1===v.scrollbar)&&y&&!y.el&&(i=!0),c.includes("navigation")&&u.navigation&&(u.navigation.prevEl||f)&&(u.navigation.nextEl||l)&&(v.navigation||!1===v.navigation)&&g&&!g.prevEl&&!g.nextEl&&(a=!0);(h.forEach((function(e){if(Jm(v[e])&&Jm(u[e]))$m(v[e],u[e]);else{var t=u[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?v[e]=u[e]:!1===t&&o[n=e]&&(o[n].destroy(),"navigation"===n?(v[n].prevEl=void 0,v[n].nextEl=void 0,o[n].prevEl=void 0,o[n].nextEl=void 0):(v[n].el=void 0,o[n].el=void 0))}var n})),h.includes("controller")&&!n&&o.controller&&o.controller.control&&v.controller&&v.controller.control&&(o.controller.control=v.controller.control),c.includes("children")&&s&&b&&v.virtual.enabled?(b.slides=s,b.update(!0)):c.includes("children")&&o.lazy&&o.params.lazy.enabled&&o.lazy.load(),t)&&(x.init()&&x.update(!0));n&&(o.controller.control=v.controller.control),r&&(p&&(v.pagination.el=p),m.init(),m.render(),m.update()),i&&(d&&(v.scrollbar.el=d),y.init(),y.updateSize(),y.setTranslate()),a&&(l&&(v.navigation.nextEl=l),f&&(v.navigation.prevEl=f),g.init(),g.update()),c.includes("allowSlideNext")&&(o.allowSlideNext=u.allowSlideNext),c.includes("allowSlidePrev")&&(o.allowSlidePrev=u.allowSlidePrev),c.includes("direction")&&o.changeDirection(u.direction,!1),o.update()}function cg(t,n){return"undefined"===typeof window?(0,e.useEffect)(t,n):(0,e.useLayoutEffect)(t,n)}var lg=(0,e.createContext)(null),fg=(0,e.createContext)(null),dg=["className","tag","wrapperTag","children","onSwiper"];function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pg.apply(this,arguments)}var hg=(0,e.forwardRef)((function(t,n){var r=void 0===t?{}:t,i=r.className,a=r.tag,o=void 0===a?"div":a,s=r.wrapperTag,u=void 0===s?"div":s,c=r.children,l=r.onSwiper,f=(0,p.Z)(r,dg),h=!1,v=(0,e.useState)("swiper"),m=(0,G.Z)(v,2),g=m[0],y=m[1],b=(0,e.useState)(null),x=(0,G.Z)(b,2),k=x[0],w=x[1],_=(0,e.useState)(!1),S=(0,G.Z)(_,2),T=S[0],C=S[1],O=(0,e.useRef)(!1),A=(0,e.useRef)(null),I=(0,e.useRef)(null),R=(0,e.useRef)(null),N=(0,e.useRef)(null),P=(0,e.useRef)(null),M=(0,e.useRef)(null),D=(0,e.useRef)(null),L=(0,e.useRef)(null),j=function(e,t){void 0===e&&(e={}),void 0===t&&(t=!0);var n={on:{}},r={},i={};$m(n,Ym.defaults),$m(n,Ym.extendedDefaults),n._emitClasses=!0,n.init=!1;var a={},o=ig.map((function(e){return e.replace(/_/,"")})),s=Object.assign({},e);return Object.keys(s).forEach((function(s){"undefined"!==typeof e[s]&&(o.indexOf(s)>=0?Jm(e[s])?(n[s]={},i[s]={},$m(n[s],e[s]),$m(i[s],e[s])):(n[s]=e[s],i[s]=e[s]):0===s.search(/on[A-Z]/)&&"function"===typeof e[s]?t?r["".concat(s[2].toLowerCase()).concat(s.substr(3))]=e[s]:n.on["".concat(s[2].toLowerCase()).concat(s.substr(3))]=e[s]:a[s]=e[s])})),["navigation","pagination","scrollbar"].forEach((function(e){!0===n[e]&&(n[e]={}),!1===n[e]&&delete n[e]})),{params:n,passedParams:i,rest:a,events:r}}(f),F=j.params,Z=j.passedParams,B=j.rest,U=j.events,V=sg(c),z=V.slides,W=V.slots,H=function(){C(!T)};Object.assign(F.on,{_containerClasses:function(e,t){y(t)}});var q=function(){if(Object.assign(F.on,U),h=!0,I.current=new Ym(F),I.current.loopCreate=function(){},I.current.loopDestroy=function(){},F.loop&&(I.current.loopedSlides=ag(z,F)),I.current.virtual&&I.current.params.virtual.enabled){I.current.virtual.slides=z;var e={cache:!1,slides:z,renderExternal:w,renderExternalUpdate:!1};$m(I.current.params.virtual,e),$m(I.current.originalParams.virtual,e)}};A.current||q(),I.current&&I.current.on("_beforeBreakpoint",H);return(0,e.useEffect)((function(){return function(){I.current&&I.current.off("_beforeBreakpoint",H)}})),(0,e.useEffect)((function(){!O.current&&I.current&&(I.current.emitSlidesClasses(),O.current=!0)})),cg((function(){if(n&&(n.current=A.current),A.current)return I.current.destroyed&&q(),function(e,t){var n=e.el,r=e.nextEl,i=e.prevEl,a=e.paginationEl,o=e.scrollbarEl,s=e.swiper;eg(t)&&r&&i&&(s.params.navigation.nextEl=r,s.originalParams.navigation.nextEl=r,s.params.navigation.prevEl=i,s.originalParams.navigation.prevEl=i),tg(t)&&a&&(s.params.pagination.el=a,s.originalParams.pagination.el=a),ng(t)&&o&&(s.params.scrollbar.el=o,s.originalParams.scrollbar.el=o),s.init(n)}({el:A.current,nextEl:P.current,prevEl:M.current,paginationEl:D.current,scrollbarEl:L.current,swiper:I.current},F),l&&l(I.current),function(){I.current&&!I.current.destroyed&&I.current.destroy(!0,!1)}}),[]),cg((function(){!h&&U&&I.current&&Object.keys(U).forEach((function(e){I.current.on(e,U[e])}));var e=function(e,t,n,r,i){var a=[];if(!t)return a;var o=function(e){a.indexOf(e)<0&&a.push(e)};if(n&&r){var s=r.map(i),u=n.map(i);s.join("")!==u.join("")&&o("children"),r.length!==n.length&&o("children")}var c=ig.filter((function(e){return"_"===e[0]})).map((function(e){return e.replace(/_/,"")}));return c.forEach((function(n){if(n in e&&n in t)if(Jm(e[n])&&Jm(t[n])){var r=Object.keys(e[n]),i=Object.keys(t[n]);r.length!==i.length?o(n):(r.forEach((function(r){e[n][r]!==t[n][r]&&o(n)})),i.forEach((function(r){e[n][r]!==t[n][r]&&o(n)})))}else e[n]!==t[n]&&o(n)})),a}(Z,R.current,z,N.current,(function(e){return e.key}));return R.current=Z,N.current=z,e.length&&I.current&&!I.current.destroyed&&ug({swiper:I.current,slides:z,passedParams:Z,changedParams:e,nextEl:P.current,prevEl:M.current,scrollbarEl:L.current,paginationEl:D.current}),function(){U&&I.current&&Object.keys(U).forEach((function(e){I.current.off(e,U[e])}))}})),cg((function(){var e;!(e=I.current)||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())}),[k]),e.createElement(o,pg({ref:A,className:rg("".concat(g).concat(i?" ".concat(i):""))},B),e.createElement(fg.Provider,{value:I.current},W["container-start"],e.createElement(u,{className:"swiper-wrapper"},W["wrapper-start"],F.virtual?function(t,n,r){if(!r)return null;var i=t.isHorizontal()?(0,d.Z)({},t.rtlTranslate?"right":"left","".concat(r.offset,"px")):{top:"".concat(r.offset,"px")};return n.filter((function(e,t){return t>=r.from&&t<=r.to})).map((function(n){return e.cloneElement(n,{swiper:t,style:i})}))}(I.current,z,k):!F.loop||I.current&&I.current.destroyed?z.map((function(t){return e.cloneElement(t,{swiper:I.current})})):function(t,n,r){var i=n.map((function(n,r){return e.cloneElement(n,{swiper:t,"data-swiper-slide-index":r})}));function a(t,n,i){return e.cloneElement(t,{key:"".concat(t.key,"-duplicate-").concat(n,"-").concat(i),className:"".concat(t.props.className||""," ").concat(r.slideDuplicateClass)})}if(r.loopFillGroupWithBlank){var o=r.slidesPerGroup-i.length%r.slidesPerGroup;if(o!==r.slidesPerGroup)for(var s=0;s<o;s+=1){var u=e.createElement("div",{className:"".concat(r.slideClass," ").concat(r.slideBlankClass)});i.push(u)}}"auto"!==r.slidesPerView||r.loopedSlides||(r.loopedSlides=i.length);var c=ag(i,r),l=[],f=[];return i.forEach((function(e,t){t<c&&f.push(a(e,t,"prepend")),t<i.length&&t>=i.length-c&&l.push(a(e,t,"append"))})),t&&(t.loopedSlides=c),[].concat(l,(0,E.Z)(i),f)}(I.current,z,F),W["wrapper-end"]),eg(F)&&e.createElement(e.Fragment,null,e.createElement("div",{ref:M,className:"swiper-button-prev"}),e.createElement("div",{ref:P,className:"swiper-button-next"})),ng(F)&&e.createElement("div",{ref:L,className:"swiper-scrollbar"}),tg(F)&&e.createElement("div",{ref:D,className:"swiper-pagination"}),W["container-end"]))}));hg.displayName="Swiper";var vg=["tag","children","className","swiper","zoom","virtualIndex"];function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mg.apply(this,arguments)}var gg=(0,e.forwardRef)((function(t,n){var r=void 0===t?{}:t,i=r.tag,a=void 0===i?"div":i,o=r.children,s=r.className,u=void 0===s?"":s,c=r.swiper,l=r.zoom,f=r.virtualIndex,d=(0,p.Z)(r,vg),h=(0,e.useRef)(null),v=(0,e.useState)("swiper-slide"),m=(0,G.Z)(v,2),g=m[0],y=m[1];function b(e,t,n){t===h.current&&y(n)}cg((function(){if(n&&(n.current=h.current),h.current&&c){if(!c.destroyed)return c.on("_slideClass",b),function(){c&&c.off("_slideClass",b)};"swiper-slide"!==g&&y("swiper-slide")}})),cg((function(){c&&h.current&&!c.destroyed&&y(c.getSlideClasses(h.current))}),[c]);var x={isActive:g.indexOf("swiper-slide-active")>=0||g.indexOf("swiper-slide-duplicate-active")>=0,isVisible:g.indexOf("swiper-slide-visible")>=0,isDuplicate:g.indexOf("swiper-slide-duplicate")>=0,isPrev:g.indexOf("swiper-slide-prev")>=0||g.indexOf("swiper-slide-duplicate-prev")>=0,isNext:g.indexOf("swiper-slide-next")>=0||g.indexOf("swiper-slide-duplicate-next")>=0},k=function(){return"function"===typeof o?o(x):o};return e.createElement(a,mg({ref:h,className:rg("".concat(g).concat(u?" ".concat(u):"")),"data-swiper-slide-index":f},d),e.createElement(lg.Provider,{value:x},l?e.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"===typeof l?l:void 0},k()):k()))}));gg.displayName="SwiperSlide";var yg=k((function(e){return{participantContainer:{background:e.galleryViewBackgroundColor,position:"absolute",top:0,right:0,bottom:0,left:0,height:"100%","& .swiper":{height:"100%","--swiper-pagination-bullet-inactive-color":"white"},"& .swiper-wrapper":{height:"100%"},"& .swiper-pagination.swiper-pagination-bullets":{bottom:"5px"}},isPaginationActive:{"& .swiper-slide":{height:"calc(100% - 21px)",paddingBottom:"21px"}},swiperSlide:{display:"flex",flexWrap:"wrap",alignSelf:"center",alignContent:"flex-start"}}}));function bg(){var e=yg(),t=Sd("screen and (orientation: landscape)"),n=Fs().room,r=Hv().mobileGalleryViewParticipants,i=Uv(!0),a=r.length,o=[[]];o[0].push(n.localParticipant);for(var s=0;s<a;s++){var u=Math.floor(s/6);o[u]||(o[u]=[]),o[u].length<6?o[u].push(r[s]):o[u+1]=[r[s]]}var c={width:a<3?"100%":"50%",height:["100%","50%","33.33%","50%","33.33%"][Math.min(a,4)],padding:"0.2em",boxSizing:"border-box"},l={height:a<3?"100%":"50%",width:["100%","50%","33.33%","50%","33.33%"][Math.min(a,4)],padding:"0.2em 0.1em",boxSizing:"border-box"};return(0,is.jsx)("div",{className:(0,h.Z)(e.participantContainer,(0,d.Z)({},e.isPaginationActive,a>5)),children:(0,is.jsx)(hg,{pagination:!0,modules:[Qm],className:"mySwiper",children:o.map((function(r,a){return(0,is.jsx)(gg,{className:e.swiperSlide,children:r.map((function(e){return(0,is.jsx)("div",{"data-test-id":"participantContainer",style:t?l:c,children:(0,is.jsx)(Zv,{participant:e,isLocalParticipant:n.localParticipant===e,isDominantSpeaker:i===e})},e.sid)}))},a)}))})})}var xg=k((function(e){return{container:{position:"relative",display:"flex",alignItems:"center"},identity:{background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"0.1em 0.3em 0.1em 0",display:"inline-flex","& svg":{marginLeft:"0.3em"},marginRight:"0.4em",alignItems:"center"},infoContainer:{position:"absolute",zIndex:2,height:"100%",width:"100%"},reconnectingContainer:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(40, 42, 43, 0.75)",zIndex:1},fullWidth:(0,d.Z)({gridArea:"1 / 1 / 2 / 3"},e.breakpoints.down("sm"),{gridArea:"1 / 1 / 3 / 3"}),avatarContainer:{display:"flex",alignItems:"center",justifyContent:"center",background:"black",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1,"& svg":{transform:"scale(2)"}},recordingIndicator:(0,d.Z)({position:"absolute",bottom:0,display:"flex",alignItems:"center",background:"rgba(0, 0, 0, 0.5)",color:"white",padding:"0.1em 0.3em 0.1em 0",fontSize:"1.2rem",height:"28px"},e.breakpoints.down("sm"),{bottom:"auto",right:0,top:0}),circle:{height:"12px",width:"12px",background:"red",borderRadius:"100%",margin:"0 0.6em",animation:"1.25s $pulsate ease-out infinite"},"@keyframes pulsate":{"0%":{background:"#A90000"},"50%":{background:"#f00"},"100%":{background:"#A90000"}}}}));function kg(e){var t=e.participant,n=e.children,r=xg(),i=Fs().room.localParticipant,a=i===t,o=vp(),s=o&&o!==i,u=Rv(t),c=u.find((function(e){return!e.trackName.includes("screen")&&"video"===e.kind})),l=u.find((function(e){return e.trackName.includes("screen")})),f=Nv(l||c),p=Boolean(f),v=Nv(u.find((function(e){return"audio"===e.kind}))),m=Iv(f),g=Pv(t),y=np();return(0,is.jsxs)("div",{"data-cy-main-participant":!0,"data-cy-participant":t.identity,className:(0,h.Z)(r.container,(0,d.Z)({},r.fullWidth,!s)),children:[(0,is.jsxs)("div",{className:r.infoContainer,children:[(0,is.jsxs)("div",{style:{display:"flex"},children:[(0,is.jsxs)("div",{className:r.identity,children:[(0,is.jsx)(bc,{audioTrack:v}),(0,is.jsxs)(Zu,{variant:"body1",color:"inherit",children:[t.identity,a&&" (You)",l&&" - Screen"]})]}),(0,is.jsx)(Cv,{participant:t})]}),y&&(0,is.jsx)(hd,{title:"All participants' audio and video is currently being recorded. Visit the app settings to stop recording.",placement:"top",children:(0,is.jsxs)("div",{className:r.recordingIndicator,children:[(0,is.jsx)("div",{className:r.circle}),(0,is.jsx)(Zu,{variant:"body1",color:"inherit","data-cy-recording-indicator":!0,children:"Recording"})]})})]}),(!p||m)&&(0,is.jsx)("div",{className:r.avatarContainer,children:(0,is.jsx)(Tp,{})}),g&&(0,is.jsx)("div",{className:r.reconnectingContainer,children:(0,is.jsx)(Zu,{variant:"body1",style:{color:"white"},children:"Reconnecting..."})}),n]})}function wg(){var e=cs(),t=(0,G.Z)(e,1)[0],n=vp(),r=Uv(),i=op(),a=Fs().room,o=null===a||void 0===a?void 0:a.localParticipant;return t||(n!==o?n:null)||r||i[0]||o}function _g(){var e=wg(),t=Fs().room.localParticipant,n=cs(),r=(0,G.Z)(n,1)[0],i=vp(),a=e!==r&&e!==i||e===t?null:"high";return(0,is.jsx)(kg,{participant:e,children:(0,is.jsx)(jv,{participant:e,videoOnly:!0,enableScreenShare:e!==t,videoPriority:a,isLocalParticipant:e===t})})}function Sg(t){var n=t.track,r=ss().activeSinkId,i=(0,e.useRef)();return(0,e.useEffect)((function(){return i.current=n.attach(),i.current.setAttribute("data-cy-audio-track-name",n.name),document.body.appendChild(i.current),function(){return n.detach().forEach((function(e){e.remove(),e.srcObject=null}))}}),[n]),(0,e.useEffect)((function(){var e,t;null===(e=i.current)||void 0===e||null===(t=e.setSinkId)||void 0===t||t.call(e,r)}),[r]),null}function Tg(t){var n=function(t){var n=(0,e.useState)([]),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){var e=Array.from(t.tracks.values()).filter((function(e){return null!==e.track})).map((function(e){return e.track}));a(e);var n=function(e){return a((function(t){return[].concat((0,E.Z)(t),[e])}))},r=function(e){return a((function(t){return t.filter((function(t){return t!==e}))}))};return t.on("trackSubscribed",n),t.on("trackUnsubscribed",r),function(){t.off("trackSubscribed",n),t.off("trackUnsubscribed",r)}}),[t]),i}(t.participant),r=n.find((function(e){return"audio"===e.kind}));return"audio"===(null===r||void 0===r?void 0:r.kind)?(0,is.jsx)(Sg,{track:r}):null}function Eg(){var e=op();return(0,is.jsx)(is.Fragment,{children:e.map((function(e){return(0,is.jsx)(Tg,{participant:e},e.sid)}))})}var Cg=k((function(e){return{container:(0,d.Z)({overflowY:"auto",background:"rgb(79, 83, 85)",gridArea:"1 / 2 / 1 / 3",zIndex:5},e.breakpoints.down("sm"),{gridArea:"2 / 1 / 3 / 3",overflowY:"initial",overflowX:"auto",display:"flex"}),transparentBackground:{background:"transparent"},scrollContainer:{display:"flex",justifyContent:"center"},innerScrollContainer:(0,d.Z)({width:"calc(".concat(e.sidebarWidth,"px - 3em)"),padding:"1.5em 0"},e.breakpoints.down("sm"),{width:"auto",padding:"".concat(e.sidebarMobilePadding,"px"),display:"flex"})}}));function Og(){var e=Cg(),t=Fs().room.localParticipant,n=Hv().speakerViewParticipants,r=cs(),i=(0,G.Z)(r,2),a=i[0],o=i[1],s=vp(),u=wg(),c=s&&s!==t;return 0===n.length?null:(0,is.jsx)("aside",{className:(0,h.Z)(e.container,(0,d.Z)({},e.transparentBackground,!c)),children:(0,is.jsx)("div",{className:e.scrollContainer,children:(0,is.jsxs)("div",{className:e.innerScrollContainer,children:[(0,is.jsx)(Zv,{participant:t,isLocalParticipant:!0}),n.map((function(e){var t=e===u&&e!==s&&!(e===a);return(0,is.jsx)(Zv,{participant:e,isSelected:e===a,onClick:function(){return o(e)},hideParticipant:t},e.sid)}))]})})})}var Ag=k((function(e){var t="".concat(e.sidebarMobileHeight+2*e.sidebarMobilePadding+e.participantBorderWidth,"px");return{container:(0,d.Z)({position:"relative",height:"100%",display:"grid",gridTemplateColumns:"1fr ".concat(e.sidebarWidth,"px"),gridTemplateRows:"100%"},e.breakpoints.down("sm"),{gridTemplateColumns:"100%",gridTemplateRows:"calc(100% - ".concat(t,") ").concat(t)}),rightDrawerOpen:{gridTemplateColumns:"1fr ".concat(e.sidebarWidth,"px ").concat(e.rightDrawerWidth,"px")}}}));function Ig(){var t=Ag(),n=tp().isChatWindowOpen,r=Fs(),i=r.isBackgroundSelectionOpen,a=r.room,o=ss(),s=o.isGalleryViewActive,u=o.setIsGalleryViewActive,c=Sd(bu().breakpoints.down("sm"));return function(t,n,r,i){var a=(0,e.useRef)(i);(0,e.useEffect)((function(){a.current=i}),[i]),(0,e.useEffect)((function(){if(t&&t!==n.localParticipant){var e=a.current;return r(!1),function(){e&&r(e)}}}),[t,r,n])}(vp(),a,u,s),(0,is.jsxs)("div",{className:(0,h.Z)(t.container,(0,d.Z)({},t.rightDrawerOpen,n||i)),children:[(0,is.jsx)(Eg,{}),s?c?(0,is.jsx)(bg,{}):(0,is.jsx)(Kv,{}):(0,is.jsxs)(is.Fragment,{children:[(0,is.jsx)(_g,{}),(0,is.jsx)(Og,{})]}),(0,is.jsx)(pv,{}),(0,is.jsx)(Bh,{})]})}var Rg=x("div")({display:"grid",gridTemplateRows:"1fr auto"}),Ng=x("main")((function(e){var t=e.theme;return(0,d.Z)({overflow:"hidden",paddingBottom:"".concat(t.footerHeight,"px"),background:"black"},t.breakpoints.down("sm"),{paddingBottom:"".concat(t.mobileFooterHeight+t.mobileTopBarHeight,"px")})}));function Pg(){var t=sp(),n=function(){var t,n=(0,e.useState)(window.innerHeight*((null===(t=window.visualViewport)||void 0===t?void 0:t.scale)||1)),r=(0,G.Z)(n,2),i=r[0],a=r[1];return(0,e.useEffect)((function(){var e=function(){var e;a(window.innerHeight*((null===(e=window.visualViewport)||void 0===e?void 0:e.scale)||1))};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}})),i+"px"}();return(0,is.jsx)(Rg,{style:{height:n},children:"disconnected"===t?(0,is.jsx)(kh,{}):(0,is.jsxs)(Ng,{children:[(0,is.jsx)(wh,{}),(0,is.jsx)(_h,{}),(0,is.jsx)(kp,{}),(0,is.jsx)(Ig,{}),(0,is.jsx)(bp,{})]})})}var Mg=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=po(e.props),e}return(0,A.Z)(n,t),n.prototype.render=function(){return e.createElement(Mo,{history:this.history,children:this.props.children})},n}(e.Component);e.Component;var Dg=function(e,t){return"function"===typeof e?e(t):e},Lg=function(e,t){return"string"===typeof e?ao(e,null,null,t):e},jg=function(e){return e},Fg=e.forwardRef;"undefined"===typeof Fg&&(Fg=jg);var Zg=Fg((function(t,n){var i=t.innerRef,a=t.navigate,o=t.onClick,s=(0,C.Z)(t,["innerRef","navigate","onClick"]),u=s.target,c=(0,r.Z)({},s,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),a())}});return c.ref=jg!==Fg&&n||i,e.createElement("a",c)}));var Bg=Fg((function(t,n){var i=t.component,a=void 0===i?Zg:i,o=t.replace,s=t.to,u=t.innerRef,c=(0,C.Z)(t,["component","replace","to","innerRef"]);return e.createElement(Po.Consumer,null,(function(t){t||$a(!1);var i=t.history,l=Lg(Dg(s,t.location),t.location),f=l?i.createHref(l):"",d=(0,r.Z)({},c,{href:f,navigate:function(){var e=Dg(s,t.location),n=io(t.location)===io(Lg(e));(o||n?i.replace:i.push)(e)}});return jg!==Fg?d.ref=n||u:d.innerRef=u,e.createElement(a,d)}))})),Ug=function(e){return e},Vg=e.forwardRef;"undefined"===typeof Vg&&(Vg=Ug);Vg((function(t,n){var i=t["aria-current"],a=void 0===i?"page":i,o=t.activeClassName,s=void 0===o?"active":o,u=t.activeStyle,c=t.className,l=t.exact,f=t.isActive,d=t.location,p=t.sensitive,h=t.strict,v=t.style,m=t.to,g=t.innerRef,y=(0,C.Z)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e.createElement(Po.Consumer,null,(function(t){t||$a(!1);var i=d||t.location,o=Lg(Dg(m,i),i),b=o.pathname,x=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=x?Vo(i.pathname,{path:x,exact:l,sensitive:p,strict:h}):null,w=!!(f?f(k,i):k),_="function"===typeof c?c(w):c,S="function"===typeof v?v(w):v;w&&(_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(_,s),S=(0,r.Z)({},S,u));var T=(0,r.Z)({"aria-current":w&&a||null,className:_,style:S,to:o},y);return Ug!==Vg?T.ref=n||g:T.innerRef=g,e.createElement(Bg,T)}))}));var zg,Wg,Hg,Gg=function(e){var t=e.dismissError,n=e.error,r=n||{},i=r.message,a=r.code,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(!0){case 20101===(arguments.length>1?arguments[1]:void 0):return e+". Please make sure you are using the correct credentials.";case"Permission denied by system"===e:return"Unable to share your screen. Please make sure that your operating system has the correct permissions enabled for screen sharing.";default:return e}}(i,a);return(0,is.jsxs)(Nu,{open:null!==n,onClose:function(){return t()},fullWidth:!0,maxWidth:"xs",children:[(0,is.jsx)(zu,{children:"ERROR"}),(0,is.jsxs)(Lu,{children:[(0,is.jsx)(Uu,{children:o}),Boolean(a)&&(0,is.jsx)("pre",{children:(0,is.jsxs)("code",{children:["Error Code: ",a]})})]}),(0,is.jsx)(Mu,{children:(0,is.jsx)(H,{onClick:function(){return t()},color:"primary",autoFocus:!0,children:"OK"})})]})},qg=n(80996),Kg=["title","titleId"];function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yg.apply(this,arguments)}function Xg(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qg(t,n){var r=t.title,i=t.titleId,a=Xg(t,Kg);return e.createElement("svg",Yg({width:"32px",height:"32px",viewBox:"7 7 32 32",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:n,"aria-labelledby":i},a),void 0===r?e.createElement("title",{id:i},"btn_google_light_normal_ios"):r?e.createElement("title",{id:i},r):null,zg||(zg=e.createElement("desc",null,"Created with Sketch.")),Wg||(Wg=e.createElement("defs",null,e.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},e.createElement("feOffset",{dx:0,dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),e.createElement("feGaussianBlur",{stdDeviation:.5,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),e.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),e.createElement("feOffset",{dx:0,dy:0,in:"SourceAlpha",result:"shadowOffsetOuter2"}),e.createElement("feGaussianBlur",{stdDeviation:.5,in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),e.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),e.createElement("feMerge",null,e.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),e.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),e.createElement("feMergeNode",{in:"SourceGraphic"}))),e.createElement("rect",{id:"path-2",x:0,y:0,width:40,height:40,rx:2}))),Hg||(Hg=e.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},e.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -160.000000)"}),e.createElement("g",{id:"btn_google_light_normal",transform:"translate(-1.000000, -1.000000)"},e.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},e.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),e.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),e.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),e.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),e.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),e.createElement("g",{id:"handles_square"})))))}var Jg=e.forwardRef(Qg),$g=(n.p,k((function(e){var t;return{googleButton:(t={background:"white",color:"rgb(0, 94, 166)",borderRadius:"4px",border:"2px solid rgb(2, 122, 197)",margin:"1.8em 0 0.7em",textTransform:"none",boxShadow:"none",padding:"0.3em 1em"},(0,d.Z)(t,e.breakpoints.down("sm"),{width:"100%"}),(0,d.Z)(t,"&:hover",{background:"white",boxShadow:"none"}),t),errorMessage:{color:"red",display:"flex",alignItems:"center",margin:"1em 0 0.2em","& svg":{marginRight:"0.4em"}},gutterBottom:{marginBottom:"1em"},passcodeContainer:{minHeight:"120px"},submitButton:(0,d.Z)({},e.breakpoints.down("sm"),{width:"100%"})}})));function ey(){var t=$g(),n=ss(),r=n.signIn,i=n.user,a=n.isAuthReady,o=Qo(),s=Jo(),u=(0,e.useState)(""),c=(0,G.Z)(u,2),l=c[0],f=c[1],d=(0,e.useState)(null),p=(0,G.Z)(d,2),h=p[0],v=p[1],m=Boolean({NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_SET_AUTH),g=function(){v(null),null===r||void 0===r||r(l).then((function(){var e;o.replace((null===s||void 0===s||null===(e=s.state)||void 0===e?void 0:e.from)||{pathname:"/"})})).catch((function(e){return v(e)}))};return!i&&m||o.replace("/"),a?(0,is.jsxs)(rh,{children:["firebase"==={NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_SET_AUTH&&(0,is.jsxs)(is.Fragment,{children:[(0,is.jsx)(Zu,{variant:"h5",className:t.gutterBottom,children:"Sign in to join a room"}),(0,is.jsx)(Zu,{variant:"body1",children:"Sign in using your Twilio Google Account"}),(0,is.jsx)(H,{variant:"contained",className:t.googleButton,onClick:g,startIcon:(0,is.jsx)(Jg,{}),children:"Sign in with Google"})]}),"passcode"==={NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_SET_AUTH&&(0,is.jsxs)(is.Fragment,{children:[(0,is.jsx)(Zu,{variant:"h5",className:t.gutterBottom,children:"Enter passcode to join a room"}),(0,is.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g()},children:[(0,is.jsx)(Tc,{container:!0,justifyContent:"space-between",children:(0,is.jsxs)("div",{className:t.passcodeContainer,children:[(0,is.jsx)(Np,{shrink:!0,htmlFor:"input-passcode",children:"Passcode"}),(0,is.jsx)(jp,{id:"input-passcode",onChange:function(e){return f(e.target.value)},type:"password",variant:"outlined",size:"small"}),(0,is.jsx)("div",{children:h&&(0,is.jsxs)(Zu,{variant:"caption",className:t.errorMessage,children:[(0,is.jsx)(qg.Z,{}),h.message]})})]})}),(0,is.jsx)(Tc,{container:!0,justifyContent:"flex-end",children:(0,is.jsx)(H,{variant:"contained",color:"primary",type:"submit",disabled:!l.length,className:t.submitButton,children:"Submit"})})]})]})]}):null}var ty=["children"];function ny(e){var t=e.children,n=(0,p.Z)(e,ty),r=ss(),i=r.isAuthReady,a=r.user||!{NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_SET_AUTH;return a||i?(0,is.jsx)(zo,X(X({},n),{},{render:function(e){var n=e.location;return a?t:(0,is.jsx)(Zo,{to:{pathname:"/login",state:{from:n}}})}})):null}var ry=n(73691),iy=(0,ry.Z)(),ay=(0,ry.Z)({overrides:{MuiCssBaseline:{"@global":{"html, body, #root":{height:"100%"}}},MuiButton:{root:{borderRadius:"4px",textTransform:"none",color:"rgb(40, 42, 43)",fontSize:"0.9rem",transition:iy.transitions.create(["background-color","box-shadow","border","color"],{duration:iy.transitions.duration.short})},text:{padding:"6px 14px"},contained:{boxShadow:"none","&:hover":{boxShadow:"none"}},outlinedPrimary:{border:"2px solid #027AC5","&:hover":{border:"2px solid rgb(1, 85, 137)"}},startIcon:{marginRight:"6px"}},MuiTypography:{body1:{color:"rgb(40, 42, 43)",fontSize:"0.9rem"}},MuiInputBase:{root:{fontSize:"0.9rem"}},MuiSelect:{root:{padding:"0.85em"}},MuiDialogActions:{root:{padding:"16px"}},MuiTextField:{root:{color:"rgb(40, 42, 43)"}},MuiInputLabel:{root:{color:"rgb(40, 42, 43)",fontSize:"1.1rem",marginBottom:"0.2em",fontWeight:500}},MuiOutlinedInput:{notchedOutline:{borderColor:"rgb(136, 140, 142)"}},MuiSwitch:{root:{width:42,height:18,padding:0,display:"flex",marginRight:"0.5em"},switchBase:{padding:2,color:"#FFFFFF","&$checked":{transform:"translateX(18px)",top:"50%",marginTop:-12,"&$disabled":{"& + $track":{opacity:"0.5"}}}},colorSecondary:{"&$checked":{color:"FFFFF"}},thumb:{width:14,height:14,boxShadow:"none"},track:{borderRadius:8,opacity:1,backgroundColor:"#E1E3EA","$checked$checked + &":{opacity:1,backgroundColor:"#14B053"}}}},typography:{fontFamily:"Inter, sans-serif"},palette:{primary:{main:"#027AC5"}},brand:"#E22525",footerHeight:72,mobileFooterHeight:56,sidebarWidth:300,sidebarMobileHeight:90,sidebarMobilePadding:8,participantBorderWidth:2,mobileTopBarHeight:52,rightDrawerWidth:320,galleryViewBackgroundColor:"#121C2D"});var oy=e.forwardRef((function(t,n){var i=t.classes,a=t.className,o=t.component,s=void 0===o?"div":o,u=t.disableGutters,c=void 0!==u&&u,l=t.fixed,f=void 0!==l&&l,d=t.maxWidth,v=void 0===d?"lg":d,m=(0,p.Z)(t,["classes","className","component","disableGutters","fixed","maxWidth"]);return e.createElement(s,(0,r.Z)({className:(0,h.Z)(i.root,a,f&&i.fixed,c&&i.disableGutters,!1!==v&&i["maxWidth".concat((0,z.Z)(String(v)))]),ref:n},m))})),sy=(0,i.Z)((function(e){return{root:(0,d.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,n){var r=e.breakpoints.values[n];return 0!==r&&(t[e.breakpoints.up(n)]={maxWidth:r}),t}),{}),maxWidthXs:(0,d.Z)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:(0,d.Z)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:(0,d.Z)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:(0,d.Z)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:(0,d.Z)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(oy),uy=k({container:{marginTop:"2.5em"},paper:{padding:"1em"},heading:{marginBottom:"0.4em"}});function cy(e){var t=e.children,n=uy();return Ps().isSupported?t:(0,is.jsx)(sy,{children:(0,is.jsx)(Tc,{container:!0,justifyContent:"center",className:n.container,children:(0,is.jsx)(Tc,{item:!0,xs:12,sm:6,children:(0,is.jsxs)(Au,{className:n.paper,children:[(0,is.jsx)(Zu,{variant:"h4",className:n.heading,children:"Browser or context not supported"}),(0,is.jsxs)(Zu,{children:["Please open this application in one of the"," ",(0,is.jsx)(qp,{href:"https://www.twilio.com/docs/video/javascript#supported-browsers",target:"_blank",rel:"noopener",children:"supported browsers"}),".",(0,is.jsx)("br",{}),"If you are using a supported browser, please ensure that this app is served over a"," ",(0,is.jsx)(qp,{href:"https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts",target:"_blank",rel:"noopener",children:"secure context"})," ","(e.g. https or localhost)."]})]})})})})}var ly=function(){var e=ss(),t=e.error,n=e.setError,r=function(){var e,t=ss().settings,n={bandwidthProfile:{video:{mode:t.bandwidthProfileMode,dominantSpeakerPriority:t.dominantSpeakerPriority,trackSwitchOffMode:t.trackSwitchOffMode,contentPreferencesMode:t.contentPreferencesMode,clientTrackSwitchOffControl:t.clientTrackSwitchOffControl}},dominantSpeaker:!0,networkQuality:{local:1,remote:1},maxAudioBitrate:Number(t.maxAudioBitrate),preferredVideoCodecs:"auto",environment:{NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_TWILIO_ENVIRONMENT};return oe&&null!==n&&void 0!==n&&null!==(e=n.bandwidthProfile)&&void 0!==e&&e.video&&(n.bandwidthProfile.video.maxSubscriptionBitrate=25e5),"dev"==={NODE_ENV:"production",PUBLIC_URL:"/video-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DISABLE_TWILIO_CONVERSATIONS:"true"}.REACT_APP_TWILIO_ENVIRONMENT&&(n.wsServer="wss://us2.vss.dev.twilio.com/signaling"),se(n)}();return(0,is.jsxs)(js,{options:r,onError:n,children:[(0,is.jsx)(Gg,{dismissError:function(){return n(null)},error:t}),(0,is.jsx)(Wv,{children:(0,is.jsx)(ep,{children:(0,is.jsx)(Pg,{})})})]})},fy=function(){return(0,is.jsxs)(f,{theme:ay,children:[(0,is.jsx)(s,{}),(0,is.jsx)(cy,{children:(0,is.jsx)(Mg,{children:(0,is.jsx)(os,{children:(0,is.jsxs)(Yo,{children:[(0,is.jsx)(ny,{exact:!0,path:"/",children:(0,is.jsx)(ly,{})}),(0,is.jsx)(ny,{path:"/room/:URLRoomName",children:(0,is.jsx)(ly,{})}),(0,is.jsx)(zo,{path:"/login",children:(0,is.jsx)(ey,{})}),(0,is.jsx)(Zo,{to:"/"})]})})})})]})};t.render((0,is.jsx)(fy,{}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.653c699f.js.map